window.$P=function(){};
/*!
 * jQuery JavaScript Library v1.11.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:42Z
 */
(function(b,a){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=b.document?a(b,true):function(c){if(!c.document){throw new Error("jQuery requires a window with a document")}return a(c)}}else{a(b)}}(typeof window!=="undefined"?window:this,function(a4,au){var aO=[];var O=aO.slice;var ay=aO.concat;var w=aO.push;var bT=aO.indexOf;var ab={};var x=ab.toString;var J=ab.hasOwnProperty;var C={};var ah="1.11.1",bH=function(e,i){return new bH.fn.init(e,i)},D=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bR=/^-ms-/,aV=/-([\da-z])/gi,N=function(e,i){return i.toUpperCase()};bH.fn=bH.prototype={jquery:ah,constructor:bH,selector:"",length:0,toArray:function(){return O.call(this)},get:function(e){return e!=null?(e<0?this[e+this.length]:this[e]):O.call(this)},pushStack:function(e){var i=bH.merge(this.constructor(),e);i.prevObject=this;i.context=this.context;return i},each:function(i,e){return bH.each(this,i,e)},map:function(e){return this.pushStack(bH.map(this,function(b6,b5){return e.call(b6,b5,b6)}))},slice:function(){return this.pushStack(O.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b6){var e=this.length,b5=+b6+(b6<0?e:0);return this.pushStack(b5>=0&&b5<e?[this[b5]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:w,sort:aO.sort,splice:aO.splice};bH.extend=bH.fn.extend=function(){var e,ca,b5,b6,cd,cb,b9=arguments[0]||{},b8=1,b7=arguments.length,cc=false;if(typeof b9==="boolean"){cc=b9;b9=arguments[b8]||{};b8++}if(typeof b9!=="object"&&!bH.isFunction(b9)){b9={}}if(b8===b7){b9=this;b8--}for(;b8<b7;b8++){if((cd=arguments[b8])!=null){for(b6 in cd){e=b9[b6];b5=cd[b6];if(b9===b5){continue}if(cc&&b5&&(bH.isPlainObject(b5)||(ca=bH.isArray(b5)))){if(ca){ca=false;cb=e&&bH.isArray(e)?e:[]}else{cb=e&&bH.isPlainObject(e)?e:{}}b9[b6]=bH.extend(cc,cb,b5)}else{if(b5!==undefined){b9[b6]=b5}}}}}return b9};bH.extend({expando:"jQuery"+(ah+Math.random()).replace(/\D/g,""),isReady:true,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return bH.type(e)==="function"},isArray:Array.isArray||function(e){return bH.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !bH.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(i){var e;for(e in i){return false}return true},isPlainObject:function(b6){var i;if(!b6||bH.type(b6)!=="object"||b6.nodeType||bH.isWindow(b6)){return false}try{if(b6.constructor&&!J.call(b6,"constructor")&&!J.call(b6.constructor.prototype,"isPrototypeOf")){return false}}catch(b5){return false}if(C.ownLast){for(i in b6){return J.call(b6,i)}}for(i in b6){}return i===undefined||J.call(b6,i)},type:function(e){if(e==null){return e+""}return typeof e==="object"||typeof e==="function"?ab[x.call(e)]||"object":typeof e},globalEval:function(e){if(e&&bH.trim(e)){(a4.execScript||function(i){a4["eval"].call(a4,i)})(e)}},camelCase:function(e){return e.replace(bR,"ms-").replace(aV,N)},nodeName:function(i,e){return i.nodeName&&i.nodeName.toLowerCase()===e.toLowerCase()},each:function(b9,ca,b5){var b8,b6=0,b7=b9.length,e=ac(b9);if(b5){if(e){for(;b6<b7;b6++){b8=ca.apply(b9[b6],b5);if(b8===false){break}}}else{for(b6 in b9){b8=ca.apply(b9[b6],b5);if(b8===false){break}}}}else{if(e){for(;b6<b7;b6++){b8=ca.call(b9[b6],b6,b9[b6]);if(b8===false){break}}}else{for(b6 in b9){b8=ca.call(b9[b6],b6,b9[b6]);if(b8===false){break}}}}return b9},trim:function(e){return e==null?"":(e+"").replace(D,"")},makeArray:function(e,b5){var i=b5||[];if(e!=null){if(ac(Object(e))){bH.merge(i,typeof e==="string"?[e]:e)}else{w.call(i,e)}}return i},inArray:function(b7,b5,b6){var e;if(b5){if(bT){return bT.call(b5,b7,b6)}e=b5.length;b6=b6?b6<0?Math.max(0,e+b6):b6:0;for(;b6<e;b6++){if(b6 in b5&&b5[b6]===b7){return b6}}}return -1},merge:function(b8,b6){var e=+b6.length,b5=0,b7=b8.length;while(b5<e){b8[b7++]=b6[b5++]}if(e!==e){while(b6[b5]!==undefined){b8[b7++]=b6[b5++]}}b8.length=b7;return b8},grep:function(e,cb,b8){var ca,b7=[],b5=0,b6=e.length,b9=!b8;for(;b5<b6;b5++){ca=!cb(e[b5],b5);if(ca!==b9){b7.push(e[b5])}}return b7},map:function(b6,cb,e){var ca,b8=0,b9=b6.length,b5=ac(b6),b7=[];if(b5){for(;b8<b9;b8++){ca=cb(b6[b8],b8,e);if(ca!=null){b7.push(ca)}}}else{for(b8 in b6){ca=cb(b6[b8],b8,e);if(ca!=null){b7.push(ca)}}}return ay.apply([],b7)},guid:1,proxy:function(b7,b6){var e,b5,i;if(typeof b6==="string"){i=b7[b6];b6=b7;b7=i}if(!bH.isFunction(b7)){return undefined}e=O.call(arguments,2);b5=function(){return b7.apply(b6||this,e.concat(O.call(arguments)))};b5.guid=b7.guid=b7.guid||bH.guid++;return b5},now:function(){return +(new Date())},support:C});bH.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b5,e){ab["[object "+e+"]"]=e.toLowerCase()});function ac(b5){var i=b5.length,e=bH.type(b5);if(e==="function"||bH.isWindow(b5)){return false}if(b5.nodeType===1&&i){return true}return e==="array"||i===0||typeof i==="number"&&i>0&&(i-1) in b5}var m=
/*!
 * Sizzle CSS Selector Engine v1.10.19
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-04-18
 */
(function(dd){var cw,dg,cm,cF,cI,cg,cU,df,dk,cG,cV,cX,cA,cn,c6,c1,de,cd,cD,c8="sizzle"+-(new Date()),cH=dd.document,dh=0,c2=0,b8=cy(),c7=cy(),cE=cy(),cC=function(i,e){if(i===e){cV=true}return 0},dc=typeof undefined,cO=1<<31,cM=({}).hasOwnProperty,da=[],db=da.pop,cK=da.push,b6=da.push,cl=da.slice,cc=da.indexOf||function(dm){var dl=0,e=this.length;for(;dl<e;dl++){if(this[dl]===dm){return dl}}return -1},b7="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",co="[\\x20\\t\\r\\n\\f]",b5="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cJ=b5.replace("w","w#"),c4="\\["+co+"*("+b5+")(?:"+co+"*([*^$|!~]?=)"+co+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+cJ+"))|)"+co+"*\\]",cj=":("+b5+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+c4+")*)|.*)\\)|)",cq=new RegExp("^"+co+"+|((?:^|[^\\\\])(?:\\\\.)*)"+co+"+$","g"),ct=new RegExp("^"+co+"*,"+co+"*"),cz=new RegExp("^"+co+"*([>+~]|"+co+")"+co+"*"),cs=new RegExp("="+co+"*([^\\]'\"]*?)"+co+"*\\]","g"),cQ=new RegExp(cj),cS=new RegExp("^"+cJ+"$"),c0={ID:new RegExp("^#("+b5+")"),CLASS:new RegExp("^\\.("+b5+")"),TAG:new RegExp("^("+b5.replace("w","w*")+")"),ATTR:new RegExp("^"+c4),PSEUDO:new RegExp("^"+cj),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+co+"*(even|odd|(([+-]|)(\\d*)n|)"+co+"*(?:([+-]|)"+co+"*(\\d+)|))"+co+"*\\)|)","i"),bool:new RegExp("^(?:"+b7+")$","i"),needsContext:new RegExp("^"+co+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+co+"*((?:-\\d)?\\d*)"+co+"*\\)|)(?=[^-]|$)","i")},cb=/^(?:input|select|textarea|button)$/i,ck=/^h\d$/i,cN=/^[^{]+\{\s*\[native \w/,cP=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,cZ=/[+~]/,cL=/'|\\/g,cr=new RegExp("\\\\([\\da-f]{1,6}"+co+"?|("+co+")|.)","ig"),c3=function(e,dm,i){var dl="0x"+dm-65536;return dl!==dl||i?dm:dl<0?String.fromCharCode(dl+65536):String.fromCharCode(dl>>10|55296,dl&1023|56320)};try{b6.apply((da=cl.call(cH.childNodes)),cH.childNodes);da[cH.childNodes.length].nodeType}catch(cB){b6={apply:da.length?function(i,e){cK.apply(i,cl.call(e))}:function(dn,dm){var e=dn.length,dl=0;while((dn[e++]=dm[dl++])){}dn.length=e-1}}}function cu(dt,dl,dx,dz){var dy,dq,dr,dv,dw,dp,dn,e,dm,du;if((dl?dl.ownerDocument||dl:cH)!==cA){cX(dl)}dl=dl||cA;dx=dx||[];if(!dt||typeof dt!=="string"){return dx}if((dv=dl.nodeType)!==1&&dv!==9){return[]}if(c6&&!dz){if((dy=cP.exec(dt))){if((dr=dy[1])){if(dv===9){dq=dl.getElementById(dr);if(dq&&dq.parentNode){if(dq.id===dr){dx.push(dq);return dx}}else{return dx}}else{if(dl.ownerDocument&&(dq=dl.ownerDocument.getElementById(dr))&&cD(dl,dq)&&dq.id===dr){dx.push(dq);return dx}}}else{if(dy[2]){b6.apply(dx,dl.getElementsByTagName(dt));return dx}else{if((dr=dy[3])&&dg.getElementsByClassName&&dl.getElementsByClassName){b6.apply(dx,dl.getElementsByClassName(dr));return dx}}}}if(dg.qsa&&(!c1||!c1.test(dt))){e=dn=c8;dm=dl;du=dv===9&&dt;if(dv===1&&dl.nodeName.toLowerCase()!=="object"){dp=cg(dt);if((dn=dl.getAttribute("id"))){e=dn.replace(cL,"\\$&")}else{dl.setAttribute("id",e)}e="[id='"+e+"'] ";dw=dp.length;while(dw--){dp[dw]=e+ch(dp[dw])}dm=cZ.test(dt)&&cR(dl.parentNode)||dl;du=dp.join(",")}if(du){try{b6.apply(dx,dm.querySelectorAll(du));return dx}catch(ds){}finally{if(!dn){dl.removeAttribute("id")}}}}}return df(dt.replace(cq,"$1"),dl,dx,dz)}function cy(){var i=[];function e(dl,dm){if(i.push(dl+" ")>cm.cacheLength){delete e[i.shift()]}return(e[dl+" "]=dm)}return e}function ci(e){e[c8]=true;return e}function ce(i){var dm=cA.createElement("div");try{return !!i(dm)}catch(dl){return false}finally{if(dm.parentNode){dm.parentNode.removeChild(dm)}dm=null}}function di(dl,dn){var e=dl.split("|"),dm=dl.length;while(dm--){cm.attrHandle[e[dm]]=dn}}function b9(i,e){var dm=e&&i,dl=dm&&i.nodeType===1&&e.nodeType===1&&(~e.sourceIndex||cO)-(~i.sourceIndex||cO);if(dl){return dl}if(dm){while((dm=dm.nextSibling)){if(dm===e){return -1}}}return i?1:-1}function cv(e){return function(dl){var i=dl.nodeName.toLowerCase();return i==="input"&&dl.type===e}}function ca(e){return function(dl){var i=dl.nodeName.toLowerCase();return(i==="input"||i==="button")&&dl.type===e}}function c5(e){return ci(function(i){i=+i;return ci(function(dl,dq){var dn,dm=e([],dl.length,i),dp=dm.length;while(dp--){if(dl[(dn=dm[dp])]){dl[dn]=!(dq[dn]=dl[dn])}}})})}function cR(e){return e&&typeof e.getElementsByTagName!==dc&&e}dg=cu.support={};cI=cu.isXML=function(e){var i=e&&(e.ownerDocument||e).documentElement;return i?i.nodeName!=="HTML":false};cX=cu.setDocument=function(dl){var e,dm=dl?dl.ownerDocument||dl:cH,i=dm.defaultView;if(dm===cA||dm.nodeType!==9||!dm.documentElement){return cA}cA=dm;cn=dm.documentElement;c6=!cI(dm);if(i&&i!==i.top){if(i.addEventListener){i.addEventListener("unload",function(){cX()},false)}else{if(i.attachEvent){i.attachEvent("onunload",function(){cX()})}}}dg.attributes=ce(function(dn){dn.className="i";return !dn.getAttribute("className")});dg.getElementsByTagName=ce(function(dn){dn.appendChild(dm.createComment(""));return !dn.getElementsByTagName("*").length});dg.getElementsByClassName=cN.test(dm.getElementsByClassName)&&ce(function(dn){dn.innerHTML="<div class='a'></div><div class='a i'></div>";dn.firstChild.className="i";return dn.getElementsByClassName("i").length===2});dg.getById=ce(function(dn){cn.appendChild(dn).id=c8;return !dm.getElementsByName||!dm.getElementsByName(c8).length});if(dg.getById){cm.find.ID=function(dq,dp){if(typeof dp.getElementById!==dc&&c6){var dn=dp.getElementById(dq);return dn&&dn.parentNode?[dn]:[]}};cm.filter.ID=function(dp){var dn=dp.replace(cr,c3);return function(dq){return dq.getAttribute("id")===dn}}}else{delete cm.find.ID;cm.filter.ID=function(dp){var dn=dp.replace(cr,c3);return function(dr){var dq=typeof dr.getAttributeNode!==dc&&dr.getAttributeNode("id");return dq&&dq.value===dn}}}cm.find.TAG=dg.getElementsByTagName?function(dn,dp){if(typeof dp.getElementsByTagName!==dc){return dp.getElementsByTagName(dn)}}:function(dn,ds){var dt,dr=[],dq=0,dp=ds.getElementsByTagName(dn);if(dn==="*"){while((dt=dp[dq++])){if(dt.nodeType===1){dr.push(dt)}}return dr}return dp};cm.find.CLASS=dg.getElementsByClassName&&function(dp,dn){if(typeof dn.getElementsByClassName!==dc&&c6){return dn.getElementsByClassName(dp)}};de=[];c1=[];if((dg.qsa=cN.test(dm.querySelectorAll))){ce(function(dn){dn.innerHTML="<select msallowclip=''><option selected=''></option></select>";if(dn.querySelectorAll("[msallowclip^='']").length){c1.push("[*^$]="+co+"*(?:''|\"\")")}if(!dn.querySelectorAll("[selected]").length){c1.push("\\["+co+"*(?:value|"+b7+")")}if(!dn.querySelectorAll(":checked").length){c1.push(":checked")}});ce(function(dp){var dn=dm.createElement("input");dn.setAttribute("type","hidden");dp.appendChild(dn).setAttribute("name","D");if(dp.querySelectorAll("[name=d]").length){c1.push("name"+co+"*[*^$|!~]?=")}if(!dp.querySelectorAll(":enabled").length){c1.push(":enabled",":disabled")}dp.querySelectorAll("*,:x");c1.push(",.*:")})}if((dg.matchesSelector=cN.test((cd=cn.matches||cn.webkitMatchesSelector||cn.mozMatchesSelector||cn.oMatchesSelector||cn.msMatchesSelector)))){ce(function(dn){dg.disconnectedMatch=cd.call(dn,"div");cd.call(dn,"[s!='']:x");de.push("!=",cj)})}c1=c1.length&&new RegExp(c1.join("|"));de=de.length&&new RegExp(de.join("|"));e=cN.test(cn.compareDocumentPosition);cD=e||cN.test(cn.contains)?function(dp,dn){var dr=dp.nodeType===9?dp.documentElement:dp,dq=dn&&dn.parentNode;return dp===dq||!!(dq&&dq.nodeType===1&&(dr.contains?dr.contains(dq):dp.compareDocumentPosition&&dp.compareDocumentPosition(dq)&16))}:function(dp,dn){if(dn){while((dn=dn.parentNode)){if(dn===dp){return true}}}return false};cC=e?function(dp,dn){if(dp===dn){cV=true;return 0}var dq=!dp.compareDocumentPosition-!dn.compareDocumentPosition;if(dq){return dq}dq=(dp.ownerDocument||dp)===(dn.ownerDocument||dn)?dp.compareDocumentPosition(dn):1;if(dq&1||(!dg.sortDetached&&dn.compareDocumentPosition(dp)===dq)){if(dp===dm||dp.ownerDocument===cH&&cD(cH,dp)){return -1}if(dn===dm||dn.ownerDocument===cH&&cD(cH,dn)){return 1}return cG?(cc.call(cG,dp)-cc.call(cG,dn)):0}return dq&4?-1:1}:function(dp,dn){if(dp===dn){cV=true;return 0}var dv,ds=0,du=dp.parentNode,dr=dn.parentNode,dq=[dp],dt=[dn];if(!du||!dr){return dp===dm?-1:dn===dm?1:du?-1:dr?1:cG?(cc.call(cG,dp)-cc.call(cG,dn)):0}else{if(du===dr){return b9(dp,dn)}}dv=dp;while((dv=dv.parentNode)){dq.unshift(dv)}dv=dn;while((dv=dv.parentNode)){dt.unshift(dv)}while(dq[ds]===dt[ds]){ds++}return ds?b9(dq[ds],dt[ds]):dq[ds]===cH?-1:dt[ds]===cH?1:0};return dm};cu.matches=function(i,e){return cu(i,null,null,e)};cu.matchesSelector=function(dl,dn){if((dl.ownerDocument||dl)!==cA){cX(dl)}dn=dn.replace(cs,"='$1']");if(dg.matchesSelector&&c6&&(!de||!de.test(dn))&&(!c1||!c1.test(dn))){try{var i=cd.call(dl,dn);if(i||dg.disconnectedMatch||dl.document&&dl.document.nodeType!==11){return i}}catch(dm){}}return cu(dn,cA,null,[dl]).length>0};cu.contains=function(e,i){if((e.ownerDocument||e)!==cA){cX(e)}return cD(e,i)};cu.attr=function(dl,e){if((dl.ownerDocument||dl)!==cA){cX(dl)}var i=cm.attrHandle[e.toLowerCase()],dm=i&&cM.call(cm.attrHandle,e.toLowerCase())?i(dl,e,!c6):undefined;return dm!==undefined?dm:dg.attributes||!c6?dl.getAttribute(e):(dm=dl.getAttributeNode(e))&&dm.specified?dm.value:null};cu.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};cu.uniqueSort=function(dm){var dn,dp=[],e=0,dl=0;cV=!dg.detectDuplicates;cG=!dg.sortStable&&dm.slice(0);dm.sort(cC);if(cV){while((dn=dm[dl++])){if(dn===dm[dl]){e=dp.push(dl)}}while(e--){dm.splice(dp[e],1)}}cG=null;return dm};cF=cu.getText=function(dp){var dn,dl="",dm=0,e=dp.nodeType;if(!e){while((dn=dp[dm++])){dl+=cF(dn)}}else{if(e===1||e===9||e===11){if(typeof dp.textContent==="string"){return dp.textContent}else{for(dp=dp.firstChild;dp;dp=dp.nextSibling){dl+=cF(dp)}}}else{if(e===3||e===4){return dp.nodeValue}}}return dl};cm=cu.selectors={cacheLength:50,createPseudo:ci,match:c0,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cr,c3);e[3]=(e[3]||e[4]||e[5]||"").replace(cr,c3);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){cu.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}else{if(e[3]){cu.error(e[0])}}return e},PSEUDO:function(i){var e,dl=!i[6]&&i[2];if(c0.CHILD.test(i[0])){return null}if(i[3]){i[2]=i[4]||i[5]||""}else{if(dl&&cQ.test(dl)&&(e=cg(dl,true))&&(e=dl.indexOf(")",dl.length-e)-dl.length)){i[0]=i[0].slice(0,e);i[2]=dl.slice(0,e)}}return i.slice(0,3)}},filter:{TAG:function(i){var e=i.replace(cr,c3).toLowerCase();return i==="*"?function(){return true}:function(dl){return dl.nodeName&&dl.nodeName.toLowerCase()===e}},CLASS:function(e){var i=b8[e+" "];return i||(i=new RegExp("(^|"+co+")"+e+"("+co+"|$)"))&&b8(e,function(dl){return i.test(typeof dl.className==="string"&&dl.className||typeof dl.getAttribute!==dc&&dl.getAttribute("class")||"")})},ATTR:function(dl,i,e){return function(dn){var dm=cu.attr(dn,dl);if(dm==null){return i==="!="}if(!i){return true}dm+="";return i==="="?dm===e:i==="!="?dm!==e:i==="^="?e&&dm.indexOf(e)===0:i==="*="?e&&dm.indexOf(e)>-1:i==="$="?e&&dm.slice(-e.length)===e:i==="~="?(" "+dm+" ").indexOf(e)>-1:i==="|="?dm===e||dm.slice(0,e.length+1)===e+"-":false}},CHILD:function(i,dn,dm,dp,dl){var dr=i.slice(0,3)!=="nth",e=i.slice(-4)!=="last",dq=dn==="of-type";return dp===1&&dl===0?function(ds){return !!ds.parentNode}:function(dy,dw,dB){var ds,dE,dz,dD,dA,dv,dx=dr!==e?"nextSibling":"previousSibling",dC=dy.parentNode,du=dq&&dy.nodeName.toLowerCase(),dt=!dB&&!dq;if(dC){if(dr){while(dx){dz=dy;while((dz=dz[dx])){if(dq?dz.nodeName.toLowerCase()===du:dz.nodeType===1){return false}}dv=dx=i==="only"&&!dv&&"nextSibling"}return true}dv=[e?dC.firstChild:dC.lastChild];if(e&&dt){dE=dC[c8]||(dC[c8]={});ds=dE[i]||[];dA=ds[0]===dh&&ds[1];dD=ds[0]===dh&&ds[2];dz=dA&&dC.childNodes[dA];while((dz=++dA&&dz&&dz[dx]||(dD=dA=0)||dv.pop())){if(dz.nodeType===1&&++dD&&dz===dy){dE[i]=[dh,dA,dD];break}}}else{if(dt&&(ds=(dy[c8]||(dy[c8]={}))[i])&&ds[0]===dh){dD=ds[1]}else{while((dz=++dA&&dz&&dz[dx]||(dD=dA=0)||dv.pop())){if((dq?dz.nodeName.toLowerCase()===du:dz.nodeType===1)&&++dD){if(dt){(dz[c8]||(dz[c8]={}))[i]=[dh,dD]}if(dz===dy){break}}}}}dD-=dl;return dD===dp||(dD%dp===0&&dD/dp>=0)}}},PSEUDO:function(dm,dl){var e,i=cm.pseudos[dm]||cm.setFilters[dm.toLowerCase()]||cu.error("unsupported pseudo: "+dm);if(i[c8]){return i(dl)}if(i.length>1){e=[dm,dm,"",dl];return cm.setFilters.hasOwnProperty(dm.toLowerCase())?ci(function(dq,ds){var dp,dn=i(dq,dl),dr=dn.length;while(dr--){dp=cc.call(dq,dn[dr]);dq[dp]=!(ds[dp]=dn[dr])}}):function(dn){return i(dn,0,e)}}return i}},pseudos:{not:ci(function(e){var i=[],dl=[],dm=cU(e.replace(cq,"$1"));return dm[c8]?ci(function(dp,du,ds,dq){var dt,dn=dm(dp,null,dq,[]),dr=dp.length;while(dr--){if((dt=dn[dr])){dp[dr]=!(du[dr]=dt)}}}):function(dq,dp,dn){i[0]=dq;dm(i,null,dn,dl);return !dl.pop()}}),has:ci(function(e){return function(i){return cu(e,i).length>0}}),contains:ci(function(e){return function(i){return(i.textContent||i.innerText||cF(i)).indexOf(e)>-1}}),lang:ci(function(e){if(!cS.test(e||"")){cu.error("unsupported lang: "+e)}e=e.replace(cr,c3).toLowerCase();return function(dl){var i;do{if((i=c6?dl.lang:dl.getAttribute("xml:lang")||dl.getAttribute("lang"))){i=i.toLowerCase();return i===e||i.indexOf(e+"-")===0}}while((dl=dl.parentNode)&&dl.nodeType===1);return false}}),target:function(e){var i=dd.location&&dd.location.hash;return i&&i.slice(1)===e.id},root:function(e){return e===cn},focus:function(e){return e===cA.activeElement&&(!cA.hasFocus||cA.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var i=e.nodeName.toLowerCase();return(i==="input"&&!!e.checked)||(i==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return !cm.pseudos.empty(e)},header:function(e){return ck.test(e.nodeName)},input:function(e){return cb.test(e.nodeName)},button:function(i){var e=i.nodeName.toLowerCase();return e==="input"&&i.type==="button"||e==="button"},text:function(i){var e;return i.nodeName.toLowerCase()==="input"&&i.type==="text"&&((e=i.getAttribute("type"))==null||e.toLowerCase()==="text")},first:c5(function(){return[0]}),last:c5(function(e,i){return[i-1]}),eq:c5(function(e,dl,i){return[i<0?i+dl:i]}),even:c5(function(e,dm){var dl=0;for(;dl<dm;dl+=2){e.push(dl)}return e}),odd:c5(function(e,dm){var dl=1;for(;dl<dm;dl+=2){e.push(dl)}return e}),lt:c5(function(e,dn,dm){var dl=dm<0?dm+dn:dm;for(;--dl>=0;){e.push(dl)}return e}),gt:c5(function(e,dn,dm){var dl=dm<0?dm+dn:dm;for(;++dl<dn;){e.push(dl)}return e})}};cm.pseudos.nth=cm.pseudos.eq;for(cw in {radio:true,checkbox:true,file:true,password:true,image:true}){cm.pseudos[cw]=cv(cw)}for(cw in {submit:true,reset:true}){cm.pseudos[cw]=ca(cw)}function cT(){}cT.prototype=cm.filters=cm.pseudos;cm.setFilters=new cT();cg=cu.tokenize=function(dn,dt){var i,dp,dr,ds,dq,dl,e,dm=c7[dn+" "];if(dm){return dt?0:dm.slice(0)}dq=dn;dl=[];e=cm.preFilter;while(dq){if(!i||(dp=ct.exec(dq))){if(dp){dq=dq.slice(dp[0].length)||dq}dl.push((dr=[]))}i=false;if((dp=cz.exec(dq))){i=dp.shift();dr.push({value:i,type:dp[0].replace(cq," ")});dq=dq.slice(i.length)}for(ds in cm.filter){if((dp=c0[ds].exec(dq))&&(!e[ds]||(dp=e[ds](dp)))){i=dp.shift();dr.push({value:i,type:ds,matches:dp});dq=dq.slice(i.length)}}if(!i){break}}return dt?dq.length:dq?cu.error(dn):c7(dn,dl).slice(0)};function ch(dn){var dm=0,dl=dn.length,e="";for(;dm<dl;dm++){e+=dn[dm].value}return e}function cp(dn,dl,dm){var e=dl.dir,dp=dm&&e==="parentNode",i=c2++;return dl.first?function(ds,dr,dq){while((ds=ds[e])){if(ds.nodeType===1||dp){return dn(ds,dr,dq)}}}:function(du,ds,dr){var dv,dt,dq=[dh,i];if(dr){while((du=du[e])){if(du.nodeType===1||dp){if(dn(du,ds,dr)){return true}}}}else{while((du=du[e])){if(du.nodeType===1||dp){dt=du[c8]||(du[c8]={});if((dv=dt[e])&&dv[0]===dh&&dv[1]===i){return(dq[2]=dv[2])}else{dt[e]=dq;if((dq[2]=dn(du,ds,dr))){return true}}}}}}}function dj(e){return e.length>1?function(dp,dn,dl){var dm=e.length;while(dm--){if(!e[dm](dp,dn,dl)){return false}}return true}:e[0]}function cx(dl,dp,dn){var dm=0,e=dp.length;for(;dm<e;dm++){cu(dl,dp[dm],dn)}return dn}function cY(e,dl,dm,dn,dr){var dp,du=[],dq=0,ds=e.length,dt=dl!=null;for(;dq<ds;dq++){if((dp=e[dq])){if(!dm||dm(dp,dn,dr)){du.push(dp);if(dt){dl.push(dq)}}}}return du}function cf(dl,i,dn,dm,dp,e){if(dm&&!dm[c8]){dm=cf(dm)}if(dp&&!dp[c8]){dp=cf(dp,e)}return ci(function(dA,dx,ds,dz){var dC,dy,du,dt=[],dB=[],dr=dx.length,dq=dA||cx(i||"*",ds.nodeType?[ds]:ds,[]),dv=dl&&(dA||!i)?cY(dq,dt,dl,ds,dz):dq,dw=dn?dp||(dA?dl:dr||dm)?[]:dx:dv;if(dn){dn(dv,dw,ds,dz)}if(dm){dC=cY(dw,dB);dm(dC,[],ds,dz);dy=dC.length;while(dy--){if((du=dC[dy])){dw[dB[dy]]=!(dv[dB[dy]]=du)}}}if(dA){if(dp||dl){if(dp){dC=[];dy=dw.length;while(dy--){if((du=dw[dy])){dC.push((dv[dy]=du))}}dp(null,(dw=[]),dC,dz)}dy=dw.length;while(dy--){if((du=dw[dy])&&(dC=dp?cc.call(dA,du):dt[dy])>-1){dA[dC]=!(dx[dC]=du)}}}}else{dw=cY(dw===dx?dw.splice(dr,dw.length):dw);if(dp){dp(null,dx,dw,dz)}else{b6.apply(dx,dw)}}})}function c9(dr){var dl,dp,dm,dq=dr.length,du=cm.relative[dr[0].type],dv=du||cm.relative[" "],dn=du?1:0,ds=cp(function(i){return i===dl},dv,true),dt=cp(function(i){return cc.call(dl,i)>-1},dv,true),e=[function(dx,dw,i){return(!du&&(i||dw!==dk))||((dl=dw).nodeType?ds(dx,dw,i):dt(dx,dw,i))}];for(;dn<dq;dn++){if((dp=cm.relative[dr[dn].type])){e=[cp(dj(e),dp)]}else{dp=cm.filter[dr[dn].type].apply(null,dr[dn].matches);if(dp[c8]){dm=++dn;for(;dm<dq;dm++){if(cm.relative[dr[dm].type]){break}}return cf(dn>1&&dj(e),dn>1&&ch(dr.slice(0,dn-1).concat({value:dr[dn-2].type===" "?"*":""})).replace(cq,"$1"),dp,dn<dm&&c9(dr.slice(dn,dm)),dm<dq&&c9((dr=dr.slice(dm))),dm<dq&&ch(dr))}e.push(dp)}}return dj(e)}function cW(dm,dl){var e=dl.length>0,dn=dm.length>0,i=function(dy,ds,dx,dw,dB){var dt,du,dz,dD=0,dv="0",dp=dy&&[],dE=[],dC=dk,dr=dy||dn&&cm.find.TAG("*",dB),dq=(dh+=dC==null?1:Math.random()||0.1),dA=dr.length;if(dB){dk=ds!==cA&&ds}for(;dv!==dA&&(dt=dr[dv])!=null;dv++){if(dn&&dt){du=0;while((dz=dm[du++])){if(dz(dt,ds,dx)){dw.push(dt);break}}if(dB){dh=dq}}if(e){if((dt=!dz&&dt)){dD--}if(dy){dp.push(dt)}}}dD+=dv;if(e&&dv!==dD){du=0;while((dz=dl[du++])){dz(dp,dE,ds,dx)}if(dy){if(dD>0){while(dv--){if(!(dp[dv]||dE[dv])){dE[dv]=db.call(dw)}}}dE=cY(dE)}b6.apply(dw,dE);if(dB&&!dy&&dE.length>0&&(dD+dl.length)>1){cu.uniqueSort(dw)}}if(dB){dh=dq;dk=dC}return dp};return e?ci(i):i}cU=cu.compile=function(e,dm){var dn,dl=[],dq=[],dp=cE[e+" "];if(!dp){if(!dm){dm=cg(e)}dn=dm.length;while(dn--){dp=c9(dm[dn]);if(dp[c8]){dl.push(dp)}else{dq.push(dp)}}dp=cE(e,cW(dq,dl));dp.selector=e}return dp};df=cu.select=function(dm,e,dn,dr){var dp,du,dl,dv,ds,dt=typeof dm==="function"&&dm,dq=!dr&&cg((dm=dt.selector||dm));dn=dn||[];if(dq.length===1){du=dq[0]=dq[0].slice(0);if(du.length>2&&(dl=du[0]).type==="ID"&&dg.getById&&e.nodeType===9&&c6&&cm.relative[du[1].type]){e=(cm.find.ID(dl.matches[0].replace(cr,c3),e)||[])[0];if(!e){return dn}else{if(dt){e=e.parentNode}}dm=dm.slice(du.shift().value.length)}dp=c0.needsContext.test(dm)?0:du.length;while(dp--){dl=du[dp];if(cm.relative[(dv=dl.type)]){break}if((ds=cm.find[dv])){if((dr=ds(dl.matches[0].replace(cr,c3),cZ.test(du[0].type)&&cR(e.parentNode)||e))){du.splice(dp,1);dm=dr.length&&ch(du);if(!dm){b6.apply(dn,dr);return dn}break}}}}(dt||cU(dm,dq))(dr,e,!c6,dn,cZ.test(dm)&&cR(e.parentNode)||e);return dn};dg.sortStable=c8.split("").sort(cC).join("")===c8;dg.detectDuplicates=!!cV;cX();dg.sortDetached=ce(function(e){return e.compareDocumentPosition(cA.createElement("div"))&1});if(!ce(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){di("type|href|height|width",function(i,e,dl){if(!dl){return i.getAttribute(e,e.toLowerCase()==="type"?1:2)}})}if(!dg.attributes||!ce(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){di("value",function(i,e,dl){if(!dl&&i.nodeName.toLowerCase()==="input"){return i.defaultValue}})}if(!ce(function(e){return e.getAttribute("disabled")==null})){di(b7,function(i,e,dm){var dl;if(!dm){return i[e]===true?e.toLowerCase():(dl=i.getAttributeNode(e))&&dl.specified?dl.value:null}})}return cu})(a4);bH.find=m;bH.expr=m.selectors;bH.expr[":"]=bH.expr.pseudos;bH.unique=m.uniqueSort;bH.text=m.getText;bH.isXMLDoc=m.isXML;bH.contains=m.contains;var z=bH.expr.match.needsContext;var a=(/^<(\w+)\s*\/?>(?:<\/\1>|)$/);var aK=/^.[^:#\[\.,]*$/;function aQ(b5,e,i){if(bH.isFunction(e)){return bH.grep(b5,function(b7,b6){return !!e.call(b7,b6,b7)!==i})}if(e.nodeType){return bH.grep(b5,function(b6){return(b6===e)!==i})}if(typeof e==="string"){if(aK.test(e)){return bH.filter(e,b5,i)}e=bH.filter(e,b5)}return bH.grep(b5,function(b6){return(bH.inArray(b6,e)>=0)!==i})}bH.filter=function(b6,e,b5){var i=e[0];if(b5){b6=":not("+b6+")"}return e.length===1&&i.nodeType===1?bH.find.matchesSelector(i,b6)?[i]:[]:bH.find.matches(b6,bH.grep(e,function(b7){return b7.nodeType===1}))};bH.fn.extend({find:function(b5){var b8,b7=[],b6=this,e=b6.length;if(typeof b5!=="string"){return this.pushStack(bH(b5).filter(function(){for(b8=0;b8<e;b8++){if(bH.contains(b6[b8],this)){return true}}}))}for(b8=0;b8<e;b8++){bH.find(b5,b6[b8],b7)}b7=this.pushStack(e>1?bH.unique(b7):b7);b7.selector=this.selector?this.selector+" "+b5:b5;return b7},filter:function(e){return this.pushStack(aQ(this,e||[],false))},not:function(e){return this.pushStack(aQ(this,e||[],true))},is:function(e){return !!aQ(this,typeof e==="string"&&z.test(e)?bH(e):e||[],false).length}});var y,n=a4.document,bs=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,bU=bH.fn.init=function(e,b5){var i,b6;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){i=[null,e,null]}else{i=bs.exec(e)}if(i&&(i[1]||!b5)){if(i[1]){b5=b5 instanceof bH?b5[0]:b5;bH.merge(this,bH.parseHTML(i[1],b5&&b5.nodeType?b5.ownerDocument||b5:n,true));if(a.test(i[1])&&bH.isPlainObject(b5)){for(i in b5){if(bH.isFunction(this[i])){this[i](b5[i])}else{this.attr(i,b5[i])}}}return this}else{b6=n.getElementById(i[2]);if(b6&&b6.parentNode){if(b6.id!==i[2]){return y.find(e)}this.length=1;this[0]=b6}this.context=n;this.selector=e;return this}}else{if(!b5||b5.jquery){return(b5||y).find(e)}else{return this.constructor(b5).find(e)}}}else{if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else{if(bH.isFunction(e)){return typeof y.ready!=="undefined"?y.ready(e):e(bH)}}}if(e.selector!==undefined){this.selector=e.selector;this.context=e.context}return bH.makeArray(e,this)};bU.prototype=bH.fn;y=bH(n);var bu=/^(?:parents|prev(?:Until|All))/,by={children:true,contents:true,next:true,prev:true};bH.extend({dir:function(b5,i,b7){var e=[],b6=b5[i];while(b6&&b6.nodeType!==9&&(b7===undefined||b6.nodeType!==1||!bH(b6).is(b7))){if(b6.nodeType===1){e.push(b6)}b6=b6[i]}return e},sibling:function(b5,i){var e=[];for(;b5;b5=b5.nextSibling){if(b5.nodeType===1&&b5!==i){e.push(b5)}}return e}});bH.fn.extend({has:function(b7){var b6,b5=bH(b7,this),e=b5.length;return this.filter(function(){for(b6=0;b6<e;b6++){if(bH.contains(this,b5[b6])){return true}}})},closest:function(b8,b7){var b9,b6=0,b5=this.length,e=[],ca=z.test(b8)||typeof b8!=="string"?bH(b8,b7||this.context):0;for(;b6<b5;b6++){for(b9=this[b6];b9&&b9!==b7;b9=b9.parentNode){if(b9.nodeType<11&&(ca?ca.index(b9)>-1:b9.nodeType===1&&bH.find.matchesSelector(b9,b8))){e.push(b9);break}}}return this.pushStack(e.length>1?bH.unique(e):e)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof e==="string"){return bH.inArray(this[0],bH(e))}return bH.inArray(e.jquery?e[0]:e,this)},add:function(e,i){return this.pushStack(bH.unique(bH.merge(this.get(),bH(e,i))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function aX(i,e){do{i=i[e]}while(i&&i.nodeType!==1);return i}bH.each({parent:function(i){var e=i.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bH.dir(e,"parentNode")},parentsUntil:function(b5,e,b6){return bH.dir(b5,"parentNode",b6)},next:function(e){return aX(e,"nextSibling")},prev:function(e){return aX(e,"previousSibling")},nextAll:function(e){return bH.dir(e,"nextSibling")},prevAll:function(e){return bH.dir(e,"previousSibling")},nextUntil:function(b5,e,b6){return bH.dir(b5,"nextSibling",b6)},prevUntil:function(b5,e,b6){return bH.dir(b5,"previousSibling",b6)},siblings:function(e){return bH.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bH.sibling(e.firstChild)},contents:function(e){return bH.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bH.merge([],e.childNodes)}},function(e,i){bH.fn[e]=function(b7,b5){var b6=bH.map(this,i,b7);if(e.slice(-5)!=="Until"){b5=b7}if(b5&&typeof b5==="string"){b6=bH.filter(b5,b6)}if(this.length>1){if(!by[e]){b6=bH.unique(b6)}if(bu.test(e)){b6=b6.reverse()}}return this.pushStack(b6)}});var aE=(/\S+/g);var b1={};function ae(i){var e=b1[i]={};bH.each(i.match(aE)||[],function(b6,b5){e[b5]=true});return e}bH.Callbacks=function(cd){cd=typeof cd==="string"?(b1[cd]||ae(cd)):bH.extend({},cd);var b7,b6,e,b8,b9,b5,ca=[],cb=!cd.once&&[],i=function(ce){b6=cd.memory&&ce;e=true;b9=b5||0;b5=0;b8=ca.length;b7=true;for(;ca&&b9<b8;b9++){if(ca[b9].apply(ce[0],ce[1])===false&&cd.stopOnFalse){b6=false;break}}b7=false;if(ca){if(cb){if(cb.length){i(cb.shift())}}else{if(b6){ca=[]}else{cc.disable()}}}},cc={add:function(){if(ca){var cf=ca.length;(function ce(cg){bH.each(cg,function(ci,ch){var cj=bH.type(ch);if(cj==="function"){if(!cd.unique||!cc.has(ch)){ca.push(ch)}}else{if(ch&&ch.length&&cj!=="string"){ce(ch)}}})})(arguments);if(b7){b8=ca.length}else{if(b6){b5=cf;i(b6)}}}return this},remove:function(){if(ca){bH.each(arguments,function(cg,ce){var cf;while((cf=bH.inArray(ce,ca,cf))>-1){ca.splice(cf,1);if(b7){if(cf<=b8){b8--}if(cf<=b9){b9--}}}})}return this},has:function(ce){return ce?bH.inArray(ce,ca)>-1:!!(ca&&ca.length)},empty:function(){ca=[];b8=0;return this},disable:function(){ca=cb=b6=undefined;return this},disabled:function(){return !ca},lock:function(){cb=undefined;if(!b6){cc.disable()}return this},locked:function(){return !cb},fireWith:function(cf,ce){if(ca&&(!e||cb)){ce=ce||[];ce=[cf,ce.slice?ce.slice():ce];if(b7){cb.push(ce)}else{i(ce)}}return this},fire:function(){cc.fireWith(this,arguments);return this},fired:function(){return !!e}};return cc};bH.extend({Deferred:function(b5){var i=[["resolve","done",bH.Callbacks("once memory"),"resolved"],["reject","fail",bH.Callbacks("once memory"),"rejected"],["notify","progress",bH.Callbacks("memory")]],b6="pending",b7={state:function(){return b6},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var b8=arguments;return bH.Deferred(function(b9){bH.each(i,function(cb,ca){var cc=bH.isFunction(b8[cb])&&b8[cb];e[ca[1]](function(){var cd=cc&&cc.apply(this,arguments);if(cd&&bH.isFunction(cd.promise)){cd.promise().done(b9.resolve).fail(b9.reject).progress(b9.notify)}else{b9[ca[0]+"With"](this===b7?b9.promise():this,cc?[cd]:arguments)}})});b8=null}).promise()},promise:function(b8){return b8!=null?bH.extend(b8,b7):b7}},e={};b7.pipe=b7.then;bH.each(i,function(b9,b8){var cb=b8[2],ca=b8[3];b7[b8[1]]=cb.add;if(ca){cb.add(function(){b6=ca},i[b9^1][2].disable,i[2][2].lock)}e[b8[0]]=function(){e[b8[0]+"With"](this===e?b7:this,arguments);return this};e[b8[0]+"With"]=cb.fireWith});b7.promise(e);if(b5){b5.call(e,e)}return e},when:function(b8){var b6=0,ca=O.call(arguments),e=ca.length,b5=e!==1||(b8&&bH.isFunction(b8.promise))?e:0,cd=b5===1?b8:bH.Deferred(),b7=function(cf,cg,ce){return function(i){cg[cf]=this;ce[cf]=arguments.length>1?O.call(arguments):i;if(ce===cc){cd.notifyWith(cg,ce)}else{if(!(--b5)){cd.resolveWith(cg,ce)}}}},cc,b9,cb;if(e>1){cc=new Array(e);b9=new Array(e);cb=new Array(e);for(;b6<e;b6++){if(ca[b6]&&bH.isFunction(ca[b6].promise)){ca[b6].promise().done(b7(b6,cb,ca)).fail(cd.reject).progress(b7(b6,b9,cc))}else{--b5}}}if(!b5){cd.resolveWith(cb,ca)}return cd.promise()}});var aj;bH.fn.ready=function(e){bH.ready.promise().done(e);return this};bH.extend({isReady:false,readyWait:1,holdReady:function(e){if(e){bH.readyWait++}else{bH.ready(true)}},ready:function(e){if(e===true?--bH.readyWait:bH.isReady){return}if(!n.body){return setTimeout(bH.ready)}bH.isReady=true;if(e!==true&&--bH.readyWait>0){return}aj.resolveWith(n,[bH]);if(bH.fn.triggerHandler){bH(n).triggerHandler("ready");bH(n).off("ready")}}});function bl(){if(n.addEventListener){n.removeEventListener("DOMContentLoaded",bY,false);a4.removeEventListener("load",bY,false)}else{n.detachEvent("onreadystatechange",bY);a4.detachEvent("onload",bY)}}function bY(){if(n.addEventListener||event.type==="load"||n.readyState==="complete"){bl();bH.ready()}}bH.ready.promise=function(b7){if(!aj){aj=bH.Deferred();if(n.readyState==="complete"){setTimeout(bH.ready)}else{if(n.addEventListener){n.addEventListener("DOMContentLoaded",bY,false);a4.addEventListener("load",bY,false)}else{n.attachEvent("onreadystatechange",bY);a4.attachEvent("onload",bY);var b6=false;try{b6=a4.frameElement==null&&n.documentElement}catch(b5){}if(b6&&b6.doScroll){(function i(){if(!bH.isReady){try{b6.doScroll("left")}catch(b8){return setTimeout(i,50)}bl();bH.ready()}})()}}}}return aj.promise(b7)};var aB=typeof undefined;var bg;for(bg in bH(C)){break}C.ownLast=bg!=="0";C.inlineBlockNeedsLayout=false;bH(function(){var b5,b6,e,i;e=n.getElementsByTagName("body")[0];if(!e||!e.style){return}b6=n.createElement("div");i=n.createElement("div");i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";e.appendChild(i).appendChild(b6);if(typeof b6.style.zoom!==aB){b6.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1";C.inlineBlockNeedsLayout=b5=b6.offsetWidth===3;if(b5){e.style.zoom=1}}e.removeChild(i)});(function(){var b5=n.createElement("div");if(C.deleteExpando==null){C.deleteExpando=true;try{delete b5.test}catch(i){C.deleteExpando=false}}b5=null})();bH.acceptData=function(b5){var i=bH.noData[(b5.nodeName+" ").toLowerCase()],e=+b5.nodeType||1;return e!==1&&e!==9?false:!i||i!==true&&b5.getAttribute("classid")===i};var bx=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,aP=/([A-Z])/g;function bz(b6,b5,b7){if(b7===undefined&&b6.nodeType===1){var i="data-"+b5.replace(aP,"-$1").toLowerCase();b7=b6.getAttribute(i);if(typeof b7==="string"){try{b7=b7==="true"?true:b7==="false"?false:b7==="null"?null:+b7+""===b7?+b7:bx.test(b7)?bH.parseJSON(b7):b7}catch(b8){}bH.data(b6,b5,b7)}else{b7=undefined}}return b7}function P(i){var e;for(e in i){if(e==="data"&&bH.isEmptyObject(i[e])){continue}if(e!=="toJSON"){return false}}return true}function bb(b6,i,b8,b7){if(!bH.acceptData(b6)){return}var ca,b9,cb=bH.expando,cc=b6.nodeType,e=cc?bH.cache:b6,b5=cc?b6[cb]:b6[cb]&&cb;if((!b5||!e[b5]||(!b7&&!e[b5].data))&&b8===undefined&&typeof i==="string"){return}if(!b5){if(cc){b5=b6[cb]=aO.pop()||bH.guid++}else{b5=cb}}if(!e[b5]){e[b5]=cc?{}:{toJSON:bH.noop}}if(typeof i==="object"||typeof i==="function"){if(b7){e[b5]=bH.extend(e[b5],i)}else{e[b5].data=bH.extend(e[b5].data,i)}}b9=e[b5];if(!b7){if(!b9.data){b9.data={}}b9=b9.data}if(b8!==undefined){b9[bH.camelCase(i)]=b8}if(typeof i==="string"){ca=b9[i];if(ca==null){ca=b9[bH.camelCase(i)]}}else{ca=b9}return ca}function aa(b8,b6,e){if(!bH.acceptData(b8)){return}var ca,b7,b9=b8.nodeType,b5=b9?bH.cache:b8,cb=b9?b8[bH.expando]:bH.expando;if(!b5[cb]){return}if(b6){ca=e?b5[cb]:b5[cb].data;if(ca){if(!bH.isArray(b6)){if(b6 in ca){b6=[b6]}else{b6=bH.camelCase(b6);if(b6 in ca){b6=[b6]}else{b6=b6.split(" ")}}}else{b6=b6.concat(bH.map(b6,bH.camelCase))}b7=b6.length;while(b7--){delete ca[b6[b7]]}if(e?!P(ca):!bH.isEmptyObject(ca)){return}}}if(!e){delete b5[cb].data;if(!P(b5[cb])){return}}if(b9){bH.cleanData([b8],true)}else{if(C.deleteExpando||b5!=b5.window){delete b5[cb]}else{b5[cb]=null}}}bH.extend({cache:{},noData:{"applet ":true,"embed ":true,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){e=e.nodeType?bH.cache[e[bH.expando]]:e[bH.expando];return !!e&&!P(e)},data:function(i,e,b5){return bb(i,e,b5)},removeData:function(i,e){return aa(i,e)},_data:function(i,e,b5){return bb(i,e,b5,true)},_removeData:function(i,e){return aa(i,e,true)}});bH.fn.extend({data:function(b7,ca){var b6,b5,b9,b8=this[0],e=b8&&b8.attributes;if(b7===undefined){if(this.length){b9=bH.data(b8);if(b8.nodeType===1&&!bH._data(b8,"parsedAttrs")){b6=e.length;while(b6--){if(e[b6]){b5=e[b6].name;if(b5.indexOf("data-")===0){b5=bH.camelCase(b5.slice(5));bz(b8,b5,b9[b5])}}}bH._data(b8,"parsedAttrs",true)}}return b9}if(typeof b7==="object"){return this.each(function(){bH.data(this,b7)})}return arguments.length>1?this.each(function(){bH.data(this,b7,ca)}):b8?bz(b8,b7,bH.data(b8,b7)):undefined},removeData:function(e){return this.each(function(){bH.removeData(this,e)})}});bH.extend({queue:function(b5,i,b6){var e;if(b5){i=(i||"fx")+"queue";e=bH._data(b5,i);if(b6){if(!e||bH.isArray(b6)){e=bH._data(b5,i,bH.makeArray(b6))}else{e.push(b6)}}return e||[]}},dequeue:function(b8,b7){b7=b7||"fx";var i=bH.queue(b8,b7),b9=i.length,b6=i.shift(),e=bH._queueHooks(b8,b7),b5=function(){bH.dequeue(b8,b7)};if(b6==="inprogress"){b6=i.shift();b9--}if(b6){if(b7==="fx"){i.unshift("inprogress")}delete e.stop;b6.call(b8,b5,e)}if(!b9&&e){e.empty.fire()}},_queueHooks:function(b5,i){var e=i+"queueHooks";return bH._data(b5,e)||bH._data(b5,e,{empty:bH.Callbacks("once memory").add(function(){bH._removeData(b5,i+"queue");bH._removeData(b5,e)})})}});bH.fn.extend({queue:function(e,i){var b5=2;if(typeof e!=="string"){i=e;e="fx";b5--}if(arguments.length<b5){return bH.queue(this[0],e)}return i===undefined?this:this.each(function(){var b6=bH.queue(this,e,i);bH._queueHooks(this,e);if(e==="fx"&&b6[0]!=="inprogress"){bH.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bH.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b6,ca){var b5,b7=1,cb=bH.Deferred(),b9=this,e=this.length,b8=function(){if(!(--b7)){cb.resolveWith(b9,[b9])}};if(typeof b6!=="string"){ca=b6;b6=undefined}b6=b6||"fx";while(e--){b5=bH._data(b9[e],b6+"queueHooks");if(b5&&b5.empty){b7++;b5.empty.add(b8)}}b8();return cb.promise(ca)}});var aD=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;var bS=["Top","Right","Bottom","Left"];var R=function(i,e){i=e||i;return bH.css(i,"display")==="none"||!bH.contains(i.ownerDocument,i)};var aA=bH.access=function(e,b9,cb,ca,b7,cd,cc){var b6=0,b5=e.length,b8=cb==null;if(bH.type(cb)==="object"){b7=true;for(b6 in cb){bH.access(e,b9,b6,cb[b6],true,cd,cc)}}else{if(ca!==undefined){b7=true;if(!bH.isFunction(ca)){cc=true}if(b8){if(cc){b9.call(e,ca);b9=null}else{b8=b9;b9=function(ce,i,cf){return b8.call(bH(ce),cf)}}}if(b9){for(;b6<b5;b6++){b9(e[b6],cb,cc?ca:ca.call(e[b6],b6,b9(e[b6],cb)))}}}}return b7?e:b8?b9.call(e):b5?b9(e[0],cb):cd};var aL=(/^(?:checkbox|radio)$/i);(function(){var i=n.createElement("input"),b7=n.createElement("div"),b5=n.createDocumentFragment();b7.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";C.leadingWhitespace=b7.firstChild.nodeType===3;C.tbody=!b7.getElementsByTagName("tbody").length;C.htmlSerialize=!!b7.getElementsByTagName("link").length;C.html5Clone=n.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";i.type="checkbox";i.checked=true;b5.appendChild(i);C.appendChecked=i.checked;b7.innerHTML="<textarea>x</textarea>";C.noCloneChecked=!!b7.cloneNode(true).lastChild.defaultValue;b5.appendChild(b7);b7.innerHTML="<input type='radio' checked='checked' name='t'/>";C.checkClone=b7.cloneNode(true).cloneNode(true).lastChild.checked;C.noCloneEvent=true;if(b7.attachEvent){b7.attachEvent("onclick",function(){C.noCloneEvent=false});b7.cloneNode(true).click()}if(C.deleteExpando==null){C.deleteExpando=true;try{delete b7.test}catch(b6){C.deleteExpando=false}}})();(function(){var b5,e,b6=n.createElement("div");for(b5 in {submit:true,change:true,focusin:true}){e="on"+b5;if(!(C[b5+"Bubbles"]=e in a4)){b6.setAttribute(e,"t");C[b5+"Bubbles"]=b6.attributes[e].expando===false}}b6=null})();var bF=/^(?:input|select|textarea)$/i,a5=/^key/,bL=/^(?:mouse|pointer|contextmenu)|click/,bB=/^(?:focusinfocus|focusoutblur)$/,bw=/^([^.]*)(?:\.(.+)|)$/;function T(){return true}function Y(){return false}function al(){try{return n.activeElement}catch(e){}}bH.event={global:{},add:function(b7,cc,ch,b9,b8){var ca,ci,cj,b5,ce,cb,cg,b6,cf,e,i,cd=bH._data(b7);if(!cd){return}if(ch.handler){b5=ch;ch=b5.handler;b8=b5.selector}if(!ch.guid){ch.guid=bH.guid++}if(!(ci=cd.events)){ci=cd.events={}}if(!(cb=cd.handle)){cb=cd.handle=function(ck){return typeof bH!==aB&&(!ck||bH.event.triggered!==ck.type)?bH.event.dispatch.apply(cb.elem,arguments):undefined};cb.elem=b7}cc=(cc||"").match(aE)||[""];cj=cc.length;while(cj--){ca=bw.exec(cc[cj])||[];cf=i=ca[1];e=(ca[2]||"").split(".").sort();if(!cf){continue}ce=bH.event.special[cf]||{};cf=(b8?ce.delegateType:ce.bindType)||cf;ce=bH.event.special[cf]||{};cg=bH.extend({type:cf,origType:i,data:b9,handler:ch,guid:ch.guid,selector:b8,needsContext:b8&&bH.expr.match.needsContext.test(b8),namespace:e.join(".")},b5);if(!(b6=ci[cf])){b6=ci[cf]=[];b6.delegateCount=0;if(!ce.setup||ce.setup.call(b7,b9,e,cb)===false){if(b7.addEventListener){b7.addEventListener(cf,cb,false)}else{if(b7.attachEvent){b7.attachEvent("on"+cf,cb)}}}}if(ce.add){ce.add.call(b7,cg);if(!cg.handler.guid){cg.handler.guid=ch.guid}}if(b8){b6.splice(b6.delegateCount++,0,cg)}else{b6.push(cg)}bH.event.global[cf]=true}b7=null},remove:function(b6,cc,cj,b7,cb){var b9,cg,ca,b8,ci,ch,ce,b5,cf,e,i,cd=bH.hasData(b6)&&bH._data(b6);if(!cd||!(ch=cd.events)){return}cc=(cc||"").match(aE)||[""];ci=cc.length;while(ci--){ca=bw.exec(cc[ci])||[];cf=i=ca[1];e=(ca[2]||"").split(".").sort();if(!cf){for(cf in ch){bH.event.remove(b6,cf+cc[ci],cj,b7,true)}continue}ce=bH.event.special[cf]||{};cf=(b7?ce.delegateType:ce.bindType)||cf;b5=ch[cf]||[];ca=ca[2]&&new RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)");b8=b9=b5.length;while(b9--){cg=b5[b9];if((cb||i===cg.origType)&&(!cj||cj.guid===cg.guid)&&(!ca||ca.test(cg.namespace))&&(!b7||b7===cg.selector||b7==="**"&&cg.selector)){b5.splice(b9,1);if(cg.selector){b5.delegateCount--}if(ce.remove){ce.remove.call(b6,cg)}}}if(b8&&!b5.length){if(!ce.teardown||ce.teardown.call(b6,e,cd.handle)===false){bH.removeEvent(b6,cf,cd.handle)}delete ch[cf]}}if(bH.isEmptyObject(ch)){delete cd.handle;bH._removeData(b6,"events")}},trigger:function(b5,cc,b8,cj){var cd,b7,ch,ci,cf,cb,ca,b9=[b8||n],cg=J.call(b5,"type")?b5.type:b5,b6=J.call(b5,"namespace")?b5.namespace.split("."):[];ch=cb=b8=b8||n;if(b8.nodeType===3||b8.nodeType===8){return}if(bB.test(cg+bH.event.triggered)){return}if(cg.indexOf(".")>=0){b6=cg.split(".");cg=b6.shift();b6.sort()}b7=cg.indexOf(":")<0&&"on"+cg;b5=b5[bH.expando]?b5:new bH.Event(cg,typeof b5==="object"&&b5);b5.isTrigger=cj?2:3;b5.namespace=b6.join(".");b5.namespace_re=b5.namespace?new RegExp("(^|\\.)"+b6.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b5.result=undefined;if(!b5.target){b5.target=b8}cc=cc==null?[b5]:bH.makeArray(cc,[b5]);cf=bH.event.special[cg]||{};if(!cj&&cf.trigger&&cf.trigger.apply(b8,cc)===false){return}if(!cj&&!cf.noBubble&&!bH.isWindow(b8)){ci=cf.delegateType||cg;if(!bB.test(ci+cg)){ch=ch.parentNode}for(;ch;ch=ch.parentNode){b9.push(ch);cb=ch}if(cb===(b8.ownerDocument||n)){b9.push(cb.defaultView||cb.parentWindow||a4)}}ca=0;while((ch=b9[ca++])&&!b5.isPropagationStopped()){b5.type=ca>1?ci:cf.bindType||cg;cd=(bH._data(ch,"events")||{})[b5.type]&&bH._data(ch,"handle");if(cd){cd.apply(ch,cc)}cd=b7&&ch[b7];if(cd&&cd.apply&&bH.acceptData(ch)){b5.result=cd.apply(ch,cc);if(b5.result===false){b5.preventDefault()}}}b5.type=cg;if(!cj&&!b5.isDefaultPrevented()){if((!cf._default||cf._default.apply(b9.pop(),cc)===false)&&bH.acceptData(b8)){if(b7&&b8[cg]&&!bH.isWindow(b8)){cb=b8[b7];if(cb){b8[b7]=null}bH.event.triggered=cg;try{b8[cg]()}catch(ce){}bH.event.triggered=undefined;if(cb){b8[b7]=cb}}}}return b5.result},dispatch:function(e){e=bH.event.fix(e);var b8,b9,cd,b5,b7,cc=[],cb=O.call(arguments),b6=(bH._data(this,"events")||{})[e.type]||[],ca=bH.event.special[e.type]||{};cb[0]=e;e.delegateTarget=this;if(ca.preDispatch&&ca.preDispatch.call(this,e)===false){return}cc=bH.event.handlers.call(this,e,b6);b8=0;while((b5=cc[b8++])&&!e.isPropagationStopped()){e.currentTarget=b5.elem;b7=0;while((cd=b5.handlers[b7++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(cd.namespace)){e.handleObj=cd;e.data=cd.data;b9=((bH.event.special[cd.origType]||{}).handle||cd.handler).apply(b5.elem,cb);if(b9!==undefined){if((e.result=b9)===false){e.preventDefault();e.stopPropagation()}}}}}if(ca.postDispatch){ca.postDispatch.call(this,e)}return e.result},handlers:function(e,b6){var b5,cb,b9,b8,ca=[],b7=b6.delegateCount,cc=e.target;if(b7&&cc.nodeType&&(!e.button||e.type!=="click")){for(;cc!=this;cc=cc.parentNode||this){if(cc.nodeType===1&&(cc.disabled!==true||e.type!=="click")){b9=[];for(b8=0;b8<b7;b8++){cb=b6[b8];b5=cb.selector+" ";if(b9[b5]===undefined){b9[b5]=cb.needsContext?bH(b5,this).index(cc)>=0:bH.find(b5,this,null,[cc]).length}if(b9[b5]){b9.push(cb)}}if(b9.length){ca.push({elem:cc,handlers:b9})}}}}if(b7<b6.length){ca.push({elem:this,handlers:b6.slice(b7)})}return ca},fix:function(b7){if(b7[bH.expando]){return b7}var b5,ca,b9,b6=b7.type,e=b7,b8=this.fixHooks[b6];if(!b8){this.fixHooks[b6]=b8=bL.test(b6)?this.mouseHooks:a5.test(b6)?this.keyHooks:{}}b9=b8.props?this.props.concat(b8.props):this.props;b7=new bH.Event(e);b5=b9.length;while(b5--){ca=b9[b5];b7[ca]=e[ca]}if(!b7.target){b7.target=e.srcElement||n}if(b7.target.nodeType===3){b7.target=b7.target.parentNode}b7.metaKey=!!b7.metaKey;return b8.filter?b8.filter(b7,e):b7},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(i,e){if(i.which==null){i.which=e.charCode!=null?e.charCode:e.keyCode}return i}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b6,b5){var e,b7,b8,i=b5.button,b9=b5.fromElement;if(b6.pageX==null&&b5.clientX!=null){b7=b6.target.ownerDocument||n;b8=b7.documentElement;e=b7.body;b6.pageX=b5.clientX+(b8&&b8.scrollLeft||e&&e.scrollLeft||0)-(b8&&b8.clientLeft||e&&e.clientLeft||0);b6.pageY=b5.clientY+(b8&&b8.scrollTop||e&&e.scrollTop||0)-(b8&&b8.clientTop||e&&e.clientTop||0)}if(!b6.relatedTarget&&b9){b6.relatedTarget=b9===b6.target?b5.toElement:b9}if(!b6.which&&i!==undefined){b6.which=(i&1?1:(i&2?3:(i&4?2:0)))}return b6}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==al()&&this.focus){try{this.focus();return false}catch(i){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===al()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(bH.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}},_default:function(e){return bH.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==undefined&&e.originalEvent){e.originalEvent.returnValue=e.result}}}},simulate:function(b5,b7,b6,i){var b8=bH.extend(new bH.Event(),b6,{type:b5,isSimulated:true,originalEvent:{}});if(i){bH.event.trigger(b8,null,b7)}else{bH.event.dispatch.call(b7,b8)}if(b8.isDefaultPrevented()){b6.preventDefault()}}};bH.removeEvent=n.removeEventListener?function(i,e,b5){if(i.removeEventListener){i.removeEventListener(e,b5,false)}}:function(b5,i,b6){var e="on"+i;if(b5.detachEvent){if(typeof b5[e]===aB){b5[e]=null}b5.detachEvent(e,b6)}};bH.Event=function(i,e){if(!(this instanceof bH.Event)){return new bH.Event(i,e)}if(i&&i.type){this.originalEvent=i;this.type=i.type;this.isDefaultPrevented=i.defaultPrevented||i.defaultPrevented===undefined&&i.returnValue===false?T:Y}else{this.type=i}if(e){bH.extend(this,e)}this.timeStamp=i&&i.timeStamp||bH.now();this[bH.expando]=true};bH.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var i=this.originalEvent;this.isDefaultPrevented=T;if(!i){return}if(i.preventDefault){i.preventDefault()}else{i.returnValue=false}},stopPropagation:function(){var i=this.originalEvent;this.isPropagationStopped=T;if(!i){return}if(i.stopPropagation){i.stopPropagation()}i.cancelBubble=true},stopImmediatePropagation:function(){var i=this.originalEvent;this.isImmediatePropagationStopped=T;if(i&&i.stopImmediatePropagation){i.stopImmediatePropagation()}this.stopPropagation()}};bH.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(i,e){bH.event.special[i]={delegateType:e,bindType:e,handle:function(b7){var b5,b9=this,b8=b7.relatedTarget,b6=b7.handleObj;if(!b8||(b8!==b9&&!bH.contains(b9,b8))){b7.type=b6.origType;b5=b6.handler.apply(this,arguments);b7.type=e}return b5}}});if(!C.submitBubbles){bH.event.special.submit={setup:function(){if(bH.nodeName(this,"form")){return false}bH.event.add(this,"click._submit keypress._submit",function(b6){var b5=b6.target,i=bH.nodeName(b5,"input")||bH.nodeName(b5,"button")?b5.form:undefined;if(i&&!bH._data(i,"submitBubbles")){bH.event.add(i,"submit._submit",function(e){e._submit_bubble=true});bH._data(i,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bH.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bH.nodeName(this,"form")){return false}bH.event.remove(this,"._submit")}}}if(!C.changeBubbles){bH.event.special.change={setup:function(){if(bF.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bH.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bH.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bH.event.simulate("change",this,e,true)})}return false}bH.event.add(this,"beforeactivate._change",function(b5){var i=b5.target;if(bF.test(i.nodeName)&&!bH._data(i,"changeBubbles")){bH.event.add(i,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bH.event.simulate("change",this.parentNode,e,true)}});bH._data(i,"changeBubbles",true)}})},handle:function(i){var e=i.target;if(this!==e||i.isSimulated||i.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return i.handleObj.handler.apply(this,arguments)}},teardown:function(){bH.event.remove(this,"._change");return !bF.test(this.nodeName)}}}if(!C.focusinBubbles){bH.each({focus:"focusin",blur:"focusout"},function(b5,e){var i=function(b6){bH.event.simulate(e,b6.target,bH.event.fix(b6),true)};bH.event.special[e]={setup:function(){var b7=this.ownerDocument||this,b6=bH._data(b7,e);if(!b6){b7.addEventListener(b5,i,true)}bH._data(b7,e,(b6||0)+1)},teardown:function(){var b7=this.ownerDocument||this,b6=bH._data(b7,e)-1;if(!b6){b7.removeEventListener(b5,i,true);bH._removeData(b7,e)}else{bH._data(b7,e,b6)}}}})}bH.fn.extend({on:function(b5,e,b8,b7,i){var b6,b9;if(typeof b5==="object"){if(typeof e!=="string"){b8=b8||e;e=undefined}for(b6 in b5){this.on(b6,e,b8,b5[b6],i)}return this}if(b8==null&&b7==null){b7=e;b8=e=undefined}else{if(b7==null){if(typeof e==="string"){b7=b8;b8=undefined}else{b7=b8;b8=e;e=undefined}}}if(b7===false){b7=Y}else{if(!b7){return this}}if(i===1){b9=b7;b7=function(ca){bH().off(ca);return b9.apply(this,arguments)};b7.guid=b9.guid||(b9.guid=bH.guid++)}return this.each(function(){bH.event.add(this,b5,b7,b8,e)})},one:function(i,e,b6,b5){return this.on(i,e,b6,b5,1)},off:function(b5,e,b7){var i,b6;if(b5&&b5.preventDefault&&b5.handleObj){i=b5.handleObj;bH(b5.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);return this}if(typeof b5==="object"){for(b6 in b5){this.off(b6,e,b5[b6])}return this}if(e===false||typeof e==="function"){b7=e;e=undefined}if(b7===false){b7=Y}return this.each(function(){bH.event.remove(this,b5,b7,e)})},trigger:function(e,i){return this.each(function(){bH.event.trigger(e,i,this)})},triggerHandler:function(e,b5){var i=this[0];if(i){return bH.event.trigger(e,b5,i,true)}}});function A(e){var b5=d.split("|"),i=e.createDocumentFragment();if(i.createElement){while(b5.length){i.createElement(b5.pop())}}return i}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aC=/ jQuery\d+="(?:null|\d+)"/g,L=new RegExp("<(?:"+d+")[\\s/>]","i"),b4=/^\s+/,aG=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,o=/<([\w:]+)/,bZ=/<tbody/i,K=/<|&#?\w+;/,am=/<(?:script|style|link)/i,bV=/checked\s*(?:[^=]|=\s*.checked.)/i,bA=/^$|\/(?:java|ecma)script/i,aq=/^true\/(.*)/,aN=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,V={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:C.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},aS=A(n),k=aS.appendChild(n.createElement("div"));V.optgroup=V.option;V.tbody=V.tfoot=V.colgroup=V.caption=V.thead;V.th=V.td;function l(b7,e){var b5,b8,b6=0,b9=typeof b7.getElementsByTagName!==aB?b7.getElementsByTagName(e||"*"):typeof b7.querySelectorAll!==aB?b7.querySelectorAll(e||"*"):undefined;if(!b9){for(b9=[],b5=b7.childNodes||b7;(b8=b5[b6])!=null;b6++){if(!e||bH.nodeName(b8,e)){b9.push(b8)}else{bH.merge(b9,l(b8,e))}}}return e===undefined||e&&bH.nodeName(b7,e)?bH.merge([b7],b9):b9}function bX(e){if(aL.test(e.type)){e.defaultChecked=e.checked}}function a2(i,e){return bH.nodeName(i,"table")&&bH.nodeName(e.nodeType!==11?e:e.firstChild,"tr")?i.getElementsByTagName("tbody")[0]||i.appendChild(i.ownerDocument.createElement("tbody")):i}function t(e){e.type=(bH.find.attr(e,"type")!==null)+"/"+e.type;return e}function be(i){var e=aq.exec(i.type);if(e){i.type=e[1]}else{i.removeAttribute("type")}return i}function bt(e,b6){var b7,b5=0;for(;(b7=e[b5])!=null;b5++){bH._data(b7,"globalEval",!b6||bH._data(b6[b5],"globalEval"))}}function ar(cb,b5){if(b5.nodeType!==1||!bH.hasData(cb)){return}var b8,b7,e,ca=bH._data(cb),b9=bH._data(b5,ca),b6=ca.events;if(b6){delete b9.handle;b9.events={};for(b8 in b6){for(b7=0,e=b6[b8].length;b7<e;b7++){bH.event.add(b5,b8,b6[b8][b7])}}}if(b9.data){b9.data=bH.extend({},b9.data)}}function S(b7,i){var b8,b6,b5;if(i.nodeType!==1){return}b8=i.nodeName.toLowerCase();if(!C.noCloneEvent&&i[bH.expando]){b5=bH._data(i);for(b6 in b5.events){bH.removeEvent(i,b6,b5.handle)}i.removeAttribute(bH.expando)}if(b8==="script"&&i.text!==b7.text){t(i).text=b7.text;be(i)}else{if(b8==="object"){if(i.parentNode){i.outerHTML=b7.outerHTML}if(C.html5Clone&&(b7.innerHTML&&!bH.trim(i.innerHTML))){i.innerHTML=b7.innerHTML}}else{if(b8==="input"&&aL.test(b7.type)){i.defaultChecked=i.checked=b7.checked;if(i.value!==b7.value){i.value=b7.value}}else{if(b8==="option"){i.defaultSelected=i.selected=b7.defaultSelected}else{if(b8==="input"||b8==="textarea"){i.defaultValue=b7.defaultValue}}}}}}bH.extend({clone:function(b5,b7,e){var b9,b6,cc,b8,ca,cb=bH.contains(b5.ownerDocument,b5);if(C.html5Clone||bH.isXMLDoc(b5)||!L.test("<"+b5.nodeName+">")){cc=b5.cloneNode(true)}else{k.innerHTML=b5.outerHTML;k.removeChild(cc=k.firstChild)}if((!C.noCloneEvent||!C.noCloneChecked)&&(b5.nodeType===1||b5.nodeType===11)&&!bH.isXMLDoc(b5)){b9=l(cc);ca=l(b5);for(b8=0;(b6=ca[b8])!=null;++b8){if(b9[b8]){S(b6,b9[b8])}}}if(b7){if(e){ca=ca||l(b5);b9=b9||l(cc);for(b8=0;(b6=ca[b8])!=null;b8++){ar(b6,b9[b8])}}else{ar(b5,cc)}}b9=l(cc,"script");if(b9.length>0){bt(b9,!cb&&l(b5,"script"))}b9=ca=b6=null;return cc},buildFragment:function(b5,b7,cc,ch){var cd,b9,cb,cg,ci,cf,b6,ca=b5.length,b8=A(b7),e=[],ce=0;for(;ce<ca;ce++){b9=b5[ce];if(b9||b9===0){if(bH.type(b9)==="object"){bH.merge(e,b9.nodeType?[b9]:b9)}else{if(!K.test(b9)){e.push(b7.createTextNode(b9))}else{cg=cg||b8.appendChild(b7.createElement("div"));ci=(o.exec(b9)||["",""])[1].toLowerCase();b6=V[ci]||V._default;cg.innerHTML=b6[1]+b9.replace(aG,"<$1></$2>")+b6[2];cd=b6[0];while(cd--){cg=cg.lastChild}if(!C.leadingWhitespace&&b4.test(b9)){e.push(b7.createTextNode(b4.exec(b9)[0]))}if(!C.tbody){b9=ci==="table"&&!bZ.test(b9)?cg.firstChild:b6[1]==="<table>"&&!bZ.test(b9)?cg:0;cd=b9&&b9.childNodes.length;while(cd--){if(bH.nodeName((cf=b9.childNodes[cd]),"tbody")&&!cf.childNodes.length){b9.removeChild(cf)}}}bH.merge(e,cg.childNodes);cg.textContent="";while(cg.firstChild){cg.removeChild(cg.firstChild)}cg=b8.lastChild}}}}if(cg){b8.removeChild(cg)}if(!C.appendChecked){bH.grep(l(e,"input"),bX)}ce=0;while((b9=e[ce++])){if(ch&&bH.inArray(b9,ch)!==-1){continue}cb=bH.contains(b9.ownerDocument,b9);cg=l(b8.appendChild(b9),"script");if(cb){bt(cg)}if(cc){cd=0;while((b9=cg[cd++])){if(bA.test(b9.type||"")){cc.push(b9)}}}}cg=null;return b8},cleanData:function(b5,cd){var b7,cc,b6,b8,b9=0,ce=bH.expando,e=bH.cache,ca=C.deleteExpando,cb=bH.event.special;for(;(b7=b5[b9])!=null;b9++){if(cd||bH.acceptData(b7)){b6=b7[ce];b8=b6&&e[b6];if(b8){if(b8.events){for(cc in b8.events){if(cb[cc]){bH.event.remove(b7,cc)}else{bH.removeEvent(b7,cc,b8.handle)}}}if(e[b6]){delete e[b6];if(ca){delete b7[ce]}else{if(typeof b7.removeAttribute!==aB){b7.removeAttribute(ce)}else{b7[ce]=null}}aO.push(b6)}}}}}});bH.fn.extend({text:function(e){return aA(this,function(i){return i===undefined?bH.text(this):this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(i))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var i=a2(this,e);i.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var i=a2(this,e);i.insertBefore(e,i.firstChild)}})},before:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,b8){var b7,b5=e?bH.filter(e,this):this,b6=0;for(;(b7=b5[b6])!=null;b6++){if(!b8&&b7.nodeType===1){bH.cleanData(l(b7))}if(b7.parentNode){if(b8&&bH.contains(b7.ownerDocument,b7)){bt(l(b7,"script"))}b7.parentNode.removeChild(b7)}}return this},empty:function(){var b5,e=0;for(;(b5=this[e])!=null;e++){if(b5.nodeType===1){bH.cleanData(l(b5,false))}while(b5.firstChild){b5.removeChild(b5.firstChild)}if(b5.options&&bH.nodeName(b5,"select")){b5.options.length=0}}return this},clone:function(i,e){i=i==null?false:i;e=e==null?i:e;return this.map(function(){return bH.clone(this,i,e)})},html:function(e){return aA(this,function(b8){var b7=this[0]||{},b6=0,b5=this.length;if(b8===undefined){return b7.nodeType===1?b7.innerHTML.replace(aC,""):undefined}if(typeof b8==="string"&&!am.test(b8)&&(C.htmlSerialize||!L.test(b8))&&(C.leadingWhitespace||!b4.test(b8))&&!V[(o.exec(b8)||["",""])[1].toLowerCase()]){b8=b8.replace(aG,"<$1></$2>");try{for(;b6<b5;b6++){b7=this[b6]||{};if(b7.nodeType===1){bH.cleanData(l(b7,false));b7.innerHTML=b8}}b7=0}catch(b9){}}if(b7){this.empty().append(b8)}},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];this.domManip(arguments,function(i){e=this.parentNode;bH.cleanData(l(this));if(e){e.replaceChild(i,this)}});return e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,true)},domManip:function(cc,ch){cc=ay.apply([],cc);var ca,b6,e,b8,cf,cb,b9=0,b7=this.length,ce=this,cg=b7-1,cd=cc[0],b5=bH.isFunction(cd);if(b5||(b7>1&&typeof cd==="string"&&!C.checkClone&&bV.test(cd))){return this.each(function(ci){var i=ce.eq(ci);if(b5){cc[0]=cd.call(this,ci,i.html())}i.domManip(cc,ch)})}if(b7){cb=bH.buildFragment(cc,this[0].ownerDocument,false,this);ca=cb.firstChild;if(cb.childNodes.length===1){cb=ca}if(ca){b8=bH.map(l(cb,"script"),t);e=b8.length;for(;b9<b7;b9++){b6=cb;if(b9!==cg){b6=bH.clone(b6,true,true);if(e){bH.merge(b8,l(b6,"script"))}}ch.call(this[b9],b6,b9)}if(e){cf=b8[b8.length-1].ownerDocument;bH.map(b8,be);for(b9=0;b9<e;b9++){b6=b8[b9];if(bA.test(b6.type||"")&&!bH._data(b6,"globalEval")&&bH.contains(cf,b6)){if(b6.src){if(bH._evalUrl){bH._evalUrl(b6.src)}}else{bH.globalEval((b6.text||b6.textContent||b6.innerHTML||"").replace(aN,""))}}}}cb=ca=null}}return this}});bH.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,i){bH.fn[e]=function(b5){var b6,b8=0,b7=[],ca=bH(b5),b9=ca.length-1;for(;b8<=b9;b8++){b6=b8===b9?this:this.clone(true);bH(ca[b8])[i](b6);w.apply(b7,b6.get())}return this.pushStack(b7)}});var aH,bk={};function a3(e,b7){var i,b5=bH(b7.createElement(e)).appendTo(b7.body),b6=a4.getDefaultComputedStyle&&(i=a4.getDefaultComputedStyle(b5[0]))?i.display:bH.css(b5[0],"display");b5.detach();return b6}function aZ(b5){var i=n,e=bk[b5];if(!e){e=a3(b5,i);if(e==="none"||!e){aH=(aH||bH("<iframe frameborder='0' width='0' height='0'/>")).appendTo(i.documentElement);i=(aH[0].contentWindow||aH[0].contentDocument).document;i.write();i.close();e=a3(b5,i);aH.detach()}bk[b5]=e}return e}(function(){var e;C.shrinkWrapBlocks=function(){if(e!=null){return e}e=false;var b6,i,b5;i=n.getElementsByTagName("body")[0];if(!i||!i.style){return}b6=n.createElement("div");b5=n.createElement("div");b5.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";i.appendChild(b5).appendChild(b6);if(typeof b6.style.zoom!==aB){b6.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1";b6.appendChild(n.createElement("div")).style.width="5px";e=b6.offsetWidth!==3}i.removeChild(b5);return e}})();var aY=(/^margin/);var X=new RegExp("^("+aD+")(?!px)[a-z%]+$","i");var bp,F,bn=/^(top|right|bottom|left)$/;if(a4.getComputedStyle){bp=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};F=function(ca,i,b9){var b7,b6,b8,e,b5=ca.style;b9=b9||bp(ca);e=b9?b9.getPropertyValue(i)||b9[i]:undefined;if(b9){if(e===""&&!bH.contains(ca.ownerDocument,ca)){e=bH.style(ca,i)}if(X.test(e)&&aY.test(i)){b7=b5.width;b6=b5.minWidth;b8=b5.maxWidth;b5.minWidth=b5.maxWidth=b5.width=e;e=b9.width;b5.width=b7;b5.minWidth=b6;b5.maxWidth=b8}}return e===undefined?e:e+""}}else{if(n.documentElement.currentStyle){bp=function(e){return e.currentStyle};F=function(b9,b6,b8){var ca,i,e,b5,b7=b9.style;b8=b8||bp(b9);b5=b8?b8[b6]:undefined;if(b5==null&&b7&&b7[b6]){b5=b7[b6]}if(X.test(b5)&&!bn.test(b6)){ca=b7.left;i=b9.runtimeStyle;e=i&&i.left;if(e){i.left=b9.currentStyle.left}b7.left=b6==="fontSize"?"1em":b5;b5=b7.pixelLeft+"px";b7.left=ca;if(e){i.left=e}}return b5===undefined?b5:b5+""||"auto"}}}function a6(e,i){return{get:function(){var b5=e();if(b5==null){return}if(b5){delete this.get;return}return(this.get=i).apply(this,arguments)}}}(function(){var ca,b8,b6,b9,b5,b7,i;ca=n.createElement("div");ca.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";b6=ca.getElementsByTagName("a")[0];b8=b6&&b6.style;if(!b8){return}b8.cssText="float:left;opacity:.5";C.opacity=b8.opacity==="0.5";C.cssFloat=!!b8.cssFloat;ca.style.backgroundClip="content-box";ca.cloneNode(true).style.backgroundClip="";C.clearCloneStyle=ca.style.backgroundClip==="content-box";C.boxSizing=b8.boxSizing===""||b8.MozBoxSizing===""||b8.WebkitBoxSizing==="";bH.extend(C,{reliableHiddenOffsets:function(){if(b7==null){e()}return b7},boxSizingReliable:function(){if(b5==null){e()}return b5},pixelPosition:function(){if(b9==null){e()}return b9},reliableMarginRight:function(){if(i==null){e()}return i}});function e(){var ce,cb,cc,cd;cb=n.getElementsByTagName("body")[0];if(!cb||!cb.style){return}ce=n.createElement("div");cc=n.createElement("div");cc.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";cb.appendChild(cc).appendChild(ce);ce.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";b9=b5=false;i=true;if(a4.getComputedStyle){b9=(a4.getComputedStyle(ce,null)||{}).top!=="1%";b5=(a4.getComputedStyle(ce,null)||{width:"4px"}).width==="4px";cd=ce.appendChild(n.createElement("div"));cd.style.cssText=ce.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";cd.style.marginRight=cd.style.width="0";ce.style.width="1px";i=!parseFloat((a4.getComputedStyle(cd,null)||{}).marginRight)}ce.innerHTML="<table><tr><td></td><td>t</td></tr></table>";cd=ce.getElementsByTagName("td");cd[0].style.cssText="margin:0;border:0;padding:0;display:none";b7=cd[0].offsetHeight===0;if(b7){cd[0].style.display="";cd[1].style.display="none";b7=cd[0].offsetHeight===0}cb.removeChild(cc)}})();bH.swap=function(b8,b7,b9,b6){var b5,i,e={};for(i in b7){e[i]=b8.style[i];b8.style[i]=b7[i]}b5=b9.apply(b8,b6||[]);for(i in b7){b8.style[i]=e[i]}return b5};var bi=/alpha\([^)]*\)/i,aT=/opacity\s*=\s*([^)]*)/,G=/^(none|table(?!-c[ea]).+)/,ba=new RegExp("^("+aD+")(.*)$","i"),U=new RegExp("^([+-])=("+aD+")","i"),bd={position:"absolute",visibility:"hidden",display:"block"},bC={letterSpacing:"0",fontWeight:"400"},av=["Webkit","O","Moz","ms"];function c(b7,b5){if(b5 in b7){return b5}var b8=b5.charAt(0).toUpperCase()+b5.slice(1),e=b5,b6=av.length;while(b6--){b5=av[b6]+b8;if(b5 in b7){return b5}}return e}function r(b9,e){var ca,b7,b8,i=[],b5=0,b6=b9.length;for(;b5<b6;b5++){b7=b9[b5];if(!b7.style){continue}i[b5]=bH._data(b7,"olddisplay");ca=b7.style.display;if(e){if(!i[b5]&&ca==="none"){b7.style.display=""}if(b7.style.display===""&&R(b7)){i[b5]=bH._data(b7,"olddisplay",aZ(b7.nodeName))}}else{b8=R(b7);if(ca&&ca!=="none"||!b8){bH._data(b7,"olddisplay",b8?ca:bH.css(b7,"display"))}}}for(b5=0;b5<b6;b5++){b7=b9[b5];if(!b7.style){continue}if(!e||b7.style.display==="none"||b7.style.display===""){b7.style.display=e?i[b5]||"":"none"}}return b9}function aM(e,b5,b6){var i=ba.exec(b5);return i?Math.max(0,i[1]-(b6||0))+(i[2]||"px"):b5}function aw(b8,b5,e,ca,b7){var b6=e===(ca?"border":"content")?4:b5==="width"?1:0,b9=0;for(;b6<4;b6+=2){if(e==="margin"){b9+=bH.css(b8,e+bS[b6],true,b7)}if(ca){if(e==="content"){b9-=bH.css(b8,"padding"+bS[b6],true,b7)}if(e!=="margin"){b9-=bH.css(b8,"border"+bS[b6]+"Width",true,b7)}}else{b9+=bH.css(b8,"padding"+bS[b6],true,b7);if(e!=="padding"){b9+=bH.css(b8,"border"+bS[b6]+"Width",true,b7)}}}return b9}function u(b7,i,e){var b6=true,b8=i==="width"?b7.offsetWidth:b7.offsetHeight,b5=bp(b7),b9=C.boxSizing&&bH.css(b7,"boxSizing",false,b5)==="border-box";if(b8<=0||b8==null){b8=F(b7,i,b5);if(b8<0||b8==null){b8=b7.style[i]}if(X.test(b8)){return b8}b6=b9&&(C.boxSizingReliable()||b8===b7.style[i]);b8=parseFloat(b8)||0}return(b8+aw(b7,i,e||(b9?"border":"content"),b6,b5))+"px"}bH.extend({cssHooks:{opacity:{get:function(b5,i){if(i){var e=F(b5,"opacity");return e===""?"1":e}}}},cssNumber:{columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":C.cssFloat?"cssFloat":"styleFloat"},style:function(b6,b5,cc,b7){if(!b6||b6.nodeType===3||b6.nodeType===8||!b6.style){return}var ca,cb,cd,b8=bH.camelCase(b5),i=b6.style;b5=bH.cssProps[b8]||(bH.cssProps[b8]=c(i,b8));cd=bH.cssHooks[b5]||bH.cssHooks[b8];if(cc!==undefined){cb=typeof cc;if(cb==="string"&&(ca=U.exec(cc))){cc=(ca[1]+1)*ca[2]+parseFloat(bH.css(b6,b5));cb="number"}if(cc==null||cc!==cc){return}if(cb==="number"&&!bH.cssNumber[b8]){cc+="px"}if(!C.clearCloneStyle&&cc===""&&b5.indexOf("background")===0){i[b5]="inherit"}if(!cd||!("set" in cd)||(cc=cd.set(b6,cc,b7))!==undefined){try{i[b5]=cc}catch(b9){}}}else{if(cd&&"get" in cd&&(ca=cd.get(b6,false,b7))!==undefined){return ca}return i[b5]}},css:function(b9,b7,i,b8){var b6,ca,e,b5=bH.camelCase(b7);b7=bH.cssProps[b5]||(bH.cssProps[b5]=c(b9.style,b5));e=bH.cssHooks[b7]||bH.cssHooks[b5];if(e&&"get" in e){ca=e.get(b9,true,i)}if(ca===undefined){ca=F(b9,b7,b8)}if(ca==="normal"&&b7 in bC){ca=bC[b7]}if(i===""||i){b6=parseFloat(ca);return i===true||bH.isNumeric(b6)?b6||0:ca}return ca}});bH.each(["height","width"],function(b5,e){bH.cssHooks[e]={get:function(b7,b6,i){if(b6){return G.test(bH.css(b7,"display"))&&b7.offsetWidth===0?bH.swap(b7,bd,function(){return u(b7,e,i)}):u(b7,e,i)}},set:function(b7,b8,i){var b6=i&&bp(b7);return aM(b7,b8,i?aw(b7,e,i,C.boxSizing&&bH.css(b7,"boxSizing",false,b6)==="border-box",b6):0)}}});if(!C.opacity){bH.cssHooks.opacity={get:function(i,e){return aT.test((e&&i.currentStyle?i.currentStyle.filter:i.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b7,b8){var b6=b7.style,i=b7.currentStyle,e=bH.isNumeric(b8)?"alpha(opacity="+b8*100+")":"",b5=i&&i.filter||b6.filter||"";b6.zoom=1;if((b8>=1||b8==="")&&bH.trim(b5.replace(bi,""))===""&&b6.removeAttribute){b6.removeAttribute("filter");if(b8===""||i&&!i.filter){return}}b6.filter=bi.test(b5)?b5.replace(bi,e):b5+" "+e}}}bH.cssHooks.marginRight=a6(C.reliableMarginRight,function(i,e){if(e){return bH.swap(i,{display:"inline-block"},F,[i,"marginRight"])}});bH.each({margin:"",padding:"",border:"Width"},function(e,i){bH.cssHooks[e+i]={expand:function(b7){var b6=0,b5={},b8=typeof b7==="string"?b7.split(" "):[b7];for(;b6<4;b6++){b5[e+bS[b6]+i]=b8[b6]||b8[b6-2]||b8[0]}return b5}};if(!aY.test(e)){bH.cssHooks[e+i].set=aM}});bH.fn.extend({css:function(e,i){return aA(this,function(b9,b6,ca){var b8,b5,cb={},b7=0;if(bH.isArray(b6)){b8=bp(b9);b5=b6.length;for(;b7<b5;b7++){cb[b6[b7]]=bH.css(b9,b6[b7],false,b8)}return cb}return ca!==undefined?bH.style(b9,b6,ca):bH.css(b9,b6)},e,i,arguments.length>1)},show:function(){return r(this,true)},hide:function(){return r(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(R(this)){bH(this).show()}else{bH(this).hide()}})}});function I(b5,i,b7,e,b6){return new I.prototype.init(b5,i,b7,e,b6)}bH.Tween=I;I.prototype={constructor:I,init:function(b6,i,b8,e,b7,b5){this.elem=b6;this.prop=b8;this.easing=b7||"swing";this.options=i;this.start=this.now=this.cur();this.end=e;this.unit=b5||(bH.cssNumber[b8]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(b5){var i,e=I.propHooks[this.prop];if(this.options.duration){this.pos=i=bH.easing[this.easing](b5,this.options.duration*b5,0,1,this.options.duration)}else{this.pos=i=b5}this.now=(this.end-this.start)*i+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{I.propHooks._default.set(this)}return this}};I.prototype.init.prototype=I.prototype;I.propHooks={_default:{get:function(i){var e;if(i.elem[i.prop]!=null&&(!i.elem.style||i.elem.style[i.prop]==null)){return i.elem[i.prop]}e=bH.css(i.elem,i.prop,"");return !e||e==="auto"?0:e},set:function(e){if(bH.fx.step[e.prop]){bH.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bH.cssProps[e.prop]]!=null||bH.cssHooks[e.prop])){bH.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bH.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bH.fx=I.prototype.init;bH.fx.step={};var M,ad,bQ=/^(?:toggle|show|hide)$/,bI=new RegExp("^(?:([+-])=|)("+aD+")([a-z%]*)$","i"),bO=/queueHooks$/,aF=[h],a1={"*":[function(e,b9){var cb=this.createTween(e,b9),b7=cb.cur(),b6=bI.exec(b9),ca=b6&&b6[3]||(bH.cssNumber[e]?"":"px"),i=(bH.cssNumber[e]||ca!=="px"&&+b7)&&bI.exec(bH.css(cb.elem,e)),b5=1,b8=20;if(i&&i[3]!==ca){ca=ca||i[3];b6=b6||[];i=+b7||1;do{b5=b5||".5";i=i/b5;bH.style(cb.elem,e,i+ca)}while(b5!==(b5=cb.cur()/b7)&&b5!==1&&--b8)}if(b6){i=cb.start=+i||+b7||0;cb.unit=ca;cb.end=b6[1]?i+(b6[1]+1)*b6[2]:+b6[2]}return cb}]};function bm(){setTimeout(function(){M=undefined});return(M=bH.now())}function bG(b6,b8){var b7,e={height:b6},b5=0;b8=b8?1:0;for(;b5<4;b5+=2-b8){b7=bS[b5];e["margin"+b7]=e["padding"+b7]=b6}if(b8){e.opacity=e.width=b6}return e}function bc(b7,b9,b6){var i,b8=(a1[b9]||[]).concat(a1["*"]),e=0,b5=b8.length;for(;e<b5;e++){if((i=b8[e].call(b6,b9,b7))){return i}}}function h(b6,cb,e){var b5,ce,b8,ch,ci,cf,ca,cd,b7=this,cc={},i=b6.style,b9=b6.nodeType&&R(b6),cg=bH._data(b6,"fxshow");if(!e.queue){ci=bH._queueHooks(b6,"fx");if(ci.unqueued==null){ci.unqueued=0;cf=ci.empty.fire;ci.empty.fire=function(){if(!ci.unqueued){cf()}}}ci.unqueued++;b7.always(function(){b7.always(function(){ci.unqueued--;if(!bH.queue(b6,"fx").length){ci.empty.fire()}})})}if(b6.nodeType===1&&("height" in cb||"width" in cb)){e.overflow=[i.overflow,i.overflowX,i.overflowY];ca=bH.css(b6,"display");cd=ca==="none"?bH._data(b6,"olddisplay")||aZ(b6.nodeName):ca;if(cd==="inline"&&bH.css(b6,"float")==="none"){if(!C.inlineBlockNeedsLayout||aZ(b6.nodeName)==="inline"){i.display="inline-block"}else{i.zoom=1}}}if(e.overflow){i.overflow="hidden";if(!C.shrinkWrapBlocks()){b7.always(function(){i.overflow=e.overflow[0];i.overflowX=e.overflow[1];i.overflowY=e.overflow[2]})}}for(b5 in cb){ce=cb[b5];if(bQ.exec(ce)){delete cb[b5];b8=b8||ce==="toggle";if(ce===(b9?"hide":"show")){if(ce==="show"&&cg&&cg[b5]!==undefined){b9=true}else{continue}}cc[b5]=cg&&cg[b5]||bH.style(b6,b5)}else{ca=undefined}}if(!bH.isEmptyObject(cc)){if(cg){if("hidden" in cg){b9=cg.hidden}}else{cg=bH._data(b6,"fxshow",{})}if(b8){cg.hidden=!b9}if(b9){bH(b6).show()}else{b7.done(function(){bH(b6).hide()})}b7.done(function(){var cj;bH._removeData(b6,"fxshow");for(cj in cc){bH.style(b6,cj,cc[cj])}});for(b5 in cc){ch=bc(b9?cg[b5]:0,b5,b7);if(!(b5 in cg)){cg[b5]=ch.start;if(b9){ch.end=ch.start;ch.start=b5==="width"||b5==="height"?1:0}}}}else{if((ca==="none"?aZ(b6.nodeName):ca)==="inline"){i.display=ca}}}function an(b6,b8){var b5,i,b9,b7,e;for(b5 in b6){i=bH.camelCase(b5);b9=b8[i];b7=b6[b5];if(bH.isArray(b7)){b9=b7[1];b7=b6[b5]=b7[0]}if(b5!==i){b6[i]=b7;delete b6[b5]}e=bH.cssHooks[i];if(e&&"expand" in e){b7=e.expand(b7);delete b6[i];for(b5 in b7){if(!(b5 in b6)){b6[b5]=b7[b5];b8[b5]=b9}}}else{b8[i]=b9}}}function f(b5,b9,cc){var cd,e,b8=0,i=aF.length,cb=bH.Deferred().always(function(){delete b7.elem}),b7=function(){if(e){return false}var cj=M||bm(),cg=Math.max(0,b6.startTime+b6.duration-cj),ce=cg/b6.duration||0,ci=1-ce,cf=0,ch=b6.tweens.length;for(;cf<ch;cf++){b6.tweens[cf].run(ci)}cb.notifyWith(b5,[b6,ci,cg]);if(ci<1&&ch){return cg}else{cb.resolveWith(b5,[b6]);return false}},b6=cb.promise({elem:b5,props:bH.extend({},b9),opts:bH.extend(true,{specialEasing:{}},cc),originalProperties:b9,originalOptions:cc,startTime:M||bm(),duration:cc.duration,tweens:[],createTween:function(cg,ce){var cf=bH.Tween(b5,b6.opts,cg,ce,b6.opts.specialEasing[cg]||b6.opts.easing);b6.tweens.push(cf);return cf},stop:function(cf){var ce=0,cg=cf?b6.tweens.length:0;if(e){return this}e=true;for(;ce<cg;ce++){b6.tweens[ce].run(1)}if(cf){cb.resolveWith(b5,[b6,cf])}else{cb.rejectWith(b5,[b6,cf])}return this}}),ca=b6.props;an(ca,b6.opts.specialEasing);for(;b8<i;b8++){cd=aF[b8].call(b6,b5,ca,b6.opts);if(cd){return cd}}bH.map(ca,bc,b6);if(bH.isFunction(b6.opts.start)){b6.opts.start.call(b5,b6)}bH.fx.timer(bH.extend(b7,{elem:b5,anim:b6,queue:b6.opts.queue}));return b6.progress(b6.opts.progress).done(b6.opts.done,b6.opts.complete).fail(b6.opts.fail).always(b6.opts.always)}bH.Animation=bH.extend(f,{tweener:function(i,b7){if(bH.isFunction(i)){b7=i;i=["*"]}else{i=i.split(" ")}var b6,e=0,b5=i.length;for(;e<b5;e++){b6=i[e];a1[b6]=a1[b6]||[];a1[b6].unshift(b7)}},prefilter:function(i,e){if(e){aF.unshift(i)}else{aF.push(i)}}});bH.speed=function(b5,b6,i){var e=b5&&typeof b5==="object"?bH.extend({},b5):{complete:i||!i&&b6||bH.isFunction(b5)&&b5,duration:b5,easing:i&&b6||b6&&!bH.isFunction(b6)&&b6};e.duration=bH.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bH.fx.speeds?bH.fx.speeds[e.duration]:bH.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bH.isFunction(e.old)){e.old.call(this)}if(e.queue){bH.dequeue(this,e.queue)}};return e};bH.fn.extend({fadeTo:function(e,b6,b5,i){return this.filter(R).css("opacity",0).show().end().animate({opacity:b6},e,b5,i)},animate:function(b9,b6,b8,b7){var b5=bH.isEmptyObject(b9),e=bH.speed(b6,b8,b7),i=function(){var ca=f(this,bH.extend({},b9),e);if(b5||bH._data(this,"finish")){ca.stop(true)}};i.finish=i;return b5||e.queue===false?this.each(i):this.queue(e.queue,i)},stop:function(b5,i,e){var b6=function(b7){var b8=b7.stop;delete b7.stop;b8(e)};if(typeof b5!=="string"){e=i;i=b5;b5=undefined}if(i&&b5!==false){this.queue(b5||"fx",[])}return this.each(function(){var ca=true,b7=b5!=null&&b5+"queueHooks",b9=bH.timers,b8=bH._data(this);if(b7){if(b8[b7]&&b8[b7].stop){b6(b8[b7])}}else{for(b7 in b8){if(b8[b7]&&b8[b7].stop&&bO.test(b7)){b6(b8[b7])}}}for(b7=b9.length;b7--;){if(b9[b7].elem===this&&(b5==null||b9[b7].queue===b5)){b9[b7].anim.stop(e);ca=false;b9.splice(b7,1)}}if(ca||!e){bH.dequeue(this,b5)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var b6,b9=bH._data(this),b5=b9[e+"queue"],i=b9[e+"queueHooks"],b8=bH.timers,b7=b5?b5.length:0;b9.finish=true;bH.queue(this,e,[]);if(i&&i.stop){i.stop.call(this,true)}for(b6=b8.length;b6--;){if(b8[b6].elem===this&&b8[b6].queue===e){b8[b6].anim.stop(true);b8.splice(b6,1)}}for(b6=0;b6<b7;b6++){if(b5[b6]&&b5[b6].finish){b5[b6].finish.call(this)}}delete b9.finish})}});bH.each(["toggle","show","hide"],function(b5,e){var b6=bH.fn[e];bH.fn[e]=function(i,b8,b7){return i==null||typeof i==="boolean"?b6.apply(this,arguments):this.animate(bG(e,true),i,b8,b7)}});bH.each({slideDown:bG("show"),slideUp:bG("hide"),slideToggle:bG("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){bH.fn[e]=function(b5,b7,b6){return this.animate(i,b5,b7,b6)}});bH.timers=[];bH.fx.tick=function(){var b6,b5=bH.timers,e=0;M=bH.now();for(;e<b5.length;e++){b6=b5[e];if(!b6()&&b5[e]===b6){b5.splice(e--,1)}}if(!b5.length){bH.fx.stop()}M=undefined};bH.fx.timer=function(e){bH.timers.push(e);if(e()){bH.fx.start()}else{bH.timers.pop()}};bH.fx.interval=13;bH.fx.start=function(){if(!ad){ad=setInterval(bH.fx.tick,bH.fx.interval)}};bH.fx.stop=function(){clearInterval(ad);ad=null};bH.fx.speeds={slow:600,fast:200,_default:400};bH.fn.delay=function(i,e){i=bH.fx?bH.fx.speeds[i]||i:i;e=e||"fx";return this.queue(e,function(b6,b5){var b7=setTimeout(b6,i);b5.stop=function(){clearTimeout(b7)}})};(function(){var b5,b7,e,i,b6;b7=n.createElement("div");b7.setAttribute("className","t");b7.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";i=b7.getElementsByTagName("a")[0];e=n.createElement("select");b6=e.appendChild(n.createElement("option"));b5=b7.getElementsByTagName("input")[0];i.style.cssText="top:1px";C.getSetAttribute=b7.className!=="t";C.style=/top/.test(i.getAttribute("style"));C.hrefNormalized=i.getAttribute("href")==="/a";C.checkOn=!!b5.value;C.optSelected=b6.selected;C.enctype=!!n.createElement("form").enctype;e.disabled=true;C.optDisabled=!b6.disabled;b5=n.createElement("input");b5.setAttribute("value","");C.input=b5.getAttribute("value")==="";b5.value="t";b5.setAttribute("type","radio");C.radioValue=b5.value==="t"})();var ak=/\r/g;bH.fn.extend({val:function(b6){var e,i,b7,b5=this[0];if(!arguments.length){if(b5){e=bH.valHooks[b5.type]||bH.valHooks[b5.nodeName.toLowerCase()];if(e&&"get" in e&&(i=e.get(b5,"value"))!==undefined){return i}i=b5.value;return typeof i==="string"?i.replace(ak,""):i==null?"":i}return}b7=bH.isFunction(b6);return this.each(function(b8){var b9;if(this.nodeType!==1){return}if(b7){b9=b6.call(this,b8,bH(this).val())}else{b9=b6}if(b9==null){b9=""}else{if(typeof b9==="number"){b9+=""}else{if(bH.isArray(b9)){b9=bH.map(b9,function(ca){return ca==null?"":ca+""})}}}e=bH.valHooks[this.type]||bH.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,b9,"value")===undefined){this.value=b9}})}});bH.extend({valHooks:{option:{get:function(e){var i=bH.find.attr(e,"value");return i!=null?i:bH.trim(bH.text(e))}},select:{get:function(e){var ca,b6,cc=e.options,b8=e.selectedIndex,b7=e.type==="select-one"||b8<0,cb=b7?null:[],b9=b7?b8+1:cc.length,b5=b8<0?b9:b7?b8:0;for(;b5<b9;b5++){b6=cc[b5];if((b6.selected||b5===b8)&&(C.optDisabled?!b6.disabled:b6.getAttribute("disabled")===null)&&(!b6.parentNode.disabled||!bH.nodeName(b6.parentNode,"optgroup"))){ca=bH(b6).val();if(b7){return ca}cb.push(ca)}}return cb},set:function(b9,ca){var cb,b8,b6=b9.options,e=bH.makeArray(ca),b7=b6.length;while(b7--){b8=b6[b7];if(bH.inArray(bH.valHooks.option.get(b8),e)>=0){try{b8.selected=cb=true}catch(b5){b8.scrollHeight}}else{b8.selected=false}}if(!cb){b9.selectedIndex=-1}return b6}}}});bH.each(["radio","checkbox"],function(){bH.valHooks[this]={set:function(e,i){if(bH.isArray(i)){return(e.checked=bH.inArray(bH(e).val(),i)>=0)}}};if(!C.checkOn){bH.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});var a9,b2,bN=bH.expr.attrHandle,ap=/^(?:checked|selected)$/i,bM=C.getSetAttribute,bE=C.input;bH.fn.extend({attr:function(e,i){return aA(this,bH.attr,e,i,arguments.length>1)},removeAttr:function(e){return this.each(function(){bH.removeAttr(this,e)})}});bH.extend({attr:function(b7,b6,b8){var e,b5,i=b7.nodeType;if(!b7||i===3||i===8||i===2){return}if(typeof b7.getAttribute===aB){return bH.prop(b7,b6,b8)}if(i!==1||!bH.isXMLDoc(b7)){b6=b6.toLowerCase();e=bH.attrHooks[b6]||(bH.expr.match.bool.test(b6)?b2:a9)}if(b8!==undefined){if(b8===null){bH.removeAttr(b7,b6)}else{if(e&&"set" in e&&(b5=e.set(b7,b8,b6))!==undefined){return b5}else{b7.setAttribute(b6,b8+"");return b8}}}else{if(e&&"get" in e&&(b5=e.get(b7,b6))!==null){return b5}else{b5=bH.find.attr(b7,b6);return b5==null?undefined:b5}}},removeAttr:function(b6,b8){var e,b7,b5=0,b9=b8&&b8.match(aE);if(b9&&b6.nodeType===1){while((e=b9[b5++])){b7=bH.propFix[e]||e;if(bH.expr.match.bool.test(e)){if(bE&&bM||!ap.test(e)){b6[b7]=false}else{b6[bH.camelCase("default-"+e)]=b6[b7]=false}}else{bH.attr(b6,e,"")}b6.removeAttribute(bM?e:b7)}}},attrHooks:{type:{set:function(e,i){if(!C.radioValue&&i==="radio"&&bH.nodeName(e,"input")){var b5=e.value;e.setAttribute("type",i);if(b5){e.value=b5}return i}}}}});b2={set:function(i,b5,e){if(b5===false){bH.removeAttr(i,e)}else{if(bE&&bM||!ap.test(e)){i.setAttribute(!bM&&bH.propFix[e]||e,e)}else{i[bH.camelCase("default-"+e)]=i[e]=true}}return e}};bH.each(bH.expr.match.bool.source.match(/\w+/g),function(b6,b5){var e=bN[b5]||bH.find.attr;bN[b5]=bE&&bM||!ap.test(b5)?function(b8,b7,ca){var i,b9;if(!ca){b9=bN[b7];bN[b7]=i;i=e(b8,b7,ca)!=null?b7.toLowerCase():null;bN[b7]=b9}return i}:function(b7,i,b8){if(!b8){return b7[bH.camelCase("default-"+i)]?i.toLowerCase():null}}});if(!bE||!bM){bH.attrHooks.value={set:function(i,b5,e){if(bH.nodeName(i,"input")){i.defaultValue=b5}else{return a9&&a9.set(i,b5,e)}}}}if(!bM){a9={set:function(b5,b6,i){var e=b5.getAttributeNode(i);if(!e){b5.setAttributeNode((e=b5.ownerDocument.createAttribute(i)))}e.value=b6+="";if(i==="value"||b6===b5.getAttribute(i)){return b6}}};bN.id=bN.name=bN.coords=function(b5,i,b6){var e;if(!b6){return(e=b5.getAttributeNode(i))&&e.value!==""?e.value:null}};bH.valHooks.button={get:function(b5,i){var e=b5.getAttributeNode(i);if(e&&e.specified){return e.value}},set:a9.set};bH.attrHooks.contenteditable={set:function(i,b5,e){a9.set(i,b5===""?false:b5,e)}};bH.each(["width","height"],function(b5,e){bH.attrHooks[e]={set:function(i,b6){if(b6===""){i.setAttribute(e,"auto");return b6}}}})}if(!C.style){bH.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,i){return(e.style.cssText=i+"")}}}var aI=/^(?:input|select|textarea|button|object)$/i,E=/^(?:a|area)$/i;bH.fn.extend({prop:function(e,i){return aA(this,bH.prop,e,i,arguments.length>1)},removeProp:function(e){e=bH.propFix[e]||e;return this.each(function(){try{this[e]=undefined;delete this[e]}catch(i){}})}});bH.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(b8,b6,b9){var b5,e,b7,i=b8.nodeType;if(!b8||i===3||i===8||i===2){return}b7=i!==1||!bH.isXMLDoc(b8);if(b7){b6=bH.propFix[b6]||b6;e=bH.propHooks[b6]}if(b9!==undefined){return e&&"set" in e&&(b5=e.set(b8,b9,b6))!==undefined?b5:(b8[b6]=b9)}else{return e&&"get" in e&&(b5=e.get(b8,b6))!==null?b5:b8[b6]}},propHooks:{tabIndex:{get:function(i){var e=bH.find.attr(i,"tabindex");return e?parseInt(e,10):aI.test(i.nodeName)||E.test(i.nodeName)&&i.href?0:-1}}}});if(!C.hrefNormalized){bH.each(["href","src"],function(b5,e){bH.propHooks[e]={get:function(i){return i.getAttribute(e,4)}}})}if(!C.optSelected){bH.propHooks.selected={get:function(i){var e=i.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}}}bH.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){bH.propFix[this.toLowerCase()]=this});if(!C.enctype){bH.propFix.enctype="encoding"}var bK=/[\t\r\n\f]/g;bH.fn.extend({addClass:function(cc){var b6,b5,cd,ca,b7,e,b8=0,b9=this.length,cb=typeof cc==="string"&&cc;if(bH.isFunction(cc)){return this.each(function(i){bH(this).addClass(cc.call(this,i,this.className))})}if(cb){b6=(cc||"").match(aE)||[];for(;b8<b9;b8++){b5=this[b8];cd=b5.nodeType===1&&(b5.className?(" "+b5.className+" ").replace(bK," "):" ");if(cd){b7=0;while((ca=b6[b7++])){if(cd.indexOf(" "+ca+" ")<0){cd+=ca+" "}}e=bH.trim(cd);if(b5.className!==e){b5.className=e}}}}return this},removeClass:function(cc){var b6,b5,cd,ca,b7,e,b8=0,b9=this.length,cb=arguments.length===0||typeof cc==="string"&&cc;if(bH.isFunction(cc)){return this.each(function(i){bH(this).removeClass(cc.call(this,i,this.className))})}if(cb){b6=(cc||"").match(aE)||[];for(;b8<b9;b8++){b5=this[b8];cd=b5.nodeType===1&&(b5.className?(" "+b5.className+" ").replace(bK," "):"");if(cd){b7=0;while((ca=b6[b7++])){while(cd.indexOf(" "+ca+" ")>=0){cd=cd.replace(" "+ca+" "," ")}}e=cc?bH.trim(cd):"";if(b5.className!==e){b5.className=e}}}}return this},toggleClass:function(b5,e){var i=typeof b5;if(typeof e==="boolean"&&i==="string"){return e?this.addClass(b5):this.removeClass(b5)}if(bH.isFunction(b5)){return this.each(function(b6){bH(this).toggleClass(b5.call(this,b6,this.className,e),e)})}return this.each(function(){if(i==="string"){var b8,b7=0,b6=bH(this),b9=b5.match(aE)||[];while((b8=b9[b7++])){if(b6.hasClass(b8)){b6.removeClass(b8)}else{b6.addClass(b8)}}}else{if(i===aB||i==="boolean"){if(this.className){bH._data(this,"__className__",this.className)}this.className=this.className||b5===false?"":bH._data(this,"__className__")||""}}})},hasClass:function(e){var b7=" "+e+" ",b6=0,b5=this.length;for(;b6<b5;b6++){if(this[b6].nodeType===1&&(" "+this[b6].className+" ").replace(bK," ").indexOf(b7)>=0){return true}}return false}});bH.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b5,e){bH.fn[e]=function(b6,i){return arguments.length>0?this.on(e,null,b6,i):this.trigger(e)}});bH.fn.extend({hover:function(e,i){return this.mouseenter(e).mouseleave(i||e)},bind:function(e,b5,i){return this.on(e,null,b5,i)},unbind:function(e,i){return this.off(e,null,i)},delegate:function(e,i,b6,b5){return this.on(i,e,b6,b5)},undelegate:function(e,i,b5){return arguments.length===1?this.off(e,"**"):this.off(i,e||"**",b5)}});var bo=bH.now();var bP=(/\?/);var a0=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;bH.parseJSON=function(e){if(a4.JSON&&a4.JSON.parse){return a4.JSON.parse(e+"")}var b6,b5=null,i=bH.trim(e+"");return i&&!bH.trim(i.replace(a0,function(b9,b7,b8,ca){if(b6&&b7){b5=0}if(b5===0){return b9}b6=b8||b7;b5+=!ca-!b8;return""}))?(Function("return "+i))():bH.error("Invalid JSON: "+e)};bH.parseXML=function(b6){var i,b5;if(!b6||typeof b6!=="string"){return null}try{if(a4.DOMParser){b5=new DOMParser();i=b5.parseFromString(b6,"text/xml")}else{i=new ActiveXObject("Microsoft.XMLDOM");i.async="false";i.loadXML(b6)}}catch(b7){i=undefined}if(!i||!i.documentElement||i.getElementsByTagName("parsererror").length){bH.error("Invalid XML: "+b6)}return i};var b3,Z,ao=/#.*$/,Q=/([?&])_=[^&]*/,ag=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,B=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,q=/^(?:GET|HEAD)$/,aJ=/^\/\//,aU=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,v={},a8={},aW="*/".concat("*");try{Z=location.href}catch(bh){Z=n.createElement("a");Z.href="";Z=Z.href}b3=aU.exec(Z.toLowerCase())||[];function bJ(e){return function(b8,b9){if(typeof b8!=="string"){b9=b8;b8="*"}var b5,b6=0,b7=b8.toLowerCase().match(aE)||[];if(bH.isFunction(b9)){while((b5=b7[b6++])){if(b5.charAt(0)==="+"){b5=b5.slice(1)||"*";(e[b5]=e[b5]||[]).unshift(b9)}else{(e[b5]=e[b5]||[]).push(b9)}}}}}function p(e,b5,b9,b6){var i={},b7=(e===a8);function b8(ca){var cb;i[ca]=true;bH.each(e[ca]||[],function(cd,cc){var ce=cc(b5,b9,b6);if(typeof ce==="string"&&!b7&&!i[ce]){b5.dataTypes.unshift(ce);b8(ce);return false}else{if(b7){return !(cb=ce)}}});return cb}return b8(b5.dataTypes[0])||!i["*"]&&b8("*")}function s(b5,b6){var e,i,b7=bH.ajaxSettings.flatOptions||{};for(i in b6){if(b6[i]!==undefined){(b7[i]?b5:(e||(e={})))[i]=b6[i]}}if(e){bH.extend(true,b5,e)}return b5}function g(cb,ca,b7){var e,b6,b5,b8,i=cb.contents,b9=cb.dataTypes;while(b9[0]==="*"){b9.shift();if(b6===undefined){b6=cb.mimeType||ca.getResponseHeader("Content-Type")}}if(b6){for(b8 in i){if(i[b8]&&i[b8].test(b6)){b9.unshift(b8);break}}}if(b9[0] in b7){b5=b9[0]}else{for(b8 in b7){if(!b9[0]||cb.converters[b8+" "+b9[0]]){b5=b8;break}if(!e){e=b8}}b5=b5||e}if(b5){if(b5!==b9[0]){b9.unshift(b5)}return b7[b5]}}function af(cf,b7,cc,b5){var i,ca,cd,b8,b6,ce={},cb=cf.dataTypes.slice();if(cb[1]){for(cd in cf.converters){ce[cd.toLowerCase()]=cf.converters[cd]}}ca=cb.shift();while(ca){if(cf.responseFields[ca]){cc[cf.responseFields[ca]]=b7}if(!b6&&b5&&cf.dataFilter){b7=cf.dataFilter(b7,cf.dataType)}b6=ca;ca=cb.shift();if(ca){if(ca==="*"){ca=b6}else{if(b6!=="*"&&b6!==ca){cd=ce[b6+" "+ca]||ce["* "+ca];if(!cd){for(i in ce){b8=i.split(" ");if(b8[1]===ca){cd=ce[b6+" "+b8[0]]||ce["* "+b8[0]];if(cd){if(cd===true){cd=ce[i]}else{if(ce[i]!==true){ca=b8[0];cb.unshift(b8[1])}}break}}}}if(cd!==true){if(cd&&cf["throws"]){b7=cd(b7)}else{try{b7=cd(b7)}catch(b9){return{state:"parsererror",error:cd?b9:"No conversion from "+b6+" to "+ca}}}}}}}}return{state:"success",data:b7}}bH.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Z,type:"GET",isLocal:B.test(b3[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":aW,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":bH.parseJSON,"text xml":bH.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(i,e){return e?s(s(i,bH.ajaxSettings),e):s(bH.ajaxSettings,i)},ajaxPrefilter:bJ(v),ajaxTransport:bJ(a8),ajax:function(b9,b6){if(typeof b9==="object"){b6=b9;b9=undefined}b6=b6||{};var ci,ck,ca,cp,ce,b5,cl,b7,cd=bH.ajaxSetup({},b6),cr=cd.context||cd,cg=cd.context&&(cr.nodeType||cr.jquery)?bH(cr):bH.event,cq=bH.Deferred(),cn=bH.Callbacks("once memory"),cb=cd.statusCode||{},ch={},co={},b8=0,cc="canceled",cj={readyState:0,getResponseHeader:function(i){var e;if(b8===2){if(!b7){b7={};while((e=ag.exec(cp))){b7[e[1].toLowerCase()]=e[2]}}e=b7[i.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return b8===2?cp:null},setRequestHeader:function(i,cs){var e=i.toLowerCase();if(!b8){i=co[e]=co[e]||i;ch[i]=cs}return this},overrideMimeType:function(e){if(!b8){cd.mimeType=e}return this},statusCode:function(i){var e;if(i){if(b8<2){for(e in i){cb[e]=[cb[e],i[e]]}}else{cj.always(i[cj.status])}}return this},abort:function(i){var e=i||cc;if(cl){cl.abort(e)}cf(0,e);return this}};cq.promise(cj).complete=cn.add;cj.success=cj.done;cj.error=cj.fail;cd.url=((b9||cd.url||Z)+"").replace(ao,"").replace(aJ,b3[1]+"//");cd.type=b6.method||b6.type||cd.method||cd.type;cd.dataTypes=bH.trim(cd.dataType||"*").toLowerCase().match(aE)||[""];if(cd.crossDomain==null){ci=aU.exec(cd.url.toLowerCase());cd.crossDomain=!!(ci&&(ci[1]!==b3[1]||ci[2]!==b3[2]||(ci[3]||(ci[1]==="http:"?"80":"443"))!==(b3[3]||(b3[1]==="http:"?"80":"443"))))}if(cd.data&&cd.processData&&typeof cd.data!=="string"){cd.data=bH.param(cd.data,cd.traditional)}p(v,cd,b6,cj);if(b8===2){return cj}b5=cd.global;if(b5&&bH.active++===0){bH.event.trigger("ajaxStart")}cd.type=cd.type.toUpperCase();cd.hasContent=!q.test(cd.type);ca=cd.url;if(!cd.hasContent){if(cd.data){ca=(cd.url+=(bP.test(ca)?"&":"?")+cd.data);delete cd.data}if(cd.cache===false){cd.url=Q.test(ca)?ca.replace(Q,"$1_="+bo++):ca+(bP.test(ca)?"&":"?")+"_="+bo++}}if(cd.ifModified){if(bH.lastModified[ca]){cj.setRequestHeader("If-Modified-Since",bH.lastModified[ca])}if(bH.etag[ca]){cj.setRequestHeader("If-None-Match",bH.etag[ca])}}if(cd.data&&cd.hasContent&&cd.contentType!==false||b6.contentType){cj.setRequestHeader("Content-Type",cd.contentType)}cj.setRequestHeader("Accept",cd.dataTypes[0]&&cd.accepts[cd.dataTypes[0]]?cd.accepts[cd.dataTypes[0]]+(cd.dataTypes[0]!=="*"?", "+aW+"; q=0.01":""):cd.accepts["*"]);for(ck in cd.headers){cj.setRequestHeader(ck,cd.headers[ck])}if(cd.beforeSend&&(cd.beforeSend.call(cr,cj,cd)===false||b8===2)){return cj.abort()}cc="abort";for(ck in {success:1,error:1,complete:1}){cj[ck](cd[ck])}cl=p(a8,cd,b6,cj);if(!cl){cf(-1,"No Transport")}else{cj.readyState=1;if(b5){cg.trigger("ajaxSend",[cj,cd])}if(cd.async&&cd.timeout>0){ce=setTimeout(function(){cj.abort("timeout")},cd.timeout)}try{b8=1;cl.send(ch,cf)}catch(cm){if(b8<2){cf(-1,cm)}else{throw cm}}}function cf(cv,i,cw,ct){var e,cz,cx,cu,cy,cs=i;if(b8===2){return}b8=2;if(ce){clearTimeout(ce)}cl=undefined;cp=ct||"";cj.readyState=cv>0?4:0;e=cv>=200&&cv<300||cv===304;if(cw){cu=g(cd,cj,cw)}cu=af(cd,cu,cj,e);if(e){if(cd.ifModified){cy=cj.getResponseHeader("Last-Modified");if(cy){bH.lastModified[ca]=cy}cy=cj.getResponseHeader("etag");if(cy){bH.etag[ca]=cy}}if(cv===204||cd.type==="HEAD"){cs="nocontent"}else{if(cv===304){cs="notmodified"}else{cs=cu.state;cz=cu.data;cx=cu.error;e=!cx}}}else{cx=cs;if(cv||!cs){cs="error";if(cv<0){cv=0}}}cj.status=cv;cj.statusText=(i||cs)+"";if(e){cq.resolveWith(cr,[cz,cs,cj])}else{cq.rejectWith(cr,[cj,cs,cx])}cj.statusCode(cb);cb=undefined;if(b5){cg.trigger(e?"ajaxSuccess":"ajaxError",[cj,cd,e?cz:cx])}cn.fireWith(cr,[cj,cs]);if(b5){cg.trigger("ajaxComplete",[cj,cd]);if(!(--bH.active)){bH.event.trigger("ajaxStop")}}}return cj},getJSON:function(e,i,b5){return bH.get(e,i,b5,"json")},getScript:function(e,i){return bH.get(e,undefined,i,"script")}});bH.each(["get","post"],function(e,b5){bH[b5]=function(i,b7,b8,b6){if(bH.isFunction(b7)){b6=b6||b8;b8=b7;b7=undefined}return bH.ajax({url:i,type:b5,dataType:b6,data:b7,success:b8})}});bH.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,b5){bH.fn[b5]=function(i){return this.on(b5,i)}});bH._evalUrl=function(e){return bH.ajax({url:e,type:"GET",dataType:"script",async:false,global:false,"throws":true})};bH.fn.extend({wrapAll:function(e){if(bH.isFunction(e)){return this.each(function(b5){bH(this).wrapAll(e.call(this,b5))})}if(this[0]){var i=bH(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){i.insertBefore(this[0])}i.map(function(){var b5=this;while(b5.firstChild&&b5.firstChild.nodeType===1){b5=b5.firstChild}return b5}).append(this)}return this},wrapInner:function(e){if(bH.isFunction(e)){return this.each(function(b5){bH(this).wrapInner(e.call(this,b5))})}return this.each(function(){var i=bH(this),b5=i.contents();if(b5.length){b5.wrapAll(e)}else{i.append(e)}})},wrap:function(e){var i=bH.isFunction(e);return this.each(function(b5){bH(this).wrapAll(i?e.call(this,b5):e)})},unwrap:function(){return this.parent().each(function(){if(!bH.nodeName(this,"body")){bH(this).replaceWith(this.childNodes)}}).end()}});bH.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||(!C.reliableHiddenOffsets()&&((e.style&&e.style.display)||bH.css(e,"display"))==="none")};bH.expr.filters.visible=function(e){return !bH.expr.filters.hidden(e)};var bv=/%20/g,aR=/\[\]$/,W=/\r?\n/g,b=/^(?:submit|button|image|reset|file)$/i,at=/^(?:input|select|textarea|keygen)/i;function j(b5,b7,i,b6){var e;if(bH.isArray(b7)){bH.each(b7,function(b9,b8){if(i||aR.test(b5)){b6(b5,b8)}else{j(b5+"["+(typeof b8==="object"?b9:"")+"]",b8,i,b6)}})}else{if(!i&&bH.type(b7)==="object"){for(e in b7){j(b5+"["+e+"]",b7[e],i,b6)}}else{b6(b5,b7)}}}bH.param=function(e,b5){var b6,i=[],b7=function(b8,b9){b9=bH.isFunction(b9)?b9():(b9==null?"":b9);i[i.length]=encodeURIComponent(b8)+"="+encodeURIComponent(b9)};if(b5===undefined){b5=bH.ajaxSettings&&bH.ajaxSettings.traditional}if(bH.isArray(e)||(e.jquery&&!bH.isPlainObject(e))){bH.each(e,function(){b7(this.name,this.value)})}else{for(b6 in e){j(b6,e[b6],b5,b7)}}return i.join("&").replace(bv,"+")};bH.fn.extend({serialize:function(){return bH.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=bH.prop(this,"elements");return e?bH.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!bH(this).is(":disabled")&&at.test(this.nodeName)&&!b.test(e)&&(this.checked||!aL.test(e))}).map(function(e,b5){var b6=bH(this).val();return b6==null?null:bH.isArray(b6)?bH.map(b6,function(i){return{name:b5.name,value:i.replace(W,"\r\n")}}):{name:b5.name,value:b6.replace(W,"\r\n")}}).get()}});bH.ajaxSettings.xhr=a4.ActiveXObject!==undefined?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&bD()||bf()}:bD;var az=0,ai={},ax=bH.ajaxSettings.xhr();if(a4.ActiveXObject){bH(a4).on("unload",function(){for(var e in ai){ai[e](undefined,true)}})}C.cors=!!ax&&("withCredentials" in ax);ax=C.ajax=!!ax;if(ax){bH.ajaxTransport(function(e){if(!e.crossDomain||C.cors){var i;return{send:function(b8,b5){var b6,b7=e.xhr(),b9=++az;b7.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields){for(b6 in e.xhrFields){b7[b6]=e.xhrFields[b6]}}if(e.mimeType&&b7.overrideMimeType){b7.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!b8["X-Requested-With"]){b8["X-Requested-With"]="XMLHttpRequest"}for(b6 in b8){if(b8[b6]!==undefined){b7.setRequestHeader(b6,b8[b6]+"")}}b7.send((e.hasContent&&e.data)||null);i=function(cc,cb){var ca,cf,cd;if(i&&(cb||b7.readyState===4)){delete ai[b9];i=undefined;b7.onreadystatechange=bH.noop;if(cb){if(b7.readyState!==4){b7.abort()}}else{cd={};ca=b7.status;if(typeof b7.responseText==="string"){cd.text=b7.responseText}try{cf=b7.statusText}catch(ce){cf=""}if(!ca&&e.isLocal&&!e.crossDomain){ca=cd.text?200:404}else{if(ca===1223){ca=204}}}}if(cd){b5(ca,cf,cd,b7.getAllResponseHeaders())}};if(!e.async){i()}else{if(b7.readyState===4){setTimeout(i)}else{b7.onreadystatechange=ai[b9]=i}}},abort:function(){if(i){i(undefined,true)}}}}})}function bD(){try{return new a4.XMLHttpRequest()}catch(i){}}function bf(){try{return new a4.ActiveXObject("Microsoft.XMLHTTP")}catch(i){}}bH.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){bH.globalEval(e);return e}}});bH.ajaxPrefilter("script",function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bH.ajaxTransport("script",function(b5){if(b5.crossDomain){var e,i=n.head||bH("head")[0]||n.documentElement;return{send:function(b6,b7){e=n.createElement("script");e.async=true;if(b5.scriptCharset){e.charset=b5.scriptCharset}e.src=b5.url;e.onload=e.onreadystatechange=function(b9,b8){if(b8||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e)}e=null;if(!b8){b7(200,"success")}}};i.insertBefore(e,i.firstChild)},abort:function(){if(e){e.onload(undefined,true)}}}}});var br=[],a7=/(=)\?(?=&|$)|\?\?/;bH.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=br.pop()||(bH.expando+"_"+(bo++));this[e]=true;return e}});bH.ajaxPrefilter("json jsonp",function(b6,e,b7){var b9,i,b5,b8=b6.jsonp!==false&&(a7.test(b6.url)?"url":typeof b6.data==="string"&&!(b6.contentType||"").indexOf("application/x-www-form-urlencoded")&&a7.test(b6.data)&&"data");if(b8||b6.dataTypes[0]==="jsonp"){b9=b6.jsonpCallback=bH.isFunction(b6.jsonpCallback)?b6.jsonpCallback():b6.jsonpCallback;if(b8){b6[b8]=b6[b8].replace(a7,"$1"+b9)}else{if(b6.jsonp!==false){b6.url+=(bP.test(b6.url)?"&":"?")+b6.jsonp+"="+b9}}b6.converters["script json"]=function(){if(!b5){bH.error(b9+" was not called")}return b5[0]};b6.dataTypes[0]="json";i=a4[b9];a4[b9]=function(){b5=arguments};b7.always(function(){a4[b9]=i;if(b6[b9]){b6.jsonpCallback=e.jsonpCallback;br.push(b9)}if(b5&&bH.isFunction(i)){i(b5[0])}b5=i=undefined});return"script"}});bH.parseHTML=function(b7,b5,b6){if(!b7||typeof b7!=="string"){return null}if(typeof b5==="boolean"){b6=b5;b5=false}b5=b5||n;var i=a.exec(b7),e=!b6&&[];if(i){return[b5.createElement(i[1])]}i=bH.buildFragment([b7],b5,e);if(e&&e.length){bH(e).remove()}return bH.merge([],i.childNodes)};var b0=bH.fn.load;bH.fn.load=function(b6,b9,ca){if(typeof b6!=="string"&&b0){return b0.apply(this,arguments)}var e,b5,b7,i=this,b8=b6.indexOf(" ");if(b8>=0){e=bH.trim(b6.slice(b8,b6.length));b6=b6.slice(0,b8)}if(bH.isFunction(b9)){ca=b9;b9=undefined}else{if(b9&&typeof b9==="object"){b7="POST"}}if(i.length>0){bH.ajax({url:b6,type:b7,dataType:"html",data:b9}).done(function(cb){b5=arguments;i.html(e?bH("<div>").append(bH.parseHTML(cb)).find(e):cb)}).complete(ca&&function(cc,cb){i.each(ca,b5||[cc.responseText,cb,cc])})}return this};bH.expr.filters.animated=function(e){return bH.grep(bH.timers,function(i){return e===i.elem}).length};var bW=a4.document.documentElement;function bq(e){return bH.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bH.offset={setOffset:function(b6,cg,ca){var cc,b9,e,b7,b5,ce,cf,cb=bH.css(b6,"position"),b8=bH(b6),cd={};if(cb==="static"){b6.style.position="relative"}b5=b8.offset();e=bH.css(b6,"top");ce=bH.css(b6,"left");cf=(cb==="absolute"||cb==="fixed")&&bH.inArray("auto",[e,ce])>-1;if(cf){cc=b8.position();b7=cc.top;b9=cc.left}else{b7=parseFloat(e)||0;b9=parseFloat(ce)||0}if(bH.isFunction(cg)){cg=cg.call(b6,ca,b5)}if(cg.top!=null){cd.top=(cg.top-b5.top)+b7}if(cg.left!=null){cd.left=(cg.left-b5.left)+b9}if("using" in cg){cg.using.call(b6,cd)}else{b8.css(cd)}}};bH.fn.extend({offset:function(i){if(arguments.length){return i===undefined?this:this.each(function(b9){bH.offset.setOffset(this,i,b9)})}var e,b8,b6={top:0,left:0},b5=this[0],b7=b5&&b5.ownerDocument;if(!b7){return}e=b7.documentElement;if(!bH.contains(e,b5)){return b6}if(typeof b5.getBoundingClientRect!==aB){b6=b5.getBoundingClientRect()}b8=bq(b7);return{top:b6.top+(b8.pageYOffset||e.scrollTop)-(e.clientTop||0),left:b6.left+(b8.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},position:function(){if(!this[0]){return}var b5,b6,e={top:0,left:0},i=this[0];if(bH.css(i,"position")==="fixed"){b6=i.getBoundingClientRect()}else{b5=this.offsetParent();b6=this.offset();if(!bH.nodeName(b5[0],"html")){e=b5.offset()}e.top+=bH.css(b5[0],"borderTopWidth",true);e.left+=bH.css(b5[0],"borderLeftWidth",true)}return{top:b6.top-e.top-bH.css(i,"marginTop",true),left:b6.left-e.left-bH.css(i,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||bW;while(e&&(!bH.nodeName(e,"html")&&bH.css(e,"position")==="static")){e=e.offsetParent}return e||bW})}});bH.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b5,i){var e=/Y/.test(i);bH.fn[b5]=function(b6){return aA(this,function(b7,ca,b9){var b8=bq(b7);if(b9===undefined){return b8?(i in b8)?b8[i]:b8.document.documentElement[ca]:b7[ca]}if(b8){b8.scrollTo(!e?b9:bH(b8).scrollLeft(),e?b9:bH(b8).scrollTop())}else{b7[ca]=b9}},b5,b6,arguments.length,null)}});bH.each(["top","left"],function(e,b5){bH.cssHooks[b5]=a6(C.pixelPosition,function(b6,i){if(i){i=F(b6,b5);return X.test(i)?bH(b6).position()[b5]+"px":i}})});bH.each({Height:"height",Width:"width"},function(e,i){bH.each({padding:"inner"+e,content:i,"":"outer"+e},function(b5,b6){bH.fn[b6]=function(ca,b9){var b8=arguments.length&&(b5||typeof ca!=="boolean"),b7=b5||(ca===true||b9===true?"margin":"border");return aA(this,function(cc,cb,cd){var ce;if(bH.isWindow(cc)){return cc.document.documentElement["client"+e]}if(cc.nodeType===9){ce=cc.documentElement;return Math.max(cc.body["scroll"+e],ce["scroll"+e],cc.body["offset"+e],ce["offset"+e],ce["client"+e])}return cd===undefined?bH.css(cc,cb,b7):bH.style(cc,cb,cd,b7)},i,b8?ca:undefined,b8,null)}})});bH.fn.size=function(){return this.length};bH.fn.andSelf=bH.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return bH})}var bj=a4.jQuery,H=a4.$;bH.noConflict=function(e){if(a4.$===bH){a4.$=H}if(e&&a4.jQuery===bH){a4.jQuery=bj}return bH};if(typeof au===aB){a4.jQuery=a4.$=bH}return bH}));jQuery.noConflict();(function(b,c,d){var a=b.console||{};c.log=function(e){a.log.apply(a,arguments)}})(this,jQuery);(function(a,b,c){b.AsEnv={userAgent:function(i){var j={},g=/(applewebkit)/i.test(i),h=/Chrome/.test(i)&&/Google Inc/.test(navigator.vendor);j.userAgent=i;j.isMobileIos=/(iphone|ipod)/i.test(i)&&g;j.isIpad=/(ipad)/i.test(i);j.iosVersion=(j.isMobileIos||j.isIpad)?parseFloat(i.match(/os ([\d_]*)/i)[1].replace("_",".")):0;var f=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(i);var e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(i);var d=f?f:e;j.isIe=!!d;j.ieVersion=d?parseFloat(RegExp.$1):0;j.isPhantom=/Phantom/.test(navigator.userAgent);j.isAndroidMobile=!!i.match(/Android.*Mobile/i)||i.match(/Mobile.*Android/i);j.isAndroidInternet=!!j.isAndroidMobile&&!h&&g;j.androidVersion=parseFloat(j.isAndroidMobile&&i.slice(i.indexOf("Android")+8),10);j.isHandheldPhone=j.isMobileIos||j.isAndroidMobile;j.isSafari=/(Safari)/i.test(i)&&!/(Chrome)/i.test(i);j.isFirefox=/(Firefox)/i.test(i);j.isChrome=/(Chrome)/i.test(i);return j},getReferrer:function(){return document.referrer},doRedirect:function(d){a.location.href=d},isOnline:function(){return a.navigator.onLine},getWindowQueryString:function(){return a.location.search},getCurrentPathname:function(){return a.location.pathname},getViewportHeight:function(){return a.innerHeight||document.documentElement.clientHeight},getViewportWidth:function(){return a.innerWidth||document.documentElement.clientWidth},submit:function(d){d=typeof d.get==="undefined"?d:d.get(0);d.submit()},focus:function(d){d.focus()},pixelRatio:a.devicePixelRatio,devicePixelRatio:function(){if(arguments.length){this.pixelRatio=arguments[0]}else{return this.pixelRatio}},selectedText:function(){var e="",d=this.userAgent(navigator.userAgent).isIe;if(d){e=document.selection.createRange().htmlText}else{e=a.getSelection().toString()}return e}}}(this,jQuery));(function(n,q,g){var d=q;var F=d.AsEnv;var o=document&&document.documentElement.style;var r=document.createElement("input");var u=document.createElement("textarea");var A;var i;var m=F.userAgent(navigator.userAgent);var H=m.userAgent;var w=m.isMobileIos;var s=m.isIpad;var t=m.iosVersion;var I=m.isIe;var e=m.ieVersion;var k=m.isPhantom;var c=m.isAndroidMobile;var z=m.isAndroidInternet;var l=m.androidVersion;var b=m.isHandheldPhone;var G=m.isSafari;var a=d("<div>")[0];var h=["","-webkit-","-moz-","-o-","-ms-","-khtml-"];var E=["","Webkit","Moz","O","ms","Khtml"];var f=function(J){return !!(J||J==="")};var y=function(N,J){var L="";var K=0;d(a).css(N,"");var M=d(a).css(N);for(K=0;K<h.length;K++){L=h[K]+J;d(a).css(N,L);if(d(a).css(N)!==M){d(a).css(N,"");return h[K]}}return null};var v=function(M){var K;var L;var J=M.charAt(0).toUpperCase()+M.slice(1);for(K=0;K<E.length;K++){L=E[K]+(E[K]!==""?J:M);if(E[K]!=="O"){L=L.charAt(0).toLowerCase()+L.slice(1)}if(L in o){return L}}return null};var C=function(L,J){if(J){var K=v(L);if(K!==null){return true}}return f(a.style[L])};var x=function(){var J=Object.prototype.hasOwnProperty;var N,K,M;try{M=false;if(J.call(n,"styleMedia")){M=n.styleMedia.matchMedium("(-webkit-transform-3d)")}else{if(J.call(n,"media")){M=n.media.matchMedium("(-webkit-transform-3d)")}}if(!M){if(!(K=document.getElementById("supportsThreeDStyle"))){K=document.createElement("style");K.id="supportsThreeDStyle";K.textContent="@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-ms-transform-3d),(-webkit-transform-3d) { #supportsThreeD { height:3px } }";document.querySelector("head").appendChild(K)}if(!(N=document.querySelector("#supportsThreeD"))){N=document.createElement("div");N.id="supportsThreeD";document.body.appendChild(N)}M=(N.offsetHeight===3)||K.style.MozTransform!==g||K.style.WebkitTransform!==g}return M}catch(L){return false}};var D=function(){return(/AppleWebKit\/(\d+)/).exec(H)&&RegExp.$1};var j="windows",B=navigator.appVersion;if(B.indexOf("Mac")!==-1){j="macosx"}else{if(B.indexOf("X11")!==-1){j="linux"}else{if(B.indexOf("Linux")!==-1){j="linux"}else{if(B.indexOf("SunOS")!==-1){j="sunos"}}}}if(m.isAndroidMobile&&("transition" in o||"MozTransition" in o)){i="transitionend";A="animationend"}else{if("transition" in o||"MozTransition" in o){i="transitionend";A="animationend"}else{if("msTransition" in o){i="MSTransitionEnd";A="MSAnimationEnd"}else{if("WebkitTransition" in o){i="webkitTransitionEnd";A="webkitAnimationEnd"}}}}var p={cssPropertyName:v,cssPropertyValuePrefix:y,textOverflow:C("textOverflow",true),inputPlaceholder:("placeholder" in r),maxlengthTextarea:("maxLength" in u),onInput:("oninput" in r),touch:!!("ontouchstart" in n)&&!k,boxShadow:C("boxShadow",true),positionSticky:y("position","sticky")!==null,gradient:y("background-image","linear-gradient(top, black, white)")!==null,opacity:C("opacity",false),overflowScrolling:C("overflowScrolling",true),backgroundSvg:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,vhHeight:(function(){try{a.style.height="100vh"}catch(J){}return a.style.height==="100vh"})(),transform:C("transform",true),transformProperty:v("transform"),threeDTransforms:x(),animation:C("animationName",true),transition:C("transitionProperty",true),transitionEndName:i,animationEndName:A,isMobileIos:w,isIpad:s,isSafari:G,iosVersion:t,os:j,isIe:I,ieVersion:e,isAndroidMobile:c,isAndroidInternet:z,androidVersion:l,isHandheldPhone:b,webkitVersion:D(),isMobileOptimized:false};d.AsSupport=p}(this,jQuery));(function(b,d,e){var c=[{n:"animation",b:false},{n:"animationDelay",b:false},{n:"animationDirection",b:false},{n:"animationDuration",b:false},{n:"animationFillMode",b:false},{n:"animationIterationCount",b:false},{n:"animationName",b:false},{n:"animationPlayState",b:false},{n:"animationTimingFunction",b:false},{n:"appearance",b:false},{n:"backfaceVisibility",b:false},{n:"backgroundClip",b:false},{n:"backgroundComposite",b:false},{n:"backgroundOrigin",b:false},{n:"backgroundSize",b:false},{n:"borderBottomLeftRadius",b:false},{n:"borderBottomRightRadius",b:false},{n:"borderHorizontalSpacing",b:true},{n:"borderImage",b:false},{n:"borderRadius",b:false},{n:"borderTopLeftRadius",b:false},{n:"borderTopRightRadius",b:false},{n:"borderVerticalSpacing",b:true},{n:"boxAlign",b:false},{n:"boxDirection",b:false},{n:"boxFlex",b:false},{n:"boxFlexGroup",b:false},{n:"boxLines",b:false},{n:"boxOrdinalGroup",b:false},{n:"boxOrient",b:false},{n:"boxPack",b:false},{n:"boxReflect",b:false},{n:"boxShadow",b:false},{n:"boxSizing",b:false},{n:"columnBreakAfter",b:false},{n:"columnBreakBefore",b:false},{n:"columnBreakInside",b:false},{n:"columnCount",b:false},{n:"columnGap",b:false},{n:"columnRule",b:false},{n:"columnRuleColor",b:false},{n:"columnRuleStyle",b:false},{n:"columnRuleWidth",b:false},{n:"columnWidth",b:false},{n:"columns",b:false},{n:"dashboardRegion",b:false},{n:"lineBreak",b:false},{n:"marginBottomCollapse",b:false},{n:"marginCollapse",b:false},{n:"marginStart",b:false},{n:"marginTopCollapse",b:false},{n:"marquee",b:false},{n:"marqueeDirection",b:false},{n:"marqueeIncrement",b:false},{n:"marqueeRepetition",b:false},{n:"marqueeSpeed",b:false},{n:"marqueeStyle",b:false},{n:"mask",b:false},{n:"maskAttachment",b:false},{n:"maskBoxImage",b:false},{n:"maskClip",b:false},{n:"maskComposite",b:false},{n:"maskImage",b:false},{n:"maskOrigin",b:false},{n:"maskPosition",b:false},{n:"maskPositionX",b:true},{n:"maskPositionY",b:true},{n:"maskRepeat",b:false},{n:"maskSize",b:false},{n:"nbspMode",b:false},{n:"paddingStart",b:true},{n:"perspective",b:false},{n:"perspectiveOrigin",b:false},{n:"rtlOrdering",b:false},{n:"tapHighlightColor",b:false},{n:"textFillColor",b:false},{n:"textSecurity",b:false},{n:"textSizeAdjust",b:false},{n:"textStroke",b:false},{n:"textStrokeColor",b:false},{n:"textStrokeWidth",b:false},{n:"touchCallout",b:false},{n:"transform",b:false},{n:"transformOrigin",b:false},{n:"transformOriginX",b:false},{n:"transformOriginY",b:false},{n:"transformOriginZ",b:false},{n:"transformStyle",b:false},{n:"transition",b:false},{n:"transitionDelay",b:false},{n:"transitionDuration",b:false},{n:"transitionProperty",b:false},{n:"transitionTimingFunction",b:false},{n:"userDrag",b:false},{n:"userModify",b:false},{n:"userSelect",b:false}],a=false;d.AsCssHooks=function(){if(!a){a=true;d.each(c,function(j,f){var h=f.n,g=d.AsSupport.cssPropertyName(h);if(g&&g!==h){d.cssHooks[h]={get:function(k,l,i){return d.css(k,g)},set:function(i,k){i.style[g]=k}}}if(f.b){d.cssNumber[h]=true}})}}})(this,jQuery);jQuery.AsCssHooks();
/*!
 * CanJS - 2.1.0
 * http://canjs.us/
 * Copyright (c) 2014 Bitovi
 * Wed, 07 May 2014 14:59:26 GMT
 * Licensed MIT
 * Includes: can/component,can/construct,can/map,can/list,can/observe,can/compute,can/model,can/view,can/control,can/route,can/control/route,can/view/mustache,can/view/bindings,can/view/live,can/view/scope,can/util/string,can/util/attr
 * Download from: http://canjs.com
 */
(function(undefined){var __m4=(function(){var can=window.can||{};if(typeof GLOBALCAN==="undefined"||GLOBALCAN!==false){window.can=can}can.k=function(){};can.isDeferred=function(obj){var isFunction=this.isFunction;return obj&&isFunction(obj.then)&&isFunction(obj.pipe)};var cid=0;can.cid=function(object,name){if(!object._cid){cid++;object._cid=(name||"")+cid}return object._cid};can.VERSION="2.1.0";can.simpleExtend=function(d,s){for(var prop in s){d[prop]=s[prop]}return d};can.frag=function(item){var frag;if(!item||typeof item==="string"){frag=can.buildFragment(item==null?"":""+item,document.body);if(!frag.childNodes.length){frag.appendChild(document.createTextNode(""))}return frag}else{if(item.nodeType===11){return item}else{if(typeof item.nodeType==="number"){frag=document.createDocumentFragment();frag.appendChild(item);return frag}else{if(typeof item.length==="number"){frag=document.createDocumentFragment();can.each(item,function(item){frag.appendChild(can.frag(item))});return frag}else{frag=can.buildFragment(""+item,document.body);if(!frag.childNodes.length){frag.appendChild(document.createTextNode(""))}return frag}}}}};can.__reading=function(){};return can})();var __m5=(function(can){var setImmediate=window.setImmediate||function(cb){return setTimeout(cb,0)},attr={MutationObserver:window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,map:{"class":"className",value:"value",innerText:"innerText",textContent:"textContent",checked:true,disabled:true,readonly:true,required:true,src:function(el,val){if(val==null||val===""){el.removeAttribute("src");return null}else{el.setAttribute("src",val);return val}},style:function(el,val){return el.style.cssText=val||""}},defaultValue:["input","textarea"],set:function(el,attrName,val){var oldValue;if(!attr.MutationObserver){oldValue=attr.get(el,attrName)}var tagName=el.nodeName.toString().toLowerCase(),prop=attr.map[attrName],newValue;if(typeof prop==="function"){newValue=prop(el,val)}else{if(prop===true){newValue=el[attrName]=true;if(attrName==="checked"&&el.type==="radio"){if(can.inArray(tagName,attr.defaultValue)>=0){el.defaultChecked=true}}}else{if(prop){newValue=el[prop]=val;if(prop==="value"&&can.inArray(tagName,attr.defaultValue)>=0){el.defaultValue=val}}else{el.setAttribute(attrName,val);newValue=val}}}if(!attr.MutationObserver&&newValue!==oldValue){attr.trigger(el,attrName,oldValue)}},trigger:function(el,attrName,oldValue){if(can.data(can.$(el),"canHasAttributesBindings")){return setImmediate(function(){can.trigger(el,{type:"attributes",attributeName:attrName,target:el,oldValue:oldValue,bubbles:false},[])})}},get:function(el,attrName){var prop=attr.map[attrName];if(typeof prop==="string"&&el[prop]){return el[prop]}return el.getAttribute(attrName)},remove:function(el,attrName){var oldValue;if(!attr.MutationObserver){oldValue=attr.get(el,attrName)}var setter=attr.map[attrName];if(typeof setter==="function"){setter(el,undefined)}if(setter===true){el[attrName]=false}else{if(typeof setter==="string"){el[setter]=""}else{el.removeAttribute(attrName)}}if(!attr.MutationObserver&&oldValue!=null){attr.trigger(el,attrName,oldValue)}},has:(function(){var el=document.createElement("div");if(el.hasAttribute){return function(el,name){return el.hasAttribute(name)}}else{return function(el,name){return el.getAttribute(name)!==null}}})()};return attr})(__m4);var __m6=(function(can){can.addEvent=function(event,handler){var allEvents=this.__bindEvents||(this.__bindEvents={}),eventList=allEvents[event]||(allEvents[event]=[]);eventList.push({handler:handler,name:event});return this};can.listenTo=function(other,event,handler){var idedEvents=this.__listenToEvents;if(!idedEvents){idedEvents=this.__listenToEvents={}}var otherId=can.cid(other);var othersEvents=idedEvents[otherId];if(!othersEvents){othersEvents=idedEvents[otherId]={obj:other,events:{}}}var eventsEvents=othersEvents.events[event];if(!eventsEvents){eventsEvents=othersEvents.events[event]=[]}eventsEvents.push(handler);can.bind.call(other,event,handler)};can.stopListening=function(other,event,handler){var idedEvents=this.__listenToEvents,iterIdedEvents=idedEvents,i=0;if(!idedEvents){return this}if(other){var othercid=can.cid(other);(iterIdedEvents={})[othercid]=idedEvents[othercid];if(!idedEvents[othercid]){return this}}for(var cid in iterIdedEvents){var othersEvents=iterIdedEvents[cid],eventsEvents;other=idedEvents[cid].obj;if(!event){eventsEvents=othersEvents.events}else{(eventsEvents={})[event]=othersEvents.events[event]}for(var eventName in eventsEvents){var handlers=eventsEvents[eventName]||[];i=0;while(i<handlers.length){if(handler&&handler===handlers[i]||!handler){can.unbind.call(other,eventName,handlers[i]);handlers.splice(i,1)}else{i++}}if(!handlers.length){delete othersEvents.events[eventName]}}if(can.isEmptyObject(othersEvents.events)){delete idedEvents[cid]}}return this};can.removeEvent=function(event,fn,__validate){if(!this.__bindEvents){return this}var events=this.__bindEvents[event]||[],i=0,ev,isFunction=typeof fn==="function";while(i<events.length){ev=events[i];if(__validate?__validate(ev,event,fn):isFunction&&ev.handler===fn||!isFunction&&(ev.cid===fn||!fn)){events.splice(i,1)}else{i++}}return this};can.dispatch=function(event,args){var events=this.__bindEvents;if(!events){return}if(typeof event==="string"){event={type:event}}var eventName=event.type,handlers=(events[eventName]||[]).slice(0);args=[event].concat(args||[]);for(var i=0,len=handlers.length;i<len;i++){handlers[i].handler.apply(this,args)}return event};can.one=function(event,handler){var one=function(){can.unbind.call(this,event,one);return handler.apply(this,arguments)};can.bind.call(this,event,one);return this};can.event={on:can.addEvent,off:can.removeEvent,bind:can.addEvent,unbind:can.removeEvent,delegate:function(selector,event,handler){return can.addEvent.call(event,handler)},undelegate:function(selector,event,handler){return can.removeEvent.call(event,handler)},trigger:can.dispatch,one:can.one,addEvent:can.addEvent,removeEvent:can.removeEvent,listenTo:can.listenTo,stopListening:can.stopListening,dispatch:can.dispatch};return can.event})(__m4);var __m7=(function(can){var isArrayLike=function(obj){var length=obj.length;return typeof arr!=="function"&&(length===0||typeof length==="number"&&length>0&&(length-1) in obj)};can.each=function(elements,callback,context){var i=0,key,len,item;if(elements){if(isArrayLike(elements)){if(can.List&&elements instanceof can.List){for(len=elements.attr("length");i<len;i++){item=elements.attr(i);if(callback.call(context||item,item,i,elements)===false){break}}}else{for(len=elements.length;i<len;i++){item=elements[i];if(callback.call(context||item,item,i,elements)===false){break}}}}else{if(typeof elements==="object"){if(can.Map&&elements instanceof can.Map||elements===can.route){var keys=can.Map.keys(elements);for(i=0,len=keys.length;i<len;i++){key=keys[i];item=elements.attr(key);if(callback.call(context||item,item,key,elements)===false){break}}}else{for(key in elements){if(elements.hasOwnProperty(key)&&callback.call(context||elements[key],elements[key],key,elements)===false){break}}}}}}return elements};return can})(__m4);var __m8=(function(can){can.inserted=function(elems){elems=can.makeArray(elems);var inDocument=false,doc=can.$(document.contains?document:document.body),children;for(var i=0,elem;(elem=elems[i])!==undefined;i++){if(!inDocument){if(elem.getElementsByTagName){if(can.has(doc,elem).length){inDocument=true}else{return}}else{continue}}if(inDocument&&elem.getElementsByTagName){children=can.makeArray(elem.getElementsByTagName("*"));can.trigger(elem,"inserted",[],false);for(var j=0,child;(child=children[j])!==undefined;j++){can.trigger(child,"inserted",[],false)}}}};can.appendChild=function(el,child){var children;if(child.nodeType===11){children=can.makeArray(child.childNodes)}else{children=[child]}el.appendChild(child);can.inserted(children)};can.insertBefore=function(el,child,ref){var children;if(child.nodeType===11){children=can.makeArray(child.childNodes)}else{children=[child]}el.insertBefore(child,ref);can.inserted(children)}})(__m4);var __m2=(function($,can,attr,event){var isBindableElement=function(node){return(node.nodeName&&(node.nodeType===1||node.nodeType===9))||node==window};$.extend(can,$,{trigger:function(obj,event,args,bubbles){if(isBindableElement(obj)){$.event.trigger(event,args,obj,!bubbles)}else{if(obj.trigger){obj.trigger(event,args)}else{if(typeof event==="string"){event={type:event}}event.target=event.target||obj;can.dispatch.call(obj,event,args)}}},event:can.event,addEvent:can.addEvent,removeEvent:can.removeEvent,buildFragment:function(elems,context){var ret;elems=[elems];context=context||document;context=!context.nodeType&&context[0]||context;context=context.ownerDocument||context;ret=$.buildFragment(elems,context);return ret.cacheable?$.clone(ret.fragment):ret.fragment||ret},$:$,each:can.each,bind:function(ev,cb){if(this.bind&&this.bind!==can.bind){this.bind(ev,cb)}else{if(isBindableElement(this)){$.event.add(this,ev,cb)}else{can.addEvent.call(this,ev,cb)}}return this},unbind:function(ev,cb){if(this.unbind&&this.unbind!==can.unbind){this.unbind(ev,cb)}else{if(isBindableElement(this)){$.event.remove(this,ev,cb)}else{can.removeEvent.call(this,ev,cb)}}return this},delegate:function(selector,ev,cb){if(this.delegate){this.delegate(selector,ev,cb)}else{if(isBindableElement(this)){$(this).delegate(selector,ev,cb)}else{can.bind.call(this,ev,cb)}}return this},undelegate:function(selector,ev,cb){if(this.undelegate){this.undelegate(selector,ev,cb)}else{if(isBindableElement(this)){$(this).undelegate(selector,ev,cb)}else{can.unbind.call(this,ev,cb)}}return this},proxy:function(fn,context){return function(){return fn.apply(context,arguments)}},attr:attr});can.on=can.bind;can.off=can.unbind;$.each(["append","filter","addClass","remove","data","get","has"],function(i,name){can[name]=function(wrapped){return wrapped[name].apply(wrapped,can.makeArray(arguments).slice(1))}});var oldClean=$.cleanData;$.cleanData=function(elems){$.each(elems,function(i,elem){if(elem){can.trigger(elem,"removed",[],false)}});oldClean(elems)};var oldDomManip=$.fn.domManip,cbIndex;$.fn.domManip=function(args,cb1,cb2){for(var i=1;i<arguments.length;i++){if(typeof arguments[i]==="function"){cbIndex=i;break}}return oldDomManip.apply(this,arguments)};$(document.createElement("div")).append(document.createElement("div"));$.fn.domManip=(cbIndex===2?function(args,table,callback){return oldDomManip.call(this,args,table,function(elem){var elems;if(elem.nodeType===11){elems=can.makeArray(elem.childNodes)}var ret=callback.apply(this,arguments);can.inserted(elems?elems:[elem]);return ret})}:function(args,callback){return oldDomManip.call(this,args,function(elem){var elems;if(elem.nodeType===11){elems=can.makeArray(elem.childNodes)}var ret=callback.apply(this,arguments);can.inserted(elems?elems:[elem]);return ret})});if(!can.attr.MutationObserver){var oldAttr=$.attr;$.attr=function(el,attrName){var oldValue,newValue;if(arguments.length>=3){oldValue=oldAttr.call(this,el,attrName)}var res=oldAttr.apply(this,arguments);if(arguments.length>=3){newValue=oldAttr.call(this,el,attrName)}if(newValue!==oldValue){can.attr.trigger(el,attrName,oldValue)}return res};var oldRemove=$.removeAttr;$.removeAttr=function(el,attrName){var oldValue=oldAttr.call(this,el,attrName),res=oldRemove.apply(this,arguments);if(oldValue!=null){can.attr.trigger(el,attrName,oldValue)}return res};$.event.special.attributes={setup:function(){can.data(can.$(this),"canHasAttributesBindings",true)},teardown:function(){$.removeData(this,"canHasAttributesBindings")}}}else{$.event.special.attributes={setup:function(){var self=this;var observer=new can.attr.MutationObserver(function(mutations){mutations.forEach(function(mutation){var copy=can.simpleExtend({},mutation);can.trigger(self,copy,[])})});observer.observe(this,{attributes:true,attributeOldValue:true});can.data(can.$(this),"canAttributesObserver",observer)},teardown:function(){can.data(can.$(this),"canAttributesObserver").disconnect();$.removeData(this,"canAttributesObserver")}}}(function(){var text="<-\n>",frag=can.buildFragment(text,document);if(text!==frag.childNodes[0].nodeValue){var oldBuildFragment=can.buildFragment;can.buildFragment=function(content,context){var res=oldBuildFragment(content,context);if(res.childNodes.length===1&&res.childNodes[0].nodeType===3){res.childNodes[0].nodeValue=content}return res}}})();$.event.special.inserted={};$.event.special.removed={};return can})(jQuery,__m4,__m5,__m6,__m7,__m8);var __m10=(function(can){var isFunction=can.isFunction,makeArray=can.makeArray,hookupId=1;var makeRenderer=function(textRenderer){var renderer=function(){return $view.frag(textRenderer.apply(this,arguments))};renderer.render=function(){return textRenderer.apply(textRenderer,arguments)};return renderer};var checkText=function(text,url){if(!text.length){throw"can.view: No template or empty template:"+url}};var get=function(obj,async){var url=typeof obj==="string"?obj:obj.url,suffix=(obj.engine&&"."+obj.engine)||url.match(/\.[\w\d]+$/),type,el,id;if(url.match(/^#/)){url=url.substr(1)}if(el=document.getElementById(url)){suffix="."+el.type.match(/\/(x\-)?(.+)/)[2]}if(!suffix&&!$view.cached[url]){url+=suffix=$view.ext}if(can.isArray(suffix)){suffix=suffix[0]}id=$view.toId(url);if(url.match(/^\/\//)){url=url.substr(2);url=!window.steal?url:steal.config().root.mapJoin(""+steal.id(url))}if(window.require){if(require.toUrl){url=require.toUrl(url)}}type=$view.types[suffix];if($view.cached[id]){return $view.cached[id]}else{if(el){return $view.registerView(id,el.innerHTML,type)}else{var d=new can.Deferred();can.ajax({async:async,url:url,dataType:"text",error:function(jqXHR){checkText("",url);d.reject(jqXHR)},success:function(text){checkText(text,url);$view.registerView(id,text,type,d)}});return d}}};var getDeferreds=function(data){var deferreds=[];if(can.isDeferred(data)){return[data]}else{for(var prop in data){if(can.isDeferred(data[prop])){deferreds.push(data[prop])}}}return deferreds};var usefulPart=function(resolved){return can.isArray(resolved)&&resolved[1]==="success"?resolved[0]:resolved};var $view=can.view=can.template=function(view,data,helpers,callback){if(isFunction(helpers)){callback=helpers;helpers=undefined}var result;if(isFunction(view)){result=view(data,helpers,callback)}else{result=$view.renderAs("fragment",view,data,helpers,callback)}return result};can.extend($view,{frag:function(result,parentNode){return $view.hookup($view.fragment(result),parentNode)},fragment:function(result){if(typeof result!=="string"&&result.nodeType===11){return result}var frag=can.buildFragment(result,document.body);if(!frag.childNodes.length){frag.appendChild(document.createTextNode(""))}return frag},toId:function(src){return can.map(src.toString().split(/\/|\./g),function(part){if(part){return part}}).join("_")},toStr:function(txt){return txt==null?"":""+txt},hookup:function(fragment,parentNode){var hookupEls=[],id,func;can.each(fragment.childNodes?can.makeArray(fragment.childNodes):fragment,function(node){if(node.nodeType===1){hookupEls.push(node);hookupEls.push.apply(hookupEls,can.makeArray(node.getElementsByTagName("*")))}});can.each(hookupEls,function(el){if(el.getAttribute&&(id=el.getAttribute("data-view-id"))&&(func=$view.hookups[id])){func(el,parentNode,id);delete $view.hookups[id];el.removeAttribute("data-view-id")}});return fragment},hookups:{},hook:function(cb){$view.hookups[++hookupId]=cb;return" data-view-id='"+hookupId+"'"},cached:{},cachedRenderers:{},cache:true,register:function(info){this.types["."+info.suffix]=info;can[info.suffix]=$view[info.suffix]=function(id,text){if(!text){if(info.fragRenderer){return info.fragRenderer(null,id)}else{return makeRenderer(info.renderer(null,id))}}if(info.fragRenderer){return $view.preload(id,info.fragRenderer(id,text))}else{return $view.preloadStringRenderer(id,info.renderer(id,text))}}},types:{},ext:".ejs",registerScript:function(type,id,src){return"can.view.preloadStringRenderer('"+id+"',"+$view.types["."+type].script(id,src)+");"},preload:function(id,renderer){var def=$view.cached[id]=new can.Deferred().resolve(function(data,helpers){return renderer.call(data,data,helpers)});def.__view_id=id;$view.cachedRenderers[id]=renderer;return renderer},preloadStringRenderer:function(id,stringRenderer){return this.preload(id,makeRenderer(stringRenderer))},render:function(view,data,helpers,callback){return can.view.renderAs("string",view,data,helpers,callback)},renderTo:function(format,renderer,data,helpers){return(format==="string"&&renderer.render?renderer.render:renderer)(data,helpers)},renderAs:function(format,view,data,helpers,callback){if(isFunction(helpers)){callback=helpers;helpers=undefined}var deferreds=getDeferreds(data);var reading,deferred,dataCopy,async,response;if(deferreds.length){deferred=new can.Deferred();dataCopy=can.extend({},data);deferreds.push(get(view,true));can.when.apply(can,deferreds).then(function(resolved){var objs=makeArray(arguments),renderer=objs.pop(),result;if(can.isDeferred(data)){dataCopy=usefulPart(resolved)}else{for(var prop in data){if(can.isDeferred(data[prop])){dataCopy[prop]=usefulPart(objs.shift())}}}result=can.view.renderTo(format,renderer,dataCopy,helpers);deferred.resolve(result,dataCopy);if(callback){callback(result,dataCopy)}},function(){deferred.reject.apply(deferred,arguments)});return deferred}else{reading=can.__clearReading();async=isFunction(callback);deferred=get(view,async);if(reading){can.__setReading(reading)}if(async){response=deferred;deferred.then(function(renderer){callback(data?can.view.renderTo(format,renderer,data,helpers):renderer)})}else{if(deferred.state()==="resolved"&&deferred.__view_id){var currentRenderer=$view.cachedRenderers[deferred.__view_id];return data?can.view.renderTo(format,currentRenderer,data,helpers):currentRenderer}else{deferred.then(function(renderer){response=data?can.view.renderTo(format,renderer,data,helpers):renderer})}}return response}},registerView:function(id,text,type,def){var info=(typeof type==="object"?type:$view.types[type||$view.ext]),renderer;if(info.fragRenderer){renderer=info.fragRenderer(id,text)}else{renderer=makeRenderer(info.renderer(id,text))}def=def||new can.Deferred();if($view.cache){$view.cached[id]=def;def.__view_id=id;$view.cachedRenderers[id]=renderer}return def.resolve(renderer)}});return can})(__m2);var __m9=(function(can){var attr=can.view.attr=function(attributeName,attrHandler){if(attrHandler){if(typeof attributeName==="string"){attributes[attributeName]=attrHandler}else{regExpAttributes.push({match:attributeName,handler:attrHandler})}}else{var cb=attributes[attributeName];if(!cb){for(var i=0,len=regExpAttributes.length;i<len;i++){var attrMatcher=regExpAttributes[i];if(attrMatcher.match.test(attributeName)){cb=attrMatcher.handler;break}}}return cb}};var attributes={},regExpAttributes=[],automaticCustomElementCharacters=/[-\:]/;var tag=can.view.tag=function(tagName,tagHandler){if(tagHandler){if(window.html5){window.html5.elements+=" "+tagName;window.html5.shivDocument()}tags[tagName.toLowerCase()]=tagHandler}else{var cb=tags[tagName.toLowerCase()];if(!cb&&automaticCustomElementCharacters.test(tagName)){cb=function(){}}return cb}};var tags={};can.view.callbacks={_tags:tags,_attributes:attributes,_regExpAttributes:regExpAttributes,tag:tag,attr:attr,tagHandler:function(el,tagName,tagData){var helperTagCallback=tagData.options.read("tags."+tagName,{isArgument:true,proxyMethods:false}).value,tagCallback=helperTagCallback||tags[tagName];var scope=tagData.scope,res=tagCallback?tagCallback(el,tagData):scope;if(res&&tagData.subtemplate){if(scope!==res){scope=scope.add(res)}var result=tagData.subtemplate(scope,tagData.options);var frag=typeof result==="string"?can.view.frag(result):result;can.appendChild(el,frag)}}};return can.view.callbacks})(__m2,__m10);var __m13=(function(can){var strUndHash=/_|-/,strColons=/\=\=/,strWords=/([A-Z]+)([A-Z][a-z])/g,strLowUp=/([a-z\d])([A-Z])/g,strDash=/([a-z\d])([A-Z])/g,strReplacer=/\{([^\}]+)\}/g,strQuote=/"/g,strSingleQuote=/'/g,strHyphenMatch=/-+(.)?/g,strCamelMatch=/[a-z][A-Z]/g,getNext=function(obj,prop,add){var result=obj[prop];if(result===undefined&&add===true){result=obj[prop]={}}return result},isContainer=function(current){return/^f|^o/.test(typeof current)},convertBadValues=function(content){var isInvalid=content===null||content===undefined||isNaN(content)&&""+content==="NaN";return""+(isInvalid?"":content)};can.extend(can,{esc:function(content){return convertBadValues(content).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(strQuote,"&#34;").replace(strSingleQuote,"&#39;")},getObject:function(name,roots,add){var parts=name?name.split("."):[],length=parts.length,current,r=0,i,container,rootsLength;roots=can.isArray(roots)?roots:[roots||window];rootsLength=roots.length;if(!length){return roots[0]}for(r;r<rootsLength;r++){current=roots[r];container=undefined;for(i=0;i<length&&isContainer(current);i++){container=current;current=getNext(container,parts[i])}if(container!==undefined&&current!==undefined){break}}if(add===false&&current!==undefined){delete container[parts[i-1]]}if(add===true&&current===undefined){current=roots[0];for(i=0;i<length&&isContainer(current);i++){current=getNext(current,parts[i],true)}}return current},capitalize:function(s,cache){return s.charAt(0).toUpperCase()+s.slice(1)},camelize:function(str){return convertBadValues(str).replace(strHyphenMatch,function(match,chr){return chr?chr.toUpperCase():""})},hyphenate:function(str){return convertBadValues(str).replace(strCamelMatch,function(str,offset){return str.charAt(0)+"-"+str.charAt(1).toLowerCase()})},underscore:function(s){return s.replace(strColons,"/").replace(strWords,"$1_$2").replace(strLowUp,"$1_$2").replace(strDash,"_").toLowerCase()},sub:function(str,data,remove){var obs=[];str=str||"";obs.push(str.replace(strReplacer,function(whole,inside){var ob=can.getObject(inside,data,remove===true?false:undefined);if(ob===undefined||ob===null){obs=null;return""}if(isContainer(ob)&&obs){obs.push(ob);return""}return""+ob}));return obs===null?obs:obs.length<=1?obs[0]:obs},replacer:strReplacer,undHash:strUndHash});return can})(__m2);var __m12=(function(can){var initializing=0;can.Construct=function(){if(arguments.length){return can.Construct.extend.apply(can.Construct,arguments)}};can.extend(can.Construct,{constructorExtends:true,newInstance:function(){var inst=this.instance(),args;if(inst.setup){args=inst.setup.apply(inst,arguments)}if(inst.init){inst.init.apply(inst,args||arguments)}return inst},_inherit:function(newProps,oldProps,addTo){can.extend(addTo||newProps,newProps||{})},_overwrite:function(what,oldProps,propName,val){what[propName]=val},setup:function(base,fullName){this.defaults=can.extend(true,{},base.defaults,this.defaults)},instance:function(){initializing=1;var inst=new this();initializing=0;return inst},extend:function(fullName,klass,proto){if(typeof fullName!=="string"){proto=klass;klass=fullName;fullName=null}if(!proto){proto=klass;klass=null}proto=proto||{};var _super_class=this,_super=this.prototype,parts,current,_fullName,_shortName,name,shortName,namespace,prototype;prototype=this.instance();can.Construct._inherit(proto,_super,prototype);function Constructor(){if(!initializing){return this.constructor!==Constructor&&arguments.length&&Constructor.constructorExtends?Constructor.extend.apply(Constructor,arguments):Constructor.newInstance.apply(Constructor,arguments)}}for(name in _super_class){if(_super_class.hasOwnProperty(name)){Constructor[name]=_super_class[name]}}can.Construct._inherit(klass,_super_class,Constructor);if(fullName){parts=fullName.split(".");shortName=parts.pop();current=can.getObject(parts.join("."),window,true);namespace=current;_fullName=can.underscore(fullName.replace(/\./g,"_"));_shortName=can.underscore(shortName);current[shortName]=Constructor}can.extend(Constructor,{constructor:Constructor,prototype:prototype,namespace:namespace,_shortName:_shortName,fullName:fullName,_fullName:_fullName});if(shortName!==undefined){Constructor.shortName=shortName}Constructor.prototype.constructor=Constructor;var t=[_super_class].concat(can.makeArray(arguments)),args=Constructor.setup.apply(Constructor,t);if(Constructor.init){Constructor.init.apply(Constructor,args||t)}return Constructor}});can.Construct.prototype.setup=function(){};can.Construct.prototype.init=function(){};return can.Construct})(__m13);var __m11=(function(can){var bind=function(el,ev,callback){can.bind.call(el,ev,callback);return function(){can.unbind.call(el,ev,callback)}},isFunction=can.isFunction,extend=can.extend,each=can.each,slice=[].slice,paramReplacer=/\{([^\}]+)\}/g,special=can.getObject("$.event.special",[can])||{},delegate=function(el,selector,ev,callback){can.delegate.call(el,selector,ev,callback);return function(){can.undelegate.call(el,selector,ev,callback)}},binder=function(el,ev,callback,selector){return selector?delegate(el,can.trim(selector),ev,callback):bind(el,ev,callback)},basicProcessor;var Control=can.Control=can.Construct({setup:function(){can.Construct.setup.apply(this,arguments);if(can.Control){var control=this,funcName;control.actions={};for(funcName in control.prototype){if(control._isAction(funcName)){control.actions[funcName]=control._action(funcName)}}}},_shifter:function(context,name){var method=typeof name==="string"?context[name]:name;if(!isFunction(method)){method=context[method]}return function(){context.called=name;return method.apply(context,[this.nodeName?can.$(this):this].concat(slice.call(arguments,0)))}},_isAction:function(methodName){var val=this.prototype[methodName],type=typeof val;return(methodName!=="constructor")&&(type==="function"||(type==="string"&&isFunction(this.prototype[val])))&&!!(special[methodName]||processors[methodName]||/[^\w]/.test(methodName))},_action:function(methodName,options){paramReplacer.lastIndex=0;if(options||!paramReplacer.test(methodName)){var convertedName=options?can.sub(methodName,this._lookup(options)):methodName;if(!convertedName){return null}var arr=can.isArray(convertedName),name=arr?convertedName[1]:convertedName,parts=name.split(/\s+/g),event=parts.pop();return{processor:processors[event]||basicProcessor,parts:[name,parts.join(" "),event],delegate:arr?convertedName[0]:undefined}}},_lookup:function(options){return[options,window]},processors:{},defaults:{}},{setup:function(element,options){var cls=this.constructor,pluginname=cls.pluginName||cls._fullName,arr;this.element=can.$(element);if(pluginname&&pluginname!=="can_control"){this.element.addClass(pluginname)}arr=can.data(this.element,"controls");if(!arr){arr=[];can.data(this.element,"controls",arr)}arr.push(this);this.options=extend({},cls.defaults,options);this.on();return[this.element,this.options]},on:function(el,selector,eventName,func){if(!el){this.off();var cls=this.constructor,bindings=this._bindings,actions=cls.actions,element=this.element,destroyCB=can.Control._shifter(this,"destroy"),funcName,ready;for(funcName in actions){if(actions.hasOwnProperty(funcName)){ready=actions[funcName]||cls._action(funcName,this.options,this);if(ready){bindings.control[funcName]=ready.processor(ready.delegate||element,ready.parts[2],ready.parts[1],funcName,this)}}}can.bind.call(element,"removed",destroyCB);bindings.user.push(function(el){can.unbind.call(el,"removed",destroyCB)});return bindings.user.length}if(typeof el==="string"){func=eventName;eventName=selector;selector=el;el=this.element}if(func===undefined){func=eventName;eventName=selector;selector=null}if(typeof func==="string"){func=can.Control._shifter(this,func)}this._bindings.user.push(binder(el,eventName,func,selector));return this._bindings.user.length},off:function(){var el=this.element[0],bindings=this._bindings;if(bindings){each(bindings.user||[],function(value){value(el)});each(bindings.control||{},function(value){value(el)})}this._bindings={user:[],control:{}}},destroy:function(){if(this.element===null){return}var Class=this.constructor,pluginName=Class.pluginName||Class._fullName,controls;this.off();if(pluginName&&pluginName!=="can_control"){this.element.removeClass(pluginName)}controls=can.data(this.element,"controls");controls.splice(can.inArray(this,controls),1);can.trigger(this,"destroyed");this.element=null}});var processors=can.Control.processors;basicProcessor=function(el,event,selector,methodName,control){return binder(el,event,can.Control._shifter(control,methodName),selector)};each(["change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave"],function(v){processors[v]=basicProcessor});return Control})(__m2,__m12);var __m16=(function(can){can.bindAndSetup=function(){can.addEvent.apply(this,arguments);if(!this._init){if(!this._bindings){this._bindings=1;if(this._bindsetup){this._bindsetup()}}else{this._bindings++}}return this};can.unbindAndTeardown=function(ev,handler){can.removeEvent.apply(this,arguments);if(this._bindings===null){this._bindings=0}else{this._bindings--}if(!this._bindings&&this._bindteardown){this._bindteardown()}return this};return can})(__m2);var __m17=(function(can){var bubble=can.bubble={event:function(map,eventName){return map.constructor._bubbleRule(eventName,map)},childrenOf:function(parentMap,eventName){parentMap._each(function(child,prop){if(child&&child.bind){bubble.toParent(child,parentMap,prop,eventName)}})},teardownChildrenFrom:function(parentMap,eventName){parentMap._each(function(child){bubble.teardownFromParent(parentMap,child,eventName)})},toParent:function(child,parent,prop,eventName){can.listenTo.call(parent,child,eventName,function(){var args=can.makeArray(arguments),ev=args.shift();args[0]=(can.List&&parent instanceof can.List?parent.indexOf(child):prop)+(args[0]?"."+args[0]:"");ev.triggeredNS=ev.triggeredNS||{};if(ev.triggeredNS[parent._cid]){return}ev.triggeredNS[parent._cid]=true;can.trigger(parent,ev,args)})},teardownFromParent:function(parent,child,eventName){if(child&&child.unbind){can.stopListening.call(parent,child,eventName)}},bind:function(parent,eventName){if(!parent._init){var bubbleEvent=bubble.event(parent,eventName);if(bubbleEvent){if(!parent._bubbleBindings){parent._bubbleBindings={}}if(!parent._bubbleBindings[bubbleEvent]){parent._bubbleBindings[bubbleEvent]=1;bubble.childrenOf(parent,bubbleEvent)}else{parent._bubbleBindings[bubbleEvent]++}}}},unbind:function(parent,eventName){var bubbleEvent=bubble.event(parent,eventName);if(bubbleEvent){if(parent._bubbleBindings){parent._bubbleBindings[bubbleEvent]--}if(!parent._bubbleBindings[bubbleEvent]){delete parent._bubbleBindings[bubbleEvent];bubble.teardownChildrenFrom(parent,bubbleEvent);if(can.isEmptyObject(parent._bubbleBindings)){delete parent._bubbleBindings}}}},add:function(parent,child,prop){if(child instanceof can.Map&&parent._bubbleBindings){for(var eventName in parent._bubbleBindings){if(parent._bubbleBindings[eventName]){bubble.teardownFromParent(parent,child,eventName);bubble.toParent(child,parent,prop,eventName)}}}},removeMany:function(parent,children){for(var i=0,len=children.length;i<len;i++){bubble.remove(parent,children[i])}},remove:function(parent,child){if(child instanceof can.Map&&parent._bubbleBindings){for(var eventName in parent._bubbleBindings){if(parent._bubbleBindings[eventName]){bubble.teardownFromParent(parent,child,eventName)}}}},set:function(parent,prop,value,current){if(can.Map.helpers.isObservable(value)){bubble.add(parent,value,prop)}if(can.Map.helpers.isObservable(current)){bubble.remove(parent,current)}return value}};return bubble})(__m2);var __m18=(function(can){var batchNum=1,transactions=0,batchEvents=[],stopCallbacks=[];can.batch={start:function(batchStopHandler){transactions++;if(batchStopHandler){stopCallbacks.push(batchStopHandler)}},stop:function(force,callStart){if(force){transactions=0}else{transactions--}if(transactions===0){var items=batchEvents.slice(0),callbacks=stopCallbacks.slice(0),i,len;batchEvents=[];stopCallbacks=[];batchNum++;if(callStart){can.batch.start()}for(i=0,len=items.length;i<len;i++){can.trigger.apply(can,items[i])}for(i=0,len=callbacks.length;i<callbacks.length;i++){callbacks[i]()}}},trigger:function(item,event,args){if(!item._init){if(transactions===0){return can.trigger(item,event,args)}else{event=typeof event==="string"?{type:event}:event;event.batchNum=batchNum;batchEvents.push([item,event,args])}}}}})(__m4);var __m15=(function(can,bind,bubble){var madeMap=null;var teardownMap=function(){for(var cid in madeMap){if(madeMap[cid].added){delete madeMap[cid].obj._cid}}madeMap=null};var getMapFromObject=function(obj){return madeMap&&madeMap[obj._cid]&&madeMap[obj._cid].instance};var serializeMap=null;var Map=can.Map=can.Construct.extend({setup:function(){can.Construct.setup.apply(this,arguments);if(can.Map){if(!this.defaults){this.defaults={}}this._computes=[];for(var prop in this.prototype){if(prop!=="define"&&typeof this.prototype[prop]!=="function"){this.defaults[prop]=this.prototype[prop]}else{if(this.prototype[prop].isComputed){this._computes.push(prop)}}}this.helpers.define(this)}if(can.List&&!(this.prototype instanceof can.List)){this.List=Map.List.extend({Map:this},{})}},_bubble:bubble,_bubbleRule:function(eventName){return(eventName==="change"||eventName.indexOf(".")>=0)&&"change"},_computes:[],bind:can.bindAndSetup,on:can.bindAndSetup,unbind:can.unbindAndTeardown,off:can.unbindAndTeardown,id:"id",helpers:{define:function(){},attrParts:function(attr,keepKey){if(keepKey){return[attr]}return can.isArray(attr)?attr:(""+attr).split(".")},addToMap:function(obj,instance){var teardown;if(!madeMap){teardown=teardownMap;madeMap={}}var hasCid=obj._cid;var cid=can.cid(obj);if(!madeMap[cid]){madeMap[cid]={obj:obj,instance:instance,added:!hasCid}}return teardown},isObservable:function(obj){return obj instanceof can.Map||(obj&&obj===can.route)},canMakeObserve:function(obj){return obj&&!can.isDeferred(obj)&&(can.isArray(obj)||can.isPlainObject(obj))},serialize:function(map,how,where){var cid=can.cid(map),firstSerialize=false;if(!serializeMap){firstSerialize=true;serializeMap={attr:{},serialize:{}}}serializeMap[how][cid]=where;map.each(function(val,name){var result,isObservable=Map.helpers.isObservable(val),serialized=isObservable&&serializeMap[how][can.cid(val)];if(serialized){result=serialized}else{if(how==="serialize"){result=Map.helpers._serialize(map,name,val)}else{result=Map.helpers._getValue(map,name,val,how)}}if(result!==undefined){where[name]=result}});can.__reading(map,"__keys");if(firstSerialize){serializeMap=null}return where},_serialize:function(map,name,val){return Map.helpers._getValue(map,name,val,"serialize")},_getValue:function(map,name,val,how){if(Map.helpers.isObservable(val)){return val[how]()}else{return val}}},keys:function(map){var keys=[];can.__reading(map,"__keys");for(var keyName in map._data){keys.push(keyName)}return keys}},{setup:function(obj){this._data={};can.cid(this,".map");this._init=1;var defaultValues=this._setupDefaults();this._setupComputes(defaultValues);var teardownMapping=obj&&can.Map.helpers.addToMap(obj,this);var data=can.extend(can.extend(true,{},defaultValues),obj);this.attr(data);if(teardownMapping){teardownMapping()}this.bind("change",can.proxy(this._changes,this));delete this._init},_setupComputes:function(){var computes=this.constructor._computes;this._computedBindings={};for(var i=0,len=computes.length,prop;i<len;i++){prop=computes[i];this[prop]=this[prop].clone(this);this._computedBindings[prop]={count:0}}},_setupDefaults:function(){return this.constructor.defaults||{}},_bindsetup:function(){},_bindteardown:function(){},_changes:function(ev,attr,how,newVal,oldVal){can.batch.trigger(this,{type:attr,batchNum:ev.batchNum},[newVal,oldVal]);if(how==="remove"||how==="add"){can.batch.trigger(this,{type:"__keys",batchNum:ev.batchNum})}},_triggerChange:function(attr,how,newVal,oldVal){can.batch.trigger(this,"change",can.makeArray(arguments))},_each:function(callback){var data=this.__get();for(var prop in data){if(data.hasOwnProperty(prop)){callback(data[prop],prop)}}},attr:function(attr,val){var type=typeof attr;if(type!=="string"&&type!=="number"){return this._attrs(attr,val)}else{if(arguments.length===1){can.__reading(this,attr);return this._get(attr)}else{this._set(attr,val);return this}}},each:function(){return can.each.apply(undefined,[this].concat(can.makeArray(arguments)))},removeAttr:function(attr){var isList=can.List&&this instanceof can.List,parts=can.Map.helpers.attrParts(attr),prop=parts.shift(),current=isList?this[prop]:this._data[prop];if(parts.length&&current){return current.removeAttr(parts)}else{if(typeof attr==="string"&&!!~attr.indexOf(".")){prop=attr}this._remove(prop,current);return current}},_remove:function(prop,current){if(prop in this._data){delete this._data[prop];if(!(prop in this.constructor.prototype)){delete this[prop]}this._triggerChange(prop,"remove",undefined,current)}},_get:function(attr){var value;if(typeof attr==="string"&&!!~attr.indexOf(".")){value=this.__get(attr);if(value!==undefined){return value}}var parts=can.Map.helpers.attrParts(attr),current=this.__get(parts.shift());return parts.length?current?current._get(parts):undefined:current},__get:function(attr){if(attr){if(this._computedBindings[attr]){return this[attr]()}else{return this._data[attr]}}else{return this._data}},__type:function(value,prop){if(!(value instanceof can.Map)&&can.Map.helpers.canMakeObserve(value)){var cached=getMapFromObject(value);if(cached){return cached}if(can.isArray(value)){var List=can.List;return new List(value)}else{var Map=this.constructor.Map||can.Map;return new Map(value)}}return value},_set:function(attr,value,keepKey){var parts=can.Map.helpers.attrParts(attr,keepKey),prop=parts.shift(),current=this._init?undefined:this.__get(prop);if(parts.length&&Map.helpers.isObservable(current)){current._set(parts,value)}else{if(!parts.length){if(this.__convert){value=this.__convert(prop,value)}this.__set(prop,this.__type(value,prop),current)}else{throw"can.Map: Object does not exist"}}},__set:function(prop,value,current){if(value!==current){var changeType=this.__get().hasOwnProperty(prop)?"set":"add";this.___set(prop,this.constructor._bubble.set(this,prop,value,current));this._triggerChange(prop,changeType,value,current);if(current){this.constructor._bubble.teardownFromParent(this,current)}}},___set:function(prop,val){if(this._computedBindings[prop]){this[prop](val)}else{this._data[prop]=val}if(!can.isFunction(this.constructor.prototype[prop])&&!this._computedBindings[prop]){this[prop]=val}},bind:function(eventName,handler){var computedBinding=this._computedBindings&&this._computedBindings[eventName];if(computedBinding){if(!computedBinding.count){computedBinding.count=1;var self=this;computedBinding.handler=function(ev,newVal,oldVal){can.batch.trigger(self,{type:eventName,batchNum:ev.batchNum},[newVal,oldVal])};this[eventName].bind("change",computedBinding.handler)}else{computedBinding.count++}}this.constructor._bubble.bind(this,eventName);return can.bindAndSetup.apply(this,arguments)},unbind:function(eventName,handler){var computedBinding=this._computedBindings&&this._computedBindings[eventName];if(computedBinding){if(computedBinding.count===1){computedBinding.count=0;this[eventName].unbind("change",computedBinding.handler);delete computedBinding.handler}else{computedBinding.count--}}this.constructor._bubble.unbind(this,eventName);return can.unbindAndTeardown.apply(this,arguments)},serialize:function(){return can.Map.helpers.serialize(this,"serialize",{})},_attrs:function(props,remove){if(props===undefined){return Map.helpers.serialize(this,"attr",{})}props=can.simpleExtend({},props);var prop,self=this,newVal;can.batch.start();this.each(function(curVal,prop){if(prop==="_cid"){return}newVal=props[prop];if(newVal===undefined){if(remove){self.removeAttr(prop)}return}if(self.__convert){newVal=self.__convert(prop,newVal)}if(Map.helpers.isObservable(newVal)){self.__set(prop,self.__type(newVal,prop),curVal)}else{if(Map.helpers.isObservable(curVal)&&Map.helpers.canMakeObserve(newVal)){curVal.attr(newVal,remove)}else{if(curVal!==newVal){self.__set(prop,self.__type(newVal,prop),curVal)}}}delete props[prop]});for(prop in props){if(prop!=="_cid"){newVal=props[prop];this._set(prop,newVal,true)}}can.batch.stop();return this},compute:function(prop){if(can.isFunction(this.constructor.prototype[prop])){return can.compute(this[prop],this)}else{var reads=prop.split("."),last=reads.length-1,options={args:[]};return can.compute(function(newVal){if(arguments.length){can.compute.read(this,reads.slice(0,last)).value.attr(reads[last],newVal)}else{return can.compute.read(this,reads,options).value}},this)}}});Map.prototype.on=Map.prototype.bind;Map.prototype.off=Map.prototype.unbind;return Map})(__m2,__m16,__m17,__m12,__m18);var __m19=(function(can,Map,bubble){var splice=[].splice,spliceRemovesProps=(function(){var obj={0:"a",length:1};splice.call(obj,0,1);return !obj[0]})();var list=Map.extend({Map:Map},{setup:function(instances,options){this.length=0;can.cid(this,".map");this._init=1;this._setupComputes();instances=instances||[];var teardownMapping;if(can.isDeferred(instances)){this.replace(instances)}else{teardownMapping=instances.length&&can.Map.helpers.addToMap(instances,this);this.push.apply(this,can.makeArray(instances||[]))}if(teardownMapping){teardownMapping()}this.bind("change",can.proxy(this._changes,this));can.simpleExtend(this,options);delete this._init},_triggerChange:function(attr,how,newVal,oldVal){Map.prototype._triggerChange.apply(this,arguments);var index=+attr;if(!~attr.indexOf(".")&&!isNaN(index)){if(how==="add"){can.batch.trigger(this,how,[newVal,index]);can.batch.trigger(this,"length",[this.length])}else{if(how==="remove"){can.batch.trigger(this,how,[oldVal,index]);can.batch.trigger(this,"length",[this.length])}else{can.batch.trigger(this,how,[newVal,index])}}}},__get:function(attr){if(attr){if(this[attr]&&this[attr].isComputed&&can.isFunction(this.constructor.prototype[attr])){return this[attr]()}else{return this[attr]}}else{return this}},___set:function(attr,val){this[attr]=val;if(+attr>=this.length){this.length=(+attr+1)}},_remove:function(prop,current){if(isNaN(+prop)){delete this[prop];this._triggerChange(prop,"remove",undefined,current)}else{this.splice(prop,1)}},_each:function(callback){var data=this.__get();for(var i=0;i<data.length;i++){callback(data[i],i)}},serialize:function(){return Map.helpers.serialize(this,"serialize",[])},splice:function(index,howMany){var args=can.makeArray(arguments),i;for(i=2;i<args.length;i++){args[i]=bubble.set(this,i,this.__type(args[i],i))}if(howMany===undefined){howMany=args[1]=this.length-index}var removed=splice.apply(this,args);if(!spliceRemovesProps){for(i=this.length;i<removed.length+this.length;i++){delete this[i]}}can.batch.start();if(howMany>0){this._triggerChange(""+index,"remove",undefined,removed);bubble.removeMany(this,removed)}if(args.length>2){this._triggerChange(""+index,"add",args.slice(2),removed)}can.batch.stop();return removed},_attrs:function(items,remove){if(items===undefined){return Map.helpers.serialize(this,"attr",[])}items=can.makeArray(items);can.batch.start();this._updateAttrs(items,remove);can.batch.stop()},_updateAttrs:function(items,remove){var len=Math.min(items.length,this.length);for(var prop=0;prop<len;prop++){var curVal=this[prop],newVal=items[prop];if(Map.helpers.isObservable(curVal)&&Map.helpers.canMakeObserve(newVal)){curVal.attr(newVal,remove)}else{if(curVal!==newVal){this._set(prop,newVal)}else{}}}if(items.length>this.length){this.push.apply(this,items.slice(this.length))}else{if(items.length<this.length&&remove){this.splice(items.length)}}}}),getArgs=function(args){return args[0]&&can.isArray(args[0])?args[0]:can.makeArray(args)};can.each({push:"length",unshift:0},function(where,name){var orig=[][name];list.prototype[name]=function(){var args=[],len=where?this.length:0,i=arguments.length,res,val;while(i--){val=arguments[i];args[i]=bubble.set(this,i,this.__type(val,i))}res=orig.apply(this,args);if(!this.comparator||args.length){this._triggerChange(""+len,"add",args,undefined)}return res}});can.each({pop:"length",shift:0},function(where,name){list.prototype[name]=function(){var args=getArgs(arguments),len=where&&this.length?this.length-1:0;var res=[][name].apply(this,args);this._triggerChange(""+len,"remove",undefined,[res]);if(res&&res.unbind){bubble.remove(this,res)}return res}});can.extend(list.prototype,{indexOf:function(item,fromIndex){this.attr("length");return can.inArray(item,this,fromIndex)},join:function(){return[].join.apply(this.attr(),arguments)},reverse:function(){var list=can.makeArray([].reverse.call(this));this.replace(list)},slice:function(){var temp=Array.prototype.slice.apply(this,arguments);return new this.constructor(temp)},concat:function(){var args=[];can.each(can.makeArray(arguments),function(arg,i){args[i]=arg instanceof can.List?arg.serialize():arg});return new this.constructor(Array.prototype.concat.apply(this.serialize(),args))},forEach:function(cb,thisarg){return can.each(this,cb,thisarg||this)},replace:function(newList){if(can.isDeferred(newList)){newList.then(can.proxy(this.replace,this))}else{this.splice.apply(this,[0,this.length].concat(can.makeArray(newList||[])))}return this},filter:function(callback,thisArg){var filteredList=new can.List(),self=this,filtered;this.each(function(item,index,list){filtered=callback.call(thisArg|self,item,index,self);if(filtered){filteredList.push(item)}});return filteredList}});can.List=Map.List=list;return can.List})(__m2,__m15,__m17);var __m20=(function(can,bind){var stack=[];can.__read=function(func,self){stack.push({});var value=func.call(self);return{value:value,observed:stack.pop()}};can.__reading=function(obj,event){if(stack.length){stack[stack.length-1][obj._cid+"|"+event]={obj:obj,event:event+""}}};can.__clearReading=function(){if(stack.length){var ret=stack[stack.length-1];stack[stack.length-1]={};return ret}};can.__setReading=function(o){if(stack.length){stack[stack.length-1]=o}};can.__addReading=function(o){if(stack.length){can.simpleExtend(stack[stack.length-1],o)}};var getValueAndBind=function(func,context,oldObserved,onchanged){var info=can.__read(func,context),newObserveSet=info.observed,obEv,name;for(name in newObserveSet){if(oldObserved[name]){delete oldObserved[name]}else{obEv=newObserveSet[name];obEv.obj.bind(obEv.event,onchanged)}}for(name in oldObserved){obEv=oldObserved[name];obEv.obj.unbind(obEv.event,onchanged)}return info};var updateOnChange=function(compute,newValue,oldValue,batchNum){if(newValue!==oldValue){can.batch.trigger(compute,batchNum?{type:"change",batchNum:batchNum}:"change",[newValue,oldValue])}};var setupComputeHandlers=function(compute,func,context,setCachedValue){var readInfo,onchanged,batchNum;return{on:function(updater){if(!onchanged){onchanged=function(ev){if(compute.bound&&(ev.batchNum===undefined||ev.batchNum!==batchNum)){var oldValue=readInfo.value;readInfo=getValueAndBind(func,context,readInfo.observed,onchanged);updater(readInfo.value,oldValue,ev.batchNum);batchNum=batchNum=ev.batchNum}}}readInfo=getValueAndBind(func,context,{},onchanged);setCachedValue(readInfo.value);compute.hasDependencies=!can.isEmptyObject(readInfo.observed)},off:function(updater){for(var name in readInfo.observed){var ob=readInfo.observed[name];ob.obj.unbind(ob.event,onchanged)}}}};var isObserve=function(obj){return obj instanceof can.Map||obj&&obj.__get},k=function(){};can.compute=function(getterSetter,context,eventName){if(getterSetter&&getterSetter.isComputed){return getterSetter}var computed,on=k,off=k,value,get=function(){return value},set=function(newVal){value=newVal},setCached=set,args=can.makeArray(arguments),updater=function(newValue,oldValue,batchNum){setCached(newValue);updateOnChange(computed,newValue,oldValue,batchNum)},form;computed=function(newVal){if(arguments.length){var old=value;var setVal=set.call(context,newVal,old);if(computed.hasDependencies){return get.call(context)}if(setVal===undefined){value=get.call(context)}else{value=setVal}updateOnChange(computed,value,old);return value}else{if(stack.length&&computed.canReadForChangeEvent!==false){can.__reading(computed,"change");if(!computed.bound){can.compute.temporarilyBind(computed)}}if(computed.bound){return value}else{return get.call(context)}}};if(typeof getterSetter==="function"){set=getterSetter;get=getterSetter;computed.canReadForChangeEvent=eventName===false?false:true;var handlers=setupComputeHandlers(computed,getterSetter,context||this,setCached);on=handlers.on;off=handlers.off}else{if(context){if(typeof context==="string"){var propertyName=context,isObserve=getterSetter instanceof can.Map;if(isObserve){computed.hasDependencies=true}get=function(){if(isObserve){return getterSetter.attr(propertyName)}else{return getterSetter[propertyName]}};set=function(newValue){if(isObserve){getterSetter.attr(propertyName,newValue)}else{getterSetter[propertyName]=newValue}};var handler;on=function(update){handler=function(){update(get(),value)};can.bind.call(getterSetter,eventName||propertyName,handler);value=can.__read(get).value};off=function(){can.unbind.call(getterSetter,eventName||propertyName,handler)}}else{if(typeof context==="function"){value=getterSetter;set=context;context=eventName;form="setter"}else{value=getterSetter;var options=context,oldUpdater=updater;context=options.context||options;get=options.get||get;set=options.set||function(){return value};if(options.fn){var fn=options.fn,data;get=function(){return fn.call(context,value)};if(fn.length===0){data=setupComputeHandlers(computed,fn,context,setCached)}else{if(fn.length===1){data=setupComputeHandlers(computed,function(){return fn.call(context,value)},context,setCached)}else{updater=function(newVal){if(newVal!==undefined){oldUpdater(newVal,value)}};data=setupComputeHandlers(computed,function(){var res=fn.call(context,value,function(newVal){oldUpdater(newVal,value)});return res!==undefined?res:value},context,setCached)}}on=data.on;off=data.off}else{updater=function(){var newVal=get.call(context);oldUpdater(newVal,value)}}on=options.on||on;off=options.off||off}}}else{value=getterSetter}}can.cid(computed,"compute");return can.simpleExtend(computed,{isComputed:true,_bindsetup:function(){this.bound=true;var oldReading=can.__clearReading();on.call(this,updater);can.__setReading(oldReading)},_bindteardown:function(){off.call(this,updater);this.bound=false},bind:can.bindAndSetup,unbind:can.unbindAndTeardown,clone:function(context){if(context){if(form==="setter"){args[2]=context}else{args[1]=context}}return can.compute.apply(can,args)}})};var computes,unbindComputes=function(){for(var i=0,len=computes.length;i<len;i++){computes[i].unbind("change",k)}computes=null};can.compute.temporarilyBind=function(compute){compute.bind("change",k);if(!computes){computes=[];setTimeout(unbindComputes,10)}computes.push(compute)};can.compute.truthy=function(compute){return can.compute(function(){var res=compute();if(typeof res==="function"){res=res()}return !!res})};can.compute.async=function(initialValue,asyncComputer,context){return can.compute(initialValue,{fn:asyncComputer,context:context})};can.compute.read=function(parent,reads,options){options=options||{};var cur=parent,type,prev,foundObs;for(var i=0,readLength=reads.length;i<readLength;i++){prev=cur;if(prev&&prev.isComputed){if(options.foundObservable){options.foundObservable(prev,i)}prev=prev()}if(isObserve(prev)){if(!foundObs&&options.foundObservable){options.foundObservable(prev,i)}foundObs=1;if(typeof prev[reads[i]]==="function"&&prev.constructor.prototype[reads[i]]===prev[reads[i]]){if(options.returnObserveMethods){cur=cur[reads[i]]}else{if(reads[i]==="constructor"&&prev instanceof can.Construct){cur=prev[reads[i]]}else{cur=prev[reads[i]].apply(prev,options.args||[])}}}else{cur=cur.attr(reads[i])}}else{cur=prev[reads[i]]}type=typeof cur;if(cur&&cur.isComputed&&(!options.isArgument&&i<readLength-1)){if(!foundObs&&options.foundObservable){options.foundObservable(prev,i+1)}cur=cur()}else{if(i<reads.length-1&&type==="function"&&options.executeAnonymousFunctions&&!(can.Construct&&cur.prototype instanceof can.Construct)){cur=cur()}}if(i<reads.length-1&&(cur===null||type!=="function"&&type!=="object")){if(options.earlyExit){options.earlyExit(prev,i,cur)}return{value:undefined,parent:prev}}}if(typeof cur==="function"&&!(can.Construct&&cur.prototype instanceof can.Construct)){if(options.isArgument){if(!cur.isComputed&&options.proxyMethods!==false){cur=can.proxy(cur,prev)}}else{if(cur.isComputed&&!foundObs&&options.foundObservable){options.foundObservable(cur,i)}cur=cur.call(prev)}}if(cur===undefined){if(options.earlyExit){options.earlyExit(prev,i-1)}}return{value:cur,parent:prev}};return can.compute})(__m2,__m16,__m18);var __m14=(function(can){can.Observe=can.Map;can.Observe.startBatch=can.batch.start;can.Observe.stopBatch=can.batch.stop;can.Observe.triggerBatch=can.batch.trigger;return can})(__m2,__m15,__m19,__m20);var __m22=(function(can){var escapeReg=/(\\)?\./g,escapeDotReg=/\\\./g,getNames=function(attr){var names=[],last=0;attr.replace(escapeReg,function(first,second,index){if(!second){names.push(attr.slice(last,index).replace(escapeDotReg,"."));last=index+first.length}});names.push(attr.slice(last).replace(escapeDotReg,"."));return names};var Scope=can.Construct.extend({read:can.compute.read},{init:function(context,parent){this._context=context;this._parent=parent;this.__cache={}},attr:function(key){var previousReads=can.__clearReading(),res=this.read(key,{isArgument:true,returnObserveMethods:true,proxyMethods:false}).value;can.__setReading(previousReads);return res},add:function(context){if(context!==this._context){return new this.constructor(context,this)}else{return this}},computeData:function(key,options){options=options||{args:[]};var self=this,rootObserve,rootReads,computeData={compute:can.compute(function(newVal){if(arguments.length){if(rootObserve.isComputed&&!rootReads.length){rootObserve(newVal)}else{var last=rootReads.length-1;can.compute.read(rootObserve,rootReads.slice(0,last)).value.attr(rootReads[last],newVal)}}else{if(rootObserve){return can.compute.read(rootObserve,rootReads,options).value}var data=self.read(key,options);rootObserve=data.rootObserve;rootReads=data.reads;computeData.scope=data.scope;computeData.initialValue=data.value;return data.value}})};return computeData},compute:function(key,options){return this.computeData(key,options).compute},read:function(attr,options){var stopLookup;if(attr.substr(0,2)==="./"){stopLookup=true;attr=attr.substr(2)}else{if(attr.substr(0,3)==="../"){return this._parent.read(attr.substr(3),options)}else{if(attr===".."){return{value:this._parent._context}}else{if(attr==="."||attr==="this"){return{value:this._context}}}}}var names=attr.indexOf("\\.")===-1?attr.split("."):getNames(attr),context,scope=this,defaultObserve,defaultReads=[],defaultPropertyDepth=-1,defaultComputeReadings,defaultScope,currentObserve,currentReads;while(scope){context=scope._context;if(context!==null){var data=can.compute.read(context,names,can.simpleExtend({foundObservable:function(observe,nameIndex){currentObserve=observe;currentReads=names.slice(nameIndex)},earlyExit:function(parentValue,nameIndex){if(nameIndex>defaultPropertyDepth){defaultObserve=currentObserve;defaultReads=currentReads;defaultPropertyDepth=nameIndex;defaultScope=scope;defaultComputeReadings=can.__clearReading()}},executeAnonymousFunctions:true},options));if(data.value!==undefined){return{scope:scope,rootObserve:currentObserve,value:data.value,reads:currentReads}}}can.__clearReading();if(!stopLookup){scope=scope._parent}else{scope=null}}if(defaultObserve){can.__setReading(defaultComputeReadings);return{scope:defaultScope,rootObserve:defaultObserve,reads:defaultReads,value:undefined}}else{return{names:names,value:undefined}}}});can.view.Scope=Scope;return Scope})(__m2,__m12,__m15,__m19,__m10,__m20);var __m24=(function(can){var selectsCommentNodes=(function(){return can.$(document.createComment("~")).length===1})();var elements={tagToContentPropMap:{option:"textContent" in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:can.attr.map,attrReg:/([^\s=]+)[\s]*=[\s]*/,defaultValue:can.attr.defaultValue,tagMap:{"":"span",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},getParentNode:function(el,defaultParentNode){return defaultParentNode&&el.parentNode.nodeType===11?defaultParentNode:el.parentNode},setAttr:can.attr.set,getAttr:can.attr.get,removeAttr:can.attr.remove,contentText:function(text){if(typeof text==="string"){return text}if(!text&&text!==0){return""}return""+text},after:function(oldElements,newFrag){var last=oldElements[oldElements.length-1];if(last.nextSibling){can.insertBefore(last.parentNode,newFrag,last.nextSibling)}else{can.appendChild(last.parentNode,newFrag)}},replace:function(oldElements,newFrag){elements.after(oldElements,newFrag);if(can.remove(can.$(oldElements)).length<oldElements.length&&!selectsCommentNodes){can.each(oldElements,function(el){if(el.nodeType===8){el.parentNode.removeChild(el)}})}}};can.view.elements=elements;return elements})(__m2,__m10);var __m23=(function(can,elements,viewCallbacks){var newLine=/(\r|\n)+/g,notEndTag=/\//,clean=function(content){return content.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("\t").join("\\t")},getTag=function(tagName,tokens,i){if(tagName){return tagName}else{while(i<tokens.length){if(tokens[i]==="<"&&!notEndTag.test(tokens[i+1])){return elements.reverseTagMap[tokens[i+1]]||"span"}i++}}return""},bracketNum=function(content){return(--content.split("{").length)-(--content.split("}").length)},myEval=function(script){eval(script)},attrReg=/([^\s]+)[\s]*=[\s]*$/,startTxt="var ___v1ew = [];",finishTxt="return ___v1ew.join('')",put_cmd="___v1ew.push(\n",insert_cmd=put_cmd,htmlTag=null,quote=null,beforeQuote=null,rescan=null,getAttrName=function(){var matches=beforeQuote.match(attrReg);return matches&&matches[1]},status=function(){return quote?"'"+getAttrName()+"'":(htmlTag?1:0)},top=function(stack){return stack[stack.length-1]},Scanner;can.view.Scanner=Scanner=function(options){can.extend(this,{text:{},tokens:[]},options);this.text.options=this.text.options||"";this.tokenReg=[];this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"};this.tokenComplex=[];this.tokenMap={};for(var i=0,token;token=this.tokens[i];i++){if(token[2]){this.tokenReg.push(token[2]);this.tokenComplex.push({abbr:token[1],re:new RegExp(token[2]),rescan:token[3]})}else{this.tokenReg.push(token[1]);this.tokenSimple[token[1]]=token[0]}this.tokenMap[token[0]]=token[1]}this.tokenReg=new RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")};Scanner.prototype={helpers:[],scan:function(source,name){var tokens=[],last=0,simple=this.tokenSimple,complex=this.tokenComplex;source=source.replace(newLine,"\n");if(this.transform){source=this.transform(source)}source.replace(this.tokenReg,function(whole,part){var offset=arguments[arguments.length-2];if(offset>last){tokens.push(source.substring(last,offset))}if(simple[whole]){tokens.push(whole)}else{for(var i=0,token;token=complex[i];i++){if(token.re.test(whole)){tokens.push(token.abbr);if(token.rescan){tokens.push(token.rescan(part))}break}}}last=offset+part.length});if(last<source.length){tokens.push(source.substr(last))}var content="",buff=[startTxt+(this.text.start||"")],put=function(content,bonus){buff.push(put_cmd,'"',clean(content),'"'+(bonus||"")+");")},endStack=[],lastToken,startTag=null,magicInTag=false,specialStates={attributeHookups:[],tagHookups:[],lastTagHookup:""},popTagHookup=function(){specialStates.lastTagHookup=specialStates.tagHookups.pop()+specialStates.tagHookups.length},tagName="",tagNames=[],popTagName=false,bracketCount,specialAttribute=false,i=0,token,tmap=this.tokenMap,attrName;htmlTag=quote=beforeQuote=null;for(;(token=tokens[i++])!==undefined;){if(startTag===null){switch(token){case tmap.left:case tmap.escapeLeft:case tmap.returnLeft:magicInTag=htmlTag&&1;case tmap.commentLeft:startTag=token;if(content.length){put(content)}content="";break;case tmap.escapeFull:magicInTag=htmlTag&&1;rescan=1;startTag=tmap.escapeLeft;if(content.length){put(content)}rescan=tokens[i++];content=rescan.content||rescan;if(rescan.before){put(rescan.before)}tokens.splice(i,0,tmap.right);break;case tmap.commentFull:break;case tmap.templateLeft:content+=tmap.left;break;case"<":if(tokens[i].indexOf("!--")!==0){htmlTag=1;magicInTag=0}content+=token;break;case">":htmlTag=0;var emptyElement=(content.substr(content.length-1)==="/"||content.substr(content.length-2)==="--"),attrs="";if(specialStates.attributeHookups.length){attrs="attrs: ['"+specialStates.attributeHookups.join("','")+"'], ";specialStates.attributeHookups=[]}if((tagName+specialStates.tagHookups.length)!==specialStates.lastTagHookup&&tagName===top(specialStates.tagHookups)){if(emptyElement){content=content.substr(0,content.length-1)}buff.push(put_cmd,'"',clean(content),'"',",can.view.pending({tagName:'"+tagName+"',"+(attrs)+"scope: "+(this.text.scope||"this")+this.text.options);if(emptyElement){buff.push("}));");content="/>";popTagHookup()}else{if(tokens[i]==="<"&&tokens[i+1]==="/"+tagName){buff.push("}));");content=token;popTagHookup()}else{buff.push(",subtemplate: function("+this.text.argNames+"){\n"+startTxt+(this.text.start||""));content=""}}}else{if(magicInTag||(!popTagName&&elements.tagToContentPropMap[tagNames[tagNames.length-1]])||attrs){var pendingPart=",can.view.pending({"+attrs+"scope: "+(this.text.scope||"this")+this.text.options+'}),"';if(emptyElement){put(content.substr(0,content.length-1),pendingPart+'/>"')}else{put(content,pendingPart+'>"')}content="";magicInTag=0}else{content+=token}}if(emptyElement||popTagName){tagNames.pop();tagName=tagNames[tagNames.length-1];popTagName=false}specialStates.attributeHookups=[];break;case"'":case'"':if(htmlTag){if(quote&&quote===token){quote=null;var attr=getAttrName();if(viewCallbacks.attr(attr)){specialStates.attributeHookups.push(attr)}if(specialAttribute){content+=token;put(content);buff.push(finishTxt,"}));\n");content="";specialAttribute=false;break}}else{if(quote===null){quote=token;beforeQuote=lastToken;attrName=getAttrName();if((tagName==="img"&&attrName==="src")||attrName==="style"){put(content.replace(attrReg,""));content="";specialAttribute=true;buff.push(insert_cmd,"can.view.txt(2,'"+getTag(tagName,tokens,i)+"',"+status()+",this,function(){",startTxt);put(attrName+"="+token);break}}}}default:if(lastToken==="<"){tagName=token.substr(0,3)==="!--"?"!--":token.split(/\s/)[0];var isClosingTag=false,cleanedTagName;if(tagName.indexOf("/")===0){isClosingTag=true;cleanedTagName=tagName.substr(1)}if(isClosingTag){if(top(tagNames)===cleanedTagName){tagName=cleanedTagName;popTagName=true}if(top(specialStates.tagHookups)===cleanedTagName){put(content.substr(0,content.length-1));buff.push(finishTxt+"}}) );");content="><";popTagHookup()}}else{if(tagName.lastIndexOf("/")===tagName.length-1){tagName=tagName.substr(0,tagName.length-1)}if(tagName!=="!--"&&(viewCallbacks.tag(tagName))){if(tagName==="content"&&elements.tagMap[top(tagNames)]){token=token.replace("content",elements.tagMap[top(tagNames)])}specialStates.tagHookups.push(tagName)}tagNames.push(tagName)}}content+=token;break}}else{switch(token){case tmap.right:case tmap.returnRight:switch(startTag){case tmap.left:bracketCount=bracketNum(content);if(bracketCount===1){buff.push(insert_cmd,"can.view.txt(0,'"+getTag(tagName,tokens,i)+"',"+status()+",this,function(){",startTxt,content);endStack.push({before:"",after:finishTxt+"}));\n"})}else{last=endStack.length&&bracketCount===-1?endStack.pop():{after:";"};if(last.before){buff.push(last.before)}buff.push(content,";",last.after)}break;case tmap.escapeLeft:case tmap.returnLeft:bracketCount=bracketNum(content);if(bracketCount){endStack.push({before:finishTxt,after:"}));\n"})}var escaped=startTag===tmap.escapeLeft?1:0,commands={insert:insert_cmd,tagName:getTag(tagName,tokens,i),status:status(),specialAttribute:specialAttribute};for(var ii=0;ii<this.helpers.length;ii++){var helper=this.helpers[ii];if(helper.name.test(content)){content=helper.fn(content,commands);if(helper.name.source===/^>[\s]*\w*/.source){escaped=0}break}}if(typeof content==="object"){if(content.startTxt&&content.end&&specialAttribute){buff.push(insert_cmd,"can.view.toStr( ",content.content,"() ) );")}else{if(content.startTxt){buff.push(insert_cmd,"can.view.txt(\n"+(typeof status()==="string"||(content.escaped!=null?content.escaped:escaped))+",\n'"+tagName+"',\n"+status()+",\nthis,\n")}else{if(content.startOnlyTxt){buff.push(insert_cmd,"can.view.onlytxt(this,\n")}}buff.push(content.content);if(content.end){buff.push("));")}}}else{if(specialAttribute){buff.push(insert_cmd,content,");")}else{buff.push(insert_cmd,"can.view.txt(\n"+(typeof status()==="string"||escaped)+",\n'"+tagName+"',\n"+status()+",\nthis,\nfunction(){ "+(this.text.escape||"")+"return ",content,bracketCount?startTxt:"}));\n")}}if(rescan&&rescan.after&&rescan.after.length){put(rescan.after.length);rescan=null}break}startTag=null;content="";break;case tmap.templateLeft:content+=tmap.left;break;default:content+=token;break}}lastToken=token}if(content.length){put(content)}buff.push(";");var template=buff.join(""),out={out:(this.text.outStart||"")+template+" "+finishTxt+(this.text.outEnd||"")};myEval.call(out,"this.fn = (function("+this.text.argNames+"){"+out.out+"});\r\n//# sourceURL="+name+".js");return out}};can.view.pending=function(viewData){var hooks=can.view.getHooks();return can.view.hook(function(el){can.each(hooks,function(fn){fn(el)});viewData.templateType="legacy";if(viewData.tagName){viewCallbacks.tagHandler(el,viewData.tagName,viewData)}can.each(viewData&&viewData.attrs||[],function(attributeName){viewData.attributeName=attributeName;var callback=viewCallbacks.attr(attributeName);if(callback){callback(el,viewData)}})})};can.view.tag("content",function(el,tagData){return tagData.scope});can.view.Scanner=Scanner;return Scanner})(__m10,__m24,__m9);var __m27=(function(can){var canExpando=true;try{document.createTextNode("")._=0}catch(ex){canExpando=false}var nodeMap={},textNodeMap={},expando="ejs_"+Math.random(),_id=0,id=function(node){if(canExpando||node.nodeType!==3){if(node[expando]){return node[expando]}else{++_id;return node[expando]=(node.nodeName?"element_":"obj_")+_id}}else{for(var textNodeID in textNodeMap){if(textNodeMap[textNodeID]===node){return textNodeID}}++_id;textNodeMap["text_"+_id]=node;return"text_"+_id}},splice=[].splice,push=[].push,itemsInChildListTree=function(list){var count=0;for(var i=0,len=list.length;i<len;i++){var item=list[i];if(item.nodeType){count++}else{count+=itemsInChildListTree(item)}}return count};var nodeLists={id:id,update:function(nodeList,newNodes){var oldNodes=nodeLists.unregisterChildren(nodeList);newNodes=can.makeArray(newNodes);var oldListLength=nodeList.length;splice.apply(nodeList,[0,oldListLength].concat(newNodes));nodeLists.nestList(nodeList);return oldNodes},nestList:function(list){var index=0;while(index<list.length){var node=list[index],childNodeList=nodeMap[id(node)];if(childNodeList){if(childNodeList!==list){list.splice(index,itemsInChildListTree(childNodeList),childNodeList)}}else{nodeMap[id(node)]=list}index++}},last:function(nodeList){var last=nodeList[nodeList.length-1];if(last.nodeType){return last}else{return nodeLists.last(last)}},first:function(nodeList){var first=nodeList[0];if(first.nodeType){return first}else{return nodeLists.first(first)}},register:function(nodeList,unregistered,parent){nodeList.unregistered=unregistered;nodeLists.nestList(nodeList);return nodeList},unregisterChildren:function(nodeList){var nodes=[];can.each(nodeList,function(node){if(node.nodeType){delete nodeMap[id(node)];nodes.push(node)}else{push.apply(nodes,nodeLists.unregister(node))}});return nodes},unregister:function(nodeList){var nodes=nodeLists.unregisterChildren(nodeList);if(nodeList.unregistered){var unregisteredCallback=nodeList.unregistered;delete nodeList.unregistered;unregisteredCallback()}return nodes},nodeMap:nodeMap};can.view.nodeLists=nodeLists;return nodeLists})(__m2,__m24);var __m28=(function(){function makeMap(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true}return obj}var alphaNumericHU="-A-Za-z0-9_",attributeNames="[a-zA-Z_:]["+alphaNumericHU+":.]+",spaceEQspace="\\s*=\\s*",dblQuote2dblQuote='"((?:\\\\.|[^"])*)"',quote2quote="'((?:\\\\.|[^'])*)'",attributeEqAndValue="(?:"+spaceEQspace+"(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?",matchStash="\\{\\{[^\\}]*\\}\\}\\}?",stash="\\{\\{([^\\}]*)\\}\\}\\}?",startTag=new RegExp("^<(["+alphaNumericHU+"]+)((?:\\s*(?:(?:(?:"+attributeNames+")?"+attributeEqAndValue+")|(?:"+matchStash+")+))*)\\s*(\\/?)>"),endTag=new RegExp("^<\\/(["+alphaNumericHU+"]+)[^>]*>"),attr=new RegExp("(?:(?:("+attributeNames+")|"+stash+")(?:"+spaceEQspace+"(?:(?:"+dblQuote2dblQuote+")|(?:"+quote2quote+")|([^>\\s]+)))?)","g"),mustache=new RegExp(stash,"g"),txtBreak=/<|\{\{/;var empty=makeMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var block=makeMap("address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video");var inline=makeMap("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var closeSelf=makeMap("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var fillAttrs=makeMap("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var special=makeMap("script,style");var HTMLParser=function(html,handler){function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(block[tagName]){while(stack.last()&&inline[stack.last()]){parseEndTag("",stack.last())}}if(closeSelf[tagName]&&stack.last()===tagName){parseEndTag("",tagName)}unary=empty[tagName]||!!unary;handler.start(tagName,unary);if(!unary){stack.push(tagName)}HTMLParser.parseAttrs(rest,handler);handler.end(tagName,unary)}function parseEndTag(tag,tagName){var pos;if(!tagName){pos=0}else{for(pos=stack.length-1;pos>=0;pos--){if(stack[pos]===tagName){break}}}if(pos>=0){for(var i=stack.length-1;i>=pos;i--){if(handler.close){handler.close(stack[i])}}stack.length=pos}}function parseMustache(mustache,inside){if(handler.special){handler.special(inside)}}var index,chars,match,stack=[],last=html;stack.last=function(){return this[this.length-1]};while(html){chars=true;if(!stack.last()||!special[stack.last()]){if(html.indexOf("<!--")===0){index=html.indexOf("-->");if(index>=0){if(handler.comment){handler.comment(html.substring(4,index))}html=html.substring(index+3);chars=false}}else{if(html.indexOf("</")===0){match=html.match(endTag);if(match){html=html.substring(match[0].length);match[0].replace(endTag,parseEndTag);chars=false}}else{if(html.indexOf("<")===0){match=html.match(startTag);if(match){html=html.substring(match[0].length);match[0].replace(startTag,parseStartTag);chars=false}}else{if(html.indexOf("{{")===0){match=html.match(mustache);if(match){html=html.substring(match[0].length);match[0].replace(mustache,parseMustache)}}}}}if(chars){index=html.search(txtBreak);var text=index<0?html:html.substring(0,index);html=index<0?"":html.substring(index);if(handler.chars&&text){handler.chars(text)}}}else{html=html.replace(new RegExp("([\\s\\S]*?)</"+stack.last()+"[^>]*>"),function(all,text){text=text.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2");if(handler.chars){handler.chars(text)}return""});parseEndTag("",stack.last())}if(html===last){throw"Parse Error: "+html}last=html}parseEndTag();handler.done()};HTMLParser.parseAttrs=function(rest,handler){(rest!=null?rest:"").replace(attr,function(text,name,special,dblQuote,singleQuote,val){if(special){handler.special(special)}if(name||dblQuote||singleQuote||val){var value=arguments[3]?arguments[3]:arguments[4]?arguments[4]:arguments[5]?arguments[5]:fillAttrs[name.toLowerCase()]?name:"";handler.attrStart(name||"");var last=mustache.lastIndex=0,res=mustache.exec(value),chars;while(res){chars=value.substring(last,mustache.lastIndex-res[0].length);if(chars.length){handler.attrValue(chars)}handler.special(res[1]);last=mustache.lastIndex;res=mustache.exec(value)}chars=value.substr(last,value.length);if(chars){handler.attrValue(chars)}handler.attrEnd(name||"")}})};can.view.parser=HTMLParser;return HTMLParser})(__m10);var __m26=(function(can,elements,view,nodeLists,parser){elements=elements||can.view.elements;nodeLists=nodeLists||can.view.NodeLists;parser=parser||can.view.parser;var setup=function(el,bind,unbind){var tornDown=false,teardown=function(){if(!tornDown){tornDown=true;unbind(data);can.unbind.call(el,"removed",teardown)}return true},data={teardownCheck:function(parent){return parent?false:teardown()}};can.bind.call(el,"removed",teardown);bind(data);return data},listen=function(el,compute,change){return setup(el,function(){compute.bind("change",change)},function(data){compute.unbind("change",change);if(data.nodeList){nodeLists.unregister(data.nodeList)}})},getAttributeParts=function(newVal){var attrs={},attr;parser.parseAttrs(newVal,{attrStart:function(name){attrs[name]="";attr=name},attrValue:function(value){attrs[attr]+=value},attrEnd:function(){}});return attrs},splice=[].splice,isNode=function(obj){return obj&&obj.nodeType},addTextNodeIfNoChildren=function(frag){if(!frag.childNodes.length){frag.appendChild(document.createTextNode(""))}};var live={list:function(el,compute,render,context,parentNode){var masterNodeList=[el],indexMap=[],add=function(ev,items,index){var frag=document.createDocumentFragment(),newNodeLists=[],newIndicies=[];can.each(items,function(item,key){var itemIndex=can.compute(key+index),itemHTML=render.call(context,item,itemIndex),gotText=typeof itemHTML==="string",itemFrag=can.frag(itemHTML);itemFrag=gotText?can.view.hookup(itemFrag):itemFrag;var childNodes=can.makeArray(itemFrag.childNodes);newNodeLists.push(nodeLists.register(childNodes));frag.appendChild(itemFrag);newIndicies.push(itemIndex)});var masterListIndex=index+1;if(!masterNodeList[masterListIndex]){elements.after(masterListIndex===1?[text]:[nodeLists.last(masterNodeList[masterListIndex-1])],frag)}else{var el=nodeLists.first(masterNodeList[masterListIndex]);can.insertBefore(el.parentNode,frag,el)}splice.apply(masterNodeList,[masterListIndex,0].concat(newNodeLists));splice.apply(indexMap,[index,0].concat(newIndicies));for(var i=index+newIndicies.length,len=indexMap.length;i<len;i++){indexMap[i](i)}},remove=function(ev,items,index,duringTeardown,fullTeardown){if(!duringTeardown&&data.teardownCheck(text.parentNode)){return}var removedMappings=masterNodeList.splice(index+1,items.length),itemsToRemove=[];can.each(removedMappings,function(nodeList){var nodesToRemove=nodeLists.unregister(nodeList);[].push.apply(itemsToRemove,nodesToRemove)});indexMap.splice(index,items.length);for(var i=index,len=indexMap.length;i<len;i++){indexMap[i](i)}if(!fullTeardown){can.remove(can.$(itemsToRemove))}},text=document.createTextNode(""),list,teardownList=function(fullTeardown){if(list&&list.unbind){list.unbind("add",add).unbind("remove",remove)}remove({},{length:masterNodeList.length-1},0,true,fullTeardown)},updateList=function(ev,newList,oldList){teardownList();list=newList||[];if(list.bind){list.bind("add",add).bind("remove",remove)}add({},list,0)};parentNode=elements.getParentNode(el,parentNode);var data=setup(parentNode,function(){if(can.isFunction(compute)){compute.bind("change",updateList)}},function(){if(can.isFunction(compute)){compute.unbind("change",updateList)}teardownList(true)});live.replace(masterNodeList,text,data.teardownCheck);updateList({},can.isFunction(compute)?compute():compute)},html:function(el,compute,parentNode){var data;parentNode=elements.getParentNode(el,parentNode);data=listen(parentNode,compute,function(ev,newVal,oldVal){var attached=nodeLists.first(nodes).parentNode;if(attached){makeAndPut(newVal)}data.teardownCheck(nodeLists.first(nodes).parentNode)});var nodes=[el],makeAndPut=function(val){var isString=!isNode(val),frag=can.frag(val),oldNodes=can.makeArray(nodes);addTextNodeIfNoChildren(frag);if(isString){frag=can.view.hookup(frag,parentNode)}oldNodes=nodeLists.update(nodes,frag.childNodes);elements.replace(oldNodes,frag)};data.nodeList=nodes;nodeLists.register(nodes,data.teardownCheck);makeAndPut(compute())},replace:function(nodes,val,teardown){var oldNodes=nodes.slice(0),frag=can.frag(val);nodeLists.register(nodes,teardown);if(typeof val==="string"){frag=can.view.hookup(frag,nodes[0].parentNode)}nodeLists.update(nodes,frag.childNodes);elements.replace(oldNodes,frag);return nodes},text:function(el,compute,parentNode){var parent=elements.getParentNode(el,parentNode);var data=listen(parent,compute,function(ev,newVal,oldVal){if(typeof node.nodeValue!=="unknown"){node.nodeValue=can.view.toStr(newVal)}data.teardownCheck(node.parentNode)}),node=document.createTextNode(can.view.toStr(compute()));data.nodeList=live.replace([el],node,data.teardownCheck)},setAttributes:function(el,newVal){var attrs=getAttributeParts(newVal);for(var name in attrs){can.attr.set(el,name,attrs[name])}},attributes:function(el,compute,currentValue){var oldAttrs={};var setAttrs=function(newVal){var newAttrs=getAttributeParts(newVal),name;for(name in newAttrs){var newValue=newAttrs[name],oldValue=oldAttrs[name];if(newValue!==oldValue){can.attr.set(el,name,newValue)}delete oldAttrs[name]}for(name in oldAttrs){elements.removeAttr(el,name)}oldAttrs=newAttrs};listen(el,compute,function(ev,newVal){setAttrs(newVal)});if(arguments.length>=3){oldAttrs=getAttributeParts(currentValue)}else{setAttrs(compute())}},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(el,attributeName,compute){listen(el,compute,function(ev,newVal){elements.setAttr(el,attributeName,hook.render())});var wrapped=can.$(el),hooks;hooks=can.data(wrapped,"hooks");if(!hooks){can.data(wrapped,"hooks",hooks={})}var attr=elements.getAttr(el,attributeName),parts=attr.split(live.attributePlaceholder),goodParts=[],hook;goodParts.push(parts.shift(),parts.join(live.attributePlaceholder));if(hooks[attributeName]){hooks[attributeName].computes.push(compute)}else{hooks[attributeName]={render:function(){var i=0,newAttr=attr?attr.replace(live.attributeReplace,function(){return elements.contentText(hook.computes[i++]())}):elements.contentText(hook.computes[i++]());return newAttr},computes:[compute],batchNum:undefined}}hook=hooks[attributeName];goodParts.splice(1,0,compute());elements.setAttr(el,attributeName,goodParts.join(""))},specialAttribute:function(el,attributeName,compute){listen(el,compute,function(ev,newVal){elements.setAttr(el,attributeName,getValue(newVal))});elements.setAttr(el,attributeName,getValue(compute()))},simpleAttribute:function(el,attributeName,compute){listen(el,compute,function(ev,newVal){elements.setAttr(el,attributeName,newVal)});elements.setAttr(el,attributeName,compute())}};live.attr=live.simpleAttribute;live.attrs=live.attributes;var newLine=/(\r|\n)+/g;var getValue=function(val){var regexp=/^["'].*["']$/;val=val.replace(elements.attrReg,"").replace(newLine,"");return regexp.test(val)?val.substr(1,val.length-2):val};can.view.live=live;return live})(__m2,__m24,__m10,__m27,__m28);var __m25=(function(can,elements,live){var pendingHookups=[],tagChildren=function(tagName){var newTag=elements.tagMap[tagName]||"span";if(newTag==="span"){return"@@!!@@"}return"<"+newTag+">"+tagChildren(newTag)+"</"+newTag+">"},contentText=function(input,tag){if(typeof input==="string"){return input}if(!input&&input!==0){return""}var hook=(input.hookup&&function(el,id){input.hookup.call(input,el,id)})||(typeof input==="function"&&input);if(hook){if(tag){return"<"+tag+" "+can.view.hook(hook)+"></"+tag+">"}else{pendingHookups.push(hook)}return""}return""+input},contentEscape=function(txt,tag){return(typeof txt==="string"||typeof txt==="number")?can.esc(txt):contentText(txt,tag)},withinTemplatedSectionWithinAnElement=false,emptyHandler=function(){};var lastHookups;can.extend(can.view,{live:live,setupLists:function(){var old=can.view.lists,data;can.view.lists=function(list,renderer){data={list:list,renderer:renderer};return Math.random()};return function(){can.view.lists=old;return data}},getHooks:function(){var hooks=pendingHookups.slice(0);lastHookups=hooks;pendingHookups=[];return hooks},onlytxt:function(self,func){return contentEscape(func.call(self))},txt:function(escape,tagName,status,self,func){var tag=(elements.tagMap[tagName]||"span"),setupLiveBinding=false,value,listData,compute,unbind=emptyHandler,attributeName;if(withinTemplatedSectionWithinAnElement){value=func.call(self)}else{if(typeof status==="string"||status===1){withinTemplatedSectionWithinAnElement=true}var listTeardown=can.view.setupLists();unbind=function(){compute.unbind("change",emptyHandler)};compute=can.compute(func,self,false);compute.bind("change",emptyHandler);listData=listTeardown();value=compute();withinTemplatedSectionWithinAnElement=false;setupLiveBinding=compute.hasDependencies}if(listData){unbind();return"<"+tag+can.view.hook(function(el,parentNode){live.list(el,listData.list,listData.renderer,self,parentNode)})+"></"+tag+">"}if(!setupLiveBinding||typeof value==="function"){unbind();return((withinTemplatedSectionWithinAnElement||escape===2||!escape)?contentText:contentEscape)(value,status===0&&tag)}var contentProp=elements.tagToContentPropMap[tagName];if(status===0&&!contentProp){return"<"+tag+can.view.hook(escape&&typeof value!=="object"?function(el,parentNode){live.text(el,compute,parentNode);unbind()}:function(el,parentNode){live.html(el,compute,parentNode);unbind()})+">"+tagChildren(tag)+"</"+tag+">"}else{if(status===1){pendingHookups.push(function(el){live.attributes(el,compute,compute());unbind()});return compute()}else{if(escape===2){attributeName=status;pendingHookups.push(function(el){live.specialAttribute(el,attributeName,compute);unbind()});return compute()}else{attributeName=status===0?contentProp:status;(status===0?lastHookups:pendingHookups).push(function(el){live.attribute(el,attributeName,compute);unbind()});return live.attributePlaceholder}}}}});return can})(__m10,__m24,__m26,__m13);var __m21=(function(can){can.view.ext=".mustache";var SCOPE="scope",HASH="___h4sh",CONTEXT_OBJ="{scope:"+SCOPE+",options:options}",SPECIAL_CONTEXT_OBJ="{scope:"+SCOPE+",options:options, special: true}",ARG_NAMES=SCOPE+",options",argumentsRegExp=/((([^\s]+?=)?('.*?'|".*?"))|.*?)\s/g,literalNumberStringBooleanRegExp=/^(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)|((.+?)=(('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false)|(.+))))$/,makeLookupLiteral=function(type){return'{get:"'+type.replace(/"/g,'\\"')+'"}'},isLookup=function(obj){return obj&&typeof obj.get==="string"},isObserveLike=function(obj){return obj instanceof can.Map||(obj&&!!obj._get)},isArrayLike=function(obj){return obj&&obj.splice&&typeof obj.length==="number"},makeConvertToScopes=function(original,scope,options){var originalWithScope=function(ctx,opts){return original(ctx||scope,opts)};return function(updatedScope,updatedOptions){if(updatedScope!==undefined&&!(updatedScope instanceof can.view.Scope)){updatedScope=scope.add(updatedScope)}if(updatedOptions!==undefined&&!(updatedOptions instanceof can.view.Options)){updatedOptions=options.add(updatedOptions)}return originalWithScope(updatedScope,updatedOptions||options)}};var Mustache=function(options,helpers){if(this.constructor!==Mustache){var mustache=new Mustache(options);return function(data,options){return mustache.render(data,options)}}if(typeof options==="function"){this.template={fn:options};return}can.extend(this,options);this.template=this.scanner.scan(this.text,this.name)};can.Mustache=window.Mustache=Mustache;Mustache.prototype.render=function(data,options){if(!(data instanceof can.view.Scope)){data=new can.view.Scope(data||{})}if(!(options instanceof can.view.Options)){options=new can.view.Options(options||{})}options=options||{};return this.template.fn.call(data,data,options)};can.extend(Mustache.prototype,{scanner:new can.view.Scanner({text:{start:"",scope:SCOPE,options:",options: options",argNames:ARG_NAMES},tokens:[["returnLeft","{{{","{{[{&]"],["commentFull","{{!}}","^[\\s\\t]*{{!.+?}}\\n"],["commentLeft","{{!","(\\n[\\s\\t]*{{!|{{!)"],["escapeFull","{{}}","(^[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}\\n|\\n[\\s\\t]*{{[#/^][^}]+?}}$)",function(content){return{before:/^\n.+?\n$/.test(content)?"\n":"",content:content.match(/\{\{(.+?)\}\}/)[1]||""}}],["escapeLeft","{{"],["returnRight","}}}"],["right","}}"]],helpers:[{name:/^>[\s]*\w*/,fn:function(content,cmd){var templateName=can.trim(content.replace(/^>\s?/,"")).replace(/["|']/g,"");return"can.Mustache.renderPartial('"+templateName+"',"+ARG_NAMES+")"}},{name:/^\s*data\s/,fn:function(content,cmd){var attr=content.match(/["|'](.*)["|']/)[1];return"can.proxy(function(__){can.data(can.$(__),'"+attr+"', this.attr('.')); }, "+SCOPE+")"}},{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(content){var quickFunc=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,parts=content.match(quickFunc);return"can.proxy(function(__){var "+parts[1]+"=can.$(__);with("+SCOPE+".attr('.')){"+parts[2]+"}}, this);"}},{name:/^.*$/,fn:function(content,cmd){var mode=false,result={content:"",startTxt:false,startOnlyTxt:false,end:false};content=can.trim(content);if(content.length&&(mode=content.match(/^([#^/]|else$)/))){mode=mode[0];switch(mode){case"#":case"^":if(cmd.specialAttribute){result.startOnlyTxt=true}else{result.startTxt=true;result.escaped=0}break;case"/":result.end=true;result.content+='return ___v1ew.join("");}}])';return result}content=content.substring(1)}if(mode!=="else"){var args=[],hashes=[],i=0,m;result.content+="can.Mustache.txt(\n"+(cmd.specialAttribute?SPECIAL_CONTEXT_OBJ:CONTEXT_OBJ)+",\n"+(mode?'"'+mode+'"':"null")+",";(can.trim(content)+" ").replace(argumentsRegExp,function(whole,arg){if(i&&(m=arg.match(literalNumberStringBooleanRegExp))){if(m[2]){args.push(m[0])}else{hashes.push(m[4]+":"+(m[6]?m[6]:makeLookupLiteral(m[5])))}}else{args.push(makeLookupLiteral(arg))}i++});result.content+=args.join(",");if(hashes.length){result.content+=",{"+HASH+":{"+hashes.join(",")+"}}"}}if(mode&&mode!=="else"){result.content+=",[\n\n"}switch(mode){case"^":case"#":result.content+=("{fn:function("+ARG_NAMES+"){var ___v1ew = [];");break;case"else":result.content+='return ___v1ew.join("");}},\n{inverse:function('+ARG_NAMES+"){\nvar ___v1ew = [];";break;default:result.content+=(")");break}if(!mode){result.startTxt=true;result.end=true}return result}}]})});var helpers=can.view.Scanner.prototype.helpers;for(var i=0;i<helpers.length;i++){Mustache.prototype.scanner.helpers.unshift(helpers[i])}Mustache.txt=function(scopeAndOptions,mode,name){var scope=scopeAndOptions.scope,options=scopeAndOptions.options,args=[],helperOptions={fn:function(){},inverse:function(){}},hash,context=scope.attr("."),getHelper=true,helper;for(var i=3;i<arguments.length;i++){var arg=arguments[i];if(mode&&can.isArray(arg)){helperOptions=can.extend.apply(can,[helperOptions].concat(arg))}else{if(arg&&arg[HASH]){hash=arg[HASH];for(var prop in hash){if(isLookup(hash[prop])){hash[prop]=Mustache.get(hash[prop].get,scopeAndOptions,false,true)}}}else{if(arg&&isLookup(arg)){args.push(Mustache.get(arg.get,scopeAndOptions,false,true))}else{args.push(arg)}}}}if(isLookup(name)){var get=name.get;name=Mustache.get(name.get,scopeAndOptions,args.length,false);getHelper=(get===name)}helperOptions.fn=makeConvertToScopes(helperOptions.fn,scope,options);helperOptions.inverse=makeConvertToScopes(helperOptions.inverse,scope,options);if(mode==="^"){var tmp=helperOptions.fn;helperOptions.fn=helperOptions.inverse;helperOptions.inverse=tmp}if(helper=(getHelper&&(typeof name==="string"&&Mustache.getHelper(name,options))||(can.isFunction(name)&&!name.isComputed&&{fn:name}))){can.extend(helperOptions,{context:context,scope:scope,contexts:scope,hash:hash});args.push(helperOptions);return function(){return helper.fn.apply(context,args)||""}}return function(){var value;if(can.isFunction(name)&&name.isComputed){value=name()}else{value=name}var validArgs=args.length?args:[value],valid=true,result=[],i,argIsObserve,arg;if(mode){for(i=0;i<validArgs.length;i++){arg=validArgs[i];argIsObserve=typeof arg!=="undefined"&&isObserveLike(arg);if(isArrayLike(arg)){if(mode==="#"){valid=valid&&!!(argIsObserve?arg.attr("length"):arg.length)}else{if(mode==="^"){valid=valid&&!(argIsObserve?arg.attr("length"):arg.length)}}}else{valid=mode==="#"?valid&&!!arg:mode==="^"?valid&&!arg:valid}}}if(valid){if(mode==="#"){if(isArrayLike(value)){var isObserveList=isObserveLike(value);for(i=0;i<value.length;i++){result.push(helperOptions.fn(isObserveList?value.attr(""+i):value[i]))}return result.join("")}else{return helperOptions.fn(value||{})||""}}else{if(mode==="^"){return helperOptions.inverse(value||{})||""}else{return""+(value!=null?value:"")}}}return""}};Mustache.get=function(key,scopeAndOptions,isHelper,isArgument){var context=scopeAndOptions.scope.attr("."),options=scopeAndOptions.options||{};if(isHelper){if(Mustache.getHelper(key,options)){return key}if(scopeAndOptions.scope&&can.isFunction(context[key])){return context[key]}}var computeData=scopeAndOptions.scope.computeData(key,{isArgument:isArgument,args:[context,scopeAndOptions.scope]}),compute=computeData.compute;can.compute.temporarilyBind(compute);var initialValue=computeData.initialValue;if((initialValue===undefined||computeData.scope!==scopeAndOptions.scope)&&Mustache.getHelper(key,options)){return key}if(!compute.hasDependencies){return initialValue}else{return compute}};Mustache.resolve=function(value){if(isObserveLike(value)&&isArrayLike(value)&&value.attr("length")){return value}else{if(can.isFunction(value)){return value()}else{return value}}};can.view.Options=can.view.Scope.extend({init:function(data,parent){if(!data.helpers&&!data.partials&&!data.tags){data={helpers:data}}can.view.Scope.prototype.init.apply(this,arguments)}});Mustache._helpers={};Mustache.registerHelper=function(name,fn){this._helpers[name]={name:name,fn:fn}};Mustache.getHelper=function(name,options){var helper=options.attr("helpers."+name);return helper?{fn:helper}:this._helpers[name]};Mustache.render=function(partial,scope,options){if(!can.view.cached[partial]){var reads=can.__clearReading();if(scope.attr("partial")){partial=scope.attr("partial")}can.__setReading(reads)}return can.view.render(partial,scope)};Mustache.safeString=function(str){return{toString:function(){return str}}};Mustache.renderPartial=function(partialName,scope,options){var partial=options.attr("partials."+partialName);if(partial){return partial.render?partial.render(scope,options):partial(scope,options)}else{return can.Mustache.render(partialName,scope,options)}};can.each({"if":function(expr,options){var value;if(can.isFunction(expr)){value=can.compute.truthy(expr)()}else{value=!!Mustache.resolve(expr)}if(value){return options.fn(options.contexts||this)}else{return options.inverse(options.contexts||this)}},unless:function(expr,options){if(!Mustache.resolve(expr)){return options.fn(options.contexts||this)}},each:function(expr,options){var resolved=Mustache.resolve(expr),result=[],keys,key,i;if(can.view.lists&&(resolved instanceof can.List||(expr&&expr.isComputed&&resolved===undefined))){return can.view.lists(expr,function(item,index){return options.fn(options.scope.add({"@index":index}).add(item))})}expr=resolved;if(!!expr&&isArrayLike(expr)){for(i=0;i<expr.length;i++){result.push(options.fn(options.scope.add({"@index":i}).add(expr[i])))}return result.join("")}else{if(isObserveLike(expr)){keys=can.Map.keys(expr);for(i=0;i<keys.length;i++){key=keys[i];result.push(options.fn(options.scope.add({"@key":key}).add(expr[key])))}return result.join("")}else{if(expr instanceof Object){for(key in expr){result.push(options.fn(options.scope.add({"@key":key}).add(expr[key])))}return result.join("")}}}},"with":function(expr,options){var ctx=expr;expr=Mustache.resolve(expr);if(!!expr){return options.fn(ctx)}},log:function(expr,options){if(typeof console!=="undefined"&&console.log){if(!options){console.log(expr.context)}else{console.log(expr,options.context)}}}},function(fn,name){Mustache.registerHelper(name,fn)});can.view.register({suffix:"mustache",contentType:"x-mustache-template",script:function(id,src){return"can.Mustache(function("+ARG_NAMES+") { "+new Mustache({text:src,name:id}).template.out+" })"},renderer:function(id,text){return Mustache({text:text,name:id})}});can.mustache.registerHelper=can.proxy(can.Mustache.registerHelper,can.Mustache);can.mustache.safeString=can.Mustache.safeString;return can})(__m2,__m22,__m10,__m23,__m20,__m25);var __m29=(function(can){var isContentEditable=(function(){var values={"":true,"true":true,"false":false};var editable=function(el){if(!el||!el.getAttribute){return}var attr=el.getAttribute("contenteditable");return values[attr]};return function(el){var val=editable(el);if(typeof val==="boolean"){return val}else{return !!editable(el.parentNode)}}})(),removeCurly=function(value){if(value[0]==="{"&&value[value.length-1]==="}"){return value.substr(1,value.length-2)}return value};can.view.attr("can-value",function(el,data){var attr=removeCurly(el.getAttribute("can-value")),value=data.scope.computeData(attr,{args:[]}).compute,trueValue,falseValue;if(el.nodeName.toLowerCase()==="input"){if(el.type==="checkbox"){if(can.attr.has(el,"can-true-value")){trueValue=el.getAttribute("can-true-value")}else{trueValue=true}if(can.attr.has(el,"can-false-value")){falseValue=el.getAttribute("can-false-value")}else{falseValue=false}}if(el.type==="checkbox"||el.type==="radio"){new Checked(el,{value:value,trueValue:trueValue,falseValue:falseValue});return}}if(el.nodeName.toLowerCase()==="select"&&el.multiple){new Multiselect(el,{value:value});return}if(isContentEditable(el)){new Content(el,{value:value});return}new Value(el,{value:value})});var special={enter:function(data,el,original){return{event:"keyup",handler:function(ev){if(ev.keyCode===13){return original.call(this,ev)}}}}};can.view.attr(/can-[\w\.]+/,function(el,data){var attributeName=data.attributeName,event=attributeName.substr("can-".length),handler=function(ev){var attr=removeCurly(el.getAttribute(attributeName)),scopeData=data.scope.read(attr,{returnObserveMethods:true,isArgument:true});return scopeData.value.call(scopeData.parent,data.scope._context,can.$(this),ev)};if(special[event]){var specialData=special[event](data,el,handler);handler=specialData.handler;event=specialData.event}can.bind.call(el,event,handler)});var Value=can.Control.extend({init:function(){if(this.element[0].nodeName.toUpperCase()==="SELECT"){setTimeout(can.proxy(this.set,this),1)}else{this.set()}},"{value} change":"set",set:function(){if(!this.element){return}var val=this.options.value();this.element[0].value=(val==null?"":val)},change:function(){if(!this.element){return}this.options.value(this.element[0].value)}}),Checked=can.Control.extend({init:function(){this.isCheckbox=(this.element[0].type.toLowerCase()==="checkbox");this.check()},"{value} change":"check",check:function(){if(this.isCheckbox){var value=this.options.value(),trueValue=this.options.trueValue||true;this.element[0].checked=(value===trueValue)}else{var setOrRemove=this.options.value()==this.element[0].value?"set":"remove";can.attr[setOrRemove](this.element[0],"checked",true)}},change:function(){if(this.isCheckbox){this.options.value(this.element[0].checked?this.options.trueValue:this.options.falseValue)}else{if(this.element[0].checked){this.options.value(this.element[0].value)}}}}),Multiselect=Value.extend({init:function(){this.delimiter=";";this.set()},set:function(){var newVal=this.options.value();if(typeof newVal==="string"){newVal=newVal.split(this.delimiter);this.isString=true}else{if(newVal){newVal=can.makeArray(newVal)}}var isSelected={};can.each(newVal,function(val){isSelected[val]=true});can.each(this.element[0].childNodes,function(option){if(option.value){option.selected=!!isSelected[option.value]}})},get:function(){var values=[],children=this.element[0].childNodes;can.each(children,function(child){if(child.selected&&child.value){values.push(child.value)}});return values},change:function(){var value=this.get(),currentValue=this.options.value();if(this.isString||typeof currentValue==="string"){this.isString=true;this.options.value(value.join(this.delimiter))}else{if(currentValue instanceof can.List){currentValue.attr(value,true)}else{this.options.value(value)}}}}),Content=can.Control.extend({init:function(){this.set();this.on("blur","setValue")},"{value} change":"set",set:function(){var val=this.options.value();this.element[0].innerHTML=(typeof val==="undefined"?"":val)},setValue:function(){this.options.value(this.element[0].innerHTML)}})})(__m2,__m21,__m11);var __m1=(function(can,viewCallbacks){var ignoreAttributesRegExp=/^(dataViewId|class|id)$/i,paramReplacer=/\{([^\}]+)\}/g;var Component=can.Component=can.Construct.extend({setup:function(){can.Construct.setup.apply(this,arguments);if(can.Component){var self=this,scope=this.prototype.scope;this.Control=ComponentControl.extend(this.prototype.events);if(!scope||(typeof scope==="object"&&!(scope instanceof can.Map))){this.Map=can.Map.extend(scope||{})}else{if(scope.prototype instanceof can.Map){this.Map=scope}}this.attributeScopeMappings={};can.each(this.Map?this.Map.defaults:{},function(val,prop){if(val==="@"){self.attributeScopeMappings[prop]=prop}});if(this.prototype.template){if(typeof this.prototype.template==="function"){var temp=this.prototype.template;this.renderer=function(){return can.view.frag(temp.apply(null,arguments))}}else{this.renderer=can.view.mustache(this.prototype.template)}}can.view.tag(this.prototype.tag,function(el,options){new self(el,options)})}}},{setup:function(el,hookupOptions){var initalScopeData={},component=this,twoWayBindings={},scopePropertyUpdating,componentScope,frag;can.each(this.constructor.attributeScopeMappings,function(val,prop){initalScopeData[prop]=el.getAttribute(can.hyphenate(val))});can.each(can.makeArray(el.attributes),function(node,index){var name=can.camelize(node.nodeName.toLowerCase()),value=node.value;if(component.constructor.attributeScopeMappings[name]||ignoreAttributesRegExp.test(name)||viewCallbacks.attr(node.nodeName)){return}if(value[0]==="{"&&value[value.length-1]==="}"){value=value.substr(1,value.length-2)}else{if(hookupOptions.templateType!=="legacy"){initalScopeData[name]=value;return}}var computeData=hookupOptions.scope.computeData(value,{args:[]}),compute=computeData.compute;var handler=function(ev,newVal){scopePropertyUpdating=name;componentScope.attr(name,newVal);scopePropertyUpdating=null};compute.bind("change",handler);initalScopeData[name]=compute();if(!compute.hasDependencies){compute.unbind("change",handler)}else{can.bind.call(el,"removed",function(){compute.unbind("change",handler)});twoWayBindings[name]=computeData}});if(this.constructor.Map){componentScope=new this.constructor.Map(initalScopeData)}else{if(this.scope instanceof can.Map){componentScope=this.scope}else{if(can.isFunction(this.scope)){var scopeResult=this.scope(initalScopeData,hookupOptions.scope,el);if(scopeResult instanceof can.Map){componentScope=scopeResult}else{if(scopeResult.prototype instanceof can.Map){componentScope=new scopeResult(initalScopeData)}else{componentScope=new (can.Map.extend(scopeResult))(initalScopeData)}}}}}var handlers={};can.each(twoWayBindings,function(computeData,prop){handlers[prop]=function(ev,newVal){if(scopePropertyUpdating!==prop){computeData.compute(newVal)}};componentScope.bind(prop,handlers[prop])});can.bind.call(el,"removed",function(){can.each(handlers,function(handler,prop){componentScope.unbind(prop,handlers[prop])})});if(!can.isEmptyObject(this.constructor.attributeScopeMappings)||hookupOptions.templateType!=="legacy"){can.bind.call(el,"attributes",function(ev){var camelized=can.camelize(ev.attributeName);if(!twoWayBindings[camelized]){componentScope.attr(camelized,el.getAttribute(ev.attributeName))}})}this.scope=componentScope;can.data(can.$(el),"scope",this.scope);var renderedScope=hookupOptions.scope.add(this.scope),options={helpers:{}};can.each(this.helpers||{},function(val,prop){if(can.isFunction(val)){options.helpers[prop]=function(){return val.apply(componentScope,arguments)}}});this._control=new this.constructor.Control(el,{scope:this.scope});if(this.constructor.renderer){if(!options.tags){options.tags={}}options.tags.content=function contentHookup(el,rendererOptions){var subtemplate=hookupOptions.subtemplate||rendererOptions.subtemplate;if(subtemplate){delete options.tags.content;can.view.live.replace([el],subtemplate(rendererOptions.scope,rendererOptions.options));options.tags.content=contentHookup}};frag=this.constructor.renderer(renderedScope,hookupOptions.options.add(options))}else{if(hookupOptions.templateType==="legacy"){frag=can.view.frag(hookupOptions.subtemplate?hookupOptions.subtemplate(renderedScope,hookupOptions.options.add(options)):"")}else{frag=hookupOptions.subtemplate?hookupOptions.subtemplate(renderedScope,hookupOptions.options.add(options)):document.createDocumentFragment()}}can.appendChild(el,frag)}});var ComponentControl=can.Control.extend({_lookup:function(options){return[options.scope,options,window]},_action:function(methodName,options,controlInstance){var hasObjectLookup,readyCompute;paramReplacer.lastIndex=0;hasObjectLookup=paramReplacer.test(methodName);if(!controlInstance&&hasObjectLookup){return}else{if(!hasObjectLookup){return can.Control._action.apply(this,arguments)}else{readyCompute=can.compute(function(){var delegate;var name=methodName.replace(paramReplacer,function(matched,key){var value;if(key==="scope"){delegate=options.scope;return""}key=key.replace(/^scope\./,"");value=can.compute.read(options.scope,key.split("."),{isArgument:true}).value;if(value===undefined){value=can.getObject(key)}if(typeof value==="string"){return value}else{delegate=value;return""}});var parts=name.split(/\s+/g),event=parts.pop();return{processor:this.processors[event]||this.processors.click,parts:[name,parts.join(" "),event],delegate:delegate||undefined}},this);var handler=function(ev,ready){controlInstance._bindings.control[methodName](controlInstance.element);controlInstance._bindings.control[methodName]=ready.processor(ready.delegate||controlInstance.element,ready.parts[2],ready.parts[1],methodName,controlInstance)};readyCompute.bind("change",handler);controlInstance._bindings.readyComputes[methodName]={compute:readyCompute,handler:handler};return readyCompute()}}}},{setup:function(el,options){this.scope=options.scope;return can.Control.prototype.setup.call(this,el,options)},off:function(){if(this._bindings){can.each(this._bindings.readyComputes||{},function(value){value.compute.unbind("change",value.handler)})}can.Control.prototype.off.apply(this,arguments);this._bindings.readyComputes={}}});if(window.$&&$.fn){$.fn.scope=function(attr){if(attr){return this.data("scope").attr(attr)}else{return this.data("scope")}}}can.scope=function(el,attr){el=can.$(el);if(attr){return can.data(el,"scope").attr(attr)}else{return can.data(el,"scope")}};return Component})(__m2,__m9,__m11,__m14,__m21,__m29);var __m30=(function(can){var pipe=function(def,thisArg,func){var d=new can.Deferred();def.then(function(){var args=can.makeArray(arguments),success=true;try{args[0]=func.apply(thisArg,args)}catch(e){success=false;d.rejectWith(d,[e].concat(args))}if(success){d.resolveWith(d,args)}},function(){d.rejectWith(this,arguments)});if(typeof def.abort==="function"){d.abort=function(){return def.abort()}}return d},modelNum=0,getId=function(inst){can.__reading(inst,inst.constructor.id);return inst.__get(inst.constructor.id)},ajax=function(ajaxOb,data,type,dataType,success,error){var params={};if(typeof ajaxOb==="string"){var parts=ajaxOb.split(/\s+/);params.url=parts.pop();if(parts.length){params.type=parts.pop()}}else{can.extend(params,ajaxOb)}params.data=typeof data==="object"&&!can.isArray(data)?can.extend(params.data||{},data):data;params.url=can.sub(params.url,params.data,true);return can.ajax(can.extend({type:type||"post",dataType:dataType||"json",success:success,error:error},params))},makeRequest=function(modelObj,type,success,error,method){var args;if(can.isArray(modelObj)){args=modelObj[1];modelObj=modelObj[0]}else{args=modelObj.serialize()}args=[args];var deferred,model=modelObj.constructor,jqXHR;if(type==="update"||type==="destroy"){args.unshift(getId(modelObj))}jqXHR=model[type].apply(model,args);deferred=pipe(jqXHR,modelObj,function(data){modelObj[method||type+"d"](data,jqXHR);return modelObj});if(jqXHR.abort){deferred.abort=function(){jqXHR.abort()}}deferred.then(success,error);return deferred},initializers={models:function(prop){return function(instancesRawData,oldList){can.Model._reqs++;if(!instancesRawData){return}if(instancesRawData instanceof this.List){return instancesRawData}var self=this,tmp=[],ListClass=self.List||ML,modelList=oldList instanceof can.List?oldList:new ListClass(),rawDataIsArray=can.isArray(instancesRawData),rawDataIsList=instancesRawData instanceof ML,raw=rawDataIsArray?instancesRawData:(rawDataIsList?instancesRawData.serialize():can.getObject(prop||"data",instancesRawData));if(typeof raw==="undefined"){throw new Error("Could not get any raw data while converting using .models")}if(modelList.length){modelList.splice(0)}can.each(raw,function(rawPart){tmp.push(self.model(rawPart))});modelList.push.apply(modelList,tmp);if(!rawDataIsArray){can.each(instancesRawData,function(val,prop){if(prop!=="data"){modelList.attr(prop,val)}})}setTimeout(can.proxy(this._clean,this),1);return modelList}},model:function(prop){return function(attributes){if(!attributes){return}if(typeof attributes.serialize==="function"){attributes=attributes.serialize()}if(this.parseModel){attributes=this.parseModel.apply(this,arguments)}else{if(prop){attributes=can.getObject(prop||"data",attributes)}}var id=attributes[this.id],model=(id||id===0)&&this.store[id]?this.store[id].attr(attributes,this.removeAttr||false):new this(attributes);return model}}},parserMaker=function(prop){return function(attributes){return prop?can.getObject(prop||"data",attributes):attributes}},parsers={parseModel:parserMaker,parseModels:parserMaker},ajaxMethods={create:{url:"_shortName",type:"post"},update:{data:function(id,attrs){attrs=attrs||{};var identity=this.id;if(attrs[identity]&&attrs[identity]!==id){attrs["new"+can.capitalize(id)]=attrs[identity];delete attrs[identity]}attrs[identity]=id;return attrs},type:"put"},destroy:{type:"delete",data:function(id,attrs){attrs=attrs||{};attrs.id=attrs[this.id]=id;return attrs}},findAll:{url:"_shortName"},findOne:{}},ajaxMaker=function(ajaxMethod,str){return function(data){data=ajaxMethod.data?ajaxMethod.data.apply(this,arguments):data;return ajax(str||this[ajaxMethod.url||"_url"],data,ajaxMethod.type||"get")}},createURLFromResource=function(model,name){if(!model.resource){return}var resource=model.resource.replace(/\/+$/,"");if(name==="findAll"||name==="create"){return resource}else{return resource+"/{"+model.id+"}"}};can.Model=can.Map.extend({fullName:"can.Model",_reqs:0,setup:function(base,fullName,staticProps,protoProps){if(fullName!=="string"){protoProps=staticProps;staticProps=fullName}if(!protoProps){protoProps=staticProps}this.store={};can.Map.setup.apply(this,arguments);if(!can.Model){return}if(staticProps&&staticProps.List){this.List=staticProps.List;this.List.Map=this}else{this.List=base.List.extend({Map:this},{})}var self=this,clean=can.proxy(this._clean,self);can.each(ajaxMethods,function(method,name){if(!can.isFunction(self[name])){self[name]=ajaxMaker(method,self[name]?self[name]:createURLFromResource(self,name))}if(self["make"+can.capitalize(name)]){var newMethod=self["make"+can.capitalize(name)](self[name]);can.Construct._overwrite(self,base,name,function(){can.Model._reqs++;var def=newMethod.apply(this,arguments);var then=def.then(clean,clean);then.abort=def.abort;return then})}});can.each(initializers,function(makeInitializer,name){var parseName="parse"+can.capitalize(name),dataProperty=self[name];if(typeof dataProperty==="string"){can.Construct._overwrite(self,base,parseName,parsers[parseName](dataProperty));can.Construct._overwrite(self,base,name,makeInitializer(dataProperty))}else{if(!protoProps||(!protoProps[name]&&!protoProps[parseName])){can.Construct._overwrite(self,base,parseName,parsers[parseName]())}}});can.each(parsers,function(makeParser,name){if(typeof self[name]==="string"){can.Construct._overwrite(self,base,name,makeParser(self[name]))}});if(self.fullName==="can.Model"||!self.fullName){self.fullName="Model"+(++modelNum)}can.Model._reqs=0;this._url=this._shortName+"/{"+this.id+"}"},_ajax:ajaxMaker,_makeRequest:makeRequest,_clean:function(){can.Model._reqs--;if(!can.Model._reqs){for(var id in this.store){if(!this.store[id]._bindings){delete this.store[id]}}}return arguments[0]},models:initializers.models("data"),model:initializers.model()},{setup:function(attrs){var id=attrs&&attrs[this.constructor.id];if(can.Model._reqs&&id!=null){this.constructor.store[id]=this}can.Map.prototype.setup.apply(this,arguments)},isNew:function(){var id=getId(this);return !(id||id===0)},save:function(success,error){return makeRequest(this,this.isNew()?"create":"update",success,error)},destroy:function(success,error){if(this.isNew()){var self=this;var def=can.Deferred();def.then(success,error);return def.done(function(data){self.destroyed(data)}).resolve(self)}return makeRequest(this,"destroy",success,error,"destroyed")},_bindsetup:function(){this.constructor.store[this.__get(this.constructor.id)]=this;return can.Map.prototype._bindsetup.apply(this,arguments)},_bindteardown:function(){delete this.constructor.store[getId(this)];return can.Map.prototype._bindteardown.apply(this,arguments)},___set:function(prop,val){can.Map.prototype.___set.call(this,prop,val);if(prop===this.constructor.id&&this._bindings){this.constructor.store[getId(this)]=this}}});var makeGetterHandler=function(name){var parseName="parse"+can.capitalize(name);return function(data){if(this[parseName]){data=this[parseName].apply(this,arguments)}return this[name](data)}},createUpdateDestroyHandler=function(data){if(this.parseModel){return this.parseModel.apply(this,arguments)}else{return this.model(data)}};var responseHandlers={makeFindAll:makeGetterHandler("models"),makeFindOne:makeGetterHandler("model"),makeCreate:createUpdateDestroyHandler,makeUpdate:createUpdateDestroyHandler};can.each(responseHandlers,function(method,name){can.Model[name]=function(oldMethod){return function(){var args=can.makeArray(arguments),oldArgs=can.isFunction(args[1])?args.splice(0,1):args.splice(0,2),def=pipe(oldMethod.apply(this,oldArgs),this,method);def.then(args[0],args[1]);return def}}});can.each(["created","updated","destroyed"],function(funcName){can.Model.prototype[funcName]=function(attrs){var stub,constructor=this.constructor;stub=attrs&&typeof attrs==="object"&&this.attr(attrs.attr?attrs.attr():attrs);can.trigger(this,"change",funcName);can.trigger(constructor,funcName,this)}});var ML=can.Model.List=can.List.extend({_bubbleRule:function(eventName,list){return can.List._bubbleRule(eventName,list)||"destroyed"}},{setup:function(params){if(can.isPlainObject(params)&&!can.isArray(params)){can.List.prototype.setup.apply(this);this.replace(this.constructor.Map.findAll(params))}else{can.List.prototype.setup.apply(this,arguments)}this._init=1;this.bind("destroyed",can.proxy(this._destroyed,this));delete this._init},_destroyed:function(ev,attr){if(/\w+/.test(attr)){var index;while((index=this.indexOf(ev.target))>-1){this.splice(index,1)}}}});return can.Model})(__m2,__m15,__m19);var __m32=(function(can){var digitTest=/^\d+$/,keyBreaker=/([^\[\]]+)|(\[\])/g,paramTest=/([^?#]*)(#.*)?$/,prep=function(str){return decodeURIComponent(str.replace(/\+/g," "))};can.extend(can,{deparam:function(params){var data={},pairs,lastPart;if(params&&paramTest.test(params)){pairs=params.split("&");can.each(pairs,function(pair){var parts=pair.split("="),key=prep(parts.shift()),value=prep(parts.join("=")),current=data;if(key){parts=key.match(keyBreaker);for(var j=0,l=parts.length-1;j<l;j++){if(!current[parts[j]]){current[parts[j]]=digitTest.test(parts[j+1])||parts[j+1]==="[]"?[]:{}}current=current[parts[j]]}lastPart=parts.pop();if(lastPart==="[]"){current.push(value)}else{current[lastPart]=value}}})}return data}});return can})(__m2,__m13);var __m31=(function(can){var matcher=/\:([\w\.]+)/g,paramsMatcher=/^(?:&[^=]+=[^&]*)+/,makeProps=function(props){var tags=[];can.each(props,function(val,name){tags.push((name==="className"?"class":name)+'="'+(name==="href"?val:can.esc(val))+'"')});return tags.join(" ")},matchesData=function(route,data){var count=0,i=0,defaults={};for(var name in route.defaults){if(route.defaults[name]===data[name]){defaults[name]=1;count++}}for(;i<route.names.length;i++){if(!data.hasOwnProperty(route.names[i])){return -1}if(!defaults[route.names[i]]){count++}}return count},location=window.location,wrapQuote=function(str){return(str+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},each=can.each,extend=can.extend,stringify=function(obj){if(obj&&typeof obj==="object"){if(obj instanceof can.Map){obj=obj.attr()}else{obj=can.isFunction(obj.slice)?obj.slice():can.extend({},obj)}can.each(obj,function(val,prop){obj[prop]=stringify(val)})}else{if(obj!==undefined&&obj!==null&&can.isFunction(obj.toString)){obj=obj.toString()}}return obj},removeBackslash=function(str){return str.replace(/\\/g,"")},timer,curParams,lastHash,changingData,onRouteDataChange=function(ev,attr,how,newval){changingData=1;clearTimeout(timer);timer=setTimeout(function(){changingData=0;var serialized=can.route.data.serialize(),path=can.route.param(serialized,true);can.route._call("setURL",path);lastHash=path},10)};can.route=function(url,defaults){var root=can.route._call("root");if(root.lastIndexOf("/")===root.length-1&&url.indexOf("/")===0){url=url.substr(1)}defaults=defaults||{};var names=[],res,test="",lastIndex=matcher.lastIndex=0,next,querySeparator=can.route._call("querySeparator");while(res=matcher.exec(url)){names.push(res[1]);test+=removeBackslash(url.substring(lastIndex,matcher.lastIndex-res[0].length));next="\\"+(removeBackslash(url.substr(matcher.lastIndex,1))||querySeparator);test+="([^"+next+"]"+(defaults[res[1]]?"*":"+")+")";lastIndex=matcher.lastIndex}test+=url.substr(lastIndex).replace("\\","");can.route.routes[url]={test:new RegExp("^"+test+"($|"+wrapQuote(querySeparator)+")"),route:url,names:names,defaults:defaults,length:url.split("/").length};return can.route};extend(can.route,{param:function(data,_setRoute){var route,matches=0,matchCount,routeName=data.route,propCount=0;delete data.route;each(data,function(){propCount++});each(can.route.routes,function(temp,name){matchCount=matchesData(temp,data);if(matchCount>matches){route=temp;matches=matchCount}if(matchCount>=propCount){return false}});if(can.route.routes[routeName]&&matchesData(can.route.routes[routeName],data)===matches){route=can.route.routes[routeName]}if(route){var cpy=extend({},data),res=route.route.replace(matcher,function(whole,name){delete cpy[name];return data[name]===route.defaults[name]?"":encodeURIComponent(data[name])}).replace("\\",""),after;each(route.defaults,function(val,name){if(cpy[name]===val){delete cpy[name]}});after=can.param(cpy);if(_setRoute){can.route.attr("route",route.route)}return res+(after?can.route._call("querySeparator")+after:"")}return can.isEmptyObject(data)?"":can.route._call("querySeparator")+can.param(data)},deparam:function(url){var root=can.route._call("root");if(root.lastIndexOf("/")===root.length-1&&url.indexOf("/")===0){url=url.substr(1)}var route={length:-1},querySeparator=can.route._call("querySeparator"),paramsMatcher=can.route._call("paramsMatcher");each(can.route.routes,function(temp,name){if(temp.test.test(url)&&temp.length>route.length){route=temp}});if(route.length>-1){var parts=url.match(route.test),start=parts.shift(),remainder=url.substr(start.length-(parts[parts.length-1]===querySeparator?1:0)),obj=(remainder&&paramsMatcher.test(remainder))?can.deparam(remainder.slice(1)):{};obj=extend(true,{},route.defaults,obj);each(parts,function(part,i){if(part&&part!==querySeparator){obj[route.names[i]]=decodeURIComponent(part)}});obj.route=route.route;return obj}if(url.charAt(0)!==querySeparator){url=querySeparator+url}return paramsMatcher.test(url)?can.deparam(url.slice(1)):{}},data:new can.Map({}),map:function(data){var appState;if(data instanceof can.Map){appState=data}else{if(data.prototype instanceof can.Map){appState=new data()}}can.route.data=appState},routes:{},ready:function(val){if(val!==true){can.route._setup();can.route.setState()}return can.route},url:function(options,merge){if(merge){options=can.extend({},can.route.deparam(can.route._call("matchingPartOfURL")),options)}return can.route._call("root")+can.route.param(options)},link:function(name,options,props,merge){return"<a "+makeProps(extend({href:can.route.url(options,merge)},props))+">"+name+"</a>"},current:function(options){return this._call("matchingPartOfURL")===can.route.param(options)},bindings:{hashchange:{paramsMatcher:paramsMatcher,querySeparator:"&",bind:function(){can.bind.call(window,"hashchange",setState)},unbind:function(){can.unbind.call(window,"hashchange",setState)},matchingPartOfURL:function(){return location.href.split(/#!?/)[1]||""},setURL:function(path){location.hash="#!"+path;return path},root:"#!"}},defaultBinding:"hashchange",currentBinding:null,_setup:function(){if(!can.route.currentBinding){can.route._call("bind");can.route.bind("change",onRouteDataChange);can.route.currentBinding=can.route.defaultBinding}},_teardown:function(){if(can.route.currentBinding){can.route._call("unbind");can.route.unbind("change",onRouteDataChange);can.route.currentBinding=null}clearTimeout(timer);changingData=0},_call:function(){var args=can.makeArray(arguments),prop=args.shift(),binding=can.route.bindings[can.route.currentBinding||can.route.defaultBinding],method=binding[prop];if(method.apply){return method.apply(binding,args)}else{return method}}});each(["bind","unbind","on","off","delegate","undelegate","removeAttr","compute","_get","__get"],function(name){can.route[name]=function(){if(!can.route.data[name]){return}return can.route.data[name].apply(can.route.data,arguments)}});can.route.attr=function(attr,val){var type=typeof attr,newArguments;if(val===undefined){newArguments=arguments}else{if(type!=="string"&&type!=="number"){newArguments=[stringify(attr),val]}else{newArguments=[attr,stringify(val)]}}return can.route.data.attr.apply(can.route.data,newArguments)};var setState=can.route.setState=function(){var hash=can.route._call("matchingPartOfURL");var oldParams=curParams;curParams=can.route.deparam(hash);if(!changingData||hash!==lastHash){can.batch.start();for(var attr in oldParams){if(!curParams[attr]){can.route.removeAttr(attr)}}can.route.attr(curParams);can.batch.stop()}};return can.route})(__m2,__m15,__m19,__m32);var __m33=(function(can){can.Control.processors.route=function(el,event,selector,funcName,controller){selector=selector||"";if(!can.route.routes[selector]){if(selector[0]==="/"){selector=selector.substring(1)}can.route(selector)}var batchNum,check=function(ev,attr,how){if(can.route.attr("route")===(selector)&&(ev.batchNum===undefined||ev.batchNum!==batchNum)){batchNum=ev.batchNum;var d=can.route.attr();delete d.route;if(can.isFunction(controller[funcName])){controller[funcName](d)}else{controller[controller[funcName]](d)}}};can.route.bind("change",check);return function(){can.route.unbind("change",check)}};return can})(__m2,__m31,__m11);window.can=__m4})();(function(c,e,b,f){var d="2.1.0";if(typeof b.VERSION!=="undefined"&&b.VERSION>d){if(c.console&&c.console.warn){c.console.warn("src/external/control/can.AsControl not supported by this version of CanJS ("+b.VERSION+")")}}b.Map.prototype.clone=function(){return new this.constructor(this.attr())};b.List.prototype.clone=function(){return new this.constructor(this.attr())};b.Control.prototype.setup=function(j,i){var h=this.constructor,k=b.extend(true,{},h.defaults),l=h.pluginName||h._fullName,g;this.element=b.$(j);if(l&&l!=="can_control"){this.element.addClass(l)}g=b.data(this.element,"controls");if(!g){g=[];b.data(this.element,"controls",g)}g.push(this);this.options=b.extend({},k,i);this.on();return[this.element,this.options]};b.extend=function(){var g,n,h,j,q,o,m=arguments[0]||{},l=1,k=arguments.length,p=false;if(typeof m==="boolean"){p=m;m=arguments[1]||{};l=2}if(typeof m!=="object"&&!jQuery.isFunction(m)){m={}}if(k===l){m=this;--l}for(;l<k;l++){if((q=arguments[l])!==null){for(j in q){g=m[j];h=q[j];if(m===h){continue}if(p&&h&&(jQuery.isPlainObject(h)||(n=jQuery.isArray(h)))){if(n){n=false;o=g&&jQuery.isArray(g)?g:[]}else{o=g&&jQuery.isPlainObject(g)?g:{}}m[j]=jQuery.extend(p,o,h)}else{if(h!==f){m[j]=p&&h&&h.clone&&jQuery.isFunction(h.clone)?h.clone():h}}}}}return m};var a=b.Control.prototype.destroy;b.Control.prototype.setTimeout=function(g,h){var i=setTimeout(this.proxy(g),h);this.__timeouts=this.__timeouts||[];this.__timeouts.push(i);return i};b.Control.prototype.clearTimeout=function(h){if(!h){return}var g=b.inArray(h,this.__timeouts);clearTimeout(h);if(g!==-1){this.__timeouts.splice(g,1)}};b.Control.prototype.destroy=function(){if(this.__timeouts!=null){for(var g=0;g<this.__timeouts.length;g++){clearTimeout(this.__timeouts[g])}this.__timeouts=null}a.apply(this,arguments)}})(this,jQuery,can);(function(f,d,i,b){var h="2.1.0";if(typeof i.VERSION!=="undefined"&&i.VERSION>h){if(f.console&&f.console.warn){f.console.warn("src/external/view/can.AsView not supported by this version of CanJS ("+i.VERSION+")")}}i.view.forceLocalLookup=false;var e=function(k){var j=[];if(i.isDeferred(k)){return[k]}else{for(var l in k){if(i.isDeferred(k[l])){j.push(k[l])}}}return j},a=function(j){return i.isArray(j)&&j[1]==="success"?j[0]:j},c=function(k,j){if(!k.length){throw"can.view: No template or empty template:"+j}},g=function(o,n){var j=typeof o==="string"?o:o.url,r=o.engine||j.match(/\.[\w\d]+$/),q,p=new i.Deferred(),l,k,m=!i.view.forceLocalLookup;if(j.match(/^#/)){j=j.substr(1);m=false}l=document.getElementById(j);if(l){r="."+l.type.match(/\/(x\-)?(.+)/)[2]}if(!r&&!i.view.cached[j]){j+=r=i.view.ext}if(i.isArray(r)){r=r[0]}k=i.view.toId(j);q=i.view.types[r];if(i.view.cached[k]){return i.view.cached[k]}else{if(l){return i.view.registerView(k,l.innerHTML,q)}else{if(m){if(j.match(/^\/\//)){j=j.substr(2);j=!f.steal?j:steal.config().root.mapJoin(""+steal.id(j))}if(f.require){if(require.toUrl){j=require.toUrl(j)}}i.ajax({async:n,url:j,dataType:"text",error:function(s){c("",j);p.reject(s)},success:function(s){c(s,j);i.view.registerView(k,s,q,p)}});return p}else{c("",j);p.reject();return p}}}};i.view.renderAs=function(r,q,p,j,s){if(i.isFunction(j)){s=j;j=b}var u=e(p);var n,t,k,l,m;if(u.length){t=new i.Deferred();k=i.extend({},p);u.push(g(q,true));i.when.apply(i,u).then(function(w){var y=i.makeArray(arguments),x=y.pop(),v;if(i.isDeferred(p)){k=a(w)}else{for(var z in p){if(i.isDeferred(p[z])){k[z]=a(y.shift())}}}v=i.view.renderTo(r,x,k,j);t.resolve(v,k);if(s){s(v,k)}},function(){t.reject.apply(t,arguments)});return t}else{n=i.__clearReading();l=i.isFunction(s);t=g(q,l);if(n){i.__setReading(n)}if(l){m=t;t.then(function(v){s(p?i.view.renderTo(r,v,p,j):v)})}else{if(t.state()==="resolved"&&t.__view_id){var o=i.view.cachedRenderers[t.__view_id];return p?i.view.renderTo(r,o,p,j):o}else{t.then(function(v){m=p?i.view.renderTo(r,v,p,j):v})}}return m}}})(this,jQuery,can);if(this.self!==this.top){this.top.location=this.location}var as={};as.Tracking=(function(a){function d(l,k,m,j){if(l.addEventListener){l.addEventListener(k,m,j)}else{l.attachEvent("on"+k,m)}}function f(k){if(k.metaKey||k.altKey||k.ctrlKey||k.shiftKey){return true}var l=k.which,j=k.button;if(!l&&j!==undefined){return(!j&1)&&(!j&2)&&(j&4)}else{if(l===2){return true}}return false}function b(j){return typeof(j)==="function"}function i(l){var j,m,p,o=[],n={linkTrackVars:"",linkTrackEvents:"None"};if(!jQuery.isPlainObject(l)){throw new Error("as.Tracking.formatMetricsData: argument must be an object")}for(j in l){m=j.toLowerCase();p=l[j].toString();if(m==="events"){p=(p instanceof Array)?p.join(","):p;p=p.replace(/\s/,"").toLowerCase();if(p.length){n.linkTrackEvents=n.events=p;o.push(m)}}else{if(m.slice(0,4)==="evar"){m="eVar"+m.slice(4)}n[m]=p;o.push(m)}}n.linkTrackVars=o.join(",");return n}function g(){var j=a.s_gi,k=a.s_account;if(!(j&&k)){return a.s}return j(k)}function e(j){var k=this.getSitecatalystInstance();k.t(j)}function c(m,k,s,t,r){if(!(k&&s)){throw new Error("Tracking.track require a valid event name and metrics overrides params.")}else{if(!("linkTrackVars" in s&&"linkTrackEvents" in s)){throw new Error("Tracking.track requires both linkTrackVars and linkTrackEvents to be defined in the metricsData param.")}}r=r||"o";var q=this.getSitecatalystInstance(),j=q.mrq,n=q.tl.length!==5&&b(t),o=(m===true||m===void 0)?0:300,l=false,p=function(){if(!l){l=true;t.call(a)}};s.linkTrackVars+=[",prop2,eVar3","prop4","prop5","prop6","prop8,eVar4","prop14","prop19,eVar19","prop20","prop23","prop40","prop53"].join(",");if(n){q.mrq=function(){q.mrq=j;q.mrq.apply(q,arguments);p()}}q.tl(m||true,r,k,s,t);if(n){setTimeout(p,o)}}function h(k,j,s,t){if(!(k&&k.tagName&&j&&s)){throw new Error("Tracking.trackClick requires a valid DOM element, event name and metrics overrides params.")}var u=this,l=b(t),q=k.tagName.toLowerCase()==="form",o=false,r,n=(a.jQuery||a.Zepto),p=q?"submit":"click",m=function(v){o=k.href&&k.target!=="_blank"&&!f(v);if(!l&&(q||o)){v=v||a.event;if(v.preventDefault){v.preventDefault()}else{v.returnValue=false}}r=b(s)?(s(v,k)||{}):s;u.track(k,j,r,function(){if(l){t.call(this,v)}else{if(q){$.AsEnv.submit(k)}else{if(o){$.AsEnv.doRedirect(k.href)}}}})};if(n){n(k).on(p,m)}else{d(k,p,m)}}return{getSitecatalystInstance:g,formatMetricsData:i,trackPage:e,track:c,trackClick:h}}(this));as.ViewPort=(function(b){var g=1024;var m=768;var f=window.matchMedia||window.msMatchMedia;function l(o,n){if(0<o){if(n){return +o}else{return o>>0}}else{return 1}}function c(o,s,u,r){var n;var p;var q;var t;s=typeof s==="string"?s:"";u=l(u,s);r=d(r,s);for(t=u;0<=t;t=t+r){q=h("(min-"+o+":"+t+s+")");p=h("(max-"+o+":"+t+s+")");if(q&&p){return h("("+o+(t>>0)+s)?t>>0:t}if(null==n){r=(n=!p)?q&&r:-r}else{if(p?n:!n){n=!n;r=-r/2}}}return 0}function h(n){if(f){return !!f(n).matches}else{return false}}function d(o,n){if(0<o){return +o}else{if(0>o){return -o}else{if("px"===n){return 256}else{if(n){return 32}else{return 1}}}}}function i(){if(typeof window.orientation==="undefined"){return window.screen.width}return window.screen.width<window.screen.height?c("device-width","px"):c("device-height","px")}function e(){if(typeof window.orientation==="undefined"){return window.screen.height}return window.screen.height>window.screen.width?c("device-height","px"):c("device-width","px")}function a(){var n=(window.orientation===0)?true:false;if(n){return i()}else{return e()}}function k(){var o=document.documentElement.clientWidth===g;var n=a()<m;return(o&&n)}function j(){return g/a()}return{getScale:j,shouldScale:k}}(this));var Storage=function(b){var a=b||{};this.wantSession="session" in a&&a.session;this.wantCookie="cookie" in a&&a.cookie;this.wantHash="hash" in a&&a.hash;this.noFallback=!this.wantCookie&&!this.wantHash;this.fauxSession=this.wantSession;this.inFallback=false;this.noop=false;this.expires=a.expires;this.expiryInMs=a.expiryInMs;this.name=a.name;this.path=a.path;this.domain=a.domain;this.secure=a.secure;this.db=null;this.init()};Storage.prototype.init=function(b,a){this.db=b?this.fallback():this.local()||this.fallback()||this.global()||this.getUserData();if(this.db&&b){this.set(b,a)}if(!this.db){this.noop=true;if(console&&console.log){console.log("Storage Info: No client storage will be available")}}};Storage.prototype.local=function(){var a;try{a=this.wantSession?window.sessionStorage||window.localStorage:window.localStorage;if(!a){return false}this.hasDomStorage=true;a.setItem("T3sT3iNg","123");a.removeItem("T3sT3iNg")}catch(b){this.inFallback=true;return false}return a};Storage.prototype.fallback=function(){if(this.inFallback&&!this.noFallback){this.db=null;this.fauxSession=false;if(this.wantCookie){var a=this.expires/3600000;return new Storage.cookieFB({expires:this.expiryInMs?a/24:this.expires,name:this.name,path:this.path,domain:this.domain,secure:this.secure})}else{return new Storage.hashFB()}}else{return false}};Storage.cookieFB=function(a){var b=window.StorageSimulator(a);b.getItem=b.get;b.setItem=b.set;b.removeItem=b.remove;b.key=b.getKey;b.clear=function(){};return b};Storage.hashFB=function(){this.data={}};Storage.hashFB.prototype.getData=function(){return this.data};Storage.hashFB.prototype.getItem=function(a){return this.data[a]||null};Storage.hashFB.prototype.setItem=function(a,b){this.data[a]=b;this.length++};Storage.hashFB.prototype.removeItem=function(a){delete this.data[a];if(this.length>0){this.length--}};Storage.hashFB.prototype.length=0;Storage.hashFB.prototype.clear=function(){this.length=0;this.data={}};Storage.hashFB.prototype.key=function(a){var b=Object.keys(this.data);return this.data[b[a]]};Storage.prototype.global=function(){if(window.globalStorage){this.hasDomStorage=true;return window.globalStorage}else{return false}};Storage.prototype.getUserData=function(){if(!this.hasDomStorage&&jQuery.AsSupport.isIe){this.fauxSession=false;return new Storage.userData(this.expires,this.expiryInMs)}else{return false}};Storage.userData=function(a,c){this.txtArea=document.createElement("textarea");this.txtArea.style.behavior="url(#default#userData)";this.txtArea.setAttribute("expires",Storage.getFutureDate(a,c,true));this.txtArea.style.display="none";var b=document.getElementById("aos-pocket")||document.body;b.appendChild(this.txtArea)};Storage.userData.prototype.getKeys=function(){var a;this.txtArea.load("AOSMeta");if((a=this.txtArea.getAttribute("keys"))){return a.split("__")}else{return[]}};Storage.userData.prototype.setKeys=function(a){this.txtArea.load("AOSMeta");this.txtArea.setAttribute("keys",a.join("__"));this.txtArea.save("AOSMeta")};Storage.userData.prototype.addKey=function(b){var c=this.getKeys(),a=c.indexOf(b);if(a!==-1){return}c.push(b);this.setKeys(c)};Storage.userData.prototype.removeKey=function(b){var c=this.getKeys(),a=c.indexOf(b);if(a===-1){return}c.splice(a,1);this.setKeys(c)};Storage.userData.prototype.getItem=function(a){this.txtArea.load("AOSData");return this.txtArea.getAttribute(a)};Storage.userData.prototype.setItem=function(b,c){this.txtArea.load("AOSData");var a=this.txtArea.getAttribute(b);this.txtArea.setAttribute(b,c);this.txtArea.save("AOSData");if(this.txtArea.getAttribute(b)===c){if(!a){this.addKey(b)}return true}this.txtArea.setAttribute(b,a);this.txtArea.save("AOSData");return false};Storage.userData.prototype.removeItem=function(a){this.txtArea.load("AOSData");this.txtArea.removeAttribute(a);this.txtArea.save("AOSData");this.removeKey(a)};Storage.userData.prototype.length=function(){return this.getKeys().length};Storage.userData.prototype.key=function(a){return this.getKeys()[a]};Storage.userData.prototype.clear=function(){var c=this.getKeys();for(var b=0,a=c.length;b<a;b++){this.removeItem(c[b])}};Storage.getFutureDate=function(a,c,b){var f=new Date(),e=c?1:86400000;if(typeof a!=="number"){a=parseInt(a,10)}if(b){f.setTime(f.getTime()+(a*e));return f.toUTCString()}else{return f.getTime()+(a*e)}};Storage.prototype.get=function(a){if(this.noop){return null}var b,c;if(this.fauxSession){c=new Date();if((b=JSON.parse(this.db.getItem(a)))){if(b.timestamp>c.getTime()){return b.value}else{this.db.removeItem(a)}}return null}else{return this.db.getItem(a)}};Storage.prototype.set=function(a,b){if(this.noop){return}if(this.fauxSession){b=JSON.stringify({value:b,timestamp:Storage.getFutureDate(this.expires,this.expiryInMs)})}try{this.db.removeItem(a);this.db.setItem(a,b)}catch(c){if(console&&console.log){console.log(c.message)}if(!this.inFallback&&!this.noFallback){this.inFallback=true;this.init(a,b)}else{if(console&&console.log){console.log("Storage Error: No fallback specified or available")}}}};Storage.prototype.key=function(a){if(this.noop){return}return this.db.key(a)};Storage.prototype.remove=function(a){if(this.noop){return}return this.db.removeItem(a)};Storage.prototype.clear=function(){if(this.noop){return}return this.db.clear()};Storage.prototype.length=function(){if(this.noop){return 0}return typeof this.db.length==="function"?this.db.length():this.db.length};Storage.prototype.getKey=function(a){if(this.noop){return null}return this.db.key(a)};(function(a,b,c){b.AsMetrics=(function(){var d={};return{autoCrossOriginMicroEventsEnabled:true,evarDataNodesEnabled:true,productSubstring:"",pageLoadMetricsData:null,CONSTANTS:{AosNamespace:"AOS: ",pageLoadDataKeyPrefix:"apple.metrics",pageLoadDataKeySeparator:"__",pageLoadDataKeyLatestKeyName:"apple_Metrics_LatestKey",templateRegex:/\$\{(\w+)\}/g,cookieDefaults:{name:"asmetrics",path:"/",domain:a.location.host,expires:0.0208333333,secure:false}},getClickMapId:function(h){var e,g,f=/s_objectID=['"](.*)['"]/i;if(h){e=h.getAttribute("data-s-object-id")||null;if(!e){g=h.getAttribute("onclick")||"";if(f.test(g)){e=f.exec(g)[1]}}}return e||null},isCrossOriginLink:function(f){var e=function(g){return("origin" in g)?g.origin:(g.protocol+"//"+g.hostname)};return(this.isValidLink(f)&&e(f)!==e(document.location))},isExternalLink:function(f){if(this.isValidLink(f)){var i=as.Tracking.getSitecatalystInstance()||a.s||{},g=i.linkInternalFilters||"",h=false,e=false;if("hostname" in f&&f.hostname.length&&g.length>0){g=g.split(/\s*,\s*/i);while(!h&&g.length){h=(f.hostname.indexOf(g.shift())!==-1)}e=!h}return e}return false},isValidLink:function(h){var g=b(h),e=false,f;if(g.is("a")){f=b.trim(g.attr("href")||"");e=(f.length>0&&f.indexOf("#")!==0&&f.indexOf("about:")!==0&&f.indexOf("javascript:")!==0)}return e},isTargetingOtherWindow:function(f,e){if(!f||!e){return false}var g=(f.target||"").toLowerCase();return((e.metaKey||e.ctrlKey||e.shiftKey)||(b.inArray(g,["","_self","_parent","_top"])===-1)||(a.name.length>0&&g.length>0&&g!==a.name))},storeDataForFuturePageEvent:function(g,i){var m,l={timestamp:(new Date()).getTime()},n=new Storage(),h=b("<a/>",{href:g})[0];if(h.hostname&&(h.hostname!==a.document.location.hostname)){return}for(var f in i){l[f.toLowerCase()]=i[f]}m=this.getStorageKey(g);l=a.JSON.stringify(l);try{n.set(m,l);n.set(this.CONSTANTS.pageLoadDataKeyLatestKeyName,m)}catch(j){}},parseMetricsDataFromElement:function(g){var k,h,e,l,m={},f={},o=[],j=[],n=["eVar1","eVar5","eVar20","eVar21","eVar30","eVar31","prop37","prop42"];for(k=0;k<n.length;k++){e=n[k],l=e.toLowerCase(),h=g.getAttribute("data-"+l);if(h&&h.length){m[e]=h;o.push(e);f[l]=h;j.push(l)}}return{keys:j,vars:f,metrics:as.Tracking.formatMetricsData(m)}},storePageEventData:function(n){var h=n.currentTarget.form||n.currentTarget,m=h.pathname||h.action,i=false,f=(n.isDefaultPrevented()!==true),e=this.isExternalLink(h),g;if(h&&(h.getAttribute("data-slot-name")||h.getAttribute("data-feature-name"))){this.setMetricsAttrs(h)}g=this.parseMetricsDataFromElement(h);i=(this.autoCrossOriginMicroEventsEnabled&&(e||this.isCrossOriginLink(h)));if(f===true&&i===true){var j=this.isTargetingOtherWindow(h,n),k=(e)?"e":"o",l=h.href||h.action;if(j===true){as.Tracking.track(h,l,g.metrics,null,k)}else{n.preventDefault();as.Tracking.track(h,l,g.metrics,function(){a.location=l},k)}}else{this.storeDataForFuturePageEvent(m,g.vars)}},setMetricsAttrs:function(h){var g=b(h),e=this.generateEvar1(h),i=a.s,f={"data-evar1":e,"data-s-object-id":b.md5(e)};if(g.length&&e&&i){can.each(f,function(k,j){if(!g.attr(j)){g.attr(j,k)}});i.tl(h)}},generateEvar1:function(g){var m=b(g),k=a.s,f=m.attr("data-slot-name")||"",l=m.attr("data-feature-name")||"",e,i=m.attr("data-display-name")||b.AsString.truncate(b.trim(m.text())),j=m.attr("data-part-number"),h;if(m.length&&k&&(f||l)){if(f){e=m.index('[data-slot-name="'+f+'"]')}else{e=m.index('[data-feature-name="'+l+'"]')}h=k.pageName+" | "+f+" | "+l+" | "+e+" | "+i;if(j){h+=" | "+j}}return h},captureProp42AndSubmitForm:function(e){},cleanupStaleStorage:function(){var g=24*60*60*1000,e=(new Date()).getTime(),j=new Storage(),n=j.length(),m,h,f,l,k=this.transformKey(this.CONSTANTS.pageLoadDataKeyPrefix),i=this.CONSTANTS.pageLoadDataKeyLatestKeyName;for(f=n-1;f>=0;f--){m=j.key(f);if(m&&m!==i&&m.indexOf(k)!==-1){h=j.get(m);h=h?a.JSON.parse(h):{};l=h.timestamp||e;if((e-l)>=g){j.remove(m)}}}},getProductSubstring:function(f){var e=(f||"").split(";");return e[1]||e[0]},transformKey:function(e){return e?e.replace(/\W+(\w|$)/g,function(g,f){return f?f.toUpperCase():""}):e},getStorageKey:function(e){var f=[this.CONSTANTS.pageLoadDataKeyPrefix,e?a.location.href:(a.document.referrer||""),e||a.location.pathname].join(this.CONSTANTS.pageLoadDataKeySeparator);return this.transformKey(f)},fireEventCollection:function(h){var g,e,f;if(!h){return}if(h.microEvent){g=[].concat(h.microEvent);e=g.length;for(f=0;f<e;f++){this.fireMicroEvent(g[f])}}if(h.metrics){g=[].concat(h.metrics);e=g.length;for(f=0;f<e;f++){this.fireMetricsEvent(g[f])}}},fireMetricsEvent:function(e){as.Tracking.trackPage(e)},fireMicroEvent:function(h,f,l){if(!("feature" in h&&"action" in h)){throw new Error("Microevents require a feature and an action.")}var k=as.Tracking.getSitecatalystInstance(),g=this.CONSTANTS.AosNamespace,j,e,i={};if(!k){return}h=b.extend({page:(k.pageName||""),slot:"",part:"",eVar:"eVar5"},h);e=[h.feature,h.part,h.action].join(" | ");if(!h.excludeAosNamespace&&h.page.indexOf(g)!==0){h.page=g+h.page}if(h.page===k.pageName){j=['D=pageName+"',h.slot,e].join(" | ")+'"'}else{j=[h.page,h.slot,e].join(" | ")}i[h.eVar]=j;if(h.events){i.events=h.events}i=as.Tracking.formatMetricsData(i);if(!f||!(j in d)){d[j]=true;as.Tracking.track(h.node,e,i,l)}return h},fireMicroEventCollection:function(g,m){var j,l,f,h,e,k;if(typeof m!=="function"){throw"fireMicroEventCollection requires a callback"}for(j in g){l=g[j];h=l.microEvents||[];k={};for(f=0;f<h.length;f++){e=h[f];k[e.key]=['D=pageName+"',e.feature,e.value].join(" | ")+'"'}if("macroEvents" in l){k.events=l.macroEvents}if("products" in l){k.products=l.products}k=as.Tracking.formatMetricsData(k);as.Tracking.track(null,j,k,m)}},parseTemplate:function(f,g,e){var h=function h(k,i){var j=g[i];if(null===j||"undefined"===typeof(j)){return e||""}return j};return f.replace(this.CONSTANTS.templateRegex,h)},clone:function(){return b.extend({},a.s)},getNewKeyObject:function(h){var g={},f=a.s;for(var e in f){if(f.hasOwnProperty(e)&&f[e]&&e in h===false){g[e]=f[e]}}return g},reportCustomLink:function(h,i){var f=this.CONSTANTS.AosNamespace,g=" | ",e=i.split(g),j=e.length<=4?i:e.slice(2).join(g);if(i.indexOf(f)!==0){i=f+i}as.Tracking.track(h,j,as.Tracking.formatMetricsData({evar5:i}))},init:function(){var h=a.s,g=b.AsMetrics,f=b.proxy(g.cleanupStaleStorage,g),e=b.proxy(g.storePageEventData,g);if(h){this.productSubstring=g.getProductSubstring(h.products)}if(g.evarDataNodesEnabled){b("body").on("click","a",e).on("submit","form",e)}a.setTimeout(f,2000)}}}());b.AsMetrics.Metrics=function(d){this.config=(d||{});this.cookieProps=b.AsMetrics.CONSTANTS.cookieDefaults;this.metrics=(b.cookie(this.cookieProps.name)||{});this.metricsStorage=new Storage();b.AsMetrics.evarDataNodesEnabled=(this.config.evarDataNodes!==false);as.Tracking.getSitecatalystInstance().trackExternalLinks=false;this.init()};b.AsMetrics.Metrics.prototype={pageName:function(f){var e="",d=this.metrics.vh;if(this.config.isHome){e=" - "+(d?"Return":"First")}return f+e},mark:function(){if(this.config.isHome){this.metrics.vh=true}this.setDsidFromCookie();b.cookie(this.cookieProps.name,JSON.stringify(this.metrics),this.cookieProps)},getPageLoadMetricsDataForVariable:function(d){return(b.AsMetrics.pageLoadMetricsData&&b.AsMetrics.pageLoadMetricsData[d])||""},getVar:function(d){return this.getPageLoadMetricsDataForVariable(d)},getEvar1:function(){return this.getPageLoadMetricsDataForVariable("evar1")},getEvar20:function(){return this.getPageLoadMetricsDataForVariable("evar20")},getEvar30:function(){return this.getPageLoadMetricsDataForVariable("evar30")},getEvar31:function(){return this.getPageLoadMetricsDataForVariable("evar31")},getProp30:function(){return this.getEvar1().split("|")[0]},getProp37:function(){return this.getPageLoadMetricsDataForVariable("prop37")},getProp42:function(){return this.getPageLoadMetricsDataForVariable("prop42")},appendEVar31:function(d){var e=this.getEvar31();return e?(d+(d?"|":"")+"eVar31="+e):d},getStore:function(){if(!this.metrics.store){this.initStore()}return this.metrics.store},initStore:function(){var d=this.metrics.store;if(d&&d.sid!==this.config.storeId){d=null}if(!d){d={sid:this.config.storeId};this.metrics.store=d}},loadStorageData:function(){if(!b.AsMetrics.evarDataNodesEnabled&&b.AsMetrics.pageLoadMetricsData){return}var p,j,f,l,n=b.AsMetrics,h=n.CONSTANTS,q=this.metricsStorage.length(),m=n.transformKey(h.pageLoadDataKeyPrefix),k=h.pageLoadDataKeySeparator,g=h.pageLoadDataKeyLatestKeyName,r=n.transformKey(a.location.pathname),d=n.transformKey(a.location.href),o=new RegExp("^"+m+k+".*"+k+"(?:("+r+"$))","gi"),i=new RegExp("^"+m+k+"("+d+")"+k+".*$","gi"),e;p=n.getStorageKey();j=this.metricsStorage.get(p);if(!j){for(e=0;e<q;e++){f=this.metricsStorage.key(e);if(o.test(f)){p=f;j=this.metricsStorage.get(p);break}}}if(!j){f=this.metricsStorage.get(g);if(i.test(f)){p=f}else{l=this.metricsStorage.get(f);if(l){p=f;j=l}}}b.AsMetrics.pageLoadMetricsData=j?a.JSON.parse(j):{};this.metricsStorage.remove(p)},setDsidFromCookie:function(){var d=(b.cookie("aoscn")||"").split("~");if(d.length===2&&d[1].length===64){a.s.prop53=d[1]}},init:function(){this.initStore();this.loadStorageData()}}})(this,jQuery);(function(e,i,j,d){i.AsString={stripPunctuationAtEnd:function(s){return s.replace(g,m)},stripPunctuationAtStart:function(s){return s.replace(k,m)},stripTags:function(s){return s.replace(r,m)},truncate:function(y,t){var v=i.isNumeric(t)?{}:(t||{});var u;var x=v.length?v.length:i.isNumeric(t)?t:c;var s=v.omission||p;var z=v.from||f;var w;if(y.length>x){switch(z){case"start":case"beginning":u=i.trim(this.stripPunctuationAtEnd(y.slice(0,x)));u+=s;break;case"middle":w=Math.floor(x/2);u=i.trim(this.stripPunctuationAtEnd(y.slice(0,w)));u+=b;u+=s;u+=b;u+=i.trim(this.stripPunctuationAtStart(y.slice(-w)));break;case"end":case"ending":u=s;u+=i.trim(this.stripPunctuationAtStart(y.slice(-x)));break;default:u=y;break}}else{if(y){u=y}}return u},parseQueryString:function(s){var w={};var x,u,y,z;if(s[0]==="?"||s[0]==="#"){s=s.substring(1)}if(s!==""){x=s.split("&");for(var v=0,t=x.length;v<t;v++){u=x[v].split("=");switch(u.length){case 1:z=u[0];y=d;break;case 2:z=u[0];y=decodeURIComponent(u[1].replace(a,l));break}if(z in w){if(typeof w[z]==="string"){w[z]=[w[z]]}w[z].push(y)}else{w[z]=y}}}return w},parseUrl:function(s){if(o===d){o=document.createElement("a")}o.href=s;var t=/^\//.test(o.pathname)?o.pathname:"/"+o.pathname;return{protocol:o.protocol,hostname:o.hostname,pathname:t,port:o.port==="0"?"":o.port,search:o.search,hash:o.hash}},makeUrl:function(t){var s="";if(!t.hostname){s+=t.pathname;s+=t.search}else{s=t.protocol;s+="//";s+=t.hostname;s+=t.port?":"+t.port:"";s+=t.pathname;s+=t.search}return s+=t.hash}};var o;var a=/\+/g;var l=" ";var h="[\\s!\\?\\.\\,:;_\\-\u007e`'\"#\\$&\\*@\\^\\|\\/]";var n="^";n+=h;n+="+";var k=new RegExp(n);var q=h;q+="+";q+="$";var g=new RegExp(q);var r=/<[^>]*>/g;var m="";var b=" ";var c=30;var p="\u2026";var f="start"})(this,jQuery,as);(function(i,f,g){function p(v,A){var z=(v&65535)+(A&65535),w=(v>>16)+(A>>16)+(z>>16);return(w<<16)|(z&65535)}function t(v,w){return(v<<w)|(v>>>(32-w))}function c(B,y,w,v,A,z){return p(t(p(p(y,B),p(v,z)),A),w)}function b(y,w,C,B,v,A,z){return c((w&C)|((~w)&B),y,w,v,A,z)}function j(y,w,C,B,v,A,z){return c((w&B)|(C&(~B)),y,w,v,A,z)}function o(y,w,C,B,v,A,z){return c(w^C^B,y,w,v,A,z)}function a(y,w,C,B,v,A,z){return c(C^(w|(~B)),y,w,v,A,z)}function d(G,B){G[B>>5]|=128<<(B%32);G[(((B+64)>>>9)<<4)+14]=B;var y,A,z,w,v,F=1732584193,E=-271733879,D=-1732584194,C=271733878;for(y=0;y<G.length;y+=16){A=F;z=E;w=D;v=C;F=b(F,E,D,C,G[y],7,-680876936);C=b(C,F,E,D,G[y+1],12,-389564586);D=b(D,C,F,E,G[y+2],17,606105819);E=b(E,D,C,F,G[y+3],22,-1044525330);F=b(F,E,D,C,G[y+4],7,-176418897);C=b(C,F,E,D,G[y+5],12,1200080426);D=b(D,C,F,E,G[y+6],17,-1473231341);E=b(E,D,C,F,G[y+7],22,-45705983);F=b(F,E,D,C,G[y+8],7,1770035416);C=b(C,F,E,D,G[y+9],12,-1958414417);D=b(D,C,F,E,G[y+10],17,-42063);E=b(E,D,C,F,G[y+11],22,-1990404162);F=b(F,E,D,C,G[y+12],7,1804603682);C=b(C,F,E,D,G[y+13],12,-40341101);D=b(D,C,F,E,G[y+14],17,-1502002290);E=b(E,D,C,F,G[y+15],22,1236535329);F=j(F,E,D,C,G[y+1],5,-165796510);C=j(C,F,E,D,G[y+6],9,-1069501632);D=j(D,C,F,E,G[y+11],14,643717713);E=j(E,D,C,F,G[y],20,-373897302);F=j(F,E,D,C,G[y+5],5,-701558691);C=j(C,F,E,D,G[y+10],9,38016083);D=j(D,C,F,E,G[y+15],14,-660478335);E=j(E,D,C,F,G[y+4],20,-405537848);F=j(F,E,D,C,G[y+9],5,568446438);C=j(C,F,E,D,G[y+14],9,-1019803690);D=j(D,C,F,E,G[y+3],14,-187363961);E=j(E,D,C,F,G[y+8],20,1163531501);F=j(F,E,D,C,G[y+13],5,-1444681467);C=j(C,F,E,D,G[y+2],9,-51403784);D=j(D,C,F,E,G[y+7],14,1735328473);E=j(E,D,C,F,G[y+12],20,-1926607734);F=o(F,E,D,C,G[y+5],4,-378558);C=o(C,F,E,D,G[y+8],11,-2022574463);D=o(D,C,F,E,G[y+11],16,1839030562);E=o(E,D,C,F,G[y+14],23,-35309556);F=o(F,E,D,C,G[y+1],4,-1530992060);C=o(C,F,E,D,G[y+4],11,1272893353);D=o(D,C,F,E,G[y+7],16,-155497632);E=o(E,D,C,F,G[y+10],23,-1094730640);F=o(F,E,D,C,G[y+13],4,681279174);C=o(C,F,E,D,G[y],11,-358537222);D=o(D,C,F,E,G[y+3],16,-722521979);E=o(E,D,C,F,G[y+6],23,76029189);F=o(F,E,D,C,G[y+9],4,-640364487);C=o(C,F,E,D,G[y+12],11,-421815835);D=o(D,C,F,E,G[y+15],16,530742520);E=o(E,D,C,F,G[y+2],23,-995338651);F=a(F,E,D,C,G[y],6,-198630844);C=a(C,F,E,D,G[y+7],10,1126891415);D=a(D,C,F,E,G[y+14],15,-1416354905);E=a(E,D,C,F,G[y+5],21,-57434055);F=a(F,E,D,C,G[y+12],6,1700485571);C=a(C,F,E,D,G[y+3],10,-1894986606);D=a(D,C,F,E,G[y+10],15,-1051523);E=a(E,D,C,F,G[y+1],21,-2054922799);F=a(F,E,D,C,G[y+8],6,1873313359);C=a(C,F,E,D,G[y+15],10,-30611744);D=a(D,C,F,E,G[y+6],15,-1560198380);E=a(E,D,C,F,G[y+13],21,1309151649);F=a(F,E,D,C,G[y+4],6,-145523070);C=a(C,F,E,D,G[y+11],10,-1120210379);D=a(D,C,F,E,G[y+2],15,718787259);E=a(E,D,C,F,G[y+9],21,-343485551);F=p(F,A);E=p(E,z);D=p(D,w);C=p(C,v)}return[F,E,D,C]}function q(w){var x,v="";for(x=0;x<w.length*32;x+=8){v+=String.fromCharCode((w[x>>5]>>>(x%32))&255)}return v}function k(w){var x,v=[];v[(w.length>>2)-1]=g;for(x=0;x<v.length;x+=1){v[x]=0}for(x=0;x<w.length*8;x+=8){v[x>>5]|=(w.charCodeAt(x/8)&255)<<(x%32)}return v}function l(v){return q(d(k(v),v.length*8))}function e(x,A){var w,z=k(x),v=[],y=[],B;v[15]=y[15]=g;if(z.length>16){z=d(z,x.length*8)}for(w=0;w<16;w+=1){v[w]=z[w]^909522486;y[w]=z[w]^1549556828}B=d(v.concat(k(A)),512+A.length*8);return q(d(y.concat(B),512+128))}function u(y){var A="0123456789abcdef",w="",v,z;for(z=0;z<y.length;z+=1){v=y.charCodeAt(z);w+=A.charAt((v>>>4)&15)+A.charAt(v&15)}return w}function n(v){return i.unescape(encodeURIComponent(v))}function r(v){return l(n(v))}function m(v){return u(r(v))}function h(v,w){return e(n(v),n(w))}function s(v,w){return u(h(v,w))}f.md5=function(w,x,v){if(!x){if(!v){return m(w)}return r(w)}if(!v){return s(x,w)}return h(x,w)}}(this,jQuery));(function(b,c,a){a.Retargeting={sourceSelector:"#retargeting-pixel",targetClass:"retargeting-pixel",activate:function(d){var f,h,g,e;e=c(d||this.sourceSelector).first();if(e.is("noscript")&&(f=e.text().trim())){h=c("<div>").addClass(this.targetClass).html(f).hide();h.appendTo(document.body)}}}})(this,jQuery,as);jQuery(window).on("load",function(){as.Retargeting.activate()});(function(a,b,c){b.AsEqualizeCopy=function(){var e=b(".equalize .copy");if(e.length>0){var d=0,f=0;e.each(function(g,h){f=b(h).height();d=Math.max(d,f)});e.each(function(g,h){b(h).height(d)})}return this}}(window,jQuery,undefined));(function(f,c,b){var i={};var g="apple.ai",d="deferred",j="TOREAD",e=3000,l;i.url=f.location.pathname.replace(/^\/?([^\/]*)(.*)/g,"/$1/appleinstantfeedback");var k=function(){var m=i.get("NOTREAD");if(!m){return}i.send("NOTREAD",m);i.clear("NOTREAD")};var a=function(){var m=i.get("NOTVIEWED");if(!m){return}i.send("NOTVIEWED",m);i.clear("NOTVIEWED")};var h=function(m){var n=i.get(d+"."+j);if(!n){return}i.clear(d+"."+j);i.set("NOTREAD",n);f.setTimeout(function(){i.send("READ",n,c.proxy(i.clear,null,["NOTREAD"]))},e)};i.init=function(){l=new Storage();k();a();h()};i.setToRead=function(m){i.set(d+"."+j,m)};i.set=function(m,n){l.set(g+"."+m,JSON.stringify(n))};i.get=function(m){var n=l.get(g+"."+m);if(n){return JSON.parse(n)}else{return null}};i.send=function(m,n,o){n.feedType=m;c.ajax({url:i.url,data:n}).done(o)};i.clear=function(m){l.remove(g+"."+m)};i.isAvailable=function(){if(l){return true}else{return false}};c.AsInstantFeedback=i})(this,jQuery);(function(k,m){var g="3.7.2";var d=k.html5||{};var h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var c=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var r;var i="_html5shiv";var a=0;var o={};var e;(function(){try{var u=m.createElement("a");u.innerHTML="<xyz></xyz>";r=("hidden" in u);e=u.childNodes.length==1||(function(){(m.createElement)("a");var w=m.createDocumentFragment();return(typeof w.cloneNode=="undefined"||typeof w.createDocumentFragment=="undefined"||typeof w.createElement=="undefined")}())}catch(v){r=true;e=true}}());function f(u,w){var x=u.createElement("p"),v=u.getElementsByTagName("head")[0]||u.documentElement;x.innerHTML="x<style>"+w+"</style>";return v.insertBefore(x.lastChild,v.firstChild)}function l(){var u=j.elements;return typeof u=="string"?u.split(" "):u}function p(u,v){var w=j.elements;if(typeof w!="string"){w=w.join(" ")}if(typeof u!="string"){u=u.join(" ")}j.elements=w+" "+u;b(v)}function q(u){var v=o[u[i]];if(!v){v={};a++;u[i]=a;o[a]=v}return v}function n(x,u,w){if(!u){u=m}if(e){return u.createElement(x)}if(!w){w=q(u)}var v;if(w.cache[x]){v=w.cache[x].cloneNode()}else{if(c.test(x)){v=(w.cache[x]=w.createElem(x)).cloneNode()}else{v=w.createElem(x)}}return v.canHaveChildren&&!h.test(x)&&!v.tagUrn?w.frag.appendChild(v):v}function s(w,y){if(!w){w=m}if(e){return w.createDocumentFragment()}y=y||q(w);var z=y.frag.cloneNode(),x=0,v=l(),u=v.length;for(;x<u;x++){z.createElement(v[x])}return z}function t(u,v){if(!v.cache){v.cache={};v.createElem=u.createElement;v.createFrag=u.createDocumentFragment;v.frag=v.createFrag()}u.createElement=function(w){if(!j.shivMethods){return v.createElem(w)}return n(w,u,v)};u.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/[\w\-:]+/g,function(w){v.createElem(w);v.frag.createElement(w);return'c("'+w+'")'})+");return n}")(j,v.frag)}function b(u){if(!u){u=m}var v=q(u);if(j.shivCSS&&!r&&!v.hasCSS){v.hasCSS=!!f(u,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")}if(!e){t(u,v)}return u}var j={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:g,shivCSS:(d.shivCSS!==false),supportsUnknownElements:e,shivMethods:(d.shivMethods!==false),type:"default",shivDocument:b,createElement:n,createDocumentFragment:s,addElements:p};k.html5=j;b(m)}(this,document));(function(c,d,b,a,e){a.RelatedLink=b.Control.extend({defaults:{relatedClass:"relatedlink"}},{init:function(){d(":not(a)[data-relatedlink]").addClass(this.options.relatedClass)},hasDragged:false," touchstart":function(){this.hasDragged=false}," touchmove":function(){this.hasDragged=true},":not(a)[data-relatedlink] click":"linkClicked",":not(a)[data-relatedlink] touchend":"linkClicked",linkClicked:function(j,h){var g=d(j).attr("data-relatedlink");var f=d('a[data-relatedlink="'+g+'"]');if(!f||f.length===0){return}if(h.target!==f[0]&&!this.hasDragged){if(f[0].click){f[0].click()}else{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",false,true,c);c.setTimeout(function(){f[0].dispatchEvent(i)},50)}}},})}(this,jQuery,can,as));(function(c,d,b,a,e){a.MetricsLink=b.Control.extend({},{"a[rel='engravingGallery'] click":function(g,f){d.AsMetrics.fireMicroEvent({slot:"",feature:"Engraving-Gallery",part:d.AsMetrics.productSubstring,action:"Selected"},true)},"a[rel='social-sharing'] click":function(g,f){d.AsMetrics.fireMicroEvent({slot:"",feature:d(f.target).attr("class"),part:d.AsMetrics.productSubstring,action:""},true);d.AsMetrics.fireMetricsEvent({events:"event7"})},"a[rel='dataPlan'] click":"fireDataPlanMetrics","a[rel='dataPlan3G'] click":"fireDataPlanMetrics",fireDataPlanMetrics:function(){d.AsMetrics.fireMicroEvent({slot:"",feature:"Learn More 3G",part:d.AsMetrics.productSubstring,action:"Selected"},true)}})}(this,jQuery,can,as));(function(c,d,b,a,e){a.PopupLink=b.Control.extend({defaults:{reWidth:(/w(\d+)(-|$)/i),reHeight:(/h(\d+)(-|$)/i)}},{"a[target^='popup-'] click":function(g,m){var i=d(g).attr("target");var l={location:(i.indexOf("l")!==-1?"yes":"no"),menubar:(i.indexOf("m")!==-1?"yes":"no"),toolbar:(i.indexOf("t")!==-1?"yes":"no"),status:(i.indexOf("s")!==-1?"yes":"no"),scrollbars:(i.indexOf("!b")!==-1?"no":"yes"),resizable:(i.indexOf("!r")!==-1?"no":"yes")};var n=this.options.reWidth.exec(i);var j=this.options.reHeight.exec(i);if(n&&n[1]){l.width=n[1]}if(j&&j[1]){l.height=j[1]}var h=[];for(var k in l){h.push(k+"="+l[k])}h=h.join(",");var f=c.open(d(g).attr("href"),i.replace(/[\-!]/g,"_")||"_blank",h);f.focus();m.preventDefault()}})}(this,jQuery,can,as));(function(c,d,b,a,e){a.SuperLink=b.Control.extend({defaults:{classHover:"superlink-hover",classActive:"superlink-active",jqActive:null,jqActiveSl:null}},{touchHasMoved:false,removeActive:function(){if(this.options.jqActive){this.options.jqActive.removeClass(this.options.classActive);this.options.jqActive=null}if(this.options.jqActiveSl){this.options.jqActiveSl.removeClass(this.options.classActive);this.options.jqActiveSl=null}},".superlink mouseover":"addHover",".superlink mouseout":"removeHover",".superlink touchstart":"addActive",".superlink mousedown":"addActive",".superlink mouseup":"removeActive",".superlink touchend":"triggerSuperlink",".superlink click":"triggerSuperlink",".superlink touchmove":function(){this.touchHasMoved=true},"{window} pageshow":function(g,f){var h=this.options;d("."+h.classHover).removeClass(h.classHover);d("."+h.classActive).removeClass(h.classActive)},addHover:function(h,g){this.touchHasMoved=false;var f=d(h).find("a.superlink");if(!f||f.length===0){return}h.addClass(this.options.classHover)},removeHover:function(h,g){var f=d(h).find("a.superlink");if(!f||f.length===0){return}h.removeClass(this.options.classHover);this.removeActive()},addActive:function(h,g){this.touchHasMoved=false;var f=d(h).find("a.superlink");if(!f||f.length===0){return}this.removeActive();f.addClass(this.options.classActive);h.addClass(this.options.classActive);this.options.jqActive=f;this.options.jqActiveSl=h},triggerSuperlink:function(i,g){this.removeActive();var f=d(i).find("a.superlink");if((!f||f.length===0)||(d(g.target).prop("tagName")==="A"&&!d(g.target).hasClass("superlink"))){return}if(g.target!==f[0]&&!this.touchHasMoved){if(f[0].click){f[0].click()}else{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",false,true,c);c.setTimeout(function(){f[0].dispatchEvent(h)},50)}}}})}(this,jQuery,can,as));(function(c,d,b,a,e){a.ScrollToAnchor=b.Control.extend({defaults:{selectorTarget:".scrollToAnchor",duration:500}},{init:function(){this.scroller=new a.Scroller("html,body",{duration:this.options.duration})},"{selectorTarget} click":function(h,f){var g=d(h.attr("href"));if(g.length>0){this.scroller.scrollTop(g.offset().top)}}})}(this,jQuery,can,as));(function(c,d,b,a,e){a.ToggleClassLink=b.Control.extend({defaults:{selectorTarget:".toggleClass",shrinkAllTarget:".toggleClassShrinkAll"}},{"{selectorTarget} click":function(g,l){var i=g.attr("data-toggleClassType");var m=g.attr("data-toggleClassHeight")==="true";var k=d(g.attr("data-toggleClassNode"));var o=g.attr("data-toggleClassHeightNode")?d(g.attr("data-toggleClassHeightNode")):k;var h=g.attr("data-toggletext");var f=d(g).text();this.className=g.attr("data-toggleClassName");var j=true;var n=i==="toggle"?!k.hasClass(this.className):i==="add";if(n&&m){this.expandHeight(o)}else{if(!n&&m){this.shrinkHeight(o)}}k.toggleClass(this.className,n);if(h!==null){g.attr("data-toggletext",f);d(g).text(h)}},"{shrinkAllTarget} click":function(g,f){this.shrinkOthers(g)},expandHeight:function(f){var j=f.outerHeight();if(j===0){f.css("height","auto");j=f.outerHeight();f.css("height","")}var h=f.css("transition-duration")||"1000ms";h=parseFloat(h,10)*(h.indexOf("ms")===-1?1000:1);h=!d.AsSupport.transition||isNaN(h)?1000:h;var i=null;var g=function(){clearTimeout(i);f.css("transition-property","none");f.css("transition-duration","0");f.height("");c.setTimeout(function(){f.css("transition-property","");f.css("transition-duration","")})};if(h!==0){f.css("height","0px");f.one(d.AsSupport.transitionEndName,g);c.setTimeout(function(){f.css("height",j)},10);c.setTimeout(g,h+20)}this.shrinkOthers(f)},shrinkHeight:function(f){f.css("transition-property","none");f.css("transition-duration","0");f.each(function(){var g=d(this);g.height(g.outerHeight())});c.setTimeout(function(){f.css("height","");f.css("transition-property","");f.css("transition-duration","")},10)},shrinkOthers:function(g){var h=g.attr("data-toggleClassHeightGroup");if(!h){return}var f=d("body").find("[data-toggleClassHeightGroup='"+h+"']");if(f.length>0){f=f.not(g);f.each(function(){var i=d(this);i.css("height",i.outerHeight())});f.removeClass(this.className);this.shrinkHeight(f)}}})}(this,jQuery,can,as));(function(d,e,c,a,g){var f=new c.Map();var b=function b(j){var m=j.prevAll('script[type="application/json"][data-render]').first();var k=j.parent();if(j.length<1||k.length<1){return null}else{if(m.length>0){var i=m.data("componentize-map");if(!i){var h=null;try{h=e.parseJSON(m.text())}catch(l){}i=new c.Map(h||{});m.data("componentize-map",i)}return i}else{return b(k)}}};a.WebComponentize=function(){var h=function h(k,i){var j=e.trim(k.outerHTML);return !i?j:j.replace(/^<([^\s\>]*)([\s\S]*)<\/([^>]*)>$/,"<"+i+" $2</"+i+">")};e("[data-render]:not(script[type='application/json'])").each(function(){var l=e(this);var o=l.is('script[type="text/mustache"]');var i=l.attr("data-render");var j=i===g||i===null;l.attr("data-render",null);l.find("[data-render]").each(function(){var p=e(this).attr("data-render");if(p){e(this).replaceWith(e(h(this,p)))}}).attr("data-render",null);var k=o?l[0].innerHTML:h(l[0],i);var n=b(l)||f;var m=e(c.view.mustache(k)(n));l.replaceWith(m)})}})(this,jQuery,can,as);
/*!
* jQuery++ - 1.0.1 (2013-02-07)
* http://jquerypp.com
* Copyright (c) 2013 Bitovi
* Licensed MIT
*/
(function($){$.toJSON=function(o,replacer,space,recurse){if(typeof(JSON)=="object"&&JSON.stringify){return JSON.stringify(o,replacer,space)}if(!recurse&&$.isFunction(replacer)){o=replacer("",o)}if(typeof space=="number"){space="          ".substring(0,space)}space=(typeof space=="string")?space.substring(0,10):"";var type=typeof(o);if(o===null){return"null"}if(type=="undefined"||type=="function"){return undefined}if(type=="number"||type=="boolean"){return o+""}if(type=="string"){return $.quoteString(o)}if(type=="object"){if(typeof o.toJSON=="function"){return $.toJSON(o.toJSON(),replacer,space,true)}if(o.constructor===Date){var month=o.getUTCMonth()+1;if(month<10){month="0"+month}var day=o.getUTCDate();if(day<10){day="0"+day}var year=o.getUTCFullYear();var hours=o.getUTCHours();if(hours<10){hours="0"+hours}var minutes=o.getUTCMinutes();if(minutes<10){minutes="0"+minutes}var seconds=o.getUTCSeconds();if(seconds<10){seconds="0"+seconds}var milli=o.getUTCMilliseconds();if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}var process=($.isFunction(replacer))?function(k,v){return replacer(k,v)}:function(k,v){return v},nl=(space)?"\n":"",sp=(space)?" ":"";if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push(($.toJSON(process(i,o[i]),replacer,space,true)||"null").replace(/^/gm,space))}return"["+nl+ret.join(","+nl)+nl+"]"}var pairs=[],proplist;if($.isArray(replacer)){proplist=$.map(replacer,function(v){return(typeof v=="string"||typeof v=="number")?v+"":null})}for(var k in o){var name,val,type=typeof k;if(proplist&&$.inArray(k+"",proplist)==-1){continue}if(type=="number"){name='"'+k+'"'}else{if(type=="string"){name=$.quoteString(k)}else{continue}}val=$.toJSON(process(k,o[k]),replacer,space,true);if(typeof val=="undefined"){continue}pairs.push((name+":"+sp+val).replace(/^/gm,space))}return"{"+nl+pairs.join(","+nl)+nl+"}"}};$.evalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}return eval("("+src+")")};$.secureEvalJSON=function(src){if(typeof(JSON)=="object"&&JSON.parse){return JSON.parse(src)}var filtered=src;filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@");filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else{throw new SyntaxError("Error parsing JSON, source is not valid.")}};$.quoteString=function(string){if(string.match(_escapeable)){return'"'+string.replace(_escapeable,function(a){var c=_meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+string+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g;var _meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return $})(jQuery);
/*!
* jQuery++ - 1.0.1 (2013-02-07)
* http://jquerypp.com
* Copyright (c) 2013 Bitovi
* Licensed MIT
*/
(function(a){a.cookie=function(c,m,p){if(typeof m!="undefined"){p=p||{};if(m===null){m="";p.expires=-1}if(typeof m=="object"&&a.toJSON){m=a.toJSON(m)}var g="";if(p.expires&&(typeof p.expires=="number"||p.expires.toUTCString)){var h;if(typeof p.expires=="number"){h=new Date();h.setTime(h.getTime()+(p.expires*24*60*60*1000))}else{h=p.expires}g="; expires="+h.toUTCString()}var o=p.path?"; path="+(p.path):"";var j=p.domain?"; domain="+(p.domain):"";var b=p.secure?"; secure":"";document.cookie=[c,"=",encodeURIComponent(m),g,o,j,b].join("")}else{var f=null;if(document.cookie&&document.cookie!=""){var n=document.cookie.split(";");for(var k=0;k<n.length;k++){var d=a.trim(n[k]);if(d.substring(0,c.length+1)==(c+"=")){f=decodeURIComponent(d.substring(c.length+1));break}}}if(a.evalJSON&&f&&f.match(/^\s*\{/)){try{f=a.evalJSON(f)}catch(l){}}return f}};return a})(jQuery);(function(d,f,h){var c="data-scale-image-",g="data-scale-params-",e="/",b="pxro",a;f.fn.AsImageReplacer=function(i){if(!arguments.length){a.init.call(this)}else{if(typeof i==="string"&&i in a){a[i].call(this)}else{f.error("method "+i+" doesn't exist in jQuery.AsImageReplacer")}}return this};f.fn.AsImageReplacer.getCookieOpts=function(){return{path:"/",domain:".apple.com",expires:730,secure:false}};a={replace:function(j){var i=null;var k=null;this.find("img").each(function(){var p=f(this);var o=null;var m=null;var n=null;var q=null;var l=null;if((!i||!k)&&p.hasClass("ir")){if(p.attr(c+"2")!==h||p.attr(g+"2")!==h){i=j;k=2}else{i=j;k=1}}var r=j!==k&&p.hasClass("ir");if(r){if(p.attr(c+k)){o=c}else{if(p.attr(g+k)){o=g;e="?"}}if(o){m=p.attr("src");n=m.slice(0,m.lastIndexOf(e)+1);l=p.attr(o+k);q=m&&m.slice(m.lastIndexOf("/")+1);if(e==="?"){q=q.substr(q.indexOf("?")+1)}p.attr("src",n+l);p.attr(o+i,q);p.removeAttr(o+k)}}})},init:function(){var j=f.cookie(b);var i=d.devicePixelRatio&&d.devicePixelRatio>=2?"2":"1";var l=d.location.search&&d.location.search.match("debug.pixelRatio");var k=f(this).AsImageReplacer.getCookieOpts();if(l){return}if(d.irOn){if(!j||j!==i){f.cookie(b,!f.AsSupport.isMobileIos?i:1,k);i=parseInt(i,10);if(i&&i>=2&&!f.AsSupport.isMobileIos){a.replace.call(this,j)}}}else{f.cookie(b,1,k)}}}}(this,jQuery));(function(d,e,c,a,b){a.TelLinkReplacer=c.Control.extend({defaults:{telLinkSelector:"[data-tel-link].tel-link",telLinkReplacedClass:"tel-link-replaced"}},{init:function(){var g=this,f=e(this.options.telLinkSelector),h,i=e.AsSupport.isHandheldPhone;c.each(f,function(j){j=e(j);h=j.data("tel-link");if(!h||!i){return}j.removeClass("tel-link").attr("data-tel-link",null);if(j.is("a")){j.attr("href","tel:"+h).addClass(g.options.telLinkReplacedClass)}else{j.wrap('<a class="'+g.options.telLinkReplacedClass+'" href="tel:'+h+'"></a>')}})}});e(function(){new a.TelLinkReplacer("body")})}(this,jQuery,can,as));(function(c,d,b,a,e){a.Base64=b.Control.extend({defaults:{buffer:[],codex:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",}},{init:function(g,f){},decode:function(g){this.base64DecodeEnumerator(g);while(this.moveNext()){var f=this.current;if(f<128){this.options.buffer.push(String.fromCharCode(f))}else{if((f>191)&&(f<224)){this.moveNext();var j=this.current;this.options.buffer.push(String.fromCharCode(((f&31)<<6)|(j&63)))}else{this.moveNext();var h=this.current;this.moveNext();var i=this.current;this.options.buffer.push(String.fromCharCode(((f&15)<<12)|((h&63)<<6)|(i&63)))}}}return this.options.buffer.join("")},base64DecodeEnumerator:function(f){this.input=f;this.index=-1;this.buffer=[];this.current=64},moveNext:function(){if(this.buffer.length>0){this.current=this.buffer.shift();return true}else{if(this.index>=(this.input.length-1)){this.current=64;return false}else{var l=this.options.codex.indexOf(this.input.charAt(++this.index));var k=this.options.codex.indexOf(this.input.charAt(++this.index));var j=this.options.codex.indexOf(this.input.charAt(++this.index));var i=this.options.codex.indexOf(this.input.charAt(++this.index));var h=(l<<2)|(k>>4);var g=((k&15)<<4)|(j>>2);var f=((j&3)<<6)|i;this.current=h;if(j!==64){this.buffer.push(g)}if(i!==64){this.buffer.push(f)}return true}}}})})(this,jQuery,can,as);(function(d,f,c,b,g){var a;b.UtilityNav=c.Control.extend({defaults:{u_account:"#u_account",u_cart:"#u_cart",unav_account:"#unav-account",unav_cart:"#unav-cart",contact_drawer:"#contact-drawer",utility_nav_loading:"#utility-nav-loading",guide_wrap:"#guide_wrap",accountLink:"#u_account a",cartLink:"#u_cart a",u_tele:"#u_tele",needHelpDrawer:"#needhelp_drawer",needHelpButton:"#needhelp",call_apple:"#call-apple",visibleSection:c.compute(null),dataLoaded:c.compute(false),buttonIsVisible:c.compute(false),signinButton:"#unav_sign-in",signoutButton:"#unav_sign-out",createAppleIdLink:"#unav_create-account",cartSignInView:"#unav-your-cart .account-signin",userNameCookie:"aoscn",cookieData:c.compute(),cookieDataPresent:c.compute(false),accountName:"#accountName",honorSymbolPresent:c.compute(false),defaultAccountTextGeo:""}},{omniture_feature_name:"Utility Nav",omniture_property_name:"eVar6",preventClick:false,lockedToNav:false,__timer:null,hoverNodeId:"",__visibleSection:"",loadingTxt:"Loading ...",menuLink:"",currentNavEls:null,utility_nav:"#utility-nav",unsupportedcartmessage:"",cartUrl:"",data:{setUrl:function(h){this.cartUrl=h},getUrl:function(){return this.cartUrl}},account:{userAccount:c.compute(false),set:function(h){f("#unav_sign-in a").attr("href",h.content.signInUrl);f("#unav_sign-out a").attr("href",h.content.signOutUrl);f("#unav_create-account a").attr("href",h.content.createAppleIdUrl);this.userAccount(h.content.displayAccountName)}},init:function(h,i){var l=new b.Base64();this.accountElement=this.element.find(this.options.accountName);var j=f.cookie(this.options.userNameCookie);var w;if(j){w=j.split("~")[0]}var q=f(this.accountElement).text(),m;this.options.defaultAccountTextGeo=q;if(w){m=l.decode(w)}var y,v,u,p,x=320,t=30,n=f(this.options.accountLink),k=f(this.options.cartLink);f("#unav-cart .checkout a").click(function(){b.FcsDataStorage.flushFcsData()});if(f(this.options.accountLink).length>0){v=f(this.options.accountLink).offset().left;u=f("#utility-nav").offset().left;y=v-(u-x)+t;f("head").append("<style>.unav-account:before{left: "+y+"px;}</style>")}if(f.AsSupport.iosVersion>0){if(n.length>0){n.prop("href","#")}if(k.length>0){k.prop("href","#")}}if(this.options.surveyData){this.options.surveyData=new c.Map(this.options.surveyData);var o=new b.WebSurvey(this.surveyElement(),{surveyData:this.options.surveyData,surveyEVar:c.compute("evar5"),surveyFeature:c.compute("Survey")});var s=new b.Materializer(o.element,{materialize:this.options.buttonIsVisible})}this.ariaInit();f("#utilitynav .ui-button:visible").attr("tabindex",0);p=f("#utilitynav a:visible, #utilitynav button.needhelp:visible, #utilitynav .ui-button:visible");p.each(function(){f(this).keydown(function(A){var D=A.currentTarget,C=A.keyCode,B=p.first().get(0),z=p.last().get(0);if(C===f.AsEvent.Keyboard.ArrowLeft){if(D!==B){p[f.inArray(D,p)-1].focus()}else{z.focus()}}else{if(C===f.AsEvent.Keyboard.ArrowRight){if(D!==z){p[f.inArray(D,p)+1].focus()}else{B.focus()}}}})});var r=this;this.account.userAccount.bind("change",function(z,B,A){if(B){r.showAccountData(m,q);if(f(r.options.accountName).length>0){v=f(r.options.accountName).offset().left;u=f("#utility-nav").offset().left,t=Math.ceil((f(r.options.accountName).innerWidth())/3);y=v-(u-x)+t;f("head").append("<style>.unav-account:before{left: "+y+"px;}</style>")}}else{f(r.options.u_account).removeAttr("style");if(f(r.options.accountName).length>0){v=f(r.options.accountName).offset().left;u=f("#utility-nav").offset().left,t=Math.ceil((f(r.options.accountName).innerWidth())/3);y=v-(u-x)+t;f("head").append("<style>.unav-account:before{left: "+y+"px;}</style>")}}});this._adjustTeleDrawer()},showAccountData:function(i,j){if(i!==null&&i!==j){this.options.cookieData(i)}var h=f.cookie("sfa");if(this.options.cookieData()!==null&&this.options.cookieData()!==g){new b.TextBinding(this.accountElement,{content:this.options.cookieData,animate:false});this.options.cookieDataPresent(true);if(h&&h.toLowerCase().indexOf("jp")!==-1){this.options.honorSymbolPresent(true)}}f(this.options.u_account).removeAttr("style");new b.Materializer("#honorificText",{materialize:c.compute(this.options.honorSymbolPresent())});new b.Materializer(this.options.signinButton,{materialize:c.compute(!this.options.cookieDataPresent())});new b.Materializer(this.options.signoutButton,{materialize:c.compute(this.options.cookieDataPresent()),});new b.Materializer(this.options.createAppleIdLink,{materialize:c.compute(!this.options.cookieDataPresent())});new b.Materializer(this.options.cartSignInView,{materialize:c.compute(!this.options.cookieDataPresent())});new b.Materializer(this.options.signinButton+" a",{materialize:c.compute(!this.options.cookieDataPresent())});new b.Materializer(this.options.signoutButton+" a",{materialize:c.compute(this.options.cookieDataPresent()),});new b.Materializer(this.options.createAppleIdLink+" a",{materialize:c.compute(!this.options.cookieDataPresent())});new b.Materializer(this.options.cartSignInView+" a",{materialize:c.compute(!this.options.cookieDataPresent())})},"{window} pageshow":function(k,i){if(i.originalEvent.persisted){var h=document.getElementById("accountName");var l=f.cookie(this.options.userNameCookie);var j;if(l){j=l.split("~")[0]}var m;if(j===null||j===g){f(h).text(this.options.defaultAccountTextGeo);f(this.options.u_account).removeAttr("style");new b.Materializer("#honorificText",{materialize:c.compute(false)});new b.Materializer(this.options.signinButton,{materialize:c.compute(true)});new b.Materializer(this.options.signoutButton,{materialize:c.compute(false),});new b.Materializer(this.options.createAppleIdLink,{materialize:c.compute(true)});new b.Materializer(this.options.cartSignInView,{materialize:c.compute(true)});new b.Materializer(this.options.signinButton+" a",{materialize:c.compute(true)});new b.Materializer(this.options.signoutButton+" a",{materialize:c.compute(false),});new b.Materializer(this.options.createAppleIdLink+" a",{materialize:c.compute(true)});new b.Materializer(this.options.cartSignInView+" a",{materialize:c.compute(true)})}}},"{accountLink} focus":"keyboardShow","{cartLink} focus":"keyboardShow","{needHelpButton} focus":"keyboardShow","{call-apple} focus":function(i,h){this.menuLink="call-apple";i.addClass("open");this.onclicked(i,h)},"{call_apple} blur":"closeMenu","{u_account} click":"onclicked","{u_account} mouseleave":"onmouseleave","{u_cart} click":"onclicked","{u_cart} mouseleave":"onmouseleave","{unav_account} mouseenter":"onmouseenter","{unav_account} mouseleave":"onmouseleave","{needHelpDrawer} mouseenter":"onmouseenter","{needHelpDrawer} mouseleave":"onmouseleave","{utility_nav_loading} mouseenter":"onmouseenter","{utility_nav_loading} mouseleave":"onmouseleave","{unav_cart} mouseenter":"onmouseenter","{unav_cart} mouseleave":"onmouseleave","{needHelpButton} click":"onclicked","{needHelpButton} mouseleave":"onmouseleave","{call-apple} click":function(i,h){i.addClass("open");this.onclicked(i,h)},"{call_apple} mouseleave":"onmouseleave","{contact_drawer} mouseenter":"onmouseenter","{contact_drawer} mouseleave":"onmouseleave",focus:"keyboardShow",keydown:"keyDown",click:"clickHandler","{document.body} click":"closeMenu","{document.body} touchend":function(i,h){var j=f(h.target);if(j.closest("#guide_wrap").length===0||j.closest("#u_chat").length===1){this.closeMenu(i,h)}},"#site-search-query keydown":"closeMenu","{visibleSection} change":function(k,h,j,i){this.accountVisible();this.cartVisible();this.drawerVisible();this.needHelpDrawerVisible();this.setVisibleSection(j)},"{dataLoaded} change":function(){this.accountVisible();this.cartVisible()},ariaInit:function(){function h(j,i,k){if(i){f(j).attr("aria-haspopup","true")}if(k){f(j).attr("aria-owns",k)}return j}if(f(this.options.accountLink).length>0){h(this.options.accountLink,true,"unav-account")}if(f(this.options.needHelpButton).length>0){h(this.options.needHelpButton,true,"needhelp_drawer")}h(this.options.cartLink,true,"unav-cart");f(this.options.unav_account).attr("aria-hidden","true");f(f(this.options.unav_account).find("ul")[0]).attr("role","menu");f(this.options.unav_cart).attr("aria-hidden","true");f(this.options.unav_cart).attr("role","menu");f(this.options.unav_cart).attr("role","menu");f(this.options.call_apple).attr("aria-describedby","contact-drawer");f(this.options.contact_drawer).attr("role","tooltip");f(this.options.contact_drawer).attr("aria-hidden","true");f("#utility-nav-content").attr("aria-live","polite");f(this.options.unav_account).attr("tabindex",-1);f(this.options.needHelpDrawer).attr("aria-hidden","true")},removeAriaAlert:function(){var h=f("#ariaLoadingAlert");if(h.length>0){h.remove()}},createAriaAlert:function(i,h){this.removeAriaAlert();f("p",{role:"alert","aria-live":h||"polite",id:"ariaLoadingAlert",style:"border: 0; clip: rect(0 0 0 0); height: 1px; margin: -1px; overflow: hidden; padding: 0; position: absolute; width: 1px;"}).appendTo(document.body)},ariaObserveVisible:function(k,l){var i=this;var j=(function h(m){switch(m){case ("accountVisible"):return f(i.options.unav_account);case ("cartVisible"):return f(i.options.unav_cart);case ("drawerVisible"):return f(i.options.contact_drawer);case ("needHelpDrawerVisible"):return f(i.options.needHelpDrawer);default:return g}})(l);if(j){f(j).attr("aria-hidden",!k);if(l==="needHelpDrawerVisible"){f(this.options.needHelpButton).attr("aria-expanded",k)}}},clickHandler:function(j,h){var k=j.parent().parent().attr("id")==="breadcrumb",i=j.attr("id").indexOf("u_")!==-1||j.attr("id").indexOf("unav-")!==-1;if(f.AsSupport.iosVersion>0){this.touchHandler(h,true)}else{if(this.menuLink&&i){h.preventDefault();this.triggerKeyOpen(h)}else{if(!k){if(i){h.preventDefault();this.onclicked(j.parent())}}}}},touchHandler:function(h,i){var l,k,j=f(h.target);if(j[0].id.trim()==="accountName"){j=j.parent()}if(j.prop("id")==="call-apple"||j.prop("id")==="needhelp"){l=j.prop("id")}else{l=j.parent().prop("id")||false;k=j.attr("aria-haspopup");if(l&&l.indexOf("u_")===-1){l=j.parent().parent().prop("id");if(!k){k=j.parent().attr("aria-haspopup")}}}if(l&&(l==="call-apple"||l==="needhelp"||k==="true")){h.preventDefault();h.stopImmediatePropagation();if(i){if(this.options.visibleSection()!==l){this.options.visibleSection(l)}else{this.options.visibleSection(null)}}}},keyboardShow:function(i,h){var j=i.parent().prop("id")||i.prop("id")||false;if(j&&(j==="call-apple"||j==="needhelp"||j.indexOf("u_")!==-1)){this.menuLink=j;h.preventDefault()}else{this.lockedToNav=false;this.menuLink=g}},closeMenu:function(j,h){var k=j,m=k.attr("id"),i=this,l=f(this.options.contact_drawer);do{if(k&&m==="utility-nav"||m==="needhelp"||m==="u_account"||m==="u_cart"||k.id==="contact-drawer"||k.id==="call-apple"){return}k=k.parent()}while(k&&k.is("body"));if(l.length>0&&f.contains(l.get(0),h.target)){return}this.lockedToNav=false;this.options.visibleSection(null);d.setTimeout(function(){if(l.length>0&&l.hasClass("open-drawer")){l.removeClass("open-drawer");f(i.options.call_apple).removeClass("open");i.options.visibleSection(null)}},100)},keyboardNavDataLoadCallback:function(){var h=f("#unav-cart .checkout a")[0];if(h.length>0&&typeof(h.search)!=="undefined"&&h.search!==null){h.search=b.FcsDataStorage.appendFcsData(h.search)}if(this.lockedToNav){this.currentNavEls=f(this.getVisibleNavContents());this.currentNavEls.first().focus()}},getNodeFromNav:function(h){switch(h){case"u_account":return this.options.unav_account;case"needhelp":return this.options.needHelpDrawer;case"u_cart":return this.options.unav_cart;case"call-apple":return this.options.contact_drawer;default:return""}},getLeftValue:function(){var j=f(".contact"),n,i,h,l,k,m,o;if(this.options.call_apple.length>0){i=j.offset().left;h=f(".user-navigation").offset().left;o=f("#contact-drawer").clone();o.css("text-align","-9999px");f(document.body).append(o);l=o.width();o.remove();k=j.width();m=l-k;n=(i-h)-m/2;n=Math.round(n);f(this.options.contact_drawer).css("left",n)}},getVisibleNavContents:function(){var m=f(this.getNodeFromNav(this.menuLink)+" a").add(this.getNodeFromNav(this.menuLink)+" button"),l=[];for(var k=0,h=m.length;k<h;k++){if(m[k]&&m[k].style.display!=="none"){var j=f(m[k]).hasClass("hide");if(!j){l.push(m[k])}}}return l},keyDown:function(h,p){var m=p.target,r=p.keyCode,k=this.options.visibleSection(),j=(h.parent().parent().attr("id")==="breadcrumb"),q=this.currentNavEls,l=m.parentElement.getAttribute("role"),i=m.getAttribute("aria-haspopup"),n,o;if(l==="presentation"&&i!=="true"){return}if(r===f.AsEvent.Keyboard.Esc&&this.visibleSection){p.preventDefault();if(f("#"+k).children("a").length){k=f("#"+this.options.visibleSection()+" a").get(0)}else{if(f("#"+k+" button").length){k=f("#"+k+" button").get(0)}else{k=f("#"+this.options.visibleSection())}}k.focus();this.options.visibleSection(null);this.lockedToNav=false;return}if(m.id==="call-apple"){if(r===f.AsEvent.Keyboard.Return||r===f.AsEvent.Keyboard.Space){this.onclicked(f(m),p);return}else{return}}if(m.id==="masthead-chat-button"||f(m).closest("#concierge-drawer").length){return}if(this.lockedToNav&&(r===f.AsEvent.Keyboard.Tab||r===f.AsEvent.Keyboard.ArrowDown)){n=q.first().get(0);o=q.last().get(0);if(m===o){p.preventDefault();n.focus()}else{p.preventDefault();q[f.inArray(m,q)+1].focus()}return}if(this.lockedToNav&&r===f.AsEvent.Keyboard.ArrowUp){n=q.first().get(0);o=q.last().get(0);if(m===n){p.preventDefault();o.focus()}else{p.preventDefault();q[f.inArray(m,q)-1].focus()}return}if(!j&&!this.lockedToNav&&(r===f.AsEvent.Keyboard.Return||r===f.AsEvent.Keyboard.Space||r===f.AsEvent.Keyboard.ArrowUp||r===f.AsEvent.Keyboard.ArrowDown)){p.preventDefault();this.triggerKeyOpen(p)}},triggerKeyOpen:function(h){var i=this;h.preventDefault();if(this.menuLink!==this.__visibleSection){this.lockedToNav=false}if(this.menuLink==="u_account"){this.fireEvent({action:"Account"})}else{if(this.menuLink==="u_cart"){this.fireEvent({action:"Cart"})}else{if(this.menuLink==="call-apple"){this.fireEvent({eVar:"prop41",feature:"Chat",action:"Call 800-MY-APPLE link"})}else{if(this.menuLink==="needhelp"){this.fireEvent({eVar:"prop41",feature:"Just ask",action:"Selected"})}}}}if(this.menuLink&&!this.lockedToNav){h.preventDefault();this.hoverNodeId=this.menuLink;this.options.visibleSection(this.menuLink);if(this.menuLink==="u_account"||h.type!=="click"){this.lockedToNav=true}this.currentNavEls=f(this.getVisibleNavContents());if(h.type!=="click"){this.setDelay(function(){i.currentNavEls=f(i.getVisibleNavContents());i.currentNavEls.first().focus()},100)}else{this.currentNavEls.first().focus()}}else{if(this.menuLink&&this.lockedToNav){this.lockedToNav=false;this.options.visibleSection(null)}}},focusCurrentNavEls:function(){this.currentNavEls.first().focus()},surveyElement:function(){var h=this.options.surveyData;var k=decodeURIComponent(h.surveyURL);var j=d.s;function m(o){o+="=";var n=document.cookie.split(";");for(var p=0;p<n.length;p++){var q=n[p];while(q.charAt(0)===" "){q=q.substring(1,q.length)}if(q.indexOf(o)===0){return q.substring(o.length,q.length)}}return null}var i=new Date();k+=(k.indexOf("?")===-1?"?":"&")+"Pagename="+encodeURIComponent(j.pageName)+"&visitorID="+encodeURIComponent(m("s_vi"))+"&hit_time_gmt="+encodeURIComponent(i.toGMTString())+"&OS="+encodeURIComponent(j.n.oscpu);var l=f('<ul id = "surveyUl"><li><a target="_blank" href="'+k+'"><span>'+h.surveyButtonText+"</span></a></li></ul>");l.css("float","left");this.surveyElementId=l.attr("id");if(l.length>0){f("#guide_wrap").prepend(l)}return l},"show.survey":function(){this.options.buttonIsVisible(true);f.AsMetrics.fireMicroEvent({feature:"Survey",action:"displayed"})},"hide.survey":function(){this.options.buttonIsVisible(false)},discardCartData:function(){this.options.dataLoaded(false)},visibleSection:function(){return this.__visibleSection},loadCartData:function(i){var h=0,j="";if(i.unsupportedMessage){this.unsupportedcartmessage=i.unsupportedMessage}if(i.items){h=i.items.length}f("#unav-cart p.view-link a").attr("href",i.viewAllUrl);if(h>0){f(".checkout a").attr("href",i.checkOutUrl).show();f("#unav-your-cart .unav-your-cart-title").show();f("#unav-cart .checkout").show();f.each(i.items,function(k,l){j+='<li class="first">';j+='<a href="'+l.productDetailsUrl+'" class="media-block block">';j+='<img src="'+l.imageUrl+'" class="media" alt="">';j+='<span class="content">'+l.description+"</span></a></li>"});f("#unav-your-cart ul").html(j).show();f("#unav-your-cart .empty-cart-message").hide();f("#unav_cart-sign-in").hide()}else{f(".checkout a").hide();f(".cart-list a").hide();f("#unav-your-cart .unav-your-cart-title").hide();f("#unav-cart .checkout").hide();f("#unav-your-cart ul").hide();f("#unav-your-cart .empty-cart-message").show()}this.dataFinishedLoading()},dataFinishedLoading:function(){f(this.options.utility_nav_loading).removeClass("open");this.removeAriaAlert();this.options.dataLoaded(true);f(this.options.unav_cart).addClass("open")},setVisibleSection:function(l){var o,m,t=this,n=t.__visibleSection,q=0,p=f(this.utility_nav),h=f(this.options.u_cart),i=f(this.options.u_account),k=f(this.options.call_apple),r=f(this.options.u_tele),j=f(this.options.needHelpDrawer),s;o=f("#"+n);if(l===null){p.removeClass("open")}else{p.addClass("open")}if(n&&o.length>0){m=o.attr("id");if(m==="u_account"){f(this.options.unav_account).removeClass("open")}else{if(m==="u_cart"){f(this.options.utility_nav_loading).removeClass("open");f(this.options.unav_cart).removeClass("open")}else{if(m==="call-apple"){f(this.options.contact_drawer).removeClass("open-drawer");f(this.options.call_apple).removeClass("open")}else{if(m==="needhelp"){j.removeClass("open-drawer")}}}}k.removeClass("open");i.removeClass("open");h.removeClass("open");r.removeClass("open")}o=f("#"+l);if(l&&o.length>0){m=o.attr("id");if(m==="u_account"){f(t.options.unav_account).addClass("open");i.addClass("open")}else{if(m==="u_cart"&&this.options.dataLoaded()){f(t.options.unav_cart).addClass("open")}else{if(m==="call-apple"){t.getLeftValue();f(t.options.contact_drawer).addClass("open-drawer");k.addClass("open")}else{if(m==="needhelp"){j.addClass("open-drawer");r.addClass("open")}}}}if(m==="u_cart"){h.addClass("open")}}if(l&&!this.options.dataLoaded()&&l==="u_cart"){f(this.options.utility_nav_loading).addClass("open");this.createAriaAlert(f("#utility-nav-loading .replaced").html||this.loadingTxt);c.ajax({url:t.data.getUrl(),dataType:"json jsonrpc"}).done(function(u){s=u.content.cart;t.loadCartData(s);t.keyboardNavDataLoadCallback()})}t.__visibleSection=l},accountVisible:function(){var h=this,i;d.setTimeout(function(){i="u_account"===h.__visibleSection;h.ariaObserveVisible(i,"accountVisible");h.addMenuitemRoles();return i},0)},cartVisible:function(){var h=this,i;d.setTimeout(function(){i="u_cart"===h.__visibleSection;h.ariaObserveVisible(i,"cartVisible");h.addMenuitemRoles();return i},0)},drawerVisible:function(){var h=this,i;d.setTimeout(function(){i="call-apple"===h.__visibleSection;h.ariaObserveVisible(i,"drawerVisible");return i},0)},needHelpDrawerVisible:function(){var h=this,i;d.setTimeout(function(){i="needhelp"===h.__visibleSection;h.ariaObserveVisible(i,"needHelpDrawerVisible");return i},0)},setDelay:function(i,h){if(typeof(i)==="function"){var j=d.setTimeout(i,h);return j}},addMenuitemRoles:function(){var h=this;d.setTimeout(function(){if(f(h.getVisibleNavContents())){f.each(f(h.getVisibleNavContents()),function(j,k){f(k).attr("role","menuitem");f(k).blur(function(){d.setTimeout(function(){if(f.inArray(document.activeElement,f(h.getVisibleNavContents()))===-1){h.closeMenu(f(document.activeElement),h)}},250)});f(k).keydown(function(i){var l=i.keyCode;if(l===f.AsEvent.Keyboard.Space){this.click()}})})}},300)},fireEvent:function(h){h=h||{action:"unknown"};if(!h.eVar){h.feature=this.omniture_feature_name;h.eVar=this.omniture_property_name}f.AsMetrics.fireMicroEvent(h)},unsupportedCheckoutCheck:function(){var h=this.unsupportedcartmessage;if(h){d.alert(h);return false}},onclicked:function(h,p){var n=this;p.preventDefault();var j=jQuery.extend(true,{},p);d.setTimeout(function(){if(p.type!=="click"&&document.activeElement===p.target&&p.target.id!=="call-apple"&&p.target.id!=="needhelp"){n.triggerKeyOpen(j);return}});var k=f(".search-auto-complete ul"),i=h.attr("id"),o="",q=n;if(k.length>0){k.css("display","none")}if(f.AsSupport.iosVersion>0){return}if(q.__timer){d.clearTimeout(q.__timer);q.__timer=null}function m(){q.__timer=null;q.options.visibleSection(o)}function l(){q.__timer=null;q.lockedToNav=false;q.options.visibleSection(null)}switch(i){case"u_account":q.fireEvent({action:"Account"});case"unav-account":o="u_account";break;case"u_cart":q.fireEvent({action:"Cart"});case"utility-nav-loading":case"unav-cart":o="u_cart";break;case"call-apple":q.fireEvent({eVar:"prop41",feature:"Chat",action:"Call 800-MY-APPLE link"});case"contact-drawer":o="call-apple";break;case"needhelp":q.fireEvent({eVar:"prop41",feature:"Just ask",action:"Selected"});o="needhelp";break;default:throw new Error("Invalid element ID")}if(o===q.__visibleSection){q.__timer=n.setDelay(c.proxy(l,q),150)}else{if(o){q.__timer=n.setDelay(c.proxy(m,q),150)}}q.hoverNodeId=i},onmouseenter:function(i){var h=this;h.hoverNodeId=i.attr("id");if(h.__timer){d.clearTimeout(h.__timer);h.__timer=null}},onmouseleave:function(k){var j=k.attr("id"),i=this;if(j!==i.hoverNodeId){return}if(i.__timer){d.clearTimeout(i.__timer);i.__timer=null}function h(){i.__timer=null;i.lockedToNav=false;i.options.visibleSection(null)}i.__timer=this.setDelay(c.proxy(h,i),2000);i.hoverNodeId=""},_adjustTeleDrawer:function(){var j=f(this.options.needHelpDrawer);var k=f(this.options.needHelpButton);var l=k.width();var i=j.width();var h=(i-l)/2;j.css({left:-Math.round(h)})}});function e(h,i){if(!a){if(arguments.length>0){a=new b.UtilityNav(h,i)}}return a}b.UtilityNav.singleton=e})(this,jQuery,can,as);
/*!
 * CanJS - 2.1.0
 * http://canjs.us/
 * Copyright (c) 2014 Bitovi
 * Wed, 07 May 2014 14:59:26 GMT
 * Licensed MIT
 * Includes: can/construct/super
 * Download from: http://canjs.com
 */
(function(b){var a=(function(e,c){var f=e.isFunction,d=/xyz/.test(function(){return this.xyz})?/\b_super\b/:/.*/;e.Construct._overwrite=function(h,i,g,j){h[g]=f(j)&&f(i[g])&&d.test(j)?function(k,l){return function(){var n=this._super,m;this._super=i[k];m=l.apply(this,arguments);this._super=n;return m}}(g,j):j};e.Construct._inherit=function(j,g,i){i=i||j;for(var h in j){e.Construct._overwrite(i,g,h,j[h])}};return e})(window.can,b)})();(function(c,d,b,a,e){a.WebSurvey=b.Control.extend({defaults:{surveyEVar:b.compute(null),surveyFeature:b.compute(null),surveyCallback:b.noop,alreadyShown:b.compute(false),surveyData:new b.Map({trafficPercentage:15})},storageToken:"csat_last_surveyed_date",Behaviors:{LAST_SURVEY_THRESHOLD:180*1000*60*60*24,DAYS_OF_WEEK:["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"]},hasElapsedThresholdSinceLastSurvey:function(g){if(g){var h=(new Date(g)).getTime();var f=(new Date()).getTime();if(f-h-this.Behaviors.LAST_SURVEY_THRESHOLD<0){return false}}return true},isWithinSurveyDateRange:function(g,j){var h=new Date();var f=new Date(g);var i=new Date(j);if(isNaN(f.valueOf())&&isNaN(i.valueOf())){return false}return f<=h&&h<=i},isWithinSurveyTimeRange:function(j,l){if(!(j||l)){return true}var i=new Date();var p=j.split(":");var m=l.split(":");if(p.length===2&&m.length===2){var f=parseInt(p[0],10);var n=parseInt(p[1],10);var o=parseInt(m[0],10);var h=parseInt(m[1],10);if(f>23||o>23||n>59||h>59){return false}if(f>o){o+=24;if(f>i.getHours()){f=f-24;o=o-24}}var g=new Date(new Date().setHours(f)).setMinutes(n);var k=new Date(new Date().setHours(o)).setMinutes(h);return g<=i&&i<=k}return false},isWithinSurveyDayOfWeek:function(f){var g=new Date(),h=this.Behaviors.DAYS_OF_WEEK[g.getDay()];return(f||[]).indexOf(h)!==-1},isWithinSurveyOses:function(f){return(f||[]).indexOf(d.AsSupport.os)!==-1},isWithinRandomSurveyRange:function(f){return Math.ceil(Math.random()*100)<=parseInt(f,10)},isNotARepeatSurveyForReferrer:function(h){if(d.type(h)==="string"){h=[h]}var j=d.AsEnv.getReferrer();for(var g=0,f=h.length;g<f;g++){if(h[g]===""||j.indexOf(h[g])>0){return true}}return false},isCartValueInSurveyRange:function(f,g){return f>(g&&parseFloat(g)||-Infinity)}},{surveyEnableTimeout:null,setup:function(h,f){var i=new b.Map({}),g="surveyDelay";f.surveyDelay=b.compute(function(j){if(typeof j!=="undefined"){i.attr(g,parseFloat(j)*1000)}else{return i.attr(g)}});this._super(h,f)},init:function(){this.options.alreadyShown=b.compute(false);this.options.surveyDelay(this.options.surveyData.attr("timeSpentOnPage"))}," click":"recordSurveyStart"," {surveyDelay} change":"resetEnableTimeout",resetEnableTimeout:function(){var f=this;if(this.surveyEnableTimeout){c.clearTimeout(this.surveyEnableTimeout);delete this.surveyEnableTimeout}this.surveyEnableTimeout=c.setTimeout(function(){f.willEnableSurvey()},this.options.surveyDelay())},recordSurveyStart:function(){d.AsMetrics.fireMicroEvent({eVar:this.options.surveyEVar(),feature:this.options.surveyFeature(),action:"selected"});(new Storage()).set(this.constructor.storageToken,new Date());this.disableSurvey()},willEnableSurvey:function(){if(this.shouldEnableSurvey()){this.enableSurvey()}},willDisableSurvey:function(){if(this.shouldDisableSurvey()){this.disableSurvey()}},shouldDisableSurvey:function(){return !this.shouldEnableSurvey()},shouldEnableSurvey:function(){var f=new Storage();return !this.options.alreadyShown()&&this.constructor.hasElapsedThresholdSinceLastSurvey(f.get(this.constructor.storageToken))&&this.constructor.isWithinSurveyDateRange(this.options.surveyData.attr("startDate"),this.options.surveyData.attr("endDate"))&&this.constructor.isWithinSurveyTimeRange(this.options.surveyData.attr("surveyStart"),this.options.surveyData.attr("surveyEnd"))&&this.constructor.isWithinSurveyDayOfWeek(this.options.surveyData.attr("activeDays"))&&this.constructor.isWithinSurveyOses(this.options.surveyData.attr("operatingSystem"))&&this.constructor.isWithinRandomSurveyRange(this.options.surveyData.attr("trafficPercentage"))&&this.constructor.isNotARepeatSurveyForReferrer(this.options.surveyData.attr("referrer"))&&this.constructor.isCartValueInSurveyRange(this.getPageCartValue(),this.options.surveyData.attr("cartValue"))},getPageCartValue:function(){return Infinity},enableSurvey:function(){this.element.trigger("show.survey");this.options.alreadyShown(true)},disableSurvey:function(){this.element.trigger("hide.survey")}})})(this,jQuery,can,as);
/*!
* jQuery++ - 1.0.1 (2013-02-07)
* http://jquerypp.com
* Copyright (c) 2013 Bitovi
* Licensed MIT
*/
(function(d){var a=/[^\[\]]+/g,b=function(e){if(d.isNumeric(e)){return parseFloat(e)}else{if(e==="true"){return true}else{if(e==="false"){return false}else{if(e===""||e===null){return undefined}}}}return e},c=function(h,g,j,k,i,e,l){var f=k.shift();l=l?l+"."+f:f;if(k.length){if(!j[f]){j[f]={}}c(h,g,j[f],k,i,e,l)}else{if(l in e&&g!="radio"&&!d.isArray(j[f])){if(f in j){j[f]=[j[f]]}else{j[f]=[]}}else{e[l]=true}if((g=="radio"||g=="checkbox")&&!h.is(":checked")){return}if(!j[f]){j[f]=i}else{j[f].push(i)}}};d.fn.extend({formParams:function(f){var e;if(!!f===f){e=f;f=null}if(f){return this.setParams(f)}else{return this.getParams(e)}},setParams:function(e){this.find("[name]").each(function(){var g=d(this),f=e[g.attr("name")];if(f!==undefined){if(g.is(":radio")){if(g.val()==f){g.attr("checked",true)}}else{if(g.is(":checkbox")){f=d.isArray(f)?f:[f];if(d.inArray(g.val(),f)>-1){g.attr("checked",true)}}else{g.val(f)}}}})},getParams:function(h){var f={},e={},g;this.find("[name]:not(:disabled)").each(function(){var m=d(this),j=m.attr("type"),i=m.attr("name"),k=m.val(),l;if(j=="submit"||!i){return}l=i.match(a);if(!l.length){l=[i]}if(h){k=b(k)}c(m,j,f,l,k,e)});return f}});return d})(jQuery);(function(c,d,b,a,e){a.Materializer=b.Control.extend({defaults:{transitionEnd:null,materialize:b.compute(false),shouldMaterialize:function(f){return !!f},shownCallback:b.noop,hiddenCallback:b.noop,appearanceChangedCallback:b.noop},Behavior:{GoneToHideDelay:20},UiState:{Gone:"gone",Hide:"hide"}},{materializeClassName:null,canTransition:null,init:function(){var g=[this.constructor.UiState.Gone];var h=["materializer"];var f=this.options.materialize();this.canTransition=!!(this.options.transitionEnd=d.AsSupport.transitionEndName);if(this.canTransition){g.push(this.materializeClassName=this.constructor.UiState.Hide);this.on()}else{this.materializerClassName=this.constructor.UiState.Gone}if(!this.options.materialize()){h=h.concat(g)}this.element.addClass(h.join(" "));if(f){this.updateAppearance(this.options.materialize,{},true,false)}},"{materialize} change":"updateAppearance","{transitionEnd}":"updatePresence",updatePresence:function(g,f){if(!this.options.shouldMaterialize(this.options.materialize())){this.makeHidden()}},makeHidden:function(){this.element.addClass(this.constructor.UiState.Gone);var f=this.getCallback("hiddenCallback");if(f){f.call(this);this.clearCallback("hiddenCallback")}},makeShown:function(){this.element.removeClass(this.materializeClassName);var f=this.getCallback("shownCallback");if(f){f.call(this);this.clearCallback("shownCallback")}},appearanceTimeout:null,clearAppearanceTimeout:function(){if(this.appearanceTimeout){clearTimeout(this.appearanceTimeout);delete this.appearanceTimeout}},updateAppearance:function(k,g,j,i){var h=this;this.clearAppearanceTimeout();var l=this.options.shouldMaterialize(j);if(l){this.element.removeClass(this.constructor.UiState.Gone);if(this.canTransition){this.appearanceTimeout=setTimeout(function(){h.clearAppearanceTimeout();h.makeShown()},this.constructor.Behavior.GoneToHideDelay)}else{this.makeShown()}}else{if(this.canTransition){this.element.addClass(this.materializeClassName)}else{this.makeHidden()}}var f=this.getCallback("appearanceChangedCallback");if(f){f.call(this,l)}},getCallback:function(f){var g=this.options[f];return g.isComputed?g():g},clearCallback:function(f){var g=this.options[f];if(g.isComputed){g(b.noop)}},destroy:function(){this.clearAppearanceTimeout();this._super()}})})(this,jQuery,can,as);(function(d,e,c,a,f){var b=e.AsSupport;a.MaterializerComponent=c.Component.extend({tag:"materializer",scope:{transitionEnd:b.transitionEndName||"NO_TRANSITION",dMat:"data-materializer",dAct:"data-click",dGroup:"data-group",dataUid:"@",dataClickaway:"@",dataHideHeight:"@",dataShowHeight:"@",dataShownInit:"@",dataShowClass:"@",dataHideClass:"@",dataGoneClass:"@",dataGroup:"@",dataShown:null,dataShowDone:false,dataHideDone:false},events:{inserted:function(){if(this.scope.attr("inserted")){return}this.scope.attr("inserted",true);var h=e.proxy(function(i,j){var k=this.scope.attr(i);if(k===null||k===f){this.scope.attr(i,j)}},this);h("dataHideClass","hide");h("dataGoneClass","gone");h("dataShowClass","show");h("dataShown",this.scope.attr("dataShownInit")==="true"&&!this.scope.attr("dataGroup"));this.element.addClass("materializer");if(this.scope.dataGroup){var g=this.element.attr("id");this.element.attr("tabindex","-1");if(g){this.$control=e("["+this.scope.dMat+'="'+this.scope.dataUid+'"]');this.$control.attr({"aria-controls":g,tabindex:"-1"})}}this.setShown(this.scope.attr("dataShown"),false,true)},getHeight:function(g){var i=this.element;var h=this.scope.attr("data"+(g?"Show":"Hide")+"Height");return h!=="computed"?h:i.css("height","").height()},setHeightNoAnimation:function(j,g){var k=this.element.css("transition-property")||"";var i=k.replace(/\s*(height,?|,\s*height)\s*/g,"");i=i||"none";var h=e.proxy(this.element.css,this.element);h({"transition-property":i,height:j});d.setTimeout(function(){h({transition:"",height:g})},10)},"{scope} dataShown":function(j,h,g,i){if(g!==i){this.setShown(g,true)}}," setShown":function(h,i,g){this.scope.attr("dataShown",g)},setShown:function(o,l,j){var g=this.element;var n=this.scope.attr("dataHideClass");var m=this.scope.attr("dataGoneClass");this.scope.attr("dataShowDone",false);this.scope.attr("dataHideDone",false);var i=this.getHeight(!o);var k=this.getHeight(o);if(i&&k&&l){this.setHeightNoAnimation(i,k)}else{if(i&&k){this.element.css("height",k)}}g.attr("aria-hidden",!o);g.toggleClass(o?m:n,!o);g.removeClass(this.scope.attr("dataShowClass"));if(o){d.setTimeout(e.proxy(g.removeClass,g,n),1)}if(!l){this.doneTransitioning(o)}if(this.$control){this.$control.attr("aria-expanded",o)}if(o&&this.scope.dataGroup){e("["+this.scope.dGroup+'="'+this.scope.dataGroup+'"]').not(g).trigger("setShown",[false,true,true])}if(o&&!j){this.element.focus()}if(l){var h=this.element.css("transition-duration")||"1000ms";h=parseFloat(h,10)*(h.indexOf("ms")===-1?1000:1);h=!b.transition||isNaN(h)?50:h+100;this.transitionTimer=d.setTimeout(e.proxy(function(){this.element.trigger(this.scope.attr("transitionEnd"))},this),h)}},"{transitionEnd}":function(h,g){if(g.target!==this.element[0]){return}this.doneTransitioning(this.scope.attr("dataShown"))},doneTransitioning:function(g){d.clearTimeout(this.transitionTimer);this.scope.attr("dataShowDone",g);this.scope.attr("dataHideDone",!g);this.element.toggleClass(this.scope.attr("dataShowClass"),g);this.element.toggleClass(this.scope.attr("dataGoneClass"),!g);if(g&&this.scope.attr("dataShowHeight")==="computed"){this.setHeightNoAnimation("","")}},'{document} [{dMat}="{dataUid}"] click':function(h){this.clicked=true;var g=h.attr(this.scope.attr("dAct"));if(g){this.scope.attr("dataShown",g==="show"?true:g==="hide"?false:!this.scope.attr("dataShown"))}},click:function(){this.clicked=true},"{document} click":function(g,h){if(this.scope.attr("dataClickaway")&&!this.clicked){this.scope.attr("dataShown",false)}this.clicked=false}}})})(this,jQuery,can,as);as.UiState={Error:"error",Focus:"focus",Hidden:"hidden",Edit:"editing"};(function(c,d,b,a,e){a.Placeholder=b.Control.extend({events:d.AsSupport.onInput&&!d.AsSupport.isIe?["input"]:["text","keypress","keyup","paste","cut"],defaults:{wrapperClass:"field-with-placeholder",textFields:null}},{init:function(){var f=this;this.filterTextFields();this.correctMarkup();b.each(this.constructor.events,function(g,h){f.options.textFields.on(g,d.proxy(f.onEdit,f))});this.on()},"{textFields} focus":"focusInput","{textFields} blur":"blurInput","{textFields} error":"errorInput","input[type='text'] inputfielderror.placeholder":"handleInputFieldError",filterTextFields:function(){var f=d("input[type='text'],input[type='search'],input[type='password'],textarea",this.element);this.options.textFields=f.filter(function(h){var i=d(this),g=i.prevAll("label");return !i.data("placeholder")&&(i.attr("placeholder")||(g.length>0&&g.hasClass("placeholder")&&d.trim(g.text())))})},correctMarkup:function(){var g=this.options.textFields,f=this.options.wrapperClass;if(g.length!==0){g.each(function(j,k){var m=d(this),o=m.attr("id"),h=m.prev("label"),n=m.attr("placeholder"),l=m.parent("span");if(h.length===0&&n){h=d("<label>");if(!o){o="input"+(new Date()).getTime();m.attr("id",o)}h.attr("for",o).addClass("placeholder").html("<span>"+n+"</span>");h.insertBefore(m)}else{if(h.length>0&&n){h.html("<span>"+n+"</span>")}else{if(h.length>0&&h.children("span").length===0){h.wrapInner("<span />")}}}m.removeAttr("placeholder");m.data("placeholder",true);h.addClass("placeholder");if(l.length===0){m.prev().addBack().wrapAll("<span class='"+f+"'/>")}else{if(!l.hasClass(f)){l.addClass(f)}}if(m.prop("value")){h.addClass(a.UiState.Hidden)}})}},notEditable:function(f){if(f.prop("disabled")||f.attr("readonly")){return true}},onEdit:function(g){var f=d(g.target),h=f.prevAll("label"),j=f.parent(),i;if(this.notEditable(f)){return}if(!f.hasClass(a.UiState.Edit)){h.addClass(a.UiState.Hidden);f.addClass(a.UiState.Edit);j.addClass(a.UiState.Edit)}},focusInput:function(h,f){var g=h.prevAll("label");if(this.notEditable(h)){return}g.addClass(a.UiState.Focus)},blurInput:function(h,f){var g=h.prevAll("label"),i=h.parent();if(h.val()===""){g.removeClass(a.UiState.Hidden)}g.removeClass(a.UiState.Focus);h.removeClass(a.UiState.Edit);i.removeClass(a.UiState.Edit)},errorInput:function(g,f){g.parent().addClass(a.UiState.Error)},handleInputFieldError:function(h,f){var g=h.prevAll("label"),i=h.parent();if(h.val()===""){g.removeClass(a.UiState.Hidden)}h.removeClass(a.UiState.Edit);i.removeClass(a.UiState.Edit)}})})(this,jQuery,can,as);(function(g,e,j,d,b){var c;var h;var i=function(){var l=document.referrer;var k="";var m=null;if(l){m=l.split("/");if(m!==null&&m.length>=3){k=m[2]}return k}return""};var f=function(l,m){try{var n=e('[name="'+l+'"]').first();if(n.length>0&&n.attr("value")===""){n.attr("value",h.get(m))}else{var k=decodeURIComponent(n.attr("value"));n.attr("value",k)}h.remove(m)}catch(o){}};var a=function(l,k,n){var o=h.get(n);var m=k.indexOf("?")>=0;if(o){k+=m?"&":"?";k+=l+"="+encodeURIComponent(o)}return k};d.FcsDataStorage={};d.FcsDataStorage.init=function(){h=new Storage()};d.FcsDataStorage.setFcsDataForQbe=function(){f("fcs1","fcs1");f("fcs2","fcs2")};d.FcsDataStorage.storeFcsData=function(){var m="fcs1";var l="fcs2";var k=h.get(m);if(k===null){var n={RD:i(),LPU:document.URL,AC:false,SST:Math.round(new Date().getTime()/1000)};h.set(m,JSON.stringify(n));h.set(l,1)}else{h.set(l,parseInt(h.get(l),10)+1)}};d.FcsDataStorage.appendFcsData=function(k){k=a("f1",k,"fcs1");k=a("f2",k,"fcs2");return k};d.FcsDataStorage.flushFcsData=function(){h.remove("fcs1");h.remove("fcs2")};d.FcsDataStorage.setAcceptCookie=function(){var k=h.get("fcs1");if(k){k=JSON.parse(k,function(m,l){if(m==="AC"){return true}return l});h.set("fcs1",JSON.stringify(k))}}}(this,jQuery,can,as));(function(c,d,b,a,e){d(function(){a.FcsDataStorage.init()})}(this,jQuery,can,as));(function(c,d,e){var b={Keyboard:{Backspace:8,Tab:9,Clear:12,Return:13,Shift:16,Ctrl:17,Alt:18,Esc:27,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Delete:46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45,CapsLock:20,LeftCommand:91,RightCommand:93,MozillaCommand:224,RightWindowsStart:92,Pause:19,Space:32,Help:47,LeftWindow:91,Select:93,NumPad0:96,NumPad1:97,NumPad2:98,NumPad3:99,NumPad4:100,NumPad5:101,NumPad6:102,NumPad7:103,NumPad8:104,NumPad9:105,NumPadMultiply:106,NumPadPlus:107,NumPadEnter:108,NumPadMinus:109,NumPadPeriod:110,NumPadDivide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NumLock:144,ScrollLock:145},Mouse:{Left:1,Right:3},isMetaKey:function(f){var g=false;switch(f.keyCode){case b.Keyboard.Tab:case b.Keyboard.Clear:case b.Keyboard.Return:case b.Keyboard.Shift:case b.Keyboard.Ctrl:case b.Keyboard.Alt:case b.Keyboard.Esc:case b.Keyboard.Left:case b.Keyboard.Up:case b.Keyboard.Right:case b.Keyboard.Down:case b.Keyboard.Home:case b.Keyboard.End:case b.Keyboard.PageUp:case b.Keyboard.PageDown:case b.Keyboard.Insert:case b.Keyboard.CapsLock:case b.Keyboard.LeftCommand:case b.Keyboard.RightCommand:case b.Keyboard.MozillaCommand:case b.Keyboard.RightWindowsStart:g=true;break;default:break}return g},StandardDeferredInputTimeout:333,isNumpadNumKey:function(f){return 96<=f.keyCode&&f.keyCode<=111},isAlphaNumKey:function(f){return b.isNumpadNumKey(f)||!(f.keyCode in a())}},a=function(){if(!a.parsed){var g={},f;for(f in b.Keyboard){if(b.Keyboard.hasOwnProperty(f)){g[b.Keyboard[f]]=f}}(a=function(){return g}).parsed=true;return g}};d.AsEvent=b})(this,jQuery);(function(c,d,b,a,e){a.InputReset=b.Control.extend({defaults:{val:b.compute(null)}},{init:function(){var f=new a.Materializer(this.element,{materialize:this.options.val})},click:function(g,f){this.options.val("")}})})(this,jQuery,can,as);(function(h,g,c){function l(r,q,p){g(r).append(g("<input>").attr("type","hidden").attr("name",q.replace(j,k)).attr("value",p.replace(j,k)))}function m(r){var s=r.head&&r.head.data,p=r.body,q=a(),u,t;if(s&&s.microEvent){u=s.microEvent}else{if(p&&p.microEvent){u=p.microEvent;delete p.microEvent}}if(s&&s.metrics){t=s.metrics}else{if(p&&p.metrics){t=p.metrics;delete p.metrics}}if(u||t||q){t=can.extend(q||{},t);g.AsMetrics.fireEventCollection({microEvent:u,metrics:t})}}function e(p,r,q){if(r.metrics||p.metrics){a=function(){return r.metrics||p.metrics}}}function d(s){var r=false,u=false,w,q,p,v,t,x;if(!s){u=true}if(!u){m(s);w=s.head.data;q=w.url;p=w.method?w.method.toLowerCase():"get";v=w.args;t=parseInt(s.head.status,10);switch(t){case 301:case 302:case 303:case 304:case 305:case 306:case 307:r=true;break;default:if(t>=400&&t<600){u=true}break}}if(u){x="Response returned errors"}else{if(r){x="Response redirected";x.redirect=true;i[p](q,v)}}if(x!==c){g.error(x)}return s.body}var j=/"/g,k="&quot;",o="json jsonrpc",a=g.noop,i={post:function f(r,q){var s=document.createElement("form"),t={};var p=g(s);p.attr("action",r);p.attr("method","post");g.each(q,function(w,u){if(g.isArray(u)){g.each(u,function(x,v){if(t[x]!==v){l(s,x,v);t[x]=v}})}else{if(t[w]!==u){l(s,w,u);t[w]=u}}});g(document.body).after(p.hide());g.AsEnv.submit(p)},get:function n(q,p){if(!q){return}if(p){p=g.param(p);q+=q.indexOf("?")>-1?"&":"?";q+=p}g.AsEnv.doRedirect(q)}},b={converters:{}};i.put=i["delete"]=i.get;b.converters[o]=d;g.ajaxSetup(b);g.ajaxPrefilter(o,e)}(this,jQuery));(function(c,d,b,a,e){a.TextBoxMatcherInput=b.Control.extend({shouldTriggerSubmitStart:function(f){return f.type==="input"||f.keyCode===d.AsEvent.Keyboard.Return||!d.AsEvent.isMetaKey(f)},events:d.AsSupport.onInput?["input","keydown"]:["text","keypress","keyup","paste","cut"],Behavior:{SubmitInitialDelay:50,SubmitNormalDelay:250,SubmitNormalDelayThreshold:3},defaults:{val:b.compute(null),isEditing:b.compute(null),resetElement:null,resetSelector:".inputReset"}},{init:function(){var f=this,g=this.options.resetElement||this.element.parent().find(this.options.resetSelector);if(g.length){this.options.reset=new a.InputReset(g,{val:this.options.val})}this.resetSubmitState();b.each(a.TextBoxMatcherInput.events,function(i,h){f.on(i,"handleEvent")})},submitDoneCallback:null,submitTimeout:null,submitDeferred:null,submitCount:0," {val} change":"handleChange",handleEvent:function(g,f){switch(f.type){case"input":case"text":case"keydown":case"keyup":case"keypress":case"paste":case"cut":this.options.isEditing(true);this.handleInput(f);break;default:break}},handleChange:function(i,f,h,g){if(this.element.val()!==h){this.element.val(h)}this.handleInput(f)},handleInput:function(f){if(this.constructor.shouldTriggerSubmitStart(f)){this.startSubmitState(f)}},startSubmitState:function(g){var j=this.submitCount>this.constructor.Behavior.SubmitNormalDelayThreshold;var f=j?this.constructor.Behavior.SubmitNormalDelay:this.constructor.Behavior.SubmitInitialDelay;var h=this;var i=function(){h.submitDeferred.resolve()};if(!this.submitDoneCallback){this.submitDoneCallback=d.proxy(this.submitStateDone,this)}if(this.submitDeferred===null){this.submitDeferred=b.Deferred();this.submitDeferred.done(this.submitDoneCallback)}if(this.submitTimeout!==null){clearTimeout(this.submitTimeout)}this.submitTimeout=setTimeout(i,f)},submitStateDone:function(){this.submitCount++;this.options.val(this.element.val());this.resetSubmitState()},resetSubmitState:function(){delete this.submitTimeout;delete this.submitDeferred}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.TextBoxMatcherMenu=b.Control.extend({defaults:{model:new b.List(),selectedObject:b.compute(null),isOpen:b.compute(null),template:"{{TextBoxMatcherMenu}}"},Behavior:{ModelWithSelectionDelay:1}},{init:function(){var f=new a.Materializer(this.element,{materialize:this.options.isOpen});this.element.addClass("search-auto-complete");this.element.html(b.view(this.options.template,{model:this.options.model}))},"li mouseenter":"updateSelectedObject","li mouseleave":"updateSelectedObject","{model} change":function(j,g,f,k,i,h){this.options.isOpen(!(f==="0"&&k==="remove"));this.element.attr("aria-hidden",!i)},"{selectedObject} change":function(i,f,h,g){if(g){g.attr("selected",false)}if(h){h.attr("selected",true)}},updateSelectedObject:function(h,f){var i=null,g=h.data("item");if(g===this.options.selectedObject()){return}if(f.type==="mouseenter"){i=g}this.options.selectedObject(i)}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.TextBoxMatcher=b.Control.extend({defaults:{searchHeading:"Bsquedas",productHeading:"Productos",categoryHeading:"Categoras",suggestionsEnabled:false,suggestionsUrl:null,headerSelector:"#apple-header",wrapperSelector:".autocomplete",formSelector:"#site-search",inputSelector:'input[type="text"]',resetSelector:".inputReset",storageSearchConfigKey:"TextBoxMatcher.searchConfig",autoCompleteBoxSelector:".search-auto-complete UL",menuTemplate:null,val:b.compute(null),isEditing:b.compute(false),results:new b.List(),selectedResult:b.compute(null),menuIsOpen:b.compute(false),autoCompleteOpen:false,urlData:null,behaviorSearchModeDelay:300},UiState:{Focused:"focused",Working:"working",SearchMode:"searchmode"},Behavior:{SearchModeDelay:300,ResetResultsDelay:200,RequestTimeout:5000},Sections:["search","product","category"],shouldTriggerMenuSelectionChange:function(f){return f.type==="keydown"&&(f.keyCode===d.AsEvent.Keyboard.ArrowUp||f.keyCode===d.AsEvent.Keyboard.ArrowDown)},shouldTriggerMenuClose:function(f){return f.type==="keydown"&&f.keyCode===d.AsEvent.Keyboard.Esc},getResultFromNavigation:function(k,i,h){var f,g=0,j=k.length;switch(h.keyCode){case d.AsEvent.Keyboard.ArrowUp:g=-1;break;case d.AsEvent.Keyboard.ArrowDown:g=1;break;default:break}f=((i%j)+j+g)%j;return k[f]},sanitizeTerm:function(f){var g=f?encodeURIComponent(f.replace(/[\s\/\'\\]+/g,"-")):"";return g}},{request:null,data:null,inSearchMode:false,wrapper:null,header:null,ignoreNextVal:false,init:function(){var h=this;var k=new Storage();var g=k.get(this.options.storageSearchConfigKey);var i=(new Date()).getTime();var f="menu"+i;var j;this.constructor.Behavior.SearchModeDelay=this.options.behaviorSearchModeDelay;d(".search-spinner,.search-reset").css("display","");if(g&&g.searchConfig){this.element.append('<input type="hidden" name="searchConfig" value="'+g.searchConfig+'">')}this.initInput();if(this.options.suggestionsEnabled){this.options.input.element.attr("aria-owns",f).attr("aria-autocomplete","list");j={model:this.options.results,selectedObject:this.options.selectedResult,isOpen:this.options.menuIsOpen};if(this.options.menuTemplate!==this.constructor.defaults.menuTemplate){j.template=this.options.menuTemplate}this.initMenu(f,j)}this.wrapper=this.element.find(this.options.wrapperSelector);this.header=this.element.parents(this.options.headerSelector);this.receiveSearch=b.proxy(this.receiveSearch,this);this.cleanupSearch=b.proxy(this.cleanupSearch,this);this.on();new a.Placeholder(document.body)},initInput:function(){this.options.input=new a.TextBoxMatcherInput(this.element.find(this.options.inputSelector),{val:this.options.val,isEditing:this.options.isEditing,resetElement:this.element.find(this.options.resetSelector)})},initMenu:function(f,g){this.options.menu=new a.TextBoxMatcherMenu(d('<div id="'+f+'" />').appendTo(this.element),g)},"{window} pageshow":"handlePageShow","{input.element} focusin":"toggleSearchMode","{input.element} focusout":"toggleSearchMode","{autoCompleteBoxSelector} mousedown":"toggleSearchMode","{input.element} keydown":"navigateOrCloseMenu","{val} change":"handleValChange",submit:"handleSubmit","{input.element} keypress":"handleSubmit","{menu.element} click":"handleSubmit","{menuIsOpen} change":"handleMenuOpenChange","{selectedResult} change":"handleSelectedResultChange",handlePageShow:function(g,h){if(h.originalEvent.persisted){var f=this;this.options.selectedResult(null);setTimeout(function(){var i="";b.trigger(f.options.val,"change",[i,i])},1)}},handleValChange:function(i,f,h,g){if(this.ignoreNextVal){this.ignoreNextVal=false;return}if(document.activeElement!==this.options.input.element.get(0)){return}if(this.options.isEditing()){if(b.trim(h)){this.performSearch(this.options.input.element.prop("form"),f)}else{this.closeMenu()}}},handleSubmit:function(h,g){if(g.type==="keypress"&&(g.keyCode!==d.AsEvent.Keyboard.Return||!this.options.menuIsOpen())){return}g.preventDefault();if(g.type==="click"){this.options.input.element.focus()}else{this.ignoreNextVal=true}var f=this.options.selectedResult();if(f&&f.item){this.options.input.element.val(f.item)}this.closeMenu()},handleMenuOpenChange:function(i,f,h,g){if(this.options.suggestionsEnabled){this.options.input.element.attr("aria-expanded",h).removeAttr("aria-activedescendant");this.options.menu.element.attr("aria-hidden",!h)}},handleSelectedResultChange:function(f,g,i,h){this.options.input.element.attr("aria-activedescendant",i?i.attr("id"):"")},keepFocused:function(){this.options.input.element.focus();this.closeMenu()},searchModeTimeout:null,clearSearchModeTimeout:function(){if(this.searchModeTimeout){clearTimeout(this.searchModeTimeout);delete this.searchModeTimeout}},toggleSearchMode:function(h,f){var i,g=this,j=false,k=true;switch(f.type){case"focusin":i="addClass";break;case"focusout":if(!this.autoCompleteOpen){i="removeClass";j=true;k=false}else{this.autoCompleteOpen=false;this.options.input.element.focus()}break;case"mousedown":this.autoCompleteOpen=true;break;default:break}this.inSearchMode=k;if(i){this.clearSearchModeTimeout();this.searchModeTimeout=setTimeout(function(){if(g.options.selectedResult()===null){g.wrapper[i](g.constructor.UiState.Focused);g.header[i](g.constructor.UiState.SearchMode)}if(j){g.closeMenu()}g.clearSearchModeTimeout()},this.constructor.Behavior.SearchModeDelay)}},navigateOrCloseMenu:function(g,f){var i=[];this.cancelSearch();if(this.constructor.shouldTriggerMenuSelectionChange(f)&&this.options.results.length){i=this.makeResultsList();this.options.selectedResult(this.constructor.getResultFromNavigation(i,d.inArray(this.options.selectedResult(),i),f));var j=d("#"+this.options.selectedResult().id),h=j.parent(),l=h.outerHeight(),m=h.scrollTop()+j.position().top,k=(Math.floor(m/l))*l;if(h.scrollTop()!==k){h.scrollTop(k)}f.preventDefault()}else{if(this.constructor.shouldTriggerMenuClose(f)){this.closeMenu();this.options.selectedResult(null)}}},makeResultsList:function(){return this.options.results},closeMenu:function(){this.options.menuIsOpen(false);this.resetResults()},resetResultsTimeout:null,clearResetResultsTimeout:function(){if(this.resetResultsTimeout){clearTimeout(this.resetResultsTimeout);delete this.resetResultsTimeout}},resetResults:function(){var f=this;this.clearResetResultsTimeout();this.resetResultsTimeout=setTimeout(function(){f.clearResetResultsTimeout();f.options.results.replace(null)},this.constructor.Behavior.ResetResultsDelay)},cancelSearch:function(){if(this.request){this.request.abort()}},receiveSearch:function(h){this.data=h;var g=new b.List();for(var f=0;f<h.matches.length;f+=1){g.push({item:h.matches[f],selected:false,id:"MenuItem"+f})}if(g.length){this.options.results.replace(g)}else{this.closeMenu()}},cleanupSearch:function(){this.wrapper.removeClass(this.constructor.UiState.Working);delete this.request},performSearch:function(h,g){if(this.options.suggestionsEnabled&&this.inSearchMode){var f=this.options.urlData||{};if(g.preventDefault){g.preventDefault()}this.wrapper.addClass(this.constructor.UiState.Working);this.cancelSearch();this.request=b.ajax({dataType:"json jsonrpc",url:this.options.suggestionsUrl,data:b.extend(f,this.gatherData(h)),timeout:this.constructor.Behavior.RequestTimeout}).done(this.receiveSearch).always(this.cleanupSearch)}},gatherData:function(f){return{value:this.options.input.element.val()}},persistInstantFeedback:function(){var f=this.data&&this.data.results&&this.data.results.search||[];if(d.AsInstantFeedback.isAvailable()){d.AsInstantFeedback.set("LastSuggestions",b.map(f,function(h,g){return h.term}))}}})})(this,jQuery,can,as);(function(c,d,b,a,e){b.ListGroup=function(){};b.ListGroup.create=function(f){};b.ListGroup.add=function(g,f){};b.List.prototype.groupBy=function(h,g){var f=[],i={};this.each(function(k){var j=h(k);if(!(j in i)){f.push(i[j]=g.create(k))}else{g.add(i[j],k)}});return new b.Map.List(f)}})(this,jQuery,can,as);(function(c,d,b,a,e){a.WebSiteSearchMenu=a.TextBoxMatcherMenu.extend({defaults:{template:"{{WebSiteSearchMenu}}"}},{init:function(){var f=new a.Materializer(this.element,{materialize:this.options.isOpen});this.element.addClass("search-auto-complete");this.element.html(b.view(this.options.template,{groups:this.options.model}))}});b.Mustache.registerHelper("as.WebSiteSearch.highlight",function(i,k,g){var f="",h=i(),j=b.makeArray(k());j.sort(function(m,l){return l[0]-m[0]});d.each(j,function(m,l){f=h.substring(0,l[0]);f+="<strong>";f+=h.substring(l[0],l[1]);f+="</strong>";f+=h.substring(l[1]);h=f});if(j.length===0&&!f&&h){f=h}return f})})(this,jQuery,can,as);(function(c,d,b,a,e){a.WebSiteSearch=a.TextBoxMatcher.extend({defaults:{storageSearchConfigKey:"WebSiteSearch.searchConfig",clickedInSearchMode:false},ResultGroup:b.Construct({create:function(f){return{heading:f.heading,results:[this.itemWithUid(f)]}},add:function(g,f){g.results.push(this.itemWithUid(f))},uid:0,itemWithUid:function(f){f.attr("id","MenuItem"+this.uid++);return f}},{}),resultGrouper:function(f){return f.section},buildSearchRedirect:function(f){var i=c.location;var h=d(this.defaults.formSelector).prop("action");var g;h=h.replace("&amp;","&");h=h.replace(i.search,"");g=h+"/"+this.sanitizeTerm(f)+i.search;return g}},{initInput:function(){this.options.input=new a.TextBoxMatcherInput(this.element.find(this.options.inputSelector),{val:this.options.val,isEditing:this.options.isEditing,resetElement:this.element.find(this.options.resetSelector)});d(this.options.input.element[0]).removeAttr("placeholder")},initMenu:function(f,g){this.options.menu=new a.WebSiteSearchMenu(d('<div id="'+f+'" />').appendTo(this.element),g)},"{resetSelector} click":"keepFocused","{window} pageshow":function(g,f){if(f.originalEvent.persisted){this.initInput()}},handleSubmit:function(i,g){if(g.type==="keypress"&&g.keyCode!==d.AsEvent.Keyboard.Return){return}var h=this,f=this.options.selectedResult();g.preventDefault();if(g.type==="click"&&!(f||this.options.clickedInSearchMode)){this.options.input.element.focus()}else{this.closeMenu();this.persistInstantFeedback();this.sendSearchMetrics().then(function(){var k,j;if(f){j=f.attr("term");if(f.attr("heading")===h.options.searchHeading){h.options.val(j)}if((k=f.attr("path"))){k+=k.indexOf("?")>-1?"&":"?";k+=i.serialize()}else{k=h.constructor.buildSearchRedirect(j)}}else{k=h.constructor.buildSearchRedirect(h.currentValue())}c.setTimeout(function(){d.AsEnv.doRedirect(k);h.options.input.element.get(0).blur()},0)})}this.options.clickedInSearchMode=false},makeResultsList:function(){var f=[];b.each(this.options.results,function(i,g){var h=d.makeArray(i.results);f.push.apply(f,h)});return f},receiveSearch:function(g){var f=this.getListFromRpc(this.data=g);if(f.length){this.options.results.replace(f.groupBy(this.constructor.resultGrouper,this.constructor.ResultGroup))}else{this.closeMenu()}},getListFromRpc:function(h){var g=this,f=[];if(h.results){b.each(this.constructor.Sections,function(l,j){if(!h.results[l]){return true}var i=h.results[l].length,k=g.options[l+"Heading"];b.each(h.results[l],function(n,m){f.push(b.extend({},{section:l,heading:k,rank:m+1,resultCount:i,selected:false},n))})})}return new b.List(f)},gatherData:function(f){return d(f).formParams()},currentValue:function(){return this.options.input.element.val()},sendSearchMetrics:function(){var g=b.Deferred(),i={linkTrackVars:"events,eVar2",linkTrackEvents:"event8",events:"event8"},h=this,f=this.options.selectedResult();if(!f){i.eVar2=this.currentValue()}else{i.eVar2=f.attr("term");i.linkTrackVars+=",eVar23";i.eVar23=[h.currentValue(),f.attr("section"),f.attr("resultCount"),f.attr("term"),f.attr("rank")].join(" | ")}a.Tracking.track(this.element.get(0),"search",i,function(){g.resolve()});return g}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.WebSiteSearchLiquid=a.WebSiteSearch.extend({defaults:{magnifierSelector:".gn-search-submit.magnify",searchFormButtonSelector:".globalnav #gn-search .gn-search-form button",inputLabelSelector:"#gn-search .gn-search-form label",behaviorSearchModeDelay:5},UiState:{Focused:"focused",Working:"working",SearchMode:"searchmode active"},buildSearchRedirect:function(f){var k=c.location;var j=d(this.defaults.formSelector).prop("action");var i,h,g;j=j.replace("&amp;","&");h=d.AsString.parseUrl(j);if(k.search){g=d.AsString.parseQueryString(h.search);b.extend(g,d.AsString.parseQueryString(k.search));h.search="?"+b.param(g)}h.pathname+="/"+this.sanitizeTerm(f);i=d.AsString.makeUrl(h);return i}},{init:function(){var f=this;this._super();d(this.options.magnifierSelector).on("mousedown",function(g){f.mouseDown=true;f.resetButtonClicked(null,g)});d(this.options.searchFormButtonSelector).on("focusin",function(g){if(!f.inSearchMode&&!f.mouseDown){f.options.input.element.focus()}f.mouseDown=false});d(this.options.magnifierSelector).on("keydown",function(g){if(f.inSearchMode&&g.keyCode===d.AsEvent.Keyboard.Return){f.handleSubmit(d(f.options.formSelector),g)}});d(this.options.magnifierSelector).on("click",function(g){if(d(f.options.headerSelector).hasClass("searchmode")){f.options.clickedInSearchMode=true;f.handleSubmit(d(f.options.formSelector),g)}else{g.preventDefault();f.options.input.element.focus()}});d(this.options.searchFormButtonSelector).on("focusout",function(h){if(f.inSearchMode){var g=d(h.target).attr("type");if(g==="reset"||(g==="submit"&&!d(f.options.resetSelector).is(":visible"))){f.toggleSearchMode(null,h)}}})},"{document.body} touchend":"searchCloseMenu",searchCloseMenu:function(h,f){var g=this,i=d(f.target);if(d(this.options.headerSelector).hasClass("searchmode")&&!i.closest(this.options.headerSelector).length&&!this.autoCompleteOpen){this.wrapper.removeClass(this.constructor.UiState.Focused);this.header.removeClass(this.constructor.UiState.SearchMode);d(g.options.inputSelector).blur();if(d.AsSupport.ieVersion===8||jQuery.AsSupport.ieVersion===9){d(g.options.inputLabelSelector).addClass("a11y").removeClass("focus")}else{c.setTimeout(function(){d(g.options.inputLabelSelector).addClass("a11y").removeClass("focus")},200)}this.closeMenu()}},initInput:function(){this.options.input=new a.TextBoxMatcherInput(this.element.find(this.options.inputSelector),{val:this.options.val,isEditing:this.options.isEditing,resetElement:this.element.find(this.options.resetSelector)})},ignoreFocusOut:false,mouseDown:false,"{resetSelector} mousedown":"resetButtonClicked",resetButtonClicked:function(h,f){var g=this;this.autoCompleteOpen=true;c.setTimeout(function(){g.autoCompleteOpen=false},300)},"{wrapperSelector} mousedown":"searchWrapperMouseDown",searchWrapperMouseDown:function(h,f){if(this.inSearchMode){this.ignoreFocusOut=true;var g=this;c.setTimeout(function(){g.ignoreFocusOut=false;g.options.input.element.focus()},75)}},navigateOrCloseMenu:function(g,f){this._super(g,f);if(f.keyCode===d.AsEvent.Keyboard.Tab&&!f.shiftKey){this.ignoreFocusOut=true}},toggleSearchMode:function(i,j){var h,m=this,n=j.type,k=d(j.relatedTarget).closest(this.options.headerSelector).length,l=j.keyCode,g=false,f=true;if(n==="focusout"&&(this.ignoreFocusOut||k)){this.ignoreFocusOut=false;return}switch(n){case"focusin":this.ignoreFocusOut=false;h="addClass";break;case"focusout":if(!this.autoCompleteOpen){h="removeClass";g=true;f=false;this.options.selectedResult(null)}else{this.autoCompleteOpen=false;this.options.input.element.focus()}break;case"mousedown":this.autoCompleteOpen=true;break;default:break}this.inSearchMode=f;if(h){if(h==="addClass"){c.setTimeout(function(){d(m.options.inputLabelSelector).removeClass("a11y")},300)}else{if(d.AsSupport.ieVersion===8||jQuery.AsSupport.ieVersion===9){d(m.options.inputLabelSelector).addClass("a11y")}else{c.setTimeout(function(){d(m.options.inputLabelSelector).addClass("a11y")},200)}}this.clearSearchModeTimeout();this.searchModeTimeout=setTimeout(function(){if(m.options.selectedResult()===null){m.wrapper[h](m.constructor.UiState.Focused);m.header[h](m.constructor.UiState.SearchMode)}if(g){m.closeMenu()}m.clearSearchModeTimeout()},this.constructor.Behavior.SearchModeDelay)}}})}(this,jQuery,can,as));
/*!
 * CanJS - 2.1.0
 * http://canjs.us/
 * Copyright (c) 2014 Bitovi
 * Wed, 07 May 2014 14:59:26 GMT
 * Licensed MIT
 * Includes: can/map/setter
 * Download from: http://canjs.com
 */
(function(b){var a=(function(e){e.classize=function(h,k){var j=h.split(e.undHash),g=0;for(;g<j.length;g++){j[g]=e.capitalize(j[g])}return j.join(k||"")};var f=e.classize,d=e.Map.prototype,c=d.__set;d.__set=function(g,l,i,m,k){var n=f(g),j="set"+n,h=function(q){var p=k&&k.call(o,q);if(p!==false){e.trigger(o,"error",[g,q],true)}return false},o=this;if(this[j]){e.batch.start();l=this[j](l,function(p){c.call(o,g,p,i,m,h)},h);if(l===b){e.batch.stop();return}else{c.call(o,g,l,i,m,h);e.batch.stop();return this}}else{c.call(o,g,l,i,m,h)}return this};return e.Map})(window.can,b)})();(function(c,d,b,a,e){a.LateralNavLiquid=b.Control.extend({defaults:{containerWidth:980,touchDragThreshold:150,touchMaxVelocity:250,storagePageKey:"ln_curPage",timePerTabKey:100,omnitureScrollFeatureName:"Navigation-scroll",omniturePropertyName:"eVar6",animateElement:".scroll-body",rightButtonOffset:30,leftButtonOffset:20,displacementOffset:60,transitionEnd:d.AsSupport.transitionEndName,model:new b.Map()}},{cssTransition:false,storage:null,prevPage:null,firstSlide:true,lastTabTime:0,tabLockedUntil:0,_totalPageWidth:[],setup:function(g,f){if(!f){f={}}f.selectEvent=d.AsSupport.touch?"touchstart":"click";f.model=new b.Map({curPage:1,maxPages:0,showingRightButton:b.compute(function(){return f.model.attr("curPage")<f.model.attr("maxPages")}),showingLeftButton:b.compute(function(){return f.model.attr("curPage")>1}),setCurPage:function(i){if(i<0){return 0}var h=this.attr("maxPages");if(i>h){return h}return i}});this._super(g,f)},init:function(){this.storage=new Storage();var i=this.storage.get(this.options.storagePageKey);i=parseInt(i,10);this.prevPage=i||i===0?i:null;this.storage.set(this.options.storagePageKey,"0");var f=this.element.find(this.options.animateElement);if(d.AsSupport.transition&&d.AsSupport.transform){this.element.removeClass("position-relative");this.element.addClass("transition-support");this.cssTransition=true}else{this.element.addClass("position-relative");this.element.removeClass("transition-support")}if(d.AsSupport.isMobileIos||d.AsSupport.isIpad){this.element.addClass("touch");f.addClass("touch");this.touchMode=true}var h=this.element.find(".button-left");var g=this.element.find(".button-right");new a.Materializer(h,{materialize:this.options.model.attr("showingLeftButton"),transitionEnd:500});new a.Materializer(g,{materialize:this.options.model.attr("showingRightButton")})},pageJustShown:false,"{window} pageshow":function(g,f){this.element.addClass("no-hover");this.touch.transition=false;this.touch={id:null,sX:0,sY:0,eX:null,eY:null,eT:null,v:[0,0,0],timing:500,lastOffset:null,transitionTimer:null,otherTouches:false};this.pageJustShown=true},"{window} load":function(i,g){this.calculatePageValues();var h=0,f=this.element.find("li").index(this.element.find("li.current"));d(this.firstLiElementOfPage).each(function(j){if(f>=d(this).parents("ul").find("li").index(d(this))){h=j}});this.options.model.attr("curPage",h+1);this.element.addClass("animate")},firstLiElementOfPage:[],calculatePageValues:function(){var f=this.element.find("ul > li"),h=f.last()[0],l=this.options.containerWidth-this.options.rightButtonOffset,k=this.options.containerWidth-this.options.leftButtonOffset-this.options.displacementOffset,i=this.options.containerWidth-this.options.leftButtonOffset-this.options.rightButtonOffset-this.options.displacementOffset,j=h.offsetLeft+h.offsetWidth,g=l;this.firstLiElementOfPage.push(f[0]);b.each(f,function(o,n){var m=o.offsetLeft;if((m+o.offsetWidth)>g){this.firstLiElementOfPage.push(o);if(m+k>=j){return false}else{g=m+i}}},this);this.options.model.attr("maxPages",this.firstLiElementOfPage.length)},pageContainerWidth:function(f){if(f===1){return this.options.containerWidth-this.options.rightButtonOffset}else{if(f===this.options.model.attr("maxPages")){return this.options.containerWidth-this.options.leftButtonOffset-this.options.displacementOffset}else{return this.options.containerWidth-this.options.leftButtonOffset-this.options.rightButtonOffset-this.options.displacementOffset}}},removePageShowHacks:function(){if(this.pageJustShown){this.element.removeClass("no-hover");this.pageJustShown=false}},"{window} mousemove":"removePageShowHacks",mouseDown:false,"li mousedown":function(g,f){this.mouseDown=true},"li focus":function(h,f){if(this.mouseDown){this.mouseDown=false;return}var i=this.options.model.attr("curPage");var g=this.options.model.attr("maxPages");if(g>i&&(h[0].offsetLeft===this.firstLiElementOfPage[i].offsetLeft)){this.options.model.attr("curPage",i+1)}else{if(i>1&&(h[0].offsetLeft<this.firstLiElementOfPage[i-1].offsetLeft)){this.options.model.attr("curPage",i-1)}}}," scroll":function(g,f){f.preventDefault();f.stopPropagation();this.element.prop("scrollLeft",0)}," keydown":function(i,f){if(f.keyCode===d.AsEvent.Keyboard.Tab){var j=this.options.model.attr("curPage");var k=d(document.activeElement).parent().index();var g=this.options.model.attr("maxPages");var h=(new Date()).getTime();if(h-this.options.timePerTabKey<this.lastTabTime||h<this.tabLockedUntil){f.preventDefault()}else{this.lastTabTime=h}}},".button-left {selectEvent}":function(h,f){f.stopImmediatePropagation();this.element.addClass("animate");var g=this.options.model.attr("curPage");this.options.model.attr("curPage",g-1)},".button-right {selectEvent}":function(h,f){f.stopImmediatePropagation();this.element.addClass("animate");var g=this.options.model.attr("curPage");this.options.model.attr("curPage",g+1)},"li > a.tile-link click":function(g,f){if(this.touch.transition){f.preventDefault();return}this.storage.set(this.options.storagePageKey,this.options.model.attr("curPage"))},touch:{id:null,sX:0,sY:0,eX:null,eY:null,eT:null,v:[0,0,0],timing:500,lastOffset:null,transitionTimer:null,otherTouches:false},touchMode:false,"{document} touchstart":"updateOtherTouches","{document} touchend":"updateOtherTouches",updateOtherTouches:function(g,h){var f=h.originalEvent;this.touch.otherTouches=f.touches&&f.touches.length>1},".scroll-body.touch touchstart":"touchMoved",".scroll-body.touch touchmove":"touchMoved",".scroll-body.touch touchend":"touchMoved",".scroll-body.touch touchcancel":"touchMoved",touchMoved:function(g,k){if(this.options.model.attr("maxPages")<=1){return}if(this.touch.transition){return false}var s=k.originalEvent;var n=s.touches&&s.touches.length===1&&!this.touch.otherTouches;this.removePageShowHacks(g,k);if(k.type==="touchmove"&&n){k.preventDefault()}var v=this.touch.id;var o=this.touch.eX;var r=this.touch.eT;var m=0;if(!this.touch.id&&n){this.touch.id=s.touches[0].identifier;this.touch.sX=s.touches[0].pageX;this.touch.sY=s.touches[0].pageY}else{if(n){var u=false;for(m=0;m<s.touches.length;m++){if(this.touch.id===s.touches[m].identifier){u=true;this.touch.eX=s.touches[m].pageX;this.touch.eY=s.touches[m].pageY;break}}if(!u){this.touch.id=null;this.touch.eX=null;this.touch.eY=null}}else{if(!s.touches||!n){this.touch.id=null;this.touch.eX=null;this.touch.eY=null}}}this.touch.eT=(new Date()).getTime()/1000;if(this.touch.eX&&o&&r){var q=(this.touch.eX-o)/(this.touch.eT-r);for(m=this.touch.v.length-1;m>=0;m-=1){if(m===0){this.touch.v[m]=q}else{this.touch.v[m]=this.touch.v[m-1]}}}o=this.touch.eX?this.touch.eX:o;var l=o!==null?o-this.touch.sX:0;var f=this.options.model.attr("curPage");var j=this.options.model.attr("maxPages");var t=this.pageContainerWidth(f);if((f===0&&l>0)||(f===j&&l<0)){var h=l<0?-1:1;l=Math.min(Math.abs(l),t);l=Math.min(0.38*t*Math.sin(Math.PI*l/(2*t)),l);l=l*h}if(this.touch.id&&this.touch.eX){this.touch.lastOffset=(this.touch.lastdX?this.touch.lastdX:0)+l;g.css("transform","translateX("+this.touch.lastOffset+"px)")}if(!this.touch.id&&v){this.element.addClass("animate");this.touch.sX=null;this.touch.sY=null;this.touch.lastdX=this.touch.lastOffset;var p=0;for(m=0;m<this.touch.v.length;m+=1){p+=this.touch.v[m];this.touch.v[m]=0}p=p/this.touch.v.length;if(f<j&&(l<-this.options.touchDragThreshold||p<-this.options.touchMaxVelocity)){k.preventDefault();this.options.model.attr("curPage",f+1)}else{if(f-1>0&&(l>this.options.touchDragThreshold||p>this.options.touchMaxVelocity)){k.preventDefault();this.options.model.attr("curPage",f-1)}else{this.touch.lastdX=this.calculatePosition(f);g.css("transform","translateX("+this.touch.lastdX+"px)")}}}},".scroll-body.touch {transitionEnd}":function(g,f){if(g[0]!==f.target){return}this.touch.transition=false},".scroll-body {transitionEnd}":function(g,f){this.element.removeClass("animate")},calculatePosition:function(h){var f=this.element.find("ul > li"),i,g=0;if(h>1){g=this.options.displacementOffset-this.firstLiElementOfPage[h-1].offsetLeft}return g},"{model} change":function(g,m,h,j,f,l){if(h==="curPage"&&f!==l){var i=this.element.find(".scroll-body"),k=0;if(f>1){this.element.addClass("left")}else{this.element.removeClass("left")}if(f===this.options.model.attr("maxPages")){this.element.addClass("lastPage")}else{this.element.removeClass("lastPage")}k=this.calculatePosition(f);if(this.cssTransition){this.touch.lastdX=k;i.css("transform","translateX("+k+"px)")}else{i.animate({left:k},800)}this.touch.transition=true;var n=this;setTimeout(function(){n.touch.transition=false},800);d.AsMetrics.fireMicroEvent({feature:this.options.omnitureScrollFeatureName,eVar:this.options.omniturePropertyName,action:f<l?"left":"right"})}}})}(this,jQuery,can,as));(function(c,d,b,a,e){d(function(){d(".lateral-navbar").each(function(){new a.LateralNavLiquid(d(this))})})}(this,jQuery,can,as));(function(c,d,b,a,e){a.MobileBanner=b.Control.extend({defaults:{scaleFactor:1,expiryInMs:30,skip:false,viewLimit:2,sessionViewLimit:1,offsetY:80,storeUrl:null,bannerNodeUrl:null,storageKey:"AppleStoreAppBannerViews",sessionKey:"AppleStoreAppBannerSessionViews",bannerContent:b.compute(false),}},{init:function(){this.canClose=b.compute(false);this.docBody=d("body");this.checkViewLimits();c.scrollTo(0,0)},checkViewLimits:function(){this.localStorage=new c.Storage({expires:this.options.expiryInMs});this.sessionStorage=new c.Storage({session:true,expires:this.options.expiryInMs});if(this.sessionStorage.get(this.options.sessionKey)<this.options.sessionViewLimit&&this.localStorage.get(this.options.storageKey)<this.options.viewLimit){this.prepOverlay()}else{return false}},prepOverlay:function(){this.overLayTemplate='<div class="overlay" tabindex="-1" {{#if isAriaDialog}} role="alertdialog" aria-describedby="overlayContent{{uid}}" aria-labelledby="overlayHeading{{uid}}" {{/if}}><div class="container"><div class="content" id="overlayContent{{uid}}" style="{{{as.WebOverlay.contentSize width height}}}">{{#if contentIsHtml}}{{{content}}}{{else}}{{#if contentIsTemplate}}{{{as.include content}}}{{else}}{{content}}{{/if}}{{/if}}</div>{{#if recoveryOptions.length}}<ul class="buttons recoveryOptions">{{#recoveryOptions}}<li><button{{data \'recoveryOption\'}}>{{text}}</button></li>{{/recoveryOptions}}</ul>{{/if}}</div></div>';var g=d("<script>").attr({type:"text/mustache",id:"MobileBannerTemplate"}).html(this.overLayTemplate),f=d(document.body).append(g);this.showOverlay()},showOverlay:function(){var f=this;this.overlay=new a.WebOverlay(document,{contentArgs:{type:"ajax",val:this.options.bannerNodeUrl},isAriaDialog:b.compute(true),modal:true,template:"MobileBannerTemplate",canClose:this.canClose,contentIsHtml:b.compute(true),contentLoaded:this.options.bannerContent,className:"mobilebanner",isMaterialized:b.compute(false)});this.overlay.open()},"{bannerContent} change":function(){var i="app overlay displayed",f=d(".mobilebanner .app-download-modal-inside");if(f.length>0){var h=f.data("prop36"),g=(h)?this.fireMetrics(h):this.fireMetrics(i);d("#page").delay(1000).hide(0)}else{this.overlay.close()}},".mobilebanner .close click":function(f,g){var j="app overlay close button clicked",i=f.data("prop36"),h=(i)?this.fireMetrics(i):this.fireMetrics(j);d("#page").show();this.closeOverlay();this.registerView()},".download-button click":function(f,g){d("#page").show();g.preventDefault();this.localStorage.set(this.options.storageKey,this.options.viewLimit);this.sessionStorage.set(this.options.sessionKey,this.options.sessionViewLimit);var j="app overlay download link clicked",i=f.data("prop36"),h=(i)?this.fireMetrics(i):this.fireMetrics(j);this.closeOverlay();this.registerView("download");this.downloadRedirectTimeout=c.setTimeout(function(){d.AsEnv.doRedirect(g.target.href)},50)},closeOverlay:function(){d("page").show(0);this.canClose(true);this.overlay.close();this.docBody.removeClass("mobilebanner-open")},registerView:function(g){if(g){this.localStorage.set(this.options.storageKey,this.options.viewLimit);this.sessionStorage.set(this.options.sessionKey,this.options.sessionViewLimit)}else{var f=parseInt(this.localStorage.get(this.options.storageKey),10)||0,h=parseInt(this.sessionStorage.get(this.options.sessionKey),10)||0;this.localStorage.set(this.options.storageKey,f+1);this.sessionStorage.set(this.options.sessionKey,h+1)}},fireMetrics:function(f){if(f){a.Tracking.track(null,"Mobile Overlay",{linkTrackVars:"prop36",linkTrackEvents:"None",prop36:f})}}})}(this,jQuery,can,as));(function(c,d,b,a,e){a.MobileGlobalNav=b.Control.extend({defaults:{menu_icon:"#gh-menu-icon-toggle",global_header:"#globalheader",showClass:"gh-show-nav",navList:"#gh-nav-list",menuIconButton:"#gh-svg-icons",closeImmediately:"gh-immediate",animateList:"gh-nav-reveal",enhance:"enhance",defaultFontSize:18,storeHeaderSelector:".globalheader.stack-item ~ .store-header"}},{init:function(){d(this.options.global_header).addClass(this.options.animateList);this.navList=d(this.options.navList);this.menuIconButton=d(this.options.menuIconButton);this.navList.attr("aria-hidden","true");if(d.AsSupport.threeDTransforms){d(this.options.menu_icon).addClass(this.options.enhance)}d(c).bind("orientationchange",b.proxy(this.updateScale,this));this.updateScale()},updateScale:function(){var g=a.ViewPort;if(g.shouldScale()){var f;var h=d(this.options.global_header);var i=(c.orientation===0)?true:false;if(i){f=this._portraitFontSize}else{f=this._landscapeFontSize}if(!f){f=(g.getScale()*this.options.defaultFontSize)+"px";if(i){this._portraitFontSize=f}else{this._landscapeFontSize=f}}h.css("font-size",f);d(this.options.storeHeaderSelector).css("padding-top",h[0].offsetHeight+"px")}},"{menu_icon} touchend":function(h,f){f.preventDefault();var g=d(document.body);g.removeClass(this.options.closeImmediately);g.toggleClass(this.options.showClass);this.toggleAriaExpanded()},"{document.body} touchstart":function(g,f){var i=d(f.target);var h=d(document.body);if(h.hasClass(this.options.showClass)&&i.closest(this.options.global_header).length===0){h.removeClass(this.options.showClass);h.addClass(this.options.closeImmediately);this.menuIconButton.attr("aria-expanded","false");this.navList.attr("aria-hidden","true")}},toggleAriaExpanded:function(){var f=this.menuIconButton.attr("aria-expanded");if(f==="false"){this.menuIconButton.attr("aria-expanded","true");this.navList.attr("aria-hidden","false")}else{this.menuIconButton.attr("aria-expanded","false");this.navList.attr("aria-hidden","true")}}})}(this,jQuery,can,as));
/*!
 * CanJS - 2.1.0
 * http://canjs.us/
 * Copyright (c) 2014 Bitovi
 * Wed, 07 May 2014 14:59:26 GMT
 * Licensed MIT
 * Includes: can/construct/proxy
 * Download from: http://canjs.com
 */
(function(b){var a=(function(h,d){var k=h.isFunction,e=h.isArray,j=h.makeArray,g=function(l){var m=j(arguments),i;l=m.shift();if(!e(l)){l=[l]}i=this;return function n(){var s=m.concat(j(arguments)),o,q=l.length,r=0,p;for(;r<q;r++){p=l[r];if(!p){continue}o=typeof p==="string";s=(o?i[p]:p).apply(i,s||[]);if(r<q-1){s=!e(s)||s._use_call?[s]:s}}return s}};h.Construct.proxy=h.Construct.prototype.proxy=g;var c=[h.Map,h.Control,h.Model],f=0;for(;f<c.length;f++){if(c[f]){c[f].proxy=g}}return h})(window.can,b)})();(function(c,d,b,a,e){a.HTMLBinding=b.Control.extend({defaults:{animate:true,alwaysVisible:true,animateOnInit:true,animateHeight:true,content:b.compute(""),animationDuration:300,updateCallback:b.noop,updateVisibility:b.noop}},{shouldShow:b.compute(true),visible:b.compute(true),initialising:true,newValue:null,queuedValue:null,locked:false,started:false,oldHeight:null,init:function(){this.visible=b.compute(true);this.shouldShow=b.compute(true);if(!this.options.alwaysVisible){this.shouldShow=b.compute(function(){if(this.options.updateVisibility()){return !!this.options.content()&&this.options.updateVisibility()}else{return !!this.options.content()}},this)}if(this.options.animate){new a.Materializer(this.element,{materialize:this.visible,hiddenCallback:this.proxy("showElement"),shownCallback:this.proxy("cleanup")})}this.newValue=this.options.content();if(this.options.animateOnInit){this.hideElement()}else{this.cleanup()}},"{content} change":"handleChange",handleChange:function(i,h,g,f){if(f===e){f=d.trim(this.element.html())}g=d.trim(g);f=d.trim(f);if(g===f||d.trim(this.element.html())===g){return}if(!this.locked){this.newValue=g;if(!this.started){this.hideElement()}}else{this.queuedValue=g}},hideElement:function(){this.started=true;if(this.options.animate){if(this.options.animateHeight){this.element.css("height","auto");this.oldHeight=this.element.height()}if(!this.visible()){this.showElement()}else{this.visible(false)}}else{if(!this.shouldShow()){this.element.hide()}this.showElement()}},updateElement:function(){this.element.html(this.newValue)},showElement:function(){var f;this.updateElement();this.locked=true;if(this.options.animate){if(this.shouldShow()){this.visible(true);if(this.options.animateHeight){f=this.element.height();this.element.height(this.oldHeight);this.element.animate({height:f},this.options.animationDuration)}}else{this.cleanup()}}else{if(this.shouldShow()){this.element.show()}this.cleanup()}},cleanup:function(){this.setTimeout(function(){this.locked=false;this.started=false;if(!this.initialising){this.options.updateCallback.call(this,this.newValue)}else{this.initialising=false}if(this.queuedValue!==null){this.newValue=this.queuedValue;this.queuedValue=null;this.hideElement()}},150)}})})(this,jQuery,can,as);(function(){as.TextBinding=as.HTMLBinding.extend({defaults:{}},{init:function(){this._super()},updateElement:function(){this.element.text(this.newValue)}})})(this,jQuery,can,as);(function(j,h,e){h.fn.AsKeyboard=function(m){if(d[m]){return d[m].apply(this,Array.prototype.slice.call(arguments,1))}else{h.error("Method "+m+" does not exist on jQuery.AsKeyboard")}};function l(n){var m=parseInt(h(this).attr(b),10);if(m===-32768){m=parseInt(this.tabIndex,10)}return isNaN(m)||m>=0}function k(n,m){return h(this).attr(b)||""}function i(n,m){return h(this).attr(g)}var c="a,input,select,button,textarea,*[tabindex]";var b="tabindex";var g="data-tabindex";var a="*["+g+"]";var f={fallbackIdentifier:"focusable-fallback",disabledClass:"focusable-disabled",forceEnabled:false,isAffectedBrowser:function(){return(this.forceEnabled||(document.documentMode&&document.documentMode<=9))},disable:function(n){var m=this;if(this.isAffectedBrowser()){n.filter("input:radio").each(function(){var o=h(this),p=o.data(m.fallbackIdentifier);if(!p&&o.is(":checked")){p=h('<input type="hidden"/>');p.attr({name:o.attr("name"),value:o.val()}).addClass(m.fallbackIdentifier).insertBefore(o);o.data(m.fallbackIdentifier,p)}o.attr("disabled",true).addClass(m.disabledClass)})}},enable:function(n){var m=this;if(this.isAffectedBrowser()){n.filter("input:radio.focusable-disabled").each(function(){var o=h(this),p=o.data(m.fallbackIdentifier);if(p){p.remove()}o.attr("disabled",false).removeClass(m.disabledClass).data(m.fallbackIdentifier,null)})}}};var d={findFocusable:function(o,m){var n=typeof m==="boolean"?m:true;var p=typeof o==="number"?o:Infinity;var q=this.find(c).filter(l);if(n){q=q.filter(":visible")}return q.slice(0,p)},findStashedFocusable:function(){return this.find(a)},disableFocusable:function(){this.attr(g,k);this.attr(b,-1);f.disable(this)},restoreFocusable:function(){this.attr(b,i);this.removeAttr(g);f.enable(this)},enableRadioFix:function(){f.forceEnabled=true},disableRadioFix:function(){f.forceEnabled=false}}})(this,jQuery);(function(c,d,e){d.fn.AsAria=function(h){if(a[h]){var g=Array.prototype.slice.call(arguments,1);return a[h].apply(this,g)}else{d.error("Method "+h+" does not exist on jQuery.AsAria")}};var b="aria-id-";var f=0;var a={hideOthers:function(){this.attr("aria-hidden","false");this.attr("tabindex",null);this.siblings().attr("aria-hidden","true");var g=this.parent();if(g.length>0&&!g.is("body")){g.AsAria("hideOthers")}return this},showOthers:function(){d("*[aria-hidden]").attr("aria-hidden",null);this.attr("aria-hidden","true");this.attr("tabindex","-1");return this},associateNodes:function(h){var g=d(h).first();var i=g.attr("id");if(!i){g.attr("id",b+f);f+=1}this.attr("aria-describedby",g.attr("id"));return this},disassociateNodes:function(){this.attr("aria-describedby",null);return this}}})(this,jQuery);(function(e,f,d,a,g){var c=f.AsEnv;var b=f.AsSupport;d.Component.extend({tag:"computed-height",scope:{dataType:"@",dataHeight:"@",dataUpdate:"@",dataProperty:"@",dataRecompute:null},events:{inserted:function(){var h=f.proxy(this.scope.attr,this.scope);h("dataType",h("dataType")!=="document");h("dataProperty",h("dataProperty")||"height");h("dataHeight",parseFloat(h("dataHeight"),10)||100);h("dataUpdate",h("dataUpdate")!=="false"&&h("dataType"));this.usingVh=h("dataUpdate")&&h("dataType")&&b.vhHeight&&b.iosVersion<=0;if(this.usingVh){this.element.css(h("dataProperty"),h("dataHeight")+"vh")}this["updateSize"]()},"{scope} dataRecompute":function(){this["updateSize"]()},"{window} resize":"updateSize",updateSize:function(m,k){if(!this.usingVh&&(this.scope.attr("dataUpdate")||!m)){var l=document.documentElement.clientWidth!==c.getViewportWidth();var j=l?document.documentElement.clientHeight:c.getViewportHeight();var h=this.scope.attr("dataType")?j:f(document).height();var i=this.scope.attr("dataHeight")/100;this.element.css(this.scope.attr("dataProperty"),i*h)}}}})})(this,jQuery,can,as);(function(c,d,b,a,e){b.view.scriptTemplate=function(f){return function(h,g){return b.view.render(f,h,g)}};a.WebOverlayComponent=b.Component.extend({tag:"overlay",template:b.view.scriptTemplate("{{WebOverlayComponent}}"),scope:{dAct:"data-click",materializerShown:false,screenHeight:null,dataUid:"@",dataSheet:"@",dataOffsetTop:"@",dataOffsetLeft:"@",dataOffsetTopAbsolute:"@",dataOffsetLeftAbsolute:"@",dataCloseSelector:"@",dataWidth:"@",dataHeight:"@",dataHasScreen:"@",dataClickaway:"@",dataShown:null,dataShowDone:false,dataHideDone:false},events:{inserted:function(){var m=d.proxy(function(n,h,p){var o=this.scope.attr(n)||h;this.scope.attr(n,p?p(o):o)},this);var l=function(h){return h!=="false"};var i=function(h){return h==="true"};if(!this.scope.attr("inserted")){var k=this.element;this.overlay=k.find(".overlay");this.materializer=k.find(".overlay-materializer");var g=!!this.scope.attr("dataShown");this.scope.attr("inserted",true);this.scroll=null;this.$hide=null;d("body").prepend(this.element);m("dataOffsetTop",0,parseInt);m("dataOffsetLeft",0,parseInt);m("dataWidth",0,parseInt);m("dataHeight",0,parseInt);m("dataCloseSelector",".close, .cancel");m("dataSheet","false",i);m("dataClickaway","true",l);m("dataHasScreen",""+(!this.scope.attr("dataSheet")),l);var f=this.scope.attr("dataWidth");var j=this.scope.attr("dataHeight");if(f>0){this.overlay.css("width",f)}if(j>0){this.overlay.css("height",j)}if(this.scope.attr("dataShown")===g){this.shownChangeHandler(!!g)}else{this.scope.attr("dataShown",g)}}},removed:function(){this.shownChangeHandler(false)},"{scope} dataShown":function(f,g,i,h){this.shownChangeHandler(i)},"{scope} dataSheet":function(f,g,i,h){this.materializer.toggleClass("sheet-materializer",i)},"{scope} dataShowDone":function(i,j,g,h){var f=this.scope.attr("dataSheet")&&this.scope.attr("dataShown");if(f&&g){this.materializer.removeClass("fixed");d(document).scrollTop(0);d("body > :not(overlay)").addClass("under-sheet");if(g){d("#page").css("display","none")}}},shownChangeHandler:function(j){var h=this.element;var i=this.scope.attr("dataSheet");this.overlay.css({left:0,top:0});h.attr("aria-hidden",!j);h.attr("tabindex",j?null:"-1");if(j){this.scope.attr("screenHeight",d("body").height())}if(j){this.clicked=true;c.setTimeout(d.proxy(function(){this.clicked=false},this),1)}if(j){this.$hide=h.siblings(":not([aria-hidden=true])")}if(this.$hide){var l=j?"findFocusable":"findStashedFocusable";var g=j?"disableFocusable":"restoreFocusable";this.$hide.AsKeyboard(l).AsKeyboard(g);this.$hide.attr("aria-hidden",j?"true":null).filter("overlay").attr("tabindex",j?"-1":null);if(!j){this.$hide=null}}if(j){this.triggerElement=this.triggerElement||d(":focus");d(":focus").trigger("blur");this.overlay.focus()}if(i&&j){this.scroll=d(document).scrollTop();this.materializer.addClass("fixed");this.materializer.css("top","")}else{if(i&&!j){var k=d(document);var f=d(".sheet-materializer.show");if(f.not(this.materializer).length<=0){d(".under-sheet").removeClass("under-sheet")}if(d(".sheet-show-done").length<=0){d("#page").css("display","")}c.setTimeout(d.proxy(function(){this.materializer.css("top",-k.scrollTop());this.materializer.addClass("fixed");c.setTimeout(d.proxy(function(){k.scrollTop(this.scroll);this.triggerElement.focus();this.triggerElement=null;c.setTimeout(d.proxy(function(){this.scope.attr("materializerShown",j)},this),1)},this),1)},this),1)}}if(!i||j){this.scope.attr("materializerShown",j)}if(j){this.position()}},position:function(){var m=this.scope.attr("dataOffsetLeft")||0;var k=this.scope.attr("dataOffsetTop")||0;var i=d(document);var g=c.document.documentElement;var f=d.type(c.innerWidth)==="number";var l={w:f?c.innerWidth:g.clientWidth,h:f?c.innerHeight:g.clientHeight};var j={w:parseInt(this.overlay.css("marginLeft"),10),h:parseInt(this.overlay.css("marginTop"),10)};var h={w:this.overlay.outerWidth(),h:this.overlay.outerHeight()};var n={w:i.width(),h:i.height()};if(this.scope.attr("dataOffsetLeftAbsolute")!=="true"){m+=i.scrollLeft()+l.w/2-j.w-h.w/2}if(this.scope.attr("dataOffsetTopAbsolute")!=="true"){k+=i.scrollTop()+l.h/2-j.h-h.h/2}m=Math.min(n.w-(h.w+j.w+2),m);k=Math.min(n.h-(h.h+j.h+2),k);m=Math.max(-j.w+12,m);k=Math.max(-j.h+12,k);c.mySpVar=[l,j,h,n,m,k];this.overlay.css({left:m,top:k})},"{window} orientationchange":"position",'{document} [data-overlay="{dataUid}"] click':"takeAction",'{document} [data-overlay="{dataUid}"] keydown':function(g,f){if(f.keyCode===d.AsEvent.Keyboard.Return||f.keyCode===d.AsEvent.Keyboard.Space){f.preventDefault();this.takeAction(g)}},takeAction:function(h){this.clicked=true;var g=h.attr(this.scope.attr("dAct")),f=null;if(g){f=g==="show"?true:g==="hide"?false:!this.scope.attr("dataShown");this.triggerElement=f?h:this.triggerElement;this.scope.attr("dataShown",f)}},"{document} keydown":function(g,f){if(f.keyCode===d.AsEvent.Keyboard.Esc){this.scope.attr("dataShown",false)}},"{dataCloseSelector} click":function(){this.scope.attr("dataShown",false)},".overlay click":function(f,g){this.clicked=true},"{document} click":function(f,g){if(this.scope.attr("dataClickaway")&&!this.clicked){this.scope.attr("dataShown",false)}this.clicked=false}}})})(this,jQuery,can,as);(function(f,g,e,b,h){var d=g.AsSupport;var c=g.AsEnv;var a=function(i){return function(l,k){var j=g(document.getElementById(i));return j.attr("src")?e.view.render(j.attr("src"),l,k):j.length>0?e.view.render(i,l,k):"Template Not Found: "+i}};e.Component.extend({tag:"gallery",template:a("{{Gallery}}"),scope:{dataStop:"@",dataUid:"@",dataFadeTime:"@",dataDisableTouchOnZoom:"@",dataPage:null,dataPages:null,dataPagesNear:null,dataPageFirst:null,dataPageLast:null,transitionEnd:d.transitionEndName||"NO_TRANSITION"},events:{inserted:function(){var i=g.proxy(this.scope.attr,this.scope);var k=parseFloat(i("dataFadeTime"),10);var j=parseFloat(i("dataPage"),10);i("dataPages",[]);i("dataPagesNear",[]);i("dataStop",i("dataStop")||".item");i("dataFadeTime",!isNaN(k)?k:0.5);i("dataPage",0);this.updatePages(i("dataPage"));this.element.addClass("gallery");this.$scroll=this.element.children(".gallery-scroll");this.state=null;this.position=0;this.totalTouches=0;this.touchLock=false;this.touchLockTimer=null;this.xsSample=3;this.maxVelo=0.2;var l=e.hyphenate(d.transformProperty);this.transitionProperty=(l!=="transform"?"-":"")+l},getClosestStop:function(k,m){var j=this.element;var l={over:[Infinity,-1],under:[-Infinity,-1],is:false};var n=(j.outerWidth()-j.width())/2;var i=j.offset().left+n;if(!m){j.find(this.scope.attr("dataStop")).each(function(o){var p=Math.round(g(this).offset().left-i);l.is=p===0?[0,o]:l.is;l.over=p>0&&p<l.over[0]?[p,o]:l.over;l.under=p<0&&p>l.under[0]?[p,o]:l.under});return k>0&&l.over[1]>=0?l.over:k<0&&l.under[1]>=0?l.under:l.is?l.is:l.over[0]+l.under[0]>0?l.under:l.over}else{return[g(j.find(this.scope.attr("dataStop")).get(k)).offset().left-i,k]}},getMaxStopOffsetX:function(){var i=-Infinity;this.element.find(this.scope.attr("dataStop")).each(function(){i=Math.max(i,g(this).offset().left)});return i-this.$scroll.offset().left},scroll:function(l,k,i){l=Math.round(l*10000)/100;if(i!==h){var j=this.transitionProperty;i=i===0?0.35:Math.min(Math.max(0,i),1);i=Math.round(i*100000)/100000;this.$scroll.css("transition",j+" "+i+"s ease-out")}if(!d.transition&&!d.transform&&i!==h){this.$scroll.animate({left:l+"%"},Math.round(i*1000),null,g.proxy(function(){this.$scroll.trigger(this.scope.attr("transitionEnd"))},this))}else{if(d.transform){this.$scroll.css("transform","translateX("+l+"%)")}else{this.$scroll.css("left",l+"%")}}if(k!==h){this.position=l/100;this.scope.attr("dataPage",k)}if(i!==h){this.setLock(this.$scroll,i)}},'{document} [data-gallery="{dataUid}"] click':function(j,k){if(this.touchLock){return}var p=null;var n=j.attr("data-click");var r=parseInt(j.attr("data-to"),10);var o=this.scope.attr("dataPage");var l=this.scope.attr("dataStop");var q=this.scope.attr("dataFadeTime");var m=this.element.width();if(n==="next"||n==="previous"){p=this.getClosestStop(n==="next"?1:-1);if(p[0]!==0){this.scroll(-p[0]/m+this.position,p[1],0)}}if(n==="fade"&&!isNaN(r)&&r!==o){p=this.getClosestStop(r,true);if(q>0&&d.transition){var s=this.$scroll.find(l);var i=g(s.get(o));var t=g(s.get(p[1]));t.addClass("gallery-stop-near");t.removeClass("gallery-stop-far");i.addClass("gallery-stop-fading");i.css({position:"relative",left:Math.round(p[0]),transition:"opacity "+q+"s ease",opacity:0});this.setLock(i,q)}this.scroll(this.position-p[0]/m,r)}},"{scope} dataPage":function(l,k,i,j){this.updatePages(i)},updatePages:function(j){var i=g.proxy(this.scope.attr,this.scope);var k=this.element.find(i("dataStop"));k.each(function(m){var n=m>=j-1&&m<=j+1;var l=g(this);l.attr("aria-hidden",j===m?null:"true");l.find("a").attr("tabindex",j===m?null:"-1");l.toggleClass("gallery-stop-far",!n);l.toggleClass("gallery-stop-near",n);l.toggleClass("gallery-stop-selected",m===j);i("dataPages."+m,m===j);i("dataPagesNear."+m,m>=j-1&&m<=j+1)});i("dataPageFirst",j===0);i("dataPageLast",j===k.length-1)},clamp:function(k,j,l,i){if(i>k&&i<j){return i}var m=Math.min(l,i>j?i-j:k-i);m=m-(m*m/(l*2));return i>j?j+m:k-m},otherTouch:function(i,j){this.totalTouches=j.originalEvent.touches.length},"{document} touchstart":"otherTouch","{document} touchend":"otherTouch",touchMoved:function(j,k){var p=k.originalEvent.targetTouches;var n=document.documentElement.clientWidth!==c.getViewportWidth()&&this.scope.attr("dataDisableTouchOnZoom")!==null;var o=p.length===1&&k.originalEvent.touches.length<=1&&this.totalTouches<=1&&!this.touchLock&&!n;var s=this.state=this.state||(o&&{id:p[0].identifier,initX:p[0].pageX,maxX:this.getMaxStopOffsetX(),extW:this.element.width(),xs:[]});var m=o&&g.grep(p,g.proxy(function(t){return t.identifier===this.state.id},this))[0];if(m){s.xs.unshift({t:(new Date()).getTime(),x:m.pageX});s.xs.length=Math.min(this.xsSample,s.xs.length);if(s.xs.length>1){k.originalEvent.preventDefault();s.dX=-this.clamp(0,s.maxX,s.extW,-m.pageX+s.initX-this.position*s.extW);this.scroll(s.dX/s.extW)}}if(!m){this.state=null}if(!m&&s&&s.dX){var r=s.xs.length<2?0:(s.xs[s.xs.length-1].x-s.xs[0].x)/(s.xs[s.xs.length-1].t-s.xs[0].t)*-1;var l=Math.abs(r)>this.maxVelo?(r<0?-1:1):0;var q=this.getClosestStop(l);var i=-q[0]+s.dX;this.scroll(i/s.extW,q[1],l?Math.abs((i-s.dX)/r)/1000:0)}}," touchstart":"touchMoved"," touchmove":"touchMoved"," touchend":"touchMoved"," touchcancel":"touchMoved",setLock:function(i,j){this.touchLock=true;this.touchLockTimer=f.setTimeout(g.proxy(function(){i.trigger(this.scope.attr("transitionEnd"))},this),(j+0.5)*1000)},"{transitionEnd}":function(j,l){var i=g(l.target);var k=this.scope.attr("dataStop");if(l.target===this.$scroll[0]||i.is(k)){i.removeClass("gallery-stop-fading");i.css({transition:"",opacity:"",position:""});if(i[0]!==this.$scroll[0]){i.css({left:""})}this.touchLock=false;f.clearTimeout(this.touchLockTimer)}},"{window} pageshow":function(){this.touchLock=false}}})})(this,jQuery,can,as);(function(d,e,c,a,f){var b=e.AsEvent;a.KeyTrigger=c.Component.extend({tag:"keytrigger",scope:{dataKey:"@",dataIf:"@"},events:{inserted:function(){var g=e.proxy(this.scope.attr,this.scope);var h=g("dataKey");h=h in b.Keyboard?b.Keyboard[h]:(parseInt(h,10)||-1);g("dataKey",h)},"{document} keydown":function(g,i){var h=this.scope.attr("dataIf");h=!h||this.element.is(h);if(i.which===this.scope.attr("dataKey")&&h){this.element.trigger("click")}}}})})(this,jQuery,can,as);(function(d,e,c,a,f){var b=e.AsSupport;a.Sticky=c.Component.extend({tag:"sticky",scope:{dataNoCss:"@",dataNoPin:"@",dataMobileNoCss:"@",dataMobileNoPin:"@",dataMinHeight:"@",dataMaxHeight:"@"},events:{inserted:function(){var h=e.proxy(this.scope.attr,this.scope);var g=b.iosVersion>0||b.androidVersion>0;this.$doc=e(document);this.useCss=b.positionSticky&&((h("dataNoCss")===null)&&(h("dataMobileNoCss")===null||!g));this.usePin=(h("dataNoPin")===null)&&(h("dataMobileNoPin")===null||!g);this.minHt=parseInt(h("dataMinHeight"),10)||h("dataMinHeight")||this.element.offset().top;this.maxHt=parseInt(h("dataMaxHeight"),10)||h("dataMaxHeight")||Infinity;this.element.toggleClass("sticky-css",this.useCss);this.element.addClass("sticky");this["{window} scroll"]()},getOffsetHeight:function(j,g){var h=e.type(j)==="string"?e(j):null;var i=h&&((h.outerHeight(true)-h.outerHeight())/2);return h?(h.offset().top-(g?i:0)):j},"{window} scroll":function(){if(this.useCss){return}var h=this.$doc.scrollTop();var g=this.getOffsetHeight(this.minHt,false);var i=this.getOffsetHeight(this.maxHt,true)-this.element.outerHeight(true);if(this.usePin){this.element.toggleClass("stuck-pin-start",h<=g);this.element.toggleClass("stuck-pin-end",h>=i);this.element.toggleClass("stuck",h>g&&h<i)}else{this.element.css("top",Math.min(i,Math.max(g,h))-this.element.parent().offset().top)}}}})})(this,jQuery,can,as);(function(e,f,d,b,g){var c=f.AsSupport;var a=function(h){return function(k,j){var i=f(document.getElementById(h));return i.attr("src")?d.view.render(i.attr("src"),k,j):i.length>0?d.view.render(h,k,j):"Template Not Found: "+h}};d.Component.extend({tag:"deferred-image",template:a("{{DeferredImage}}"),scope:{dataSrc:"@",dataTempSrc:"@",dataTrigger:null,dataImg:"@",isLoaded:null},events:{inserted:function(){var h=f.proxy(this.scope.attr,this.scope);h("dataImg",h("dataImg")!==null);this.element.addClass("deferred-image loading");if(!this.img||!this.loadingStarted){this.img=null;this.loadingStarted=false}if(c.isIe&&c.ieVersion<9){this["{scope} dataTrigger"](null,null,true,false)}},"{scope} dataTrigger":function(j,h,i,k){if(i&&!this.loadingStarted){this.loadingStarted=true;this.img=new Image();this.img.onload=f.proxy(function(){this.element.addClass("loading-done");this.element.removeClass("loading");this.scope.attr("isLoaded",true)},this);this.img.src=this.scope.attr("dataSrc")}}}})})(this,jQuery,can,as);(function(a){function b(){}a.s={t:b,tl:b,pageName:"disabled",disabled:true}}(window));jQuery(document).ready(function(a){a(document).AsImageReplacer()});(function(e,g,d,a,h){var f=function(){var m=g("#apple-header");var k=g("#globalheader");var l=document.referrer.match(/^\w*:\/\/([A-Za-z0-9_\-~]*\.)+apple\.com/);var i=function(){m.css("visibility","visible").addClass("globalheader-loaded").off(g.AsSupport.animationEndName,i)};if(m){var j=g.AsSupport.iosVersion===0||g.AsSupport.iosVersion>3.2;if(g.AsSupport.transform&&g.AsSupport.animation){m.addClass("decelerate");if(g.AsSupport.isMobileIos||g.AsSupport.isIpad){m.addClass("ios");if(!j){m.addClass("ios3")}}}if(g.AsSupport.transition&&g.AsSupport.gradient&&j){m.addClass("enhanced")}if(g.AsSupport.animation&&!l){m.on(g.AsSupport.animationEndName,i);e.setTimeout(function(){m.addClass("outside")},30)}else{i()}}if(k){if(g.AsSupport.ieVersion===8||!g.AsSupport.backgroundSvg){k.addClass("gh-oldie")}if(g.AsSupport.isMobileIos){k.addClass("mobile-ios")}var n=g("#globalheader .gh-menu:visible");if(n.length!==0){new a.MobileGlobalNav(g(document.body),{})}}};var c=function(){g("html").addClass(g.AsSupport.touch?"touch":"no-touch")};var b=function(){g("html").addClass(g.AsSupport.backgroundSvg?"svg":"")};g(function(){f();c();b();g.AsMetrics.init();var n=new a.MetricsLink(g(document.body),{});var l=new a.PopupLink(g(document.body),{});var j=new a.SuperLink(g(document.body),{});var m=new a.RelatedLink(g(document.body),{});var k=new a.ScrollToAnchor(g(document.body),{});var i=new a.ToggleClassLink(g(document.body),{});if(g.type(a.WebComponentize)==="function"){a.WebComponentize()}})}(this,jQuery,can,as));
/*!
* jQuery++ - 1.0.1 (2013-02-07)
* http://jquerypp.com
* Copyright (c) 2013 Bitovi
* Licensed MIT
*/
(function(f){var a=document.defaultView&&document.defaultView.getComputedStyle,i=/([A-Z])/g,b=/-([a-z])/ig,d=function(j,k){return k.toUpperCase()},g=function(j){if(a){return a(j,null)}else{if(j.currentStyle){return j.currentStyle}}},c=/float/i,e=/^-?\d+(?:px)?$/i,h=/^-?\d/;f.styles=function(m,u){if(!m){return null}var q=g(m),l,n,k=m.style,r={},s=0,p,t,o,j;for(;s<u.length;s++){j=u[s];l=j.replace(b,d);if(c.test(j)){j=f.support.cssFloat?"float":"styleFloat";l="cssFloat"}if(a){j=j.replace(i,"-$1").toLowerCase();n=q.getPropertyValue(j);if(j==="opacity"&&n===""){n="1"}r[l]=n}else{o=j.replace(b,d);r[l]=q[j]||q[o];if(!e.test(r[l])&&h.test(r[l])){p=k.left;t=m.runtimeStyle.left;m.runtimeStyle.left=m.currentStyle.left;k.left=o==="fontSize"?"1em":(r[l]||0);r[l]=k.pixelLeft+"px";k.left=p;m.runtimeStyle.left=t}}}return r};f.fn.styles=function(){return f.styles(this[0],f.makeArray(arguments))};return f})(jQuery);
/*!
* jQuery++ - 1.0.1 (2013-02-07)
* http://jquerypp.com
* Copyright (c) 2013 Bitovi
* Licensed MIT
*/
(function(b){var c=/button|select/i,e={},a={width:["Left","Right"],height:["Top","Bottom"],oldOuterHeight:b.fn.outerHeight,oldOuterWidth:b.fn.outerWidth,oldInnerWidth:b.fn.innerWidth,oldInnerHeight:b.fn.innerHeight},d=b.fn.jquery>="1.8.0";b.each({width:"Width",height:"Height"},function(h,f){e[h]=function(k,i){var l=0;if(!c.test(k.nodeName)){var j=[];b.each(a[h],function(){var m=this;b.each(i,function(n,o){if(o){j.push(n+m+(n=="border"?"Width":""))}})});b.each(b.styles(k,j),function(m,n){l+=(parseFloat(n)||0)})}return l};if(!d){b.fn["outer"+f]=function(i,j){var k=this[0];if(typeof i=="number"){k&&this[h](i-e[h](k,{padding:true,border:true,margin:j}));return this}else{return k?a["oldOuter"+f].apply(this,arguments):null}};b.fn["inner"+f]=function(i){var j=this[0];if(typeof i=="number"){j&&this[h](i-e[h](j,{padding:true}));return this}else{return j?a["oldInner"+f].apply(this,arguments):null}}}var g=function(i){return function(j){if(j[d?"pos":"state"]==0){j.start=b(j.elem)[h]();j.end=j.end-e[h](j.elem,i)}j.elem.style[h]=(j.pos*(j.end-j.start)+j.start)+"px"}};b.fx.step["outer"+f]=g({padding:true,border:true});b.fx.step["outer"+f+"Margin"]=g({padding:true,border:true,margin:true});b.fx.step["inner"+f]=g({padding:true})});return b})(jQuery);(function(e,f,d,a,g){var c=d.List({setup:function(h,i){this._getId=i;this._super(h)},find:function(k){var i=this._getId,j=null,h=-1;this.each(function(m,l){if(i(m)===k){j=m;h=l;return false}});return{item:j,index:h}}});var b=function(){return Math.random()*new Date().getTime()};a.Manager=d.Control.extend({defaults:{prefix:b(),createdEvent:"created",destroyedEvent:"destroyed"},createId:b},{uid:"0",managedFlag:"isManaged",elementList:new c([]),init:function(){var h=this;this.uid=this.options.prefix+"."+this.constructor.createId();this.managedFlag=this.options.prefix+".Managed";this.elementList=new c([],function(i){return i.id})}," {createdEvent}":"handleCreatedInstance"," {destroyedEvent}":"handleDestroyedInstance",handleCreatedInstance:function(k,m,h){m.stopPropagation();var j=h.element,i=j.data(this.uid),l=h[this.uid];if(typeof i==="undefined"&&!j.data(this.managedFlag)){i=this.createElement(j)}if(typeof l==="undefined"&&!h[this.managedFlag]){this.createInstance(i,h)}return i},handleDestroyedInstance:function(k,m,h){m.stopPropagation();if(typeof h==="undefined"){return}var j=h.element,i=j.data(this.uid),l=h[this.uid];if(typeof l!=="undefined"){this.destroyInstance(i,l)}},createElement:function(j){var h=this;var k=this.newElement(j);var i=k.id;j.one("removed",function(){var m=f(this),n=m.data(h.uid),l=h.elementList.find(n).index;if(l!==-1){h.destroyElement(l)}});this.elementList.push(k);j.data(this.uid,i);j.data(this.managedFlag,true);return i},destroyElement:function(h){this.elementList.splice(h,1)},newElement:function(i){var h=this;var j=this.constructor.createId();return{id:j,element:i,controls:new c([],function(k){return k[h.uid]})}},destroyInstance:function(h,k){var j=this.elementList.find(h),i=j.index;if(i!==-1){j.item.controls.splice(i,1)}},createInstance:function(k,h){var j=this.elementList.find(k).item.controls,i=this.constructor.createId();j.push(h);h[this.uid]=i;h[this.managedFlag]=true}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.DialogManager=a.Manager.extend({defaults:{prefix:"dialog",createdEvent:"created.dialog",destroyedEvent:"destroyed.dialog"}},{" willOpen":"handleWillOpen"," willClose":"handleWillClose",handleWillOpen:function(g,h,f){h.stopPropagation();this.hideDialogs(f);f.element.triggerHandler("shouldOpen")},handleWillClose:function(g,h,f){h.stopPropagation();f.element.triggerHandler("shouldClose")},hideDialogs:function(){b.each(this.elementList,function(f){f.element.triggerHandler("shouldClose")})}})})(this,jQuery,can,as);(function(b,a,c){b(function(){var d=new a.DialogManager("body")})})(jQuery,as);(function(c,d,b,a,e){a.Dialog=b.Control.extend({init:function(){this.element.trigger("created.dialog",this)}," shouldOpen":"_open"," shouldClose":"_close",open:function(){this.element.trigger("willOpen",this)},close:function(){this.element.trigger("willClose",this)},_open:b.noop,_close:b.noop,destroy:function(){this.element.trigger("destroyed.dialog",this);this._super()}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.Spinner=b.Control.extend({defaults:{delay:b.compute(5000),isOn:b.compute(false),className:"loading spinner"},Behavior:{TransitionDelay:"transitionDelay"}},{init:function(){var f=new a.Materializer(this.element,{materialize:this.options.isOn});this.element.addClass(this.options.className);this.setTransitionDelay()}," {$.AsSupport.transitionEndName}":"setTransitionDelay"," {delay} change":"handleDelayChange",handleDelayChange:function(i,f,h,g){this.setTransitionDelay(h)},setTransitionDelay:function(g){var f=typeof g==="number"?g:this.options.delay();this.element.css(this.constructor.Behavior.TransitionDelay,this.element.hasClass(a.Materializer.UiState.Hide)?f+"ms":"")}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.Content=b.Control.extend({defaults:{content:null,isWaiting:b.compute(false),targetSelector:null,doneCallback:b.noop,failCallback:b.noop,alwaysCallback:b.noop,didSetContent:b.noop,willSetContent:function(f){return f},setContent:function(g,i){var f=i||"html";var h=this.options.targetSelector!==null?this.element.find(this.options.targetSelector):this.element;h[f](g+"")}},},{content:null,contentDef:null,ajaxDef:null,defaultTimeout:5000,init:function(){this.cleanupContentDef=b.proxy(this.cleanupContentDef,this);this.setOrGetContent=b.proxy(this.setOrGetContent,this);this.options.content=b.compute(this.setOrGetContent);if(this.options.setContent===this.constructor.defaults.setContent){this.options.setContent=b.proxy(this.options.setContent,this)}},setupContentDef:function(){if(this.contentDef){this.contentDef.reject()}if(this.ajaxDef){this.ajaxDef.abort()}(this.contentDef=d.Deferred()).done(this.options.doneCallback).fail(this.options.failCallback).always(this.options.alwaysCallback,this.cleanupContentDef)},rejectContentDef:function(){this.contentDef.reject()},resolveContentDef:function(){this.contentDef.resolve()},cleanupContentDef:function(){delete this.contentDef},cleanupAjaxDef:function(){delete this.ajaxDef},setOrGetContent:function(f){var g;if(arguments.length){this.content=f;this.setupContentDef();switch(f.type&&f.type.toLowerCase()){case"ajax":g=this.setContentFromAjax;break;case"html":g=this.setContentFromHtml;break;case"text":g=this.setContentFromText;break;case"sourceid":g=this.setContentFromSourceId;break;case"error":g=this.setContentFromError;break;case"template":g=this.setContentFromTemplate;break;default:break}if(g){g.call(this,f)}else{this.rejectContentDef()}}return this.content},setTargetContent:function(f,g){this.options.setContent(this.options.willSetContent(f),g);this.options.didSetContent()},setContentFromSourceId:function(f){this.setTargetContent(d((f.val[0]!=="#"?"#":"")+f.val).html());this.resolveContentDef()},setContentFromHtml:function(f){this.setTargetContent(f.val);this.resolveContentDef()},setContentFromError:function(f){this.setTargetContent(f.val);this.resolveContentDef()},setContentFromText:function(f){this.setTargetContent(f.val,"text");this.resolveContentDef()},setContentFromAjax:function(g){var f=this;var h;switch(typeof g.val){case"function":h=b.extend({},g.val());break;case"object":h=b.extend({},g.val);break;case"string":h={url:g.val};break}if(typeof h==="object"){h.timeout=h.timeout||this.defaultTimeout;this.options.isWaiting(true);this.ajaxDef=b.ajax(h).always(function(){f.options.isWaiting(false)}).done(function(i){f.setTargetContent(i);f.resolveContentDef()}).fail(function(i){f.rejectContentDef()}).always(function(){f.cleanupAjaxDef()})}else{f.rejectContentDef()}},setContentFromTemplate:function(f){this.setTargetContent(f.val,"template");this.resolveContentDef()}})})(this,jQuery,can,as);(function(c,d,b,a,e){b.Mustache.registerHelper("as.include",function(g,f){return b.view.render(g(),this)})})(this,jQuery,can,as);
/*! jQuery UI - v1.10.2 - 2013-03-28
* http://jqueryui.com
* Includes: jquery.ui.position.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
(function(e,c){e.ui=e.ui||{};var j,k=Math.max,o=Math.abs,m=Math.round,d=/left|center|right/,h=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,b=/%$/,g=e.fn.position;function n(r,q,p){return[parseFloat(r[0])*(b.test(r[0])?q/100:1),parseFloat(r[1])*(b.test(r[1])?p/100:1)]}function i(p,q){return parseInt(e.css(p,q),10)||0}function f(q){var p=q[0];if(p.nodeType===9){return{width:q.width(),height:q.height(),offset:{top:0,left:0}}}if(e.isWindow(p)){return{width:q.width(),height:q.height(),offset:{top:q.scrollTop(),left:q.scrollLeft()}}}if(p.preventDefault){return{width:0,height:0,offset:{top:p.pageY,left:p.pageX}}}return{width:q.outerWidth(),height:q.outerHeight(),offset:q.offset()}}e.position={scrollbarWidth:function(){if(j!==c){return j}var q,p,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=s.children()[0];e("body").append(s);q=r.offsetWidth;s.css("overflow","scroll");p=r.offsetWidth;if(q===p){p=s[0].clientWidth}s.remove();return(j=q-p)},getScrollInfo:function(t){var s=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),q=s==="scroll"||(s==="auto"&&t.width<t.element[0].scrollWidth),p=r==="scroll"||(r==="auto"&&t.height<t.element[0].scrollHeight);return{width:p?e.position.scrollbarWidth():0,height:q?e.position.scrollbarWidth():0}},getWithinInfo:function(q){var r=e(q||window),p=e.isWindow(r[0]);return{element:r,isWindow:p,offset:r.offset()||{left:0,top:0},scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop(),width:p?r.width():r.outerWidth(),height:p?r.height():r.outerHeight()}}};e.fn.position=function(z){if(!z||!z.of){return g.apply(this,arguments)}z=e.extend({},z);var A,w,u,y,t,p,v=e(z.of),s=e.position.getWithinInfo(z.within),q=e.position.getScrollInfo(s),x=(z.collision||"flip").split(" "),r={};p=f(v);if(v[0].preventDefault){z.at="left top"}w=p.width;u=p.height;y=p.offset;t=e.extend({},y);e.each(["my","at"],function(){var D=(z[this]||"").split(" "),C,B;if(D.length===1){D=d.test(D[0])?D.concat(["center"]):h.test(D[0])?["center"].concat(D):["center","center"]}D[0]=d.test(D[0])?D[0]:"center";D[1]=h.test(D[1])?D[1]:"center";C=a.exec(D[0]);B=a.exec(D[1]);r[this]=[C?C[0]:0,B?B[0]:0];z[this]=[l.exec(D[0])[0],l.exec(D[1])[0]]});if(x.length===1){x[1]=x[0]}if(z.at[0]==="right"){t.left+=w}else{if(z.at[0]==="center"){t.left+=w/2}}if(z.at[1]==="bottom"){t.top+=u}else{if(z.at[1]==="center"){t.top+=u/2}}A=n(r.at,w,u);t.left+=A[0];t.top+=A[1];return this.each(function(){var C,L,E=e(this),G=E.outerWidth(),D=E.outerHeight(),F=i(this,"marginLeft"),B=i(this,"marginTop"),K=G+F+i(this,"marginRight")+q.width,J=D+B+i(this,"marginBottom")+q.height,H=e.extend({},t),I=n(r.my,E.outerWidth(),E.outerHeight());if(z.my[0]==="right"){H.left-=G}else{if(z.my[0]==="center"){H.left-=G/2}}if(z.my[1]==="bottom"){H.top-=D}else{if(z.my[1]==="center"){H.top-=D/2}}H.left+=I[0];H.top+=I[1];if(!e.support.offsetFractions){H.left=m(H.left);H.top=m(H.top)}C={marginLeft:F,marginTop:B};e.each(["left","top"],function(N,M){if(e.ui.position[x[N]]){e.ui.position[x[N]][M](H,{targetWidth:w,targetHeight:u,elemWidth:G,elemHeight:D,collisionPosition:C,collisionWidth:K,collisionHeight:J,offset:[A[0]+I[0],A[1]+I[1]],my:z.my,at:z.at,within:s,elem:E})}});if(z.using){L=function(P){var R=y.left-H.left,O=R+w-G,Q=y.top-H.top,N=Q+u-D,M={target:{element:v,left:y.left,top:y.top,width:w,height:u},element:{element:E,left:H.left,top:H.top,width:G,height:D},horizontal:O<0?"left":R>0?"right":"center",vertical:N<0?"top":Q>0?"bottom":"middle"};if(w<G&&o(R+O)<w){M.horizontal="center"}if(u<D&&o(Q+N)<u){M.vertical="middle"}if(k(o(R),o(O))>k(o(Q),o(N))){M.important="horizontal"}else{M.important="vertical"}z.using.call(this,P,M)}}E.offset(e.extend(H,{using:L}))})};e.ui.position={fit:{left:function(t,s){var r=s.within,v=r.isWindow?r.scrollLeft:r.offset.left,x=r.width,u=t.left-s.collisionPosition.marginLeft,w=v-u,q=u+s.collisionWidth-x-v,p;if(s.collisionWidth>x){if(w>0&&q<=0){p=t.left+w+s.collisionWidth-x-v;t.left+=w-p}else{if(q>0&&w<=0){t.left=v}else{if(w>q){t.left=v+x-s.collisionWidth}else{t.left=v}}}}else{if(w>0){t.left+=w}else{if(q>0){t.left-=q}else{t.left=k(t.left-u,t.left)}}}},top:function(s,r){var q=r.within,w=q.isWindow?q.scrollTop:q.offset.top,x=r.within.height,u=s.top-r.collisionPosition.marginTop,v=w-u,t=u+r.collisionHeight-x-w,p;if(r.collisionHeight>x){if(v>0&&t<=0){p=s.top+v+r.collisionHeight-x-w;s.top+=v-p}else{if(t>0&&v<=0){s.top=w}else{if(v>t){s.top=w+x-r.collisionHeight}else{s.top=w}}}}else{if(v>0){s.top+=v}else{if(t>0){s.top-=t}else{s.top=k(s.top-u,s.top)}}}}},flip:{left:function(v,u){var t=u.within,z=t.offset.left+t.scrollLeft,C=t.width,r=t.isWindow?t.scrollLeft:t.offset.left,w=v.left-u.collisionPosition.marginLeft,A=w-r,q=w+u.collisionWidth-C-r,y=u.my[0]==="left"?-u.elemWidth:u.my[0]==="right"?u.elemWidth:0,B=u.at[0]==="left"?u.targetWidth:u.at[0]==="right"?-u.targetWidth:0,s=-2*u.offset[0],p,x;if(A<0){p=v.left+y+B+s+u.collisionWidth-C-z;if(p<0||p<o(A)){v.left+=y+B+s}}else{if(q>0){x=v.left-u.collisionPosition.marginLeft+y+B+s-r;if(x>0||o(x)<q){v.left+=y+B+s}}}},top:function(u,t){var s=t.within,B=s.offset.top+s.scrollTop,C=s.height,p=s.isWindow?s.scrollTop:s.offset.top,w=u.top-t.collisionPosition.marginTop,y=w-p,v=w+t.collisionHeight-C-p,z=t.my[1]==="top",x=z?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,D=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,r=-2*t.offset[1],A,q;if(y<0){q=u.top+x+D+r+t.collisionHeight-C-B;if((u.top+x+D+r)>y&&(q<0||q<o(y))){u.top+=x+D+r}}else{if(v>0){A=u.top-t.collisionPosition.marginTop+x+D+r-p;if((u.top+x+D+r)>v&&(A>0||o(A)<v)){u.top+=x+D+r}}}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var t,v,q,s,r,p=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(p?"div":"body");q={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(p){e.extend(q,{position:"absolute",left:"-1000px",top:"-1000px"})}for(r in q){t.style[r]=q[r]}t.appendChild(u);v=p||document.documentElement;v.insertBefore(t,v.firstChild);u.style.cssText="position: absolute; left: 10.7432222px;";s=e(u).offset().left;e.support.offsetFractions=s>10&&s<11;t.innerHTML="";v.removeChild(t)})()}(jQuery));(function(c,d,b,a,e){a.WebOverlay=a.Dialog.extend({defaults:{spinnerDelay:b.compute(500),canClose:b.compute(true),close:"close",isOpen:b.compute(false),isMaterialized:b.compute(false),isWaiting:b.compute(false),modal:true,spinner:true,recoveryOptions:null,template:"{{WebOverlay}}",errorTemplate:"{{WebOverlayError}}",className:null,isAriaDialog:b.compute(false),autoFocus:b.compute(true),onCloseFocus:document.activeElement,updateOnCloseFocus:true,contentArgs:null,content:b.compute(null),contentIsHtml:b.compute(false),contentIsTemplate:b.compute(false),target:c,width:b.compute(null),widthDelegate:function(f){return f.outerWidth()},height:b.compute(null),heightDelegate:function(f){return f.outerHeight()},positionAt:b.compute("center"),positionOffset:{top:0,left:0},contentSelector:".content",overlaySelector:".overlay",createElement:true,parentElement:null,contentLoaded:b.compute(false),metricsData:null},isTransientElem:function(f){var h=d(f),g=document;return h[0]===g||h[0]===g.body||h[0]===g.documentElement},getOrMakeElement:function(i,f){var h=d("#"+i);var g=f||"body";if(h.length===0){h=d('<div id="'+i+'" />')}if(h.parent()[0]!==document.body){h.appendTo(g)}return h}},{openDef:null,focusDef:null,content:null,dialogManager:null,overlay:null,shouldSizeDynamically:{width:false,height:false},shouldCreateElement:null,ghostElement:null,oldElement:null,setup:function(g,f){var h=d(g);if(h.is(document)){h=d("body")}var i=this.constructor.isTransientElem(g);this.shouldCreateElement=i||this.constructor.defaults.createElement;if(typeof f.createElement!=="undefined"){this.shouldCreateElement=i||f.createElement}if(!this.shouldCreateElement){this.oldElement=h.clone()}f.parentElement=f.parentElement?d(f.parentElement):d("body");this.shouldSizeDynamically=b.extend({},this.constructor.shouldSizeDynamically);f.uid=(new Date()).getTime();f.spinner=f.spinner||f.contentArgs&&f.contentArgs.type==="ajax";f.recoveryOptions=new b.List([]);f.positionOffset=b.extend({},this.constructor.defaults.positionOffset,f.positionOffset);this._super(this.shouldCreateElement?this.constructor.getOrMakeElement("overlay"+f.uid,h):h,f)},init:function(){this._super();this.setupGhostElement();this.element.addClass("WebOverlay");if(this.options.className){this.element.addClass(this.options.className)}this.canTransition=!!(this.options.transitionEnd=d.AsSupport.transitionEndName);var f=this;this.materializer=new a.Materializer(this.element,{materialize:this.options.isMaterialized,shownCallback:function(){f.proxy("position")()}});if(this.options.modal){this.overlayScreen=new a.WebOverlayScreen(this.constructor.getOrMakeElement("overlayScreen"+this.options.uid,this.element),{showing:this.options.isMaterialized,closeHandler:this.proxy("_close")})}if(this.options.spinner){this.overlayWaitingIndicator=new a.Spinner(this.constructor.getOrMakeElement("overlayWaiting"+this.options.uid,this.element),{isOn:this.options.isWaiting,delay:this.options.spinnerDelay,className:"loading spinner-large overlayWaiting"})}this.shouldSizeDynamically.width=!this.options.width();this.shouldSizeDynamically.height=!this.options.height();d(b.view(this.options.template,this.options)).appendTo(this.element);this.overlay=this.element.find(this.options.overlaySelector);this.dialogManager=new a.DialogManager(this.overlay);this.prepareFocusForClose=b.proxy(this.prepareFocusForClose,this);this.prepareFocusForOpen=b.proxy(this.prepareFocusForOpen,this);this.focusForClose=b.proxy(this.focusForClose,this);this.focusForOpen=b.proxy(this.focusForOpen,this);this.cleanupFocusDef=b.proxy(this.cleanupFocusDef,this);this.cleanupOpenDef=b.proxy(this.cleanupOpenDef,this);this.resolveOpenDef=b.proxy(this.resolveOpenDef,this);this.willSetContent=b.proxy(this.willSetContent,this);this.setContent=b.proxy(this.setContent,this);this.failedToGetContent=b.proxy(this.failedToGetContent,this);this.didSetContent=b.proxy(this.didSetContent,this);this.content=new a.Content(this.element,{setContent:this.setContent,willSetContent:this.willSetContent,didSetContent:this.didSetContent,targetSelector:this.options.contentSelector,alwaysCallback:this.resolveOpenDef,failCallback:this.failedToGetContent,isWaiting:this.options.isWaiting});if(this.options.isAriaDialog()){this.overlay.attr("role","dialog")}this.on()},"{document} keydown":"handleClose"," .close, .cancel click":"handleClose"," {isOpen} change":"handleIsOpenChange"," {isMaterialized} change":"handleIsMaterializedChange"," {content} change":"handleContentChange"," {transitionEnd}":"resolveFocusDef"," .recoveryOptions button click":"handleErrorRecovery",handleClose:function(h,g){if(!this.options.isOpen()){return}var f=false;switch(g.type){case"keydown":f=g.keyCode===d.AsEvent.Keyboard.Esc;break;case"click":f=true;g.preventDefault();break;case"popstate":f=true;g.preventDefault();break}if(f){this.close();this.overlay.AsAria("showOthers")}},handleIsOpenChange:function(i,f,h,g){this.setContentArgs(h?this.options.contentArgs:null)},setContentArgs:function(j){var f,h;var g=this;var i=!!j;this.prepareOpenDef();this.prepareFocusDef();if(i){f=this.prepareFocusForOpen;h=this.focusForOpen;if(this.options.updateOnCloseFocus){this.options.onCloseFocus=d(document.activeElement)}}else{f=this.prepareFocusForClose;h=this.focusForClose}this.focusDef.then(f).then(h);this.openDef.then(function(){g.proxy("onOpen")(i);g.options.isMaterialized(i);if(!g.canTransition){g.resolveFocusDef()}});if(i){this.content.options.content(this.options.contentArgs=j)}else{this.resolveOpenDef()}},handleIsMaterializedChange:function(i,f,h,g){if(this.options.isOpen()!==h){this.options.isOpen(h)}},handleContentChange:function(k,n,f,m){var g;var i=9999;var h;var j;var l;if((this.shouldSizeDynamically.width||this.shouldSizeDynamically.height)&&f){g=this.element.clone().css({maxWidth:i,position:"absolute"}).offset({left:-i});g.find(".gone").addBack().removeClass("gone");j=new a.Content(g,{targetSelector:this.options.contentSelector});l=this.content.options.content();j.options.content({type:l&&l.type==="text"?"text":"html",val:f});h=g.find(this.options.contentSelector).removeAttr("style");g.appendTo(this.element.parent());if(this.shouldSizeDynamically.width){this.options.width(this.options.widthDelegate(h))}if(this.shouldSizeDynamically.height){this.options.height(this.options.heightDelegate(h))}g.remove()}},willSetContent:function(h){var f=h instanceof Error;var g=f?h.message:h;this.options.recoveryOptions.replace(f?h.recoveryOptions:[]);return g},setContent:function(i,h){var f=true;var g=false;switch(h){case"template":g=true;f=false;break;case"text":f=false;break}this.options.content(i);this.options.contentIsHtml(f);this.options.contentIsTemplate(g);a.mvt.activate()},didSetContent:function(){this.options.contentLoaded(true)},failedToGetContent:function(f){var g=this.constructor.getOrMakeElement("overlayError"+this.options.uid,this.element).hide().html(b.view(this.options.errorTemplate,{}));this.options.contentIsHtml(true);this.options.content(g.html())},setupAria:function(){var g;var f;if(this.options.isOpen()){if(this.options.isAriaDialog()){g=this.element.find("h1,h2,h3,h4,h5").filter(":first");if(g.length>0&&typeof g.attr("id")==="undefined"){g.attr("id","overlayHeading"+this.options.uid)}}f="hideOthers"}else{f="showOthers"}this.overlay.AsAria(f)},handleErrorRecovery:function(g,f){if(this.options.error&&typeof this.options.error.recoveryAttempter==="function"){this.options.error.recoveryAttempter(g.data("recoveryOption"),this)}else{this.close()}},prepareFocusDef:function(){if(this.focusDef){this.focusDef.reject()}(this.focusDef=new b.Deferred()).always(this.cleanupFocusDef)},cleanupFocusDef:function(){delete this.focusDef},prepareFocusForClose:function(){var f=this;d("body").children().filter(function(g,h){return f.element.index(h)===-1}).AsKeyboard("findStashedFocusable").AsKeyboard("restoreFocusable")},prepareFocusForOpen:function(){var f=this;d("body").children().filter(function(g,h){return f.element.index(h)===-1}).AsKeyboard("findFocusable").AsKeyboard("disableFocusable")},focusForClose:function(){d(this.options.onCloseFocus).focus();this.setupAria()},focusForOpen:function(){if(this.options.autoFocus()){this.overlay.attr("tabindex",-1);this.overlay.focus();this.setupAria()}},resolveFocusDef:function(g,f){if((!g||this.element.is(g))&&this.focusDef!==null){this.focusDef.resolve()}},_close:function(){if(this.options.canClose()){this.options.isOpen(false)}},_open:function(){this.options.isOpen(true)},prepareOpenDef:function(){if(this.openDef){this.openDef.reject()}(this.openDef=new b.Deferred()).always(this.cleanupOpenDef)},resolveOpenDef:function(){this.openDef.resolve()},cleanupOpenDef:function(){delete this.openDef},cleanupUrlDef:function(){delete this.urlDef},onOpen:function(f){var g=this.options.metricsData;if(g&&f){d.AsMetrics.fireMicroEvent(g,true)}},position:function(){var g=(parseInt(this.options.height(),10)||this.overlay.height())+40;var h=d(c).height()<g;var m=this.options.positionOffset;var i=this;var l;var f;var j=0;var k=0;if(d.AsSupport.isMobileIos||d.AsSupport.isIpad){if((c.document.documentElement.clientWidth/c.innerWidth)>1){if(d(c).scrollLeft()){j=d(c).scrollLeft()}if(d(c).scrollTop()){k=d(c).scrollTop()}}}switch(this.options.positionAt()){case"left":l=f="left";break;case"right":l=f="right";break;case"center":default:l=f="center";break}l+=h?" top+10":" center";f+=h?" top+10":" center";this.overlay.position({my:l,at:f,of:d(this.options.target),collision:"none",using:function(n,o){n.top+=(m.top-k);n.left+=(m.left-j);i.overlay.css(n)}})},setupGhostElement:function(){var f=this,g="overlay-ghost-"+this.options.uid;this.ghostElement=d('<span class="overlay-ghost" id="'+g+'"></span>').appendTo(this.options.parentElement);this.ghostElement.one("removed",function(){f._destroyed=true;if(f.oldElement){f.element.replaceWith(f.oldElement)}else{f.element.remove()}})},destroy:function(){if(this.element){if(!this._destroyed){this.ghostElement.remove()}else{this._super()}}}});b.Mustache.registerHelper("as.WebOverlay.contentSize",function(l,f,i){var g=l(),k=f(),j;if(d.isNumeric(g)){g+="px"}if(d.isNumeric(k)){k+="px"}j="width:";j+=g;j+=";height:";j+=k;return j})})(this,jQuery,can,as);(function(c,d,b,a,e){a.WebOverlayScreen=b.Control.extend({defaults:{showing:b.compute(false),closeHandler:b.noop}},{init:function(){this.element.addClass("WebOverlayScreen");new a.Materializer(this.element,{materialize:this.options.showing})}," click":"tryClose",tryClose:function(){this.options.closeHandler()}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.Bubble=a.WebOverlay({defaults:{direction:"bottom",myAlignment:"center",atAlignment:"center",arrowSelector:".arrow",bubbleSelector:".bubble",delayToCloseOnMouseLeave:0,template:"{{Bubble}}",modal:false,className:"bubbleOverlay",bypassCollision:false,createElement:false,autoFocus:b.compute(false)},UiBubbleOffset:{Left:20,Right:0}},{left:b.compute(null),top:b.compute(null),isBelow:b.compute(false),init:function(){this.left=b.compute(null);this.top=b.compute(null);this.isBelow=this.options.isBelow=b.compute(false);this._super();this.bubble=this.element.find(this.options.bubbleSelector);this.options.bubble=this.bubble;this.overlay=this.bubble;this.arrow=this.element.find(this.options.arrowSelector);this.on()},"{bubble} click":"close","{bubbleSelector} mouseleave":function(f,g){if(this.options.delayToCloseOnMouseLeave){if(this.timeoutIDForClosingBubble!==e){this.clearTimeout(this.timeoutIDForClosingBubble)}this.timeoutIDForClosingBubble=this.setTimeout(function(){this.close();delete this.timeoutIDForClosingBubble},this.options.delayToCloseOnMouseLeave)}},onOpen:function(f){if(this.options.target){var g=d(this.options.target);if(f){g.AsAria("associateNodes",this.element.find(".content"))}else{g.AsAria("disassociateNodes")}}},focusForClose:b.noop,position:function(){var f=this,i=this.options.positionOffset,g=this.arrow.height(),j=this.options.myAlignment+" ",h=this.options.atAlignment+" ";this.bubble.position({my:this.options.direction==="top"?j+"top+"+g:j+"bottom-"+g,at:this.options.direction==="top"?h+"bottom":h+"top",of:d(this.options.target),collision:this.options.bypassCollision?"none":"fit flip",using:function(k,l){f.top(k.top);f.left(k.left);f.isBelow(l.vertical==="top");f.bubble.css({top:k.top+i.top,left:k.left+i.left})}});this.positionArrow()},positionArrow:function(){var f=d(this.options.target),h,g;if(parseInt(f.css("borderLeftWidth"),10)!==0&&parseInt(f.css("borderRightWidth"),10)!==0){g=f.outerWidth(false)}else{g=f.width()}h=f.offset().left+g/2-this.bubble.offset().left;h=Math.max(h,this.constructor.UiBubbleOffset.Left);h=Math.min(h,this.bubble.width()-this.arrow.width()-this.constructor.UiBubbleOffset.Right);this.arrow.css({left:h})},prepareFocusForClose:function(){},prepareFocusForOpen:function(){},setupAria:function(){}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.FinanceCalculator=b.Control.extend({defaults:{dom:{applyNowButton:"button.apply-now",applyNowInterstitialButton:"button.apply-now-interstitial",calculateButton:"button.calculate",closeButton:".close-button",errorBubble:"#finance-calculator-error-bubble",errorsContainer:"#finance-calculator-errors",footer:".footer",form:"#finance-calculator-form",header:".header",loanValueInput:"#finance-calculator-loanvalue",installmentsUrlInput:"#finance-calculator-installments-url",results:".results"},validation:{decimalSeparator:".",min:0,max:null},currentLoanValue:b.compute(null),installmentResults:b.compute(null),isCheckout:b.compute(null),isValueEditable:b.compute(null),loanValueErrors:b.compute(null),spinnerContent:'<div class="loading"><div class="spinner-large"></div></div>',spinnerTimeout:300,}},{loanValueField:null,loanValueFieldElement:null,manager:null,resultsElement:null,"{dom.applyNowButton} click":"handleApplyNowButtonClick","{dom.applyNowInterstitialButton} click":"handleApplyNowInterstitialButtonClick","{dom.calculateButton} click":"handleCalculateButtonClick","{dom.closeButton} click":"handleCloseClick","{dom.form} submit":"handleSubmit","{currentLoanValue} change":"handleCurrentLoanValueChange","{installmentResults} change":"handleInstallmentResultsChange","{isCheckout} change":"handleIsCheckout","{isValueEditable} change":"handleIsValueEditable",init:function(g,h){var f=this,i=d.AsSupport.onInput?["input"]:["text","keypress","keydown","paste","cut"];this.manager=a.FinanceCalculatorManager.getInstance();this.resultsElement=this.dom("results");this.validationManager=new a.ValidationManager("#finance-calculator-form");this.loanValueField=new a.TextField(this.dom("loanValueInput"),{showErrorEvents:["blur"],hideErrorEvents:["blur"],postInit:function(j){this.validator=new a.Validation(j,{isInvalid:function(o,n){var m=f.validateInput(o,j),l,k;if(m.length){l="li."+m.join(", li.");k=f.dom("errorsContainer").find(l).text();f.loanValueField.errorBubble.setContent(k);f.loanValueField.errorMessage=k}n.resolve(m!==true)}})},bubbleSibling:this.dom("header")});this.loanValueFieldElement=d(this.loanValueField.element);this.dom("errorBubble").hide();this.options.installmentResults(this.dom("results").html());this.setOptions(h)},clearResults:function(){var g=this.resultsElement.height(),f=this.resultsElement.css("min-height")||"";f=parseInt(f.replace("px",""),10);if(f<g){this.resultsElement.css("min-height",g+"px")}this.resultsElement.empty();this.options.installmentResults("");this.manager.resizeOverlay()},dom:function(g){var f;if(this.element&&g in this.options.dom){f=this.element.find(this.options.dom[g]);return d(f)}return null},handleApplyNowButtonClick:function(g,f){this.manager.focusCheckoutFinancing()},handleApplyNowInterstitialButtonClick:function(h,f){var g=(h&&h.data("url"))||null;this.manager.showInterstitialContent(g)},handleCalculateButtonClick:function(g,f){this.dom("form").submit()},handleCloseClick:function(g,f){f.preventDefault();this.manager.close()},handleCurrentLoanValueChange:function(i,f,h,g){this.loanValueFieldElement.val(h)},handleIsCheckout:function(h,f,i,g){this.options.isValueEditable(!i)},handleIsValueEditable:function(i,f,h,g){this.loanValueFieldElement.attr("readonly",!h);this.loanValueFieldElement.toggleClass("read-only",!h)},handleInstallmentResultsChange:function(i,f,h,g){if(d.trim(h)===""){this.clearResults()}else{d(this.element).toggleClass("with-results",(h!==""));this.resultsElement.css("opacity",0).html(h);this.updateButtons();this.manager.resizeOverlay();this.resultsElement.clearQueue().animate({opacity:1})}},handleSubmit:function(g,f){var h=this.loanValueFieldElement.val();f.preventDefault();this.options.currentLoanValue(h);this.submitValue()},parseLoanValue:function(g,h){var j,f,i=/^([\s,.]?\d)+?$/;if(!g||g.length===0||i.test(g)===false){return NaN}h=h||".";j=g.split("");f=[];d(j).each(function(k,l){if(/\d/.test(l)===true){f.push(l)}else{if(l===h){f.push(".")}}});return parseFloat(f.join(""))},reset:function(){this.validationManager.clear();this.options.currentLoanValue("");this.resultsElement.removeAttr("style");this.options.isCheckout(this.manager.isCheckoutPage())},setOptions:function(f){f=f||{};this.reset();if("editable" in f){this.options.isValueEditable(!!f.editable)}if("loanValue" in f){this.options.currentLoanValue(f.loanValue)}this.updateButtons();this.manager.resizeOverlay()},submitValue:function(){var g=this,f=new Date().getTime(),j=this.options.currentLoanValue(),h=this.dom("installmentsUrlInput").val(),i=d(this.element);if(j){this.manager.trackAction("Calculate");this.clearResults();this.resultsElement.html(this.options.spinnerContent);this.manager.model.getInstallmentsContent(h,j).then(function(m){var k=new Date().getTime()-f,l=Math.max(1,g.options.spinnerTimeout-k);g.options.installmentResults(m);g.resultsElement.children().first().focus()})}},updateButtons:function(){if(this.element){this.element.find(".button.calculate").addClass("merchandising");this.element.find(".button.darkgrey").addClass("cancel");this.element.find(".button.apply-now").addClass("merchandising");this.element.find(".button.apply-now-interstitial").addClass("merchandising");this.element.find(".button.rect").removeClass("rect")}},validateInput:function(l,k){var j,f,i,h,m=[],g=this.options.validation;i=k.attr("data-separator")||g.decimalSeparator;j=parseFloat(k.attr("min"))||g.min;f=parseFloat(k.attr("max"))||g.max;h=this.parseLoanValue(l,i);if(isNaN(h)){m.push("invalid-number")}else{if(j>h){m.push("below-min")}if(f!==null&&f<h){m.push("above-max")}}return(m.length>0)?m:true}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.FinanceCalculatorModel=b.Construct.extend({dom:{content:{id:"finance-calculator",query:"#finance-calculator"},errorOverlay:{id:"finance-calculator-overlay-error",query:"#finance-calculator-overlay-error",html:'<div role="dialog" id="finance-calculator-overlay-error" class="finance-calculator-overlay overlay"></div>'},overlay:{className:"finance-calculator-overlay",query:".finance-calculator-overlay",html:'<div role="dialog" id="finance-calculator-overlay" class="finance-calculator-overlay overlay" aria-labelledby="finance-calculator-title"></div>'},wrapper:{id:"finance-calculator-wrapper",query:"#finance-calculator-wrapper",html:'<div id="finance-calculator-wrapper"></div>'}},getInitialContent:function(f){return this.requestContent(f||null,null)},getInstallmentsContent:function(f,g,h){return this.requestContent(f,{amount:g},h)},getInterstitialContent:function(f,g){return this.requestContent(f,null,g)},requestContent:function(f,h,i){var g=new b.Deferred();h=h||{};b.ajax({method:"get",url:f,data:h}).pipe(function(j){g.resolve(j);if(i){i(j||false)}});return g}})}(this,jQuery,can,as));(function(c,d,b,a,e){a.FinanceCalculatorManager=b.Control.extend({defaults:{triggerSelector:".finance-calculator-link"},_singleton:null,getInstance:function(){if(!this._singleton){this._singleton=new a.FinanceCalculatorManager(document.body)}return this._singleton}},{checkoutFinancingTabSelectors:[".checkout #payment-loan-content-tab",".checkout #payment-lease-content-tab"],calculator:null,errorOverlay:null,isLaunching:b.compute(false),model:null,opts:null,overlay:null,pageScroller:null,"{triggerSelector} click":"handleTriggerClick",init:function(f,g){this.opts={};this.pageScroller=new a.Scroller("html,body");this.model=new a.FinanceCalculatorModel();a.FinanceCalculatorManager._singleton=this},close:function(f){if(this.overlay){this.isLaunching(false);this.overlay.close()}if(f!==false&&this.isCheckoutPage()===true){this.trackAction("Close")}},destroyCalculator:function(){if(this.calculator){this.calculator.destroy();this.calculator=null}},destroyOverlay:function(){if(this.overlay){this.destroyCalculator();this.overlay.destroy();this.overlay=null}d(this.model.dom.overlay.query).remove()},focusCheckoutFinancing:function(){var g=d(this.checkoutFinancingTabSelectors.join(",")).first(),f;if(g.length===1){this.close(false);g.click();this.pageScroller.scrollTop(g.offset().top);this.trackAction("Apply Now")}},getSelectedCheckoutFinancingTab:function(){var f;if(this.isCheckoutPage()){f=d("#payment-form-nav .current").first();if(f.length===1){return f.attr("id")}}return false},handleTriggerClick:function(h,g){var k,f,j,i={};g.preventDefault();k=h.attr("href");if(k){f=k.split("?")[1]||null;j=b.deparam(f);i={contentUrl:k,loanValue:j.amount||null,page:j.page||null}}this.launch(i)},isCheckoutPage:function(){return d("body").hasClass("checkout")},initialiseContent:function(f){this.overlay.onOpen=function(g){if(g){if(f.overlay.element){var h=f.overlay.element.find(f.model.dom.content.query);if(h.length){f.calculator=new a.FinanceCalculator(h);f.calculator.setOptions(f.opts)}f.isLaunching(false)}}}},launch:function(i){var g=this,h,j,f;this.opts=i||{};if(this.isLaunching()===true){return}this.isLaunching(true);if(this.isCheckoutPage()){h=this.getSelectedCheckoutFinancingTab()}this.opts.trackingPart=h||((this.opts.loanValue!==null)?"above-threshold":"");this.destroyOverlay();this.overlay=new a.WebOverlay(document.body,{isAriaDialog:b.compute(true),contentArgs:{type:"ajax",val:i.contentUrl},parentElement:this.element});this.overlay.overlay.attr("aria-labelledby","finance-calculator-title");this.overlay.element.addClass(this.model.dom.overlay.className);this.initialiseContent(g);this.overlay.open();this.trackAction("Launch")},resizeOverlay:function(f){if(this.calculator&&this.calculator.element){this.overlay.options.height(this.calculator.element.height()||"auto");this.overlay.position()}},showErrorOverlay:function(){var g,f=this,h=this.model.dom;if(!this.errorOverlay){g=d(h.errorOverlay.html);d(h.wrapper.query).append(g);this.errorOverlay=new a.WebOverlay(g,{createElement:false,parentElement:this.element})}},showInterstitialContent:function(f){this.trackAction("Apply Now (Interstitial)");this.model.getInterstitialContent(f).then(d.proxy(function(g){if(g===false){this.showErrorOverlay()}else{if(this.overlay){this.destroyCalculator();this.overlay.options.contentArgs={type:"html",val:g};this.overlay.open()}}},this))},trackAction:function(i,f){var g=d.AsMetrics||null,h={eVar:"eVar21",slot:"",feature:"Finance Calculator",action:i||null};h.part=f||this.opts.trackingPart||"";if(g&&h.action){g.fireMicroEvent(h)}},destroy:function(){if(this.errorOverlay){this.errorOverlay.destroy()}if(this.overlay){this.overlay.destroy()}this._super()}})}(this,jQuery,can,as));jQuery(function(){new as.FinanceCalculatorManager(document.body)});(function(c,d,b,a,e){a.Equalizer=b.Control.extend({defaults:{selector:null,equalize:"height",isPrefix:false,grouping:false}},{init:function(){this.selectedItems()},selectedItems:function(){var i=this;if(this.options.isPrefix===false){this.selectors=d(this.options.selector,this.element);this.equalize()}else{if(this.options.isPrefix===true&&this.options.grouping===false){this.selectors=d("[class*="+this.options.selector.replace(".","")+"]",this.element);this.equalize()}else{if(this.options.isPrefix===true&&this.options.grouping===true){var j=d("*[class^='"+this.options.selector.replace(".","")+"']",this.element),h=[];j.each(function(){var k=d(this).attr("class").split(" ");h=h.concat(k)});var f=new RegExp(this.options.selector.replace(".",""));d.unique(h);var g=d.map(h,function(k){if(k.search(f)===0){return k}});g.forEach(function(k){i.selectors=d("."+k,i.element);i.equalize()})}}}},equalize:function(){if(this.selectors){if(this.options.equalize==="height"){this.setHeight()}else{if(this.options.equalize==="width"){this.setWidth()}}}},resetHeight:function(){if(this.selectors&&this.options.equalize==="height"){this.selectors.height("auto")}},getMaxHeight:function(g){var f=this;return Math.max.apply(g,d.map(g,function(h){return d(h,f.element).height()}))},setHeight:function(){this.selectors.css({height:""});var f=this.getMaxHeight(this.selectors);this.selectors.css("min-height",f)},getMaxWidth:function(g){var f=this;return Math.max.apply(g,d.map(g,function(h){return d(h,f.element).width()}))},setWidth:function(){this.selectors.width(this.getMaxWidth(this.selectors))}})}(this,jQuery,can,as));(function(c,d,b,a,e){a.mvt=(function(){return{activate:function(){if(c.optimizely&&c.optimizely.push&&c.optimizely.activateSiteCatalyst){var g=d.AsMetrics.clone(),f;c.optimizely.push(["activate"]);a.mvt.siteCatalystIntegrate();f=d.AsMetrics.getNewKeyObject(g);if(!c.optimizely.$.isEmptyObject(f)){f.linkTrackVars=c.optimizely.$.map(f,function(i,h){return h}).join(",");f.linkTrackEvents="None";a.Tracking.track(null,"MVT Activation",f,null)}}},siteCatalystIntegrate:function(){var h=c.optimizely.activeExperiments,i=h?h.length:0;for(var g=0;g<i;g++){var j=h[g],f=c.optimizely.allExperiments[j];if(f.site_catalyst_evar){c.s["eVar"+f.site_catalyst_evar]=f.name+":"+c.optimizely.variationNamesMap[j]}}}}}())}(this,jQuery,can,as));(function(c,d,b,a,e){a.RedirectNotification={overlay:null,config:{overlayContentSelector:"#redirect-notification",urlPattern:/#(.*Replacement|redirect)/},clearHash:function(){if("pushState" in c.history&&"hash" in c.location){c.location.hash=""}},contentElement:function(){var f=d(this.config.overlayContentSelector);return(f&&f[0])||null},contentExists:function(){return !!this.contentElement()},evaluateUrl:function(){if(this.isRedirectUrl()){this.trigger()}},isRedirectUrl:function(){return this.config.urlPattern.test(c.location.hash)},trigger:function(){var f=this.config.overlayContentSelector;if(this.contentExists()){new a.DialogManager(document);this.overlay=new a.WebOverlay(document,{contentArgs:{type:"sourceId",val:f},widthDelegate:function(){return"auto"},heightDelegate:function(){return"auto"},isAriaDialog:b.compute(true)});this.overlay.overlay.attr("aria-labelledby","overlayHeading"+this.overlay.options.uid);this.overlay.open();this.clearHash()}}}})(this,jQuery,can,as);jQuery(function(){as.RedirectNotification.evaluateUrl()});(function(c,d,b,a,e){a.Tooltip=a.Bubble.extend({defaults:{bubbleSelector:null,target:null,trigger:null,template:null,actionDelay:300,className:null,createElement:true,openCondition:null}},{init:function(){this._super();this.overlay=this.bubble;this.options.tooltip=this.bubble;if(this.options.trigger){this.options.trigger=(typeof this.options.trigger==="string")||this.options.trigger.nodeType===1?d(this.options.trigger):this.options.trigger}else{this.options.trigger=d(this.options.target)}this.setupAccessibility();this.shouldOpenTooltip=true;this.on()},"{bubble} click":b.noop,"{tooltip} mouseenter":"clearTimer","{tooltip} mouseleave":function(g,f){this.delayedAction(false)},"{tooltip} mousedown":function(g,f){f.preventDefault()},"{tooltip} keydown":function(g,f){if(f.keyCode===d.AsEvent.Keyboard.Tab&&f.shiftKey){this.shouldOpenTooltip=false}},"{trigger} mouseover":function(g,f){if(this.canOpen()){this.delayedAction(true)}},"{trigger} mouseout":"clearTimer","{trigger} mousedown":function(g,f){if(d(f.target).is("a")||d(f.target).parents().is("a")){f.preventDefault()}},"{trigger} click":function(g,f){if(d(f.target).is("a")||d(f.target).parents().is("a")){f.preventDefault()}if(!this.canOpen()){return}if(document.activeElement===this.options.trigger.get(0)){this.shouldFocusTooltip=true}this.openTooltip()},"{trigger} keydown":function(g,f){var h=f.keyCode;if(h!==d.AsEvent.Keyboard.Esc){f.stopPropagation()}switch(h){case d.AsEvent.Keyboard.Tab:if(f.shiftKey&&this.options.isOpen()){this.close()}break;case d.AsEvent.Keyboard.Return:this.shouldFocusTooltip=true;break;case d.AsEvent.Keyboard.Space:if(!this.options.isOpen()){this.openTooltip();this.shouldFocusTooltip=true}break;default:return}},"{trigger} focus":function(g,f){f.preventDefault();if(this.shouldOpenTooltip){this.openTooltip();this.shouldFocusTooltip=true}else{this.shouldOpenTooltip=true}},"{document} keydown":function(h,f){if(!this.options.isOpen()){return}var i=this.options.tooltip.get(0),g=document.activeElement;if(f.keyCode===d.AsEvent.Keyboard.Esc){this.handleClose(h,f);return}if(i!==g&&!d.contains(i,g)){this.close()}},"{document} click":"handleDocumentClick","{document} touchend":"handleDocumentClick",handleDocumentClick:function(h,f){var g=this.options.trigger.get(0),i=this.options.tooltip.get(0),j=f.target;if(j===g||d.contains(g,j)){return}if(this.options.isOpen()){if(j!==i&&!d.contains(i,j)){this.close()}}},handleIsOpenChange:function(i,f,h,g){this.setContentArgs(h?this.options.contentArgs:null);if(h){this.element.attr("aria-hidden","false")}else{this.element.attr("aria-hidden","true")}},setupAccessibility:function(){var g=this.options.trigger,h=this.options.tooltip,i=this.element.prop("id"),f=this;if(g.get(0).nodeName==="A"){g.prop("href",i)}h.attr("role","tooltip");g.attr("role","button");g.attr("aria-describedby",i);this.element.insertAfter(g)},handleClose:function(g,f){if(f.keyCode===d.AsEvent.Keyboard.Esc&&this.options.isOpen()){this.shouldOpenTooltip=false;d.AsEnv.focus(this.options.trigger.get(0));this.shouldOpenTooltip=true}this._super(g,f)},prepareFocusForOpen:b.noop,focusForOpen:function(){if(this.shouldFocusTooltip){d.AsEnv.focus(this.options.tooltip.get(0));this.shouldFocusTooltip=false}},bindLastFocusableElem:function(){var f=this.options.tooltip.children().AsKeyboard("findFocusable",Infinity,false).last();var g=function(h){if(h.keyCode===d.AsEvent.Keyboard.Tab&&!h.shiftKey){this.close()}};g=this.proxy(g);if(f.length>0){this.on(f,"keydown",g)}else{this.on(this.options.tooltip,"keydown",g)}},onOpen:function(f){if(f&&!this.hasBoundLastFocusableElem){this.bindLastFocusableElem();this.hasBoundLastFocusableElem=true}},openTooltip:function(){var f=this;this.clearTimer();this.setTimeout(function(){f.open();f.options.tooltip.attr("tabindex",0)},0)},delayedAction:function(f){var g=f?this.open:this.close;this.clearTimer();g=this.proxy(g);this.timer=this.setTimeout(function(){g()},this.options.actionDelay)},clearTimer:function(){this.clearTimeout(this.timer)},canOpen:function(){return !this.options.isOpen()&&(!this.options.openCondition||(this.options.openCondition&&this.options.openCondition()))}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.WebFavorites=b.Control.extend({defaults:{selectors:{addToFavoriteSelector:"a.favorites",ftTooltipDiv:".ftTooltip"},storageKey:"fl_products",tooltipStorageKey:"ft_tooltip",cacheTTL:"",storefrontKey:"",timeDelay:3000,tooltipSessionStorageKey:"fl_sessiontooltip",disabledMessage:null},},{init:function(){this.favList=[];this.favModel={};this.options.storageKey=this.options.storageKey+this.options.storefrontKey;this.getAndShowFavorites();this.initTooltip()},getAndShowFavorites:function(){this.cacheElements();if(this.addToFavoriteLinks.length>0){this.addToFavoriteLinks.removeClass("added");if(c.sessionStorage||c.localStorage){this.storage=new Storage();this.sessionStorageObj=new Storage({session:true,expires:2*this.options.cacheTTL,expiryInMs:true})}if(this.storage&&this.options.favoritesConfig){if(d.cookie("aoscn")){this.userId=d.cookie("aoscn").split("~")[1]}if(this.userId){this.addToFavoriteLinks.attr("role","button");this.addToFavoriteLinks.attr("role","button");this.favList=JSON.parse(this.storage.get(this.options.storageKey));var f=new Date();if(this.favList&&(this.favList.timestamp>f.getTime())){this.loadFavoriteItems(this.favList[this.userId])}else{this.getFavProducts()}this.options.tooltipStorageKey=this.options.tooltipStorageKey+this.userId}else{this.addToFavoriteLinks.removeAttr("role")}this.handleTooltip("load")}}},initTooltip:function(){var f=this;if(this.options.disabledMessage){this.addToFavoriteLinks.each(function(){var g=d(this);new a.Tooltip("body",{target:g,bubbleSelector:".favorites-tooltip",template:"{{FavoritesTooltip}}",contentArgs:{message:f.options.disabledMessage},openCondition:function(){var h=g.attr("data-partnumber");return !h}})})}},updatePartNumber:function(g,f){f=f||this.addToFavoriteLinks;f.attr("data-partnumber",g);f.attr("aria-disabled","false");f.attr("tabindex","");if(this.favList&&this.favList[this.userId]&&this.favList.timestamp>new Date().getTime()){this[(this.favList[this.userId].indexOf(g)>-1)?"addToFavorite":"removeFromFavorite"](f)}else{this.getAndShowFavorites()}},"{selectors.addToFavoriteSelector} click":"favoriteLinkClicked","{selectors.addToFavoriteSelector} keydown":"handlekeydown","{selectors.ftTooltipDiv} mouseenter":"clearTimer","{selectors.ftTooltipDiv} mouseleave":"startTimer","{document.body} click":"clickHandler","{window} pageshow":function(g,f){if(f.originalEvent.persisted){this.init()}},cacheElements:function(){this.addToFavoriteLinks=d(this.options.selectors.addToFavoriteSelector);this.ftTooltipDiv=d(this.options.selectors.ftTooltipDiv)},getFavProducts:function(){this.request=b.ajax({url:this.options.favoritesConfig.fetchFavoritesURL,dataType:"json",data:this.jsonKey,timeout:15000}).done(this.proxy(this.fetchRequestComplete)).fail(this.proxy(this.requestFail))},fetchRequestComplete:function(f){if(f.head.data.url){if(this.storage&&this.storage.get(this.options.storageKey)){this.storage.remove(this.options.storageKey)}d.AsEnv.doRedirect(f.head.data.url);return}if(f.body.content.success){if(f.body.content.favorites){this.loadFavoriteItems(f.body.content.favorites);this.updateStorage(f.body.content.favorites)}}},requestFail:function(f){f=f||"JSON load failure.";if(c.console){c.console.log(f)}},addToFavorite:function(f){f.addClass("added")},removeFromFavorite:function(f){f.removeClass("added")},loadFavoriteItems:function(g){var f=this;d.each(g,function(h,j){var i=d("a[data-partnumber='"+j+"']");if(i.length>0){f.addToFavorite(i)}})},handlekeydown:function(g,f){if(f.keyCode===d.AsEvent.Keyboard.Space){if(d(g).attr("role")&&d(g).attr("role")==="button"){this.favoriteLinkClicked(g,f)}}if(f.keyCode===d.AsEvent.Keyboard.Return){this.keydownEvt=true}},favoriteLinkClicked:function(h,f){f.preventDefault();if(f.type==="keydown"){this.keydownEvt=true}if(f.type==="click"){this.keydownEvt=false}var i=h.attr("data-partnumber");if(!!i){this.currPartnumber=i;if(h.hasClass("added")){this.actionClicked="remove";this.ajaxUrl=this.options.favoritesConfig.removeFromFavoritesURL+"&product="+this.currPartnumber}else{this.actionClicked="add";this.ajaxUrl=this.options.favoritesConfig.addToFavoritesURL+"&product="+this.currPartnumber}var g=this.actionClicked==="remove"?"event17":"event13";a.Tracking.track(f.target,"Favorites",{linkTrackVars:"products,events",linkTrackEvents:g,products:";"+this.currPartnumber,events:g,});this.request=b.ajax({url:this.ajaxUrl,dataType:"json",data:this.jsonKey,timeout:15000}).done(this.proxy(this.addRemoveRequestComplete)).fail(this.proxy(this.requestFail))}},addRemoveRequestComplete:function(f){if(f.head.data.url){if(this.storage&&this.storage.get(this.options.storageKey)){this.storage.remove(this.options.storageKey)}if(this.actionClicked==="add"){this.setSessionTooltipFlag()}d.AsEnv.doRedirect(f.head.data.url);return}if(f.body.content.success){if(this.actionClicked==="add"){this.addToFavorite(d("a[data-partnumber='"+this.currPartnumber+"']"));this.handleTooltip("click")}else{if(this.actionClicked==="remove"){this.removeFromFavorite(d("a[data-partnumber='"+this.currPartnumber+"']"));this.handleTooltip("click")}}if(f.body.content.favorites){this.updateStorage(f.body.content.favorites)}}else{if(!f.body.content.success){this.getFavProducts()}}},updateStorage:function(f){if(this.storage){this.favModel[this.userId]=f;var g=new Date();this.favModel.timestamp=g.getTime()+parseInt(this.options.cacheTTL,10);this.storage.set(this.options.storageKey,JSON.stringify(this.favModel));this.favList=JSON.parse(this.storage.get(this.options.storageKey))}},clickHandler:function(g,f){if(f.target!==this.ftTooltipDiv&&!d(f.target).is("a.favorites")&&this.ftTooltipDiv.is(":visible")){this.hideTooltip()}},setSessionTooltipFlag:function(){if(this.sessionStorageObj){this.sessionStorageObj.set(this.options.tooltipSessionStorageKey,true)}},handleTooltip:function(f){if(f==="load"){if(this.userId&&this.storage&&this.storage.get(this.options.tooltipStorageKey)===null&&this.sessionStorageObj){if(this.sessionStorageObj.get(this.options.tooltipSessionStorageKey)){this.showTooltip();this.sessionStorageObj.remove(this.options.tooltipSessionStorageKey)}}else{if(this.sessionStorageObj.get(this.options.tooltipSessionStorageKey)){this.sessionStorageObj.remove(this.options.tooltipSessionStorageKey)}}}else{if(f==="click"){if(this.userId&&this.storage&&!this.storage.get(this.options.tooltipStorageKey)&&this.actionClicked==="add"){this.showTooltip()}else{this.hideTooltip()}}}},hideTooltip:function(){this.ftTooltipDiv.addClass("hide");if(this.storage&&this.userId){this.storage.set(this.options.tooltipStorageKey,false)}if(this.currPartnumber){d.AsEnv.focus(d("a[data-partnumber='"+this.currPartnumber+"']"))}this.clearTimer()},showTooltip:function(){this.ftTooltipDiv.removeClass("hide");d.AsEnv.focus(this.ftTooltipDiv.attr("tabindex",-1));if(this.storage){this.storage.set(this.options.tooltipStorageKey,false)}if(!this.keydownEvt){this.startTimer()}},startTimer:function(){var f=this;f.__timer=c.setTimeout(function(){f.hideTooltip()},f.options.timeDelay)},clearTimer:function(){var f=this;if(f.__timer){c.clearTimeout(f.__timer)}}})}(this,jQuery,can,as));jQuery(function(){if(window.favoritesConfig){var a={addToFavoritesURL:window.favoritesConfig.addToFavoritesURL,removeFromFavoritesURL:window.favoritesConfig.removeFromFavoritesURL,fetchFavoritesURL:window.favoritesConfig.fetchFavoritesURL};as.favorites=new as.WebFavorites(jQuery("#page"),{favoritesConfig:a,storefrontKey:window.favoritesConfig.storageKey,cacheTTL:window.favoritesConfig.cacheTTL,disabledMessage:window.favoritesConfig.disabledMessage})}});
/*!
* jQuery++ - 1.0.1 (2013-02-07)
* http://jquerypp.com
* Copyright (c) 2013 Bitovi
* Licensed MIT
*/
(function(h){var f=0,m=null,a=[],i=null,j=h.fn.animate,c=function(){if(!m){var o=document.createElement("style");o.setAttribute("type","text/css");o.setAttribute("media","screen");document.getElementsByTagName("head")[0].appendChild(o);if(!window.createPopup){o.appendChild(document.createTextNode(""))}m=o.sheet}return m},e=function(q,p){for(var o=q.cssRules.length-1;o>=0;o--){var r=q.cssRules[o];if(r.type===7&&r.name==p){q.deleteRule(o);return}}},g=function(r,q){var s=!(this[0]&&this[0].nodeType),p=!s&&h(this).css("display")==="inline"&&h(this).css("float")==="none";for(var o in r){if(r[o]=="show"||r[o]=="hide"||r[o]=="toggle"||h.isArray(r[o])||r[o]<0||o=="zIndex"||o=="z-index"||o=="scrollTop"||o=="scrollLeft"){return true}}return r.jquery===true||d()===null||h.isEmptyObject(r)||(q&&q.length==4)||(q&&typeof q[2]=="string")||h.isPlainObject(q)||p||s},k=function(o,p){if(typeof p==="number"&&!h.cssNumber[o]){return p+="px"}return p},d=function(){if(!i){var o,p=document.createElement("fakeelement"),q={transition:{transitionEnd:"transitionend",prefix:""},MozTransition:{transitionEnd:"animationend",prefix:"-moz-"},WebkitTransition:{transitionEnd:"webkitAnimationEnd",prefix:"-webkit-"}};for(o in q){if(p.style[o]!==undefined){i=q[o]}}}return i},b={top:function(o){return o.position().top},left:function(o){return o.position().left},width:function(o){return o.width()},height:function(o){return o.height()},fontSize:function(o){return"1em"}},l=function(p){var o={};h.each(p,function(q,r){o[d().prefix+q]=r});return o},n=function(q){var p,o,r;h.each(a,function(s,t){if(q===t.style){o=t.name;t.age=0}else{t.age+=1}});if(!o){p=c();o="jquerypp_animation_"+(f++);p.insertRule("@"+d().prefix+"keyframes "+o+" "+q,(p.cssRules&&p.cssRules.length)||0);a.push({name:o,style:q,age:0});a.sort(function(t,s){return t.age-s.age});if(a.length>20){r=a.pop();e(p,r.name)}}return o};h.fn.animate=function(p,q,s,r){if(g.apply(this,arguments)){return j.apply(this,arguments)}var o=h.speed(q,s,r);this.queue(o.queue,function(x){var A,B=[],D="",u,E=h(this),w=o.duration,z,y,t="{ from {",v=function(G,F){E.css(G);E.css(l({"animation-duration":"","animation-name":"","animation-fill-mode":"","animation-play-state":""}));if(h.isFunction(o.old)&&F){o.old.call(E[0],true)}h.removeData(E,y,true)},C=function(){v(p,true);x()};for(u in p){B.push(u)}if(d().prefix==="-moz-"){h.each(B,function(F,H){var G=b[h.camelCase(H)];if(G&&E.css(H)=="auto"){E.css(H,G(E))}})}A=E.styles.apply(E,B);h.each(B,function(G,H){var F=H.replace(/([A-Z]|^ms)/g,"-$1").toLowerCase();t+=F+" : "+k(H,A[H])+"; ";D+=F+" : "+k(H,p[H])+"; "});t+="} to {"+D+" }}";z=n(t);y=z+".run";h._data(this,y,{stop:function(F){E.css(l({"animation-play-state":"paused"}));E.off(d().transitionEnd,C);if(!F){v(E.styles.apply(E,B),false)}else{v(p,true)}}});E.css(l({"animation-duration":w+"ms","animation-name":z,"animation-fill-mode":"forwards"}));E.one(d().transitionEnd,C)});return this};return h})(jQuery);(function(c,d,b,a,e){a.Scroller=b.Control.extend({defaults:{easing:"easeOutExpo",duration:500}},{init:function(){},scrollTop:function(g){var f=d(document).height()-d(c).height();this.element.animate({scrollTop:Math.min(g,f)},this.options.duration,this.options.easing)}})})(this,jQuery,can,as);(function(c,d,b,f){var g=Math.PI/2,e=Math.PI;var a={linearTween:function(i,j,h,l,k){return j},easeInSine:function(i,j,h,l,k){return 1-Math.cos(j/k*g)},easeOutSine:function(i,j,h,l,k){return Math.cos(j/k*g)},easeInOutSine:function(i,j,h,l,k){return(Math.cos(j/k*e)-1)/2},easeInBack:function(i,j,h,m,l,k){if(k===f){k=1.70158}return(j/=l)*j*((k+1)*j-k)},easeOutBack:function(i,j,h,m,l,k){if(k===f){k=1.70158}return((j=j/l-1)*j*((k+1)*j+k)+1)},easeOutBackStrong:function(i,j,h,m,l,k){if(k===f){k=1.70158*1.5}return((j=j/l-1)*j*((k+1)*j+k)+1)},easeOutExpo:function(i,j,h,l,k){return(j===k)?h+l:l*(-Math.pow(2,-10*j/k)+1)+h}};d.extend(d.easing,a)})(this,jQuery,as);(function(c,d,b,a,e){a.WebRatingQuestion=b.Control.extend({defaults:{id:0,description:"Your rating",ratingsLabel:"{0} out of {1} stars",wrapperSelector:".star-wrapper",template:"{{ratingQuestionTemplate}}"},UiState:{focus:"focused",highlight:"tempStar",select:"star"},willNavigateForward:function(f){return f.keyCode===d.AsEvent.Keyboard.ArrowRight||f.keyCode===d.AsEvent.Keyboard.ArrowDown},willNavigateBackward:function(f){return f.keyCode===d.AsEvent.Keyboard.ArrowLeft||f.keyCode===d.AsEvent.Keyboard.ArrowUp}},{setup:function(g,f){var h=d('<fieldset class="plf-rating-question"></fieldset>').appendTo(g);this._super(h,f)},init:function(){this.element.attr("id","rq-"+this.options.id);this.renderQuestion();b.extend(this.options,{elements:{wrapper:this.element.find(this.options.wrapperSelector),labels:this.element.find("label")}});this.on()},"{elements.wrapper} mouseout":"handleMouseout","{elements.labels} focusin":"toggleFocused","{elements.labels} focusout":"toggleFocused","{elements.labels} click":"handleClick","{elements.labels} keydown":"handleKeydown","{elements.labels} mouseover":"highlightStars",handleMouseout:function(f,g){this.clearHighlights();this.selectStars(f.find(":checked").parents("label"))},toggleFocused:function(f){f.toggleClass(this.constructor.UiState.focus)},handleClick:function(f){f.find("input").prop("checked",true);this.clearStars();this.clearHighlights();this.selectStars(f)},handleKeydown:function(f,g){if((f.index()===4&&this.constructor.willNavigateForward(g))||(f.index()===0&&this.constructor.willNavigateBackward(g))){return false}},highlightStars:function(f){this.clearStars();f.prevAll().addBack().addClass(this.constructor.UiState.highlight)},clearHighlights:function(){this.options.elements.labels.removeClass(this.constructor.UiState.highlight)},selectStars:function(f){f.prevAll().addBack().addClass(this.constructor.UiState.select)},clearStars:function(){this.options.elements.labels.removeClass(this.constructor.UiState.select)},renderQuestion:function(){var g=this,h=this.element.attr("id"),f=[];b.each([1,2,3,4,5],function(i){f.push({id:h,value:i,label:g.options.ratingsLabel.replace("{0}",i).replace("{1}",5)})});this.element.html(b.view(this.options.template,{id:h,stars:f,description:this.options.description}))},getParams:function(){var f=this.element.find("input:checked");return{id:this.options.id,type:"STAR_RATING",value:f.length!==0?f.val():null}},reset:function(){this.clearStars();this.clearHighlights();this.element.find("input").prop("checked",false)}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.WebFreeTextQuestion=b.Control.extend({defaults:{id:0,maxCharLimit:2000,warnCharLimit:500,warnThreshold:100,description:"Add a comment about this page",lowCharsMessage:"Characters remaining before maximum limit is reached {0}",maxCharsAllyLabel:"Characters in this field are limited to {0}",template:"{{freeTextQuestionTemplate}}"},doesKeyAddChars:function(f){return !(f.keyCode===8||f.keyCode===46||(f.keyCode>=35&&f.keyCode<=40))}},{charsRemaining:b.compute(0),setup:function(g,f){var h=d('<div class="plf-freetext-question"></div>').appendTo(g);this._super(h,f)},init:function(){this.element.attr("id","ftq-"+this.options.id);this.charsRemaining(this.options.maxCharLimit);this.options.maxCharsAllyLabel=this.options.maxCharsAllyLabel.replace("{0}",this.options.maxCharLimit);this.renderQuestion();b.extend(this.options,{elements:{label:this.element.find("label"),textarea:this.element.find("textarea")}});if(d.AsSupport.maxlengthTextarea){this.options.elements.textarea.prop("maxlength",this.options.maxCharLimit)}this.on()},"{elements.textarea} focus":"handleFocus","{elements.textarea} blur":"handleBlur","{elements.textarea} keyup":"handleKeyup","{elements.textarea} keypress":"handleKeypress","{elements.textarea} paste":"handlePaste",handleFocus:function(){this.options.elements.label.addClass("focus")},handleBlur:function(f){if(f.val().length===0){this.options.elements.label.removeClass("hidden focus")}},handleKeyup:function(f,g){var h=f.val();this.charsRemaining(this.options.maxCharLimit-h.length);if(h.length!==0&&!this.options.elements.label.hasClass("hidden")){this.options.elements.label.addClass("hidden")}},handleKeypress:function(f,g){if(!d.AsSupport.maxlengthTextarea){var h=f.val();if(h.length>=this.options.maxCharLimit&&this.constructor.doesKeyAddChars(g)){f.val(h.slice(0,this.options.maxCharLimit));return false}g.stopPropagation()}},handlePaste:function(h,i){var j=h.val();this.charsRemaining(this.options.maxCharLimit-j.length);this.options.elements.label.addClass("hidden");if(!d.AsSupport.maxlengthTextarea){var f=i.originalEvent,g;if(f.clipboardData){g=f.clipboardData.getData("text/plain")}if(c.clipboardData){g=c.clipboardData.getData("Text")}h[0].value+=g.substring(0,this.options.maxCharLimit-j.length);return false}},renderQuestion:function(){this.element.html(b.view(this.options.template,{id:this.element.attr("id"),description:this.options.description,maxCharsAllyLabel:this.options.maxCharsAllyLabel,charsRemainingClass:b.compute(function(){return this.charsRemaining()<=this.options.warnThreshold?"err":""},this),charsRemaining:b.compute(function(){var f=this.charsRemaining();return f<=this.options.warnCharLimit?this.charsRemaining():""},this),lowCharsMessage:b.compute(function(){var f=this.charsRemaining();return f<=this.options.warnCharLimit?this.options.lowCharsMessage.replace("{0}",f):""},this)}))},getParams:function(){var f=this.options.elements.textarea.val();return{id:this.options.id,type:"OPEN_ENDED",value:f!==""?f:null}},reset:function(){this.options.elements.label.removeClass("hidden focus");this.options.elements.textarea.val("");this.charsRemaining(this.options.maxCharLimit)}})})(this,jQuery,can,as);(function(c,d,b,a,e){a.WebPageLevelFeedback=b.Control.extend({defaults:{loadingMessage:"Loading",confirmationMessage:"Thanks for sharing your thoughts with us.",errorMessage:"An error has occurred. Please try again later.",serviceURL:null,nodePath:null,isFormEnabled:b.compute(false),ratingQuestionTemplate:"{{ratingQuestionTemplate}}",freeTextQuestionTemplate:"{{freeTextQuestionTemplate}}",introSelector:".plf-intro",messageSelector:".plf-msg",formSelector:".plf-form",drawerSelector:".plf-drawer",openButtonSelector:".plf-open-btn",cancelButtonSelector:".button[type=button]",submitButtonSelector:".button[type=submit]"},UiState:{loading:"plf-loading",closing:"plf-closing",showingMessage:"plf-showing-message",showingData:"plf-showing-data"},Behavior:{CloseDelay:d.AsSupport.transition?3000:4000,SubmitDelay:500}},{isKeyboardNavigation:false,isOpen:false,data:null,inAction:false,openedHeight:199,openedHeightHandheld:500,preventSubmitForMetrics:true,submitTimeout:null,init:function(){b.extend(this.options,{elements:{intro:this.element.find(this.options.introSelector),message:this.element.find(this.options.messageSelector),form:this.element.find(this.options.formSelector),drawer:this.element.find(this.options.drawerSelector),openButton:this.element.find(this.options.openButtonSelector),cancelButton:this.element.find(this.options.cancelButtonSelector),submitButton:this.element.find(this.options.submitButtonSelector)}});this.options.elements.cancelButton.prop("tabIndex",-1);this.options.elements.submitButton.prop("tabIndex",-1);this.options.elements.drawer.prop("tabIndex",-1);this.options.elements.form.css("display","none");this.pageScroller=new a.Scroller("html,body",{easing:"easeOutExpo",duration:2000});this.questionControls=[];this.on()},"{elements.intro} keyup":"setKeyboardNavigation","{elements.openButton} click":"handleOpenClick","{elements.cancelButton} click":"handleCancelClick","{elements.submitButton} click":"handleSubmit","{isFormEnabled} change":"toggleFormState",setKeyboardNavigation:function(){this.isKeyboardNavigation=true},handleOpenClick:function(f,g){g.stopPropagation();this.sendFeedbackMetrics({action:"Open"});this.openDrawer()},handleCancelClick:function(f,g){g.stopPropagation();this.sendFeedbackMetrics({action:"Cancel"});this.closeDrawer()},handleSubmit:function(h,i){i.preventDefault();i.stopPropagation();var g=this;if(this.preventSubmitForMetrics){this.clearTimeout(this.submitTimeout);this.sendFeedbackMetrics({action:"Submit"});this.submitTimeout=this.setTimeout(function(){g.preventSubmitForMetrics=false;g.options.elements.submitButton.trigger("click")},this.constructor.Behavior.SubmitDelay)}else{var f=this.getParams();this.preventSubmitForMetrics=true;if(f.answers.length>0){this.submitForm(f).done(this.proxy("showConfirmationAndClose"));return}this.showConfirmationAndClose()}},toggleFormState:function(h,g,f){this.options.elements.form.find(":input").prop("disabled",!f)},openDrawer:function(){if(this.isOpen||this.inAction){return}this.inAction=true;this.openedHeight=d("html").hasClass("handheld")?this.openedHeightHandheld:this.openedHeight;this.animate(this.element,{height:this.openedHeight},function(){this.options.elements.message.text(this.options.loadingMessage).attr("aria-hidden",false);this.options.elements.form.css("display","");this.options.elements.form.attr("aria-hidden",true);this.options.elements.drawer.attr("aria-expanded",true);this.options.elements.cancelButton.prop("tabIndex",false);this.options.elements.submitButton.prop("tabIndex",false);this.element.addClass(this.constructor.UiState.loading);this.scrollIntoView();this.positionMessage();if(this.data){this.showFeedbackForm();return}this.getData().then(this.proxy("receiveData"),this.proxy("showErrorAndClose"))});this.inAction=false;this.isOpen=true},closeDrawer:function(){if(!this.isOpen||this.inAction){return}var g=this.options.elements.intro.outerHeight(true);var f=this;this.inAction=true;this.options.elements.message.text("");this.element.addClass(this.constructor.UiState.closing);this.options.isFormEnabled(false);this.animate(this.element,{height:g},function(){this.element.removeClass(this.constructor.UiState.showingData).removeClass(this.constructor.UiState.showingMessage).removeClass(this.constructor.UiState.closing);this.options.elements.message.attr("aria-hidden",true);this.options.elements.drawer.attr("aria-expanded",false);this.options.elements.form.attr("aria-hidden",true);this.options.elements.form.css("display","none");this.options.elements.cancelButton.prop("tabIndex",-1);this.options.elements.submitButton.prop("tabIndex",-1);this.options.elements.form[0].reset();b.each(this.questionControls,function(h){h.reset()});if(this.isKeyboardNavigation){this.isKeyboardNavigation=false;this.options.elements.openButton.focus()}if(d.AsSupport.isMobileIos||d.AsSupport.isIpad){setTimeout(function(){f.options.elements.openButton.focus()},1000)}if(d.AsSupport.isAndroidInternet&&d("html").hasClass("handheld")){setTimeout(function(){f.element.hide();setTimeout(function(){f.element.show();d("body").scrollTop(9999)},0)},500)}});this.inAction=false;this.isOpen=false},positionMessage:function(){this.options.elements.message.text("O");var f=this.options.elements.message.outerHeight(true),g=Math.round((this.element.outerHeight(true)-this.options.elements.intro.outerHeight(true))/2-(f/2));this.options.elements.message.css("bottom",g);this.options.elements.message.text("")},showErrorAndClose:function(){var f=this;this.options.elements.message.text(this.options.errorMessage);setTimeout(function(){f.options.elements.form.attr("aria-hidden",true);f.options.elements.message.attr("aria-hidden",false);f.element.removeClass(f.constructor.UiState.loading).addClass(f.constructor.UiState.showingMessage);setTimeout(f.proxy("closeDrawer"),f.constructor.Behavior.CloseDelay)},1000)},showConfirmationAndClose:function(){this.options.elements.message.text(this.options.confirmationMessage);this.options.elements.form.attr("aria-hidden",true);this.options.elements.message.attr("aria-hidden",false);this.element.removeClass(this.constructor.UiState.showingData).addClass(this.constructor.UiState.showingMessage);this.options.elements.message.css("opacity",1);setTimeout(this.proxy("closeDrawer"),this.constructor.Behavior.CloseDelay)},showFeedbackForm:function(){var i=this.options.elements.drawer.outerHeight(true),f=this.options.elements.intro.outerHeight(true),h=i+f,j=this.element.outerHeight(true),g=this;if(h===j){h++}this.animate(this.element,{height:h},function(){this.element.removeClass(this.constructor.UiState.loading).addClass(this.constructor.UiState.showingData);this.options.elements.form.attr("aria-hidden",false);this.options.elements.message.attr("aria-hidden",true);this.options.isFormEnabled(true);setTimeout(function(){g.options.elements.drawer.focus()},1000);this.isOpen=true;this.options.elements.message.text("")})},submitForm:function(f){return b.ajax({method:"post",data:f,url:this.data.feedback.serviceURL,dataType:"json jsonrpc"})},getData:function(){return b.ajax({url:this.options.serviceURL,dataType:"json jsonrpc"})},receiveData:function(g){var f=g&&g.feedback&&g.feedback.questions||[];if(f.length===0){this.showErrorAndClose();return}this.data=g;this.createFeedbackQuestions(f,this.showFeedbackForm)},createFeedbackQuestions:function(h,f){var g=this,j=this.element.find(".plf-rating-questions"),i=this.element.find(".plf-freetext-questions");b.each(h,function(l){var k;if(l.type==="STAR_RATING"){k=new a.WebRatingQuestion(j,{id:l.id,description:l.description,ratingsLabel:g.options.ratingsLabel,template:g.options.ratingQuestionTemplate})}else{if(l.type==="OPEN_ENDED"){k=new a.WebFreeTextQuestion(i,{id:l.id,description:l.description,maxCharLimit:l.maxCharLimit,warnCharLimit:l.warnCharLimit,warnThreshold:l.warnThreshold,lowCharsMessage:g.options.lowCharsMessage,maxCharsAllyLabel:g.options.maxCharsAllyLabel,template:g.options.freeTextQuestionTemplate})}}g.questionControls.push(k)});if(f){f.apply(this)}},getParams:function(){var f=b.extend({pageName:c.s.pageName,uniqueUserId:d.cookie("s_vi"),answers:[]},this.data.feedback.params);b.each(this.questionControls,function(h){var g=h.getParams();if(g.value!==null){f.answers.push(g)}});return f},sendFeedbackMetrics:function(f){var g=b.extend({eVar:"eVar6",slot:"",feature:"Feedback",part:(this.options.partNumber||""),action:"Selected"},f);d.AsMetrics.fireMicroEvent(g,true)},animate:function(i,h,f){var g=this;if(d.AsSupport.isAndroidInternet&&d("html").hasClass("handheld")){i.css(h);setTimeout(function(){if(f){f.apply(g)}},500)}else{if(d.AsSupport.animation){i.one(d.AsSupport.transitionEndName,function(){if(f){f.apply(g)}});i.css(h)}else{i.css(h);if(f){f.apply(g)}}}},scrollIntoView:function(){var g=document.body;var k=document.documentElement;var f=d(c).height();var j=Math.max(g.scrollHeight,k.scrollHeight,g.offsetHeight,k.offsetHeight,g.clientHeight,k.clientHeight)-f;var i=this.element.offset().top;var h=Math.min(j,i);this.pageScroller.scrollTop(h)}})})(this,jQuery,can,as);window.Event.onDomReady=window.Event.onLoad=jQuery;window.$=function(a){return jQuery("#"+a)};window.apple=window.apple||{};window.apple.widget=window.apple.widget||{};window.coherent=window.coherent||{};window.coherent.TextField=function(a){return new as.TextField(a)};window.apple.widget.EqualizeCopy=jQuery.AsEqualizeCopy;window.apple.widget.FooterView=function(){};window.apple.Tracking=as.Tracking;window.apple.metrics=window.apple.metrics||{};window.apple.metrics.Metrics=jQuery.AsMetrics.Metrics;window.apple.SiteSearch=function(a,d,b){return new as.WebSiteSearch(a,can.extend(b.options,b.options.text))};window.apple.SiteSearchLiquid=function(a,d,b){return new as.WebSiteSearchLiquid(a,can.extend(b.options,b.options.text))};window.apple.GlobalNav=function(){};window.apple.GlobalNavViewController=function(){};window.apple.utilitynav=window.apple.utilitynav||{};window.apple.utilitynav.UtilityNavViewController=as.UtilityNav;window.apple.utilitynav.UtilityNavViewMobileController=as.UtilityNavHandheld;window.apple.PagelevelFeedbackViewController=as.WebPageLevelFeedback;window.apple.MobileBanner=function(){new as.MobileBanner(document.body,{bannerNodeUrl:window.appleStoreAppBannerNode,storeUrl:window.appleStoreAppUrl,expiry:window.appleStoreAppBannerExpiry,viewLimit:window.appleStoreAppBannerViewLimit})};window.apple.fcs=as.FcsDataStorage;window.apple.ai=jQuery.AsInstantFeedback;window.apple.fcs.storeFcsData=as.FcsDataStorage.storeFcsData;window.apple.RetailAvailabilitySearchViewController={};window.apple.RetailAvailabilitySearchViewController.create=function(b,a){return new as.RetailAvailabilitySearch(b,a)};window.apple.widget.Hover=function(){};window.apple.widget.HoverManager=function(){};if(!Array.prototype.filter){Array.prototype.filter=function(c){if(this===void 0||this===null){throw new TypeError()}var f=Object(this);var a=f.length>>>0;if(typeof c!=="function"){throw new TypeError()}var e=[];var b=arguments.length>=2?arguments[1]:void 0;for(var d=0;d<a;d++){if(d in f){var g=f[d];if(c.call(b,g,d,f)){e.push(g)}}}return e}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,b){if("undefined"===typeof(b)){b=0}else{if(b<0){b=Math.max(0,this.length+b)}}for(var a=b;a<this.length;a++){if(this[a]===c){return a}}return -1}};