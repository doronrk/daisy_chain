/* Script imported from http://www.ralphlauren.com/js/site.js */
function df_lightbox_pinkpony_show(){}function df_lightbox_pinkpony_hide(){}function df_lightbox_show(){}function df_lightbox_hide(){}function getParameterByName(name,href){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");href=href||window.location.href;var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(href);if(results==null){return"";}else{return decodeURIComponent(results[1].replace(/\+/g," "));}}function getBrandContentBox(brandId,categoryId,height){var brandFolder="http://"+window.location.hostname+"/graphics/media/polo/branding";jQuery.ajax({url:brandFolder+"/"+brandId+"/content-box-"+categoryId+"-"+height+".html",success:function(data){jQuery(".brand-"+brandId+" .brand-content").html(data);},error:function(){jQuery.ajax({url:brandFolder+"/"+brandId+"/content-box-"+height+".html",success:function(data2){jQuery(".brand-"+brandId+" .brand-content").html(data2);},error:function(){jQuery(".brand-content-box.brand-"+brandId).remove();}});}});}function selectParametricFilterValue(dropDown){var selectedValue=dropDown[dropDown.selectedIndex].value;selectedValue=selectedValue.replace(/&$/,"");if(selectedValue>""){window.location=selectedValue;}}function ajaxLoadTabData(url,tabId){var tab=jQuery(tabId);jQuery.ajax({url:url,success:function(data){tab.append(data);tab.addClass("data-loaded");}});}Event.observe(window,"load",function(e){var pars={animate:{time:150,opacity:0.8}};if(Df.Modal){Df.Modal.setPars(pars);}Df.Shells={dialog:function(holder){if(!holder){holder=document.body;}var dialog=Df.e("div",$(holder),{className:"dialog"});var title=Df.e("div",dialog,{className:"titleDialog"});var close=Df.e("span",title,{innerHTML:'<img src="../images/pixel.gif" width="26" height="24" border="0" />'});close.observe("click",Df.Lightbox.hide);var content=Df.e("div",dialog);return{element:dialog,content:content};}};if(Df.Lightbox){if(typeof Df.Lightbox.createDialog!=="undefined"){Df.Lightbox.createDialog(new Df.Dialog(Df.Shells.dialog()).set({animate:{time:150,opacity:0.9999},drag:false,resize:false,center:true}));}}window.df_lightbox_show=function(linkURL){RugbyOverlayView(true,"global_rugby_lightbox");Df.Lightbox.setContent("<div><a href=\"javascript:window.open('"+linkURL+'\', \'Rugby\');void(df_lightbox_hide());"><img src="../images/rugby_interstitial_080312.jpg" width="312" height="273" border="0" /></a></div>');return Df.Lightbox.show();};window.df_lightbox_hide=function(){return Df.Lightbox.hide();};window.df_lightbox_pinkpony_show=function(linkURL){Df.Lightbox.setContent("<div><a href=\"javascript:window.open('"+linkURL+'\', \'PinkPony\');void(df_lightbox_pinkpony_hide());"><img src="../images/0930_pp_auction_310x270.jpg" width="310" height="270" border="0" /></a></div>');return Df.Lightbox.show();};window.df_lightbox_pinkpony_hide=function(){return Df.Lightbox.hide();};if(Df.browser&&Df.browser().ie){Df.Lightbox.getDialog().element.observe(":show",function(e){scrollTo(0,0);});}var CharLimit=new Number(120);jQuery(".AddCountDown").keyup(function(){if(!isNaN(jQuery(this).attr("CharLimit"))){CharLimit=parseInt(jQuery(this).attr("CharLimit"));if(jQuery(this).val().length>CharLimit){jQuery(this).val(jQuery(this).val().substring(0,CharLimit));}else{jQuery("#ogm-char-limit").html(CharLimit-jQuery(this).val().length);}}});jQuery(".pagination").bind("keyup",function(e){e.preventDefault();e.stopPropagation();if(e.keyCode==13){var $this=jQuery(this);var selectedPageValue=jQuery("input[name=pg]",$this).val();var selectedPage=parseInt(selectedPageValue);if(/^\d*$/.test(selectedPage)&&selectedPage<=parseInt(jQuery(".total-pages",$this).text())&&selectedPage>=1){window.location=$this.attr("action")+"&pg="+selectedPage;}else{jQuery("input[name=pg]").val(jQuery("input[name=current-pg]").val()).blur();return false;}}}).bind("submit",function(e){e.preventDefault();return false;});jQuery(".need-help").fancybox({"titlePosition":"inside","transitionIn":"none","transitionOut":"none","overlayOpacity":0.5});jQuery("#tabs-need-help").insertAfter("#fancybox-content");jQuery("#tabs-need-help li a").click(function(){jQuery("#tabs-need-help li a").removeClass("active");});jQuery(".need-help").click(function(){jQuery("#tabs-need-help").css("display","block");jQuery("#tabs-need-help li a").removeClass("active");if(this.className=="need-help assistance"||this.className=="assistance need-help"){jQuery("#tabs-need-help li a.assistance").addClass("active");if(!jQuery("#tab-assistance").hasClass("data-loaded")){ajaxLoadTabData("/product/need_help.html","#tab-assistance");}}else{if(this.className=="need-help shipping"||this.className=="shipping need-help"){jQuery("#tabs-need-help li a.shipping").addClass("active");if(!jQuery("#tab-shipping").hasClass("data-loaded")){ajaxLoadTabData("/product/shipping.html","#tab-shipping");}}else{if(this.className=="need-help returns"||this.className=="returns need-help"){jQuery("#tabs-need-help li a.returns").addClass("active");if(!jQuery("#tab-returns").hasClass("data-loaded")){ajaxLoadTabData("/product/efortless_returns.html","#tab-returns");}}else{if(this.className=="need-help gift"||this.className=="gift need-help"){jQuery("#tabs-need-help li a.gift").addClass("active");if(!jQuery("#tab-gift").hasClass("data-loaded")){ajaxLoadTabData("/product/giftpop.jsp","#tab-gift");}}else{if(this.className=="need-help emailus"||this.className=="emailus need-help"){jQuery("#tabs-need-help li a.emailus").addClass("active");}}}}}});jQuery("#tabs-need-help").css("display","none");jQuery("#sizechart").fancybox({"width":820,"height":670,"autoScale":false,"transitionIn":"none","transitionOut":"none","type":"iframe"});jQuery("#fitguide").fancybox({"width":820,"height":670,"autoScale":false,"transitionIn":"none","transitionOut":"none","type":"iframe"});jQuery("#SG_ReadNow").fancybox({"scrolling":"no","width":820,"height":670,"autoScale":false,"transitionIn":"none","transitionOut":"none","type":"iframe"});jQuery(".prodPromoLink").fancybox({"scrolling":"no","width":450,"height":500,"autoScale":false,"transitionIn":"none","transitionOut":"none","type":"iframe"});jQuery("#sizechart").click(function(){jQuery("#tabs-need-help").css("display","none");jQuery("#fancybox-close").css({"width":"14px","height":"14px","top":"7px","right":"7px","background":"url('../images/fancybox/lightbox-close.gif') no-repeat","z-index":"9999"});});jQuery("#fitguide").click(function(){jQuery("#tabs-need-help").css("display","none");jQuery("#fancybox-close").css({"width":"14px","height":"14px","top":"7px","right":"7px","background":"url('../images/fancybox/lightbox-close.gif') no-repeat","z-index":"9999"});});jQuery(".need-help").click(function(){jQuery("#fancybox-close").css({"width":"14px","height":"14px","top":"7px","right":"7px","background":"url('../images/fancybox/lightbox-close.gif') no-repeat","z-index":"9999"});});jQuery("#SG_ReadNow").click(function(){jQuery("#tabs-need-help").css("display","none");jQuery("#fancybox-close").css({"width":"14px","height":"14px","top":"7px","right":"7px","background":"url('../images/fancybox/lightbox-close.gif') no-repeat","z-index":"9999"});});initEnhancedZoom();});prepend_uppercase=function(select,option){var text=select.attr("title");if(!text){text=option.text();}else{text=text+": "+option.text();}return text;};reformatGridNav=function(){jQuery(".selectFilterClass, .selectSortClass, .view-sizes, .sizeDropDowntexts").each(function(){var select=jQuery(this);if(select.find("option").length>0||select.parent(".items-per-page").length){var whichone=select.attr("class");var whichclass="dropDown";var width;if(whichone.indexOf("selectFilter_Brand")!=-1){width=140;}else{if(whichone.indexOf("selectFilter_GenericColor")!=-1){width=116;}else{if(whichone.indexOf("selectFilter_SizeGeneral")!=-1){width=116;}else{if(whichone.indexOf("view-sizes")!=-1){width=44;}else{if(whichone.indexOf("selectSortClass")!=1){width=116;}else{width=70;whichclass="dropDownShort";}}}}}var selectBoxContainer=jQuery("<div>",{"class":"cmfilter",html:'<div class="selectBox"></div>'}).css("width",width);var dropDown=jQuery("<ul>",{"class":whichclass}).css("width",width);var selectBox=selectBoxContainer.find(".selectBox");select.find("option").each(function(i){var option=jQuery(this);var sel=0;var li=jQuery("<li>",{html:option.text()});if(i==sel){selectBox.html("<span><span>"+prepend_uppercase(select,option)+"</span></span>");}if(option.attr("selected")==true){selectBox.html("<span><span>"+prepend_uppercase(select,option)+"</span></span>");li.addClass("selected");}li.not(".selected").click(function(e){selectBox.html("<span><span>"+prepend_uppercase(select,option)+"</span></span>");selectBox.find("span span").each(function(){jQuery(this).css({"display":"block"});});dropDown.trigger("cmhide");select.val(option.val());jQuery(select).trigger("change");return false;});dropDown.append(li);});selectBoxContainer.append(dropDown.hide());select.hide().after(selectBoxContainer);selectBoxContainer.find(".selectBox span span").each(function(){jQuery(this).css({"display":"block"});});dropDown.bind("cmshow",function(){jQuery("ul.dropDown").each(function(){jQuery(this).trigger("cmhide");});if(dropDown.is(":animated")){return false;}selectBoxContainer.addClass("cmfilterexpanded");dropDown.show();}).bind("cmhide",function(){if(dropDown.is(":animated")){return false;}selectBoxContainer.removeClass("cmfilterexpanded");dropDown.hide();}).bind("cmtoggle",function(){if(selectBoxContainer.hasClass("cmfilterexpanded")){dropDown.trigger("cmhide");}else{dropDown.trigger("cmshow");}});selectBoxContainer.click(function(e){dropDown.trigger("cmtoggle");return false;});jQuery(document).click(function(){dropDown.trigger("cmhide");});}});};function setCookie(c_name,value,exdays){var exdate=new Date();exdate.setDate(exdate.getDate()+exdays);var c_value=escape(value)+((exdays==null)?"":"; expires="+exdate.toUTCString());document.cookie=c_name+"="+c_value+"; path=/";}function getCookie(c_name){var i,x,y,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++){x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==c_name){return unescape(y);}}}function populateGET(){window.get={};var params=location.search.slice(1).split("&");for(var i=0,len=params.length;i<len;i++){var keyVal=params[i].split("=");try{window.get[decodeURIComponent(keyVal[0])]=decodeURIComponent(keyVal[1]);}catch(err){window.get[keyVal[0]]=keyVal[1];}}}function attachStickyView(){populateGET();var newsize=(window.get["view"])?window.get["view"]:getCookie("viewsizecookie");if(newsize){newsize=(newsize=="all")?"99":newsize;setCookie("viewsizecookie",newsize,365);jQuery('a[href*="family"]').each(function(index){var href=jQuery(this).attr("href");var html=jQuery(this).html();if(href.indexOf("view")==-1&&href.indexOf("pg")==-1&&html.substr(0,10)!=="Back to 15"){jQuery(this).attr("href",href+"&view="+newsize);}if(href.indexOf("view")==-1&&href.indexOf("pg")==-1&&html.substr(0,10)=="Back to 15"){jQuery(this).attr("href",href+"&view=15");}});}var newppp=(window.get["ppp"])?window.get["ppp"]:getCookie("viewsizecookie");if(newppp){newppp=(newppp=="all")?"99":newppp;setCookie("viewsizecookie",newppp,365);}}function showCustomLightbox(promoUrl,width,height){jQuery("<div/>",{id:"promo-lightbox",style:"display:none"}).appendTo("body");jQuery("<iframe/>",{id:"promo-iframe",src:"",height:"100%",width:"100%",frameBorder:"0",scrolling:"no"}).appendTo("#promo-lightbox");jQuery("#promo-lightbox").css({height:height+"px",width:width+"px"});jQuery("#promo-iframe").attr("src",promoUrl);if(height>jQuery(window).height()){jQuery.blockUI({baseZ:2100,message:jQuery("#promo-lightbox"),css:{top:"10px",left:(jQuery(window).width()-width)/2+"px",height:height+"px",width:width+"px",position:"absolute"}});}else{jQuery.blockUI({baseZ:2100,message:jQuery("#promo-lightbox"),css:{top:(jQuery(window).height()-height)/2+"px",left:(jQuery(window).width()-width)/2+"px",height:height+"px",width:width+"px"}});}jQuery(".blockOverlay").click(function(){jQuery.unblockUI({onUnblock:function(){jQuery("#promo-lightbox").remove();}});}).css({cursor:"pointer"});}function initEnhancedZoom(){if(jQuery("#enhanced-zoom").length){if(productTemplate=="poloColor"||productTemplate=="poloMulticolor2"||productTemplate=="poloCustomColor2"){zoomColor=orderedImageMap_0[0].cId;}else{if(productTemplate=="poloHomeCustom2"){zoomColor=colorImages[0].id;}else{zoomColor="";}}setZoomColor(zoomColor);jQuery("#enhanced-zoom").click(function(e){e.preventDefault();if(this.className!="disabled"){var colorCode=jQuery(this).attr("rel");var altIndex=jQuery("ul.altImages li").length?jQuery("ul.altImages li.active").index():0;openEnhancedZoom(productIdForPopup,colorCode,altIndex);}});}}function setZoomColor(colorCode){var isDisabled=true;if(colorCode){if(typeof Scene7Map["s7"+colorCode]!=="undefined"){isDisabled=false;}else{if(colorImages!==undefined){jQuery.each(colorImages,function(){if(this.id==colorCode&&this.zoom!=""){isDisabled=false;}});}}}else{if(typeof productImages!=="undefined"&&productImages.zoom!=""){isDisabled=false;}}jQuery("#enhanced-zoom").attr({"class":isDisabled?"disabled":"","rel":colorCode});}function openEnhancedZoom(pid,color,view){var device=navigator.userAgent.toLowerCase();var ios=device.match(/(iphone|ipod|ipad)/);var inFrame=window.self===window.top?false:true;var zoomSrc="/enhancedZoom/index.jsp?productId="+pid+"&color="+color+"&view="+view;if(ios||inFrame){var zoomTab=window.open(zoomSrc,"_blank");zoomTab.focus();}else{$j("<div/>",{id:"zoom-frame-wrapper",style:"display:none;height:100%;width:100%"}).appendTo("body");$j("<iframe/>",{id:"zoom-frame",src:zoomSrc,height:"100%",width:"100%",frameBorder:"0",scrolling:"no"}).appendTo("#zoom-frame-wrapper");jQuery.blockUI({baseZ:2500,message:jQuery("#zoom-frame-wrapper"),css:{padding:0,margin:0,width:"100%",height:"100%",left:"0",top:"0",border:"none",backgroundColor:"#fff",cursor:"auto"},centerX:true,centerY:true});jQuery("#zoom-frame").load(function(){jQuery("#zoom-frame").contents().find(".zoom-close").click(function(e){e.preventDefault();parent.jQuery.unblockUI({onUnblock:function(){jQuery("#zoom-frame-wrapper").remove();}});});});}}