/* UI BUILD: Friday, Nov 21 2014 at 11:14:50 PM */
/* MD5: 773c525bd0851c4f0f440de325564f67 */

var TaxonomyTag,BBYAdSense;(function(){function e(e){var t,a,i=window.location.search.substring(1),n=i.split("&");for(t=0;n.length>t;t++)if(a=n[t].split("="),a[0]==e)return a[1];return!1}function t(e){var t=[];return _.each(e,function(e){t.push(a(e))}),t.join("/")}function a(e){return $.trim(e).toLowerCase().replace(/\s/g,"_").replace(/-/g,"").replace(/&/g,"x").replace(/\[/g,"").replace(/\]/g,"").replace(/__/g,"_").replace(/[^a-zA-z0-9\s&-]/g,"")}var i,n,s,o,d,r,l,c=$("#analytics-data"),p=($("h1.page-title"),"BestBuyDesktopWeb/"),g="/6011/BestBuyDesktopWeb/",h=["abcat0100000","abcat0101000","abcat0401005","abcat0800000","abcat0900000","abcat0912000","abcat0904000","abcat0903000","cat02001","cat02015","pcat17071","pcmcat208100050001","pcmcat208100050002","pcmcat208100050003","pcmcat241600050001","pcmcat302600050005","pcmcat303000050004"],u={width:"748px",position:"relative",height:"100px",padding:"10px 0px 10px 10px",margin:"0px auto 10px",textAlign:"center",background:"url(http://img.bbystatic.com/BestBuy_US/en_US/images/global/admodel/advertisement_728x90.gif) 3px 10px no-repeat"},b={};o=c.data("catId")||(track?track.catId:""),"cat00000"===o&&(l=!0,d="best_buy"),(l||-1!==_.indexOf(h,o)||-1!==_.indexOf(h,e("id")))&&(window.clientSideAdModels||(window.clientSideAdModels=[{adUnitPath:"",height:90,pid:"",slotName:"",uuid:"dart-container-728x90",width:728}]),n=_.find(clientSideAdModels,{width:300}),s=_.find(clientSideAdModels,{width:728}),window.siteControlBreadcrumb||(window.siteControlBreadcrumb=[],i=$(".breadcrumb, #breadcrumb-list").first(),i.length&&i.find("li").each(function(e,t){window.siteControlBreadcrumb.push({displayName:$.trim($(t).text())})})),r=_.reject(_.pluck(siteControlBreadcrumb,"displayName"),function(e){return"Best Buy"===e}),d||(d=t(r)),_.extend(b,{adUnitPath:p+d,categoryName:"/"+d,pid:o,slotName:g+d}),l&&($("#footer").before("<div id='ghp-bottom-banner'></div>"),$("#ghp-bottom-banner").css(_.extend(_.clone(u),{width:980,height:110,padding:"10px 0",marginBottom:20,backgroundPosition:"0px 10px"})),clientSideAdModels.push(_.extend({width:960,height:90,uuid:"ghp-bottom-banner"},b))),n&&_.extend(n,b),s?_.extend(s,b):($("body").prepend("<div id='leaderboard'></div>"),$("#leaderboard").css(u),clientSideAdModels.push(_.extend({width:728,height:90,uuid:"leaderboard"},b))),track&&track.isCloud&&require(["sc-ad-model/javascript/ad-model"],function(e){_.each(window.clientSideAdModels,function(t){e.showAd({DOMTargetId:t.uuid,adUnitPath:t.adUnitPath,categoryName:t.categoryName,pid:t.pid,width:t.width,height:t.height,slotName:t.slotName})})}))})(),TaxonomyTag=function(){},TaxonomyTag.getPageName=function(){var e,t;return track.uberCatName&&(e=track.uberCatName),track.parentCatName&&(""!==e?e+=" "+track.parentCatName:e=track.parentCatName),t=track.catId||track.catName,t&&(""!==e?e+=" "+t:e=t),e},TaxonomyTag.encode=function(e){var t=e||"";return t=t.toLowerCase(),t=t.replace(/&/g,"x"),t=t.replace(/%26/g,"x"),t=t.replace(/ /g,"_"),t=t.replace(/%20/g,"_"),t=t.replace(/,/g,""),t=t.replace(/%2C/g,""),t=t.replace(/:/g,""),t=t.replace(/%3A/g,""),t=t.replace(/:/g,""),t=t.replace(/%3B/g,""),t=t.replace(/%20/g," "),t=t.replace(/[^a-zA-z0-9\s&-]/g,"")},TaxonomyTag.getEncodedPageName=function(){var e,t=TaxonomyTag.getPageName();return t&&(e=TaxonomyTag.encode(t)),e},BBYAdSense=function(){var e,t=this;this._adUnitWide,this._contentWide,this._isSpanish,this._inDevelopMode,this._pageOptions,this._contentWide="<div id='gAdUnitWideAds'></div>",this._inDevelopMode=!1,this._isSpanish=!1,this._adUnitNarrow={container:"gAdUnitNarrowAds",number:3,width:"168px",titleBold:!0,colorDomainLink:"#004691",colorTitleLink:"#004691",sellerRatings:!0,adLoadedCallback:function(e,a){var i,n="#gAdUnitNarrow";if(a){i="completed";try{$(n).find(".bbytooltip-trigger").bbytooltip(),t.displayAdUnit(n)}catch(s){i="failed with "+s.message}}}},this._adUnitWide={container:"gAdUnitWideAds",number:4,colorBorder:"#C3C4C",colorDomainLink:"#004691",colorTitleLink:"#004691",longerHeadlines:!0,sellerRatings:!0,adLoadedCallback:function(e,a){var i,n="#gAdUnitWide";if(a){i="completed";try{$(n).find(".bbytooltip-trigger").bbytooltip(),t.displayAdUnit(n)}catch(s){i="failed with "+s.message}}}},this._pageOptions={adtest:"on",channel:"",domainLinkAboveDescription:!0,hl:"en",linkTarget:"_blank",oe:"ISO-8859-1",pubId:"",query:"",siteLinks:!0},"undefined"!=typeof imgServer&&null!==imgServer&&(e=imgServer.indexOf("espanol")>-1,e&&(this._isSpanish=e,this._pageOptions.hl="es")),this.loadAd()},BBYAdSense.doLog=!0,BBYAdSense.log=function(e,t,a){var i="";BBYAdSense.doLog&&"undefined"!=typeof console&&null!==console&&("undefined"!=typeof e&&null!==e&&0!==e.length&&(i+=e),"undefined"!=typeof t&&null!==t&&0!==t.length&&(i+="."+t),i+=": ["+(new Date).getTime()+"] ","undefined"!=typeof a&&null!==a&&0!==a.length&&(i+=a))},BBYAdSense.google_msg=function(){return errorpop.show('<a class="closePop" href="javascript:errorpop.hide()"><span>close</span></a><h3>Ads by Google</h3><p>The links below are sponsored links that are administered, sorted, and maintained by Google. Companies pay to have these links appear when particular keywords and phrases are searched. These Ads by Google are always clearly labeled.</p><p>Clicking on any of the sponsored links will take you away from BestBuy.com to an external Web site hosted and operated by its respective owner. Different terms and conditions will apply. Please consult each site&#39;s Privacy Policy. The Web site you link to is not endorsed by, nor affiliated with, Best Buy or BestBuy.com.</p>'),!1},BBYAdSense.prototype.displayAdUnit=function(e){$(e).removeClass("gAdUnitHidden"),$(e).find(".adTitle").show()},BBYAdSense.prototype.tooltipContent=function(e){var t="ad-"+e+"-tooltip",a="<a href='#' class='bbytooltip-trigger' data-bbytooltip-event='click' data-bbytooltip-id='"+t+"' data-bbytooltip-position='right'>What's this?</a>",i="<div style='padding: 20px;width: 325px;font-size: 11px;line-height: 15px;' id='"+t+"'>"+"  <p><strong>Ads by Google</strong></p>"+"  <p>The links below are sponsored links that are administered, sorted, and maintained by Google. Companies pay to have these links appear when particular keywords and phrases are searched. These Ads by Google are always clearly labeled.</p>"+"  <p>Clicking on any of the sponsored links will take you away from BestBuy.com to an external Web site hosted and operated by its respective owner. Different terms and conditions will apply. Please consult each site's Privacy Policy. The Web site you link to is not endorsed by, nor affiliated with, Best Buy or BestBuy.com.</p>"+"</div>";return a+i},BBYAdSense.prototype.getContentNarrow=function(){var e=['<div id="gAdUnitNarrow" class="gAdUnit narrow gAdUnitHidden" style="margin-top:20px;"><div class="adTitle" style="display:none;"><h2 style="font-size: 13px;margin-bottom: 2px;margin-top: 0;font-weight: bold; color: #000;">Ads by Google</h2><h4 style="font-size: 11px; margin-top: 0;">',this.tooltipContent("narrow"),'</h4><div class="clearer">***</div></div><div id="',this._adUnitNarrow.container,'" class="narrowcontent gAds"></div><div class="clearer"></div></div>'].join("");return e},BBYAdSense.prototype.getContentWide=function(e){var t;return t="undefined"!=typeof e&&null!==e&&"PDP"===e?['<div id="gAdUnitWide" class="gAdUnit wide gAdUnitHidden" style="clear: both;"><div class="adTitle"><h4 style="font-size: 12px; margin-top: -12px; margin-bottom: 10px;">',this.tooltipContent("wide"),'</h4></div><div id="',this._adUnitWide.container,'" class="widecontent gAds"></div><div class="clearer"></div></div>'].join(""):['<div id="gAdUnitWide" class="gAdUnit wide gAdUnitHidden" style="border: 1px solid #ccc; padding: 20px; clear: both; position: relative; top: 10px;"><div class="adTitle" style="display:none;"><h3 style="font-size: 13px;margin-bottom: 2px;margin-top: 0;font-weight: bold; color: #000;">Ads by Google</h3><h4 style="font-size: 11px; margin-top: 0;">',this.tooltipContent("wide"),'</h4></div><div id="',this._adUnitWide.container,'" class="widecontent gAds"></div><div class="clearer"></div></div>'].join("")},BBYAdSense.prototype.log=function(e,t){BBYAdSense.doLog&&"undefined"!=typeof console&&null!==console&&console.log("BBYAdSense."+e+": "+t)},BBYAdSense.prototype.loadAd=function(){if(this._pageOptions.adtest=this._inDevelopMode?"on":"off",$("#list-page .list-item").length>0&&this.getQueryVariable("st")&&$("#analytics-data").data("parentCatId"))return this.searchCategoryPage(),void 0;if($("#list-page .list-item").length>0&&this.getQueryVariable("st"))return this.loadSearchListing(),void 0;if($("#searchstatered").length>0&&-1!==$("#searchstatered").html().indexOf("newsearch"))return this.loadNoResultsPageAds(),!0;if($(".breadcrumb").length>0){if($("#searchstate").html(),!(window.location.href.indexOf("?st=")>-1||window.location.href.indexOf("&st=")>-1))return this.loadBrowseBreadcrumbsPresent(),!0;this.loadNoResultsPageAds()}else{if($("#pdp-content").length>0)return this.loadPdpAd(),void 0;if("Deal of the Day"==document.title)return this.loadDOTDAd(),void 0}},BBYAdSense.prototype.loadNoResultsPageAds=function(){var e,t=this,a=t.getQueryVariable("st"),i=this.isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js",n=this.isSpanish?"searchnoresults-alt1":"searchnoresults";this._pageOptions.channel=n,this._pageOptions.pubId=i,this._pageOptions.query=a,e=this.getContentWide(),$(".compare-bottom").after(e),new google.ads.search.Ads(this._pageOptions,this._adUnitWide)},BBYAdSense.prototype.loadBrowseBreadcrumbsPresent=function(){var e,t,a,i,n,s,o,d,r,l=this;if("undefined"!=typeof catid&&null!==catid&&"undefined"!=typeof strCat&&null!==strCat||"undefined"!=typeof catid&&null!==catid&&"undefined"!=typeof track.uberCatName&&null!==track.uberCatName){if(e=this.isSpanish?"bestbuy-alt1-browse_js":"bestbuy-alt2-browse_js",$("#searchstate").length>0)try{for(t=$("#searchstate").text().replace(/^\s*/,"").replace(/^\s*/,"").replace(new RegExp(String.fromCharCode(8250),"g"),">").replace(/\n/g," "),t=t.split(">"),a="",i="",n=t.length;n>1;n--)a+=t[n-1].replace(/^\s+|\s+$/g,""),2!==n&&(a+=" ");for(n=1;t.length-2>=n;n++)i+=t[n].replace(/^\s+|\s+$/g,""),n!==t.length-2&&(i+="|")}catch(c){a=$("#searchstate").text().replace(/\n/g," ").replace(/>/g," ").replace(/Best Buy/g,"").replace(/^\s*/,"").replace(/\s*$/,"")}else $(".breadcrumb")&&(t=[],t.push(l.sanitizeValue($(".page-title h1").text())),o=$(".breadcrumb li").get(),$breacrumbs=o.reverse(),o=$(o),o.each(function(e,a){0>$(a).text().indexOf("Best Buy")&&t.push(l.sanitizeValue($(a).text()))}),a=t.join(" "),i="");s=this.isSpanish?"browsecatpage-alt1":"browsecatpage",""!==catid&&(s=s+","+catid),""!==strCat&&(s+=",",strCat?s+=strCat:track.uberCatName&&(s+=track.uberCatName)),this.isSpanish&&(s+="-alt1"),d=this.getContentWide(),r=this.getContentNarrow(),d=$(d).css({border:"1px solid #c3c4c4",clear:"both","float":"left","margin-top":"10px",padding:"10px",width:"100%"}),$("#list-page .container").append(d),$(".list-page-facets").append(r),this._pageOptions.channel=s,this._pageOptions.pubId=e,this._pageOptions.query=$("#analytics-data").data("catName")||a,new google.ads.search.Ads(this._pageOptions,this._adUnitWide,this._adUnitNarrow)}},BBYAdSense.prototype.searchCategoryPage=function(){var e=this,t=this.getContentWide(),a=this.getContentNarrow(),i=e.getQueryVariable("st"),n=$("#analytics-data"),s=_.bind(n.data,n);i=TaxonomyTag.encode(i),this._pageOptions.channel=this._isSpanish?"searchcatpage-alt1":"searchcatpage",this._pageOptions.pubId=this._isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js",this._pageOptions.query=i.match(/pcmcat|abcat/)?s("catName")+"||"+s("listFacets"):i,$(".list-page-main").append(t),$(".list-page-facets").append(a),new google.ads.search.Ads(this._pageOptions,this._adUnitWide,this._adUnitNarrow)},BBYAdSense.prototype.getQueryVariable=function(e){var t,a,i=window.location.search.substring(1),n=i.split("&");for(t=0;n.length>t;t++)if(a=n[t].split("="),a[0]==e)return a[1];return!1},BBYAdSense.prototype.loadSearchListing=function(){var e=this,t=e.getQueryVariable("sc"),a="",i="",n="",s="",o=0,d=0,r=this.getContentWide(),l=this.getContentNarrow();if($(".list-page-main").append(r),$(".list-page-facets").append(l),a=e.getQueryVariable("st").replace(/\+|%20/g," "),null==a&&(a=e.getQueryVariable("searchterm").replace(/\+/g," ")),-1!==a.indexOf("_"))a=null===$("#listView div.hproduct:first h3 a").html()?a.replace(/_/g," "):$("#listView div.hproduct:first h3 a").html(),i=this._isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js",s=this._isSpanish?"altcategory-alt1":"altcategory";else if(/^[0-9][0-9][0-9][0-9][0-9][0-9][0-9]/.test(a))a=$("#listView div.hproduct:first h3 a").html(),i=this._isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js",s=this._isSpanish?"search-alt1":"search";else{switch(t){case"TVVideoSP":a+=" TV Video";break;case"audioSP":a+=" Audio";break;case"carSP":a+=" Car";break;case"abCameraCamcorderSP":a+=" Cameras and Camcorders";break;case"abComputerSP":a+=" Computers";break;case"abSoftwareSP":a+=" Software";break;case"phoneOfficeSP":a+=" Phones and Office";break;case"musicSP":a+=" Music";break;case"artistSP":a+=" Music Artist";break;case"songSP":a+=" Music Song";break;case"albumTitleSP":a+=" Music Album";break;case"movieSP":a+=" Movies";break;case"titleSP":a+=" Movie Title";break;case"personSP":a+=" Movie Person";break;case"gameToySP":a+=" Games and Toys";break;case"abHomeAppSP":a+=" Home Appliances";break;default:}($("#searchstate a").length>0||$("#searchstate b").length>0)&&($("#searchstate a, #searchstate b").each(function(){o++,o>3&&(d=$(this).html().replace(/^\s+|\s+$/g,"").replace("|"," ").split(":&nbsp;",1)+"",d=d.replace(/&amp; /,"").replace(/All Categories /,"").replace(/Best Buy /,"").replace(/Name Brands /,"").replace(/&nbsp;/g," ").replace(/^\s+|\s+$/g,""),a+="|"+d)}),a=a.replace(/^\s+|\s+$/g,"").replace(/\|/g," ")),i=this._isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js",s=this._isSpanish?"search-alt1":"search"}n="csa-"+s,this._pageOptions.channel=n,this._pageOptions.pubId=i,this._pageOptions.query=a,new google.ads.search.Ads(this._pageOptions,this._adUnitWide,this._adUnitNarrow)},BBYAdSense.prototype.loadDOTDAd=function(){var e=this._adUnitWide,t=this.getContentWide("gAdUnitWideAds"),a="Deals of the day",i=this._pageOptions,n=this._isSpanish;i.channel=n?"searchcatpage-alt1":"searchcatpage",i.pubId=n?"bestbuy-alt1_js":"bestbuy-alt2_js",i.query=a,$("#google-ads").after(t),new google.ads.search.Ads(i,e)},BBYAdSense.prototype.loadPdpAd=function(){var e,t,a=$("#sku-title").text();this._pageOptions,e=this._isSpanish,this._pageOptions.channel=e?"searchcatpage-alt1":"searchcatpage",this._pageOptions.pubId="bestbuy-pdp",this._pageOptions.query=a,t=this.getContentWide("PDP"),$("#google-ads").append(t),new google.ads.search.Ads(this._pageOptions,this._adUnitWide)},BBYAdSense.adLoaded=!1,BBYAdSense.loadAds=function(){if(BBYAdSense.log("BBYAdSense","loadAds","BBYAdSense.adLoaded:"+BBYAdSense.adLoaded),BBYAdSense.adLoaded)return BBYAdSense.log("BBYAdSense","loadAds","BBYAdSense.adLoaded:"+BBYAdSense.adLoaded+", RETURN"),void 0;try{BBYAdSense.log("BBYAdSense","loadAds","EventManager- google:"+typeof google);var e={};e.Track=function(){},e.Track.prototype.setDebug=function(){},e.Track.prototype.elementBind=function(){},BBYAdSense.log("BBYAdSense","loadAds","Cloud"),new BBYAdSense,BBYAdSense.adLoaded=!0}catch(t){BBYAdSense.log("BBYAdSense","loadAds","error:"+t)}},BBYAdSense.TrackEventReady=function(){BBYAdSense.log("BBYAdSense","TrackEventReady"," typeof(google) === 'undefined'), typeof(EventManager):"+typeof EventManager),BBYAdSense.log("BBYAdSense","TrackEventReady","typeof(EventManager):"+typeof EventManager),"undefined"!=typeof EventManager&&"unknown"!=typeof EventManager&&"undefined"!=typeof EventManager.on&&EventManager.on("dio.trackEvent.ready",function(){BBYAdSense.log("BBYAdSense","TrackEventReady"," typeof(google) === 'undefined'), eventManagerCallback"),"undefined"!=typeof google?(BBYAdSense.log("BBYAdSense","TrackEventReady"," typeof(google) === 'undefined'), google object exists"),BBYAdSense.loadAds()):(BBYAdSense.log("BBYAdSense","TrackEventReady"," typeof(google) === 'undefined'), waiting for google object to exist."),setTimeout(BBYAdSense.loadAds,1500))})},BBYAdSense.prototype.sanitizeValue=function(e){return e.replace(/^\s*/,"").replace(/^\s*/,"").replace(new RegExp(String.fromCharCode(8250),"g"),">").replace(/\n/g," ").replace(/Best Buy/g,"")},BBYAdSense.loadGoogleCSA=function(){var e=document.createElement("script");e.type="text/javascript",e.src="http://www.google.com/adsense/search/async-ads.js",$("head").append(e)},BBYAdSense.loadGoogleCSA(),BBYAdSense.waitForGoogleCount=0,BBYAdSense.waitForGoogle=function(){"undefined"==typeof google||null===google?(20>BBYAdSense.waitForGoogleCount&&setTimeout(BBYAdSense.waitForGoogle,100),BBYAdSense.waitForGoogleCount++):BBYAdSense.loadAds()},"undefined"==typeof google||null===google?BBYAdSense.waitForGoogle():BBYAdSense.loadAds();