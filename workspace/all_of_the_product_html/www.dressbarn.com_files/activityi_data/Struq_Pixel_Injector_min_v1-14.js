(function(){var t=function(c,f){this.startTimeout=function(e){var d=-1,a=function(){clearTimeout(d);d=-1};c.addEventListener?c.addEventListener("load",a,!1):c.attachEvent?c.attachEvent("onload",a):c.attachEvent&&c.attachEvent("onload",a);c.setAttribute("src",f);setTimeout(function(){d=setTimeout(function(){setTimeout(function(){-1<d&&c.parentNode&&c.parentNode.removeChild(c)},50)},e)},0)}},v=function(){this.createCookie=function(c,f,e,d){if(e){var a=new Date;a.setTime(a.getTime()+864E5*e);e="; expires="+
a.toGMTString()}else e="";c=c+"="+f+e+";path=/";d&&(c+=";domain="+d);document.cookie=c+";path=/"};this.readCookie=function(c){c+="=";for(var f=document.cookie.split(";"),e=0;e<f.length;e++){for(var d=f[e];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(c))return d.substring(c.length,d.length)}return null};this.getFirstPartyCookie=function(c){if("string"!==typeof c||"string"===typeof c&&0==c.length)return"";var f=this.readCookie("struqpref");f||(f=function d(a){return a?(a^16*Math.random()>>
a/4).toString(16):([1E7]+-1E3+-4E3+-8E3+-1E11).replace(/[018]/g,d)}());this.createCookie("struqpref",f,365,c);return this.readCookie("struqpref")==f?f:""}},r=function(c,f,e){r=document.getElementsByClassName?function(d,a,b){b=b||document;d=b.getElementsByClassName(d);a=a?new RegExp("\\b"+a+"\\b","i"):null;b=[];for(var c,h=0,f=d.length;h<f;h+=1)c=d[h],a&&!a.test(c.nodeName)||b.push(c);return b}:document.evaluate?function(d,a,b){a=a||"*";b=b||document;var c=d.split(" "),h="",f="http://www.w3.org/1999/xhtml"===
document.documentElement.namespaceURI?"http://www.w3.org/1999/xhtml":null;d=[];for(var e,g=0,k=c.length;g<k;g+=1)h+="[contains(concat(' ', @class, ' '), ' "+c[g]+" ')]";try{e=document.evaluate(".//"+a+h,b,f,0,null)}catch(m){e=document.evaluate(".//"+a+h,b,null,0,null)}for(;a=e.iterateNext();)d.push(a);return d}:function(c,a,b){a=a||"*";b=b||document;var f=c.split(" ");c=[];a="*"===a&&b.all?b.all:b.getElementsByTagName(a);b=[];var h;h=0;for(var e=f.length;h<e;h+=1)c.push(new RegExp("(^|\\s)"+f[h]+
"(\\s|$)"));for(var e=0,l=a.length;e<l;e+=1){f=a[e];h=!1;for(var g=0,k=c.length;g<k&&(h=c[g].test(f.className),h);g+=1);h&&b.push(f)}return b};return r(c,f,e)},l=window._struqPI,l=l&&"[object Array]"===Object.prototype.toString.call(l)?l.slice(0):[],l=new function(c){var f="https:"==document.location.protocol?"https://":"http://",e=function(){};e.injectTrackingPixel=function(a){var b={host:"app.struq.com",dataContainerClass:"struq_SL_DF_container",dataContainerRowClass:"struq_SL_DF",timeoutMs:3E3,
IfId:"STRUQPixelsIframe",ScId:"STRUQPixelsScript",IfLoadedMessageType:"STRUQIframeLoaded",firstPartyDomain:"",firstPartyCookie:"",firstPartyUid:"",referrerImpressionParam:"struqipid"},c=document.getElementsByTagName("body")[0],d=document.createElement("IFRAME"),e=document.createElement("SCRIPT"),l="";if(a.options)for(var g in b)a.options[g]&&(b[g]=a.options[g]);if("undefined"===typeof b.firstPartyDomain||"string"===typeof b.firstPartyDomain&&0==b.firstPartyDomain.length)b.firstPartyDomain=location.hostname.replace("www.",
".");if("undefined"===typeof b.firstPartyCookie||"string"===typeof b.firstPartyCookie&&0==b.firstPartyCookie.length){var k=new v;b.firstPartyCookie=k.getFirstPartyCookie(b.firstPartyDomain)}k=[];if(a.collectData){var m=r(b.dataContainerClass);for(g=0;g<m.length;g++){for(var n=[],s=m[g].getAttribute("title"),q=r(b.dataContainerRowClass,null,m[g]),p=0;p<q.length;p++){var w=q[p].getAttribute("title"),u;u="string"===typeof q[p].textContent?q[p].textContent:"string"===typeof q[p].innerText?q[p].innerText.replace(/\r\n/g,
""):void 0;n[n.length]=encodeURIComponent(w)+"="+encodeURIComponent(u)}k[k.length]=s+"="+n.join("|")}}else if(null!=a.data&&0<a.data.length)for(m=0;m<a.data.length;m++){n=[];s=a.data[m].title;for(g in a.data[m])"title"!=g&&(n[n.length]=encodeURIComponent(g)+"="+encodeURIComponent(a.data[m][g]));k[k.length]=s+"="+n.join("|")}else l="homepage";"homepage"!=l&&(l=encodeURIComponent(k.join(!0===a.userData?"|||":"&")));k="";b.referrerImpressionParam&&(n=window.location.search.substring(1))&&(m=n.indexOf(b.referrerImpressionParam),
-1!=m&&(k=n.substr(m+b.referrerImpressionParam.length+1).split("&")[0]));var x=f+b.host+a.route+a.trackingPixelId+"?v=2&qs="+l+"&rnd="+parseInt(1E16*Math.random())+"&fpc="+b.firstPartyCookie+"&fpu="+b.firstPartyUid+"&ipid="+k;d.id=b.IfId;d.style.width=0;d.style.height=0;d.style.border="none";c.appendChild(d);setTimeout(function(){(new t(d,x)).startTimeout(b.timeoutMs)},50);var y=f+b.host+a.route.substr(0,a.route.length-1)+"o/"+a.trackingPixelId+"?v=2&qs="+l+"&rnd="+parseInt(1E16*Math.random())+"&fpc="+
b.firstPartyCookie+"&fpu="+b.firstPartyUid+"&ipid="+k;e.id=b.ScId;e.style.width=0;e.style.height=0;e.style.border="none";c.appendChild(e);setTimeout(function(){(new t(e,y)).startTimeout(b.timeoutMs)},50)};var d={queue:c||[],asyncProcessQueue:function(){var a=this;setTimeout(function(){a.processQueue()},0)},processQueue:function(){for(;0<this.queue.length;){var a=this.queue.shift();this.processCommand(a)}},processCommand:function(a){if(e[a[0]])e[a[0]](a[1])}};this.push=function(a){d.queue.push(a);
d.asyncProcessQueue()};d.asyncProcessQueue()}(l);window._struqPI=l})();