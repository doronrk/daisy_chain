(function(a){var b=function(e){var f=null;var c=a("#"+e);var d=a("input[name="+e+"]");if(c.length){f=c}else{if(d!=undefined){f=d}}return f};a.fn.autotab_magic=function(c){for(var d=0;d<this.length;d++){var e=d+1;var f=d-1;if(d>0&&e<this.length){a(this[d]).autotab({target:a(this[e]),previous:a(this[f])})}else{if(d>0){a(this[d]).autotab({previous:a(this[f])})}else{a(this[d]).autotab({target:a(this[e])})}}if(c!=null&&(isNaN(c)&&c==a(this[d]).attr("id"))||(!isNaN(c)&&c==d)){a(this[d]).focus()}}return this};a.fn.autotab_filter=function(e){var c={format:"all",uppercase:false,lowercase:false,nospace:false,pattern:null};if(typeof e=="string"||typeof e=="function"){c.format=e}else{a.extend(c,e)}for(var d=0;d<this.length;d++){a(this[d]).bind("keyup",function(f){var h=this.value;switch(c.format){case"text":var g=new RegExp("[0-9]+","g");h=h.replace(g,"");break;case"alpha":var g=new RegExp("[^a-zA-Z]+","g");h=h.replace(g,"");break;case"number":case"numeric":var g=new RegExp("[^0-9]+","g");h=h.replace(g,"");break;case"alphanumeric":var g=new RegExp("[^0-9a-zA-Z]+","g");h=h.replace(g,"");break;case"custom":var g=new RegExp(c.pattern,"g");h=h.replace(g,"");break;case"all":default:if(typeof c.format=="function"){var h=c.format(h)}break}if(c.nospace){var g=new RegExp("[ ]+","g");h=h.replace(g,"")}if(c.uppercase){h=h.toUpperCase()}if(c.lowercase){h=h.toLowerCase()}if(h!=this.value){this.value=h}})}};a.fn.autotab=function(e){var c={format:"all",maxlength:2147483647,uppercase:false,lowercase:false,nospace:false,target:null,previous:null,pattern:null};a.extend(c,e);if(typeof c.target=="string"){c.target=b(c.target)}if(typeof c.previous=="string"){c.previous=b(c.previous)}var d=a(this).attr("maxlength");if(c.maxlength==2147483647&&d!=2147483647){c.maxlength=d}else{if(c.maxlength>0){a(this).attr("maxlength",c.maxlength)}else{c.target=null}}if(c.format!="all"){a(this).autotab_filter(c)}return a(this).bind("keydown",function(f){if(f.which==8&&this.value.length==0&&c.previous){c.previous.focus().val(c.previous.val())}}).bind("keyup",function(f){var g=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];if(f.which!=8){var h=a(this).val();if(a.inArray(f.which,g)==-1&&h.length==c.maxlength&&c.target){c.target.focus()}}})}})(jQuery);