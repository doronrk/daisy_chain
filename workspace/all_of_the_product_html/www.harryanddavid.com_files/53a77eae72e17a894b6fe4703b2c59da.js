Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var i=window,r="ga";i.GoogleAnalyticsObject=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)};i[r].l=1*new Date;i[r](function(){setTimeout(function(){var dl_obj=(Bootstrapper.dataManager||{getData:function(){}}).getData();i[r]("set",{"dimension1":dl_obj["deviceType"]})},1)})},471507,[471505,597062],247846,[238645,247845]);
Bootstrapper.bindDependencyDOMParsed(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.fireHDEvent=function(event,params){if(!event){console.log("No event passed to Bootstrapper.fireHDEvent function");return}var a=params?params:{};console.log("Ensighten Event: ",event," \x3e\x3e ",JSON.stringify(a));if(event==="CartAddItem")ga("send","event","Shopping","Add to Cart",a.tm_productnames,parseFloat(a.tm_qty));else if(event==="CartRemoveItem")ga("send",
"event","Checkout","Remove Item",a.tm_productnames);else if(event==="CartDuplicateItem")ga("send","event","Checkout","Click Duplicate",a.tm_productnames);else if(event==="CouponCodeSuccess"){var couponContext=/BECCheckoutDisplay/i.test(window.location.pathname)?"Checkout":"My Cart";ga("send","event",couponContext,"Enter Coupon Code",a.tm_promocode)}else if(event==="checkoutSpecialClicked")ga("send","event","Shopping","Click a Checkout Special in My Cart",a.tm_productname);else if(event==="EmailSignup")ga("send",
"event","Email Sign-Up","Signed Up",a.type);else if(event==="Checkout")ga("send","event","My Cart","Click Checkout",a.tm_prtot,parseFloat(a.tm_qty));else if(event==="CheckoutWithPayPal")ga("send","event","My Cart","Click Checkout with PayPal",a.tm_prtot,parseFloat(a.tm_qty));else if(event==="ContinueCheckout")ga("send","event","Checkout","Click Continue - Shipping Page",a.tm_prtot,parseFloat(a.tm_qty));else if(event==="ClickPlaceOrder")ga("send","event","Checkout","Click Place Order - Payment Page",
a.tm_prtot,parseFloat(a.tm_qty));else if(event==="submitOrder")ga("send","event","Checkout","Click Place Order \u2013 Payment Page",a.tm_prtot,parseFloat(a.tm_qty));else if(event==="checkoutErrorPopup-paymentMethod")ga("send","event","Errors","Invalid CC Number");else if(event==="orderSubmitError-1006")ga("send","event","Errors","Bad CC Expiration Date");else if(event==="Error"&&typeof a.tm_event!="undefined")if(a.tm_event==="Invalid Coupon Code")ga("send","event","Errors","Invalid Coupon Code",a.tm_eventlabel);
else if(a.tm_event==="Missing Checkout Field")ga("send","event","Errors","Missing Checkout Field",a.tm_eventlabel);else if(a.tm_event==="Payment Declined"){var errorLabel="";if(params.tm_error)errorLabel=params.tm_error=="invalid cc input"?"Validation":"PayMetrics";ga("send","event","Errors","Payment Declined",errorLabel)}else if(a.tm_event==="Invalid Email")ga("send","event","Errors","Invalid Email");else{if(a.tm_event==="Session Timeout")ga("send","event","Errors","Session Timeout")}else if(event===
"adBlock")ga("send","event","Browser Plugins","AdBlock - Enabled")};dojo.provide("bec.vendors.Ensighten");dojo.declare("bec.vendors.Ensighten",null,{_ADD_TO_CART:"CartAddItem",_CHECKOUT:"Checkout",_CHECKOUT_PAYPAL:"CheckoutWithPayPal",_CONTINUE_CHECKOUT:"ContinueCheckout",_PLACE_ORDER:"ClickPlaceOrder",_REMOVE_ITEM:"CartRemoveItem",_DUPLICATE_ITEM:"CartDuplicateItem",_ADD_COUPON:"CouponCodeSuccess",_ERRORS:"Error",_EMAIL_SIGNUP:"EmailSignup",_checkoutBtnHandle:null,_cartTotal:null,_cartQty:null,_removeOrderItemName:null,
_emailSignupBtnHandle:null,_CLICK_CHECKOUT_SPECIAL:"checkoutSpecialClicked",_ADBLOCK:"adBlock",constructor:function(){this._init()},_init:function(){try{dojo.subscribe("/bec/analytics/coremetrics/addtocartview",this,"_trackAddToCart");dojo.subscribe("modelChanged/AjaxOrderItemUpdate",this,"_trackDuplicateOrderItem");dojo.subscribe("modelChanged/AjaxOrderItemUpdate",this,"_trackRemoveOrderItem");dojo.subscribe("showRemoveOverlay",this,"_saveRemoveOrderItemName");dojo.subscribe("OrderPromotion-close",
this,"_couponSuccess");dojo.subscribe("modelChanged/AjaxCouponsAddRemove-error",this,"_couponFailure");dojo.subscribe("modelChanged/AjaxPromotionCodeManage-error",this,"_couponFailure");dojo.subscribe("session-timeout",this,"_sessionTimeout");dojo.subscribe("modelChanged/AjaxSubmitOrder-error",this,"_orderSubmitFailure");dojo.subscribe("payment-error",this,"_paymentError");dojo.subscribe("popupError",this,"_checkoutError");dojo.subscribe("modelChanged/AjaxPayPalExpressCheckout-error",this,"_paymentError");
dojo.subscribe("checkout-field-error",this,"_checkoutFieldError");dojo.subscribe("email-error",this,"_emailError");dojo.subscribe("logon-error",this,"_logonError");dojo.subscribe("analytics/email/subscribe/success",this,"_trackEmailSignUp");dojo.subscribe("checkoutSpecialClicked",this,"_trackCheckoutSpecials");dojo.subscribe("checkoutErrorPopup-paymentMethod",this,"_paymentError");dojo.subscribe("orderSubmitError-1006",this,"_paymentError");dojo.subscribe("adBlockFound",this,"_trackAdBlock");this._initConnects();
console.debug("DEBUG: bec.vendors.Ensighten - Initialized")}catch(e){console.error("Unable to init Ensighten Event library",e)}},_initConnects:function(){if(!isMobile){var checkoutWithPayPalNode=dojo.query("#btnPayPal")[0];if(checkoutWithPayPalNode)dojo.connect(checkoutWithPayPalNode,"onclick",dojo.hitch(this,function(){this._trackCartItemsAndTotal(this._CHECKOUT_PAYPAL)}))}var checkoutNode=dojo.query("#shoppingCartBodyArea .right a.button")[0];if(checkoutNode&&cmPageName=="ShoppingCart_Page")dojo.connect(checkoutNode,
"onclick",dojo.hitch(this,function(){this._trackCartItemsAndTotal(this._CHECKOUT)}));var continueCheckoutNode=dojo.query("#shoppingCartBodyArea #summary a.button.CTA-primary")[0];if(continueCheckoutNode&&cmPageName=="ShoppingCartandShipping_Page")dojo.connect(continueCheckoutNode,"onclick",dojo.hitch(this,function(){this._trackCartItemsAndTotal(this._CONTINUE_CHECKOUT)}));if(!isMobile){var placeOrderNode=dojo.query("#submitButton a.button")[0];if(placeOrderNode&&cmPageName=="OrderPayment_Page")dojo.connect(placeOrderNode,
"onclick",dojo.hitch(this,function(){this._trackCartItemsAndTotal(this._PLACE_ORDER)}))}},_fireEvent:function(event,params){if(typeof Bootstrapper!=="undefined"&&Bootstrapper&&Bootstrapper.fireHDEvent){var info="";try{info=JSON.stringify(params)}catch(e){}console.log("Ensighten fireEvent - event \x3e "+event+", additional info \x3e "+info);Bootstrapper.fireHDEvent(event,params)}},_trackAddToCart:function(params){var productName;var quantity;var location;if(params){productName=params.name?params.name:
"";quantity=params.quantity?params.quantity:"";if(typeof becAnalytics!=="undefined"){var rawLocation=params.displayMethod?params.displayMethod:cmPageName;location=becAnalytics.getLocation(rawLocation)}}console.debug("Ensighten AddToCart ...");Bootstrapper.setHDD("5",location);this._fireEvent(this._ADD_TO_CART,{tm_productnames:productName,tm_qty:quantity,dimension:location,product:params})},_trackCartItemsAndTotal:function(event,isMobile){try{var total;var qty;if(!isMobile){total=dojo.query("#itemSubTotal")[0].innerHTML;
qty=dojo.query("#spanItemsInCart")[0].innerHTML}else{total=dojo.query(".order-summary-subtotal span.value")[0].innerHTML;qty=dojo.query(".cart")[0].innerText}if(total&&total.length>0)this._cartTotal=dojo.trim(total);if(qty&&qty.length>0)this._cartQty=dojo.trim(qty);console.debug("Ensighten My Cart - Checkout");this._fireEvent(event,{tm_prtot:this._cartTotal.substring(1),tm_qty:this._cartQty})}catch(e){console.error("Unable to track Cart Items and Total.",e)}},_saveRemoveOrderItemName:function(params){if(params&&
params.orderItemId){var name=dojo.query("#orderItemLineArea_"+params.orderItemId+" .details .product .description .name a");if(name&&name.length>0)try{this._removeOrderItemName=dojo.trim(name[0].innerHTML)}catch(e){this._removeOrderItemName=name[0].innerHTML}}},_trackRemoveOrderItem:function(params){if(params&&params.itemsRemoved){console.debug("Ensighten Remove Item ...");this._fireEvent(this._REMOVE_ITEM,{tm_event:"Remove Item",tm_productnames:this._removeOrderItemName})}},_trackDuplicateOrderItem:function(params){if(params&&
params.copyOrderItemId){var name=dojo.query("#orderItemLineArea_"+params.copyOrderItemId+" .details .product .description .name a");if(name&&name.length>0){console.debug("Ensighten Duplicate Item ...");this._fireEvent(this._DUPLICATE_ITEM,{tm_event:"Click Duplicate",tm_productnames:dojo.trim(name[0].innerHTML)})}}},_couponSuccess:function(params){if(params)try{if(params.taskType[0]=="A"){var coupon;if(params.promoCode)coupon=params.promoCode[0];else if(params.couponId)coupon=params.couponId[0];this._couponSuccessBase(coupon)}}catch(e){}},
_couponSuccessBase:function(promoCode){this._fireEvent(this._ADD_COUPON,{tm_promocode:promoCode})},_couponFailure:function(params){if(params)this._couponFailureBase(params.errorMessageParam[0])},_couponFailureBase:function(promoCode){this._fireEvent(this._ERRORS,{tm_event:"Invalid Coupon Code",tm_eventlabel:promoCode})},_sessionTimeout:function(params){this._fireEvent(this._ERRORS,{tm_event:"Session Timeout"})},_orderSubmitFailure:function(params){if(params){var errorMsg=params.errorMessageKey||params.errorMessage||
params.systemMessage;var paypal=false;if(params.errorMessageKey)paypal=errorMsg&&errorMsg.indexOf("PAYPAL")>=0;this._fireEvent(this._ERRORS,{tm_event:"Payment Declined",tm_error:errorMsg})}},_paymentError:function(params){if(params){var errorMsg=params.error||params.message||params.errorMessage;var paypal=false;if(params.errorMessageKey)paypal=errorMsg&&errorMsg.indexOf("PAYPAL")>=0;this._fireEvent(this._ERRORS,{tm_event:"Payment Declined",tm_error:errorMsg})}},_checkoutError:function(params){if(params){var errorMsg=
params.error||params.message||params.errorMessage;this._fireEvent(this._ERRORS,{tm_event:"Missing Checkout Field",tm_eventlabel:"",tm_error:errorMsg})}},_emailError:function(email){this._fireEvent(this._ERRORS,{tm_event:"Invalid Email",tm_email:email})},_logonError:function(params){if(params)this._fireEvent(this._ERRORS,{tm_event:"Invalid Email",tm_logonid:params.email})},_checkoutFieldError:function(params){if(params){var errorMsg=params.error||params.message||params.errorMessage;this._fireEvent(this._ERRORS,
{tm_event:"Missing Checkout Field",tm_eventlabel:params.errorField,tm_error:errorMsg})}},_trackEmailSignUp:function(params){console.debug("Ensighten Email Sign-Up ...");this._fireEvent(this._EMAIL_SIGNUP,params)},_trackCheckoutSpecials:function(params){console.debug("Ensighten Checkout Special Clicked ...");this._fireEvent(this._CLICK_CHECKOUT_SPECIAL,params)},_trackAdBlock:function(params){console.debug("Ensighten Track AdBlock ...");this._fireEvent(this._ADBLOCK,params)}});if(!isMobile){dojo.require("bec.vendors.Ensighten");
dojo.addOnLoad(function(){new bec.vendors.Ensighten})}},610323,[597062],247851,[247845]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var i=window,r="ga";i.GoogleAnalyticsObject=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)};i[r].l=1*new Date;Bootstrapper.insertScript("//www.google-analytics.com/analytics.js");var g=i[r];var dl_obj=(Bootstrapper.dataManager||{getData:function(){}}).getData();g("create",dl_obj["ga_accountID"],"auto")},597062,247845);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.dataManager.addDataElement("tmParams_edl","categoryPath",{name:"Category Path",get:function(){var categoryPath="";var category=Bootstrapper.dataManager.getDataElement("tmParams_edl","category");if(category){var l1=category.level1!==""?category.level1:null;var l2=category.level2!==""?category.level2:null;var l3=category.level3!==""?category.level3:
null;if(l1&&!l2&&!l3)categoryPath=l1;else if(l1&&l2&&!l3)categoryPath=l1+"/"+l2;else if(l1&&l2&&l3)categoryPath=l1+"/"+l2+"/"+l3;else if(!l1&&!l2&&l3)categoryPath=l3;else if(l1&&!l2&&l3)categoryPath=l1+"/"+l3}return categoryPath}})},597079,[471505],275373,[238645]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.insertScript(document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0026/5140.js?"+Math.floor((new Date).getTime()/36E5))},565236,272512);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;(new Image).src="//tracking.searchmarketing.com/welcome.asp?SMCID\x3d1833\x26x\x3d"+escape(document.referrer)},378173,241568);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;if(typeof isMobile!=="undefined"&&isMobile){dojo.provide("bec.mobile.vendors.Ensighten");dojo.declare("bec.mobile.vendors.Ensighten",[bec.vendors.Ensighten],{_init:function(){var scope=this;dojo.subscribe("checkout-remove",function(params){try{var oiElement=dojo.byId("orderItem_"+params);var superItem=dojo.query(".itemNumber",oiElement)[0].getAttribute("data-analytics-superItemId");
var categoryPath=dojo.query(".details",oiElement)[0].getAttribute("data-analytics-categorypath");var price=dojo.query(".price",oiElement)[0].getAttribute("data-analytics-price");var itemName=dojo.trim(dojo.query(".name a",oiElement)[0].innerHTML);var quantity=dojo.byId("quantity_"+params).value;var productObj={productId:superItem,name:itemName,categoryPath:categoryPath,price:price,quantity:quantity};dojo.publish("bec/analytics/removefromcart/view",productObj);scope._fireEvent(scope._REMOVE_ITEM,{tm_event:"Remove Item",
tm_productnames:becCoremetrics.clearHTMLTags(itemName)})}catch(e){console.error("Error finding name of item removed: "+e)}});dojo.subscribe("coupon-added",function(params){try{if(params)scope._couponSuccessBase(params.promoCode)}catch(e){console.error("Unable to track coupon add.",e)}});dojo.subscribe("coupon-error",function(params){try{if(params)scope._couponFailureBase(params.promoCode)}catch(e){console.error("Unable to track coupon error.",e)}});dojo.subscribe("payment-error",this,"_paymentError");
dojo.subscribe("email-error",this,"_emailError");dojo.subscribe("logon-error",this,"_logonError");dojo.subscribe("checkout-error",this,"_checkoutError");dojo.subscribe("emailSubscribeSubmitSuccess",this,"_trackEmailSignUp");dojo.subscribe("orderSubmitError-decline",function(params){ga("send","event","Errors","Payment Declined","PayMetrics")});this._initConnects();console.debug("DEBUG: bec.mobile.vendors.Ensighten - Initialized")},_initConnects:function(){var addToCartNode=null;dojo.query("#submitButtons.buttons a").forEach(function(node){if(node.innerHTML==
"ADD TO CART")addToCartNode=node});if(addToCartNode)dojo.connect(addToCartNode,"onclick",dojo.hitch(this,function(){this._trackAddToCart()}));var checkoutWithPayPalNode=dojo.query("#btnPayPal")[0];if(checkoutWithPayPalNode)dojo.connect(checkoutWithPayPalNode,"onclick",dojo.hitch(this,function(){this._trackCartItemsAndTotal(this._CHECKOUT_PAYPAL,true)}));var checkoutNode=dojo.query(".right a.button")[0];if(checkoutNode&&cmPageName=="ShoppingCart_Page")dojo.connect(checkoutNode,"onclick",dojo.hitch(this,
function(){this._trackCartItemsAndTotal(this._CHECKOUT,true)}));var continueCheckoutNode=dojo.query(".right a.button")[0];if(continueCheckoutNode&&cmPageName=="ShoppingCartandShipping_Page")dojo.connect(continueCheckoutNode,"onclick",dojo.hitch(this,function(){this._trackCartItemsAndTotal(this._CONTINUE_CHECKOUT,true)}));var placeOrderNode=dojo.query("#submitButton a.button")[0];if(placeOrderNode&&cmPageName=="OrderPayment_Page")dojo.connect(placeOrderNode,"onclick",dojo.hitch(this,function(){this._trackCartItemsAndTotal(this._PLACE_ORDER,
true)}))},_trackAddToCart:function(){try{var productId=cmProductId;var name=cmItemName;var category=becAnalytics.getCategoryPath();var price=cmPrice;var quantity=dojo.query("#quantity_0")[0].value;var location="";ga("ec:addProduct",{"id":productId,"name":name,"category":category,"price":price,"quantity":quantity});ga("ec:setAction","add");ga("send","event","UX","click","add to cart");console.debug("Ensighten AddToCart ...");this._fireEvent(this._ADD_TO_CART,{tm_productnames:dojo.trim(tmParams.productNames),
tm_qty:quantity,dimension:location})}catch(e){console.error("Mobile: Unable to track add to cart click.",e)}}});dojo.require("bec.mobile.vendors.Ensighten");dojo.addOnLoad(function(){new bec.mobile.vendors.Ensighten})}},610324,[610323],252960,[247851]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.setHDD=function(id,val){if(!id){console.log("Dimension ID or Value not provided");return}ga("set","dimension"+id,val)};Bootstrapper.fire_HDEvent=function(params){if(!params){console.log("Event object not provided");return}var e=params?params:{};var a=e.action,c=e.category,l=e.label,v=e.value;m=e.metric;if(l&&v)ga("send","event",c,a,l,v);else if(l&&
!v)if(a==="Product Quick View")ga("send","event",c,a,l,{"metric2":1});else if(a==="Add-on Product Added"&&m)ga("send","event",c,a,l,{"metric1":m});else ga("send","event",c,a,l);else if(!l&&!v)ga("send","event",c,a)}},597078,[604988],252589,[275980]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.bindPageSpecificCompletion(function(){Bootstrapper.bindDOMParsed(function(){ga("require","ec");var dl_obj=(Bootstrapper.dataManager||{getData:function(){}}).getData();if(userType=="R"&&typeof userIdent!=="undefined")ga("set","userId",userIdent)});dojo.subscribe("bec/analytics/product/view",function(productObj){var dl_obj=(Bootstrapper.dataManager||
{getData:function(){}}).getData();var category=productObj.category?productObj.category:dl_obj.categoryPath;ga("ec:addProduct",{"id":productObj.superItem,"name":productObj.name,"category":category});ga("set","metric2",1);ga("ec:setAction","detail");ga("send","pageview",Bootstrapper.UA_ga||{})})})},604988,[597062,597079],275980,[247845,275373]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;dojo.subscribe("/bec/analytics/coremetrics/addtocartview",function(product){ga("ec:addProduct",{"id":product.productId,"name":product.name,"category":product.categoryPath,"price":product.price,"quantity":product.quantity});ga("ec:setAction","add");ga("send","event","ShoppingEE","Add to Cart")});dojo.subscribe("bec/analytics/removefromcart/view",function(product){ga("ec:addProduct",
{"id":product.productId,"name":product.name,"category":product.categoryPath,"price":product.price,"quantity":product.quantity});ga("ec:setAction","remove");ga("send","event","ShoppingEE","Remove from Cart")})},597075,274797);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.setHDD("1",tmParams.siteType);if(typeof userType!=="undefined"){var u="Unknown";if(userType=="G")u="No";else if(userType=="R")u="Yes";Bootstrapper.setHDD("2",u)}},483857,[597078],252963,[252589]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var dl_obj=(Bootstrapper.dataManager||{getData:function(){}}).getData();var gProducts="";var gTotalValue=0;if(dl_obj.pageType=="product")gProducts=dl_obj.cartItems;else if(dl_obj.pageType=="shoppingCart"){gProducts=dl_obj.cartItems.split("|");gTotalValues=dl_obj.prices.split("|");for(var i=0,len=gTotalValues.length;i<len;i++)gTotalValue=gTotalValue+parseFloat(gTotalValues[i])}var google_tag_params=
{ecomm_prodid:gProducts,ecomm_pagetype:dl_obj.pageType,ecomm_totalvalue:gTotalValue};var fn=function(o){return function(){window.google_trackConversion(o)}}({"google_conversion_id":1071317822,"google_remarketing_only":true,"google_custom_params":window.google_tag_params});"function"!=typeof window.google_trackConversion?Bootstrapper.loadScriptCallback("//www.googleadservices.com/pagead/conversion_async.js",function(a){return a}(fn)):fn()},606562,[471505],278520,[238645]);