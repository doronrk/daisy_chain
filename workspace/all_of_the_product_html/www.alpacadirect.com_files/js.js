var $=jQuery.noConflict();$(document).ready(function(){var j="";var b="";var d="";var g="";var h="";var f="";var l="";var m=function(p,n){var o=$.ui.autocomplete.filter(j,p.term);if(o.length==0){o=$.ui.autocomplete.filter(b,p.term)}if(o.length==0){$.ajax({url:"/cfc/ui/KeywordPhoneticSearch.cfc",type:"get",dataType:"text",data:{method:"getKeywordPhoneticByKeyword",keyword:p.term},success:function(q){if(q!=""){o=$.ui.autocomplete.filter(j,q);p.term=q;searchProducts(o,p,n,d,g,h,f,l);$("#searchAutocompleteField").val(q)}},error:function(r,s,q){console.log(q)}})}searchProducts(o,p,n,d,g,h,f,l)};if($("#searchAutocompleteField").length){$("#searchAutocompleteField").autocomplete({source:function(o,n){if(j.length){m(o,n)}else{$.getJSON("/Client/Pages/Header/Search-KeyWordSuggestions.cfm",function(q){var p=q.SEARCHKEYWORDS.split(",");j=trimSearchkeywordArray(p);b=getPluralArray(p);d=q.TBLPRODUCTSBYNAMESOLRCOLLECTIONBYPRODUCTLINE;g=q.TBLPRODUCTSBYNAMESOLRCOLLECTIONWITHOUTPRODUCTLINE;h=q.SUGGESTIONPRODUCTCOUNTSOLRCOLLECTION;f=q.TBLPRODUCTSSOLRCOLLECTION;l=q.SEARCHCATEGORIESSOLRCOLLECTION;m(o,n)})}},open:function(n,o){$("ul.ui-autocomplete li:eq(0)").before('<li class="sli_ac_suggestions"><h2>Search Suggestions</h2></li>')},delay:85});var e=$("#searchAutocompleteField").offset();var k=$("#searchAutocompleteField").height();var a=$("#searchAutocompleteField").width();var i=e.top+k+5+"px";var c=e.left+"px";$(".ui-autocomplete").css({position:"absolute",left:c,top:i});$("#searchAutocompleteField").after($(".ui-autocomplete").html())}});var lastRequestOrderNumber=0;function searchProducts(d,g,b,f,e,h,a,c){lastRequestOrderNumber++;$.ajax({url:"/cfc/ui/ProductSearch.cfc",type:"get",dataType:"text",data:{method:"getProductsByKeyword",keyword:g.term,filteredArrayLength:d.length,vtblProductsByNameSolrCollectionByProductLine:f,vtblProductsByNameSolrCollectionWithoutProductLine:e,suggestionproductcountsolrcollection:h,tblProductsSolrCollection:a,searchcategoriessolrcollection:c,requestOrderNumber:lastRequestOrderNumber},success:function(i){var j=$.parseJSON(i);if(lastRequestOrderNumber!=j.requestOrderNumber){return}if(d.length==0&&j.data!=""){$("ul.ui-autocomplete").show();$("ul.ui-autocomplete li").hide()}$("ul.ui-autocomplete:not(:has(#suggestPorducts))").append('<div id="suggestPorducts" style="height: auto; overflow:hidden;"></div>');$("ul.ui-autocomplete a").each(function(){var l=$(this);l.html(highlightWords(l.text(),g.term));l.click(function(m){$("#searchAutocompleteField").val(l.text());$("#searchform").submit()})});var k='<ul id="sli_autocomplete" class="rich" style="z-index: 30000; left: 887px; top: 92px; width: 400px; "><li class="sli_ac_products"><h2>'+j.recordCount+' Products</h2></li> <ul class="productsList">'+j.data+"</ul></ul>";$("#suggestPorducts").html(k);$(".productsList span").each(function(){var l=$(this);l.html(highlightWords(l.text(),g.term))})},error:function(j,k,i){console.log(i)}});b(d.slice(0,5))}function highlightWords(a,e){var d="";for(var b=0;b<e.length;b++){if(e.charAt(b)!="-"&&e.charAt(b)!="~"&&e.charAt(b)!="?"&&e.charAt(b)!="%"&&e.charAt(b)!=":"&&e.charAt(b)!="*"){d=e.substring(b,e.length);break}}if(d==""){return a}var c=new RegExp("("+d+")","gi");return a.replace(c,"<span style='font-weight:bold;'>$1</span>")}function trimSearchkeywordArray(b){var c=$.map(b,function(e){var d=$.trim(e);if(d=="40 addi turbo lace circular knitting needles"||d=="60 addi turbo lace circular knitting needles"){return null}if(d.charAt(d.length-1)=="."){d=d.substr(0,e.length-1)}if(d.charAt(d.length-1)=="s"&&$.inArray(d.substr(0,e.length-1),b)!=-1){return null}return d});c.push("addi turbo lace circular knitting needles");var a=[];$.each(c,function(d,f){if($.inArray(f,a)==-1){a.push(f)}});return a}function getPluralArray(b){var a=$.map(b,function(d){var c=$.trim(d);if(c.charAt(c.length-1)=="s"&&$.inArray(c.substr(0,d.length-1),b)!=-1){return c}return null});return a};var successOfferCode=false;var newSubTotalValue=null;var CartFunctions=function(){};CartFunctions.formatPrice=function(a){if(isNaN(a)){return"NaN"}return"$"+a.toFixed(2)};CartFunctions.unformatPrice=function(a){return parseFloat(a.replace(/[^0-9-.]/g,""))};CartFunctions.updateTotalPrice=function(d){var h=jQuery(d.target);var k=h.parent("td").siblings("td.price-cell").children("span.newPrice");var m=h.parent("td").siblings("td.total-price-cell").children("strong");var e=h.closest("tr").find(".savingField");var l=h.closest("tr").find(".allSavingField");var b=jQuery("#subtotal-value");var i=h.val();var g=CartFunctions.unformatPrice(k.text());var j=CartFunctions.unformatPrice(m.text());var c=CartFunctions.unformatPrice(b.text());var f=g*i;newSubTotalValue=c+(f-j);m.text(CartFunctions.formatPrice(f));b.text(CartFunctions.formatPrice(newSubTotalValue));l.val(e.val()*i);$("#SpecialOfferCode").val("");offercheck($("#SpecialOfferCode").val());$("#SpecialOfferForm").hide();$("#UsingSpecialOffer").attr("checked",false);$("#UsingGiftCard").attr("checked",false);$("#GiftCardForm").hide();$("#checkoutoptions").show();var a=$("#vfreeshipprice").val();if(a!=null&&typeof a!=="undefined"){if(newSubTotalValue>=a){$("#freeShippingDiv").show();$("#vfreeshippriceDiv").hide()}else{$("#freeShippingDiv").hide();$("#vfreeshippriceDiv").show();$("#vPriceDiffDiv").text(CartFunctions.formatPrice(a-newSubTotalValue))}}};jQuery(document).ready(function(){jQuery("select.cart-item-quantity-select").change(CartFunctions.updateTotalPrice)});var CARTMISC={reCheckCartAmounts:function(){var a="/client/services/CheckoutService.cfc?method=refreshCartSummary";$.getJSON(a,function(b){if(b.success){CARTMISC.updateValues(b)}else{console.log("Refreshing the cart data has failed: "+b.message)}})},offercheck:function(a){var c="/cfc/services/SpecialOffersService.cfc?method=validateOfferCode&offerCode="+a;$.getJSON(c,function(d){if(d.success){b(d.message,true);CARTMISC.updateValues(d);successOfferCode=true}else{if(!d.message){b("An error occured.",false)}else{b(d.message,false)}}});var b=function(e,d){$("#offercodestatus").text(e);if(d){$("#offercodestatus").switchClass("text-error","text-success")}else{$(".specialOfferAdditionalInfo").hide();$("#offercodestatus").switchClass("text-success","text-error")}}},checkGiftCard:function(){var a={method:"validateGiftCard",giftCardNumber:$("#GiftCardNumber").val(),giftCardPin:$("#GiftCardPIN").val()};$.getJSON("/cfc/services/SpecialOffersService.cfc",a,function(b){if(b.success){$("#giftcardstatus").switchClass("text-error","text-success");$("#giftcardstatus").html(b.message);CARTMISC.updateValues(b)}else{$("#giftcardstatus").switchClass("text-success","text-error");$("#giftcardstatus").html(b.message)}})},updateValues:function(b){$(".specialOfferAdditionalInfo").show();var a=b.savings;$(".allSavingField").each(function(){a+=parseFloat($(this).val())});$("#couponAllSavings").text(CartFunctions.formatPrice(a));$("#estimatedSubTotal").text(CartFunctions.formatPrice(b.ordertotal));$("#taxAmount").text(CartFunctions.formatPrice(b.tax));$("#shippingAmount").text(CartFunctions.formatPrice(b.shipping));if(b.offer_amount||b.offer_message){$("#specialOfferAmount").html(b.offer_amount?b.offer_amount:"&nbsp;");$("#specialOfferMessage").html(b.offer_message?b.offer_message:"&nbsp;")}else{$("#specialOfferAmount").hide();$("#specialOfferMessage").hide()}if(b.giftcard_amount||b.giftcard_message){$("#giftCardAmount").html(b.giftcard_amount?CartFunctions.formatPrice(b.giftcard_amount):"&nbsp;");$("#giftCardMessage").html(b.giftcard_message?b.giftcard_message:"&nbsp;")}else{$("#giftCardAmount").hide();$("#giftCardMessage").hide()}}};function _togglePaymentType(a){if(document.getElementById("paymentType")==null){return}document.getElementById("paymentType").value=a;switch(a.toLowerCase()){case"credit":document.getElementById("payTypeCreditCard").style.display="";document.getElementById("payTypeCash").style.display="none";document.getElementById("payTypeCheck").style.display="none";document.getElementById("payTypeDebitCard").style.display="none";break;case"cash":document.getElementById("payTypeCreditCard").style.display="none";document.getElementById("payTypeCash").style.display="";document.getElementById("payTypeCheck").style.display="none";document.getElementById("payTypeDebitCard").style.display="none";break;case"debit":document.getElementById("payTypeCreditCard").style.display="none";document.getElementById("payTypeCash").style.display="none";document.getElementById("payTypeCheck").style.display="none";document.getElementById("payTypeDebitCard").style.display="";break;case"check":document.getElementById("payTypeCreditCard").style.display="none";document.getElementById("payTypeCash").style.display="none";document.getElementById("payTypeCheck").style.display="";document.getElementById("payTypeDebitCard").style.display="none";break}};function noenter(a){if(a==13){CARTMISC.offercheck(document.getElementById("SpecialOfferCode").value);return false}}var allOn=true;function SelectAll(MyForm,MyBox){var countBoxes=eval("document."+MyForm+"."+MyBox+".length");if(!countBoxes){eval("document."+MyForm+"."+MyBox+".checked =  allOn")}else{for(var i=0;i<countBoxes;i++){eval("document."+MyForm+"."+MyBox+"[i].checked =  allOn")}}allOn=!allOn}function ToggleGiftCardForm(SKU_ID,cart_Line_ID){var vSwitchStatus=eval("document.getElementById('GiftCardForm_"+SKU_ID+"_"+cart_Line_ID+"').style.display");if(vSwitchStatus==""){eval("document.getElementById('GiftCardForm_"+SKU_ID+"_"+cart_Line_ID+"').style.display = 'none'");document.getElementById("googlecheckouton").style.display="";document.getElementById("googlecheckoutoff").style.display="none"}else{eval("document.getElementById('GiftCardForm_"+SKU_ID+"_"+cart_Line_ID+"').style.display = ''");document.getElementById("googlecheckouton").style.display="none";document.getElementById("googlecheckoutoff").style.display=""}}function ToggleGiftCardOption(a){if(a.UsingGiftCard.checked){document.getElementById("GiftCardForm").style.display=""}else{$.get("/cfc/services/SpecialOffersService.cfc?method=clearGiftCardId");document.getElementById("GiftCardForm").style.display="none"}$("#GiftCardNumber").val("");$("#GiftCardPIN").val("");$("#giftcardstatus").html("")}function ToggleSpecialOfferOption(a){if(a.UsingSpecialOffer.checked){document.getElementById("SpecialOfferForm").style.display="";document.getElementById("googlecheckouton").style.display="none";document.getElementById("googlecheckoutoff").style.display=""}else{$.get("/cfc/services/SpecialOffersService.cfc?method=clearSpecialOfferCode");$("#SpecialOfferCode").val("");CARTMISC.offercheck($("#SpecialOfferCode").val());document.getElementById("SpecialOfferForm").style.display="none";document.getElementById("googlecheckouton").style.display="";document.getElementById("googlecheckoutoff").style.display="none"}}function closeGivenDialog(a){$("#"+a).dialog("close")}function initMiscDialog(){$("#dialog-addMiscItem").dialog({resizable:false,title:"Add Miscellaneous Item",height:330,width:920,modal:true,open:function(){$("#dialog-addMiscItem").show()}});return false}function showMiscItemDialog(){initMiscDialog();$("#dialog-addMiscItem").dialog();return false}$(document).ready(function(){$("#addMiscItem").submit(function(a){if(!$.isNumeric($("input[name=quantity]").val())||!$.isNumeric($("input[name=price]").val())){a.preventDefault();return false}});$("input[name=misc_override]").change(function(){changeOtherExp()});$("input[name=quantity]").change(function(){if(!$.isNumeric($("input[name=quantity]").val())){$("input[name=quantity]").attr("style","border:solid red;");return false}else{$("input[name=quantity]").attr("style","")}var a=$("input[name=quantity]").val()*$("input[name=price]").val();$("input[name=total]").val($.number(a,2))});$("input[name=price]").change(function(){if(!$.isNumeric($("input[name=price]").val())){$("input[name=price]").attr("style","border:solid red;");return false}else{$("input[name=price]").attr("style","")}var a=$("input[name=quantity]").val()*$("input[name=price]").val();$("input[name=total]").val($.number(a,2))})}).change();function changeOtherExp(){var a=$("input[name=misc_override]:checked","#addMiscItem").val();if(a=="Other"){$("#otherExp").show()}else{$("#otherExp").hide()}return false}if(typeof paymentTypeForRadioButtons=="undefined"||paymentTypeForRadioButtons==""){_togglePaymentType("debit");$("#debit").prop("checked",true)}else{_togglePaymentType(paymentTypeForRadioButtons);$("#"+paymentTypeForRadioButtons).prop("checked",true)}if(typeof checkSpecialOffer!=="undefined"){CARTMISC.offercheck($("#SpecialOfferCode").val())}function lookForCustomers(){$("#similarCustomersSection").html('<p class="preloader">Updating in progress...</p>');var a={firstname:$("#firstNameCheckout").val(),lastname:$("#lastNameCheckout").val(),phone:$("#phoneCheckout").val(),email:$("#emailCheckout").val()};$.post("/Client/Pages/Order/lookforcustomer.cfm",a,function(b){$("#similarCustomersSection").html(b)})}function useCurrentRowForForm(a){$("#customerIdCheckout").val(a);$("#firstNameCheckout").val($("#"+a+" .firstname").text());$("#lastNameCheckout").val($("#"+a+" .lastname").text());$("#phoneCheckout").val($("#"+a+" .phone").text());$("#emailCheckout").val($("#"+a+" .email").text());$("#birthdateCheckout").val($("#"+a+" .birthday").text());$("#noteCheckout").val($("#"+a+" .comments").text());$("html, body").animate({scrollTop:$("#quickCheckoutSection").offset().top},1000)};var fmTimer=null;function yellowfade(a){if(!document.getElementById){return}fmb1=255;fmb2=255;fmb3=102;fmb4=255;fmb5=255;fmb6=255;fmFade(a)}function fmToHex(d){var c="0123456789ABCDEF";if(d==0){return"00"}var b,d;var a="";while(d!=0){b=d%16;d=(d-b)/16;a=c.charAt(b)+a}if(a.length<2){a="0"+a}return a}function fmFade(fieldname){obj=eval("document.getElementById('"+fieldname+"').style");fmbackcolor="#"+fmToHex(fmb1)+fmToHex(fmb2)+fmToHex(fmb3);obj.backgroundColor=fmbackcolor;if(fmb1!=fmb4){if(fmb4>fmb1){fmb1++}else{fmb1--}}if(fmb2!=fmb5){if(fmb5>fmb2){fmb2++}else{fmb2--}}if(fmb3!=fmb6){if(fmb6>fmb3){fmb3++}else{fmb3--}}if((fmb1==fmb4)&&(fmb2==fmb5)&&(fmb3==fmb6)){window.clearTimeout(fmTimer)}else{fmTimer=eval("window.setTimeout(\"fmFade('"+fieldname+"')\",16)")}};var CUSTOM=function(){};$(".show-preloader-on-click").click(function(){$("#PageLoadingDiv").fadeIn()});function addcustomernotes(){var a={logtype:1,notes:jQuery("textarea#customer-notes-input").val(),orderid:jQuery("#orderID").val()};jQuery.get("/ordernotesdata.cfm",a).done(function(b){jQuery("textarea#customer-notes-input").val("");jQuery("#customer-notes-form").modal("hide");jQuery("#order-notes-table-body").html(b);if(b){jQuery("#customer-notes-form").after('<div class="alert alert-success"><button type="button" class="close" data-dismiss="alert">&times;</button><strong>Thank you!</strong> Your note has been added to the order.</div>')}})}function changeprodsku(a,d,c,e){var b="/cw2/prodskuupdate.cfm";var f={productid:a,skuid:d,skuprice:c,pageinit:e};$.getJSON(b,f,function(g){$("#stockinfo").html(g.STOCKINFO);if(g.FADESTOCKSTATUS==1){yellowfade("stockstatustext")}if(g.SHOWPRICECHANGE!=""){if(g.PAGEINIT==0){$("#pricelisttitle").html("- - Price change - -")}$("#pricelist").html(g.SHOWPRICECHANGE);yellowfade("pricelist");var h=setTimeout("$('#pricelisttitle').html('&nbsp;');",2000)}})}var ProductDetails={checkCustomAmount:function(b){var e=$(b);var d=parseFloat(e.val());var c=parseFloat(e.attr("min"));if(isNaN(d)){d=c}else{var a=parseFloat(e.attr("max"));if(c&&d<c){d=c}if(a&&d>a){d=a}}e.val(d.toFixed(2))},onOptionChange:function(){var a={option1:$("#optionSelectRow1").data("selected-option"),option2:$("#optionSelectRow2").data("selected-option"),productid:$("#productData").data("productid"),qty:$("#QuantitySelectInput").val()};$.getJSON("/Client/Template/productOptions-UpdateSkuOption.cfm",a,function(c){if(c.success==true){var b=$("#DetailsNewPrice").text();$("#DetailsListPrice").text(c.listprice);$("#DetailsNewPrice").text(c.minprice);$("#DetailsSavings").text(c.saving);$("div.ships-day").replaceWith(c.stockinfo);$(".option-row").remove();$("#PlaceholderForSkuOptions").after(c.content);if(c.stock>0){$("#AddToCartSubmitButton").fadeIn()}else{$("#AddToCartSubmitButton").hide()}if(b!=c.minprice){$(".price-row").animate({backgroundColor:"#ff0"},700).animate({backgroundColor:"#fff"},300)}if(c.stock<=10){$("div.ships-day").animate({backgroundColor:"#ff0"},700).animate({backgroundColor:"#fff"},300)}}})}};var ParamNameMap={};function getUrlParameterByName(c){if(!(c in ParamNameMap)){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+c+"=([^&#]*)");var a=b.exec(location.search);var d=a==null?"":decodeURIComponent(a[1].replace(/\+/g," "));ParamNameMap[c]=d}return ParamNameMap[c]}$(document).ready(function(){$(".add-to-cart.popup-button").one("click",function(){var a=$(this).attr("data-popup-content-selector");var b=$(this).attr("data-popup-content-url");$(a).load(encodeURI(b))})});if($("#myCarousel").length){var jumpToSlide=getUrlParameterByName("slide");if(jumpToSlide!="undefined"&&!isNaN(jumpToSlide)&&jumpToSlide>=1&&jumpToSlide<=5){$("#myCarousel").carousel(jumpToSlide-1)}$("#myCarousel").carousel()}$(document).ready(function(){var a=1600;$(".product-list-popover").unbind("mouseenter").one("mouseenter",function(){$object=$(this);var b=new Date().getTime();$.getJSON($object.data("tsource"),function(d){var f=new Date().getTime();$object.popover({html:true,trigger:"hover",placement:"left",delay:{show:a,hide:0},title:"Item details",content:d.result});var c=f-b;var e=a-c;setTimeout(function(){if($object.hasClass("hover")){$object.popover("show")}},e)})});$(".product-list-popover").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})});jQuery(document).ready(function(){$(".left-menu a.facetSelector").click(function(){if($(this).attr("class")=="showLink"){return}var a=$(".checkbox.sprite.image",this).toggleClass("selected")});$("#searchByPrice").click(function(){var a=window.location.href.split("#")[0];var a=a.replace(/&?fromprice=([^&]$|[^&]*)/i,"");var a=a.replace(/&?toprice=([^&]$|[^&]*)/i,"");if($("#fromPrice").val()&&$.isNumeric($("#fromPrice").val())){var b="&";if(a.indexOf("?")===-1){b="?"}a+=b+"fromprice="+$("#fromPrice").val()}if($("#toPrice").val()&&$.isNumeric($("#toPrice").val())){var b="&";if(a.indexOf("?")===-1){b="?"}a+=b+"toprice="+$("#toPrice").val()}if(a!=window.location.href){window.location.href=a}return false});$("#searchByDiscount").click(function(){var a=window.location.href.split("#")[0];var a=a.replace(/&?fromdiscount=([^&]$|[^&]*)/i,"");var a=a.replace(/&?todiscount=([^&]$|[^&]*)/i,"");if($("#fromDiscount").val()&&$.isNumeric($("#fromDiscount").val())){var b="&";if(a.indexOf("?")===-1){b="?"}a+=b+"fromdiscount="+$("#fromDiscount").val()}if($("#toDiscount").val()&&$.isNumeric($("#toDiscount").val())){var b="&";if(a.indexOf("?")===-1){b="?"}a+=b+"todiscount="+$("#toDiscount").val()}if(a!=window.location.href){window.location.href=a}return false})});$(document).ready(function(){$("#reset-password-button").unbind("click").click(function(a){$("#reset-password-button").hide();$("#please-wait").show();$("#reset-password-result-message").html("");var c={forgotemailaddress:$("#forgotemailaddress-input").val(),fallbackurl:encodeURI(window.location.href)};var b=encodeURI("/cw2/GetPassword.cfm");$("#reset-password-result-message").load(encodeURI(b),c,function(){$("#reset-password-button").show();$("#please-wait").hide()})})});$(document).ready(function(){$("#learn-more-link").one("click",function(){$("#learn-more-modal-content").load(encodeURI("/Client/Pages/Home/shippinginfotooltip.cfm"))})});$(document).ready(function(){$("#pwStrengthMoreInfo").popover({html:true,placement:"right",trigger:"focus",title:"Password Strength",content:"<p class='justify'>A strong password should be at least 6 characters, with a combination of uppercase and lowercase letters, numbers and symbols. Don't use a password from another site, a previously used password or something too obvious like your pet's name.</p>",delay:{show:0,hide:200}})});$(document).ready(function(){$("form#updatecartFinal").submit(function(d){d.preventDefault();var b=$(this);var a=b.attr("action");var e=b.serialize();var c=$.post(a,e);c.done(function(g){var f=$(g);$("#shippingPriceCell").html(f.find("#shippingPriceCell").html());$("#giftCardAmountRow").html(f.find("#giftCardAmountRow").html());$("#orderTotalCell").html(f.find("#orderTotalCell").html())})});$("select#PickShipPref").change(function(){$("input[name=ajaxRequest]").val(true);$("form#updatecartFinal").submit()})});$(document).ready(function(){$("#SendEmailButton").click(function(){if($("input[name=recaptcha_response_field]").val().length<1){alert("Please fill the Verification Code (Captcha code).");return}$("form#emailToaFriendForm").submit()});$("form#emailToaFriendForm").submit(function(d){d.preventDefault();var b=$(this);var a=b.attr("action");var e=b.serialize();var c=$.post(a,e);c.done(function(g){var f=$("#responseMessageDiv");f.html(g);if(f.find("#successAlertMessage").length){$("#SendEmailButton").hide();$("form input, form textarea").prop("disabled",true);$("#reCaptchaDiv").hide()}else{Recaptcha.reload()}})})});jQuery(document).ready(function(){$(".facetCloseItemTooltip").tooltip({placement:"right",trigger:"hover",delay:{show:0,hide:10}})});$(document).ready(function(){$("#free-shipping-info-link").one("click",function(){$("#free-shipping-info-modal-content").load(encodeURI("/Client/Pages/Home/shippinginfotooltip.cfm"))})});$(".dropdown").click(function(a){if($(this).hasClass("activated")){$(this).removeClass("activated")}else{$(this).siblings().removeClass("activated");$(this).addClass("activated")}});$(".dropdown-menu li a").click(function(a){$(this).parents(".navbar-inner").addClass("inactive")});$(".facetShowHideLink").click(function(b){var a=$(this);var c=a.siblings(".hide-on-load");c.toggle("slow","swing",function(){if(c.is(":hidden")){a.html(a.data("moretext"))}else{a.html(a.data("lesstext"))}})});function switchToReviewsTab(){jQuery("#myTab a#reviewsLink").tab("show")}if($("span#totalReviewCount").length){if(getUrlParameterByName("ShowReviews").length){$("#reviewsLink").trigger("click")}var productId=$("#productData").data("productid");var reviewCountSelector="#pr-snippet-"+productId+"-1 a.pr-snippet-link span";var reviewNumberSelector="#pr-snippet-"+productId+"-1 span.pr-snippet-rating-decimal.pr-rounded";var loop=setInterval(function(){var a=$(reviewCountSelector).text();if(a>0){stopLoop();var b=$("span#totalReviewCount").text();if(b!=a){$("span#totalReviewCount").text(a);$.ajax({url:"/cfc/services/ProductService.cfc",type:"get",dataType:"text",data:{method:"updateProductRating",productId:$("#productData").data("productid"),rating:$(reviewNumberSelector).text(),ratingcount:a}})}}},500);setTimeout(function(){stopLoop()},120000);var stopLoop=function(){clearInterval(loop)}}$(".larger-view-moda-link").one("click",function(){var a=$("#productData").data("productid");var b="/cw2/LargerView.cfm?Product_ID="+a;$("#largerViewModalBody").load(encodeURI(b))});if(typeof(detailsRelatedPatternResultCount)!=="undefined"&&detailsRelatedPatternResultCount>0){$("#relatedYarnPatternsDiv").show();$("#patternsLink").text("Related Patterns ("+detailsRelatedPatternResultCount+")")}if(typeof(detailsRelatedYarnsResultCount)!=="undefined"&&detailsRelatedYarnsResultCount>0){$("#relatedYarnsLink").text("Related Yarns ("+detailsRelatedYarnsResultCount+")");$("#relatedYarnYarnsDiv").show()}if(typeof(detailsRelatedVideosCount)!=="undefined"&&detailsRelatedVideosCount>0){jQuery("#videosLink").text("Videos ("+detailsRelatedVideosCount+")");jQuery("#productvideo").load(encodeURI(detailsVideoReviewLink));$("#relatedVideosTab").show()}$("#careInstructionsLink").one("click",function(){var a=$(this).data("productcare");$("#care-instructions-popup-body").load(encodeURI("/custom/alpacadirect/productcare.cfm?careitem="+a))});$("#careInstructionsLink").popover({animation:true,html:true,trigger:"hover",placement:"right"});$(".thumbnail-item-link").popover({animation:true,html:true,placement:"bottom",trigger:"hover"});CUSTOM.InitSizeChartLink=function(){var a=$("#sizeChartModalLink");a.attr("onmouseover","");a.one("click",function(){var b={ChartType:$(this).data("charttype")};$("#sizeChartModal-body").load(encodeURI("/custom/alpacadirect/SizeChart.cfm",b))});a.popover({animation:true,html:true,trigger:"hover",placement:"right"});a.popover("show")};$(document).ready(function(){$("#zoomed_image").elevateZoom({zoomWindowWidth:250,zoomWindowHeight:375,zoomWindowFadeIn:400,zoomWindowFadeOut:200,scrollZoom:true})});$("#shipping-info-link").one("click",function(){$("#shipping-info-modal-content").load("/Client/Pages/Home/shippinginfotooltip.cfm")});$("#free-shipping-link").one("click",function(){$("#free-shipping-modal-content").load("/Client/Pages/Home/shippinginfotooltip.cfm")});$("#video-tutorial-link").one("click",function(){$("#video-tutorial-modal-content").load("/custom/alpacadirect/video_embeds.cfm?item=coupons")});$("#gift-wrap-link").one("click",function(){$("#gift-wrap-modal-content").load("/custom/alpacadirect/giftwraptooltip.cfm")});$("#birthdateCheckout").datepicker({changeMonth:true,dateFormat:"mm dd"});$("#womensSizeChartLink").popover();$("#womensSizeChartLink").click(function(){var a="/custom/alpacadirect/SizeChart.cfm?ChartType=WomenFitting";$("#detailsFittingChartsModalBody").load(a)});$(".product-show-review-snippet").each(function(){$this=$(this);POWERREVIEWS.display.snippet({write:function(a){$this.find(".review-snippet").append(a)}},{pr_page_id:$this.data("productid"),pr_read_review:$this.data("pr_read_review"),pr_snippet_min_reviews:"1",pr_style_sheet:"##"})});$("#reviewsDiv").each(function(){$this=$(this);POWERREVIEWS.display.engine({write:function(a){$this.append(a)}},{pr_page_id:$this.data("productid"),pr_style_sheet:"##"})});if($("div#footerTestimonial").length){var testimonialChangeInterval=60000;var changeTestimonial=function(f,c,d){if(d.length<2){return}var a=($.inArray(c,d)+1)%d.length;var e=d[a];var b=$("#testimonial_"+e);f.fadeOut("slow",function(){f.removeClass("active");b.addClass("active");b.fadeIn("slow");setTimeout(tryToChangeTestimonial,testimonialChangeInterval)})};var tryToChangeTestimonial=function(){var b=$("div#footerTestimonial .customer-review-item.active");var a=b.data("tid");if($.inArray(a,testimonialIdArray)==-1){testimonialIdArray.push(a)}params.excludedTestimonialList=testimonialIdArray.toString();if(loadTestimonialFromServer){$.get(targetUrl,params,function(c){if(c.length==0){loadTestimonialFromServer=false;changeTestimonial(b,a,testimonialIdArray)}else{b.fadeOut("slow",function(){b.removeClass("active");b.after(c);b.next().hide();b.next().fadeIn("slow");setTimeout(tryToChangeTestimonial,testimonialChangeInterval)})}})}else{changeTestimonial(b,a,testimonialIdArray)}};var testimonialIdArray=new Array();var categoryId=$("div#footerTestimonial .customer-review-item.active").data("tcategory");var targetUrl="/cfc/services/TestimonialService.cfc";var params={method:"getFooterTestimonial"};if(categoryId!="undefined"&&categoryId!=0){params.category=categoryId}var loadTestimonialFromServer=true;setTimeout(tryToChangeTestimonial,testimonialChangeInterval)}var CART={minicartContentIsUpToDate:false,validateForm:function(a){a.validate({rules:{giftcardtoemail_confirm:{equalTo:"#giftcardtoemail"}}});return a.valid()},addItem:function(c){var a=$("#AddToCartForm_"+c);if(CART.validateForm(a)){$("#product-popup-"+c).modal("hide");$("#QuickCartModalContent").hide();$("#QuickCartModalPreloader").show();$("#QuickCartModal").modal("show");var d="/Client/Pages/Detail/Details-AddToCartAction.cfm";var e=a.serialize();var b=$.post(d,e);b.done(function(g){var f=$.parseJSON(g);CART.minicartContentIsUpToDate=false;CART.loadMinicartContent();$("#QuickCartModalContent").html(f.html);$("#QuickCartModalPreloader").hide();$("#QuickCartModalContent").show();$("#cart-popover-link .cart-quantity").text(f.qty)})}return false},showMiniCart:function(){CART.loadMinicartContent();$("#cart-popover-box").show()},hideMiniCart:function(){$("#cart-popover-box").hide()},loadMinicartContent:function(){if(!CART.minicartContentIsUpToDate){CART.minicartContentIsUpToDate=true;var a={donotcache:new Date().getTime()};$("#cart-popover-content").load("/Client/Pages/ShowCart/CartQuickList.cfm",a)}}};$(document).ready(function(){$("#giftcarddate").datepicker({dateFormat:"yy-mm-dd",minDate:1});$("#CartPanelToggleLink").one("click",function(){CART.loadMinicartContent()});$(".mobile-menu-toggle-link").click(function(b){b.preventDefault();var d=$(this);var c=d.parent();var a=$(d.data("target"));if(c.hasClass("active")){c.removeClass("active");a.hide(200)}else{$(".mobile-menu-toggle-link").parent().removeClass("active");$(".mobile-menu-toggle-content").hide(200);c.addClass("active");a.show(200)}});$(".drop-down-menu > a").click(function(b){b.preventDefault();var c=$(this).parent();var a=!c.hasClass("active");$(".drop-down-menu.active > ul").hide(200);$(".drop-down-menu.active").removeClass("active");if(a){c.addClass("active");c.children("ul").show(200)}})});"function"!==typeof Object.create&&(Object.create=function(b){function a(){}a.prototype=b;return new a});(function(f,e,b,a){var c={init:function(d,g){var h=this;h.elem=g;h.$elem=f(g);h.imageSrc=h.$elem.data("zoom-image")?h.$elem.data("zoom-image"):h.$elem.attr("src");h.options=f.extend({},f.fn.elevateZoom.options,d);h.options.tint&&(h.options.lensColour="none",h.options.lensOpacity="1");"inner"==h.options.zoomType&&(h.options.showLens=!1);h.$elem.parent().removeAttr("title").removeAttr("alt");h.zoomImage=h.imageSrc;h.refresh(1);f("#"+h.options.gallery+" a").click(function(i){h.options.galleryActiveClass&&(f("#"+h.options.gallery+" a").removeClass(h.options.galleryActiveClass),f(this).addClass(h.options.galleryActiveClass));i.preventDefault();f(this).data("zoom-image")?h.zoomImagePre=f(this).data("zoom-image"):h.zoomImagePre=f(this).data("image");h.swaptheimage(f(this).data("image"),h.zoomImagePre);return !1})},refresh:function(d){var g=this;setTimeout(function(){g.fetch(g.imageSrc)},d||g.options.refresh)},fetch:function(d){var g=this,h=new Image;h.onload=function(){g.largeWidth=h.width;g.largeHeight=h.height;g.startZoom();g.currentImage=g.imageSrc;g.options.onZoomedImageLoaded(g.$elem)};h.src=d},startZoom:function(){var d=this;d.nzWidth=d.$elem.width();d.nzHeight=d.$elem.height();d.isWindowActive=!1;d.isLensActive=!1;d.isTintActive=!1;d.overWindow=!1;d.options.imageCrossfade&&(d.zoomWrap=d.$elem.wrap('<div style="height:'+d.nzHeight+"px;width:"+d.nzWidth+'px;" class="zoomWrapper" />'),d.$elem.css("position","absolute"));d.zoomLock=1;d.scrollingLock=!1;d.changeBgSize=!1;d.currentZoomLevel=d.options.zoomLevel;d.nzOffset=d.$elem.offset();d.widthRatio=d.largeWidth/d.currentZoomLevel/d.nzWidth;d.heightRatio=d.largeHeight/d.currentZoomLevel/d.nzHeight;"window"==d.options.zoomType&&(d.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(d.options.zoomWindowBgColour)+";width: "+String(d.options.zoomWindowWidth)+"px;height: "+String(d.options.zoomWindowHeight)+"px;float: left;background-size: "+d.largeWidth/d.currentZoomLevel+"px "+d.largeHeight/d.currentZoomLevel+"px;display: none;z-index:100;border: "+String(d.options.borderSize)+"px solid "+d.options.borderColour+";background-repeat: no-repeat;position: absolute;");if("inner"==d.options.zoomType){var g=d.$elem.css("border-left-width");d.zoomWindowStyle="overflow: hidden;margin-left: "+String(g)+";margin-top: "+String(g)+";background-position: 0px 0px;width: "+String(d.nzWidth)+"px;height: "+String(d.nzHeight)+"px;float: left;display: none;cursor:"+d.options.cursor+";px solid "+d.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==d.options.zoomType&&(lensHeight=d.nzHeight<d.options.zoomWindowWidth/d.widthRatio?d.nzHeight:String(d.options.zoomWindowHeight/d.heightRatio),lensWidth=d.largeWidth<d.options.zoomWindowWidth?d.nzWidth:d.options.zoomWindowWidth/d.widthRatio,d.lensStyle="background-position: 0px 0px;width: "+String(d.options.zoomWindowWidth/d.widthRatio)+"px;height: "+String(d.options.zoomWindowHeight/d.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+d.options.lensOpacity+";filter: alpha(opacity = "+100*d.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+d.options.lensColour+";cursor:"+d.options.cursor+";border: "+d.options.lensBorderSize+"px solid "+d.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;");d.tintStyle="display: block;position: absolute;background-color: "+d.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+d.nzWidth+"px;height: "+d.nzHeight+"px;";d.lensRound="";"lens"==d.options.zoomType&&(d.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(d.options.borderSize)+"px solid "+d.options.borderColour+";width:"+String(d.options.lensSize)+"px;height:"+String(d.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;");"round"==d.options.lensShape&&(d.lensRound="border-top-left-radius: "+String(d.options.lensSize/2+d.options.borderSize)+"px;border-top-right-radius: "+String(d.options.lensSize/2+d.options.borderSize)+"px;border-bottom-left-radius: "+String(d.options.lensSize/2+d.options.borderSize)+"px;border-bottom-right-radius: "+String(d.options.lensSize/2+d.options.borderSize)+"px;");d.zoomContainer=f('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+d.nzOffset.left+"px;top:"+d.nzOffset.top+"px;height:"+d.nzHeight+"px;width:"+d.nzWidth+'px;"></div>');f("body").append(d.zoomContainer);d.options.containLensZoom&&"lens"==d.options.zoomType&&d.zoomContainer.css("overflow","hidden");"inner"!=d.options.zoomType&&(d.zoomLens=f("<div class='zoomLens' style='"+d.lensStyle+d.lensRound+"'>&nbsp;</div>").appendTo(d.zoomContainer).click(function(){d.$elem.trigger("click")}),d.options.tint&&(d.tintContainer=f("<div/>").addClass("tintContainer"),d.zoomTint=f("<div class='zoomTint' style='"+d.tintStyle+"'></div>"),d.zoomLens.wrap(d.tintContainer),d.zoomTintcss=d.zoomLens.after(d.zoomTint),d.zoomTintImage=f('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+d.nzWidth+"px; height: "+d.nzHeight+'px;" src="'+d.imageSrc+'">').appendTo(d.zoomLens).click(function(){d.$elem.trigger("click")})));isNaN(d.options.zoomWindowPosition)?d.zoomWindow=f("<div style='z-index:999;left:"+d.windowOffsetLeft+"px;top:"+d.windowOffsetTop+"px;"+d.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){d.$elem.trigger("click")}):d.zoomWindow=f("<div style='z-index:999;left:"+d.windowOffsetLeft+"px;top:"+d.windowOffsetTop+"px;"+d.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(d.zoomContainer).click(function(){d.$elem.trigger("click")});d.zoomWindowContainer=f("<div/>").addClass("zoomWindowContainer").css("width",d.options.zoomWindowWidth);d.zoomWindow.wrap(d.zoomWindowContainer);"lens"==d.options.zoomType&&d.zoomLens.css({backgroundImage:"url('"+d.imageSrc+"')"});"window"==d.options.zoomType&&d.zoomWindow.css({backgroundImage:"url('"+d.imageSrc+"')"});"inner"==d.options.zoomType&&d.zoomWindow.css({backgroundImage:"url('"+d.imageSrc+"')"});d.$elem.bind("touchmove",function(h){h.preventDefault();d.setPosition(h.originalEvent.touches[0]||h.originalEvent.changedTouches[0])});d.zoomContainer.bind("touchmove",function(h){"inner"==d.options.zoomType&&d.showHideWindow("show");h.preventDefault();d.setPosition(h.originalEvent.touches[0]||h.originalEvent.changedTouches[0])});d.zoomContainer.bind("touchend",function(h){d.showHideWindow("hide");d.options.showLens&&d.showHideLens("hide");d.options.tint&&"inner"!=d.options.zoomType&&d.showHideTint("hide")});d.$elem.bind("touchend",function(h){d.showHideWindow("hide");d.options.showLens&&d.showHideLens("hide");d.options.tint&&"inner"!=d.options.zoomType&&d.showHideTint("hide")});d.options.showLens&&(d.zoomLens.bind("touchmove",function(h){h.preventDefault();d.setPosition(h.originalEvent.touches[0]||h.originalEvent.changedTouches[0])}),d.zoomLens.bind("touchend",function(h){d.showHideWindow("hide");d.options.showLens&&d.showHideLens("hide");d.options.tint&&"inner"!=d.options.zoomType&&d.showHideTint("hide")}));d.$elem.bind("mousemove",function(h){!1==d.overWindow&&d.setElements("show");if(d.lastX!==h.clientX||d.lastY!==h.clientY){d.setPosition(h),d.currentLoc=h}d.lastX=h.clientX;d.lastY=h.clientY});d.zoomContainer.bind("mousemove",function(h){!1==d.overWindow&&d.setElements("show");if(d.lastX!==h.clientX||d.lastY!==h.clientY){d.setPosition(h),d.currentLoc=h}d.lastX=h.clientX;d.lastY=h.clientY});"inner"!=d.options.zoomType&&d.zoomLens.bind("mousemove",function(h){if(d.lastX!==h.clientX||d.lastY!==h.clientY){d.setPosition(h),d.currentLoc=h}d.lastX=h.clientX;d.lastY=h.clientY});d.options.tint&&"inner"!=d.options.zoomType&&d.zoomTint.bind("mousemove",function(h){if(d.lastX!==h.clientX||d.lastY!==h.clientY){d.setPosition(h),d.currentLoc=h}d.lastX=h.clientX;d.lastY=h.clientY});"inner"==d.options.zoomType&&d.zoomWindow.bind("mousemove",function(h){if(d.lastX!==h.clientX||d.lastY!==h.clientY){d.setPosition(h),d.currentLoc=h}d.lastX=h.clientX;d.lastY=h.clientY});d.zoomContainer.add(d.$elem).mouseenter(function(){!1==d.overWindow&&d.setElements("show")}).mouseleave(function(){d.scrollLock||d.setElements("hide")});"inner"!=d.options.zoomType&&d.zoomWindow.mouseenter(function(){d.overWindow=!0;d.setElements("hide")}).mouseleave(function(){d.overWindow=!1});d.minZoomLevel=d.options.minZoomLevel?d.options.minZoomLevel:2*d.options.scrollZoomIncrement;d.options.scrollZoom&&d.zoomContainer.add(d.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(h){d.scrollLock=!0;clearTimeout(f.data(this,"timer"));f.data(this,"timer",setTimeout(function(){d.scrollLock=!1},250));var i=h.originalEvent.wheelDelta||-1*h.originalEvent.detail;h.stopImmediatePropagation();h.stopPropagation();h.preventDefault();0<i/120?d.currentZoomLevel>=d.minZoomLevel&&d.changeZoomLevel(d.currentZoomLevel-d.options.scrollZoomIncrement):d.options.maxZoomLevel?d.currentZoomLevel<=d.options.maxZoomLevel&&d.changeZoomLevel(parseFloat(d.currentZoomLevel)+d.options.scrollZoomIncrement):d.changeZoomLevel(parseFloat(d.currentZoomLevel)+d.options.scrollZoomIncrement);return !1})},setElements:function(d){if(!this.options.zoomEnabled){return !1}"show"==d&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show"));"hide"==d&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(d){if(!this.options.zoomEnabled){return !1}this.nzHeight=this.$elem.height();this.nzWidth=this.$elem.width();this.nzOffset=this.$elem.offset();this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0}));this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.largeWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"}));this.zoomContainer.css({top:this.nzOffset.top});this.zoomContainer.css({left:this.nzOffset.left});this.mouseLeft=parseInt(d.pageX-this.nzOffset.left);this.mouseTop=parseInt(d.pageY-this.nzOffset.top);"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize);"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize);0>=this.mouseLeft||0>this.mouseTop||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(this.mouseLeft-this.zoomLens.width()/2),this.lensTopPos=String(this.mouseTop-this.zoomLens.height()/2)),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.tintpos=this.lensLeftPos=this.windowLeftPos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((d.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((d.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(d)),this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(d),"window"==this.options.zoomType&&this.setWindowPostition(d),"inner"==this.options.zoomType&&this.setWindowPostition(d),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})))},showHideWindow:function(d){"show"!=d||this.isWindowActive||(this.options.zoomWindowFadeIn?this.zoomWindow.stop(!0,!0,!1).fadeIn(this.options.zoomWindowFadeIn):this.zoomWindow.show(),this.isWindowActive=!0);"hide"==d&&this.isWindowActive&&(this.options.zoomWindowFadeOut?this.zoomWindow.stop(!0,!0).fadeOut(this.options.zoomWindowFadeOut):this.zoomWindow.hide(),this.isWindowActive=!1)},showHideLens:function(d){"show"!=d||this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0);"hide"==d&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(d){"show"!=d||this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0);"hide"==d&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPostition:function(d){},setWindowPostition:function(d){var g=this;if(isNaN(g.options.zoomWindowPosition)){g.externalContainer=f("#"+g.options.zoomWindowPosition),g.externalContainerWidth=g.externalContainer.width(),g.externalContainerHeight=g.externalContainer.height(),g.externalContainerOffset=g.externalContainer.offset(),g.windowOffsetTop=g.externalContainerOffset.top,g.windowOffsetLeft=g.externalContainerOffset.left}else{switch(g.options.zoomWindowPosition){case 1:g.windowOffsetTop=g.options.zoomWindowOffety;g.windowOffsetLeft=+g.nzWidth;break;case 2:g.options.zoomWindowHeight>g.nzHeight&&(g.windowOffsetTop=-1*(g.options.zoomWindowHeight/2-g.nzHeight/2),g.windowOffsetLeft=g.nzWidth);break;case 3:g.windowOffsetTop=g.nzHeight-g.zoomWindow.height()-2*g.options.borderSize;g.windowOffsetLeft=g.nzWidth;break;case 4:g.windowOffsetTop=g.nzHeight;g.windowOffsetLeft=g.nzWidth;break;case 5:g.windowOffsetTop=g.nzHeight;g.windowOffsetLeft=g.nzWidth-g.zoomWindow.width()-2*g.options.borderSize;break;case 6:g.options.zoomWindowHeight>g.nzHeight&&(g.windowOffsetTop=g.nzHeight,g.windowOffsetLeft=-1*(g.options.zoomWindowWidth/2-g.nzWidth/2+2*g.options.borderSize));break;case 7:g.windowOffsetTop=g.nzHeight;g.windowOffsetLeft=0;break;case 8:g.windowOffsetTop=g.nzHeight;g.windowOffsetLeft=-1*(g.zoomWindow.width()+2*g.options.borderSize);break;case 9:g.windowOffsetTop=g.nzHeight-g.zoomWindow.height()-2*g.options.borderSize;g.windowOffsetLeft=-1*(g.zoomWindow.width()+2*g.options.borderSize);break;case 10:g.options.zoomWindowHeight>g.nzHeight&&(g.windowOffsetTop=-1*(g.options.zoomWindowHeight/2-g.nzHeight/2),g.windowOffsetLeft=-1*(g.zoomWindow.width()+2*g.options.borderSize));break;case 11:g.windowOffsetTop=g.options.zoomWindowOffety;g.windowOffsetLeft=-1*(g.zoomWindow.width()+2*g.options.borderSize);break;case 12:g.windowOffsetTop=-1*(g.zoomWindow.height()+2*g.options.borderSize);g.windowOffsetLeft=-1*(g.zoomWindow.width()+2*g.options.borderSize);break;case 13:g.windowOffsetTop=-1*(g.zoomWindow.height()+2*g.options.borderSize);g.windowOffsetLeft=0;break;case 14:g.options.zoomWindowHeight>g.nzHeight&&(g.windowOffsetTop=-1*(g.zoomWindow.height()+2*g.options.borderSize),g.windowOffsetLeft=-1*(g.options.zoomWindowWidth/2-g.nzWidth/2+2*g.options.borderSize));break;case 15:g.windowOffsetTop=-1*(g.zoomWindow.height()+2*g.options.borderSize);g.windowOffsetLeft=g.nzWidth-g.zoomWindow.width()-2*g.options.borderSize;break;case 16:g.windowOffsetTop=-1*(g.zoomWindow.height()+2*g.options.borderSize);g.windowOffsetLeft=g.nzWidth;break;default:g.windowOffsetTop=g.options.zoomWindowOffety,g.windowOffsetLeft=g.nzWidth}}g.isWindowSet=!0;g.windowOffsetTop+=g.options.zoomWindowOffety;g.windowOffsetLeft+=g.options.zoomWindowOffetx;g.zoomWindow.css({top:g.windowOffsetTop});g.zoomWindow.css({left:g.windowOffsetLeft});"inner"==g.options.zoomType&&(g.zoomWindow.css({top:0}),g.zoomWindow.css({left:0}));g.windowLeftPos=String(-1*((d.pageX-g.nzOffset.left)*g.widthRatio-g.zoomWindow.width()/2));g.windowTopPos=String(-1*((d.pageY-g.nzOffset.top)*g.heightRatio-g.zoomWindow.height()/2));g.Etoppos&&(g.windowTopPos=0);g.Eloppos&&(g.windowLeftPos=0);g.Eboppos&&(g.windowTopPos=-1*(g.largeHeight/g.currentZoomLevel-g.zoomWindow.height()));g.Eroppos&&(g.windowLeftPos=-1*(g.largeWidth/g.currentZoomLevel-g.zoomWindow.width()));g.fullheight&&(g.windowTopPos=0);g.fullwidth&&(g.windowLeftPos=0);if("window"==g.options.zoomType||"inner"==g.options.zoomType){1==g.zoomLock&&(1>=g.widthRatio&&(g.windowLeftPos=0),1>=g.heightRatio&&(g.windowTopPos=0)),g.largeHeight<g.options.zoomWindowHeight&&(g.windowTopPos=0),g.largeWidth<g.options.zoomWindowWidth&&(g.windowLeftPos=0),g.options.easing?(g.xp||(g.xp=0),g.yp||(g.yp=0),g.loop||(g.loop=setInterval(function(){g.xp+=(g.windowLeftPos-g.xp)/g.options.easingAmount;g.yp+=(g.windowTopPos-g.yp)/g.options.easingAmount;g.scrollingLock?(clearInterval(g.loop),g.xp=g.windowLeftPos,g.yp=g.windowTopPos,g.xp=-1*((d.pageX-g.nzOffset.left)*g.widthRatio-g.zoomWindow.width()/2),g.yp=-1*((d.pageY-g.nzOffset.top)*g.heightRatio-g.zoomWindow.height()/2),g.changeBgSize&&(g.nzHeight>g.nzWidth?("lens"==g.options.zoomType&&g.zoomLens.css({"background-size":g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px"}),g.zoomWindow.css({"background-size":g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px"})):("lens"!=g.options.zoomType&&g.zoomLens.css({"background-size":g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvalueheight+"px"}),g.zoomWindow.css({"background-size":g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px"})),g.changeBgSize=!1),g.zoomWindow.css({backgroundPosition:g.windowLeftPos+"px "+g.windowTopPos+"px"}),g.scrollingLock=!1,g.loop=!1):(g.changeBgSize&&(g.nzHeight>g.nzWidth?("lens"==g.options.zoomType&&g.zoomLens.css({"background-size":g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px"}),g.zoomWindow.css({"background-size":g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px"})):("lens"!=g.options.zoomType&&g.zoomLens.css({"background-size":g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px"}),g.zoomWindow.css({"background-size":g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px"})),g.changeBgSize=!1),g.zoomWindow.css({backgroundPosition:g.xp+"px "+g.yp+"px"}))},16))):(g.changeBgSize&&(g.nzHeight>g.nzWidth?("lens"==g.options.zoomType&&g.zoomLens.css({"background-size":g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px"}),g.zoomWindow.css({"background-size":g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px"})):("lens"==g.options.zoomType&&g.zoomLens.css({"background-size":g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px"}),g.largeHeight/g.newvaluewidth<g.options.zoomWindowHeight?g.zoomWindow.css({"background-size":g.largeWidth/g.newvaluewidth+"px "+g.largeHeight/g.newvaluewidth+"px"}):g.zoomWindow.css({"background-size":g.largeWidth/g.newvalueheight+"px "+g.largeHeight/g.newvalueheight+"px"})),g.changeBgSize=!1),g.zoomWindow.css({backgroundPosition:g.windowLeftPos+"px "+g.windowTopPos+"px"}))}},setTintPosition:function(d){this.nzOffset=this.$elem.offset();this.tintpos=String(-1*(d.pageX-this.nzOffset.left-this.zoomLens.width()/2));this.tintposy=String(-1*(d.pageY-this.nzOffset.top-this.zoomLens.height()/2));this.Etoppos&&(this.tintposy=0);this.Eloppos&&(this.tintpos=0);this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize));this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize));this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(d,g){var i=this,h=new Image;i.options.loadingIcon&&(i.spinner=f("<div style=\"background: url('"+i.options.loadingIcon+"') no-repeat center;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),i.$elem.after(i.spinner));i.options.onImageSwap(i.$elem);h.onload=function(){i.largeWidth=h.width;i.largeHeight=h.height;i.zoomImage=g;i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"});i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"});i.swapAction(d,g)};h.src=g},swapAction:function(d,h){var l=this,k=new Image;k.onload=function(){l.nzHeight=k.height;l.nzWidth=k.width;l.options.onImageSwapComplete(l.$elem);l.doneCallback()};k.src=d;l.currentZoomLevel=l.options.zoomLevel;l.options.maxZoomLevel=!1;"lens"==l.options.zoomType&&l.zoomLens.css({backgroundImage:"url('"+h+"')"});"window"==l.options.zoomType&&l.zoomWindow.css({backgroundImage:"url('"+h+"')"});"inner"==l.options.zoomType&&l.zoomWindow.css({backgroundImage:"url('"+h+"')"});l.currentImage=h;if(l.options.imageCrossfade){var j=l.$elem,i=j.clone();l.$elem.attr("src",d);l.$elem.after(i);i.stop(!0).fadeOut(l.options.imageCrossfade,function(){f(this).remove()});l.$elem.width("auto").removeAttr("width");l.$elem.height("auto").removeAttr("height");j.fadeIn(l.options.imageCrossfade);l.options.tint&&"inner"!=l.options.zoomType&&(j=l.zoomTintImage,i=j.clone(),l.zoomTintImage.attr("src",h),l.zoomTintImage.after(i),i.stop(!0).fadeOut(l.options.imageCrossfade,function(){f(this).remove()}),j.fadeIn(l.options.imageCrossfade),l.zoomTint.css({height:l.$elem.height()}),l.zoomTint.css({width:l.$elem.width()}));l.zoomContainer.css("height",l.$elem.height());l.zoomContainer.css("width",l.$elem.width());"inner"!=l.options.zoomType||l.options.constrainType||(l.zoomWrap.parent().css("height",l.$elem.height()),l.zoomWrap.parent().css("width",l.$elem.width()),l.zoomWindow.css("height",l.$elem.height()),l.zoomWindow.css("width",l.$elem.width()))}else{l.$elem.attr("src",d),l.options.tint&&(l.zoomTintImage.attr("src",h),l.zoomTintImage.attr("height",l.$elem.height()),l.zoomTintImage.css({height:l.$elem.height()}),l.zoomTint.css({height:l.$elem.height()})),l.zoomContainer.css("height",l.$elem.height()),l.zoomContainer.css("width",l.$elem.width())}l.options.imageCrossfade&&(l.zoomWrap.css("height",l.$elem.height()),l.zoomWrap.css("width",l.$elem.width()));l.options.constrainType&&("height"==l.options.constrainType&&(l.zoomContainer.css("height",l.options.constrainSize),l.zoomContainer.css("width","auto"),l.options.imageCrossfade?(l.zoomWrap.css("height",l.options.constrainSize),l.zoomWrap.css("width","auto"),l.constwidth=l.zoomWrap.width()):(l.$elem.css("height",l.options.constrainSize),l.$elem.css("width","auto"),l.constwidth=l.$elem.width()),"inner"==l.options.zoomType&&(l.zoomWrap.parent().css("height",l.options.constrainSize),l.zoomWrap.parent().css("width",l.constwidth),l.zoomWindow.css("height",l.options.constrainSize),l.zoomWindow.css("width",l.constwidth)),l.options.tint&&(l.tintContainer.css("height",l.options.constrainSize),l.tintContainer.css("width",l.constwidth),l.zoomTint.css("height",l.options.constrainSize),l.zoomTint.css("width",l.constwidth),l.zoomTintImage.css("height",l.options.constrainSize),l.zoomTintImage.css("width",l.constwidth))),"width"==l.options.constrainType&&(l.zoomContainer.css("height","auto"),l.zoomContainer.css("width",l.options.constrainSize),l.options.imageCrossfade?(l.zoomWrap.css("height","auto"),l.zoomWrap.css("width",l.options.constrainSize),l.constheight=l.zoomWrap.height()):(l.$elem.css("height","auto"),l.$elem.css("width",l.options.constrainSize),l.constheight=l.$elem.height()),"inner"==l.options.zoomType&&(l.zoomWrap.parent().css("height",l.constheight),l.zoomWrap.parent().css("width",l.options.constrainSize),l.zoomWindow.css("height",l.constheight),l.zoomWindow.css("width",l.options.constrainSize)),l.options.tint&&(l.tintContainer.css("height",l.constheight),l.tintContainer.css("width",l.options.constrainSize),l.zoomTint.css("height",l.constheight),l.zoomTint.css("width",l.options.constrainSize),l.zoomTintImage.css("height",l.constheight),l.zoomTintImage.css("width",l.options.constrainSize))))},doneCallback:function(){this.options.loadingIcon&&this.spinner.hide();this.nzOffset=this.$elem.offset();this.nzWidth=this.$elem.width();this.nzHeight=this.$elem.height();this.currentZoomLevel=this.options.zoomLevel;this.widthRatio=this.largeWidth/this.nzWidth;this.heightRatio=this.largeHeight/this.nzHeight;"window"==this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var d=this;d.gallerylist=[];d.options.gallery?f("#"+d.options.gallery+" a").each(function(){var g="";f(this).data("zoom-image")?g=f(this).data("zoom-image"):f(this).data("image")&&(g=f(this).data("image"));g==d.zoomImage?d.gallerylist.unshift({href:""+g+"",title:f(this).find("img").attr("title")}):d.gallerylist.push({href:""+g+"",title:f(this).find("img").attr("title")})}):d.gallerylist.push({href:""+d.zoomImage+"",title:f(this).find("img").attr("title")});return d.gallerylist},changeZoomLevel:function(d){this.scrollingLock=!0;this.newvalue=parseFloat(d).toFixed(2);newvalue=parseFloat(d).toFixed(2);maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight);maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth);"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)));"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue>maxwidthtnewvalue?maxwidthtnewvalue:newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1));scrcontinue=!1;"inner"==this.options.zoomType&&(this.nzWidth>this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0)));"inner"!=this.options.zoomType&&(scrcontinue=!0);scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth)));this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide();self.zoomLens&&self.zoomLens.hide();self.zoomTint&&self.zoomTint.hide()},changeState:function(d){"enable"==d&&(this.options.zoomEnabled=!0);"disable"==d&&(this.options.zoomEnabled=!1)}};f.fn.elevateZoom=function(d){return this.each(function(){var g=Object.create(c);g.init(d,this);f.data(this,"elevateZoom",g)})};f.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:0.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:0.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:0.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:f.noop,onZoomedImageLoaded:function(){},onImageSwap:f.noop,onImageSwapComplete:f.noop}})(jQuery,window,document);(function(d){function e(h,g){if(this.createTextRange){var i=this.createTextRange();i.collapse(true);i.moveStart("character",h);i.moveEnd("character",g-h);i.select()}else{if(this.setSelectionRange){this.focus();this.setSelectionRange(h,g)}}}function c(h){var g=this.value.length;h=h.toLowerCase()=="start"?"Start":"End";if(document.selection){g=document.selection.createRange();var i;i=g.duplicate();i.expand("textedit");i.setEndPoint("EndToEnd",g);i=i.text.length-g.text.length;g=i+g.text.length;return h=="Start"?i:g}else{if(typeof this["selection"+h]!="undefined"){g=this["selection"+h]}}return g}var f={codes:{188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};d.fn.number=function(m,h,q,g){g=typeof g==="undefined"?",":g;q=typeof q==="undefined"?".":q;h=typeof h==="undefined"?0:h;var j="\\u"+("0000"+q.charCodeAt(0).toString(16)).slice(-4),p=RegExp("[^"+j+"0-9]","g"),k=RegExp(j,"g");if(m===true){return this.is("input:text")?this.on({"keydown.format":function(l){var s=d(this),u=s.data("numFormat"),r=l.keyCode?l.keyCode:l.which,i="",o=c.apply(this,["start"]),t=c.apply(this,["end"]),n="";n=false;if(f.codes.hasOwnProperty(r)){r=f.codes[r]}if(!l.shiftKey&&r>=65&&r<=90){r+=32}else{if(!l.shiftKey&&r>=69&&r<=105){r-=48}else{if(l.shiftKey&&f.shifts.hasOwnProperty(r)){i=f.shifts[r]}}}if(i==""){i=String.fromCharCode(r)}if(r!==8&&i!=q&&!i.match(/[0-9]/)){s=l.keyCode?l.keyCode:l.which;if(s==46||s==8||s==9||s==27||s==13||(s==65||s==82)&&(l.ctrlKey||l.metaKey)===true||s>=35&&s<=39){return}l.preventDefault();return false}if((o==0&&t==this.value.length||s.val()==0)&&!l.metaKey&&!l.ctrlKey&&!l.altKey&&i.length===1&&i!=0){o=t=1;this.value="";u.init=h>0?-1:0;u.c=h>0?-(h+1):0;e.apply(this,[0,0])}else{u.c=t-this.value.length}if(h>0&&i==q&&o==this.value.length-h-1){u.c++;u.init=Math.max(0,u.init);l.preventDefault();n=this.value.length+u.c}else{if(i==q){u.init=Math.max(0,u.init);l.preventDefault()}else{if(h>0&&r==8&&o==this.value.length-h){l.preventDefault();u.c--;n=this.value.length+u.c}else{if(h>0&&r==8&&o>this.value.length-h){if(this.value===""){return}if(this.value.slice(o-1,o)!="0"){n=this.value.slice(0,o-1)+"0"+this.value.slice(o);s.val(n.replace(p,"").replace(k,q))}l.preventDefault();u.c--;n=this.value.length+u.c}else{if(r==8&&this.value.slice(o-1,o)==g){l.preventDefault();u.c--;n=this.value.length+u.c}else{if(h>0&&o==t&&this.value.length>h+1&&o>this.value.length-h-1&&isFinite(+i)&&!l.metaKey&&!l.ctrlKey&&!l.altKey&&i.length===1){this.value=n=t===this.value.length?this.value.slice(0,o-1):this.value.slice(0,o)+this.value.slice(o+1);n=o}}}}}}n!==false&&e.apply(this,[n,n]);s.data("numFormat",u)},"keyup.format":function(i){var n=d(this),o=n.data("numFormat");i=i.keyCode?i.keyCode:i.which;var l=c.apply(this,["start"]);if(!(this.value===""||(i<48||i>57)&&(i<96||i>105)&&i!==8)){n.val(n.val());if(h>0){if(o.init<1){l=this.value.length-h-(o.init<0?1:0);o.c=l-this.value.length;o.init=1;n.data("numFormat",o)}else{if(l>this.value.length-h&&i!=8){o.c++;n.data("numFormat",o)}}}n=this.value.length+o.c;e.apply(this,[n,n])}},"paste.format":function(i){var n=d(this),o=i.originalEvent,l=null;if(window.clipboardData&&window.clipboardData.getData){l=window.clipboardData.getData("Text")}else{if(o.clipboardData&&o.clipboardData.getData){l=o.clipboardData.getData("text/plain")}}n.val(l);i.preventDefault();return false}}).each(function(){var i=d(this).data("numFormat",{c:-(h+1),decimals:h,thousands_sep:g,dec_point:q,regex_dec_num:p,regex_dec:k,init:false});this.value!==""&&i.val(i.val())}):this.each(function(){var i=d(this),l=+i.text().replace(p,"").replace(k,".");i.number(!isFinite(l)?0:+l,h,q,g)})}return this.text(d.number.apply(window,arguments))};var b=null,a=null;if(d.valHooks.text){b=d.valHooks.text.get;a=d.valHooks.text.set}else{d.valHooks.text={}}d.valHooks.text.get=function(h){var g=d(h).data("numFormat");if(g){if(h.value===""){return""}h=+h.value.replace(g.regex_dec_num,"").replace(g.regex_dec,".");return""+(isFinite(h)?h:0)}else{if(d.isFunction(b)){return b(h)}}};d.valHooks.text.set=function(h,g){var i=d(h).data("numFormat");if(i){return h.value=d.number(g,i.decimals,i.dec_point,i.thousands_sep)}else{if(d.isFunction(a)){return a(h,g)}}};d.number=function(k,h,m,g){g=typeof g==="undefined"?",":g;m=typeof m==="undefined"?".":m;h=!isFinite(+h)?0:Math.abs(h);var j="\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4);k=(k+"").replace(RegExp(j,"g"),".").replace(RegExp("[^0-9+-Ee.]","g"),"");k=!isFinite(+k)?0:+k;j="";j=function(p,l){var i=Math.pow(10,l);return""+Math.round(p*i)/i};j=(h?j(k,h):""+Math.round(k)).split(".");if(j[0].length>3){j[0]=j[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,g)}if((j[1]||"").length<h){j[1]=j[1]||"";j[1]+=Array(h-j[1].length+1).join("0")}return j.join(m)}})(jQuery);(function(a){a.extend(a.fn,{validate:function(c){if(!this.length){return c&&c.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0}var b=a.data(this[0],"validator");return b?b:(this.attr("novalidate","novalidate"),b=new a.validator(c,this[0]),a.data(this[0],"validator",b),b.settings.onsubmit&&(this.validateDelegate(":submit","click",function(d){b.settings.submitHandler&&(b.submitButton=d.target),a(d.target).hasClass("cancel")&&(b.cancelSubmit=!0),void 0!==a(d.target).attr("formnovalidate")&&(b.cancelSubmit=!0)}),this.submit(function(f){function d(){var e;return b.settings.submitHandler?(b.submitButton&&(e=a("<input type='hidden'/>").attr("name",b.submitButton.name).val(a(b.submitButton).val()).appendTo(b.currentForm)),b.settings.submitHandler.call(b,b.currentForm,f),b.submitButton&&e.remove(),!1):!0}return b.settings.debug&&f.preventDefault(),b.cancelSubmit?(b.cancelSubmit=!1,d()):b.form()?b.pendingRequest?(b.formSubmitted=!0,!1):d():(b.focusInvalid(),!1)})),b)},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}var c=!0,b=a(this[0].form).validate();return this.each(function(){c=c&&b.element(this)}),c},removeAttrs:function(d){var b={},c=this;return a.each(d.split(/\s/),function(f,g){b[g]=c.attr(g),c.removeAttr(g)}),b},rules:function(h,g){var m=this[0];if(h){var b=a.data(m.form,"validator").settings,d=b.rules,j=a.validator.staticRules(m);switch(h){case"add":a.extend(j,a.validator.normalizeRule(g)),delete j.messages,d[m.name]=j,g.messages&&(b.messages[m.name]=a.extend(b.messages[m.name],g.messages));break;case"remove":if(!g){return delete d[m.name],j}var k={};return a.each(g.split(/\s/),function(i,l){k[l]=j[l],delete j[l]}),k}}var c=a.validator.normalizeRules(a.extend({},a.validator.classRules(m),a.validator.attributeRules(m),a.validator.dataRules(m),a.validator.staticRules(m)),m);if(c.required){var f=c.required;delete c.required,c=a.extend({required:f},c)}return c}}),a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+a(b).val())},filled:function(b){return !!a.trim(""+a(b).val())},unchecked:function(b){return !a(b).prop("checked")}}),a.validator=function(c,b){this.settings=a.extend(!0,{},a.validator.defaults,c),this.currentForm=b,this.init()},a.validator.format=function(c,b){return 1===arguments.length?function(){var d=a.makeArray(arguments);return d.unshift(c),a.validator.format.apply(this,d)}:(arguments.length>2&&b.constructor!==Array&&(b=a.makeArray(arguments).slice(1)),b.constructor!==Array&&(b=[b]),a.each(b,function(e,d){c=c.replace(RegExp("\\{"+e+"\\}","g"),function(){return d})}),c)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(b){this.lastActive=b,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(b)).hide())},onfocusout:function(b){this.checkable(b)||!(b.name in this.submitted)&&this.optional(b)||this.element(b)},onkeyup:function(b,c){(9!==c.which||""!==this.elementValue(b))&&(b.name in this.submitted||b===this.lastElement)&&this.element(b)},onclick:function(b){b.name in this.submitted?this.element(b):b.parentNode.name in this.submitted&&this.element(b.parentNode)},highlight:function(d,b,c){"radio"===d.type?this.findByName(d.name).addClass(b).removeClass(c):a(d).addClass(b).removeClass(c)},unhighlight:function(d,b,c){"radio"===d.type?this.findByName(d.name).removeClass(b).addClass(c):a(d).removeClass(b).addClass(c)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function d(h){var f=a.data(this[0].form,"validator"),g="on"+h.type.replace(/^validate/,"");f.settings[g]&&f.settings[g].call(f,this[0],h)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var b=this.groups={};a.each(this.settings.groups,function(g,f){"string"==typeof f&&(f=f.split(/\s/)),a.each(f,function(e,h){b[h]=g})});var c=this.settings.rules;a.each(c,function(g,f){c[g]=a.validator.normalizeRule(f)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",d).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",d),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var b=0,c=this.currentElements=this.elements();c[b];b++){this.check(c[b])}return this.valid()},element:function(c){c=this.validationTargetFor(this.clean(c)),this.lastElement=c,this.prepareElement(c),this.currentElements=a(c);var b=this.check(c)!==!1;return b?delete this.invalid[c.name]:this.invalid[c.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),b},showErrors:function(c){if(c){a.extend(this.errorMap,c),this.errorList=[];for(var b in c){this.errorList.push({message:c[b],element:this.findByName(b)[0]})}this.successList=a.grep(this.successList,function(d){return !(d.name in c)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(c){var d=0;for(var b in c){d++}return d},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(c){return c.element.name===b.name}).length&&b},elements:function(){var c=this,b={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return !this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in b||!c.objectLength(a(this).rules())?!1:(b[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset(),this.toHide=this.errorsFor(b)},elementValue:function(d){var b=a(d).attr("type"),c=a(d).val();return"radio"===b||"checkbox"===b?a("input[name='"+a(d).attr("name")+"']:checked").val():"string"==typeof c?c.replace(/\r/g,""):c},check:function(h){h=this.validationTargetFor(this.clean(h));var d,f=a(h).rules(),g=!1,k=this.elementValue(h);for(var b in f){var c={method:b,parameters:f[b]};try{if(d=a.validator.methods[b].call(this,k,h,c.parameters),"dependency-mismatch"===d){g=!0;continue}if(g=!1,"pending"===d){return this.toHide=this.toHide.not(this.errorsFor(h)),void 0}if(!d){return this.formatAndAdd(h,c),!1}}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+h.id+", check the '"+c.method+"' method.",j),j}}return g?void 0:(this.objectLength(f)&&this.successList.push(h),!0)},customDataMessage:function(c,b){return a(c).data("msg-"+b.toLowerCase())||c.attributes&&a(c).attr("data-msg-"+b.toLowerCase())},customMessage:function(c,d){var b=this.settings.messages[c];return b&&(b.constructor===String?b:b[d])},findDefined:function(){for(var b=0;arguments.length>b;b++){if(void 0!==arguments[b]){return arguments[b]}}return void 0},defaultMessage:function(c,b){return this.findDefined(this.customMessage(c.name,b),this.customDataMessage(c,b),!this.settings.ignoreTitle&&c.title||void 0,a.validator.messages[b],"<strong>Warning: No message defined for "+c.name+"</strong>")},formatAndAdd:function(f,b){var c=this.defaultMessage(f,b.method),d=/\$?\{(\d+)\}/g;"function"==typeof c?c=c.call(this,b.parameters,f):d.test(c)&&(c=a.validator.format(c.replace(d,"{$1}"),b.parameters)),this.errorList.push({message:c,element:f}),this.errorMap[f.name]=c,this.submitted[f.name]=c},addWrapper:function(b){return this.settings.wrapper&&(b=b.add(b.parent(this.settings.wrapper))),b},defaultShowErrors:function(){var c,d;for(c=0;this.errorList[c];c++){var b=this.errorList[c];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass),this.showLabel(b.element,b.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success){for(c=0;this.successList[c];c++){this.showLabel(this.successList[c])}}if(this.settings.unhighlight){for(c=0,d=this.validElements();d[c];c++){this.settings.unhighlight.call(this,d[c],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(d,b){var c=this.errorsFor(d);c.length?(c.removeClass(this.settings.validClass).addClass(this.settings.errorClass),c.html(b)):(c=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(d)).addClass(this.settings.errorClass).html(b||""),this.settings.wrapper&&(c=c.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(c).length||(this.settings.errorPlacement?this.settings.errorPlacement(c,a(d)):c.insertAfter(d))),!b&&this.settings.success&&(c.text(""),"string"==typeof this.settings.success?c.addClass(this.settings.success):this.settings.success(c,d)),this.toShow=this.toShow.add(c)},errorsFor:function(c){var b=this.idOrName(c);return this.errors().filter(function(){return a(this).attr("for")===b})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name).not(this.settings.ignore)[0]),b},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b)){return this.findByName(b.name).filter(":checked").length}}return c.length},depend:function(b,c){return this.dependTypes[typeof b]?this.dependTypes[typeof b](b,c):!0},dependTypes:{"boolean":function(b){return b},string:function(c,b){return !!a(c,b.form).length},"function":function(b,c){return b(c)}},optional:function(c){var b=this.elementValue(c);return !a.validator.methods.required.call(this,b,c)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,this.pending[b.name]=!0)},stopRequest:function(c,b){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[c.name],b&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!b&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(c,b){c.constructor===String?this.classRuleSettings[c]=b:a.extend(this.classRuleSettings,c)},classRules:function(d){var b={},c=a(d).attr("class");return c&&a.each(c.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(b,a.validator.classRuleSettings[this])}),b},attributeRules:function(g){var c={},d=a(g),f=d[0].getAttribute("type");for(var h in a.validator.methods){var b;"required"===h?(b=d.get(0).getAttribute(h),""===b&&(b=!0),b=!!b):b=d.attr(h),/min|max/.test(h)&&(null===f||/number|range|text/.test(f))&&(b=Number(b)),b?c[h]=b:f===h&&"range"!==f&&(c[h]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},dataRules:function(f){var b,c,d={},g=a(f);for(b in a.validator.methods){c=g.data("rule-"+b.toLowerCase()),void 0!==c&&(d[b]=c)}return d},staticRules:function(d){var b={},c=a.data(d.form,"validator");return c.settings.rules&&(b=a.validator.normalizeRule(c.settings.rules[d.name])||{}),b},normalizeRules:function(c,b){return a.each(c,function(d,e){if(e===!1){return delete c[d],void 0}if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,b.form).length;break;case"function":f=e.depends.call(b,b)}f?c[d]=void 0!==e.param?e.param:!0:delete c[d]}}),a.each(c,function(d,e){c[d]=a.isFunction(e)?e(b):e}),a.each(["minlength","maxlength"],function(){c[this]&&(c[this]=Number(c[this]))}),a.each(["rangelength","range"],function(){var d;c[this]&&(a.isArray(c[this])?c[this]=[Number(c[this][0]),Number(c[this][1])]:"string"==typeof c[this]&&(d=c[this].split(/[\s,]+/),c[this]=[Number(d[0]),Number(d[1])]))}),a.validator.autoCreateRanges&&(c.min&&c.max&&(c.range=[c.min,c.max],delete c.min,delete c.max),c.minlength&&c.maxlength&&(c.rangelength=[c.minlength,c.maxlength],delete c.minlength,delete c.maxlength)),c},normalizeRule:function(c){if("string"==typeof c){var b={};a.each(c.split(/\s/),function(){b[this]=!0}),c=b}return c},addMethod:function(d,b,c){a.validator.methods[d]=b,a.validator.messages[d]=void 0!==c?c:a.validator.messages[d],3>b.length&&a.validator.addClassRules(d,a.validator.normalizeRule(d))},methods:{required:function(f,b,c){if(!this.depend(c,b)){return"dependency-mismatch"}if("select"===b.nodeName.toLowerCase()){var d=a(b).val();return d&&d.length>0}return this.checkable(b)?this.getLength(f,b)>0:a.trim(f).length>0},email:function(b,c){return this.optional(c)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(b)},url:function(b,c){return this.optional(c)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},date:function(b,c){return this.optional(c)||!/Invalid|NaN/.test(""+new Date(b))},dateISO:function(b,c){return this.optional(c)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(b)},number:function(b,c){return this.optional(c)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(b)},digits:function(b,c){return this.optional(c)||/^\d+$/.test(b)},creditcard:function(d,h){if(this.optional(h)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(d)){return !1}var c=0,f=0,g=!1;d=d.replace(/\D/g,"");for(var j=d.length-1;j>=0;j--){var b=d.charAt(j);f=parseInt(b,10),g&&(f*=2)>9&&(f-=9),c+=f,g=!g}return 0===c%10},minlength:function(f,b,c){var d=a.isArray(f)?f.length:this.getLength(a.trim(f),b);return this.optional(b)||d>=c},maxlength:function(f,b,c){var d=a.isArray(f)?f.length:this.getLength(a.trim(f),b);return this.optional(b)||c>=d},rangelength:function(f,b,c){var d=a.isArray(f)?f.length:this.getLength(a.trim(f),b);return this.optional(b)||d>=c[0]&&c[1]>=d},min:function(c,d,b){return this.optional(d)||c>=b},max:function(c,d,b){return this.optional(d)||b>=c},range:function(c,d,b){return this.optional(d)||c>=b[0]&&b[1]>=c},equalTo:function(f,b,c){var d=a(c);return this.settings.onfocusout&&d.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()}),f===d.val()},remote:function(g,c,d){if(this.optional(c)){return"dependency-mismatch"}var f=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),f.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=f.message,d="string"==typeof d&&{url:d}||d,f.old===g){return f.valid}f.old=g;var h=this;this.startRequest(c);var b={};return b[c.name]=g,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:b,success:function(k){h.settings.messages[c.name].remote=f.originalMessage;var i=k===!0||"true"===k;if(i){var j=h.formSubmitted;h.prepareElement(c),h.formSubmitted=j,h.successList.push(c),delete h.invalid[c.name],h.showErrors()}else{var m={},e=k||h.defaultMessage(c,"remote");m[c.name]=f.message=a.isFunction(e)?e(g):e,h.invalid[c.name]=!0,h.showErrors(m)}f.valid=i,h.stopRequest(c,i)}},d)),"pending"}}}),a.format=a.validator.format})(jQuery),function(b){var c={};if(b.ajaxPrefilter){b.ajaxPrefilter(function(e,d,f){var g=e.port;"abort"===e.mode&&(c[g]&&c[g].abort(),c[g]=f)})}else{var a=b.ajax;b.ajax=function(d){var e=("mode" in d?d:b.ajaxSettings).mode,f=("port" in d?d:b.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=a.apply(this,arguments),c[f]):a.apply(this,arguments)}}}(jQuery),function(a){a.extend(a.fn,{validateDelegate:function(d,b,c){return this.bind(b,function(e){var f=a(e.target);return f.is(d)?c.apply(f,arguments):void 0})}})}(jQuery);