$BV.Internal.modify("analyticsAutoTagHooks","cmn/1884/analyticsAutoTagHooks",[window,document],["analyticsAutoTagHooks"],function(b,a){b.BVAutoTagAnalyticsCallback=function(d){var c=BVAnalyticsTracker.getJsonWithDefaultValues(d);if(c.eventSource!=BVAnalyticsData.EVENT_SOURCE.action){return}$bv(a).ready(function(){if(typeof cG7==="object"&&cG7){var e=cG7.cM0[cm_ClientID];BVAnalyticsTracker.callAutotag(b,cmCreatePageviewTag,"BV-"+(c.urlPageName||"/"),null,c.group+"-"+c.bvProduct+"-"+c.eventSource+"-"+c.eType);cG7.cM0[cm_ClientID]=e}})}});
$BV.Internal.define("animationOptions",[],["jquery.core"],function(a){a.extend(a.fx.speeds,{bvFeedbackActiveVote:200,bvFeedbackDisabledVote:200,bvFeedbackDisplayVote:200,bvFeedbackHoverVote:200,bvFeedbackVisitedVote:200,bvFeedbackMessage:500,bvFeedbackReport:500,bvFeedbackActiveReport:200,bvFeedbackDisabledReport:200,bvFeedbackVisitedReport:200,bvSocialConnect:400})});
$BV.Internal.define("feedback",[window,document],["exports","jquery.core","cookies","requester","parseUri","analyticsHooks","jquery.effects.core","animationOptions","contentDisplay"],function(g,j,l,f,h,p,d,q){var b="bvFeedback",c=null;l.onInjection=function(r,t,s){f.each(t,function(w,v){v.$context=v.contentSectionSelector?f(v.contentSectionSelector,v.$contentRoot):v.$contentRoot;var u=a(v.$context,r,v,t);if(r.submission){u.bindHandlers()}try{u.applyCookies(s)}catch(x){$BV.log("feedback initialization failed; could not apply cookies : "+x)}})};function k(r,s){return new RegExp("^"+r.cookiePrefixes.Voting+"_([^_]+)_"+s+"$")}function m(r,s){return new RegExp("^"+r.cookiePrefixes[s]+"_(\\d+)$")}function n(r){if(typeof r==="object"&&r.fn){return function(s){var t=g[r.fn];if(typeof t==="function"){t.apply(g,(r.args||[]).concat([s]))}}}}function a(an,O,ab,t){var ad={},E={},Z;if("voting" in O.props){ad=O.props.voting.dimensions;E=O.props.voting.content}if("contentFocusing" in O){Z=n(O.contentFocusing)}function X(){ab.$content=f(ab.contentSelector,an);K();W();if("Inappropriate" in O.cookiePrefixes){B("Inappropriate");J("Inappropriate")}if("Voting" in O.cookiePrefixes){for(var at in ad){A(at,r(at))}}}function T(at){if("Inappropriate" in O.cookiePrefixes){ae("Inappropriate",at)}if("Voting" in O.cookiePrefixes){for(var au in ad){U(au,at)}}}function B(at){f(".BVDI_FVReportLink"+at+" a",an).each(function(){var au=f(this);au.unbind(I(["click","submitted"]));if(au.is(p.jsLinkSelector)){au.bind(I("click"),function(ax){var ay=f(this);var aw=aq(this);if(!f(this).data("fvEnabled")){q.fireActionEvent(aq(this).get(0),null,null,true);ax.stopImmediatePropagation();return false}var av=ay.parents(ab.contentSelector).find(".BVDI_FVReport");if(av.length>0){if(av.hasClass("BVDI_FVReportPopin")&&!av.is(":visible")){f(".BVDI_FVReport").trigger(I("hide"))}av.trigger(I("toggle"));return false}ay.addClass("BVDI_FVPendingReport");aw.data("fvEvent",{pageX:ax.pageX,pageY:ax.pageY,target:ax.target});H(aw);p.asJsLink(ay).follow(true);ax.preventDefault()}).bind(I("submitted"),function(ay,ax,av,az){var aA=f(this);var aw=aq(this);if(!ai(aw.get(0),az)){$BV.log("Message for "+az+" was received by "+V(this));return false}u(at,S(az));h.remove("bvReturnPosition");aA.removeClass("BVDI_FVPendingReport");ay.preventDefault()}).data("fvEnabled",true)}else{if(au.attr("href").indexOf(".htm?")!=-1){au.bind(I("click"),function(aw){var av=aq(this);if(!f(this).data("fvEnabled")){q.fireActionEvent(aq(this).get(0),null,null,true);aw.stopImmediatePropagation();return false}H(av)}).data("fvEnabled",true)}}})}function K(){ab.$content.each(function(){f(this).unbind(I("postback")).bind(I("postback"),function(av,aw,au,at){if(!ai(this,aw)){$BV.log("Message for "+aw+" was received by "+V(this));return false}p.post(au,c,function(ax){if(at[ax]){at[ax]()}else{$BV.log("Unexpected message code: "+ax)}});return false})})}function W(){ab.$content.each(function(){f(this).unbind(I("submitted")).bind(I("submitted"),function(at,ay,aw,ax){if(!ai(this,ax)){$BV.log("Message for "+ax+" was received by "+V(this));return false}var aA=f(this);var az=".BVDI_ME";var av=w("Message");var aB=aA.data("fvEvent");var au=aw?aA:M(aA);ap(aA,au,ay,az,av,aw?aB:null);return false})})}function J(at){ab.$content.each(function(){f(this).unbind(I("editing")).bind(I("editing"),function(au,aD,ax,ay,az){if(!ai(this,ay)){$BV.log("Message for "+ay+" was received by "+V(this));return false}var aB=f(this);var aA=".BVDI_FVReport";var aw=w("Report");var aC=aB.data("fvEvent");var av=ax?aB:M(aB);ap(aB,av,aD,aA,aw,ax?aC:null,"BVDI_FVActiveReport"+at,w("ActiveReport"));af(at,av,f(au.target),az);return false})})}function ai(au,av){var at=false;P(av).each(function(){if(this==au){at=true;return false}});return at}function af(av,aw,au,at){f(".BVDI_FVReport form",aw).each(function(){f(this).unbind(I(["submit","click"])).bind(I("submit"),function(){var ax=f(this);if(this.button=="submit"){p.postForm(this,this.button,function(ay){if(at[ay]){at[ay]()
}else{$BV.log("Unexpected message code: "+ay)}})}else{au.removeClass(".BVDI_FVPendingReport")}ax.trigger(I("hide"));return false}).bind(I("click"),function(ax){var ay=f(ax.target);if(!ay.is(":submit, input:image")){return}this.button=ay.attr("name")}).find(":input[name=devicefingerprint]").val((c||{}).devicefingerprint||"")})}function u(au,at){at.stop(true,true).addClass("BVDI_FVDisabledReport"+au,w("DisabledReport")).addClass("BVDI_FVVisitedReport"+au,w("VisitedReport"));at.find(".BVDI_FVReportLink"+au+":first a").each(function(){var av=f(this);ao(av);N(av,p.asJsOrHtmLink(av));L(av)})}function r(av){var at=[];for(var au in ad[av].values){at.push(au)}return new RegExp("\\bBVDI_FV("+at.join("|")+")\\b")}function A(au,at){f(".BVDI_FVVotes"+au+" .BVDI_FVVote a",an).each(function(){var av=f(this);av.unbind(I(["mouseenter","mouseleave","mousedown","keydown","mouseup","keyup","click","submitted"]));Q(av,au,av.parent().attr("class").match(at)[1]);if(av.is(p.jsLinkSelector)){av.bind(I("click"),function(az){var aA=f(this);var ax=aA.parents(".BVDI_FVVotes").first();if(ax.data("fvLocked")){q.fireActionEvent(aq(this).get(0),null,null,true);az.stopImmediatePropagation();return false}ax.data("fvLocked",true);var aw=aq(this);aA.addClass("BVDI_FVPendingVote");aw.data("fvEvent",{pageX:az.pageX,pageY:az.pageY,target:az.target});var ay=p.asJsLink(aA);var aB=V(this);C(O.cookiePrefixes.Voting,aB,au,aA.data("fvValue"),d(ay.getUrl()).authority);H(aw);ay.follow(true);if(ad[au].anonymousSubmissionAllowed){aA.trigger(I("voteDisplay"),[aA.data("fvValue"),aA.parent().is('[class *= "Undo"]')])}az.preventDefault()}).bind(I("submitted"),function(az,ay,aw,aA){var aB=f(this);var ax=aq(this);if(!ai(ax.get(0),aA)){$BV.log("Message for "+aA+" was received by "+V(this));return false}if(!ad[au].anonymousSubmissionAllowed){aB.trigger(I("voteDisplay"),[aB.data("fvValue"),aB.parent().is('[class *= "Undo"]')])}h.remove("bvReturnPosition");F(ax,au,aB.data("fvValue")).removeClass("BVDI_FVPendingVote");az.preventDefault()})}else{if(av.attr("href").indexOf(".htm?")!=-1){av.bind(I("click"),function(){var ax=f(this);var aw=aq(this);var ay=V(this);C(O.cookiePrefixes.Voting,ay,au,ax.data("fvValue"),d(ax.attr("href")).authority);H(aw)})}}});f(".BVDI_FVVoting"+au,an).each(function(){f(this).unbind(I("voteDisplay")).bind(I("voteDisplay"),function(ax,ay,av){var az=V(this);var aw=S(az);s(aw,az,au,ay,av,true,w("DisplayVote"));return false})})}function Q(at,av,au){at.bind(I(["mouseenter","mouseleave","mousedown","keydown","mouseup","keyup","click"]),function(aw){if(!f(this).data("fvEnabled")){if(aw.type=="click"){q.fireActionEvent(aq(this).get(0),null,null,true)}aw.stopImmediatePropagation()}}).bind(I("mouseenter"),function(){aq(this).stop(true,true).addClass("BVDI_FVHoverVotes"+av+au,w("HoverVote"))}).bind(I("mouseleave"),function(){aq(this).stop(true,true).removeClass("BVDI_FVHoverVotes"+av+au,w("HoverVote"))}).bind(I("mousedown"),function(aw){if(aw.which==1){aq(this).stop(true,true).addClass("BVDI_FVActiveVotes"+av+au,w("ActiveVote"))}}).bind(I("mouseup"),function(aw,ax){if(aw.which==1||ax){aq(this).stop(true,true).removeClass("BVDI_FVActiveVotes"+av+au,w("ActiveVote"))}}).bind(I("keydown"),function(aw){if(aw.which==13){aq(this).stop(true,true).addClass("BVDI_FVActiveVotes"+av+au,w("ActiveVote"))}}).bind(I("keyup"),function(aw,ax){if(aw.which==13||ax){aq(this).stop(true,true).removeClass("BVDI_FVActiveVotes"+av+au,w("ActiveVote"))}}).data("fvValue",au).data("fvEnabled",true)}function G(au,at,av){return{valueCount:au,totalCount:at,voteValue:av,asCookieValuePrefix:function(){return(typeof this.valueCount==="number"?this.valueCount:"")+"_"+(typeof this.totalCount==="number"?this.totalCount:"")+"_"}}}function aj(au){var at=/(\d+)?_(\d+)?_(\w+)?/.exec(au);return at?G(at[1],at[2],at[3]):{}}function U(av,at){var au=k(O,av);at(function(ay){for(var aD in ay){var ax=au.exec(aD);if(ax){var aA=aj(ay[aD]);if(!aA.voteValue){continue}var aC=ax[1];var aw=P(aC);if(aw.length==0){continue}if(aA.voteValue=="Invalid"){s(aw,aC,av,aA.voteValue,false,false,0);
continue}var az=ar(aC,av,aA.voteValue);var aB=az.valueCount==aA.valueCount&&az.totalCount==aA.totalCount;s(aw,aC,av,aA.voteValue,false,aB,0)}}})}function ae(av,at){var au=m(O,av);at(function(ax){for(var ay in ax){var aw=au.exec(ay);if(aw){u(av,P(aw[1]))}}})}function H(at){if(Z){Z(at.parents("[id]:first").attr("id"))}}function ar(aw,av,au){var at=E[aw][av];return G(at.values[au],at.numEntries,au)}function F(at,av,au){return at.find(".BVDI_FVVotes"+av+" .BVDI_FV"+au+" a")}function aq(au){var at=f(au);if(at.is(ab.contentSelector)){return at}return at.parents(ab.contentSelector).first()}function al(au,at){if(au.is(at)){return au}return au.find(at)}function P(av,at){var au=at?at:ab;if("subjectId" in au){if(av==au.subjectId){return al(au.$context,au.contentSelector)}}else{return al(f("#"+au.subjectIdPattern.replace("{id}",av),au.$context),au.contentSelector)}return f()}function S(au){var at=f();f.each(t,function(aw,av){at=at.add(P(au,av))});return at}function M(au){var at=f(au);if(at.hasClass("BVDI_FV")){return at}return at.find(".BVDI_FV:first")}function V(au){var ax=f(au);if("subjectId" in ab){return ab.subjectId}else{var at=ab.subjectIdPattern.split("{id}"),aw=at[0]?'[id ^= "'+at[0]+'"]':"",av=at[1]?'[id $= "'+at[1]+'"]':"";if(!ax.is(aw+av)){ax=ax.parents(aw+av+":first")}if(at[1]){return ax.attr("id").slice(at[0].length,-at[1].length)}else{return ax.attr("id").slice(at[0].length)}}}function I(at){if(f.isArray(at)){return at.join("."+b+" ")+"."+b}else{return at+"."+b}}function w(at){return b+at}function ap(av,au,ay,aB,aD,aA,az,ax){var aG,aC,at;if(!f.trim(ay)){return}aG=aA?f(aB):S(V(av)).find(aB);au.append(ay);aC=au.children(aB).last();function aF(aH){if(az){av.stop(true,true).addClass(az,ax)}if(aA){aC.fadeIn(aD)}else{aC.slideDown(aD)}aH.preventDefault()}function aE(aH){if(az){av.stop(true,true).removeClass(az,ax)}if(aA){aC.fadeOut(aD)}else{aC.slideUp(aD)}aH.preventDefault()}function aw(aH){if(aC.is(":visible")){aC.trigger(I("hide"))}else{aC.trigger(I("show"))}aH.preventDefault()}aC.bind(I("show"),aF);aC.bind(I("hide"),aE);aC.bind(I("toggle"),aw);if(!aA&&aG.length==1&&aC.parent().get(0)==aG.parent().get(0)){aG.hide().remove();aC.show();return}aG.each(function(){f(this).trigger(I("hide"));f(this).remove()});if(aA){aC.find(".BVDILinkClose").one(I("click"),function(aH){aE(aH)});aC.trigger(I("show"));at=aC.offsetParent().offset();aC.css({left:aA.pageX-at.left,top:aA.pageY-at.top});bvPositionWhereVisible(aC,aA.target,aA.target)}else{aC.trigger(I("show"))}}function s(aA,az,ay,aw,at,ax,av){var au=ad[ay];aA.each(function(){var aB=f(this);aB.find(".BVDI_FVVoting"+ay).each(function(){var aC=f(this);var aD=R(aC);aB.stop(true,true);if(at){aB.removeClass("BVDI_FVVisitedVotes"+ay+aw,w("VisitedVote")).removeClass("BVDI_FVDisabledVotes"+ay,w("DisabledVote"))}else{aB.addClass("BVDI_FVVisitedVotes"+ay+aw,w("VisitedVote")).addClass("BVDI_FVDisabledVotes"+ay,w("DisabledVote"))}aC.fadeOut(av,function(){var aE=E[az][ay];aa(aC,aw,at,aD);if(ax){aE=am(aC,aw,at,aE);z(aC,at,au,aE);y(aC,aw,at,aE)}Y(aC,aw,at,aD,ax,au,aE);aC.fadeIn(av,function(){aC.children(".BVDI_FVVotes").data("fvLocked",false)})})})})}function aa(at,aw,av,au){at.find(".BVDI_FVVote a").each(function(){var ay=f(this),ax=p.asJsOrHtmLink(ay);if(av){D(ay,ax);if(ay.parent().hasClass("BVDI_FV"+aw+"Undo")){ay.parent().removeClass("BVDI_FV"+aw+"Undo")}else{ak(ay)}}else{N(ay,ax);if(au&&ay.parent().hasClass("BVDI_FV"+aw)){ay.parent().addClass("BVDI_FV"+aw+"Undo");ax.setUrl(au)}else{ao(ay);L(ay)}}})}function R(at){return at.find(".BVDI_FVUndo").text()}function ao(at){at.trigger(I("mouseleave")).trigger(I("mouseup"),[true]).trigger(I("keyup"),[true])}function L(at){at.data("fvEnabled",false)}function ak(at){at.data("fvEnabled",true)}function N(at,au){if(au.getUrl()){at.data("fvPrevLink",au.getUrl());au.unsetUrl()}}function D(at,au){if(at.data("fvPrevLink")){au.setUrl(at.data("fvPrevLink"));at.removeData("fvPrevLink")}}function z(at,ay,au,ax){var aw=at.children(".BVDI_FVSum");var av=0;for(var az in ax.values){av+=ax.values[az]*au.values[az].weight
}var aA=au.sum;if(av>2){aw.replaceWith(aA[2])}else{if(av<-2){aw.replaceWith(aA[-2])}else{aw.replaceWith(aA[av])}}aw=at.children(".BVDI_FVSum");var aB=Math.abs(av);aw.find(".BVDINumber").each(function(){var aC=f(this);aC.text(aB);ag(aC.parent(),aB)})}function am(av,aw,au,at){if(!av.data("fvContentProps")){av.data("fvContentProps",f.extend(true,{},at))}at=av.data("fvContentProps");if(au){at.numEntries--;at.values[aw]--}else{at.numEntries++;at.values[aw]++}return at}function y(av,ax,au,at){var aw=av.children(".BVDI_FVCounts");ah(aw,ax,au,at.values[ax]);ah(aw,"Total",au,at.numEntries)}function ah(ax,aw,at,av){var au=ax.children(".BVDI_FV"+aw);au.find(".BVDINumber").each(function(){var ay=f(this);if(ay.children().length>0||isNaN(parseInt(ay.text()))){return}ay.text(av);ag(au,av)})}function Y(aw,ay,av,au,aA,ax,at){var az=aw.children(".BVDI_FVVotes");if(aA){ac(az,ay,av,au,ax,at)}x(az,at)}function ac(ay,ax,av,au,aw,at){ay.find(".BVDI_FV"+ax+" .BVDIValue span").each(function(){var aA=f(this);var az=aw.values[ax].undoLabel;if(!isNaN(parseInt(aA.text()))||!az){return}if(av){aA.html(aA.data("fvLabel"))}else{if(au){aA.data("fvLabel",aA.html());aA.html(az)}}});ah(ay,ax,av,at.values[ax])}function x(aw,at){for(var av in at.values){var ax=aw.children(".BVDI_FV"+av);var au=ax.children("a");if(au.data("fvEnabled")){ag(ax,at.values[av])}else{ag(ax)}}}function ag(at,au){v(at);var av;if(au===undefined){av=0}else{if(au==0){av=1}else{if(au>=1&&au<=4){av=2}else{if(au>=5&&au<=9){av=3}else{av=4}}}}at.addClass("BVDI_FVLevel"+av)}function v(at){for(i=0;i<4;i++){var au="BVDI_FVLevel"+i;if(at.hasClass(au)){at.removeClass(au)}}return at}function C(av,az,ay,ax,au){var at=av+"_"+az+"_"+ay;var aw=ar(az,ay,ax).asCookieValuePrefix();h.set(at,aw,O.cookiePath,au)}return{bindHandlers:X,applyCookies:T}}function o(r){var u,s,t;if(r.props.voting){for(u in r.props.voting.content){s=r.props.voting.content[u];for(t in s){if(s[t].submission){return true}}}}if(r.props.report){for(u in r.props.report.content){s=r.props.report.content[u];for(t in s){if(s[t].submission){return true}}}}return false}var e={};l.onPageLoad=function(v,u,r,s){var t=e[u.id]=e[u.id]||{};if(v==="container"){t.containers=t.containers||[];t.containers.push(f.extend(u.container,{$contentRoot:r}))}else{if(v==="dimensions"){t.props=t.props||{};if(u.voting){t.props.voting=t.props.voting||{};t.props.voting.dimensions=u.voting}}else{if(v==="content"){t.props=t.props||{};if(u.voting){t.props.voting=t.props.voting||{};t.props.voting.content=t.props.voting.content||{};t.props.voting.content[u.contentId]=u.voting}if(u.report){t.props.report=t.props.report||{};t.props.report.content=t.props.report.content||{};t.props.report.content[u.contentId]=u.report}}else{if(v==="onInjection"){delete e[u.id];if(t.containers&&t.props){l.onInjection(f.extend(u.options,{props:t.props,submission:o(t)}),t.containers,s)}}else{if(v==="fingerprint"&&!c){$BV.Internal.require(["deviceFingerprint"],function(w){w.setDeviceFingerprintScriptURL(u.deviceFingerprintScriptURL);w.collectFingerprint(function(x){c={devicefingerprint:x}})})}}}}}}});
$BV.Internal.define("rr/analyticsHooksRR",[window],["jquery.core","analyticsHooks"],function(a,b){b.extend(BVAnalyticsCustomizer,{eventSocialConnectRR:function(c,e){c.eName=BVAnalyticsData.E_NAME.socialConnect;var d=e.substr(e.lastIndexOf("_")+1);d=d.substr(0,1).toUpperCase()+d.substr(1);c.socialMedium=d},eventTargetReview:function(c){if(!c.eventTarget&&(c.eType===BVAnalyticsData.E_TYPE.support||c.eType===BVAnalyticsData.E_TYPE.write)){c.eventTarget=BVAnalyticsData.EVENT_TARGET.review}}});a.BVRRAnalyticsCustomizers=[new BVAnalyticsCustomizer("SocialBookmark.*",BVAnalyticsCustomizer.setEventTypeProperty(BVAnalyticsData.E_TYPE.support)),new BVAnalyticsCustomizer("SocialBookmark.*",BVAnalyticsCustomizer.linkDestinationLocationExternal),new BVAnalyticsCustomizer("Inappropriate",BVAnalyticsCustomizer.setEventTypeProperty(BVAnalyticsData.E_TYPE.support)),new BVAnalyticsCustomizer("Inappropriate",BVAnalyticsCustomizer.setEventNameProperty(BVAnalyticsData.E_NAME.inappropriate)),new BVAnalyticsCustomizer(".*Feedback",BVAnalyticsCustomizer.setEventTypeProperty(BVAnalyticsData.E_TYPE.support)),new BVAnalyticsCustomizer(".*Feedback",BVAnalyticsCustomizer.setEventNameProperty(BVAnalyticsData.E_NAME.associate)),new BVAnalyticsCustomizer("SubcribeContent",BVAnalyticsCustomizer.setEventTypeProperty(BVAnalyticsData.E_TYPE.support)),new BVAnalyticsCustomizer("SubcribeContent",BVAnalyticsCustomizer.setEventNameProperty(BVAnalyticsData.E_NAME.associate)),new BVAnalyticsCustomizer("SubcribeContent",BVAnalyticsCustomizer.setAssociationProperty(BVAnalyticsData.ASSOCIATION.subscribe)),new BVAnalyticsCustomizer("SocialBookmark.*",BVAnalyticsCustomizer.eventShoutit),new BVAnalyticsCustomizer("SocialConnect",BVAnalyticsCustomizer.eventSocialConnectRR),new BVAnalyticsCustomizer("FacebookLike.*",BVAnalyticsCustomizer.eventFacebookLike),new BVAnalyticsCustomizer("AnswerThisQ",BVAnalyticsCustomizer.setEventTypeProperty(BVAnalyticsData.E_TYPE.write)),new BVAnalyticsCustomizer("AnswerThisQ",BVAnalyticsCustomizer.setEventNameProperty(BVAnalyticsData.E_NAME.write)),new BVAnalyticsCustomizer("AnswerThisQ",BVAnalyticsCustomizer.setEventTargetProperty(BVAnalyticsData.EVENT_TARGET.answer)),new BVAnalyticsCustomizer("WriteReview",BVAnalyticsCustomizer.setEventTypeProperty(BVAnalyticsData.E_TYPE.write)),new BVAnalyticsCustomizer("WriteReview",BVAnalyticsCustomizer.setEventNameProperty(BVAnalyticsData.E_NAME.write)),new BVAnalyticsCustomizer("PostComment",BVAnalyticsCustomizer.setEventTypeProperty(BVAnalyticsData.E_TYPE.write)),new BVAnalyticsCustomizer("PostComment",BVAnalyticsCustomizer.setEventNameProperty(BVAnalyticsData.E_NAME.write)),new BVAnalyticsCustomizer("PostComment",BVAnalyticsCustomizer.setEventTargetProperty(BVAnalyticsData.EVENT_TARGET.comment)),new BVAnalyticsCustomizer("ReturnToProduct",BVAnalyticsCustomizer.setEventTypeProperty(BVAnalyticsData.E_TYPE.read)),new BVAnalyticsCustomizer("Display_Sort",BVAnalyticsCustomizer.eventSort),new BVAnalyticsCustomizer("(Prev|Next)?Page(Number)?",BVAnalyticsCustomizer.setEventNameProperty(BVAnalyticsData.E_NAME.paginate)),new BVAnalyticsCustomizer(".*Filter",BVAnalyticsCustomizer.setEventNameProperty(BVAnalyticsData.E_NAME.attributeFilter)),new BVAnalyticsCustomizer("NextQuestions",BVAnalyticsCustomizer.setEventNameProperty(BVAnalyticsData.E_NAME.paginate)),new BVAnalyticsCustomizer("NextQuestions",BVAnalyticsCustomizer.setEventTargetProperty(BVAnalyticsData.EVENT_TARGET.question)),new BVAnalyticsCustomizer("ProductLink.*",BVAnalyticsCustomizer.setEventNameProperty(BVAnalyticsData.E_NAME.productLink)),new BVAnalyticsCustomizer(".*",BVAnalyticsCustomizer.socialAndButtonElementsDispatcher),new BVAnalyticsCustomizer(".*",BVAnalyticsCustomizer.eventTargetReview)]});
$BV.Internal.define("rr/analyticsInternalLegacyHooksRR",[window],["jquery.core","analyticsHooks"],function(a,b){a.BVRRInternalLegacyCallback=function(d){var g=a.BVAnalyticsData;if(d.bvProduct!==g.PRODUCT.prr){return}var f=b.isFunction(a.BVRRInternalUseOnlyCallback);var e=d.leafCategoryId||d.categoryId||"";if(d.sortType&&d.sortDirection){if(f){a.BVRRInternalUseOnlyCallback({interactionType:"sort",productId:d.productId,categoryId:e,sortType:d.sortType,sortDirection:d.sortDirection})}}else{if(d.eventSource===g.EVENT_SOURCE.display){if(d.eType==g.E_TYPE.read){if(f){a.BVRRInternalUseOnlyCallback({interactionType:"display",numReviews:d.attributes.numReviews,productId:d.productId,categoryId:e,avgRating:d.attributes.avgRating,ratingsOnlyReviewCount:d.attributes.numRatingsOnlyReviews,recommendedPercentage:d.attributes.percentRecommend})}if(b.isFunction(a.ratingsDisplayed)){a.ratingsDisplayed(d.attributes.numReviews,d.attributes.avgRating,d.attributes.numRatingsOnlyReviews,d.attributes.percentRecommend,d.productId)}if(d.attributes.numReviews>0){if(b.isFunction(a.showReviewMarkup)){a.showReviewMarkup()}}}else{if(d.eType==g.E_TYPE.write||d.eType==g.E_TYPE.support){if(f){var c={interactionType:d.interactionType,productId:d.productId,categoryId:e};if(d.interactionOverallRating){c.overallRating=d.interactionOverallRating}a.BVRRInternalUseOnlyCallback(c)}if(d.pageName&&b.isFunction(a.pageChanged)){if(d.pageName=="ReviewSubmit"){a.pageChanged(d.pageName,"")}else{if(d.pageChangedStatus){a.pageChanged(d.pageName,d.pageChangedStatus)}else{a.pageChanged(d.pageName,d.pageStatus||"")}}}}}}}}});
$BV.Internal.define("rr/contentDisplayRR",[window],["analyticsHooks","domUtils","contentDisplay","animationQueueing"],function(b,a){var c={};b.bvHistogramMouseover=function(g,d,f,e){if(c[d]){clearTimeout(c[d])}bvExpandDivWithIEControlsFrame(f,"BVRRRatingsHistogramButtonIEControlsFrame",e);bvFocus(f);a.fireActionEvent(g)};b.bvHistogramMouseout=function(d,f,e){bvAnimationEventQueue.pushAnimationEvent(function(){c[d]=setTimeout(function(){bvCloseDivs(f,"BVRRRatingsHistogramButtonIEControlsFrame")},e)},arguments)}});
$BV.Internal.define("rr/injection.rr.replacements",[],["exports","jquery.core","injection.shared.replacements","domUtils"],function(a,c,b){c.extend(a,b,{determineTargetFrame:function(){var d=this.getComponent("BVFrame");return d?d.id:"BVFrame"},determineReturnUrlPrr:function(e,d){var g=this.determineReturnUrl(false,d);if(g&&!g.match(/^https?\:\/\//)){if(e.returnURLFixedValue){g=e.returnURLFixedValue}else{var f=this.targetWindow().location;if(g[0]!="/"){if(e.returnURLForceRelativeToRoot){g="/"+g}else{g=f.pathname.match(/(.*\/)/)[0]+g}}g=f.protocol+"//"+f.host+g}}return encodeURIComponent(g)},determineSubmissionUrl:function(e){var d;if(e){d=e.submissionContainerUrl}else{d=this.getClientDivData("ContainerPageURL")}if(!d&&e&&e.allowSamePageSubmission){d=this.targetWindow().location.href}return d?encodeURIComponent(this.stripAnchors(d)):null},determineLoginParameters:function(d){var e;if(!d){e=this.getClientDivData("LoginParameters")}return e?encodeURIComponent(e):null}})});
$BV.Internal.define("rr/injection.rr",[],["exports","jquery.core","injection","rr/injection.rr.replacements","requester"],function(d,e,b,a,c){e.extend(d,b,a,{getTargetFrame:function(){return this.determineTargetFrame()},getComponent:function(g){var i=this.targetWindow(),h=this.productId(),f=this.divOverrides(g);if(!f&&h&&!this.apiConfig()){f=i.document.getElementById(g+"_"+h)}if(!f){f=i.document.getElementById(g)}return f},getReplacements:function(h,f){var k=[];if(!f){k.push({pattern:/__BVLOGINPARAMETERS__/g,replacement:this.determineLoginParameters(f)})}k.push({pattern:/__CONFIGKEY__/g,replacement:f?c.getConfigKey(f):""});k.push({pattern:/__TARGETFRAME__/g,replacement:this.determineTargetFrame()});k.push({pattern:/__RETURN__/g,replacement:this.determineReturnUrlPrr(h,f)});k.push({pattern:/__BVSUBMISSIONURL__/g,replacement:this.determineSubmissionUrl(f)});k.push({pattern:/__BVSUBMISSIONPARAMETERS__/g,replacement:this.determineSubmissionParameters(f)});k.push({pattern:/__USERID__|__ALLOWANONYMOUS__/g,replacement:this.determineCustomerId(f)});var j=[];for(var g=0;g<k.length;++g){if(k[g].replacement!=null){j.push(k[g])}}return j},injectScriptIfNecessary:function(h,l){var k=window.parent,j=k.document,g;function i(){if(k.$BV){return true}var n=j.getElementsByTagName("script");for(var m=0;m<n.length;m++){if(n[m].getAttribute("src")===h){return true}}return false}function f(){if(k.$BV){l&&l()}else{g=g?g*2:10;k.setTimeout(f,g)}}k.setTimeout(function(){if(!i()){var m=j.createElement("script");m.type="text/javascript";m.src=h;j.getElementsByTagName("head")[0].appendChild(m)}f()},0)},getSviRedirectUrl:function(h,n,g){var i,l,j;if(h.length==5){i=h[1];l=h[3];j=h[4]}else{if(h.length>5){var f=(h.length-5);i=h[f+1];l=h[f+3];j=h[f+4]}else{return null}}var m;if(i=="reviews"){if(g){m=".djs?format=embeddedhtml"}else{m=".htm?format=embedded"}}else{if(i=="reviewsPage"){if(g){m=".djs?format=bulkembeddedhtml"}else{return null}}else{return null}}var k=n+j+"/reviews"+m;if(l>1){k+="&page="+l}return k}})});
