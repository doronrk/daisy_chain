dojo.require("wc.render.common");CommonControllersDeclarationJS={langId:"-1",storeId:"",catalogId:"",ajaxCheckOut:true,setCommonParameters:function(langId,storeId,catalogId){this.langId=langId;this.storeId=storeId;this.catalogId=catalogId;},setControllerURL:function(controllerId,url){wc.render.getRefreshControllerById(controllerId).url=url;}};wc.render.declareRefreshController({id:"CategoryDisplay_Controller",renderContext:wc.render.getContextById("CategoryDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;categoryDisplayJS.contextChanged=true;widget.refresh(renderContext.properties);},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;if(categoryDisplayJS.contextChanged&&(!categoryDisplayJS.isHistory)){var identifier="&identifier="+(new Date()).getTime();var historyObject=new categoryDisplayJS.HistoryTracker("CategoryDisplay_Widget",controller.url+identifier);dojo.back.addToHistory(historyObject);categoryDisplayJS.contextChanged=false;categoryDisplayJS.isHistory=false;}cursor_clear();try{if(typeof(ceadojo)!="undefined"){ceadojo.publish("/wc/collaboration/CategoryDisplayRefreshed",[]);}}catch(err){console.log(err);}}}),wc.render.declareRefreshController({id:"SubCategoryDisplay_Controller",renderContext:wc.render.getContextById("SubCategoryDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;categoryDisplayJS.contextChanged=true;widget.refresh(renderContext.properties);},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;if(categoryDisplayJS.contextChanged&&(!categoryDisplayJS.isHistory)){var identifier="&identifier="+(new Date()).getTime();var historyObject=new categoryDisplayJS.HistoryTracker("SubCategoryDisplay_Widget",controller.url+identifier);dojo.back.addToHistory(historyObject);categoryDisplayJS.contextChanged=false;categoryDisplayJS.isHistory=false;}cursor_clear();}}),wc.render.declareRefreshController({id:"ShopCartDisplayController",renderContext:wc.render.getContextById("ShopCartPaginationDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId in order_updated){widget.refresh(renderContext.properties);submitRequest();cursor_wait();}},postRefreshHandler:function(widget){resetRequest();var controller=this;var renderContext=this.renderContext;if(typeof(savedOrdersJS)!=null&&typeof(savedOrdersJS)!="undefined"){savedOrdersJS.isCurrentOrderPage(true);}var controller=this;if(document.getElementById("discountDetailsSection")!=null){document.getElementById("discountDetailsSection").style.display="block";}if(document.getElementById("appliedPromotionCodes")!=null){document.getElementById("appliedPromotionCodes").style.display="block";}if(!CheckoutHelperJS.isAjaxCheckOut()){CheckoutHelperJS.setFieldDirtyFlag(false);CheckoutHelperJS.initDojoEventListenerShoppingCartPage();}var orderId=renderContext.properties["orderId"];if(document.getElementById("currentOrderId")){orderId=document.getElementById("currentOrderId").value;}ShipmodeSelectionExtJS.displaySavedShipmentTypeForOrder(orderId);if(document.getElementById("OrderFirstItemId")){ShipmodeSelectionExtJS.orderItemId=document.getElementById("OrderFirstItemId").value;}dojo.query('div[id^="shoppingListScript_"]').forEach(function(node,index,nodelist){dojo.eval(node.innerHTML);});cursor_clear();}}),wc.render.declareRefreshController({id:"ShopCartPaginationDisplayController",renderContext:wc.render.getContextById("ShopCartPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();if(!CheckoutHelperJS.isAjaxCheckOut()){CheckoutHelperJS.setFieldDirtyFlag(false);CheckoutHelperJS.initDojoEventListenerShoppingCartPage();}var orderId=renderContext.properties["orderId"];if(document.getElementById("currentOrderId")){orderId=document.getElementById("currentOrderId").value;}ShipmodeSelectionExtJS.displaySavedShipmentTypeForOrder(orderId);}}),wc.render.declareRefreshController({id:"PendingOrderPaginationDisplayController",renderContext:wc.render.getContextById("PendingOrderPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"OrderItemPaginationDisplayController",renderContext:wc.render.getContextById("OrderItemPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"SSFSOrderItemPaginationDisplayController",renderContext:wc.render.getContextById("OrderItemPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;var orderStr=document.getElementById("jsonOrderStr").innerHTML;var beginIndex=this.renderContext.properties["beginIndex"];var pageSize=this.renderContext.properties["pageSize"];sterlingIntegrationJS.populateOrderLineInfoForSingleShipment(orderStr,beginIndex,pageSize);cursor_clear();}}),wc.render.declareRefreshController({id:"MSOrderItemPaginationDisplayController",renderContext:wc.render.getContextById("MSOrderItemPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"SSFSMSOrderItemPaginationDisplayController",renderContext:wc.render.getContextById("MSOrderItemPaginationDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;var orderStr=document.getElementById("jsonOrderStr").innerHTML;var beginIndex=this.renderContext.properties["beginIndex"];var pageSize=this.renderContext.properties["pageSize"];sterlingIntegrationJS.populateOrderLineInfoForMultipleShipment(orderStr,beginIndex,pageSize);cursor_clear();}}),wc.render.declareRefreshController({id:"CouponDisplay_Controller",renderContext:wc.render.getContextById("CouponDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCouponsAddRemove"||message.actionId=="AjaxWalletItemProcessServiceDelete"){widget.refresh(renderContext.properties);}}}),wc.render.declareRefreshController({id:"PromotionFreeGifts_Controller",renderContext:wc.render.getContextById("PromotionFreeGifts_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;widget.refresh(renderContext.properties);},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();PromotionChoiceOfFreeGiftsJS.showFreeGiftsDialog();}}),wc.render.declareRefreshController({id:"ListOrdersDisplay_Controller",renderContext:wc.render.getContextById("ListOrdersDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId in listorders_changed){if((message.actionId=="AjaxOrderCreate"||message.actionId=="AjaxSingleOrderCalculate")&&this.renderContext.properties["startNumber"]!=0){wc.render.updateContext("ListOrdersDisplay_Context",{"startNumber":0});}else{widget.refresh(renderContext.properties);}}},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["startNumber"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;if(savedOrdersJS.updateCurrentOrder){savedOrdersJS.initializeCurrentOrder();savedOrdersJS.updateCurrentOrder=false;}savedOrdersJS.updateToolbar();savedOrdersJS.checkAllIfNeeded();}}),wc.render.declareRefreshController({id:"PendingOrderDisplayController",renderContext:wc.render.getContextById("PendingOrderPaginationDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId in order_updated){this.currentDesc=document.getElementById("OrderDescription_input").value;widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;cursor_clear();if(this.currentDesc!=document.getElementById("OldOrderDescription").value){var inputElement=document.getElementById("OrderDescription_input");if(inputElement!=null&&inputElement!="undefined"){inputElement.value=this.currentDesc;dojo.removeClass(inputElement,"savedOrderDetailsInputBorder");dojo.addClass(inputElement,"savedOrderDetailsInputBorderWarning");}}}}),wc.render.declareRefreshController({id:"BrowsingHistoryController",renderContext:wc.render.getContextById("BrowsingHistoryContext"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["status"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){if(!document.getElementById("WC_ScrollingProductsESpot_EmptyImgContainer_BrowsingHistory")){document.getElementById("WC_LeftSidebarDisplay_div_5").style.display="block";}}}),wc.render.declareRefreshController({id:"BrowsingHistoryDisplay_Controller",renderContext:wc.render.getContextById("BrowsingHistoryDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["currentPage"])||controller.testForChangedRC(["pageView"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"CategorySubscriptionController",renderContext:wc.render.getContextById("CategorySubscriptionContext"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCategorySubscribe"){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();if(dojo.byId("CategorySubscriptionImage")==null){dojo.animateProperty({node:dojo.byId("CategorySubscriptionLink"),duration:1500,properties:{backgroundColor:{start:"yellow",end:dojo.style("CategorySubscriptionLink","backgroundColor")}}}).play();}}}),wc.render.declareRefreshController({id:"RecurringOrderDisplayController",renderContext:wc.render.getContextById("RecurringOrderDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("RecurringOrderDisplayController").url;widget.refresh(renderContext.properties);}},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"SubscriptionDisplayController",renderContext:wc.render.getContextById("SubscriptionDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("SubscriptionDisplayController").url;widget.refresh(renderContext.properties);}},renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"RecentRecurringOrderDisplayController",renderContext:wc.render.getContextById("RecentRecurringOrderDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("RecurringOrderDisplayController").url;widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"RecentSubscriptionDisplayController",renderContext:wc.render.getContextById("RecentSubscriptionDisplay_Context"),url:"",formId:"",modelChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(message.actionId=="AjaxCancelSubscription"){controller.url=wc.render.getRefreshControllerById("SubscriptionDisplayController").url;widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"RecurringOrderChildOrdersDisplayController",renderContext:wc.render.getContextById("RecurringOrderChildOrdersDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"SubscriptionChildOrdersDisplayController",renderContext:wc.render.getContextById("SubscriptionChildOrdersDisplay_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){var controller=this;var renderContext=this.renderContext;if(controller.testForChangedRC(["beginIndex"])){widget.refresh(renderContext.properties);}},postRefreshHandler:function(widget){var controller=this;var renderContext=this.renderContext;cursor_clear();}}),wc.render.declareRefreshController({id:"QuickInfoDetailsController",renderContext:wc.render.getContextById("QuickInfoContext"),url:"",formId:"",quickInfoEvenSubscribed:false,renderContextChangedHandler:function(message,widget){widget.refresh(this.renderContext.properties);},postRefreshHandler:function(widget){if(dojo.byId("QuickInfostoreParams")){var storeParams=dojo.byId("QuickInfostoreParams").value;if(dojo.byId("catEntryParamsForJS")){var catEntryParams=dojo.byId("catEntryParamsForJS").value;}var shoppingListNames=dojo.byId("QuickInfoshoppingListNames").value;shoppingListJSQuickInfo=new ShoppingListJS(dojo.fromJson(storeParams),dojo.fromJson(catEntryParams),dojo.fromJson(shoppingListNames),"shoppingListJSQuickInfo");if(!this.quickInfoEvenSubscribed){this.quickInfoEvenSubscribed=true;dojo.topic.subscribe("DefiningAttributes_Resolved",function(catEntryId,productId){shoppingListJSQuickInfo.setItemId(catEntryId,productId);});dojo.topic.subscribe("QuickInfo_attributesChanged",function(catEntryAttributes){shoppingListJSQuickInfo.setCatEntryAttributes(catEntryAttributes);});dojo.topic.subscribe("Quantity_Changed",function(catEntryQuantityObject){shoppingListJSQuickInfo.setCatEntryQuantity(catEntryQuantityObject);});dojo.topic.subscribe("ShoppingList_Changed",function(serviceResponse){shoppingListJSQuickInfo.updateShoppingListAndAddItem(serviceResponse);});dojo.topic.subscribe("ShoppingListItem_Added",function(){shoppingListJSQuickInfo.deleteItemFromCart();});dojo.connect(dojo.byId("QuickInfoaddToShoppingListDropdown"),"onmouseover",function(){shoppingListJSQuickInfo.mouseOnArrow=true;});dojo.connect(dojo.byId("QuickInfoShoppingList_0"),"onmouseover",function(){shoppingListJSQuickInfo.exceptionFlag=true;document.getElementById("QuickInfoShoppingListLink_0").focus();});}var catEntryId=dojo.fromJson(catEntryParams).id;if(null!=catEntryId&&""!=catEntryId){wc.render.updateContext("QuickInfoDiscountDetailsContext",{productId:dojo.fromJson(catEntryParams).id});}}if(dojo.byId("catEntryParamsForJS")){QuickInfoJS.catEntryParams=dojo.fromJson(dojo.byId("catEntryParamsForJS").value);}var quickInfoPopup=dijit.byId("quickInfoPopup");if(quickInfoPopup!=null){quickInfoPopup.closeButtonNode.style.display="none";closeAllDialogs();if(QuickInfoJS.itemId==""){QuickInfoJS.setCatEntryQuantity(1);QuickInfoJS.selectDefaultSwatch();}else{QuickInfoJS.selectCurrentAttributes();}quickInfoPopup.show();if(ios||android){quickInfoPopup._relativePosition=new Object();}if(typeof TealeafWCJS!="undefined"){TealeafWCJS.rebind("quickInfoPopup");}}else{console.debug("quickInfoPopup does not exist");}cursor_clear();}}),wc.render.declareRefreshController({id:"DiscountDetailsController",renderContext:wc.render.getContextById("DiscountDetailsContext"),url:"DiscountDetailsView",formId:"",renderContextChangedHandler:function(message,widget){widget.refresh(this.renderContext.properties);},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"QuickInfoDiscountDetailsController",renderContext:wc.render.getContextById("QuickInfoDiscountDetailsContext"),url:"DiscountDetailsView",formId:"",renderContextChangedHandler:function(message,widget){widget.refresh(this.renderContext.properties);},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"DoubleContentAreaESpot_Controller",renderContext:wc.render.getContextById("DoubleContentAreaESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"ScrollableESpot_Controller",renderContext:wc.render.getContextById("ScrollableESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"TopCategoriesESpot_Controller",renderContext:wc.render.getContextById("TopCategoriesESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"CategoryFeaturedProductsESpot_Controller",renderContext:wc.render.getContextById("CategoryFeaturedProductsESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"HomeHeroESpot_Controller",renderContext:wc.render.getContextById("HomeHeroESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"HomeLeftESpot_Controller",renderContext:wc.render.getContextById("HomeLeftESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"HomeRightTopESpot_Controller",renderContext:wc.render.getContextById("HomeRightTopESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"HomeRightBottomESpot_Controller",renderContext:wc.render.getContextById("HomeRightBottomESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"TallDoubleContentAreaESpot_Controller",renderContext:wc.render.getContextById("TallDoubleContentAreaESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"TopCategoryHeroESpot_Controller",renderContext:wc.render.getContextById("TopCategoryHeroESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"TopCategoryTallDoubleESpot_Controller",renderContext:wc.render.getContextById("TopCategoryTallDoubleESpot_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["emsName"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){cursor_clear();}}),wc.render.declareRefreshController({id:"AttachmentPagination_Controller",renderContext:wc.render.getContextById("AttachmentPagination_Context"),url:"",formId:"",renderContextChangedHandler:function(message,widget){if(this.testForChangedRC(["beginIndex"])){widget.refresh(this.renderContext.properties);}},postRefreshHandler:function(widget){var pagesList=document.getElementById("pages_list_id");if(pagesList!=null&&!isAndroid()&&!isIOS()){dojo.addClass(pagesList,"desktop");}cursor_clear();}});