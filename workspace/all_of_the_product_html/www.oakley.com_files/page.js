define("ProductDetails",function(){var a=$(".module-carousel"),b=$(".module-carousel-ocp"),c=a.find(".module-swipe-dots"),d=$(".m28"),e=a.find(".m18"),f=($(".module-subnav").moduleSubnav(),{});f={defaultSelection:localDefaultSelection,customConfig:{customLabel:"custom",editionsSelectionsClass:".selection.editions",inputParentClass:".checkbox.custom",closeClass:"close",sliderResultsClass:".slider.results",OCPWrapperClass:".ocp-wrapper",M31Class:".m31",ocpParentClass:"ocp",customizeLargeClass:".customize",customizeSmallClass:".customize-link",ocpIframeClass:"ocp-iframe",parentContainerClass:".module-pdhero",pageType:"eyewear",ocpStartUrl:"http://oakley.com?customid=start",carouselClickElement:"a",carouselButtonElement:"button",carouselClickElementContext:".module-carousel-ocp .slides",carouselButtonElementContext:".ocp-wrapper"}},$.ocpModules={},$.ocpModules.m31=$(".m31").moduleMovementBar(f),$.ocpModules.m49=$(".module-pdhero").modulePDHero(f),$.ocpModules.m40A=b.moduleCarouselOcp(f),d.moduleRatingsListing();var g=$(".tabs-module").moduleTabs();$(".m39").moduleAccesories(),a.moduleCarousel(),e.moduleProductGrid({swipe:!1}),$.ocpModules.m31.bind("movementchanged",function(a,b,c){var d=$('.pdhero-form input[name="productCodePost"]').val();$.ajax({type:"POST",url:filterMovementBarUrl+d,data:{movementBarData:JSON.stringify(b),_requestConfirmationToken:$('#movement-bar-form input[name="_requestConfirmationToken"]').val()},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"json",success:function(a){var b=$("div.flexslider.movement");$(b).html(a.movementBarHtml);for(var d in a.movementBarData){var e=$("div.slider.selection."+d+" div.flexslider");$('input[type="checkbox"]',e).each(function(){if(c.currentTarget.name!=$(this).attr("name")||c.currentTarget.name==$(this).attr("name")&&!c.currentTarget.checked){for(var b=!1,e=0;e<a.movementBarData[d].length;e++)if(a.movementBarData[d][e]==$(this).val()){b=!0;break}b?$(this).removeAttr("disabled"):$(this).is(":checked")||$(this).attr("disabled","disabled")}})}$(b).removeData("flexslider");var f=12,g=8;$.ocpModules.m31.moduleMovementBar("runSlider","results",f,g),flexslider=$(b).data("flexslider"),$.ocpModules.m31.moduleMovementBar("setupVariantLink")}})}),$.ocpModules.m31.bind("variantselected",function(a,b){$.ajax({type:"get",url:$(b).attr("data-href"),dataType:"html",contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(a){var b=!0;try{$.parseJSON(a)}catch(c){b=!1}if(!b){$bodyArea=$(a);var d=$("#product-detail-hero",$bodyArea),e=$("#product-detail-description",$bodyArea),g=$(".pdhero-price-number",$bodyArea).html();$(".product-price").html(g),$(".customize-product").remove(),$("#pdhero").replaceWith(d.html()),$("#pddescription").replaceWith(e.html()),$.ocpModules.m49=$(".module-pdhero").modulePDHero(f),$(".dropdown").dropdown(),updateRequestConfirmationToken(),$.globalEvents.trigger("initBVUI",{})}}})}),$(window).on("mobileMedia tabletMedia desktopMedia",function(){var b=a.find(".m18");b.moduleProductGrid({swipe:!1})}),g.on("tabSelected",function(){c.each(function(b,c){$(c).removeData("moduleSwipeDots"),$(c).moduleSwipeDots({numDots:$(a[b]).moduleCarousel("countItems")})})}),c.each(function(b,c){$(c).moduleSwipeDots({numDots:$(a[b]).moduleCarousel("countItems")})}),a.each(function(a,b){$(b).on("afterSlide",function(a,c){$(b).find(".module-swipe-dots").moduleSwipeDots("selectIndex",c)})}),$("#move-right").click(function(){$(".module-carousel").moduleCarousel("next")}),$("#move-left").click(function(){$(".module-carousel").moduleCarousel("prev")})});var Oakley=Oakley||{};Oakley.configureLoaded=function(){function a(){d.is(":visible")&&(d.fadeOut(200),Modernizr.localstorage&&localStorage.setItem("returnVisitor","true"))}var b,c,d=$("#instructions-modal"),e=$("#configureContainer"),f=e.offset(),g=e.outerHeight(),h=d.outerHeight(),i=d.outerWidth();return $.currentMedia===$.mediaTypes.MOBILE?!1:(b=f.top+g/2-h/2,b+="px",c=-(i/2),c+="px",d.css({"margin-left":c,top:b}),Modernizr.localstorage&&!localStorage.getItem("returnVisitor")&&d.fadeIn(200),$(document).on("click",function(){a()}),void $(window).on("keydown",function(b){27===b.which&&a()}))};