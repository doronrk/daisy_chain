/* CayceDetailPageAssets */
(function(j){j.execute(function(){j.when("A","jQuery","a-carousel-framework","a-carousel-transition-slide","CayceImageBlockUtils","ImageBlockATF","ImageBlockBTF").execute(function(p,e,g,h,b,c,a){h=p.extend({},h);h.gotoNextPage=function(a,c){var d=a.getAttr("firstVisibleItem"),b=e("#imageBlock li.a-carousel-card").length;d<b&&(this.gotoIndex(a,++d,c),e("#imageBlock #altImages li .a-button").removeClass("a-button-selected"),e(e("#imageBlock #altImages li .a-button")[d]).addClass("a-button-selected"))};
h.gotoPrevPage=function(a,c){var d=a.getAttr("firstVisibleItem");d>1&&(this.gotoIndex(a,--d,c),e("#imageBlock #altImages li .a-button").removeClass("a-button-selected"),e(e("#imageBlock #altImages li .a-button")[d]).addClass("a-button-selected"))};g.registerStrategy("transition","slow",h);if(a&&a.colorImages&&c&&c.colorImages)a.colorImages.initial=c.colorImages.initial,a.colorImages[a.landingAsinColor]=c.colorImages.initial;if(a&&a.heroImage&&c&&c.heroImage)a.heroImage.initial=c.heroImage.initial,
a.heroImage[a.landingAsinColor]=c.heroImage.initial;if(a&&a.colorImages&&c&&c.colorToAsin&&c.colorToAsin.initial&&c.colorToAsin.initial[0])a.initialColorToAsinMap=c.colorToAsin.initial[0].main;a.holderRatio=a&&c.holderRatio?c.holderRatio:1;a.holderMaxHeight=c.holderMaxHeight;a.useStretchyImageFix=c.useStretchyImageFix;new function(a,c,d){var b,g,k;function l(){if(DetailPage){var a=DetailPage.StateController.getState();if((a=v.getColorFromState(a.selected_variations))&&a!==""&&s(a,0)!==-1)a&&(b=a),
v.setLandingColor(a);p.on("image-block-twister-swatch-click",m)}else window.ueLogError&&window.ueLogError({message:"[Twister global variable DetailPage is not available]"},{logLevel:"FATAL",attribution:"cayce_fatal"})}function s(a,r){return n.length<1?-1:!n[a]?-1:!n[a][r]?-1:!n[a][r].main?-1:e.map(n[a][r].main,function(a){return a}).length<1?-1:n[a][r]}function q(c){var r=0,c=n[c];h.find(".item").remove();c&&e.each(c,function(c,b){if(r>=a.maxAlts)return!1;var f=r,u=h.find(".template").clone().removeClass("template").addClass("item"),
d=e("<img />").attr("src",b.thumb);f===g&&u.find(".a-button").addClass("a-button-selected");u.find(".placeHolder").replaceWith(d);u.find(".a-declarative").attr("data-designer-apparel-thumb-action",'{"index":"'+c+'", "thumbnailIndex":"'+f+'", "type": "image", "variant": "'+b.variant+'"}');h.append(u);r++})}function o(a,c){if(n.length<1)return-1;if(!n[a])return-1;if(!c)return-1;var b=-1;e.each(n[a],function(a,f){f.variant===c&&(b=a)});return b}function i(a,c){var b=0;e.each(a,function(a,f){b<f[c]&&
(b=f[c])});return b}function w(a,c){var b=e('<img class="a-dynamic-image">'),f=i(a.main,0),f="height: "+i(a.main,1)+"px; width: "+f+"px;";b.attr({"data-a-dynamic-image":JSON.stringify(a.main),"data-a-manual-replacement":!0,style:f,onload:typeof c!=="undefined"?c:""});f=e('<div class="imgTagWrapper">');f.append(b);return f}function t(a,b,d,l){if(!n[a])return-1;var q=n[a],a=f.find(".cayceCarouselTemplate").clone().removeClass("cayceCarouselTemplate").addClass("image item maintain-height"),b=e("<div>",
{id:"designer-apparel-carousel-container","class":"a-carousel-container a-carousel-static a-carousel-display-slow a-carousel-transition-slide","data-a-transition-strategy":"slow"});b.attr("data-a-carousel-options",JSON.stringify({first_item_flush_left:!0,show_partial_next:!0,hide_off_screen:!1,circular:!1,pageSize:2,name:"designer-apparel-carousel",set_size:q.length}));b.append('<form class="a-carousel-state" action="#" method="get"><input autocomplete="on" type="hidden" name="firstVisibleItem" class="a-carousel-firstvisibleitem"></form>');
var d=i(q[0].main,1),d=e('<div class="a-row a-carousel-controls a-carousel-row a-carousel-has-buttons"><div class="a-carousel-row-inner"><div class="a-carousel-col a-carousel-center"><div class="a-carousel-viewport" style="height:'+d+'px;">'),o=e('<ol class="a-carousel" aria-live="assertive" role="list">');e.each(q,function(a,c){var b=e('<li class="a-carousel-card" role="listitem">');b.append(w(c,l));o.append(b)});d.find(".a-carousel-viewport").append(o);q=e('<div class="a-carousel-col a-carousel-left"><a class="a-button a-button-image a-carousel-button a-carousel-goto-prevpage" href="#" tabindex="0"><span class="a-button-inner"><i class="a-icon a-icon-previous">');
d.find(".a-carousel-row-inner").append(q);q=e('<div class="a-carousel-col a-carousel-right"><a class="a-button a-button-image a-carousel-button a-carousel-goto-nextpage" href="#" tabindex="0"><span class="a-button-inner"><i class="a-icon a-icon-next">');d.find(".a-carousel-row-inner").append(q);b.append(d);a.find(".placeHolder").replaceWith(b);f.find(".list").prepend(a);v.loadImageManually(a.find(".a-dynamic-image"));c.createAll();c.initializeAll();return a}function m(d,e,l,i){d=(d=i?i:v.getColorFromState(e.getState().selected_variations))&&
d!==""?d:a.defaultColor;if(d===b)typeof l==="function"&&l();else{var w=0,i=0,e="MAIN",s=o(d,k);s!==-1&&(i=w=s,e=k);d&&(b=d);i&&(g=i);e&&(k=e);c.kill(f.find("#designer-apparel-carousel-container"));f.find(".image.item.maintain-height").remove();t(d,w,i,l);q(d)}}var f=e("#imageBlock .canvas"),h=e("#imageBlock #altImages ul"),v=d.init(a);navigator.userAgent.match(/ipad/i);b=a.defaultColor;g=0;k="MAIN";var n=a.colorImages;p.declarative("designer-apparel-thumb-action",["click"],function(a){var b=a.$declarativeParent.find(".a-button");
h.find(".a-button").removeClass("a-button-selected");e(b).addClass("a-button-selected").removeClass("a-button-focus");var b=h.find("li").index(b.parents("li")),d=c.getCarouselByName("designer-apparel-carousel");d||(c.createAll(),c.initializeAll());d.strategies.transition.gotoIndex(d,b);if((b=a.data)&&b.index&&b.thumbnailIndex&&b.type)a=b.thumbnailIndex,b=b.variant,a&&(g=a),b&&(k=b)});j.when("dpf").execute(l);amznJQ&&amznJQ.available("dpf",l)}(a,g,b)});j.when("A","jQuery").register("CayceImageBlockUtils",
function(j,e){var g={},h;g.setLandingColor=function(){};g.loadImageManually=function(b,c){e(b,c).each(function(){var a=e(this);if(!a.attr("data-a-image-already-loaded")){a.attr("data-a-image-already-loaded",!0);var b=g.loadDynamicImage(a),b=e("<img>").attr("src",b||a.data("a-image-source"));b.attr("data-a-hires",a.data("a-hires"));b.attr("data-old-hires",a.data("old-hires"));b.attr("data-a-manual-replacement",a.data("a-manual-replacement"));b.attr("data-a-dynamic-image",JSON.stringify(a.data("a-dynamic-image")));
var c="";c+=a.attr("class");var d=a.data("a-extra-classes");d&&(c+=" "+d);b.attr("class",c);b.attr("id",a.attr("id"));b.attr("style",a.attr("style"));a.replaceWith(b)}})};g.loadDynamicImage=function(b){var b=e(b),c=b.data("a-dynamic-image");if(c&&typeof c==="object"){var a=b.data("a-dynamic-image-container");typeof a==="undefined"&&(a=b.parents(".a-dynamic-image-container"),a.length===0&&(a=b.parent()),b.data("a-dynamic-image-container",a));var g=window.devicePixelRatio?window.devicePixelRatio:1,
h=a.width()*g,d=a.height()*g,j=Number.MAX_VALUE,p=Number.MAX_VALUE,k=b.attr("src")||"",l,s=h/d;e.each(c,function(a,b){var c=parseInt(b[0],10),e=parseInt(b[1],10);c-=d;e-=h;e=s>=1?e:c;Math.abs(e)<p&&e>=0&&(p=Math.abs(e),l=a);Math.abs(e)<j&&(j=Math.abs(e),k=a)});l&&(k=l);return k}};g.getColorFromState=function(b){if(b){var c="",a=DetailPage.StateController.getState().variation_display_labels;e.each(h.visualDimensions,function(e,g){var d=h.gIsNewTwister===1?g:a[g];b[d]&&(c+=" "+b[d])});return c&&c.substring(1)}};
g.showUnavailableExp=function(b){b&&(e("#imageBlock .unvailableVariation").html(b),e("#imageBlock .variationUnavailable").show())};g.hideUnavailableExp=function(){e("#imageBlock .unavailableExp").hide()};g.init=function(b){g.options=h=b;return g};typeof JSON!=="object"&&(JSON={});(function(){function b(a){return a<10?"0"+a:a}function c(a){g.lastIndex=0;return g.test(a)?'"'+a.replace(g,function(a){var b=j[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+
a+'"'}function a(b,e){var g,o,i,j,t=d,m,f=e[b];f&&typeof f==="object"&&typeof f.toJSON==="function"&&(f=f.toJSON(b));typeof k==="function"&&(f=k.call(e,b,f));switch(typeof f){case "string":return c(f);case "number":return isFinite(f)?String(f):"null";case "boolean":case "null":return String(f);case "object":if(!f)return"null";d+=h;m=[];if(Object.prototype.toString.apply(f)==="[object Array]"){j=f.length;for(g=0;g<j;g+=1)m[g]=a(g,f)||"null";i=m.length===0?"[]":d?"[\n"+d+m.join(",\n"+d)+"\n"+t+"]":
"["+m.join(",")+"]";d=t;return i}if(k&&typeof k==="object"){j=k.length;for(g=0;g<j;g+=1)typeof k[g]==="string"&&(o=k[g],(i=a(o,f))&&m.push(c(o)+(d?": ":":")+i))}else for(o in f)Object.prototype.hasOwnProperty.call(f,o)&&(i=a(o,f))&&m.push(c(o)+(d?": ":":")+i);i=m.length===0?"{}":d?"{\n"+d+m.join(",\n"+d)+"\n"+t+"}":"{"+m.join(",")+"}";d=t;return i}}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+
1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d,h,j={"\u0008":"\\b","\t":"\\t","\n":"\\n",
"\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;if(typeof JSON.stringify!=="function")JSON.stringify=function(b,c,e){var g;h=d="";if(typeof e==="number")for(g=0;g<e;g+=1)h+=" ";else typeof e==="string"&&(h=e);if((k=c)&&typeof c!=="function"&&(typeof c!=="object"||typeof c.length!=="number"))throw Error("JSON.stringify");return a("",{"":b})};if(typeof JSON.parse!=="function")JSON.parse=function(a,b){function c(a,e){var d,g,f=a[e];if(f&&typeof f==="object")for(d in f)Object.prototype.hasOwnProperty.call(f,
d)&&(g=c(f,d),g!==void 0?f[d]=g:delete f[d]);return b.call(a,e,f)}var d,a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),typeof b==="function"?c({"":d},""):d;throw new SyntaxError("JSON.parse");}})();return g})})})(function(){var j=
window.AmazonUIPageJS||P,p=j.attributeErrors;return p?p("CayceDetailPageAssets"):j}());