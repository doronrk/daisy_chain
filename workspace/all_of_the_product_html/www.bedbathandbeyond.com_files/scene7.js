(function(k,h,n,f,r){f.bbbS7=function(){function p(a,e){var g=this,c={oLock:{bLocked:!1,sLockMessage:"",sLockMethodName:""},oTouchData:{},oParent:e,oUserArgs:a,oJQImageWrapper:null,sImageSetID:"",sImageWrapperID:"",sStageWrapperClass:"",sStageSize:"",bHasSwatches:!1,bSetSwatchEventOnLoad:!0,oS7Objects:{oActiveObject:null,oWithSwatches:{oParams:null,oContainer:null,oFlyout:null,oMediaSet:null,oSwatches:null},oWithoutSwatches:{oParams:null,oContainer:null,oFlyout:null,oMediaSet:null,oSwatches:null}}};
g.fGetData=function(a){d.IN();d.LOG(c);d.OUT();return c};g.fDestroy=function(a){d.IN();b.oMethods.oCommon.fGetLock(c.oLock,"Destroying Scene7... please wait!",d.I())&&(b.oMethods.oCommon.fRestoreStage(c),f.fn.runAsThread(function(a,c){d.LOG('INFO!!! Active ImageSetID before delete "'+a.oParent.sActiveImageWrapperID+'"');b.oSDK.oMethods.fViewerHelper(a,!0);b.oSDK.oMethods.fParamsHelper(a,!0);b.oMethods.oCommon.fReleaseLock(a.oLock,"INFO!!! Scene7 destroyed!",d.I());b.oActiveViewers[a.sImageWrapperID]=
null;delete b.oActiveViewers[a.sImageWrapperID];Object.keys(b.oActiveViewers)[0]?(a.oParent.sActiveImageWrapperID=b.oActiveViewers[Object.keys(b.oActiveViewers)[0]].fGetData().sImageWrapperID,d.LOG('INFO!!! Active ImageSetID after delete "'+a.oParent.sActiveImageWrapperID+'"')):d.LOG("INFO!!! No more ImageSetID active now!")},e,c));d.OUT();return g};g.fSetAsset=function(a,e,f){d.IN();e=h("#"+a.sImageWrapperID);b.oMethods.oCommon.fGetLock(c.oLock,"Setting asset... please wait!",d.I())&&("string"===
typeof a.sImageSetID&&""!==a.sImageSetID.trim()?f=a.sImageSetID.trim():"undefined"!==typeof e.attr(c.oUserArgs.sImageSetDataAttrib)&&""!==e.attr(c.oUserArgs.sImageSetDataAttrib).trim()&&(f=e.attr(c.oUserArgs.sImageSetDataAttrib).trim()),""!==f?b.oMethods.oCommon.fCleanImageSetID(f)!==c.sImageSetID?(c.sImageSetID=f,b.oMethods.oCommon.fSaveImageSetID(c),b.oSDK.oMethods.fMediaSetVerifier(c)):b.oMethods.oCommon.fReleaseLock(c.oLock,"ERROR!!! ImageSetID already in use!",d.I()):b.oMethods.oCommon.fReleaseLock(c.oLock,
"ERROR!!! ImageSetID missing!",d.I()));d.OUT();return g};g.fInit=function(){d.IN();c.sImageWrapperID=c.oUserArgs.sImageWrapperID;c.oJQImageWrapper=h("#"+c.sImageWrapperID);b.oMethods.oCommon.fGetLock(c.oLock,"Initializing... please wait!",d.I())&&("string"===typeof c.oUserArgs.sImageSetID&&""!==c.oUserArgs.sImageSetID.trim()?c.sImageSetID=c.oUserArgs.sImageSetID.trim():"undefined"!==typeof c.oJQImageWrapper.attr(c.oUserArgs.sImageSetDataAttrib)&&""!==c.oJQImageWrapper.attr(c.oUserArgs.sImageSetDataAttrib).trim()&&
(c.sImageSetID=c.oJQImageWrapper.attr(c.oUserArgs.sImageSetDataAttrib).trim()),""!==c.sImageSetID?(b.oMethods.oCommon.fSaveImageSetID(c),b.oMethods.oCommon.fPrepStage(c),b.oSDK.oMethods.fInit(c)):b.oMethods.oCommon.fReleaseLock(c.oLock,"ERROR!!! ImageSetID missing!",d.I()));d.OUT();return g};return g.fInit()}var d=function(){return new function(){var a=this,b=[],d=0,c=function(a,b,c,e,f,h){e=1;f=0<a?++d:0>a?d--:d;for(h="";e<=f;e++)h+=b;return 0>a?c+h+" ":h+c+" "},f=function(){};a.WHOAMI=function(){return""};
a.I=function(a){a=b[b.length-1];return"string"===typeof a?a:""};a.IN=function(){c(1,"==",">>>")};a.OUT=function(){c(-1,"==","<<<")};a.LOG=function(){var b=[],d,e;b[0]=c(0,"   ","   ");d=0;for(e=arguments.length;d<e;d++)b[b.length]=arguments[d];return f.apply(a,b)};return a}}(),b={oS7Objects:{bVerifying:!1,oParams:null,oMediaSet:null},oActiveViewers:{},oJQ:{body:null,win:null,html:null,page:null},oSDK:{oRef:null,sName:"",oMethods:null,bInit:!1},oLock:{bLocked:!1,sLockMessage:"",sLockMethodName:""},
oSettings:{sClientID:f.config.s7ClientID||"",sImageSetDataAttrib:"data-s7ImgsetID",sImageWrapperID:"s7ProductImageWrapper",sImageSetID:"",sImageSetCommand:"qlt=85,1&op_sharpen=1&resMode=bilin",bForceScene7:!1,nTouchHoldDelay:100,nTriggerClickDelay:250,oComponents:{oMainImage:{fImageFilter:function(a,b){b="?hei="+a.oUserArgs.oComponents.oStage.oStageSize.sWithoutSwatches.split(",")[0]+"&wid="+a.oUserArgs.oComponents.oStage.oStageSize.sWithoutSwatches.split(",")[1]+"&fmt=png-alpha&"+a.oUserArgs.sImageSetCommand;
d.LOG('sFilter == "'+b+'"');return b},sImageClass:"mainProductImage"},oTip:{bEnabled:!0,sWrapperClass:"bbbS7ZoomTip",sContent:'<span class="bbbS7ZoomTipImage">&nbsp;</span><span class="bbbS7ZoomTipText">'+(f.config.isTouchDevice?f.glblStringMsgs.s7messageTextTouch||"":f.glblStringMsgs.s7messageTextDesktop||"")+"</span>"},oError:{bEnabled:!1,sWrapperClass:"bbbS7ZoomError",sContent:'<span class="bbbS7ZoomErrorText"><span class="error">'+(f.glblStringMsgs.s7ZoomErrorHTML||"")+"</span></span>"},oZoomModal:{bEnabled:!0,
bFullWidth:!1,bFullWidthOnShiftKey:!0,sWrapperClass:"bbbS7ZoomImageModal",oTip:{sWrapperClass:"bbbS7ZoomImageModalTip",sContent:'<span class="bbbS7ZoomImageModalTipText">'+(f.config.isTouchDevice?f.glblStringMsgs.s7ZoomImageModalTipTouch||"":f.glblStringMsgs.s7ZoomImageModalTip||"")+"</span>"},oProdTitle:{sContent:"",sContentSourceID:"productTitle"}},oSwatches:{bEnabled:!0,sWrapperClass:"bbbS7SwatchesContainer",sHeightFixClass:"s7SwatchesHeightFix",sWidthFixClass:"s7SwatchesWidthFix",sPositionFixClass:"s7SwatchesPositionFix"},
oContainer:{sWrapperClass:"bbbS7Container"},oLoadingOverlay:{bEnabled:!0,sOverlayClass:"bbbS7LoaderOverlay",sIconClass:"bbbS7LoaderIcon"},oStage:{oStageSize:{sWithSwatches:"395,395",sWithoutSwatches:"478,478",sExpanded:"976,488"},oWrapperClass:{sMain:"bbbS7Main",sWithSwatches:"bbbS7WithSwatches",sWithoutSwatches:"bbbS7WithoutSwatches"},sMainClass:"bbbS7ImageWrapper",sBackupClass:"bbbS7Backup",sContainerTipWrapperClass:"bbbS7ContainerTipWrapper"}},oScene7Params:{serverurl:f.fn.getUrl("s7MainURL")||
"",iscommand:"","s7MediaSet[sImageWrapperID].asset":"BedBathandBeyond/blankimage","s7Container[sImageWrapperID].stagesize":"","s7Swatches[sImageWrapperID].tmblayout":"1,5","s7Swatches[sImageWrapperID].fmt":"png-alpha","s7Swatches[sImageWrapperID].textpos":"none","s7Swatches[sImageWrapperID].enabledragging":"0","s7Swatches[sImageWrapperID].enablescrollbuttons":"0","s7Swatches[sImageWrapperID].cellspacing":"0,20","s7Swatches[sImageWrapperID].align":"left,top","s7Flyout[sImageWrapperID].highlightmode":"highlight,0.1",
"s7Flyout[sImageWrapperID].overlay":"0","s7Flyout[sImageWrapperID].zoomfactor":"5.0,-1","s7Flyout[sImageWrapperID].transition":"none","s7Flyout[sImageWrapperID].flyouttransition":"none","s7Flyout[sImageWrapperID].frametransition":"none","s7Flyout[sImageWrapperID].clicktoactivate":"0","s7Flyout[sImageWrapperID].tip":"0,0,0"}},oMethods:{oCommon:{fGetPrimaryDOMNodes:function(){h.extend(b.oJQ,{body:h("body"),win:h(k),html:h("html"),page:h("html. body")})},fIsLocked:function(a,b){b=!1;"object"===typeof a&&
(b=!!a.bLocked)&&d.LOG('Lock already applied! { message: "'+a.sLockMessage.trim()+'", method: "'+a.sLockMethodName.trim()+'" }');return b},fGetLock:function(a,e,g,c){c=!1;b.oMethods.oCommon.fIsLocked(a)||(a.bLocked=!0,a.sLockMessage="",a.sLockMethodName="","string"===typeof e&&(a.sLockMessage=e),"string"===typeof g&&(a.sLockMethodName=g),d.LOG('Lock applied! { message: "'+a.sLockMessage.trim()+'", method: "'+a.sLockMethodName.trim()+'" }'),c=!0);return c},fReleaseLock:function(a,b,g,c){c=!1;"object"===
typeof a&&("string"!==typeof b&&(b=""),"string"!==typeof g&&(g=""),a.bLocked=!1,a.sLockMessage="",a.sLockMethodName="",d.LOG('Lock released! { message: "'+b.trim()+'", method: "'+g.trim()+'" }'),c=!0);return c},fCleanImageSetID:function(a){a="string"===typeof a&&""!==a.trim()?a.replace(/.*\/|\?.*|\s|_is|%5Fis/ig,"")+"%5Fis":"";d.LOG('sImageSetID == "'+a+'"');return a},fGetUniqueURL:function(a){a="string"===typeof a&&""!==a.trim()?f.fn.updateUrlParameter("__bbbTimeStamp",f.fn.getUID(),a):"";d.LOG('sURL == "'+
a+'"');return a},fSaveImageSetID:function(a,e){d.IN();"undefined"!==typeof a&&(e=b.oMethods.oCommon.fCleanImageSetID(a.sImageSetID),a.sImageSetID=e,a.oUserArgs.sImageSetID=e,a.oUserArgs.oScene7Params["s7MediaSet[sImageWrapperID].asset"]=a.oUserArgs.sClientID+"/"+e,a.oJQImageWrapper.attr(a.oUserArgs.sImageSetDataAttrib,e).find("."+a.oUserArgs.oComponents.oMainImage.sImageClass).attr({src:b.oMethods.oCommon.fGetUniqueURL(f.fn.getUrl("s7URL")+e+a.oUserArgs.oComponents.oMainImage.fImageFilter(a)),height:a.oUserArgs.oComponents.oStage.oStageSize.sWithoutSwatches.split(",")[0],
width:a.oUserArgs.oComponents.oStage.oStageSize.sWithoutSwatches.split(",")[1]}));d.OUT()},fPrepStage:function(a){d.IN();a.oJQImageWrapper.addClass(a.oUserArgs.oComponents.oStage.sMainClass).wrapInner('<div id="'+a.oUserArgs.oComponents.oStage.sBackupClass+"_"+a.sImageWrapperID+'" class="'+a.oUserArgs.oComponents.oStage.sBackupClass+' hidden"></div>');a.oJQImageWrapper.append('<div id="'+a.oUserArgs.oComponents.oStage.oWrapperClass.sMain+"_"+a.sImageWrapperID+'" class="'+a.oUserArgs.oComponents.oStage.oWrapperClass.sMain+
' hidden"></div>');a.oJQImageWrapper.append('<div id="'+a.oUserArgs.oComponents.oError.sWrapperClass+"_"+a.sImageWrapperID+'" class="'+a.oUserArgs.oComponents.oError.sWrapperClass+' hidden">'+a.oUserArgs.oComponents.oError.sContent+"</div>");a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.oWrapperClass.sMain).append('<div id="'+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches+"_"+a.sImageWrapperID+'" class="'+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches+' hidden"></div>').append('<div id="'+
a.oUserArgs.oComponents.oStage.oWrapperClass.sWithoutSwatches+"_"+a.sImageWrapperID+'" class="'+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithoutSwatches+' hidden"></div>');a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithoutSwatches).append('<div id="'+a.oUserArgs.oComponents.oContainer.sWrapperClass+"_"+a.sImageWrapperID+"_"+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithoutSwatches+'" class="'+a.oUserArgs.oComponents.oContainer.sWrapperClass+'"></div>').append('<div id="'+
a.oUserArgs.oComponents.oTip.sWrapperClass+"_"+a.sImageWrapperID+"_"+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithoutSwatches+'" class="'+a.oUserArgs.oComponents.oTip.sWrapperClass+' hidden">'+a.oUserArgs.oComponents.oTip.sContent+"</div>").append('<div id="'+a.oUserArgs.oComponents.oSwatches.sWrapperClass+"_"+a.sImageWrapperID+"_"+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithoutSwatches+'" class="'+a.oUserArgs.oComponents.oSwatches.sWrapperClass+' hidden"></div>');a.oJQImageWrapper.find("."+
a.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches).append('<div id="'+a.oUserArgs.oComponents.oStage.sContainerTipWrapperClass+"_"+a.sImageWrapperID+'" class="'+a.oUserArgs.oComponents.oStage.sContainerTipWrapperClass+'"></div>').append('<div id="'+a.oUserArgs.oComponents.oSwatches.sWrapperClass+"_"+a.sImageWrapperID+"_"+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches+'" class="'+a.oUserArgs.oComponents.oSwatches.sWrapperClass+' hidden"></div>').append('<div class="clear"></div>');
a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.sContainerTipWrapperClass).append('<div id="'+a.oUserArgs.oComponents.oContainer.sWrapperClass+"_"+a.sImageWrapperID+"_"+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches+'" class="'+a.oUserArgs.oComponents.oContainer.sWrapperClass+'"></div>').append('<div id="'+a.oUserArgs.oComponents.oTip.sWrapperClass+"_"+a.sImageWrapperID+"_"+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches+'" class="'+a.oUserArgs.oComponents.oTip.sWrapperClass+
' hidden">'+a.oUserArgs.oComponents.oTip.sContent+"</div>");a.oJQImageWrapper.append('<div class="'+a.oUserArgs.oComponents.oLoadingOverlay.sOverlayClass+' hidden"></div>');a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithoutSwatches).find("."+a.oUserArgs.oComponents.oContainer.sWrapperClass).append('<div class="'+a.oUserArgs.oComponents.oLoadingOverlay.sIconClass+' hidden"></div>');a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches).find("."+
a.oUserArgs.oComponents.oContainer.sWrapperClass).append('<div class="'+a.oUserArgs.oComponents.oLoadingOverlay.sIconClass+' hidden"></div>');a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.sBackupClass).append('<div class="'+a.oUserArgs.oComponents.oLoadingOverlay.sIconClass+' hidden"></div>');d.OUT()},fShowSwatches:function(a,b,g){d.IN();a.oUserArgs.oComponents.oSwatches.bEnabled&&(b=a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches).find("."+a.oUserArgs.oComponents.oSwatches.sWrapperClass),
b.show().removeClass("hidden"),b.find("div").not(".s7thumbcell, .s7thumb, .s7thumboverlay, .s7button").addClass(a.oUserArgs.oComponents.oSwatches.sHeightFixClass).addClass(a.oUserArgs.oComponents.oSwatches.sWidthFixClass),"1"===a.oUserArgs.oScene7Params["s7Swatches[sImageWrapperID].enablescrollbuttons"]?3<b.find("div.s7swatches .s7thumb").length&&(b.find("div.s7swatches > div").not(".s7button").addClass(a.oUserArgs.oComponents.oSwatches.sPositionFixClass),b.find("div.s7swatches > div, div.s7swatches > div > div").removeClass(a.oUserArgs.oComponents.oSwatches.sWidthFixClass)):
(g=b.find("div.s7swatches > div > div").removeClass(a.oUserArgs.oComponents.oSwatches.sHeightFixClass).height(),"number"===typeof g&&b.find("div.s7swatches, div.s7swatches > div, div.s7swatches > div > div").andSelf().removeClass(a.oUserArgs.oComponents.oSwatches.sHeightFixClass).css("height",g+"px")));d.OUT()},fLoader:function(a,b){d.IN();a.oUserArgs.oComponents.oLoadingOverlay.bEnabled&&(b?(a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oLoadingOverlay.sOverlayClass).removeClass("hidden").show(),
a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oLoadingOverlay.sIconClass).removeClass("hidden").show()):(a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oLoadingOverlay.sOverlayClass).removeClass("hidden").hide(),a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oLoadingOverlay.sIconClass).removeClass("hidden").hide()));d.OUT()},fHideSwatches:function(a){d.IN();a.oUserArgs.oComponents.oSwatches.bEnabled&&a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oSwatches.sWrapperClass).hide().removeClass("hidden");
d.OUT()},fShowS7:function(a){d.IN();a.oJQImageWrapper.removeClass("loadingGIF");a.oUserArgs.oComponents.oError.bEnabled&&a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oError.sWrapperClass).hide().removeClass("hidden");a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.sBackupClass).hide().removeClass("hidden");a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.oWrapperClass.sMain).show().removeClass("hidden");a.oUserArgs.oComponents.oTip.bEnabled&&a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oTip.sWrapperClass).show().removeClass("hidden");
b.oMethods.oCommon.fShowSwatches(a);d.OUT()},fShowZoomImageModal:function(a,e){d.IN();if(!("string"!==typeof a||""===a.trim())){var g=b.oJQ.win.width(),c=b.oJQ.win.height(),l=c-72,c=c-72,g=g-72,m,q=e.oUserArgs.oComponents.oZoomModal.bFullWidth||e.bShiftKey&&e.oUserArgs.oComponents.oZoomModal.bFullWidthOnShiftKey?' width="'+g+'" ':' height="'+l+'" width="'+c+'" ',k={open:function(a,d){h(".ui-widget-overlay, .ui-dialog").one("click.bbbS7 touchstart",function(a){try{b.oSDK.oRef.Event.preventDefault(a)}catch(d){}a.stopPropagation();
a.stopImmediatePropagation();try{h("#bbbS7ZoomImageDIV").closest(".ui-dialog-content").dialog("destroy").remove(),h("#bbbS7ZoomImageDIV").remove()}catch(c){}})},dialogClass:e.oUserArgs.oComponents.oZoomModal.sWrapperClass};a=f.fn.updateUrlParameter("op_sharpen","1",a);a=f.fn.updateUrlParameter("resMode","bilin",a);a=f.fn.updateUrlParameter("qlt","85,1",a);a=f.fn.updateUrlParameter("fmt","png-alpha",a);a=f.fn.removeUrlParameter("fit",a);e.oUserArgs.oComponents.oZoomModal.bFullWidth||e.bShiftKey&&e.oUserArgs.oComponents.oZoomModal.bFullWidthOnShiftKey?
(a=f.fn.removeUrlParameter("hei",a),a=f.fn.updateUrlParameter("wid",g,a),k=h.extend(!0,{},k,{width:g+20})):(a=f.fn.updateUrlParameter("hei",l,a),a=f.fn.updateUrlParameter("wid",c,a),k=h.extend(!0,{},k,{width:c+20}));e.bShiftKey=!1;try{h("#bbbS7ZoomImageDIV").closest(".ui-dialog-content").dialog("destroy").remove(),h("#bbbS7ZoomImageDIV").remove()}catch(n){}f.eventTarget.append('<div id="bbbS7ZoomImageDIV" class="hidden"><img id="bbbS7ZoomImage" alt="" '+q+' src="'+a+'" /><p class="'+e.oUserArgs.oComponents.oZoomModal.oTip.sWrapperClass+
'">'+e.oUserArgs.oComponents.oZoomModal.oTip.sContent+"</p></div>");l=h("#bbbS7ZoomImage");m=h("#bbbS7ZoomImageDIV");f.modalDialog.openPreloader();l.one("load",function(){f.modalDialog.closePreloader();m.removeClass("hidden");f.modalDialog.openDialog({wrapperSetting:{type:"html",showPreloader:!1,modalContentHTML:m},uiDialiogSettings:k})}).one("error",function(){f.modalDialog.closePreloader();f.openDialog({sTitle:f.fn.getString("errZoomImageLoadFail")})}).each(function(){(h.browser.msie||h.browser.isChrome||
h.browser.isSafari)&&this.complete&&h(this).load()}).attr({src:a});d.OUT()}},fTriggerMouseEvent:function(a,b,g,c){d.IN();g=b?"mouseover":"mouseout";a&&(n.createEvent?(c=n.createEvent("MouseEvents"),c.initEvent(g,!0,!1),a.dispatchEvent(c)):n.createEventObject&&a.fireEvent("on"+g));d.OUT()},fRestoreStage:function(a){d.IN();a.oJQImageWrapper.html(a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.sBackupClass).html());d.OUT()},fHideS7:function(a){d.IN();a.oJQImageWrapper.removeClass("loadingGIF");
a.oUserArgs.oComponents.oError.bEnabled&&a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oError.sWrapperClass).show().removeClass("hidden");a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.sBackupClass).show().removeClass("hidden");a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.oWrapperClass.sMain).hide().removeClass("hidden");d.OUT()},fGetData:function(a){d.IN();d.OUT();return a&&a.oParent&&a.oParent.sActiveImageWrapperID&&b.oActiveViewers[a.oParent.sActiveImageWrapperID]?
b.oActiveViewers[a.oParent.sActiveImageWrapperID].fGetData():{}}},oHTML5:{fInit:function(a){d.IN();!1===b.oSDK.bInit&&b.oSDK.oMethods.fInitSDK(a);b.oSDK.oMethods.fMediaSetVerifier(a);d.OUT()},fInitSDK:function(a){d.IN();var e=b.oSDK.oRef.set.MediaSet.prototype.requestError,g=b.oSDK.oRef.Thumb.prototype.setSelected,c=b.oSDK.oRef.FlyoutView.prototype.errorHandler,l=b.oSDK.oRef.FlyoutView.prototype.completeHandler,m=b.oSDK.oRef.FlyoutView.prototype.moveZoomViewPort,q=b.oSDK.oRef.FlyoutView.prototype.mouseClickHandler,
n=b.oSDK.oRef.FlyoutView.prototype.mouseOverHandler,p=b.oSDK.oRef.FlyoutView.prototype.mouseOutHandler;b.oSDK.oRef.FlyoutView.prototype.errorHandler=function(e){d.IN();a=b.oMethods.oCommon.fGetData(a);b.oMethods.oCommon.fLoader(a,!1);c.apply(this,arguments);b.oS7Objects.bVerifying=!1;b.oMethods.oCommon.fHideS7(a);d.LOG("ERROR!!! Failed to load flyout image",d.WHOAMI());d.OUT()};b.oSDK.oRef.FlyoutView.prototype.completeHandler=function(c){d.IN();a=b.oMethods.oCommon.fGetData(a);b.oMethods.oCommon.fLoader(a,
!1);l.apply(this,arguments);d.OUT()};b.oSDK.oRef.set.MediaSet.prototype.requestError=function(c){d.IN();a=b.oMethods.oCommon.fGetData(a);b.oS7Objects.bVerifying=!1;b.oMethods.oCommon.fHideS7(a);b.oMethods.oCommon.fLoader(a,!1);e.apply(this,arguments);b.oMethods.oCommon.fReleaseLock(a.oLock,"ERROR!!! ImageSetID load failed!",d.WHOAMI());d.OUT()};b.oSDK.oRef.Thumb.prototype.setSelected=function(c){d.IN();a=b.oMethods.oCommon.fGetData(a);g.apply(this,arguments);h(this.imgDiv).removeClass("s7thumbhover s7thumbactive");
this.selected_&&h(this.imgDiv).addClass("s7thumbactive");d.OUT()};b.oSDK.oRef.FlyoutView.prototype.moveZoomViewPort=function(){d.IN();a=b.oMethods.oCommon.fGetData(a);f.config.isTouchDevice&&a.oTouchData.bTouchEnded?b.oSDK.oMethods.fCleanupFlyout(a):(m.apply(this,arguments),d.OUT())};b.oSDK.oRef.FlyoutView.prototype.click=function(){d.IN();a=b.oMethods.oCommon.fGetData(a);a.oUserArgs.oComponents.oZoomModal.bEnabled&&(b.oSDK.oMethods.fCleanupFlyout(a),b.oMethods.oCommon.fShowZoomImageModal(this.imageUrl,
a));d.OUT()};b.oSDK.oRef.FlyoutView.prototype.mouseClickHandler=function(c){d.IN();a=b.oMethods.oCommon.fGetData(a);if(a.oUserArgs.oComponents.oZoomModal.bEnabled&&(b.oSDK.oMethods.fCleanupFlyout(a),f.config.isTouchDevice))return;"undefined"!==typeof c&&("boolean"===typeof c.shiftKey&&!0===c.shiftKey)&&(a.bShiftKey=!0);q.apply(this,arguments);d.OUT()};b.oSDK.oRef.FlyoutView.prototype.mouseOverHandler=function(c){d.IN();a=b.oMethods.oCommon.fGetData(a);b.oSDK.oMethods.fExpandS7Container(a);n.apply(this,
arguments);d.OUT()};b.oSDK.oRef.FlyoutView.prototype.mouseOutHandler=function(c){d.IN();a=b.oMethods.oCommon.fGetData(a);b.oSDK.oMethods.fCollapseS7Container(a);p.apply(this,arguments);d.OUT()};b.oSDK.oRef.FlyoutView.prototype.touchStartHandler=function(c){d.IN();a=b.oMethods.oCommon.fGetData(a);var e,g,f=this;b.oSDK.oMethods.fCleanupFlyout(a);a.oTouchData.bUserTappedAndHolding=null;this.startHandlerTime=c.timeStamp;a.oTouchData.oTouches={touches:c.touches,x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};
a.oTouchData.bTouchEnded=!1;e=b.oSDK.oRef.Util.getEventPos(c).x-b.oSDK.oRef.Util.getObjPos(f.imageDiv).x;g=b.oSDK.oRef.Util.getEventPos(c).y-b.oSDK.oRef.Util.getObjPos(f.imageDiv).y;1===c.touches.length&&(a.oTouchData.nDetectTapAndHoldTimer=k.setTimeout(function(){if("undefined"===typeof a.oTouchData.bUserTappedAndHolding||null===a.oTouchData.bUserTappedAndHolding)b.oSDK.oMethods.fExpandS7Container(a),f.clickToActivate||f.activateFlyout(),a.oTouchData.bShowFlyoutOnTouchMove=!0,a.oTouchData.bUserTappedAndHolding=
!0,f.moveZoomViewPort(e,g)},a.oUserArgs.nTouchHoldDelay));d.OUT()};b.oSDK.oRef.FlyoutView.prototype.touchEndHandler=function(c,e,g,f,h){d.IN();a=b.oMethods.oCommon.fGetData(a);b.oSDK.oMethods.fCleanupFlyout(a);b.oSDK.oRef.Event.preventDefault(c);f=c.changedTouches[0].clientX;h=c.changedTouches[0].clientY;1===a.oTouchData.oTouches.touches.length&&(a.oTouchData.oTouches.x===f&&a.oTouchData.oTouches.y===h&&c.timeStamp-this.startHandlerTime<a.oUserArgs.nTriggerClickDelay)&&this.click();this.startHandlerTime=
0;d.OUT()};b.oSDK.oRef.FlyoutView.prototype.touchMoveHandler=function(c){d.IN();a=b.oMethods.oCommon.fGetData(a);var e;if(a.oTouchData.bShowFlyoutOnTouchMove){a.oTouchData.nDetectTapAndHoldTimer&&k.clearTimeout(a.oTouchData.nDetectTapAndHoldTimer);a.oTouchData.bTouchEnded=!1;b.oSDK.oRef.Event.preventDefault(c);b.oSDK.oMethods.fExpandS7Container(a);e=b.oSDK.oRef.Util.getEventPos(c).x-b.oSDK.oRef.Util.getObjPos(this.imageDiv).x;c=b.oSDK.oRef.Util.getEventPos(c).y-b.oSDK.oRef.Util.getObjPos(this.imageDiv).y;
if(e>this.realWidth||c>this.realHeight||0>e||0>c){this.stopHandler();b.oMethods.oCommon.fTriggerMouseEvent(a.oJQImageWrapper.find(".s7flyoutzoomview")[0]);return}this.moveZoomViewPort(e,c)}d.OUT()};b.oSDK.bInit=!0;d.OUT()},fMediaSetVerifier:function(a){d.IN();var e=function(){d.IN();b.oS7Objects.oMediaSet=new b.oSDK.oRef.MediaSet(null,b.oS7Objects.oParams,null);b.oS7Objects.oMediaSet.addEventListener(b.oSDK.oRef.event.AssetEvent.NOTF_SET_PARSED,g,!1);d.OUT()},g=function(c){d.IN();a=b.oMethods.oCommon.fGetData(a);
1<c.s7event.asset.items.length&&a.oUserArgs.oComponents.oSwatches.bEnabled?(a.bHasSwatches=!0,a.oS7Objects.oActiveObject=a.oS7Objects.oWithSwatches,a.sStageWrapperClass=a.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches,a.sStageSize=a.oUserArgs.oComponents.oStage.oStageSize.sWithSwatches,a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches).show().removeClass("hidden"),a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithoutSwatches).hide().removeClass("hidden")):
(a.bHasSwatches=!1,a.oS7Objects.oActiveObject=a.oS7Objects.oWithoutSwatches,a.sStageWrapperClass=a.oUserArgs.oComponents.oStage.oWrapperClass.sWithoutSwatches,a.sStageSize=a.oUserArgs.oComponents.oStage.oStageSize.sWithoutSwatches,a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches).hide().removeClass("hidden"),a.oJQImageWrapper.find("."+a.oUserArgs.oComponents.oStage.oWrapperClass.sWithoutSwatches).show().removeClass("hidden"));f.fn.runAsThread(function(a){b.oS7Objects.bVerifying=
!1;b.oSDK.oMethods.fParamsHelper(a)},b,a);d.OUT()};b.oS7Objects.bVerifying=!0;null===b.oS7Objects.oParams?(b.oS7Objects.oParams=new b.oSDK.oRef.ParameterManager,b.oS7Objects.oParams.push("serverurl",a.oUserArgs.oScene7Params.serverurl),b.oS7Objects.oParams.push("asset",a.oUserArgs.oScene7Params["s7MediaSet[sImageWrapperID].asset"]),b.oS7Objects.oParams.addEventListener(b.oSDK.oRef.Event.SDK_READY,e,!1),b.oS7Objects.oParams.init()):(b.oMethods.oCommon.fLoader(a,!0),b.oS7Objects.oMediaSet.setAsset(a.oUserArgs.sClientID+
"/"+a.sImageSetID));d.OUT()},fParamsHelper:function(a,e){d.IN();var g=function(){b.oSDK.oMethods.fViewerHelper(a)};"undefined"===typeof e||"boolean"===typeof e&&!1===e?null===a.oS7Objects.oActiveObject.oParams?(a.oS7Objects.oActiveObject.oParams=new b.oSDK.oRef.ParameterManager,a.oS7Objects.oActiveObject.oParams.addEventListener(b.oSDK.oRef.Event.SDK_READY,g,!0),a.oS7Objects.oActiveObject.oParams.init()):a.oS7Objects.oActiveObject.oMediaSet.setAsset(a.oUserArgs.sClientID+"/"+a.sImageSetID):(a.oS7Objects.oActiveObject=
null,null!==a.oS7Objects.oWithSwatches.oParams&&(a.oS7Objects.oWithSwatches.oParams.removeEventListener(b.oSDK.oRef.Event.SDK_READY,g,!0),a.oS7Objects.oWithSwatches.oParams=null),null!==a.oS7Objects.oWithoutSwatches.oParams&&(a.oS7Objects.oWithoutSwatches.oParams.removeEventListener(b.oSDK.oRef.Event.SDK_READY,g,!0),a.oS7Objects.oWithoutSwatches.oParams=null));d.OUT()},fCollapseS7Container:function(a){d.IN();a.oJQImageWrapper.find(".s7container").css({width:a.sStageSize.split(",")[0]+"px",height:a.sStageSize.split(",")[1]+
"px"});d.OUT()},fExpandS7Container:function(a){d.IN();a.oJQImageWrapper.find(".s7container").css({width:a.oUserArgs.oComponents.oStage.oStageSize.sExpanded.split(",")[0]+"px",height:a.oUserArgs.oComponents.oStage.oStageSize.sExpanded.split(",")[1]+"px"});d.OUT()},fCleanupFlyout:function(a){d.IN();a.oTouchData.nDetectTapAndHoldTimer&&k.clearTimeout(a.oTouchData.nDetectTapAndHoldTimer);a.oTouchData.bShowFlyoutOnTouchMove=!1;a.oTouchData.bUserTappedAndHolding=!1;a.oTouchData.bTouchEnded=!0;b.oMethods.oCommon.fTriggerMouseEvent(a.oJQImageWrapper.find(".s7flyoutzoomview")[0]);
b.oSDK.oMethods.fCollapseS7Container(a);d.OUT()},fSwatchesHandler_SWATCH_PAGE_CHANGE:function(a,e,g){d.IN();e=b.oMethods.oCommon.fGetData(e);g=e.oJQImageWrapper.find("."+e.oUserArgs.oComponents.oStage.oWrapperClass.sWithSwatches).find("."+e.oUserArgs.oComponents.oSwatches.sWrapperClass);"1"===e.oUserArgs.oScene7Params["s7Swatches[sImageWrapperID].enablescrollbuttons"]&&4<g.find("div.s7swatches .s7thumbcell").length&&(0===e.oS7Objects.oActiveObject.oSwatches.getCurrentPage().x?(g.find("div.s7scrollleftbutton").addClass("s7scrollbuttondisabled"),
g.find("div.s7scrollrightbutton").removeClass("s7scrollbuttondisabled")):(g.find("div.s7scrollleftbutton").removeClass("s7scrollbuttondisabled"),g.find("div.s7scrollrightbutton").addClass("s7scrollbuttondisabled")));d.OUT()},fSwatchesHandler_SWATCH_SELECTED_EVENT:function(a,e){d.IN();e=b.oMethods.oCommon.fGetData(e);b.oMethods.oCommon.fLoader(e,!0);e.oS7Objects.oActiveObject.oFlyout.setItem(a.s7event.asset);b.oSDK.oMethods.fSwatchesHandler_SWATCH_PAGE_CHANGE.call(b.oSDK.oRef,a,e);e.bSetSwatchEventOnLoad||
"function"===typeof pdpOmnitureProxy&&"undefined"!==typeof e.oJQImageWrapper.attr("data-parentProdId")&&pdpOmnitureProxy(e.oJQImageWrapper.attr("data-parentProdId"),"altproductview");d.OUT()},fMediaSetHandler_NOTF_SET_PARSED:function(a,e){d.IN();e=b.oMethods.oCommon.fGetData(e);b.oMethods.oCommon.fShowS7(e);e.oS7Objects.oActiveObject.oSwatches.setMediaSet(a.s7event.asset);b.oMethods.oCommon.fShowSwatches(e);e.oS7Objects.oActiveObject.oSwatches.selectSwatch(0,!0);e.oS7Objects.oActiveObject.oSwatches.dispatchEvent(new b.oSDK.oRef.event.AssetEvent(b.oSDK.oRef.event.AssetEvent.SWATCH_SELECTED_EVENT,
a.s7event.asset.items[0],0,!0));e.bHasSwatches&&(e.bSetSwatchEventOnLoad=!1);e.oJQImageWrapper.find("."+e.oUserArgs.oComponents.oSwatches.sWrapperClass).find('.s7thumb[state="selected"]').addClass("s7thumbactive").removeClass("s7thumbhover");b.oMethods.oCommon.fReleaseLock(e.oLock,"ImageSetID successfully loaded!",d.I());d.OUT()},fViewerHelper:function(a,e){d.IN();var g=function(c){b.oSDK.oMethods.fMediaSetHandler_NOTF_SET_PARSED.call(b.oSDK.oRef,c,a)},c=function(c){b.oSDK.oMethods.fSwatchesHandler_SWATCH_SELECTED_EVENT.call(b.oSDK.oRef,
c,a)},l=function(c){b.oSDK.oMethods.fSwatchesHandler_SWATCH_PAGE_CHANGE.call(b.oSDK.oRef,c,a)};"undefined"===typeof e||"boolean"===typeof e&&!1===e?(f.eventTarget.delegate("#"+a.sImageWrapperID+" ."+a.oUserArgs.oComponents.oSwatches.sWrapperClass+" .s7thumb","mouseover.bbbS7",function(a){d.IN();h(this).not('[state="selected"]').addClass("s7thumbhover");d.OUT()}),f.eventTarget.delegate("#"+a.sImageWrapperID+" ."+a.oUserArgs.oComponents.oSwatches.sWrapperClass+" .s7thumb","mouseout.bbbS7",function(a){d.IN();
h(this).removeClass("s7thumbhover");d.OUT()}),f.eventTarget.delegate("#"+a.sImageWrapperID+" ."+a.oUserArgs.oComponents.oSwatches.sWrapperClass+" .s7button","mouseover.bbbS7",function(a){d.IN();h(this).not('[state="disabled"]').addClass("s7scrollbuttonhover");d.OUT()}),f.eventTarget.delegate("#"+a.sImageWrapperID+" ."+a.oUserArgs.oComponents.oSwatches.sWrapperClass+" .s7button","mouseout.bbbS7",function(a){d.IN();h(this).removeClass("s7scrollbuttonhover");d.OUT()}),b.oSDK.oMethods.fExpandS7Container(a),
h.each(a.oUserArgs.oScene7Params,function(b,c){-1<b.toLowerCase().indexOf("iscommand")&&(c=a.oUserArgs.sImageSetCommand);-1<b.toLowerCase().indexOf("stagesize")&&(c=a.oUserArgs.oComponents.oStage.oStageSize.sExpanded);a.oS7Objects.oActiveObject.oParams.push(b.replace("[sImageWrapperID]","_"+a.sImageWrapperID+"_"+a.sStageWrapperClass),c)}),a.oS7Objects.oActiveObject.oContainer=new b.oSDK.oRef.Container(a.oUserArgs.oComponents.oContainer.sWrapperClass+"_"+a.sImageWrapperID+"_"+a.sStageWrapperClass,
a.oS7Objects.oActiveObject.oParams,"s7Container_"+a.sImageWrapperID+"_"+a.sStageWrapperClass),a.oS7Objects.oActiveObject.oMediaSet=new b.oSDK.oRef.MediaSet(null,a.oS7Objects.oActiveObject.oParams,"s7MediaSet_"+a.sImageWrapperID+"_"+a.sStageWrapperClass),a.oS7Objects.oActiveObject.oSwatches=new b.oSDK.oRef.Swatches(a.oUserArgs.oComponents.oSwatches.sWrapperClass+"_"+a.sImageWrapperID+"_"+a.sStageWrapperClass,a.oS7Objects.oActiveObject.oParams,"s7Swatches_"+a.sImageWrapperID+"_"+a.sStageWrapperClass),
a.oS7Objects.oActiveObject.oFlyout=new b.oSDK.oRef.FlyoutZoomView("s7Container_"+a.sImageWrapperID+"_"+a.sStageWrapperClass,a.oS7Objects.oActiveObject.oParams,"s7Flyout_"+a.sImageWrapperID+"_"+a.sStageWrapperClass),a.oS7Objects.oActiveObject.oSwatches.addEventListener(b.oSDK.oRef.event.AssetEvent.SWATCH_SELECTED_EVENT,c,!0),a.oS7Objects.oActiveObject.oSwatches.addEventListener(b.oSDK.oRef.event.SwatchEvent.SWATCH_PAGE_CHANGE,l,!0),a.oS7Objects.oActiveObject.oMediaSet.addEventListener(b.oSDK.oRef.event.AssetEvent.NOTF_SET_PARSED,
g,!0),b.oSDK.oMethods.fCollapseS7Container(a)):(f.eventTarget.undelegate("#"+a.sImageWrapperID+" ."+a.oUserArgs.oComponents.oSwatches.sWrapperClass+" .s7thumb","mouseover.bbbS7"),f.eventTarget.undelegate("#"+a.sImageWrapperID+" ."+a.oUserArgs.oComponents.oSwatches.sWrapperClass+" .s7thumb","mouseout.bbbS7"),f.eventTarget.undelegate("#"+a.sImageWrapperID+" ."+a.oUserArgs.oComponents.oSwatches.sWrapperClass+" .s7button","mouseover.bbbS7"),f.eventTarget.undelegate("#"+a.sImageWrapperID+" ."+a.oUserArgs.oComponents.oSwatches.sWrapperClass+
" .s7button","mouseout.bbbS7"),null!==a.oS7Objects.oWithSwatches.oSwatches&&(a.oS7Objects.oWithSwatches.oSwatches.removeEventListener(b.oSDK.oRef.event.AssetEvent.SWATCH_SELECTED_EVENT,c,!0),a.oS7Objects.oWithSwatches.oSwatches.removeEventListener(b.oSDK.oRef.event.SwatchEvent.SWATCH_PAGE_CHANGE,l,!0),a.oS7Objects.oWithSwatches.oMediaSet.removeEventListener(b.oSDK.oRef.event.AssetEvent.NOTF_SET_PARSED,g,!0)),null!==a.oS7Objects.oWithoutSwatches.oSwatches&&(a.oS7Objects.oWithoutSwatches.oSwatches.removeEventListener(b.oSDK.oRef.event.AssetEvent.SWATCH_SELECTED_EVENT,
c,!0),a.oS7Objects.oWithoutSwatches.oSwatches.removeEventListener(b.oSDK.oRef.event.SwatchEvent.SWATCH_PAGE_CHANGE,l,!0),a.oS7Objects.oWithoutSwatches.oMediaSet.removeEventListener(b.oSDK.oRef.event.AssetEvent.NOTF_SET_PARSED,g,!0)),a.oS7Objects.oWithSwatches.oContainer=null,a.oS7Objects.oWithSwatches.oMediaSet=null,a.oS7Objects.oWithSwatches.oSwatches=null,a.oS7Objects.oWithSwatches.oFlyout=null,a.oS7Objects.oWithoutSwatches.oContainer=null,a.oS7Objects.oWithoutSwatches.oMediaSet=null,a.oS7Objects.oWithoutSwatches.oSwatches=
null,a.oS7Objects.oWithoutSwatches.oFlyout=null);d.OUT()}}}};return new function(){var a=this,e=!1;a.sActiveImageWrapperID="";a.fGetData=function(a){d.IN();d.LOG(b);d.OUT();return b};a.fLoad=function(g){d.IN();g&&g.bInit&&(e?d.LOG("ERROR!!! Already loaded!"):(e=!0,h(function(){b.oMethods.oCommon.fGetPrimaryDOMNodes();if("undefined"===typeof g.bTriggerInit||g.bTriggerInit)a.fInit(g&&g.oInitOptions?g.oInitOptions:{});"function"===typeof g.fCallback&&g.fCallback()})));d.OUT();return a};a.fDestroy=function(e,
c){d.IN();b.oMethods.oCommon.fGetLock(b.oLock,"Destroying/removing Scene7... please wait!",d.I())&&(c=h.extend(!0,{},b.oSettings,e||{}),"string"===typeof c.sImageWrapperID&&""!==c.sImageWrapperID.trim()&&("undefined"!==typeof h("#"+c.sImageWrapperID.trim()+"["+c.sImageSetDataAttrib+"]")[0]||"undefined"!==typeof h("#"+c.sImageWrapperID.trim())[0]&&!0===!!c.bForceScene7)?(c.sImageWrapperID=c.sImageWrapperID.trim(),"undefined"===typeof b.oActiveViewers[c.sImageWrapperID]?b.oMethods.oCommon.fReleaseLock(b.oLock,
'ERROR!!! DOM element "'+c.sImageWrapperID+'" has not been initialized with Scene7!.... To init... use "<object>.fInit(<params>);" instead.',d.I()):f.fn.runAsThread(function(a){b.oMethods.oCommon.fReleaseLock(b.oLock,'INFO!!! Destroy Scene7 triggered for DOM element "'+a.sImageWrapperID+'"',d.WHOAMI());b.oActiveViewers[a.sImageWrapperID].fDestroy(a)},a,c)):b.oMethods.oCommon.fReleaseLock(b.oLock,"ERROR!!! Required DOM element missing!",d.I()));d.OUT();return a};a.fSetAsset=function(e,c){d.IN();b.oMethods.oCommon.fGetLock(b.oLock,
"Setting asset... please wait!",d.I())&&(c=h.extend(!0,{},b.oSettings,e||{}),"string"===typeof c.sImageWrapperID&&""!==c.sImageWrapperID.trim()&&("undefined"!==typeof h("#"+c.sImageWrapperID.trim()+"["+c.sImageSetDataAttrib+"]")[0]||"undefined"!==typeof h("#"+c.sImageWrapperID.trim())[0]&&!0===!!c.bForceScene7)?(c.sImageWrapperID=c.sImageWrapperID.trim(),"undefined"===typeof b.oActiveViewers[c.sImageWrapperID]?(b.oMethods.oCommon.fReleaseLock(b.oLock,'ERROR!!! DOM element "'+c.sImageWrapperID+'" has not been initialized with Scene7!.... Used "<object>.fInit(<params>);" instead.',
d.I()),a.fInit.apply(a,arguments)):f.fn.runAsThread(function(a){b.oMethods.oCommon.fReleaseLock(b.oLock,'INFO!!! Set asset triggered for DOM element "'+a.sImageWrapperID+'"',d.WHOAMI());b.oActiveViewers[a.sImageWrapperID].fSetAsset(a)},a,c)):b.oMethods.oCommon.fReleaseLock(b.oLock,"ERROR!!! Required DOM element missing!",d.I()));d.OUT();return a};a.fInit=function(e,c,l,m){d.IN();b.oMethods.oCommon.fGetLock(b.oLock,"Initializing... please wait!",d.I())&&(null===b.oSDK.oRef&&(null==b.oJQ.body&&b.oMethods.oCommon.fGetPrimaryDOMNodes(),
"undefined"!==typeof k.s7sdk?(b.oSDK.oRef=k.s7sdk,b.oSDK.sName="oHTML5",b.oSDK.oMethods=b.oMethods[b.oSDK.sName],b.oJQ.body.addClass("scene7ZoomHTML5")):"undefined"!==typeof k.s7js.flyout.AdvancedFlyout&&(b.oSDK.oRef=k.s7js,b.oSDK.sName="oDHTML",b.oSDK.oMethods=b.oMethods[b.oSDK.sName],b.oJQ.body.addClass("scene7ZoomDHTML"))),null!==b.oSDK.oRef?(d.LOG('SDK found! { name: "'+b.oSDK.sName+'" }',b.oSDK.oRef),c=h.extend(!0,{},b.oSettings,e||{}),"string"===typeof c.sImageWrapperID&&""!==c.sImageWrapperID.trim()&&
("undefined"!==typeof h("#"+c.sImageWrapperID.trim()+"["+c.sImageSetDataAttrib+"]")[0]||"undefined"!==typeof h("#"+c.sImageWrapperID.trim())[0]&&!0===!!c.bForceScene7)?(c.sImageWrapperID=c.sImageWrapperID.trim(),"undefined"!==typeof b.oActiveViewers[c.sImageWrapperID]?(b.oMethods.oCommon.fReleaseLock(b.oLock,'ERROR!!! DOM element "'+c.sImageWrapperID+'" has already been initialized with Scene7!.... Used "<object>.fSetAsset(<params>);" instead.',d.I()),a.fSetAsset.apply(a,arguments)):(m=h("#"+c.sImageWrapperID),
"string"===typeof c.sImageSetID&&""!==c.sImageSetID.trim()?l=c.sImageSetID.trim():"undefined"!==typeof m.attr(c.sImageSetDataAttrib)&&""!==m.attr(c.sImageSetDataAttrib).trim()&&(l=m.attr(c.sImageSetDataAttrib).trim()),""!==b.oMethods.oCommon.fCleanImageSetID(l)?f.fn.runAsThread(function(c){b.oMethods.oCommon.fReleaseLock(b.oLock,'INFO!!! Scene7 init triggered for DOM element "'+c.sImageWrapperID+'"',d.WHOAMI());a.sActiveImageWrapperID=c.sImageWrapperID;b.oActiveViewers[c.sImageWrapperID]=new p(c,
a)},a,c):b.oMethods.oCommon.fReleaseLock(b.oLock,"ERROR!!! ImageSetID missing!",d.I()))):b.oMethods.oCommon.fReleaseLock(b.oLock,"ERROR!!! Required DOM element missing!",d.I())):b.oMethods.oCommon.fReleaseLock(b.oLock,"ERROR!!! Scene7 SDK missing!",d.I()));d.OUT();return a};return a.fLoad()}}()})(this,this.jQuery,this.document,this.BBB);
