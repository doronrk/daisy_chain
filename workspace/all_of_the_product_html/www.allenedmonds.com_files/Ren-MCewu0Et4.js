/* Script imported from http://www.allenedmonds.com/wcsstore/AllenEdmonds/javascript/object2vr_player.js */
// License: Robert Melkonian                                        //
var h=!0,k=null,u=!1;function object2vrPlayer(ic){function jc(){var a;a=document.createElement("div");a.innerHTML=kc("PGRpdiBzdHlsZT0icG9zaXRpb246IHJlbGF0aXZlOyBsZWZ0OiAwcHg7IHJpZ2h0OiAwcHg7IHRvcDogNDAlOyBib3R0b206IDYwJTsgbWFyZ2luOiBhdXRvOyB3aWR0aDogMThlbTsgaGVpZ2h0OiA0ZW07IGJvcmRlcjogM3B4IHNvbGlkICM1NTU7IGJveC1zaGFkb3c6IDVweCA1cHggMTBweCAjMzMzOyBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgZGlzcGxheTogdGFibGU7IGZvbnQtZmFtaWx5OiBWZXJkYW5hLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOyBmb250LXNpemU6IDEwcHQ7IG9wYWNpdHk6IDAuOTU7IGJvcmRlci1yYWRpdXM6IDE1cHg7Ij48cCBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiB0YWJsZS1jZWxsOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyAiPkNyZWF0ZWQgd2l0aCA8YSBocmVmPSJodHRwOi8vb2JqZWN0MnZyLmNvbS8iIHRhcmdldD0iX2JsYW5rIj5PYmplY3QyVlI8L2E+PC9wPjwvZGl2Pg==");a.setAttribute("id","about");a.setAttribute("style","top:  0px;left: 0px;width: 100px;height: 100px;overflow: hidden;position:relative;");e.b.replaceChild(a,C);a.style.width=0+I+$a+E+"px";a.style.height=0+J+ab+F+"px";e.d.style.visibility="hidden";a.onclick=function(){e.d.style.visibility="inherit";e.b.replaceChild(C,a);};a.oncontextmenu=function(){e.d.style.visibility="inherit";e.b.replaceChild(C,a);};}function Cb(){setTimeout(function(){e.setFullscreen(0);},10);setTimeout(function(){e.setFullscreen(0);},100);}function Db(){lc(Db);if(0<=p){if(2==bb){cb((S-db)*la/300,(T-eb)*la/300);}else{if(3==bb){var a=ma(),f,b;U?(b=(S-a.x)/E,f=(T-a.y)/F):(f=(S-a.x)/E,b=(T-a.y)/F);fb&&(f=1-f);gb&&(b=1-b);a=Math.floor((1-f)*c.c);b=Math.floor((1-b)*c.g);0>a&&(a=0);a>=c.c&&(a=c.c-1);0>b&&(b=0);b>=c.g&&(b=c.g-1);e.showObjectImage(a,b);}else{V=0.4*(S-Ea),W=0.4*(T-Fa),Ea+=V,Fa+=W,cb(V*la/10,W*la/10),Eb&&e.changeFov(0.4*(0-100*n));}}e.a=h;}if(0!=ca){switch(ca){case 16:e.changeFovLog(-1,h);e.a=h;break;case 17:case 18:case 91:e.changeFovLog(1,h),e.a=h;}}if(hb&&(0!=V||0!=W)&&0>p){V*=0.9,W*=0.9,0.1>V*V+W*W?W=V=0:(cb(V,W),e.a=h);}if(!e.isLoaded&&e.hasConfig){for(b=a=0;b<e.checkLoaded.length;b++){e.checkLoaded[b].complete&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC"!=e.checkLoaded[b].src&&a++;}Fb&&(Fb=u);a==e.checkLoaded.length?(ib=1,e.isLoaded=h,e.divSkin&&e.divSkin.ggLoaded&&e.divSkin.ggLoaded()):ib=a/(1*e.checkLoaded.length);}if(ra){c.e=fa-c.x,c.j=ga-c.y,K=(jb-100*n)/10,b=Math.sqrt(c.e*c.e+c.j*c.j+K*K),10*b<Ga?(ra=u,c.e=0,K=c.j=0,c.x=Number(fa),c.y=Number(ga),n=jb/100):(b=b>5*Ga?Ga/b:0.2,c.e*=b,c.j*=b,K*=b),c.x+=1*c.e,c.y+=1*c.j,c.x>=c.c&&(c.x-=c.c,fa-=c.c),0>c.x&&(c.x+=c.c,fa+=c.c),c.y>=c.g&&(c.y-=c.g,ga-=c.g),0>c.y&&(c.y+=c.g,ga+=c.g),n+=K/10,b=new Date,kb=b.getTime(),e.a=h;}else{if(Z){c.e=0.95*c.e+0.05*ha;c.x+=c.e;if(lb&&(0>c.x||c.x>=c.c)){ha=-ha,c.e=-c.e,c.x+=2*c.e;}e.a=h;}else{if(ia&&(b=new Date,b=b.getTime()-kb,0>p&&0<Ha&&b>1000*Ha&&(Z=h,c.e=0,c.j=0)),hb&&0==ca&&0>p&&(0!=c.e||0!=c.j||0!=K)){c.e*=0.9,c.j*=0.9,K*=0.9,c.x+=c.e,c.y+=c.j,e.changeFovLog(K),0.0001>c.e*c.e+c.j*c.j&&(c.e=0,K=c.j=0),e.a=h;}}}if(0<y){if(2==y){for(b=0;b<D.length;b++){a=D[b],"poly"==a.C&&a.o!=a.m&&(a.o>a.m?(a.m+=0.05,a.o<a.m&&(a.m=a.o)):(a.m-=0.05,a.o>a.m&&(a.m=a.o)),e.a=h);}}3==y&&$!=L&&($>L?(L+=0.05,$<L&&(L=$)):(L-=0.05,$>L&&(L=$)),e.a=h);}if(e.a&&(e.a=u,e.updateObject(),sa&&e.d&&(mb!=y&&(mb=y,e.d.style.visibility=0<y?"inherit":"hidden"),0<y))){if(!q){try{q=e.d.getContext("2d");}catch(g){}}if(q){if(q.width!=E||q.height!=F){q.width=E,q.height=F;}q.clear?q.clear():q.clearRect(0,0,e.d.width,e.d.height);f=1;3==y&&(f=L);for(var j=0;j<D.length;j++){var m=D[j];if("poly"==m.C){for(var O=0;O<m.G.length;O++){var r=m.G[O];if((r.F==c.p||m.H&1)&&(r.I==c.q||m.H&2)&&(r.state==c.A||m.H&4)){for(var i=0;i<r.L.length;i++){var l=r.L[i];2==y&&(f=m.m);q.fillStyle=P(m.u,m.t*f);q.strokeStyle=P(m.z,m.v*f);if(0<l.n.length){q.beginPath();for(var o=0;o<l.n.length;o++){v=l.n[o],b=t*n*(A+(v.x-0.5)*c.width)+0.5*E,a=t*n*(B+(v.y-0.5)*c.height)+0.5*F,0==o?q.moveTo(b,a):q.lineTo(b,a);}q.closePath();q.stroke();q.fill();}}}}}}}}}function Gb(a){e.skinObj&&e.skinObj.hotspotProxyClick&&e.skinObj.hotspotProxyClick(a.id);""!=a.url&&(e.openUrl(a.url,a.target),nb(-1,-1));}function Hb(){0<M&&(e.openUrl(e.hotspot.url,e.hotspot.target),e.skinObj&&e.skinObj.hotspotProxyClick(M));}function ob(a,e){var b=-1,g,j;g=((a-I-0.5*E)/(t*n)-A)/c.width+0.5;j=((e-J-0.5*F)/(t*n)-B)/c.height+0.5;for(var m=0;m<D.length;m++){var O=D[m];if("poly"==O.C&&O.G){for(var r=0;r<O.G.length;r++){var i=O.G[r];if((i.F==c.p||O.H&1)&&(i.I==c.q||O.H&2)&&(i.state==c.A||O.H&4)){for(var o=0;o<i.L.length;o++){var l=i.L[o];if(0<l.n.length){var s,p,q,z;q=u;for(s=0,p=l.n.length-1;s<l.n.length;p=s++){z=l.n[s],p=l.n[p],z.y>j!=p.y>j&&g<(p.x-z.x)*(j-z.y)/(p.y-z.y)+z.x&&(q=!q);}q&&(b=m);}}}}}}return 0<=b?D[b]:u;}function Ia(a,f){if(na&&aa!=k&&ja&&ja.getContext){var b=ma(),g=a-b.x-E/2,g=g/n/t-A+c.width/2,b=f-b.y-F/2,b=b/n/t-B+c.height/2;d=ja.getContext("2d").getImageData(g,b,1,1);M=d.data[2];Ja!=M&&(0<Ja&&e.skinObj&&e.skinObj.hotspotProxyOut&&e.skinObj.hotspotProxyOut(Ja),e.hotspot=0<M&&oa[M]?oa[M]:e.emptyHotspot,0<M&&e.skinObj&&e.skinObj.hotspotProxyOver&&e.skinObj.hotspotProxyOver(M),Ja=M);}}function pb(a,e,b,g,j,m){var i=c.i.length-1-g,r=c.ca,r=ta(r,"c",a%c.c+(e%c.g+b%c.D*c.g)*c.c),r=ta(r,"r",g),r=ta(r,"l",i),r=ta(r,"x",j),r=ta(r,"y",m);return Ka(r);}function ta(a,e,b){var c=RegExp("%0*"+e,"i").exec(a.toString());if(c){var c=c.toString(),j=b.toString();for(c.charAt(c.length-1)!=e&&(j=(1+b).toString());j.length<c.length-1;){j="0"+j;}a=a.replace(c,j);}return a;}function qb(a,e,b){return Ka(c.path+"/img_"+b+"_"+e+"_"+a+"."+c.X);}function La(a){gb&&(a=-a);c.y+=a;ua();}function Ma(a){fb&&(a=-a);c.x+=a;ua();}function ua(){if(Ib){for(;0>c.x;){c.x+=c.c;}for(;c.x>=c.c;){c.x-=c.c;}}else{0>c.x&&(c.x=0),c.x>=c.c&&(c.x=c.c-1);}if(Jb){for(;0>c.y;){c.y+=c.g;}for(;c.y>=c.g;){c.y-=c.g;}}else{0>c.y&&(c.y=0),c.y>=c.g&&(c.y=c.g-1);}c.state>=c.D&&(c.state=c.D-1);0>c.state&&(c.state=0);n=Math.max(Na,Math.min(Oa,n));Kb&&(X=1<n);if(E>=t*n*c.width){A=0;}else{var a=(c.width*t*n-E)/(2*n*t);A=Math.max(-a,A);A=Math.min(+a,A);}F>=t*n*c.height?B=0:(a=(c.height*t*n-F)/(2*n*t),B=Math.max(-a,B),B=Math.min(+a,B));}function Lb(){ca=0;va||l();}function Mb(){ca=0;va||l();}function Nb(a){if(!va){a=a?a:window.event;ca=a.keyCode;if(0!=ca){switch(ca){case 37:X?A+=10/n:e.changePan(1,h);break;case 38:X?B+=10/n:e.changeTilt(1,h);break;case 39:X?A+=-10/n:e.changePan(-1,h);break;case 40:X?B-=10/n:e.changeTilt(-1,h);break;case 43:case 107:case 187:e.changeFovLog(-1,h);break;case 109:case 45:case 189:e.changeFovLog(1,h);}e.a=h;}l();}}function Ob(a){G||(Eb=u,ka(a.target)&&(a.preventDefault(),l(),pa&&pa.reset()));}function mc(a){G||(a.preventDefault(),1!=a.scale&&(Pa*=a.scale,e.setZoom(Pa*wa),l()));}function nc(a){!G&&ka(a.target)&&(a.preventDefault(),e.setZoom(event.scale*wa),l());}function rb(a){Qa=h;Pa=1;G||(a.touches?(e.l=a.touches.target,e.l==e.control&&(a.preventDefault(),l())):(a.preventDefault(),l()));}function oc(a){pa||(pa=new MSGesture,pa.target=e.d);pa.ea(a.ja);}function pc(a){G||(a.preventDefault(),p=-1);}function qc(a){if(!G){0<=p&&(a.preventDefault(),l());var f=(new Date).getTime(),b=-1,b=Math.abs(Pb-xa)+Math.abs(Qb-ya);if(0<=b&&20>b){var c=u;if(e.l){for(b=e.l;b&&b!=e.control;){b.onclick&&!c&&(b.onclick(),c=h),b=b.parentNode;}}if((b=ob(e.mouse.x,e.mouse.y))&&!c){Gb(b),c=h;}na&&!c&&Hb();c&&a.preventDefault();b=Math.abs(Rb-xa)+Math.abs(Sb-ya);if(700>f-e.K&&0<=b&&20>b&&!c){e.l==e.control&&sb&&setTimeout(function(){e.toggleFullscreen();},10);if(e.l){b=e.l;for(c=u;b&&b!=e.control;){b.ondblclick&&!c&&(b.ondblclick(),c=h),b=b.parentNode;}c&&a.preventDefault();}e.K=0;}else{e.K=f;}Rb=xa;Sb=ya;}if(e.l){b=e.l;for(c=u;b&&a!=e.control;){if(b.onmouseout){b.onmouseout();}a.onmouseup&&!c&&(b.onmouseup(),c=h);b=b.parentNode;}c&&a.preventDefault();}e.l=k;p=-1;}}function rc(a){a||(a=window.event);var f=a.touches,b=ma();e.mouse.x=f[0].pageX-b.x+I;e.mouse.y=f[0].pageY-b.y+J;if(!G){if(1==f.length&&f[0]&&(xa=f[0].pageX,ya=f[0].pageY,0<=p)){a.preventDefault();for(b=0;b<f.length;b++){if(f[b].identifier==p){var c=f[b].pageY;Ra=f[b].pageX;Sa=c;S=Ra;T=Sa;break;}}l();Ia(f[0].pageX,f[0].pageY);}2==f.length&&f[0]&&f[1]&&(p=-1,Qa||(Tb=Math.sqrt((f[0].pageX-f[1].pageX)*(f[0].pageX-f[1].pageX)+(f[0].pageY-f[1].pageY)*(f[0].pageY-f[1].pageY)),e.setZoom(wa/Ub*Tb),a.preventDefault()));}}function sc(a){a||(a=window.event);var f=a.touches,b=ma();e.mouse.x=f[0].pageX-b.x+I;e.mouse.y=f[0].pageY-b.y+J;if(!G){console.log("Touch start...");if(1==f.length&&0>p&&f[0]){Ta=(new Date).getTime();Pb=f[0].pageX;Qb=f[0].pageY;xa=f[0].pageX;ya=f[0].pageY;e.l=f[0].target;ka(f[0].target)&&(a.preventDefault(),tb(f[0].pageX,f[0].pageY),p=f[0].identifier,l());if(e.l){b=e.l;for(flag=u;b&&!ka(b);){if(b.onmouseover){b.onmouseover();}b.onmousedown&&!flag&&(b.onmousedown(),flag=h);b=b.parentNode;}flag&&a.preventDefault();}Ia(f[0].pageX,f[0].pageY);}1<f.length&&(p=-1);!Qa&&2==f.length&&f[0]&&f[1]&&(Ub=Math.sqrt((f[0].pageX-f[1].pageX)*(f[0].pageX-f[1].pageX)+(f[0].pageY-f[1].pageY)*(f[0].pageY-f[1].pageY)),wa=n);}}function za(a){if(!Vb&&(a=a?a:window.event,a=Ua(a),ka(a.target))){var f=a.detail?-1*a.detail:a.wheelDelta/40;Wb&&(f=-f);e.changeFovLog((0<f?1:-1)*Xb,h);e.a=h;a.preventDefault?a.preventDefault():a.returnValue=u;l();}}function Yb(a){if(!G&&(a=a?a:window.event,a=Ua(a),0<=p)){a.preventDefault?a.preventDefault():a.returnValue=u;p=-1;var f=(new Date).getTime(),b=-1,b=Math.abs(db-S)+Math.abs(eb-T);if(400>f-Ta&&0<=b&&20>b){var b=Math.abs(Zb-S)+Math.abs($b-T),c=ob(e.mouse.x,e.mouse.y);c&&Gb(c);Zb=S;$b=T;na&&(Ia(a.pageX,a.pageY),Hb());700>f-e.K&&0<=b&&20>b&&!c?(sb&&setTimeout(function(){e.toggleFullscreen();},10),e.K=0):e.K=f;}l();}}function Aa(a){var c=ma(),a=a?a:window.event,a=Ua(a);document.webkitIsFullScreen||document.mozFullScreen||document.fullScreen?(e.mouse.x=a.screenX+I,e.mouse.y=a.screenY+J):(e.mouse.x=a.pageX-c.x+I,e.mouse.y=a.pageY-c.y+J);if(!G&&(0<=p&&(c=a.pageY,Ra=a.pageX,Sa=c,S=Ra,T=Sa,l(),a.preventDefault?a.preventDefault():a.returnValue=u),na?Ia(a.pageX,a.pageY):M=0,0==M||e.hotspot==e.emptyHotspot||"poly"==e.hotspot.C)){a=e.emptyHotspot,a=ob(e.mouse.x,e.mouse.y),e.hotspot!=a&&(e.hotspot!=e.emptyHotspot&&(0<y&&(e.hotspot.o=0),e.skinObj&&e.skinObj.hotspotProxyOut&&e.skinObj.hotspotProxyOut(e.hotspot.id)),a?(e.hotspot=a,e.skinObj&&e.skinObj.hotspotProxyOver&&e.skinObj.hotspotProxyOver(e.hotspot.id),C.style.cursor="pointer",0<y&&($=1,e.hotspot.o=1,e.a=h)):(e.hotspot=e.emptyHotspot,C.style.cursor="auto",0<y&&($=0,e.a=h))),nb(e.mouse.x-I,e.mouse.y-J);}}function nb(a,c){var b=Ba;b.enabled&&(e.hotspot!=e.emptyHotspot&&0<=a&&0<=c&&""!=e.hotspot.title?(i.innerHTML=e.hotspot.title,i.style.color=P(b.U,b.T),i.style.backgroundColor=b.background?P(b.u,b.t):"transparent",i.style.border="solid "+P(b.z,b.v)+" "+b.Q+"px",i.style.borderRadius=b.P+"px",i.style.textAlign="center",0<b.width?(i.style.left=a-b.width/2+"px",i.style.width=b.width+"px"):(i.style.width="auto",i.style.left=a-i.offsetWidth/2+"px"),i.style.height=0<b.height?b.height+"px":"auto",i.style.top=c+25+"px",i.style.visibility="inherit",i.style.overflow="hidden"):(i.style.visibility="hidden",i.innerHTML=""));}function tc(a){G||(a=a?a:window.event,a.preventDefault?a.preventDefault():a.returnValue=u,tb(a.screenX,a.screenY),p=1,Ta=(new Date).getTime(),l());}function Va(a){if(!G&&(a=a?a:window.event,a=Ua(a),(!a.which||0==a.which||1==a.which)&&ka(a.target))){tb(a.pageX,a.pageY),p=1,Ta=(new Date).getTime(),l(),a.preventDefault?a.preventDefault():a.returnValue=u;}}function Ua(a){a.pageX==k&&a.clientX!=k&&(a.pageX=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.pageY=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);return a;}function ka(a){return a==o||a==H||a==s||a==Q||a==e.control||a==e.d;}function l(){Z&&(Z=u,c.e=0,c.j=0);ra&&(ra=u,c.e=0,c.j=0);kb=(new Date).getTime();}function cb(a,c){e.getFov();if(X){A+=a/(n*t),B+=c/(n*t);}else{var b=-a/20;U?La(b):Ma(b);b=-c/20;U?Ma(b):La(b);}ua();}function tb(a,e){db=a;eb=e;S=a;T=e;Ea=a;Fa=e;}function ac(){switch(bc){case 1:t=Math.min(E/c.width,F/c.height);break;case 2:t=Math.max(E/c.width,F/c.height);break;case 3:t=E/c.width;break;case 4:t=F/c.height;break;default:t=1;}var a,f;a=t*n*(A-c.width/2)+E/2;f=t*n*(B-c.height/2)+F/2;var b,g;a=Math.round(a);f=Math.round(f);b=Math.round(c.width*t*n);g=Math.round(c.height*t*n);if(Y){if(sa=u,0<=c.p&&0<=c.q){if((b<E||g<F)&&Ca>n){N.clear?N.clear():N.clearRect(0,0,s.width,s.height);}if(0<c.i.length){for(var j=0,m,i,r;c.i.length>=j+2&&c.i[j+1].width>b;){j++;}for(var l=j,p=u;!p;){p=h;m=c.i[l];var q=-a/b*(m.width/c.k);i=-f/g*(m.height/c.k);var x=(-a+E)/b*(m.width/c.k),y=(-f+F)/g*(m.height/c.k),q=Math.min(Math.max(0,Math.floor(q)),m.r-1);i=Math.min(Math.max(0,Math.floor(i)),m.O-1);x=Math.min(Math.max(0,Math.floor(x)),m.r-1);y=Math.min(Math.max(0,Math.floor(y)),m.O-1);for(r=i;r<=y;r++){for(i=q;i<=x;i++){var C=i+r*m.r,z=m.s[C];!z||!z.f?p=u:z.f.complete||(p=u);}}p||(l+1<c.i.length?l++:p=h);}for(;l>=j;){m=c.i[l];q=-a/b*(m.width/c.k);i=-f/g*(m.height/c.k);x=(-a+E)/b*(m.width/c.k);y=(-f+F)/g*(m.height/c.k);q=Math.min(Math.max(0,Math.floor(q)),m.r-1);i=Math.min(Math.max(0,Math.floor(i)),m.O-1);x=Math.min(Math.max(0,Math.floor(x)),m.r-1);y=Math.min(Math.max(0,Math.floor(y)),m.O-1);for(r=i;r<=y;r++){for(i=q;i<=x;i++){C=i+r*m.r,(z=m.s[C])||(z=m.s[C]={}),!z.f&&5>ba&&(z.f=new Image,z.f.setAttribute("src",pb(c.p,c.q,c.A,l,i,r)),z.f.onload=uc,z.f.onerror=cc,z.f.onabort=cc,0==ba&&e.divSkin&&e.divSkin.ggReLoadedLevels&&e.divSkin.ggReLoadedLevels(),ba++),z.f&&z.f.complete&&(N.drawImage(z.f,a+(-c.Z+c.k*i)*b/m.width,f+(-c.Z+c.k*r)*g/m.height,z.f.width*b/m.width,z.f.height*g/m.height),sa=h);}}l--;}Ca=n;Wa=A;Xa=B;}else{""!=o.src&&o.complete?(N.clear?N.clear():N.clearRect(0,0,s.width,s.height),N.drawImage(o,a,f,b,g),Ca=n,Wa=A,Xa=B,sa=h):e.a=h;}if(sa){for(a=0;a<D.length;a++){if(f=D[a],"point"==f.C){j=u;for(m=g=b=0;m<f.V.length;m++){l=f.V[m],l.F==c.p&&l.I==c.q&&l.state==c.A&&(j=h,b=t*n*(A+l.x*c.width-c.width/2)+E/2,g=t*n*(B+l.y*c.height-c.height/2)+F/2);}f.obj&&f.obj.__div&&(f.obj.__div.style[Da]="none",j?(f.obj.__div.style.left=I+b+"px",f.obj.__div.style.top=J+g+"px",f.obj.__div.style.visibility="visible"):(f.obj.__div.style.left="-100px",f.obj.__div.style.top="-100px",f.obj.__div.style.visibility="hidden"));}}}}}else{o.setAttribute("width",c.width),o.setAttribute("height",c.height),H.setAttribute("width",c.width),H.setAttribute("height",c.height),o.style.left=a+"px",o.style.top=f+"px",o.style.width=b+"px",o.style.height=g+"px",H.style.left=a+"px",H.style.top=f+"px",H.style.width=b+"px",H.style.height=g+"px",Ca=n,Wa=A,Xa=B;}}function cc(){ba&&ba--;0==ba&&e.divSkin&&e.divSkin.ggLoadedLevels&&e.divSkin.ggLoadedLevels();}function uc(){e.a=h;e.B=h;ba&&ba--;0==ba&&e.divSkin&&e.divSkin.ggLoadedLevels&&e.divSkin.ggLoadedLevels();}function ma(){var a={x:0,y:0},e=x;if(e.offsetParent){do{a.x+=e.offsetLeft,a.y+=e.offsetTop;}while(e=e.offsetParent);}return a;}function ub(){if(e.isFullscreen&&(!document.webkitIsFullScreen&&!document.mozFullScreen&&!document.fullScreen&&e.exitFullscreen(),document.webkitIsFullScreen||document.mozFullScreen||document.fullScreen)){e.b.style.left="0px",e.b.style.top="0px";}}function qa(){e.setViewerSize(e.J.offsetWidth,e.J.offsetHeight);}function Ka(a){return"/"==a.charAt(0)||0<a.indexOf("://")?a:vb+a;}function dc(a){a=Number(a).toString(16);return a="#000000".substr(0,7-a.length)+a;}function P(a,e){a=Number(a);return Ya&&8>=Ya?dc(a):"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+e+")";}var Ba,y,L,$,wb,xb,yb,zb,mb;function vc(a,e){var b=this;b.da=a;b.hotspot=e;b.__div=document.createElement("div");b.f=document.createElement("img");var c;b.f.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA5xJREFUeNqclmlIVFEUx997TjrplFQW2WKBBSYtRFlpWUILSSsRZRQIBdGHCFqIoKIvQRsUFRJC9LEgaSFbMMpcWi1pLzOLsjItKms0U5t5/c/wH7nc5o2jF374xrv87z33nHOPaRsRtbFgDpgJxoD+wATfwDNQDK6CyrCr5OcbhgiGIRsUAZt4QTWoIFXgp9JfAhY7rgdBl8NeBoLDYBloA+dBOagFTcDHcVEgDgwBGWA+OAcugvXgvb5wKMGJoAAMp9BpUA96EBf/Btsf8BI8AWfAErAcpHHDZeriliY2AVwDg8AucAQ0Ag+I4XhTm2Oxz8PT46KMbTx5EZjuJDgAnAVusJUm9DhYwalFcc59sIXXIaceFkowDySBPTRPL20xm+b7zYXa+N3CPrWJ6GuwGySA40HLBHc/GywFhbS5R1lEBrZy7FQwiSaX9pmnqeAYt+KUcew7BVZw/QKTq0ocpYPVvDOXItZCk2xgDIZqL8BR8Ab0VDbr4yZOgLeIwzQx6WiQxcCt1+6sld66L4yYtFSwF4yg2dU7/cEwGW9YVkAwmycp1dzdpvgm0DcCh4kHmxWzBls0uBX4qqmZJ4KzePm1IeJLgjmlC16aDKZpp5Q168B3o6wsSwTHgU+MIUs74RSj6y1d+212HKimJlUE+tFRfJpYtOKNXWmJTASqWf2Bu/R6+4TKHOrOzG4IhptjWgHbGkZvepQ6SQK7oRuCXzjX1DJavBEX1ygfT8FgBqpfm1zRDcEKbR2bsZlkJCdXieB1ZhZ5YtqVgXIPN+m9kbY6hpdb+d9fPncJRmZmqQheZkemJmgxyxykl3XWJEkcAl7N21s7PDcl5ZJ0PAa3wVwmWtVbZafPwQ7wLozYB7ATPNJO56d/LAikP9u+66KNJS1d4IOZp7wU0hfLukUyzgwm70T2N/DOxIy/eFdqawa5DL2NEGwP5k15Ja4woz9glvcomd9NzyvkFcQo5gomaLfm5c0svnKZ2k7q7+FauvR2MJKZR3+sY5WgtvkdG6JyELGhNHMTXyGfLviRJ5Tcd4Dlhle7086Sgp8CqVxDkn4OqHaqacr5ekjy3Q/W0FRNNGmoMtamdzdxsytZC0lqXKhEgWPVVgImg2NgFT1MHOoOk3yLEtgWN5TEOYvoIFI1rGM19//2wpAD7imF7lfwENwAxaASNCj90pcLLKdC2Iyw1M9gnEplMEp5kOU1f8WwKGJm8oUr9f8JMAAVMDM6HSDa9QAAAABJRU5ErkJggg%3D%3D");b.f.setAttribute("style","position: absolute;top: -14px;left: -14px;");b.__div.appendChild(b.f);c="position:absolute;"+(R+"user-select: none;");b.__div.setAttribute("style",c);b.__div.onclick=function(){b.da.openUrl(e.url,e.target);};var j=Ba;j.enabled&&(b.text=document.createElement("div"),c="position:absolute;"+("left: -"+e.w/2+"px;"),c=c+"top:  20px;"+("width: "+e.w+"px;"),c=0==e.h?c+"height: auto;":c+("height: "+e.h+"px;"),e.wordwrap?c=c+"white-space: pre-wrap;"+("width: "+e.w+"px;"):(c=0==e.h?c+"width: auto;":c+("width: "+e.w+"px;"),c+="white-space: nowrap;"),c+=R+"transform-origin: 50% 50%;",b.text.setAttribute("style",c+"visibility: hidden;border: 1px solid #000000;background-color: #ffffff;text-align: center;overflow: hidden;padding: 0px 1px 0px 1px;"),b.text.style.color=P(j.U,j.T),b.text.style.backgroundColor=j.background?P(j.u,j.t):"transparent",b.text.style.border="solid "+P(j.z,j.v)+" "+j.Q+"px",b.text.style.borderRadius=j.P+"px",b.text.style.textAlign="center",b.text.style.width=0<j.width?j.width+"px":"auto",b.text.style.height=0<j.height?j.height+"px":"auto",b.text.style.overflow="hidden",b.text.innerHTML=e.title,b.__div.onmouseover=function(){0==e.h&&(w=b.text.offsetWidth,b.text.style.left=-w/2+"px");b.text.style.visibility="inherit";},b.__div.onmouseout=function(){b.text.style.visibility="hidden";},b.__div.appendChild(b.text));}function kc(a){var e="",b,c,j="",m,i="",l=0,a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(l++)),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(l++)),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(l++)),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(l++)),b=b<<2|c>>4,c=(c&15)<<4|m>>2,j=(m&3)<<6|i,e+=String.fromCharCode(b),64!=m&&(e+=String.fromCharCode(c)),64!=i&&(e+=String.fromCharCode(j));}while(l<a.length);return e;}var e=this;e.transitionsDisabled=u;var K=0,E=320,F=480,n=1,Ab=1,Na=1,Oa=1,Ca=-1,A=0,B=0,Wa=0,Xa=0,t=1,bc=1,Ub,wa,Tb,db=0,eb=0,S=0,T=0,Zb=0,$b=0,Ra=0,Sa=0,p=-1,Pb=0,Qb=0,xa=0,ya=0,Rb=0,Sb=0,Ta,hb=h,Ea=0,Fa=0,V=0,W=0,Eb=u,na=u,M=0,Ja=0,oa,da;oa=[];var D=[];e.emptyHotspot={pan:0,tilt:0,title:"",url:"",target:"",id:"",skinid:"",w:100,h:20,wordwrap:u,obj:k};e.hotspot=e.emptyHotspot;e.mouse={x:0,y:0};var ca=0,x=k,C=k,o=k,H=k,ea=k,s=k,Q=k,Y=k,Bb=k,N=k,aa=k,ja=k,i=k;e.control=k;e.checkLoaded=[];e.isFullscreen=u;e.divSkin=k;e.isLoaded=u;e.hasConfig=u;var ib=0,Fb=u,ia=u,Ha=5,Z=u,ha=0.4,lb=u,ra=u,Ga=0.1,fa=0,ga=0,jb,kb;e.skinObj=k;e.a=u;e.B=u;e.userdata={title:"",description:"",author:"",datetime:"",copyright:"",source:"",information:"",comment:""};var I=0,J=0,$a=0,ab=0,bb=3,va=u,G=u,Vb=u,Kb=h,X=u,Wb=u,Xb=1,sb=h,Ib=u,Jb=u,fb=u,gb=u,U=u,la=10,c={x:0,y:0,e:0,j:0,width:100,height:100,state:0,p:-1,q:-1,A:-1,c:1,g:1,D:1,M:0,N:0,S:0,path:"images/",X:"jpg",k:512,ia:1,$:0};c.Y=function(){return c.p%c.c+(c.q%c.c+c.A%c.D*c.g)*c.c;};var ec=h,fc=0,R="",Da="transition",Qa=u,vb="";y=1;L=0;$=0;wb=255;xb=1;yb=255;zb=0.3;Ba={enabled:h,width:180,height:20,U:0,T:1,background:h,u:16777215,t:1,z:0,v:1,P:3,Q:1,wordwrap:h};mb=void 0;var gc=navigator.userAgent.toLowerCase(),Ya=-1!=gc.indexOf("msie")?parseInt(gc.split("msie")[1]):u,wc=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?h:u,lc=function(){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;return wc||!a?function(a){window.setTimeout(a,10);}:a;}();e.detectBrowser=function(){var a=["Webkit","Moz","O","ms","Ms"],e;R="";Da="transition";for(e=0;e<a.length;e++){"undefined"!==typeof document.documentElement.style[a[e]+"Transform"]&&(R="-"+a[e].toLowerCase()+"-",Da=a[e]+"Transition");}};e.setBasePath=function(a){vb=a;};e.getPercentLoaded=function(){return ib;};var hc=h;e.setViewerSize=function(a,c){if(e.isFullscreen){if("number"==typeof window.innerWidth){a=window.innerWidth,c=window.innerHeight;}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){a=document.documentElement.clientWidth,c=document.documentElement.clientHeight;}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){a=document.body.clientWidth,c=document.body.clientHeight;}}}}var b=a-I-$a,g=c-J-ab;E=b;F=g;x.style.width=b+"px";x.style.height=g+"px";x.style.left=I+"px";x.style.top=J+"px";ac();C.style.width=a+"px";C.style.height=c+"px";e.d.style.width=a+"px";e.d.style.height=c+"px";e.d.width=a;e.d.height=c;e.d.style.left=I+"px";e.d.style.top=J+"px";s.style.width=a+"px";s.style.height=c+"px";Q.style.width=a+"px";Q.style.height=c+"px";if(hc){if(!Y){try{Bb=Q.getContext("2d"),N=Y=s.getContext("2d");}catch(j){}}try{Y?(x.removeChild(H),x.removeChild(o)):(x.removeChild(s),x.removeChild(Q));}catch(m){}hc=u;}if(Y&&(b=window.devicePixelRatio||1,b=1,s.width!=Math.round(a*b)||s.height!=Math.round(c*b))){s.width=Math.round(a*b),s.height=Math.round(c*b),Q.width=Math.round(a*b),Q.height=Math.round(c*b),Y.scale(b,b),Bb.scale(b,b),e.a=h,e.B=h;}e.a=h;e.divSkin&&e.divSkin.ggUpdateSize&&e.divSkin.ggUpdateSize(a,c);};var ba=0,sa=u;e.setMargins=function(a,e,b,c){I=a;J=e;$a=b;ab=c;qa();};e.changeViewMode=function(a){0==a&&(X=u);1==a&&(X=h);2==a&&(X=X?u:h);};e.changePolygonMode=function(a,c){y=1==c&&0<y?0:Math.round(a);e.a=h;};e.polygonMode=function(){return y;};e.getPan=function(){return U?c.y:c.x;};e.getPanN=function(){return e.getPan();};e.showObjectImage=function(a,f){c.x=a;c.y=f;ua();e.a=h;};e.setPan=function(a){l();isNaN(a)||(U?c.y=a:c.x=a);e.a=h;};e.changePan=function(a){l();isNaN(a)||(U?La(a):Ma(a));e.a=h;};e.getTilt=function(){return U?c.x:c.y;};e.setTilt=function(a){l();isNaN(a)||(U?c.x=a:c.y=a);e.a=h;};e.changeTilt=function(a){l();isNaN(a)||(U?Ma(a):La(a));e.a=h;};e.getFov=function(){return 100*n;};e.setZoom=function(a){isNaN(a)||(n=a<Na?Na:a>Oa?Oa:a);e.a=h;};e.setFov=function(a){l();e.setZoom(a/100);};e.changeFov=function(a){e.setFov(e.getFov()-10*a);};e.changeFovLog=function(a){e.setFov(e.getFov()*Math.exp(-a/50));};e.setPanTilt=function(a,c){l();isNaN(a)||e.setPan(a);isNaN(c)||e.setTilt(c);e.a=h;};e.setPanTiltFov=function(a,c,b){l();isNaN(a)||e.setPan(a);isNaN(c)||e.setTilt(c);!isNaN(b)&&0<b&&180>b&&e.setFov(b);e.a=h;};e.setDefaultView=function(){c.x=c.fa;c.y=c.ga;changeViewState(c.S);n=Ab;};e.moveTo=function(a,e,b,g){l();ra=h;var j=a.toString().split("/");1<j.length&&(a=Number(j[0]),g=e,e=Number(j[1]),2<j.length&&(b=Number(j[2])));fa=isNaN(a)?c.x:Number(a);ga=isNaN(e)?c.y:Number(e);jb=!isNaN(b)&&0<b&&180>b?Number(b):100*n;Ga=!isNaN(g)&&0<g?Number(g):1;};e.moveToDefaultView=function(a){e.moveTo(c.M,c.N,100*Ab,a);};var pa,Pa=1,rb=function(a){Qa=h;!G&&ka(a.target)&&(a.preventDefault(),wa=n,l());};e.changeViewstate=function(a,f){l();if(c.state!=a){c.state=a;if(0<f){var b=1/(20*f);Y?(Q.style.visibility="inherit",s.style[Da]="opacity "+b+"s linear",N==Y?(s.style.opacity="0.0",N=Bb):(s.style.opacity="1.0",N=Y)):(H.style.visibility="inherit",o.style[Da]="opacity "+b+"s linear",ea==o?(o.style.opacity="0.0",ea=H):(o.style.opacity="1.0",ea=o));e.updateObject();}e.a=h;}};e.updateObject=function(){ua();var a=Math.floor(c.x),f=Math.floor(c.y),b=c.state,g=u;if(c.p!=a||c.q!=f||c.A!=b){if(0<c.i.length){for(g=0;g<c.i.length;g++){var j=c.i[g];j.R?j.W[c.Y()]=j.s:j.s=[];}}c.p=a;c.q=f;c.A=b;if(0<c.i.length&&Y){for(g=0;g<c.i.length;g++){j=c.i[g],j.R&&(j.s=j.W[c.Y()],j.s||(j.s=[]));}}else{0<c.i.length?ea.setAttribute("src",pb(a,f,b,c.i.length-1,0,0)):ea.setAttribute("src",qb(a,f,b)),ea.onload=function(){e.a=h;e.B=h;},ea.ha=u;}g=h;}if(g||e.B||n!=Ca||A!=Wa||B!=Xa){ac(),e.B=u;}g&&na&&(aa==k&&(aa=new Image,ja=document.createElement("canvas"),ja.width=c.width,ja.height=c.height,aa.addEventListener&&aa.addEventListener("load",function(){ja.getContext("2d").drawImage(aa,0,0,c.width,c.height);},u)),8<=da?(da&16&&(a=0),da&32&&(f=0),da&64&&(b=0)):(0<da&&(b=0),1<da&&(a=0),2<da&&(f=0)),aa&&aa.src!=Ka(c.path+"/hs_"+b+"_"+f+"_"+a+".png")&&(aa.src=Ka(c.path+"/hs_"+b+"_"+f+"_"+a+".png")));};e.preloadImages=function(){var a,f,b,g;if(0<c.i.length){for(g=0;g<c.i.length;g++){var j=c.i[g];if(j.R){for(b=0;b<c.D;b++){for(f=0;f<c.g;f++){for(a=0;a<c.c;a++){var m=[],i,l;for(l=0;l<j.O;l++){for(i=0;i<j.r;i++){var n=i+l*j.r,o;o={};o.f=new Image;o.f.setAttribute("src",pb(a,f,b,g,i,l));o.f.onload=function(){e.a=h;e.B=h;};m[n]=o;e.checkLoaded.push(o.f);}}j.W[a+c.c*(f+b*c.g)]=m;}}}}}}else{if(c.$){g=new Image;g.src=qb(c.M,c.N,c.S);for(b=0;b<c.D;b++){for(f=0;f<c.g;f++){for(a=0;a<c.c;a++){g=new Image,g.src=qb(a,f,b),e.checkLoaded.push(g);}}}}}};var q,nb=function(a,c){var b=Ba;b.enabled&&(e.hotspot!=e.emptyHotspot&&0<=a&&0<=c&&""!=e.hotspot.title?(i.innerHTML=e.hotspot.title,i.style.color=P(b.U,b.T),i.style.backgroundColor=b.background?P(b.u,b.t):"transparent",i.style.border="solid "+P(b.z,b.v)+" "+b.Q+"px",i.style.borderRadius=b.P+"px",i.style.textAlign="center",0<b.width?(i.style.left=a-b.width/2+"px",i.style.width=b.width+"px"):(i.style.width="auto",i.style.left=a-i.offsetWidth/2+"px"),i.style.height=0<b.height?b.height+"px":"auto",i.style.top=c+25+"px",i.style.visibility="inherit",i.style.overflow="hidden"):(i.style.visibility="hidden",i.innerHTML=""));};e.ba=function(){for(var a=0;a<D.length;a++){if("point"==D[a].C&&(D[a].obj=e.skinObj&&e.skinObj.addSkinHotspot?new e.skinObj.addSkinHotspot(D[a]):new vc(this,D[a]),D[a].obj&&D[a].obj.__div)){var c=C.firstChild;c?C.insertBefore(D[a].obj.__div,c):C.appendChild(D[a].obj.__div);}}};e.assignHandler=function(){var a;a=C;e.control=a;Cb();setTimeout(function(){Db();},10);setTimeout(function(){qa();e.updateObject();},10);a.addEventListener?(a.addEventListener("touchstart",sc,u),a.addEventListener("touchmove",rc,u),a.addEventListener("touchend",qc,u),a.addEventListener("touchcancel",pc,u),e.d.addEventListener("MSPointerDown",oc,u),e.d.addEventListener("MSGestureStart",rb,u),e.d.addEventListener("MSGestureEnd",Ob,u),e.d.addEventListener("MSGestureChange",mc,u),a.addEventListener("gesturestart",rb,u),a.addEventListener("gesturechange",nc,u),a.addEventListener("gestureend",Ob,u),a.addEventListener("mousedown",Va,u),a.addEventListener("mousemove",Aa,u),o.addEventListener("mousedown",Va,u),o.addEventListener("mousemove",Aa,u),document.addEventListener("mouseup",Yb,u),Ya&&(e.d.addEventListener("mousedown",Va,u),e.d.addEventListener("mousemove",Aa,u),s.addEventListener("mousedown",Va,u),s.addEventListener("mousemove",Aa,u)),Ya?(o.addEventListener("mousewheel",za,u),s.addEventListener("mousewheel",za,u)):(a.addEventListener("mousewheel",za,u),a.addEventListener("DOMMouseScroll",za,u)),document.addEventListener("keydown",Nb,u),document.addEventListener("keyup",Mb,u),window.addEventListener("orientationchange",Cb,u),window.addEventListener("resize",qa,u),window.addEventListener("blur",Lb,u),e.b.addEventListener("webkitfullscreenchange",ub,u),document.addEventListener("mozfullscreenchange",ub,u),window.addEventListener("webkitfullscreenchange",ub,u)):a.attachEvent&&(o.attachEvent("onmousedown",tc),o.attachEvent("onmousemove",Aa),document.attachEvent("onmouseup",Yb),a.attachEvent("onmousedblclick",e.toggleFullscreen),a.onmousewheel=document.onmousewheel=za,document.attachEvent("onkeydown",Nb),document.attachEvent("onkeyup",Mb),window.attachEvent("onresize",qa),window.attachEvent("onblur",Lb));a.oncontextmenu=function(a){void 0===a&&(a=window.event);return !a.ctrlKey&&(a="<<L>>","U"!=a.charAt(2))?(jc(),u):h;};};e.setFullscreen=function(a){e.isFullscreen!=a&&(e.isFullscreen=a,e.a=h,e.B=h);if(e.isFullscreen){try{e.b.webkitRequestFullScreen?e.b.webkitRequestFullScreen():e.b.mozRequestFullScreen?e.b.mozRequestFullScreen():e.b.requestFullScreen?e.b.requestFullScreen():e.b.requestFullscreen&&e.b.requestFullscreen();}catch(c){}e.b.style.position="absolute";var a=ma(),b=0,g=0;if("number"==typeof window.pageYOffset){g=window.pageYOffset,b=window.pageXOffset;}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){g=document.body.scrollTop,b=document.body.scrollLeft;}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){g=document.documentElement.scrollTop,b=document.documentElement.scrollLeft;}}}e.b.style.left=Math.round(b-a.x+I)+"px";e.b.style.top=Math.round(g-a.y+J)+"px";document.body.style.overflow="hidden";e.divSkin&&e.divSkin.ggEnterFullscreen&&e.divSkin.ggEnterFullscreen();}else{try{document.webkitIsFullScreen?document.webkitCancelFullScreen():document.mozFullScreen?document.mozCancelFullScreen():document.fullScreen&&(document.cancelFullScreen?document.cancelFullScreen():document.exitFullscreen&&document.exitFullscreen());}catch(j){}e.b.style.position="relative";e.b.style.left="0px";e.b.style.top="0px";document.body.style.overflow="";e.divSkin&&e.divSkin.ggExitFullscreen&&e.divSkin.ggExitFullscreen();}qa();};e.toggleFullscreen=function(){e.setFullscreen(!e.isFullscreen);};e.exitFullscreen=function(){e.setFullscreen(u);};e.startAutorotate=function(a,e,b){Z=ia=h;a&&0!=a&&(ha=a);e&&(Ha=e);b&&(lb=1==b);};e.stopAutorotate=function(){ia=Z=u;};e.toggleAutorotate=function(){Z=ia=!Z;};e.createLayers=function(a){var c;e.J=document.getElementById(a);e.J?(e.J.innerHTML="",c="max-width: none !important;max-height: none !important;min-width: none !important;min-height: none !important;padding 0px !important;margin 0px !important;",e.b=document.createElement("div"),e.b.setAttribute("style","top:  0px;left: 0px;-ms-touch-action: none;position:relative;"+c),e.J.appendChild(e.b),x=document.createElement("div"),a="top:  0px;left: 0px;overflow: hidden;position:absolute;"+(R+"user-select: none;"),x.setAttribute("style",a+c),e.b.appendChild(x),H=document.createElement("img"),H.setAttribute("galleryimg","false"),a="top:  0px;left: 0px;position:absolute;visibility: hidden;"+(R+"user-select: none;"),H.setAttribute("style",a+c),x.appendChild(H),o=document.createElement("img"),o.setAttribute("galleryimg","false"),a="top:  0px;left: 0px;position:absolute;"+(R+"user-select: none;"),o.setAttribute("style",a+c),x.appendChild(o),ea=o,Q=document.createElement("canvas"),a="top:  0px;left: 0px;width:  100px;height: 100px;visibility: hidden;position:absolute;"+(R+"user-select: none;"),Q.setAttribute("style",a+c),x.appendChild(Q),s=document.createElement("canvas"),a="top:  0px;left: 0px;width:  100px;height: 100px;position:absolute;"+(R+"user-select: none;"),s.setAttribute("style",a+c),x.appendChild(s),i=document.createElement("div"),i.setAttribute("style","top:  0px;left: 0px;position:absolute;padding: 3px;visibility: hidden;z-index: 1100;"),i.innerHTML=" Hotspot text!",x.appendChild(i),C=document.createElement("div"),a="top:  0px;left: 0px;width:  100px;height: 100px;overflow: hidden;position:absolute;z-index: 1000;"+(R+"user-select: none;"),C.setAttribute("style",a+c),e.b.appendChild(C),e.d=document.createElement("canvas"),a="top:  0px;left: 0px;width:  100px;height: 100px;overflow: hidden;position:absolute;z-index: 900;"+(R+"user-select: none;"),e.d.setAttribute("style",a+c),e.b.appendChild(e.d),e.divSkin=C):alert("container not found!");};e.readConfigString=function(a){window.DOMParser?(parser=new DOMParser,xmlDoc=parser.parseFromString(a,"text/xml")):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async="false",xmlDoc.loadXML(a));e.readConfigXml(xmlDoc);};e.readConfigUrl=function(a){try{var c;c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");c.open("GET",a,u);c.send(k);var b=c.responseXML;if(b){var g=a.lastIndexOf("/");0<=g&&(vb=a.substr(0,g+1));e.readConfigXml(b);}else{alert("Error loading XML");}}catch(j){alert("Error XML:"+j);}};var Za=h;e.readConfigXml=function(a){var f=a.firstChild,a=f.firstChild;a==k&&(a=f.nextSibling.firstChild);for(var b;a;){if("view"==a.nodeName){for(f=a.firstChild;f;){"start"==f.nodeName&&(b=f.getAttributeNode("column"),c.M=Number(b?b.nodeValue:0),c.x=c.M,b=f.getAttributeNode("row"),c.N=Number(b?b.nodeValue:0),c.y=c.N,b=f.getAttributeNode("state"),c.S=Number(b?b.nodeValue:0),c.state=c.S),"zoom"==f.nodeName&&(b=f.getAttributeNode("min"),Na=1*(b?b.nodeValue:1),b=f.getAttributeNode("default"),n=Ab=1*(b?b.nodeValue:1),b=f.getAttributeNode("max"),Oa=1*(b?b.nodeValue:1),b=f.getAttributeNode("centerx"),A=1*(b?b.nodeValue:0),b=f.getAttributeNode("centery"),B=1*(b?b.nodeValue:0)),"viewer"==f.nodeName&&((b=f.getAttributeNode("background"))&&(ec=1==b.nodeValue),(b=f.getAttributeNode("backgroundcolor"))&&(fc=1*b.nodeValue),(b=f.getAttributeNode("imagescaling"))&&(bc=1*b.nodeValue)),f=f.nextSibling;}}if("autorotate"==a.nodeName&&(Za&&(ia=u),(b=a.getAttributeNode("start"))&&(ia=1==b.nodeValue),(b=a.getAttributeNode("pingpong"))&&(lb=1==b.nodeValue),(b=a.getAttributeNode("speed"))&&(ha=1*b.nodeValue),(b=a.getAttributeNode("delay"))&&(Ha=1*b.nodeValue),Z=ia,(b=a.getAttributeNode("onlyonce"))&&0<b.nodeValue)){f=c.M,f=0<ha?f+(b.nodeValue*c.c+0.5):f-(b.nodeValue*c.c+0.5),e.moveTo(f,c.N,0,Math.abs(ha));}if("input"==a.nodeName){if(b=a.getAttributeNode("columns")){c.c=1*b.nodeValue;}if(b=a.getAttributeNode("rows")){c.g=1*b.nodeValue;}if(b=a.getAttributeNode("states")){c.D=1*b.nodeValue;}if(b=a.getAttributeNode("width")){c.width=1*b.nodeValue;}if(b=a.getAttributeNode("height")){c.height=1*b.nodeValue;}if(b=a.getAttributeNode("fileextension")){c.X=b.nodeValue;}if(b=a.getAttributeNode("imagepath")){c.path=b.nodeValue;}if(b=a.getAttributeNode("leveltileurl")){c.ca=b.nodeValue;}if(b=a.getAttributeNode("leveltilesize")){c.k=Number(b.nodeValue);}if(b=a.getAttributeNode("overlap")){c.Z=b.nodeValue;}if(b=a.getAttributeNode("preload")){c.$=1==b.nodeValue;}c.i=[];for(f=a.firstChild;f;){if("level"==f.nodeName){var g={};b=f.getAttributeNode("width");g.width=1*(b?b.nodeValue:1);b=f.getAttributeNode("height");g.height=1*(b?b.nodeValue:1);b=f.getAttributeNode("preload");g.R=u;b&&(g.R=1==b.nodeValue);g.r=Math.floor((g.width+c.k-1)/c.k);g.O=Math.floor((g.height+c.k-1)/c.k);g.s=[];g.W=[];c.i.push(g);}f=f.nextSibling;}}"control"==a.nodeName&&Za&&((b=a.getAttributeNode("simulatemass"))&&(hb=1==b.nodeValue),(b=a.getAttributeNode("locked"))&&(G=1==b.nodeValue),b&&(va=1==b.nodeValue),(b=a.getAttributeNode("lockedmouse"))&&(G=1==b.nodeValue),(b=a.getAttributeNode("lockedkeyboard"))&&(va=1==b.nodeValue),(b=a.getAttributeNode("lockedwheel"))&&(Vb=1==b.nodeValue),(b=a.getAttributeNode("invertwheel"))&&(Wb=1==b.nodeValue),(b=a.getAttributeNode("speedwheel"))&&(Xb=1*b.nodeValue),(b=a.getAttributeNode("sensitifity"))&&(la=1*b.nodeValue),(b=a.getAttributeNode("sensitivity"))&&(la=1*b.nodeValue),(b=a.getAttributeNode("wrapx"))&&(Ib=1==b.nodeValue),(b=a.getAttributeNode("wrapy"))&&(Jb=1==b.nodeValue),(b=a.getAttributeNode("revx"))&&(fb=1==b.nodeValue),(b=a.getAttributeNode("revy"))&&(gb=1==b.nodeValue),(b=a.getAttributeNode("swapxy"))&&(U=1==b.nodeValue),(b=a.getAttributeNode("dblclickfullscreen"))&&(sb=1==b.nodeValue),(b=a.getAttributeNode("automovemode"))&&(Kb=1==b.nodeValue),(b=a.getAttributeNode("controller"))&&(bb=1*b.nodeValue));if("xqthotspots"==a.nodeName){(b=a.getAttributeNode("reuse"))&&(da=1*b.nodeValue);(b=a.getAttributeNode("enabled"))&&(na=1==b.nodeValue);oa=[];g={id:0,title:"",url:"",target:""};oa[g.id]=g;for(f=a.firstChild;f;){"hotspot"==f.nodeName&&(g={},b=f.getAttributeNode("id"),g.id=1*(b?b.nodeValue:1),b=f.getAttributeNode("title"),g.title=b?b.nodeValue.toString():"",b=f.getAttributeNode("url"),g.url=b?b.nodeValue.toString():"",b=f.getAttributeNode("target"),g.target=b?b.nodeValue.toString():"",oa[g.id]=g),f=f.nextSibling;}}if("hotspots"==a.nodeName){for(f=a.firstChild;f;){if("label"==f.nodeName){g=Ba;if(b=f.getAttributeNode("enabled")){g.enabled=1==b.nodeValue;}if(b=f.getAttributeNode("width")){g.width=1*b.nodeValue;}if(b=f.getAttributeNode("height")){g.height=1*b.nodeValue;}if(b=f.getAttributeNode("textcolor")){g.U=1*b.nodeValue;}if(b=f.getAttributeNode("textalpha")){g.T=1*b.nodeValue;}if(b=f.getAttributeNode("background")){g.background=1==b.nodeValue;}if(b=f.getAttributeNode("backgroundalpha")){g.t=1*b.nodeValue;}if(b=f.getAttributeNode("backgroundcolor")){g.u=1*b.nodeValue;}if(b=f.getAttributeNode("border")){g.Q=1*b.nodeValue;}if(b=f.getAttributeNode("bordercolor")){g.z=1*b.nodeValue;}if(b=f.getAttributeNode("borderalpha")){g.v=1*b.nodeValue;}if(b=f.getAttributeNode("borderradius")){g.P=1*b.nodeValue;}if(b=f.getAttributeNode("wordwrap")){g.wordwrap=1==b.nodeValue;}}"polystyle"==f.nodeName&&((b=f.getAttributeNode("mode"))&&(y=1*b.nodeValue),(b=f.getAttributeNode("bordercolor"))&&(wb=1*b.nodeValue),(b=f.getAttributeNode("backgroundcolor"))&&(yb=1*b.nodeValue),(b=f.getAttributeNode("borderalpha"))&&(xb=1*b.nodeValue),(b=f.getAttributeNode("backgroundalpha"))&&(zb=1*b.nodeValue));if("hotspot"==f.nodeName){g={C:"point",pan:0,tilt:0,url:"",target:"",id:"",skinid:"",w:100,h:20,wordwrap:u,obj:k,n:k};(b=f.getAttributeNode("url"))&&(g.url=b.nodeValue.toString());(b=f.getAttributeNode("target"))&&(g.target=b.nodeValue.toString());(b=f.getAttributeNode("title"))&&(g.title=b.nodeValue.toString());(b=f.getAttributeNode("id"))&&(g.id=b.nodeValue.toString());if(b=f.getAttributeNode("reuse")){g.reuse=b.nodeValue;}(b=f.getAttributeNode("skinid"))&&(g.skinid=b.nodeValue.toString());(b=a.getAttributeNode("width"))&&(g.w=b.nodeValue.toString());(b=a.getAttributeNode("height"))&&(g.h=b.nodeValue.toString());(b=a.getAttributeNode("wordwrap"))&&(g.wordwrap=1==b.nodeValue);g.V=[];for(var j=f.firstChild;j;){if("location"==j.nodeName){var i={F:0,I:0,state:0,x:0,y:0};if(b=j.getAttributeNode("column")){i.F=b.nodeValue;}if(b=j.getAttributeNode("row")){i.I=b.nodeValue;}if(b=j.getAttributeNode("state")){i.state=b.nodeValue;}if(b=j.getAttributeNode("x")){i.x=1*b.nodeValue;}if(b=j.getAttributeNode("y")){i.y=1*b.nodeValue;}g.V.push(i);}j=j.nextSibling;}D.push(g);}if("polyhotspot"==f.nodeName){g={C:"poly",url:"",target:"",id:"",skinid:"",H:0,w:100,h:20,wordwrap:u,obj:k,n:k,m:0,o:0};(b=f.getAttributeNode("url"))&&(g.url=b.nodeValue.toString());(b=f.getAttributeNode("target"))&&(g.target=b.nodeValue.toString());(b=f.getAttributeNode("title"))&&(g.title=b.nodeValue.toString());(b=f.getAttributeNode("id"))&&(g.id=b.nodeValue.toString());if(b=f.getAttributeNode("reuse")){g.reuse=b.nodeValue;}g.z=wb;g.u=yb;g.v=xb;g.t=zb;if(b=f.getAttributeNode("bordercolor")){g.z=1*b.nodeValue;}if(b=f.getAttributeNode("backgroundcolor")){g.u=1*b.nodeValue;}if(b=f.getAttributeNode("borderalpha")){g.v=1*b.nodeValue;}if(b=f.getAttributeNode("backgroundalpha")){g.t=1*b.nodeValue;}g.G=[];for(j=f.firstChild;j;){if("polygon"==j.nodeName){i={F:0,I:0,state:0,aa:""};if(b=j.getAttributeNode("vertices")){i.aa=b.nodeValue.toString();b=i.aa.split("|");i.L=[];for(var l=0;l<b.length;l++){var o={},p=b[l].split(";");o.n=[];for(var q=0;q<p.length;q++){var s=p[q].split(","),t={};t.x=1*s[0];t.y=1*s[1];o.n.push(t);}i.L.push(o);}}if(b=j.getAttributeNode("column")){i.F=b.nodeValue;}if(b=j.getAttributeNode("row")){i.I=b.nodeValue;}if(b=j.getAttributeNode("state")){i.state=b.nodeValue;}g.G.push(i);}j=j.nextSibling;}D.push(g);}f=f.nextSibling;}}"userdata"==a.nodeName&&(b=a.getAttributeNode("title"),e.userdata.title=b?b.nodeValue.toString():"",b=a.getAttributeNode("description"),e.userdata.description=b?b.nodeValue.toString():"",b=a.getAttributeNode("author"),e.userdata.author=b?b.nodeValue.toString():"",b=a.getAttributeNode("datetime"),e.userdata.datetime=b?b.nodeValue.toString():"",b=a.getAttributeNode("copyright"),e.userdata.copyright=b?b.nodeValue.toString():"",b=a.getAttributeNode("source"),e.userdata.source=b?b.nodeValue.toString():"",b=a.getAttributeNode("info"),e.userdata.information=b?b.nodeValue.toString():"",b=a.getAttributeNode("comment"),e.userdata.comment=b?b.nodeValue.toString():"");a=a.nextSibling;}e.ba();e.a=h;Za&&e.divSkin&&e.divSkin.ggViewerInit&&e.divSkin.ggViewerInit();Za=u;e.hasConfig=h;qa();x.style.backgroundColor=ec?dc(fc):"transparent";e.preloadImages();};e.openUrl=function(a,c){0<a.length&&window.open(a,c);};e.detectBrowser();e.createLayers(ic);e.assignHandler();}window.object2vrPlayer=object2vrPlayer;