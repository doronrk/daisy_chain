(function(){window.TP=window.TP||{};var a={_callbacks:{},_manifests:{},_protocol:document.location.protocol=="https:"?"https://":"http://",engagerBaseUrl:document.location.protocol=="https:"?"https://s.trustpilot.com/TPElements/":"http://s.trustpilot.com/TPElements/",getSettings:function(m,d){var f=m.getAttribute("data-tp-settings").replace(/( |\r\n|\n|\r)/g,"").split(",");var l={};var h;for(var g=0;g<f.length;g++){var k=f[g].split(":");h=k[0];var n=k[1];var j=h.toLowerCase();if(j=="width"||j=="height"||j=="size"){n=parseInt(n,10)}else{if(n.match(/^true$/i)){n=true}else{if(n.match(/^false$/i)){n=false}}}l[h]=n}for(var c in d){var e=false;for(h in l){if(h.toLowerCase()===c.toLowerCase()){e=true;break}}if(!e){l[c]=d[c]}}return l},showLoader:function(e,f,c,g){var d=document.createElement("div");d.setAttribute("id","tploader-"+f+c);d.innerHTML='<div class="tp-loader" style="position: absolute; top: 0; width: 16px; left: 50%; margin-left: -8px; overflow: hidden;"><img src="'+TP._protocol+'images-static.trustpilot.com/widget/shared/tp_widget_loader.gif" alt="trustpilot widget loader"></div>';d.style.position="relative";d.style.width=g+"px";e.appendChild(d)},hideLoader:function(e,c){var d=document.getElementById("tploader-"+e+c);if(d){d.parentNode.removeChild(d)}},getElementsByClass:function(d){if(typeof document.getElementsByClassName=="function"){return document.getElementsByClassName(d)}var e=[];var c=document.getElementsByTagName("*");var g=new RegExp("\\b"+d+"\\b");for(var f in c){if(c[f]&&c[f].className&&c[f].className.match(g)){e.push(c[f])}}return e},insertIframe:function(c,m,n,i,g,o,l,e){if(m.children.length>1){return}m.children[0].style.display="none";TP.showLoader(m,n,i,o);var k=c;k+="?index="+i;k+="&type="+n;for(var j in l){var f=false;for(var d in e){if(j.toLowerCase()===d.toLowerCase()){if(l[j]!=e[d]){k+="&"+j+"="+l[j]}f=true;break}}if(!f){k+="&"+j+"="+l[j]}}if(window.dontUpdateCloud){k+="&updateCloud=false";k+="&b2bSetting=true"}var h=document.createElement("iframe");h.setAttribute("id","tpiframe-"+n+i);h.allowTransparency=true;h.frameBorder=0;h.width=o;h.height=g;h.index=i;h.path=k;h.scrolling="no";h.type=n;h.onload=function(){h.style.display="block";TP.hideLoader(n,i)};h.src=TP.engagerBaseUrl+k;var p=document.createElement("div");p.className="tpiframe-wrapper";p.appendChild(h);m.appendChild(p)},checkCallBack:function(g,e,f){var d=document.getElementById("tpiframe-"+g+e);if(!TP._callbacks[g+e]){var c=TP.engagerBaseUrl+f;if(d.src!=c){d.src=c}}else{d.style.display="block";TP.hideLoader(g,e)}},loadBadges:function(){var e={100:86,120:103,140:120,180:155,220:189,280:240};var d={size:140,categoryId:0};var g=TP.getElementsByClass("tp_-_category-badge");for(var f=0;f<g.length;f++){var c=g[f];var h=TP.getSettings(c,d);TP.insertIframe("CategoryBadge",c,"badge",f,e[h.size],h.size,h,d)}},loadBoxes:function(){var e=TP.getElementsByClass("tp_-_box");var c={linkColor:"CE5600",fontSize:11,fontFamily:"Helvetica",fontColor:"444444",bgColor:"FFFFFF",bgBarColor:"DDDDDD",borderRadius:"5",borderWidth:"1",borderColor:"444444",showReviews:true,showHeader:true,showRatingText:true,showComplementaryText:true,showUserImage:true,showDate:true,usePopup:true,width:180,numOfReviews:3,fontBarColor:"444444",useDarkLogo:true,useDynamicHeight:true,height:500,reviews1StarsSelected:false,reviews2StarsSelected:false,reviews3StarsSelected:false,reviews4StarsSelected:true,reviews5StarsSelected:true,showSelectedRatings:true};for(var d=0;d<e.length;d++){var g=e[d];var f=TP.getSettings(g,c);TP.insertIframe("Box",g,"box",d,f.height,f.width,f,c)}}};if(window.addEventListener){window.addEventListener("message",function(d){var c=d.data.split(":");var j=c[0];var i=c[1];var f=document.getElementById("tpiframe-"+j+i);if(f){TP._callbacks[j+i]=true;var h=c[2];if(h){var g=parseInt(h,10);if(isFinite(g)){f.height=g}}}},false)}for(var b in a){if(typeof window.TP[b]==="undefined"){window.TP[b]=a[b]}}TP.loadBadges();TP.loadBoxes()})();