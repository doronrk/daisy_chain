$BV.Internal.define("jquery.effects.core",[document],["jquery.core"],function(a,b){
/*
 * jQuery UI Effects 1.8.6
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/
 */
b.effects||(function(j,g){j.effects={};j.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(p,o){j.fx.step[o]=function(q){if(!q.colorInit){q.start=n(q.elem,o);q.end=l(q.end);q.colorInit=true}q.elem.style[o]="rgb("+Math.max(Math.min(parseInt((q.pos*(q.end[0]-q.start[0]))+q.start[0],10),255),0)+","+Math.max(Math.min(parseInt((q.pos*(q.end[1]-q.start[1]))+q.start[1],10),255),0)+","+Math.max(Math.min(parseInt((q.pos*(q.end[2]-q.start[2]))+q.start[2],10),255),0)+")"}});function l(p){var o;if(p&&p.constructor==Array&&p.length==3){return p}if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(p)){return[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10)]}if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(p)){return[parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55]}if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(p)){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(p)){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}if(o=/rgba\(0, 0, 0, 0\)/.exec(p)){return c.transparent}return c[j.trim(p).toLowerCase()]}function n(q,o){var p;do{p=j.curCSS(q,o);if(p!=""&&p!="transparent"||j.nodeName(q,"body")){break}o="backgroundColor"}while(q=q.parentNode);return l(p)}var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var h=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function i(){var r=a.defaultView?a.defaultView.getComputedStyle(this,null):this.currentStyle,s={},p,q;if(r&&r.length&&r[0]&&r[r[0]]){var o=r.length;while(o--){p=r[o];if(typeof r[p]=="string"){q=p.replace(/\-(\w)/g,function(t,u){return u.toUpperCase()});s[q]=r[p]}}}else{for(p in r){if(typeof r[p]==="string"){s[p]=r[p]}}}return s}function d(p){var o,q;for(o in p){q=p[o];if(q==null||j.isFunction(q)||o in e||(/scrollbar/).test(o)||(!(/color/i).test(o)&&isNaN(parseFloat(q)))){delete p[o]}}return p}function k(o,q){var r={_:0},p;for(p in q){if(o[p]!=q[p]){r[p]=q[p]}}return r}j.effects.animateClass=function(o,p,r,q){if(j.isFunction(r)){q=r;r=null}return this.each(function(){var v=j(this),s=v.attr("style")||" ",w=d(i.call(this)),u,t=v.attr("className");j.each(h,function(x,y){if(o[y]){v[y+"Class"](o[y])}});u=d(i.call(this));v.attr("className",t);v.animate(k(w,u),p,r,function(){j.each(h,function(x,y){if(o[y]){v[y+"Class"](o[y])}});if(typeof v.attr("style")=="object"){v.attr("style").cssText="";v.attr("style").cssText=s}else{v.attr("style",s)}if(q){q.apply(this,arguments)}})})};j.fn.extend({_addClass:j.fn.addClass,addClass:function(p,o,r,q){return o?j.effects.animateClass.apply(this,[{add:p},o,r,q]):this._addClass(p)
},_removeClass:j.fn.removeClass,removeClass:function(p,o,r,q){return o?j.effects.animateClass.apply(this,[{remove:p},o,r,q]):this._removeClass(p)},_toggleClass:j.fn.toggleClass,toggleClass:function(q,p,o,s,r){if(typeof p=="boolean"||p===g){if(!o){return this._toggleClass(q,p)}else{return j.effects.animateClass.apply(this,[(p?{add:q}:{remove:q}),o,s,r])}}else{return j.effects.animateClass.apply(this,[{toggle:q},p,o,s])}},switchClass:function(o,q,p,s,r){return j.effects.animateClass.apply(this,[{add:q,remove:o},p,s,r])}});j.extend(j.effects,{version:"1.8.6",save:function(p,q){for(var o=0;o<q.length;o++){if(q[o]!==null){p.data("ec.storage."+q[o],p[0].style[q[o]])}}},restore:function(p,q){for(var o=0;o<q.length;o++){if(q[o]!==null){p.css(q[o],p.data("ec.storage."+q[o]))}}},setMode:function(o,p){if(p=="toggle"){p=o.is(":hidden")?"show":"hide"}return p},getBaseline:function(p,q){var r,o;switch(p[0]){case"top":r=0;break;case"middle":r=0.5;break;case"bottom":r=1;break;default:r=p[0]/q.height}switch(p[1]){case"left":o=0;break;case"center":o=0.5;break;case"right":o=1;break;default:o=p[1]/q.width}return{x:o,y:r}},createWrapper:function(o){if(o.parent().is(".ui-effects-wrapper")){return o.parent()}var p={width:o.outerWidth(true),height:o.outerHeight(true),"float":o.css("float")},q=j("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});o.wrap(q);q=o.parent();if(o.css("position")=="static"){q.css({position:"relative"});o.css({position:"relative"})}else{j.extend(p,{position:o.css("position"),zIndex:o.css("z-index")});j.each(["top","left","bottom","right"],function(r,s){p[s]=o.css(s);if(isNaN(parseInt(p[s],10))){p[s]="auto"}});o.css({position:"relative",top:0,left:0})}return q.css(p).show()},removeWrapper:function(o){if(o.parent().is(".ui-effects-wrapper")){return o.parent().replaceWith(o)}return o},setTransition:function(p,r,o,q){q=q||{};j.each(r,function(t,s){unit=p.cssUnit(s);if(unit[0]>0){q[s]=unit[0]*o+unit[1]}});return q}});function f(p,o,q,r){if(typeof p=="object"){r=o;q=null;o=p;p=o.effect}if(j.isFunction(o)){r=o;q=null;o={}}if(typeof o=="number"||j.fx.speeds[o]){r=q;q=o;o={}}if(j.isFunction(q)){r=q;q=null}o=o||{};q=q||o.duration;q=j.fx.off?0:typeof q=="number"?q:q in j.fx.speeds?j.fx.speeds[q]:j.fx.speeds._default;r=r||o.complete;return[p,o,q,r]}function m(o){if(!o||typeof o==="number"||j.fx.speeds[o]){return true}if(typeof o==="string"&&!j.effects[o]){return true}return false}j.fn.extend({effect:function(r,q,t,v){var p=f.apply(this,arguments),s={options:p[1],duration:p[2],callback:p[3]},u=s.options.mode,o=j.effects[r];if(j.fx.off||!o){if(u){return this[u](s.duration,s.callback)}else{return this.each(function(){if(s.callback){s.callback.call(this)}})}}return o.call(this,s)},_show:j.fn.show,show:function(p){if(m(p)){return this._show.apply(this,arguments)}else{var o=f.apply(this,arguments);o[1].mode="show";return this.effect.apply(this,o)}},_hide:j.fn.hide,hide:function(p){if(m(p)){return this._hide.apply(this,arguments)}else{var o=f.apply(this,arguments);o[1].mode="hide";return this.effect.apply(this,o)}},__toggle:j.fn.toggle,toggle:function(p){if(m(p)||typeof p==="boolean"||j.isFunction(p)){return this.__toggle.apply(this,arguments)}else{var o=f.apply(this,arguments);o[1].mode="toggle";return this.effect.apply(this,o)}},cssUnit:function(o){var p=this.css(o),q=[];j.each(["em","px","%","pt"],function(r,s){if(p.indexOf(s)>0){q=[parseFloat(p),s]}});return q}});j.easing.jswing=j.easing.swing;j.extend(j.easing,{def:"easeOutQuad",swing:function(p,q,o,s,r){return j.easing[j.easing.def](p,q,o,s,r)},easeInQuad:function(p,q,o,s,r){return s*(q/=r)*q+o},easeOutQuad:function(p,q,o,s,r){return -s*(q/=r)*(q-2)+o},easeInOutQuad:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q+o}return -s/2*((--q)*(q-2)-1)+o},easeInCubic:function(p,q,o,s,r){return s*(q/=r)*q*q+o},easeOutCubic:function(p,q,o,s,r){return s*((q=q/r-1)*q*q+1)+o},easeInOutCubic:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q*q+o
}return s/2*((q-=2)*q*q+2)+o},easeInQuart:function(p,q,o,s,r){return s*(q/=r)*q*q*q+o},easeOutQuart:function(p,q,o,s,r){return -s*((q=q/r-1)*q*q*q-1)+o},easeInOutQuart:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q*q*q+o}return -s/2*((q-=2)*q*q*q-2)+o},easeInQuint:function(p,q,o,s,r){return s*(q/=r)*q*q*q*q+o},easeOutQuint:function(p,q,o,s,r){return s*((q=q/r-1)*q*q*q*q+1)+o},easeInOutQuint:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q*q*q*q+o}return s/2*((q-=2)*q*q*q*q+2)+o},easeInSine:function(p,q,o,s,r){return -s*Math.cos(q/r*(Math.PI/2))+s+o},easeOutSine:function(p,q,o,s,r){return s*Math.sin(q/r*(Math.PI/2))+o},easeInOutSine:function(p,q,o,s,r){return -s/2*(Math.cos(Math.PI*q/r)-1)+o},easeInExpo:function(p,q,o,s,r){return(q==0)?o:s*Math.pow(2,10*(q/r-1))+o},easeOutExpo:function(p,q,o,s,r){return(q==r)?o+s:s*(-Math.pow(2,-10*q/r)+1)+o},easeInOutExpo:function(p,q,o,s,r){if(q==0){return o}if(q==r){return o+s}if((q/=r/2)<1){return s/2*Math.pow(2,10*(q-1))+o}return s/2*(-Math.pow(2,-10*--q)+2)+o},easeInCirc:function(p,q,o,s,r){return -s*(Math.sqrt(1-(q/=r)*q)-1)+o},easeOutCirc:function(p,q,o,s,r){return s*Math.sqrt(1-(q=q/r-1)*q)+o},easeInOutCirc:function(p,q,o,s,r){if((q/=r/2)<1){return -s/2*(Math.sqrt(1-q*q)-1)+o}return s/2*(Math.sqrt(1-(q-=2)*q)+1)+o},easeInElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y)==1){return o+z}if(!w){w=y*0.3}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}return -(r*Math.pow(2,10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w))+o},easeOutElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y)==1){return o+z}if(!w){w=y*0.3}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}return r*Math.pow(2,-10*u)*Math.sin((u*y-v)*(2*Math.PI)/w)+z+o},easeInOutElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y/2)==2){return o+z}if(!w){w=y*(0.3*1.5)}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}if(u<1){return -0.5*(r*Math.pow(2,10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w))+o}return r*Math.pow(2,-10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w)*0.5+z+o},easeInBack:function(p,q,o,v,u,r){if(r==g){r=1.70158}return v*(q/=u)*q*((r+1)*q-r)+o},easeOutBack:function(p,q,o,v,u,r){if(r==g){r=1.70158}return v*((q=q/u-1)*q*((r+1)*q+r)+1)+o},easeInOutBack:function(p,q,o,v,u,r){if(r==g){r=1.70158}if((q/=u/2)<1){return v/2*(q*q*(((r*=(1.525))+1)*q-r))+o}return v/2*((q-=2)*q*(((r*=(1.525))+1)*q+r)+2)+o},easeInBounce:function(p,q,o,s,r){return s-j.easing.easeOutBounce(p,r-q,0,s,r)+o},easeOutBounce:function(p,q,o,s,r){if((q/=r)<(1/2.75)){return s*(7.5625*q*q)+o}else{if(q<(2/2.75)){return s*(7.5625*(q-=(1.5/2.75))*q+0.75)+o}else{if(q<(2.5/2.75)){return s*(7.5625*(q-=(2.25/2.75))*q+0.9375)+o}else{return s*(7.5625*(q-=(2.625/2.75))*q+0.984375)+o}}}},easeInOutBounce:function(p,q,o,s,r){if(q<r/2){return j.easing.easeInBounce(p,q*2,0,s,r)*0.5+o}return j.easing.easeOutBounce(p,q*2-r,0,s,r)*0.5+s*0.5+o}})})(b)});
$BV.Internal.define("analyticsVersioning",[window,document],["exports","jquery.core"],function(h,j,c,g){var i=f(4,6);var a=f(4,3);var d={};d["4.6"]=["attributes","bvProduct","brand","bvExtension","eName","association","eventTarget","eType","eventSource","formAction","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];d["4.5"]=["attributes","bvProduct","brand","bvExtension","eName","association","eventTarget","eType","eventSource","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];d["4.4"]=["attributes","bvProduct","brand","bvExtension","eName","eventTarget","eType","eventSource","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];d["4.3"]=["attributes","bvProduct","eName","eventTarget","eType","eventSource","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];var k={};c.downgradeJson=function(n,o){var m=i;var l=e(o);while(m.compareTo(l)>0){if(k[m.toString()]){k[m.toString()](n)}m=m.previous()}while(!d[m.toString()]){m=m.previous();if(m.compareTo(a)<0){b(n,d[a]);return}}b(n,d[m.toString()])};function e(l){if(l=="latest"){return i}try{var m=l.split(".");return f(m[0],m[1])}catch(n){return i}}function f(l,m){return{major:l,minor:m,compareTo:function(n){var o=this.major-n.major;if(o!==0){return o}return this.minor-n.minor},toString:function(){return l+"."+m},previous:function(){if(m>0){return f(l,m-1)}return f(l-1,9)}}}function b(n,l){for(var m in n){if(g.inArray(m,l)==-1){delete n[m]}}}});
$BV.Internal.define("domUtils",[window,document],[],function(b,a){b.bvEscapeHtml=function(c){return String(c).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};b.bvUnescapeHtml=function(c){return String(c).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")};b.bvToggleDivWithIEControlsFrame=function(c,d,e){if(a.getElementById(c).style.display=="block"){bvCloseDivs(c,d)}else{bvExpandDivWithIEControlsFrame(c,d,e)}};b.bvExpandDivWithIEControlsFrame=function(c,d,i,e){if(!e){e=bvOpenDivs}e(c);var h=bvGetIEControlsFrame(d,i);if(h){var f=a.getElementById(c);if(f){f.parentNode.insertBefore(h,f);var g=bvGetLocation(c);h.style.width=g.width;h.style.height=g.height}e(d)}};b.bvGetIEControlsFrame=function(d,f){var e;var c=a.all&&((navigator.userAgent.indexOf("MSIE 6.")>-1)||(navigator.userAgent.indexOf("MSIE 5.5")>-1));if(c){e=a.getElementById(d);if(!e){e=a.createElement("iframe");e.id=d;e.title=f;e.src="javascript:''";e.scrolling="no";e.frameBorder="0";e.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}}return e};b.bvResizeIEControlsFrame=function(c,d){var f=a.getElementById(d);if(f){var e=bvGetLocation(c);f.style.width=e.width;f.style.height=e.height}};b.bvOpenDivs=function(){for(var c=0;c<arguments.length;c++){if(a.getElementById(arguments[c])){if(a.getElementById(arguments[c]).style.display!="block"){a.getElementById(arguments[c]).style.display="block"}}}};b.bvCloseDivs=function(){for(var c=0;c<arguments.length;c++){if(a.getElementById(arguments[c])){if(a.getElementById(arguments[c]).style.display!="none"){a.getElementById(arguments[c]).style.display="none"}}}};b.bvToggleVis=function(c){if(a.getElementById(c).style.display=="block"){a.getElementById(c).style.display="none"}else{a.getElementById(c).style.display="block"}};b.bvGetLocation=function(d){var f=a.getElementById(d);if(f){var c=f.offsetWidth;var e=f.offsetHeight;var i=0;var g=0;while(f){i+=f.offsetLeft;g+=f.offsetTop;f=f.offsetParent}return{left:i,top:g,width:c,height:e}}else{return{left:0,top:0,width:0,height:0}}};b.bvSetOpenerLocation=function(c,d){if(opener){if(opener.closed){b.open(c,"")}else{opener.location.href=c;if(d){b.close()}}return false}return true};b.bvReplaceTokensInSocialURL=function(c){return c.replace("__ROBOT__","no").replace("__TITLE__",encodeURIComponent(a.title))};b.bvFocus=function(e){a.getElementById(e).tabIndex="-1";if(navigator.userAgent.indexOf("MSIE 7")>-1){var c=a.getElementsByTagName("select");for(var d=0;d<c.length;d++){c[d].blur()}}else{a.getElementById(e).focus()}};b.bvStopPropagation=function(c){if(c){c.cancelBubble=true;if(c.stopPropagation){c.stopPropagation()}}}});
$BV.Internal.define("analyticsHooks",[window,document],["exports","jquery.core","analyticsVersioning","domUtils"],function(k,r,t,s,l){k.BVAnalyticsData={GROUP:{bv:"Bazaarvoice"},PRODUCT:{prr:"RatingsAndReviews",qa:"AskAndAnswer",stories:"Stories",profiles:"Profiles"},EVENT_SOURCE:{display:"Display",action:"Action"},E_TYPE:{write:"Write",support:"Support",read:"Read"},EVENT_TARGET:{product:"Product",review:"Review",question:"Question",answer:"Answer",comment:"Comment",profile:"Profile",story:"Story"},E_NAME:{attributeFilter:"AttributeFilter",customClick:"CustomClick",productLink:"ProductLink",paginate:"Paginate",rate:"Rate",shoutIt:"ShoutIt",socialAlerts:"SocialAlerts",socialAnswer:"SocialAnswer",socialConnect:"SocialConnect",sort:"Sort",write:"Write",associate:"Associate",inappropriate:"Inappropriate",whitespace:"Whitespace"},ASSOCIATION:{subscribe:"Subscribe"},FORM_ACTION:{preview:"Preview",edit:"Edit",submit:"Submit",cancel:"Cancel"},LINK_DESTINATION_LOCATION:{external:"External"},SUBJECT_TYPE:{product:"Product",category:"Category"},PAGE_TYPE:{input:"Input",preview:"Preview",confirm:"Confirm"},PAGE_STATUS:{authenticationFailure:"AuthenticationFailure",cancelled:"Cancelled",expired:"Expired",alreadySubmitted:"AlreadySubmitted",own:"Own",duplicate:"Duplicate",validationError:"ValidationError",notSpecified:"Default"}};t._bvGoogleAnalyticsCustomEventFiredCookieName="bvgacef";t._bvGoogleAnalyticsCustomEventFiredEventCategory="Bazaarvoice Content Loaded";function g(){var D={};var z=["BVAnalytics","BVAnalyticsInternalDebug","BVPartnerAnalyticsCallback","BVAutoTagAnalyticsCallback","BVInternalUseOnlyCallback","BVRRInternalLegacyCallback","BVQAInternalLegacyCallback","BVSYInternalLegacyCallback","BVCITrackerCallback"];function y(E){if(E&&(E.onEvent||E.onEventInternal)){return true}for(var F=0;F<z.length;F++){if(typeof k[z[F]]==="function"){return true}}return false}function x(M,E){var K={},F,G=M.bvAnalyticsEnabled===true||(typeof M.bvAnalyticsEnabled==="undefined"&&(typeof M.bvAnalyticsVersion==="string"&&M.bvAnalyticsVersion));function I(N){if(!(typeof N==="string"&&N)){N=M.bvAnalyticsVersion||"4.3"}if(K[N]==null){K[N]=h(M);l.downgradeJson(K[N],N)}return K[N]}if(E){if(E.onEventInternal){try{E.onEventInternal(M)}catch(L){$BV.log(L)}}if(E.onEvent&&G){try{E.onEvent(I())}catch(L){$BV.log(L)}}}for(var H=0;H<z.length;H++){F=z[H];if(typeof k[F]==="function"){try{if(F=="BVAnalytics"||F=="BVPartnerAnalyticsCallback"||F=="BVAutoTagAnalyticsCallback"){if(F=="BVAutoTagAnalyticsCallback"){var J;if(typeof M.autoTagAnalyticsConfiguration==="object"&&M.autoTagAnalyticsConfiguration){J=M.autoTagAnalyticsConfiguration.autoTagAnalyticsVersion}k[F](I(J),M.autoTagAnalyticsConfiguration)}else{if(G){k[F](I(M.bvAnalyticsVersion))}}}else{if(!(E&&/Legacy/.test(F))){k[F](M)}}}catch(L){$BV.log(L)}}}}function B(E){A(E);C(E)}function A(E){if(E.eventSource===BVAnalyticsData.EVENT_SOURCE.display){if(!D[E.bvProduct]){D[E.bvProduct]=true;E.initialProductDisplay=true}}}function C(F){var E=/^\/([^;?#]*)/.exec(location.pathname);if(E){F.urlPageName=E[1]||"/"}}return{isTrackingEnabled:y,getSourceDomain:function(){return u(location.href)},analyticsEvent:function(F,E){B(F);x(F,E)},trackCustomClickEvents:function(H,F,G,I,E){o(k[H]?k[H]():[],G,k[I],E);if(typeof F==="string"&&F){o(s(F),G,k[I],E)}}}}t.containerHandle=g();t.bindToSubmitFrame=t.bindToProductPickerFrame=function(y,x){y.listen("analyticsHooks.getInfo",function(){return{trackingEnabled:t.containerHandle.isTrackingEnabled(x.config),sourceDomain:t.containerHandle.getSourceDomain()}});y.listen("analyticsHooks.analyticsEvent",function(z){return t.containerHandle.analyticsEvent(z,x.config)});y.listen("analyticsHooks.trackCustomClickEvents",function(z){t.containerHandle.trackCustomClickEvents(z.customContainersFnName,z.customTrackedObjectsSelector,z.jsonData,z.customizersName,x.config)});q(y)};t.connectFromSubmitFrame=t.connectFromProductPickerFrame=function(y){var x=$BV.Internal.newLatch(1);t.onInjectedPageLoad=function(){var z=this,A=arguments;
x.queue(function(){z.onInjectedPageLoad.apply(z,A)})};y.call("analyticsHooks.getInfo",function(z){t.containerHandle={isTrackingEnabled:function(){return z.trackingEnabled},getSourceDomain:function(){return z.sourceDomain},analyticsEvent:function(A){y.call("analyticsHooks.analyticsEvent",A)},trackCustomClickEvents:function(C,A,B,D){y.call("analyticsHooks.trackCustomClickEvents",{jsonData:B,customContainersFnName:C,customTrackedObjectsSelector:A,customizersName:D})}};if(z.trackingEnabled){t.onInjectedPageLoad=e;x.release()}});i(y)};function q(z){var x=k.AnalyticsDiagnostics,y=x&&typeof x.bindToEmbeddedFrame==="function";z.listen("analyticsHooks.checkDiagnostics",function(){return{available:!!y,cssUrl:s("head").find('link[rel="stylesheet"][href$="lib/analyticsHooksDiagnostics.css"]').attr("href")}});if(y){x.bindToEmbeddedFrame(z)}}function i(x){x.call("analyticsHooks.checkDiagnostics",function(y){if(y.available){x.requireModules("AnalyticsDiagnostics.",["analyticsHooksDiagnostics"]);$BV.Internal.require(["analyticsHooksDiagnostics"],function(){var A=k.AnalyticsDiagnostics;if(A&&typeof A.connectFromEmbeddedFrame==="function"){A.connectFromEmbeddedFrame(x)}else{$BV.log("AnalyticsDiagnostics is not available")}});if(y.cssUrl){var z="/"+(y.cssUrl.substring(y.cssUrl.indexOf("/",9)+1)).replace(/[\?#&@:]/,"");z=r.location.protocol+"//"+r.location.hostname+z.substring(0,z.lastIndexOf("/"))+"/analyticsHooksDiagnostics.css";s('<link href="__HREF__" rel="stylesheet" type="text/css"/>'.replace("__HREF__",bvEscapeHtml(z))).appendTo("head")}}})}var b=[];var d;function e(A,E,F,C,D,y,x,B){var z=k[F];p(E);a(A,E,z,E.analyticsWhitespaceTrackingEnabled,y);t.containerHandle.trackCustomClickEvents(C,x,E,F);s.each(B,function(G,H){t.containerHandle.trackCustomClickEvents(C,H.selector,E,F)});w(E,z,y);d=D}function p(x){if(s.inArray(x.eType,[BVAnalyticsData.E_TYPE.write,BVAnalyticsData.E_TYPE.support,BVAnalyticsData.E_TYPE.read])==-1){$BV.log("Incorrect value for eType:",x.eType)}}function o(y,z,B,x){var A=h(z);A.eName=BVAnalyticsData.E_NAME.customClick;a(y,A,B,true,x)}function w(A,z,x){if(t.containerHandle.isTrackingEnabled(x)){var y=h(A);y.eventSource=BVAnalyticsData.EVENT_SOURCE.display;BVAnalyticsCustomizer.executeAll(y,"",r,z);t.containerHandle.analyticsEvent(y,x)}}function a(z,B,A,y,x){if(t.containerHandle.isTrackingEnabled(x)&&z){s.each(z,function(){var C=s(this).data("BVAnalyticsTrackerZone");if(C==null){C=v(this,y);b.push(C);s(this).data("BVAnalyticsTrackerZone",C)}C.init(B,A,x)})}}function c(z,A,y,x){if(y){s(z).data("bveventdata",y)}j(z,A,x)}function j(z,B,y){try{var x=f(z,"BVAnalyticsTrackerZone");if(x&&x.isTrackingEnabled()){if(!y||x.isTrackable(z)){x.fireElementActionEvent(z,B)}}}catch(A){$BV.log(A)}}function f(y,x){for(;y!=null;y=y.parentNode){var z=s(y).data(x);if(z!=null){return z}}return null}function h(y){if(typeof y==="object"&&y){var z=s.isArray(y)?[]:{},x;for(x in y){if(y[x]!=null&&y[x]!==""){z[x]=h(y[x])}}return z}return y}function m(y){var x=s(y);return y!==r&&(/^(a|button)$/i.test(y.tagName)||(/^(input)$/i.test(y.tagName)&&!/^(text)$/i.test(x.attr("type")))||x.attr("onclick")||x.parent().attr("onclick")||x.parents("a,button").length>0)}function n(y){var x=s(y);return/^(label)$/i.test(y.tagName)||x.parents("label").length>0}function v(A,B){var I,y,z;function J(M,L,K){I=M;y=L;z=K}function E(K){try{if(D(K.target)){H(K.target,null)}}catch(K){$BV.log(K)}}function G(){return t.containerHandle.isTrackingEnabled(z)}function D(K){return B&&!n(K)||m(K)}function H(K,L){t.containerHandle.analyticsEvent(x(K,L),z)}function x(L,N){var M=N||C(L,d);var K=h(I);K.eventSource=BVAnalyticsData.EVENT_SOURCE.action;BVAnalyticsCustomizer.executeAll(K,M,L,y);return K}function C(K,M){if(M<0||!K){return""}var L=F(K);if(L!=null){return L}else{return C(K.parentNode,M-1)}}function F(L){if(!L){return null}var K=L.name||s(L).attr("data-bvname");if(K&&K.indexOf("BV_TrackingTag_")==0){return K.substr(15)}return null}s(A).bind("click.bvanalytics",E);return{init:J,isTrackingEnabled:G,fireElementActionEvent:H,getContainer:function(){return A
},isTrackable:D,getTrackingTag:F,getElementActionJsonData:x}}k.BVAnalyticsCustomizer=function(x,y){this.regexp=new RegExp("(^|_)("+x+")(_|$)");this.customizer=y};s.extend(BVAnalyticsCustomizer.prototype,{execute:function(x,z,y){if(this.regexp.test(z)){this.customizer(x,z,y)}}});s.extend(BVAnalyticsCustomizer,{executeAll:function(x,z,y,A){BVAnalyticsCustomizer.group(x,z,y);BVAnalyticsCustomizer.linkDestinationLocation(x,z,y);BVAnalyticsCustomizer.eventWhiteSpace(x,z,y);s.each(A,function(){this.execute(x,z,y)})},group:function(x){x.group=BVAnalyticsData.GROUP.bv},setEventNameProperty:function(x){return function(y){y.eName=x}},setAssociationProperty:function(x){return function(y){y.association=x}},setEventTypeProperty:function(x){return function(y){y.eType=x}},setEventTargetProperty:function(x){return function(y){y.eventTarget=x}},eventSort:function(z,C,y){z.eName=BVAnalyticsData.E_NAME.sort;var B={};var x=s(y);if(x.attr("bveventdata")){B=s.parseJSON(x.attr("bveventdata"))}if(!B.sortType){if(B.dropdownId){x=s(s("#"+B.dropdownId)[0])}var A=x.find("option:selected").attr("id");if(A){B={sortType:A.substring(0,A.indexOf("-")),sortDirection:A.substring(A.indexOf("-")+1)}}}z.sortType=B.sortType;z.sortDirection=B.sortDirection},eventShoutit:function(x,z){x.eName=BVAnalyticsData.E_NAME.shoutIt;var y=/.*_SocialBookmark([^_]+)_.*/.exec(z);if(y[1]){x.socialMedium=y[1]}},eventSocialConnect:function(x){x.eName=BVAnalyticsData.E_NAME.socialConnect},eventFacebookLike:function(x){x.eType=BVAnalyticsData.E_TYPE.support;x.eName=BVAnalyticsData.E_NAME.associate;x.socialMedium="Facebook"},eventWhiteSpace:function(x,z,y){if(y&&x.analyticsWhitespaceTrackingEnabled&&!m(y)&&x.eventSource!=BVAnalyticsData.EVENT_SOURCE.display){x.eName=BVAnalyticsData.E_NAME.whitespace}},linkDestinationLocation:function(y,A,z){if(z&&s(z).is("a")){var B=t.containerHandle.getSourceDomain();var x=u(s(z).attr("href"));if(B&&x&&B!==x){y.linkDestinationLocation=BVAnalyticsData.LINK_DESTINATION_LOCATION.external}}},linkDestinationLocationExternal:function(x){x.linkDestinationLocation=BVAnalyticsData.LINK_DESTINATION_LOCATION.external},socialAndButtonElementsDispatcher:function(z,C,y){if(z.eventSource!==BVAnalyticsData.EVENT_SOURCE.action||!y||(!y.name&&!C)){return}var B=y.name;if(!B){var x=/Submission_FormAction_([^_]+)/.exec(C);if(x&&x[1]){B=x[1]}else{return}}if(B==="useremailalerts"||B==="sendemailonanswer"||B==="sendemailoncomment"){z.eName=BVAnalyticsData.E_NAME.socialAlerts}else{if(B==="preview"){z.formAction=BVAnalyticsData.FORM_ACTION.preview}else{if(B==="cancel"){z.formAction=BVAnalyticsData.FORM_ACTION.cancel}else{if(B==="submit"||B==="socialanswering_submit"){if(B=="socialanswering_submit"&&s("#BVSUFieldCheckboxSocialAnsweringSignupID").is(":checked")){z.eName=BVAnalyticsData.E_NAME.socialAnswer}z.formAction=BVAnalyticsData.FORM_ACTION.submit}else{if(B==="edit"){z.formAction=BVAnalyticsData.FORM_ACTION.edit}else{if(B.indexOf("socialconnect_")==0){z.eName=BVAnalyticsData.E_NAME.socialConnect;var A=/socialconnect_(.*?)_postdesired/.exec(B)[1];A=A.substr(0,1).toUpperCase()+A.substr(1);z.socialMedium=A}}}}}}if(y.form&&y.form.name=="BVSU_FVReportForm"){z.eType=BVAnalyticsData.E_TYPE.support;z.eName=BVAnalyticsData.E_NAME.inappropriate}}});function u(x){var y=/^http[s]?:\/\/([^\/]+\.)?([^\/.]+\.[^\/.]+)/i.exec(x);return y&&y[2].toLowerCase()}s.extend(t,{onInjectedPageLoad:e,fireActionEvent:c,internalZones:function(){return b},callAutotag:(function(){var x={};return function(z,C){var y=[];for(var B=2;B<arguments.length;B++){y.push((arguments[B]||"").toString())}var A=y.join("~#~");if(!x[A]){x[A]=true;try{C.apply(z,[].slice.call(arguments,2))}catch(D){$BV.log("Error calling autotag "+D.description,D)}}}})(),stateTracker:function(){var x=[];return{assign:function(A,B,z){if(B in A){var y=A[B];x.push(function(){A[B]=y})}else{x.push(function(){try{delete A[B]}catch(C){A[B]=undefined}})}A[B]=z},undoAll:function(){for(var y=x.length-1;y>=0;y--){x[y]()}x=[]}}},getJsonWithDefaultValues:function(y){var x=h(y),z={group:BVAnalyticsData.GROUP.bv,bvProduct:"Default",eventSource:"Default",eType:"Default",eName:"Default",urlPageName:"/"};
s.each(z,function(A,B){if(x[A]===undefined){x[A]=B}});return x}});k.BVAnalyticsTracker=t});
$BV.Internal.define("parseUri",[],["jquery.core"],function(h){
/*
 * parseUri 1.2.2
 * (c) Steven Levithan <stevenlevithan.com>
 * MIT License
 */
function d(r){var q=d.options,l=q.parser[q.strictMode?"strict":"loose"].exec(r),p={},n=14;while(n--){p[q.key[n]]=l[n]||""}p[q.q.name]=[];p[q.key[12]].replace(q.q.parser,function(o,m,s){if(m){p[q.q.name][m]=s;p[q.q.name].push({name:m,value:s})}});return p}d.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};d.options.strictMode=true;function a(){var m=this;var l="";if(m.user){l+=m.user}if(m.password){l+=":"+m.password}return m.userInfo=l}function j(){var l=this;var m="";a.call(l);if(l.userInfo){m+=l.userInfo+"@"}if(l.host){m+=l.host}if(l.port){m+=":"+l.port}return l.authority=m}function b(){var l=this;var m="";if(l.directory){m+=l.directory}if(l.file){m+=l.file}return l.path=m}function g(){var m=this;var n="";for(var l=0;l<m.queryKey.length;l++){var o=m.queryKey[l];n+=(n?"&":"")+o.name+"="+o.value}return m.query=n}function e(){var l=this;var m="";b.call(l);if(l.path){m+=l.path}g.call(l);if(l.query){m+="?"+l.query}if(l.anchor){m+="#"+l.anchor}return l.relative=m}function f(){var l=this;var m="";if(l.protocol){m+=l.protocol+":"}j.call(l);if(l.authority){m+="//"+l.authority}e.call(l);if(l.relative){m+=l.relative}return l.source=m}function c(m,l,p){var o=this;for(var n=0;n<o.queryKey.length;n++){var q=o.queryKey[n];if(q.name===m&&q.value===l){q.value=p}}if(o.queryKey[m]===l){o.queryKey[m]=p}return o}function k(n){var m=this;for(var l=m.queryKey.length-1;l>=0;l--){var o=m.queryKey[l];if(o.name.indexOf(n)==0){m.queryKey.splice(l,1)}}return m}function i(m){var l=this;l.queryKey=l.queryKey.concat(m);return l}return function(){return h.extend(d.apply(null,arguments),{rebuild:f,replaceQueryParameter:c,removeParamsByNamePrefix:k,addParams:i})}});
$BV.Internal.define("requester",[window],["exports","jquery.core","parseUri"],function(f,l,e,c){var m=/^[^?#]*\.(js|djs)\?([^&#]*&)*format=(mobile)?(bulk)?embeddedhtml([&#].*)?$/i,n={},i=[],k=[],h={},d=new Date().getTime()%(1013<<20),g={};function b(o){return m.test(o)}function j(p,t,r){var o=c(p);var s=o.authority;if(f.location.host===s){return t(f)}var u=a(function(w){return w.location.host===s});if(u){return t(u)}for(var q=0;q<i.length;q++){var v=i[q];if(v.targetDomain===s){return r(v)}}$BV.log("Cannot access url because no frame is available",p)}function a(o){if(o(f)){return f}for(var p in n){var r=n[p];try{if(r.$BV&&o(r)){return r}}catch(q){$BV.log("Cannot access frame: "+p,q)}}}e.extend(l,{getQueryParam:function(p){var o=new RegExp("[?&]"+p+"=([^&]+)","i").exec(f.location.search);return o&&decodeURIComponent(o[1])},isUrlAllowed:function(p,o){var r=c(p).authority;for(var q=0;q<o.length;q++){if(l.domainMatches(o[q],r)){return true}}return false},domainMatches:function(r,s){if(r.charAt(0)==="."){var p=/^([^:]*)(:\d+)?$/.exec(s),q=p&&p[1];if(q){var o=("."+q).lastIndexOf(r);return o>=0&&o===(1+q.length-r.length)}}else{return s===r}},get:function(o,q,r){if(b(o)){l.getJsonp(o,r)}else{try{f.frames[q].location=o}catch(p){if(f.document.getElementById(q)){f.document.getElementById(q).contentWindow.location=o}}}},getConfigKey:function(o){if(!o.requestConfigKey){h[o.requestConfigKey=String(++d)]=o}return o.requestConfigKey},getConfig:function(o){return typeof o==="object"?o:h[o]},getJsonp:function(q,r){var p=l.getConfig(r),o=arguments[2];if(!p){if(o){$BV.Internal.callAjax(q)}else{$BV.log("Cannot get url because no config is available",q,r)}}else{if(!l.isUrlAllowed(q,p.allowedDomains)){$BV.log("Cannot get url because hostname is not allowed",q)}else{$BV.Internal.callAjax(q,p)}}},findDocDomainFrame:a,registerDocDomainFrame:function(o){var p=o.frameElement;n[p.name]=p.contentWindow},registerCrossDomainProxy:function(o){i.push(o)},waitForCss:function(p,r){if(p.readyState==="complete"){r();return}var o=p.href,q=k[o];if(!q){q=k[o]=$BV.Internal.newLatch(1);l.download(o,q.release)}q.queue(r)},download:function(o,p){j(o,function(q){q.$BV.Internal.require(["jquery.core"],function(r){r.ajax({type:"GET",url:o,complete:function(){p()}})})},function(q){q.download(o,p)})},post:function(o,p,q){j(o,function(r){r.$BV.Internal.require(["jquery.core"],function(s){s.post(o,p!=null?p:{},q,"json")})},function(r){r.post(c(o),p,q)})},postForm:function(q,s,t){var p=e(q),o=p.attr("action"),r=p.serializeArray();if(s){r.push({name:s,value:"true"})}l.post(o,r,t)},jsLinkSelector:"a[data-bvjsref]",jsButtonLinkSelector:"button[data-bvjsref]",asJsLink:function(p){var o="javascript://";return{getUrl:function(){return p.attr("data-bvjsref")},setUrl:function(q){p.attr("data-bvjsref",q).attr("href",o)},unsetUrl:function(){p.removeAttr("data-bvjsref").removeAttr("href")},follow:function(){l.getJsonp(this.getUrl(),p.attr("data-bvcfg"),arguments[0])},followIfNotDefaultPrevented:function(t){var s=t.timeStamp,q=this.getUrl(),r=p.attr("data-bvcfg");var u=g[s]=$BV.Internal.newLatch(1);u.queue(function(){l.getJsonp(q,r)});p.attr("href","javascript:$BV.Internal.Requester.followLink("+s+")").attr("target","_self");setTimeout(function(){p.attr("href",o).removeAttr("target");delete g[s]},1000)}}},followLink:function(o){if(g[o]){g[o].release();delete g[o]}else{$BV.log("Cannot follow link: "+o)}},asHtmLink:function(o){return{getUrl:function(){return o.attr("href")},setUrl:function(p){o.attr("href",p)},unsetUrl:function(){o.removeAttr("href")}}},asJsOrHtmLink:function(q){function o(){}var p=q.attr("data-bvjsref")?l.asJsLink(q):q.attr("href")?l.asHtmLink(q):{getUrl:o,unsetUrl:o};return{getUrl:function(){return p.getUrl()},setUrl:function(r){p.unsetUrl();p=b(r)?l.asJsLink(q):l.asHtmLink(q);p.setUrl(r)},unsetUrl:function(){p.unsetUrl()}}}});l.onPageLoad=function(q,p,o){if(q==="bindJsLinks"){o.undelegate(l.jsLinkSelector,"click.bvjsref").delegate(l.jsLinkSelector,"click.bvjsref",function(r){l.asJsLink(e(this)).followIfNotDefaultPrevented(r)
})}else{if(q==="bindJsButtons"){o.undelegate(l.jsButtonLinkSelector,"click.bvjsref").delegate(l.jsButtonLinkSelector,"click.bvjsref",function(){l.asJsLink(e(this)).follow()})}}};$BV.Internal.Requester=l});
$BV.Internal.define("cookies",[window,document],["exports","jquery.core","requester"],function(h,m,n,p,a){var q=/^[A-Za-z0-9!#$%&*+\-.^_`|~]+$/,r=q,i=/^[\x20-\x21\x23-\x26\x28-\x3A\x3C-\x5B\x5D-\x7E]*$/,b=[];function f(t){var z={};try{if(t&&(t=p.trim(t))!==""){var v=t.split(/; */);for(var u=0;u<v.length;u++){var A=v[u],x=A.indexOf("=");if(x>0){var s=A.substring(0,x),y=A.substring(x+1);if(/^".*"$/.test(y)){y=y.substring(1,y.length-1)}if(i.test(y)){z[s]=y}}}}}catch(w){$BV.log(w)}return z}function l(s,t,w,u){try{s.cookie=c(t,"",w,u)+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}catch(v){$BV.log(v)}}function g(s,u,w,y,v,t){try{s.cookie=c(u,w,y,v,t)}catch(x){$BV.log(x)}}function o(t,v,u){if(!u||j(u,h.location.host)){l(m,t,v,e(u,h.location.host))}else{var s=d(u);if(s){s.remove(t,v,u)}else{$BV.log("Cannot remove cookie on "+u+" because no frame is available")}}}function k(u,w,x,v,s){if(!v||j(v,h.location.host)){g(m,u,w,x,e(v,h.location.host),s)}else{var t=d(v);if(t){t.set(u,w,x,v,s)}else{$BV.log("Cannot set cookie on "+v+" because no frame is available")}}}function d(t){var u=a.findDocDomainFrame(function(w){return j(t,w.location.host)});if(u){return{parse:function(w){if(w){w(f(u.document.cookie))}},set:function(x,z,A,y,w,B){g(u.document,x,z,A,e(y,u.location.host),w);if(B){B()}},remove:function(w,y,x,z){l(u.document,w,y,e(x,u.location.host));if(z){z()}}}}for(var s=0;s<b.length;s++){var v=b[s];if(j(t,v.targetDomain)){return v}}}function j(t,s){return a.domainMatches(t,s)}function e(t,s){return(t===s)?null:t}function c(t,v,w,u,s){t=String(t);v=String(v);if(!q.test(t)){throw new Error("Invalid cookie name: "+t)}if(!i.test(v)){throw new Error("Invalid cookie value: "+v)}return t+"="+(r.test(v)?v:'"'+v+'"')+(w?";path="+w:"")+(u?";domain="+u:"")+(s?";expires="+s:"")}p.extend(n,{parse:f,get:function(s){return n.parse(m.cookie)[s]},set:k,remove:o,registerDocDomainFrame:function(s){a.registerDocDomainFrame(s)},registerCrossDomainProxy:function(s){b.push(s)},parseFromDomainAsync:function(u,w){var x,v=$BV.Internal.newLatch(1),s=d(u);function t(y){x=y;v.release()}if(s){s.parse(t)}else{$BV.log("Cannot get cookies from "+u+" because no frame is available");t({})}return function(y){v.queue(function(){y(x,function z(A){o(A,w,u)})})}}})});
$BV.Internal.define("magpie",[window],["exports"],function(e,a){var c=false,b=false,d=false;function f(){var h=$BV.Internal._magpieSettings||{autoTagEnabled:false};c=h.autoTagEnabled===true;d=h.defaultClassesOnly;e._bvaq=e._bvaq||[];e._bvaq.push(["setSource","prr"]);g("setEnvironment",h,"prrEnv");g("setAnonymous",h,"anonymous");g("setBrandDomain",h,"brandDomain");g("setAnonTrackerHostname",h,"anonymousHostname");g("setTrackerHostname",h,"trackerHostname");if($BV.getConfiguration){var i=$BV.getConfiguration();g("setClient",i,"clientName",true);g("setDisplay",i,"displayCode",true)}}function g(i,j,l,h){if(j&&j.hasOwnProperty(l)){var k=j[l];e._bvaq.push([i,h?(k+"").toLowerCase():k])}}f();a.isAutoTagEnabled=function(){return c};a.isDefaultTrackingOnly=function(){return d};a.load=function(){if(b){return}var k=(document.location.protocol=="https:"?"https:":"http:");var j=k+"//magpie-static.ugc.bazaarvoice.com/magpiejs/2.4/magpie.js";var i=document.createElement("script");i.type="text/javascript";i.async=true;i.src=j;var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(i,h);b=true}});
$BV.Internal.define("magpieTracking",[window,document],["exports","jquery.core","magpie"],function(j,r,i,u,a){function z(D){var C=false,B;return function(){if(!C){B=D.apply(this,arguments);C=true;D=null}return B}}function y(){return(new Date()).getTime()}function b(B){j._bvaq.push(B)}function x(){if(!s){return true}return !r[s]}var s=null;if(typeof r.hidden!=="undefined"){s="hidden"}else{if(typeof r.mozHidden!=="undefined"){s="mozHidden"}else{if(typeof r.msHidden!=="undefined"){s="msHidden"}else{if(typeof r.webkitHidden!=="undefined"){s="webkitHidden"}}}}var c=function(B,D){var C;return function(){var F=this,E=arguments;var G=function(){C=null;B.apply(F,E)};clearTimeout(C);C=setTimeout(G,D)}};var t=["brand","bvProduct","productId","rootCategoryId",{prr:"leafCategoryId",mag:"categoryId"}];var k={RatingsAndReviews:["#BVRRContentContainerID","#BVRRDisplayContentBodyID"],AskAndAnswer:["#BVQAContainer"],Stories:["#BVSYContentContainerID"]};var v=150;var h=100;var g=5000;var e=10;var n=function(B,D,C){this.firedEvent=false;this.timeFirstVisible=y();this.selector=B;this.bvProduct=D;this.baseEvent=C;n.byProduct[C.bvProduct]=this;this.viewedEventAttempts=0};n.prototype={_fireEnteredViewEvent:function(){var B=u.extend(this.baseEvent,{type:"Used",name:"InView",elapsedMs:y()-this.timeFirstVisible});b(["trackEvent","Feature",B]);this.firedEvent=true},_fireViewedEvent:function(){var B=this;if(!f(this.selector)){this.viewedEventAttempts++;if(this.viewedEventAttempts>e){return}setTimeout(function(){B._fireViewedEvent()},g);return}var C=u.extend(this.baseEvent,{type:"Used",name:"viewedUGC",interaction:true,detail1:g,elapsedMs:y()-this.timeFirstVisible});b(["trackEvent","Feature",C]);this.firedEvent=true}};n.byProduct={};var f=function(B){return(l(B)>h)};var w=function(B){o(B.data.checker)};var o=function(B){if(!x()){return}if(B.firedEvent){return}if(f(B.selector)){B._fireEnteredViewEvent();B.firedEvent=true;setTimeout(function(){B._fireViewedEvent()},g);u(j).unbind("load click resize scroll")}};var l=function(C){var E=u(C);if(!E||E.length==0){return 0}var G=j.innerHeight||r.documentElement.clientHeight;var F=E[0].getBoundingClientRect();var D;var B=F.height;if(!B){B=F.bottom-F.top}if(F.top<=0){D=Math.max(F.top+B,0);D=Math.min(D,G);return D}if(F.top>=G){return 0}return Math.min(G-F.top,B)};var p=function(B){c(o(B.data.checker),v)};n.start=function(E){var D;var C=E.bvProduct;if(C&&!n.byProduct[C]){var B=q(C);if(B){D=new n(B,C,u.extend({},E));u(j).bind("load click",{checker:D},w).bind("resize scroll",{checker:D},p)}}};var q=function(C){var E=k[C];for(var D=0;D<E.length;D++){var B=E[D];if(B&&u(B).height()>h){return B}}if(E.length>0){return E[0]}};function m(){}m.prototype={trackEvent:function(C){var B=this._extractFields(C,{},t);switch(C.eType){case"Read":if(C.eventSource==="Display"){this._trackReadDisplayEvent(C,B)}else{this._trackFeatureUsed(C,B)}break;case"Support":this._trackFeatureUsed(C,B);break;case"Conversion":this._trackConversion(C);break;case"Write":break}},isPageView:function(B){return B.initialProductDisplay||B.pageType},_trackReadDisplayEvent:function(C,B){if(this.isPageView(C)){if(this.hasUGC(C)){n.start(B)}this._trackPageView(C,u.extend({},B))}this._trackImpressions(C,B)},hasUGC:function(C){var B=(C&&C.attributes)||{};return B.numQuestions>0||B.numAnswers>0||B.numReviews>0||B.numStories>0},_trackPageView:function(B,C){if(u.inArray(B.subjectType,["Product","Category"])>-1){C=this._extractFields(B.attributes,C,["avgRating","percentRecommend","numAnswers","numQuestions","numReviews","syndicationStatistics"]);C.type=B.subjectType;b(["trackPageView",C])}},_trackImpressions:function(C,D){var B=C.attributes?C.attributes.ugcOnPage:null;if(!B){return}D.type="UGC";if(!C.initialProductDisplay){D.initialContent=false}b(["addBatch",D]);this._addImpressionsToBatch(null,B);b(["flushBatch"])},_addImpressionsToBatch:function(D,C){var B=this;u.each(C,function(E,G){var F={contentId:G.id,contentType:G.type,numPeers:C.length,peerPosition:E,guid:G.guid};
if(G.sourceClient){F.syndicated=true;F.syndicationSource=G.sourceClient}if(D){F.parentId=D.id;F.parentType=D.type}b(["addBatchItem","Impression",F]);if(G.children){B._addImpressionsToBatch(G,G.children)}})},_trackFeatureUsed:function(C,D){if(!C.eName){return}D.type="Used";D.name=C.eName;var B=null;switch(C.eName){case"Sort":B=[{prr:"sortType",mag:"detail1"},{prr:"sortDirection",mag:"detail2"}];break;case"AttributeFilter":B=[{prr:"filterDimension",mag:"detail1"},{prr:"filterName",mag:"detail2"}];break}if(B){D=this._extractFields(C.attributes,D,B)}b(["trackEvent","Feature",D])},_trackConversion:function(B){var C=B.conversionTrackingMetadata||0;event.type="Transaction";event.label=B.conversionTrackingName||null;event.proxy=true;event.total=C;event.items=[{sku:B.productId,price:C}];b(["trackConversion",event])},_extractFields:function(E,D,B){var C,H,G,F;for(C=B.length;--C>=0;){H=G=B[C];if(H.prr){G=H.mag;H=H.prr}F=E[H];if(F!==undefined&&F!==null){D[G]=F}}return D}};var A=z(function(B){b(["setClient",B.bvClientName]);b(["setDisplay",B.bvDisplayCode])});var d=null;i.trackBvAnalyticsEvent=function(B){if(!a.isAutoTagEnabled()){return}A(B);a.load();if(!d){d=new m()}d.trackEvent(B)}});
$BV.Internal.modify("analyticsHooks","analyticsAutoTagHooks",[window,document],["exports","jquery.core","analyticsHooks","cookies","magpieTracking"],function(window,document,AnalyticsAutoTagHooks,$bv,AnalyticsHooks,Cookies,MagpieTracking){window.BVAutoTagAnalyticsCallback=function(rawJson,settings){if(!settings||!settings.autoTagAnalyticsVersion){return}var vendorMapping={google:[AnalyticsAutoTagHooks.googleAnalyticsCallback],coremetrics:[AnalyticsAutoTagHooks.coremetricsAnalyticsCallback],omniture:[AnalyticsAutoTagHooks.omnitureAnalyticsCallback,AnalyticsAutoTagHooks.omnitureBrandVoiceAnalyticsCallback],workbench:[AnalyticsAutoTagHooks.workbenchAnalyticsCallback],magpie:[AnalyticsAutoTagHooks.magpieAnalyticsCallback]};var vendors=settings.vendors;if(vendors){for(var i=0;i<vendors.length;i++){var vendorCallbacks=vendorMapping[vendors[i].vendorName];if(vendorCallbacks){for(var j=0;j<vendorCallbacks.length;j++){if(vendorCallbacks[j]){vendorCallbacks[j](rawJson,settings,vendors[i])}}}}}};AnalyticsAutoTagHooks.googleAnalyticsCallback=function(rawJson,settings,vendorSettings){$bv(function(){var tracker=AnalyticsAutoTagHooks.getGoogleAnalyticsTracker(vendorSettings);if(!(typeof tracker==="object"&&tracker)){return}var json=BVAnalyticsTracker.getJsonWithDefaultValues(rawJson);if(json.eventSource===BVAnalyticsData.EVENT_SOURCE.display&&Cookies.get(AnalyticsHooks._bvGoogleAnalyticsCustomEventFiredCookieName+json.bvProduct)==null){BVAnalyticsTracker.callAutotag(tracker,tracker.trackEvent,AnalyticsHooks._bvGoogleAnalyticsCustomEventFiredEventCategory,json.group+" "+json.bvProduct+" "+BVAnalyticsData.EVENT_SOURCE.display,undefined,undefined,true);Cookies.set(AnalyticsHooks._bvGoogleAnalyticsCustomEventFiredCookieName+json.bvProduct,true,"/")}if(!AnalyticsAutoTagHooks.eventIsTracked(json,settings)){return}BVAnalyticsTracker.callAutotag(tracker,tracker.trackEvent,json.group+" "+json.bvProduct,json.eventSource+" "+json.eType+" "+AnalyticsAutoTagHooks.getEventName(json,settings),"BV^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"),undefined,json.eventSource===BVAnalyticsData.EVENT_SOURCE.display)})};AnalyticsAutoTagHooks.workbenchAnalyticsCallback=function(rawJson,settings,vendorSettings){};AnalyticsAutoTagHooks.magpieAnalyticsCallback=function(rawJson,settings,vendorSettings){$bv(function(){MagpieTracking.trackBvAnalyticsEvent(BVAnalyticsTracker.getJsonWithDefaultValues(rawJson),settings,vendorSettings)})};AnalyticsAutoTagHooks.coremetricsAnalyticsCallback=function(rawJson,settings,vendorSettings){var json=AnalyticsHooks.getJsonWithDefaultValues(rawJson);if(!AnalyticsAutoTagHooks.eventIsTracked(json,settings)){return}$bv(function(){if(typeof cG7==="object"&&cG7){var oldPageId=cG7.cM0[cm_ClientID];if(vendorSettings.signature=="pageCategorySearch"){AnalyticsHooks.callAutotag(window,cmCreatePageviewTag,"BV^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"),json.group+"^"+json.bvProduct+"^"+json.eventSource+"^"+json.eType+"^"+AnalyticsAutoTagHooks.getEventName(json,settings))}else{if(vendorSettings.signature=="pageSearchCategory"){AnalyticsHooks.callAutotag(window,cmCreatePageviewTag,"BV^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"),null,json.group+"^"+json.bvProduct+"^"+json.eventSource+"^"+json.eType+"^"+AnalyticsAutoTagHooks.getEventName(json,settings))}}cG7.cM0[cm_ClientID]=oldPageId}})};AnalyticsAutoTagHooks.omnitureBrandVoiceAnalyticsCallback=function(rawJson,settings,vendorSettings){var json=AnalyticsHooks.getJsonWithDefaultValues(rawJson);if(!(json.bvExtension&&json.initialProductDisplay&&((vendorSettings.brandVoiceTrackingType=="BEFORE_AFTER"&&json.bvExtension.BrandVoice)||(vendorSettings.brandVoiceTrackingType=="SPLIT"&&json.bvExtension.SplitTestBucket)))){return}var elem=(window.event&&(event.target||event.srcElement))||window;
$bv(function(){var tracker=AnalyticsAutoTagHooks.getOmnitureAnalyticsTracker(vendorSettings);if(typeof tracker==="object"&&tracker){var data="";if(vendorSettings.brandVoiceTrackingType=="BEFORE_AFTER"){data=json.brand+"^"+json.bvExtension.BrandVoice+"^"+json.productId}else{if(vendorSettings.brandVoiceTrackingType=="SPLIT"){data=json.brand+"^"+json.bvExtension.SplitTestBucket+"^"+json.productId}}if(tracker.products){var products=tracker.products.replace(/([^,;]*;[^,;]*);[^,]*/g,"$1");var productsParameters=products.split(";");if(productsParameters.length==2&&productsParameters[1].length>0){var state=AnalyticsHooks.stateTracker();state.assign(tracker,"linkTrackVars","products");products+=";;;;eVar"+vendorSettings.brandVoiceTrackingEVarNum+"="+data;state.assign(tracker,"products",products);state.assign(window,"s_linkTrackVars",tracker.linkTrackVars);AnalyticsHooks.callAutotag(tracker,tracker.tl,elem,"o",data.replace(/\^/g," "));state.undoAll()}}}})};AnalyticsAutoTagHooks.omnitureAnalyticsCallback=function(rawJson,settings,vendorSettings){var json=AnalyticsHooks.getJsonWithDefaultValues(rawJson);if(!AnalyticsAutoTagHooks.eventIsTracked(json,settings)){return}var elem=(window.event&&(event.target||event.srcElement))||window;$bv(function(){var tracker=AnalyticsAutoTagHooks.getOmnitureAnalyticsTracker(vendorSettings);if(typeof tracker==="object"&&tracker){var eventNum=vendorSettings.eventNum;var eVarNum=vendorSettings.eVarNum;var data=json.group+"^"+json.bvProduct+"^"+json.eventSource+"^"+json.eType+"^"+AnalyticsAutoTagHooks.getEventName(json,settings);var state=AnalyticsHooks.stateTracker();state.assign(tracker,"linkTrackVars","events");state.assign(tracker,"linkTrackEvents","event"+eventNum);state.assign(tracker,"events","event"+eventNum);if(tracker.products){tracker.linkTrackVars+=",products";state.assign(tracker,"products",tracker.products.replace(/([^,;]*;[^,;]*);[^,]*/g,"$1"))}tracker.linkTrackVars+=",eVar"+eVarNum;state.assign(tracker,"eVar"+eVarNum,data);state.assign(window,"s_linkTrackEvents",tracker.linkTrackEvents);state.assign(window,"s_linkTrackVars",tracker.linkTrackVars);state.assign(window,"s_events",tracker.linkTrackEvents);AnalyticsHooks.callAutotag(tracker,tracker.tl,elem,json.linkDestinationLocation===BVAnalyticsData.LINK_DESTINATION_LOCATION.external?"e":"o",data.replace("^"," ")+"^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"));state.undoAll()}})};AnalyticsAutoTagHooks.eventIsTracked=function(json,settings){var tracking=settings.productTracking.tracking;var trackInitialProductDisplay=settings.productTracking.initialProductDisplay;if(!tracking||(json.eventSource!=BVAnalyticsData.EVENT_SOURCE.action&&!(json.pageType&&json.eType==BVAnalyticsData.E_TYPE.write&&settings.trackSubmissionPageLoads)&&!(trackInitialProductDisplay&&json.initialProductDisplay&&json.eType==BVAnalyticsData.E_TYPE.read))||(json.formAction&&!settings.trackFormActions&&json.eType==BVAnalyticsData.E_TYPE.write)){return false}return true};AnalyticsAutoTagHooks.getEventName=function(json,settings){if(json.eventSource==BVAnalyticsData.EVENT_SOURCE.display){return(json.formAction||json.pageType||json.eName||"Default")}else{return(json.formAction||json.eName||"Default")}};AnalyticsAutoTagHooks.getGoogleAnalyticsTracker=function(vendorSettings){var trackerReference=vendorSettings.trackerReference;var tracker;var codeType=vendorSettings.codeType;if(!trackerReference){if((!codeType||codeType==="SYNCHRONOUS")&&typeof pageTracker==="object"&&pageTracker){trackerReference="pageTracker";codeType="SYNCHRONOUS"}else{if((!codeType||codeType==="ASYNCHRONOUS")&&typeof _gaq==="object"&&_gaq){trackerReference="_gaq";codeType="ASYNCHRONOUS"}else{return}}}else{if(!codeType){if(trackerReference==="pageTracker"){codeType="SYNCHRONOUS"}else{if(trackerReference==="_gaq"){codeType="ASYNCHRONOUS"}else{return}}}}try{tracker=eval(trackerReference)}catch(err){return}if(!(typeof tracker==="object"&&tracker)){return
}if(codeType==="SYNCHRONOUS"){return{trackEvent:function(category,action,label,value,noninteraction){tracker._trackEvent(category,action,label,value,noninteraction)}}}else{if(codeType==="ASYNCHRONOUS"){return{trackEvent:function(category,action,label,value,noninteraction){tracker.push(["_trackEvent",category,action,label,value,noninteraction])}}}else{}}};AnalyticsAutoTagHooks.getOmnitureAnalyticsTracker=function(vendorSettings){var trackerReference=vendorSettings.trackerReference;var tracker;try{tracker=eval(trackerReference)}catch(err){return}if(!(typeof tracker==="object"&&tracker)){return}return tracker}});
$BV.Internal.define("contentDisplay",[window,document],["exports","jquery.core","cookies"],function(i,s,A,x,v){i.bvCreateTimer=A.createTimer=function(){var C;return{clear:function(){if(C){clearTimeout(C);C=null}},set:function(D,E){this.clear();if(D){C=setTimeout(D,E)}}}};i.bvDisableReturn=function(D,C){return g(13,D,C)};i.bvDisableTab=function(D,C){return g(9,D,C)};function g(D,E,C){var F=null;if(!E){E=i.event}if(E.keyCode){F=E.keyCode}else{if(E.which){F=E.which}}if(F==D&&C){C()}return F!=D}i.bvGetSelectListValue=function(C){return(C&&C.type=="select-one")?C.options[C.selectedIndex].value:null};function h(C){var D=parseInt(C,10);return(isNaN(D))?0:D}function f(D){var C=D.width();C+=h(D.css("padding-left"))+h(D.css("padding-right"));C+=h(D.css("margin-left"))+h(D.css("margin-right"));C+=h(D.css("borderLeftWidth"))+h(D.css("borderRightWidth"));return C}function q(F,D){var G=x(F).html();var E=x("<span/>").html(G).hide().appendTo("body");x(E).css("font-size",x(F).css("font-size"));x(E).css("font-style",x(F).css("font-style"));x(E).css("padding-left",x(F).css("padding-left"));x(E).css("padding-right",x(F).css("padding-right"));x(E).css("margin-left",x(F).css("margin-left"));x(E).css("margin-right",x(F).css("margin-right"));var C=x(D).width();if(x.browser.msie){C=h(x(D).css("width"))}while(G.length>0&&f(E)>C){G=G.substr(0,G.length-1);x(E).html(G+"...")}x(F).html(E.html());x(E).remove()}i.bvAbbreviateElements=function(C,D){x.each(C,function(){q(this,D)})};i.bvRememberScrollPosition=function(){v.set("bvScrollPositionY",x(i).scrollTop());v.set("bvScrollPositionX",x(i).scrollLeft())};i.bvRestoreScrollPosition=function(){var D=v.get("bvScrollPositionX");var C=v.get("bvScrollPositionY");v.remove("bvScrollPositionX");v.remove("bvScrollPositionY");if(D>0){x(i).scrollLeft(D)}if(C>0){x(i).scrollTop(C)}};i.bvRememberScrollToElement=function(C,D){v.set("bvScrollToElementID",C);if(D){v.set("bvScrollToElementOffset",D)}};i.bvRememberClickAndScrollToElements=function(D,C){i.parent.bvClickOnElementID=D;i.parent.bvScrollAfterClickElementID=C};i.bvScrollToElement=function(){var C=v.get("bvScrollToElementID"),D=v.get("bvScrollToElementOffset");v.remove("bvScrollToElementID");v.remove("bvScrollToElementOffset");if(C){b(x("#"+C),parseInt(D))}};i.bvClickAndScrollIfNeeded=function(){if(!i.bvClickOnElementID){return}var C=s.getElementById(i.bvClickOnElementID);i.bvClickOnElementID=null;if(C){if(!(typeof(C.onclick)=="function")||C.onclick()!=false){if(!i.bvScrollAfterClickElementID){return}b(x("#"+i.bvScrollAfterClickElementID));i.bvScrollAfterClickElementID=null}}};i.bvPositionWhereVisible=function(M,L,I){var C=x(M);var O=x(i);var J=2;var P=C.offset();var K=P;var Q=(K.top+C.outerHeight())-(O.scrollTop()+O.height()-J);if(Q>0){var G=t(C,"marginLeft");K={top:K.top-Q,left:x(L).offset().left+x(L).outerWidth()+G}}var F=(K.left+C.outerWidth())-(O.scrollLeft()+O.width()-J);if(F>0){var N=t(C,"marginRight");K={top:K.top,left:(Q>0)?x(I).offset().left-C.outerWidth()-N:K.left-F}}if(K.left<O.scrollLeft()||K.top<O.scrollTop()){K=P}var E=C.position();var D=x(s.createElement("div")).css({position:"absolute",top:0,left:0}).appendTo("body"),H=D.position();D.remove();if(P.top!=K.top){C.css("top",(E.top-H.top+(K.top-P.top))+"px")}if(P.left!=K.left){C.css("left",(E.left-H.left+(K.left-P.left))+"px")}};function t(D,C){var E=parseInt(D.css(C));if(isNaN(E)){E=0}return E}i.bvPositionDefault=function(C){x(C).css("top","").css("left","")};i.bvShowInPopup=function(E,I,C,H,D,F){var G=x(I);G.html(x(E).html());G.css({top:C.top,left:C.left});G.removeClass(H);if(D&&F){bvPositionWhereVisible(G.get(),D,F)}};i.bvCategoryHierarchyOpenDropdownMenu=function(D,C){var E="#"+D;if(x(E).hasClass(C)){x(E).removeClass(C).animate({height:"0px",opacity:"0"},"fast","swing",function(){x(this).hide()})}else{x(E).addClass(C).css({height:"auto"}).animate({height:"show",opacity:"1"},"fast")}return false};i.bvShowElement=function(D,C){x("#"+D).removeClass(C+"Hidden")};function n(D,C){if(x.browser.msie){i.bvFlashPluginPresent=true;
x("#"+D+"ExplorerFlash_VideoID_"+C).show()}else{if(i.bvFlashPluginPresent===undefined){i.bvFlashPluginPresent=i.navigator.plugins&&i.navigator.plugins["Shockwave Flash"]&&i.navigator.plugins["Shockwave Flash"].description}if(i.bvFlashPluginPresent){x("#"+D+"NonExplorerFlashInstalled_VideoID_"+C).show()}else{x("#"+D+"NonExplorerFlashNotInstalled_VideoID_"+C).show()}}}function b(C){var D=C.offset();if(D){x(i).scrollTop(c(D.top,arguments[1]))}}function c(C,D){if(D&&!isNaN(D)){C+=D;if(C<0){C=0}}return C}i.bvScroll={toElement:function(C){b(x(C),arguments[1])},toWindowTop:function(){i.scroll(0,0)},toContainer:function(C){bvScroll.toElement(C)},reset:function(E,D){var C=x(E);(D?C.parent():C).scrollTop(0)},viaFunction:function(D){var C=i[D];if(x.isFunction(C)){C()}}};A.bindToSubmitFrame=function(D,E){function C(F){return function(){var H=E.config.doScrollSubmission,I=this,J=arguments,G=function(){F.apply(I,J)};if(!H||H(G)!==false){G()}}}D.listen("contentDisplay.scrollToElement",C(function(F,H,I){var G=x(F);if(G.length){b(G,H)}else{if(typeof I==="number"){E.scrollRelative(I)}}}));D.listen("contentDisplay.scrollToWindowTop",C(function(){i.scroll(0,0)}));D.listen("contentDisplay.scrollToContainer",C(function(){E.scrollToContainer()}));D.listen("contentDisplay.scrollReset",C(function(F,G){i.bvScroll.reset(F,G)}));D.listen("contentDisplay.scrollViaFunction",C(function(F){i.bvScroll.viaFunction(F)}))};A.connectFromSubmitFrame=function(C){i.bvScroll.toElement=function(F){var D=x(F),E=arguments[1];C.call("contentDisplay.scrollToElement",typeof F==="string"?F:null,E,D.length?c(D.offset().top,E):null)};i.bvScroll.toWindowTop=function(){C.call("contentDisplay.scrollToWindowTop")};i.bvScroll.toContainer=function(){C.call("contentDisplay.scrollToContainer")};i.bvScroll.reset=function(F,E){var D=x(F);if(D.length){(E?D.parent():D).scrollTop(0)}if(typeof F==="string"){C.call("contentDisplay.scrollReset",F,E)}};i.bvScroll.viaFunction=function(D){C.call("contentDisplay.scrollViaFunction",D)}};var l=1000;var y=5;var r=1000;var o=0;var B=0;var d=0;var u=0;var e=false;function w(D,C){var E=0;d=C.width();u=C.height();x.each(D,function(F,G){p(G)});x(i).resize(function(){if(o!==0){i.clearTimeout(o)}o=i.setTimeout(function(){if(C.width()==d&&C.height()==u){return}k(D,C);d=C.width();u=C.height()},l)});if(B!==0){i.clearTimeout(B)}B=i.setInterval(function(){if(E>=y){i.clearTimeout(B);return}k(D,C);E++},r)}function p(C){var D=0;x(C).each(function(){var E=x(this).height();if(E>D){D=E}});x(C).css("height",D)}function k(D,C){if(e){return}e=true;x.each(D,function(F,E){x(E).css("height","auto");p(E)});e=false}function m(G,F,D,E,C){x(D).bind("click",function(H){bvStopPropagation(H);x(G).toggleClass("BVDIHidden");x(F).toggleClass("BVSecondaryContentExpandLink").toggleClass("BVSecondaryContentHideLink");if(x(F).hasClass("BVSecondaryContentHideLink")){x(F).find(".BVToggleSectionLink .BVDILinkSpan").html(C)}else{x(F).find(".BVToggleSectionLink .BVDILinkSpan").html(E)}return false})}function j(){var C=navigator.userAgent.toLowerCase();return(C.search("iphone")>-1||C.search("android")>-1||C.search("blackberry")>-1)}function a(C){if(j()||C){x("#BVMobileSwitchLinkID").removeClass("BVDIHidden")}}function z(D,C){if(j()){x("#BVMobileSwitchLinkID").bind("click",function(){v.set("displayTypePreferred"+D,C,"/")})}}A.forceRepaint=function(C){C.css("visibility","hidden").css("visibility","visible")};A.onPageLoad=function(J,H,C,G,F){if(J==="show"){bvShowElement(H.elementId,H.prefix)}else{if(J==="flashDetect"){n(H.prefix,H.playerIdSuffix)}else{if(J==="equalizeDivHeights"){w(H.elementsSelectorsList,x(H.containingElementSelector))}else{if(J==="toggleSecondaryContent"){m(H.toggleSectionId,H.toggleId,H.bindId,H.expandText,H.hideText)}else{if(J==="detectMobileDevice"){a(H.isMobileFormat)}else{if(J==="saveDisplayTypePreference"){z(H.displayCode,H.displayType)}else{if(J.match(/^scroll/)){function I(){if(J==="scrollFn"){bvScroll.viaFunction(H.fn)}else{if(J==="scrollReset"){bvScroll.reset(H.selector,H.resetParent)
}else{if(J==="scrollToContainer"){bvScroll.toContainer(F?F.getComponent(H.defaultContainerId):"#"+H.defaultContainerId)}else{if(J==="scrollToWindowTop"){bvScroll.toWindowTop()}else{if(J==="scrollTo"){bvScroll.toElement(H.selector,H.offset)}}}}}}var E=F&&F.apiConfig(),D=E&&E.doScrollContent;D&&D(I)===false||I()}}}}}}}}});
$BV.Internal.define("json2",[window],["exports","jquery.core"],function(e,i,d){i.parse=d.parseJSON;function c(f){return f<10?"0"+f:f}function a(f){return isFinite(f.valueOf())?f.getUTCFullYear()+"-"+c(f.getUTCMonth()+1)+"-"+c(f.getUTCDate())+"T"+c(f.getUTCHours())+":"+c(f.getUTCMinutes())+":"+c(f.getUTCSeconds())+"Z":null}var h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function b(f){h.lastIndex=0;return h.test(f)?'"'+f.replace(h,function(k){var l=j[k];return typeof l==="string"?l:"\\u"+("0000"+k.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function g(p,o){var n,m,l,q,f,r=o[p];if(r&&typeof r==="object"){if(r.constructor===Date){r=a(r)}else{if(r.constructor===String||r.constructor===Number||r.constructor===Boolean){r=r.valueOf()}}}switch(typeof r){case"string":return b(r);case"number":return isFinite(r)?String(r):"null";case"boolean":case"null":return String(r);case"object":if(!r){return"null"}f=[];if(Object.prototype.toString.apply(r)==="[object Array]"){q=r.length;for(n=0;n<q;n+=1){f[n]=g(n,r)||"null"}l=f.length===0?"[]":"["+f.join(",")+"]";return l}for(m in r){if(Object.hasOwnProperty.call(r,m)){l=g(m,r);if(l){f.push(b(m)+":"+l)}}}l=f.length===0?"{}":"{"+f.join(",")+"}";return l}}i.nonNativeStringify=function(f){return g("",{"":f})};i.stringify=(e.JSON&&typeof e.JSON.stringify==="function"&&e.JSON.stringify([{}])==="[{}]")?e.JSON.stringify:i.nonNativeStringify});
$BV.Internal.define("swfobject",[window,document,navigator],[],function(c,b,d){
/*	SWFObject v2.2 <http://code.google.com/p/swfobject/>
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
var a=function(){var z="undefined",r="object",f="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",w="application/x-shockwave-flash",l="SWFObjectExprInst",g="onreadystatechange",i=false,E=[k],m=[],v=[],t=false,B=function(){var J=typeof b.getElementById!=z&&typeof b.getElementsByTagName!=z&&typeof b.createElement!=z,Q=d.userAgent.toLowerCase(),H=d.platform.toLowerCase(),N=H?/win/.test(H):/win/.test(Q),L=H?/mac/.test(H):/mac/.test(Q),O=/webkit/.test(Q)?parseFloat(Q.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,G=!+"\v1",P=[0,0,0],K=null;if(typeof d.plugins!=z&&typeof d.plugins[f]==r){K=d.plugins[f].description;if(K&&!(typeof d.mimeTypes!=z&&d.mimeTypes[w]&&!d.mimeTypes[w].enabledPlugin)){i=true;G=false;K=K.replace(/^.*\s+(\S+\s+\S+$)/,"$1");P[0]=parseInt(K.replace(/^(.*)\..*$/,"$1"),10);P[1]=parseInt(K.replace(/^.*\.(.*)\s.*$/,"$1"),10);P[2]=/[a-zA-Z]/.test(K)?parseInt(K.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof c.ActiveXObject!=z){try{var M=new ActiveXObject(F);if(M){K=M.GetVariable("$version");if(K){G=true;K=K.split(" ")[1].split(",");P=[parseInt(K[0],10),parseInt(K[1],10),parseInt(K[2],10)]}}}catch(I){}}}return{w3:J,pv:P,wk:O,ie:G,win:N,mac:L}}(),D=function(){if(!B.w3){return}if((typeof b.readyState!=z&&b.readyState=="complete")||(typeof b.readyState==z&&(b.getElementsByTagName("body")[0]||b.body))){u()}if(!t){if(typeof b.addEventListener!=z){b.addEventListener("DOMContentLoaded",u,false)}if(B.ie&&B.win){b.attachEvent(g,function(){if(b.readyState=="complete"){b.detachEvent(g,arguments.callee);u()}});if(c==top){(function(){if(t){return}try{b.documentElement.doScroll("left")}catch(G){setTimeout(arguments.callee,0);return}u()})()}}if(B.wk){(function(){if(t){return}if(!/loaded|complete/.test(b.readyState)){setTimeout(arguments.callee,0);return}u()})()}n(u)}}();function u(){if(t){return}try{var I=b.getElementsByTagName("body")[0].appendChild(x("span"));I.parentNode.removeChild(I)}catch(J){return}t=true;var G=E.length;for(var H=0;H<G;H++){E[H]()}}function n(H){if(typeof c.addEventListener!=z){c.addEventListener("load",H,false)}else{if(typeof b.addEventListener!=z){b.addEventListener("load",H,false)}else{if(typeof c.attachEvent!=z){q(c,"onload",H)}else{if(typeof c.onload=="function"){var G=c.onload;c.onload=function(){G();H()}}else{c.onload=H}}}}}function k(){if(i){try{y()}catch(G){}}else{h()}}function y(){var G=b.getElementsByTagName("body")[0];var J=x(r);J.setAttribute("type",w);var I=G.appendChild(J);if(I){var H=0;(function(){if(typeof I.GetVariable!=z){var K=I.GetVariable("$version");if(K){K=K.split(" ")[1].split(",");B.pv=[parseInt(K[0],10),parseInt(K[1],10),parseInt(K[2],10)]}}else{if(H<10){H++;setTimeout(arguments.callee,10);return}}G.removeChild(J);I=null;h()})()}else{h()}}function h(){}function s(S,P,H,Q){var G,J=C(H);if(B.wk&&B.wk<312){return G}if(J){if(typeof S.id==z){S.id=H}if(B.ie&&B.win){var R="";for(var N in S){if(S[N]!=Object.prototype[N]){if(N.toLowerCase()=="data"){P.movie=S[N]}else{if(N.toLowerCase()=="styleclass"){R+=' class="'+S[N]+'"'}else{if(N.toLowerCase()!="classid"){R+=" "+N+'="'+S[N]+'"'}}}}}var O="";for(var M in P){if(P[M]!=Object.prototype[M]){O+='<param name="'+M+'" value="'+P[M]+'" />'}}J.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+R+">"+O+"</object>";if(!Q){m[m.length]=S.id}G=C(S.id)}else{var I=x(r);I.setAttribute("type",w);for(var L in S){if(S[L]!=Object.prototype[L]){if(L.toLowerCase()=="styleclass"){I.setAttribute("class",S[L])}else{if(L.toLowerCase()!="classid"){I.setAttribute(L,S[L])}}}}for(var K in P){if(P[K]!=Object.prototype[K]&&K.toLowerCase()!="movie"){j(I,K,P[K])}}J.parentNode.replaceChild(I,J);G=I}}return G}function j(I,G,H){var J=x("param");J.setAttribute("name",G);J.setAttribute("value",H);I.appendChild(J)}function A(H){var G=C(H);
if(G&&G.nodeName=="OBJECT"){if(B.ie&&B.win){G.style.display="none";(function(){if(G.readyState==4){e(H)}else{setTimeout(arguments.callee,10)}})()}else{G.parentNode.removeChild(G)}}}function e(I){var H=C(I);if(H){for(var G in H){if(typeof H[G]=="function"){H[G]=null}}H.parentNode.removeChild(H)}}function C(I){var G=null;try{G=b.getElementById(I)}catch(H){}return G}function x(G){return b.createElement(G)}function q(I,G,H){I.attachEvent(G,H);v[v.length]=[I,G,H]}function p(I){var H=B.pv,G=I.split(".");G[0]=parseInt(G[0],10);G[1]=parseInt(G[1],10)||0;G[2]=parseInt(G[2],10)||0;return(H[0]>G[0]||(H[0]==G[0]&&H[1]>G[1])||(H[0]==G[0]&&H[1]==G[1]&&H[2]>=G[2]))?true:false}var o=function(){if(B.ie&&B.win){window.attachEvent("onunload",function(){var L=v.length;for(var K=0;K<L;K++){v[K][0].detachEvent(v[K][1],v[K][2])}var I=m.length;for(var J=0;J<I;J++){A(m[J])}for(var H in B){B[H]=null}B=null;for(var G in a){a[G]=null}a=null})}}();return{ua:B,getFlashPlayerVersion:function(){return{major:B.pv[0],minor:B.pv[1],release:B.pv[2]}},hasFlashPlayerVersion:p,createSWF:function(I,H,G,J){if(B.w3){return s(I,H,G,J)}else{return undefined}},removeSWF:function(G){if(B.w3){A(G)}},unused:{}}}();return a});
$BV.Internal.define("rpcSupport",[window,document],["exports","jquery.core","json2","swfobject"],function(i,n,j,q,e,b){function o(){return j.debug>=1}function d(){return j.debug>=2}function p(){if(o()){$BV.log.apply(null,arguments)}}function t(){if(d()){$BV.log.apply(null,arguments)}}function f(v,w){return(i.console&&!i.Debug)?v:w||e.stringify(v)}function l(){var E,A=new Date().getTime()%(1019<<20),K={},C={};function B(S){try{return e.parse(S)}catch(R){p("Could not parse message",S)}}function w(R){var S=e.stringify(R);if(E){if(d()){t("Sending message",f(R,S))}j.send(E,S)}else{p("Cannot send message over disconnected transport",S)}}function Q(R,T,S){if(o()){if(K[R]){p("Replacing registered receiver for "+R)}}if(S){K[R]=function(){delete K[R];return T.apply(null,arguments)}}else{K[R]=T}}function L(R){return"endpoint:"+R}function J(R){return"reply:"+R}function F(){return"batch"}function z(R,U,T){var S={addressee:R,parameters:U};if(T){S.replyTo=J(A++);Q(S.replyTo,T,true)}return S}function x(R,T,S){w(z(R,T,S))}function v(S,R){O(S.addressee,function(){var V=K[S.addressee];if(V){if(q.isArray(S.parameters)){try{var T=V.apply(null,S.parameters);if(S.replyTo){R({addressee:S.replyTo,parameters:[T]})}}catch(U){$BV.log(U)}}else{if(o()){p("Ignoring message w/invalid arguments",S)}}}else{if(o()){p("Ignoring message w/unknown addressee: "+S.addressee,S)}}})}function O(R,T){for(var S in C){if(R.substring(0,S.length)===S){$BV.Internal.require(C[S],function(){delete C[S];T()});return}}T()}function y(T){if(T.length>0){var S=[],U;for(var R=0;R<T.length;R++){v(T[R],function(V){if(U){w(V)}else{S.push(V)}})}U=true;return S}else{if(o()){p("Batch message was empty")}}}Q(F(),y,false);var I={confidential:j.confidential,listen:D,requireModules:G,call:N,batch:H,disconnect:P};function D(T,S,R){Q(L(T),S,R)}function G(S,R){C[L(S)]=R}function M(R){if(R.length>0&&typeof R[R.length-1]==="function"){return R.pop()}}function N(T){var S=[].slice.call(arguments,1);var R=M(S);x(L(T),S,R)}function H(){var S=[];function R(){var U=0;for(var T=0;T<S.length;T++){if(S[T].replyTo){U+=1}}return U}return q.extend({},I,{call:function(V){var U=[].slice.call(arguments,1);var T=M(U);S.push(z(L(V),U,T))},execute:function(){if(S.length){x(F(),[S],R()&&function(T){if(T.length){y(T)}});S.length=0}},executeAndUnbatch:function(){this.call=I.call;this.execute()}})}function P(){if(E){j.teardownTransport(E);E=null;K={}}}return{init:function(R){E=R},receiveFn:function(S){var R=B(S);if(d()){t("Received message",f(R,S))}if(R){v(R,w)}},publicApi:I}}var u=["origin","swf","channel"];function k(w){var v=/^https?:\/\/[^\/?#]+/.exec(w);return v&&v[0]}function a(w){var v="";q(u).each(function(y,x){if(w[x]){v=(v?v+"&":"")+x+"="+encodeURIComponent(w[x])}});return v}function s(v){var w=v.split("&"),x={};q(w).each(function(z,y){var A=y.split("=",2);x[A[0]]=decodeURIComponent(A[1])});return x}var r=/(?:^|;\s*)bvrpc=(\d+)(?:;|$)/.exec(n.cookie);q.extend(j,{debug:r?r[1]:1,asOrigin:k,newCxnParams:function(v){if(v.charAt(v.length-1)!=="/"){v=v+"/"}return a(j.transportParams(v))},connect:function(w,v,x){var y=l();y.init(j.setupTransport(w,y.receiveFn,v,s(x)));if(w===i.parent||w===i.opener){q(i).unload(function(){y.publicApi.disconnect()})}return y.publicApi}});function h(){return{name:"wpm",confidential:true,transportParams:function(){return{origin:k(i.location.href)}},setupTransport:function(y,A,w,x){var v=y===i.parent||y===i.opener,z={targetWindow:y,targetOrigin:v?x.origin:"*"};if(z.targetOrigin!=="*"&&!w(z.targetOrigin)){throw"Invalid message target origin: "+z.targetOrigin}z.onMessage=function(B){if(B.source===y&&w(B.origin)){z.targetOrigin=B.origin;A(B.data)}};if(typeof i.addEventListener!=="undefined"){i.addEventListener("message",z.onMessage,false)}else{if(typeof i.attachEvent!=="undefined"){i.attachEvent("onmessage",z.onMessage)}}return z},teardownTransport:function(v){v.targetWindow=null;if(typeof i.addEventListener!=="undefined"){i.removeEventListener("message",v.onMessage,false)}else{if(typeof i.attachEvent!=="undefined"){i.detachEvent("onmessage",v.onMessage)
}}},send:function(v,x){var w=v.targetWindow;if(w&&typeof w.postMessage!=="undefined"){w.postMessage(x,v.targetOrigin)}}}}function m(){var C="BVRPC____NIXVBS_wrapper",x="BVRPC____NIXVBS_get_wrapper",B="BVRPC____NIXVBS_handle_message",A="BVRPC____NIXVBS_create_channel",z={},w=0,y={};if(typeof i[x]!=="unknown"){i[B]=function(D,E){setTimeout(function(){if(z[D]){z[D](E)}},0)};i[A]=function(D,E){if(E){y[D]=E}else{delete y[D]}};var v="Class "+C+"\nPrivate m_Intended\nPublic Sub SetIntendedName(name)\nIf isEmpty(m_Intended) Then\nm_Intended = name\nEnd If\nEnd Sub\nPublic Sub SendMessage(data)\nCall "+B+"(m_Intended, data)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call "+A+"(m_Intended, channel)\nEnd Sub\nEnd Class\nFunction "+x+"(name)\nDim wrap\nSet wrap = New "+C+"\nwrap.SetIntendedName name\nSet "+x+" = wrap\nEnd Function";i.execScript(v,"vbscript")}return{name:"nix",confidential:false,transportParams:function(){return{}},setupTransport:function(E,F){if(E===i.parent||E===i.opener){if(i.opener&&"CreateChannel" in i.opener){i.opener.CreateChannel(function(G){setTimeout(function(){F(G)},0)})}return{amChild:true}}else{var D="fn"+(w++);z[D]=F;E.opener=i[x](D);return{sourceName:D}}},teardownTransport:function(D){if(D.amChild){if(i.opener&&"CreateChannel" in i.opener){i.opener.CreateChannel(null)}}else{delete z[D.sourceName];delete y[D.sourceName]}},send:function(E,F){if(E.amChild){if(i.opener&&"SendMessage" in i.opener){i.opener.SendMessage(F)}}else{var D=y[E.sourceName];if(D){D(F)}}}}}function c(){var v=Math.floor(Math.random()*new Date().getTime())%(1031<<20),w=k(i.location.href);function x(){return j.debug>=3}return{name:"flash",confidential:true,transportParams:function(y){return{origin:w,swf:y+"xdm.swf",channel:"BVRPC__"+(v++)}},setupTransport:function(z,K,I,L){var M=L.channel,y=z===i.parent||z===i.opener,O=M+(y?"_child":"_parent"),C=this[O]={swfReadyLatch:$BV.Internal.newLatch(1),transportReadyLatch:$BV.Internal.newLatch(1),onMessage:function(P){K(P)}},G="$BV.Internal.require('rpcSupport')['"+O+"']",F=L.swf,J=k(F),D=M+"_SWF",B=M+"_SWFLOC",A='<span id="'+B+'" style="display:none"></span>',E;if(J!==w&&!I(J)){$BV.log("Invalid SWF origin: "+F);return C}if(y){if(!I(L.origin)){$BV.log("Invalid message target origin: "+L.origin);return C}E=function(P){P.createSingleDomainChannel(M,L.origin,J,false,G+".onMessage")}}else{C.checkOrigin=I;E=function(P){P.createMultiDomainChannel(M,G+".checkOrigin",true,G+".onMessage")}}function H(){var P=b.createSWF({id:D,data:F,width:1,height:1,style:"position:absolute;left:0px;top:0px"},{wmode:"transparent",allowScriptAccess:"always",flashvars:"origin="+encodeURIComponent(w)+"&onready="+encodeURIComponent(G+".swfReadyLatch.release")+(x()?"&log="+encodeURIComponent("$BV.log"):"")},B,true);if(x()){$BV.log(w+": waiting for SWF ready: "+F)}C.swfReadyLatch.queue(function(){if(x()){$BV.log(w+": SWF ready: "+F)}E(P);C.postMessage=function(Q){if(x()){$BV.log(w+": "+(P.postMessage?"posting message of length "+Q.length:"cannot post message"))}P.postMessage&&P.postMessage(M,Q)};C.destroyChannel=function(){if(x()){$BV.log(w+": "+(P.destroyChannel?"destroying channel":"cannot destroy channel"))}P.destroyChannel&&P.destroyChannel(M);b.removeSWF&&b.removeSWF(D);C.destroyChannel=q.noop};C.transportReadyLatch.release()})}if(y){q(function(){q(A).appendTo("body");H()})}else{var N=q("iframe").filter(function(){return z===this.contentWindow});if(N.length){q(A).insertBefore(N)}else{q(A).appendTo("body")}H()}return C},teardownTransport:function(y){y.transportReadyLatch.queue(function(){y.destroyChannel()})},send:function(y,z){y.transportReadyLatch.queue(function(){y.postMessage(z)})}}}function g(){return{name:"notransport",confidential:true,transportParams:function(){return{}},setupTransport:q.noop,teardownTransport:q.noop,send:q.noop}}q.extend(j,((typeof i.postMessage!=="undefined")?h:b.hasFlashPlayerVersion("8.0.0")?c:i.ActiveXObject?m:g)())});
$BV.Internal.define("crossDomain",[window,document],["exports","jquery.core","rpcSupport","parseUri","cookies","requester","json2"],function(i,o,r,s,j,t,p,a,d){var g=/^((p|r|q|a|s|c)(fv|hf|if|rf)|abaf)_|^(r|s)-commented-|^(scroll-to-story-id|bvReturnPosition)$|^(PRR|QA)-split-|^fbs_/,q=/^[^?#]+\/bazaarvoice\w*\.css$/,c=/^[^?#]+\/submit(feedbackvote|positive|negative|undohelpfulness|inappropriate|bestanswer|ratingfeedback|customerpropertyoverride)\.(js|djs)(\?|$)/,n=/^(user|userdisplayname|useruuid)$/,u="goto";function v(B,A,y,C,z){if(typeof y==="function"){z=C;C=y;y=null}return{action:B,rpcArguments:A,hashData:y,callback:C,delayedResponse:z}}function h(A,z,y){A.location=z+"#"+(y?encodeURIComponent(y):"")}function m(z){if(i.location.hash){var y=i.location.hash.substring(1);return z?y:decodeURIComponent(y)}}function x(){i.location.hash="#%20";return i.location.hash==="# "}function w(F,z,C,E){var B=$BV.Internal.newLatch(1),y;function A(H){var M=j.asOrigin(F),I=j.newCxnParams(M+z),L=j.name==="flash"?'<iframe src="'+F+"#"+I+'" style="visibility:visible;width:1px;height:1px;position:absolute;left:0px;top:0px;" allowTransparency="true"></iframe>':'<iframe src="'+F+"#"+I+'" style="visibility:hidden;width:1px;height:1px;position:absolute;left:-999px;top:-999px;"></iframe>',G=H(L).contentWindow,J=j.connect(G,function(N){return N===M},I);var K=false;J.listen("ready",function(){D(J,G);if(!K){K=true;E.apply(null,[G].concat([].slice.call(arguments,0)))}});if(j.name==="nix"){i.setTimeout(function(){D(null,G);if(!K){K=true;E.apply(null,[G])}},1000)}}if(C&&C.length&&C.parents("body").length){A(function(H){var G=C.parent("body").length?C:C.parentsUntil("body").last();return G.before(H).prev("iframe")[0]})}else{s(function(){A(function(G){return s(G).appendTo("body")[0]})})}function D(I,H){var G=new Date().getTime()%(1009<<20);y=function(K){if(!I){if(K.callback){K.callback()}return}if(K.hashData){h(H,F,K.hashData);B.increment()}if(K.callback&&K.delayedResponse){var M="response:"+G++;I.listen(M,function(){K.callback.apply(null,arguments)},true);K.rpcArguments.push(M)}var J=[K.action].concat(K.rpcArguments);if(K.hashData||(K.callback&&!K.delayedResponse)){J.push(function L(){if(K.hashData){B.release()}if(K.callback&&!K.delayedResponse){K.callback.apply(null,arguments)}})}I.call.apply(I,J)};B.release()}return{queueAction:function(G){B.queue(function(){y(G)})}}}var b={};r.ensureFrame=function(A,y,z){return r.ensureFrameInternal(A,y)};r.ensureFrameInternal=function(E,y,C){var z=t(E),B=z.authority,A=b[B];y=y||"/";if(!A){A=b[B]={latch:$BV.Internal.newLatch(1)};var D=w(E,y,s(C).first(),function(F,G){A.getFrameIndex=function(){for(var H=0;H<i.frames.length;H++){if(i.frames[H]===F){return H}}};A.gotoCookie=G;A.clearGotoCookie=function(){if(A.gotoCookie){A.gotoCookie=null;D.queueAction(v("removeCookie",[u,y,B]))}};A.latch.release()});p.registerCrossDomainProxy({targetDomain:B,parse:function(F){D.queueAction(v("parseCookies",[],F))},set:function(G,I,J,H,F,K){D.queueAction(v("setCookie",[G,I,J,H,F],K))},remove:function(F,H,G,I){D.queueAction(v("removeCookie",[F,H,G],I))}});a.registerCrossDomainProxy({targetDomain:B,download:function(F,G){D.queueAction(v("download",[F],G,true))},post:function(F,H,I){var G;if(!j.confidential){G=s.param(l(F.queryKey,n));if(H){G+="#"+s.param(l(H,n))}}D.queueAction(v("ajaxPost",[F.rebuild(),H],G,I,true))}});A.escrow=function(F,G){if(!j.confidential){D.queueAction(v("escrow",[],d.stringify(F),G))}else{D.queueAction(v("escrow",[F],G))}}}return{await:function(F){A.latch.queue(F)},awaitCookies:function(G,F){A.latch.queue(function(){var H=A.gotoCookie;if(H&&!a.isUrlAllowed(H,G.allowedDomains)){$BV.log("Bazaarvoice: Url hostname is not allowed: "+H);H=null}F(H,A.clearGotoCookie,p.parseFromDomainAsync(B,y))})},awaitAction:function(F){A.latch.queue(function(){F(function(H,G){D.queueAction(v(H,G))})})},depositEscrow:function(F,G){A.escrow(F,function(H){G(H,A.getFrameIndex())})}}};function l(y,A){var B=[];for(var z=0;z<y.length;z++){var C=y[z];
if(A.test(C.name)){B.push({name:C.name,value:C.value});C.value=""}}return B}function e(y,A){if(A.length>0){for(var z=0;z<y.length;z++){var B=y[z];if(B.name===A[0].name){B.value=A[0].value;A.shift();if(A.length===0){return}}}}}function f(y){if(!y){return[]}return s(y.split("&")).map(function(z,B){if(B){var A=B.indexOf("=");if(A>0){return{name:decodeURIComponent(B.substring(0,A)),value:decodeURIComponent(B.substring(A+1))}}}}).get()}var k={};r.releaseEscrow=function(z){var y=k[z];delete k[z];return y};r.initialize=function(E,J,H){var A=/#([^#]*)$/.exec(i.location.href),D=A&&A[1],I=function(){return true};if(E){var F=new RegExp(E);I=function(M){return F.test(M.replace(/^https?\:\/\//,""))}}var G=j.confidential||x(),z=new Date().getTime()%(1021<<20),L=j.connect(i.parent,I,D),y=function(N,P,Q,O,M){B(O);y(N,P,Q,O,M)},C=function(M,O,N){B(N);C(M,O,N)};function B(O){var N="mod-test",Q=Math.random();p.set(N,Q,"",O);if(p.get(N)==Q){p.remove(N,"",O);y=p.set;C=p.remove}else{if(J){s('<iframe name="BVManageCookieFrame" src="javascript:false;"></iframe><form action="'+J+'" target="BVManageCookieFrame" name="BVManageCookieForm" method="POST" accept-charset="utf-8"><input type="hidden" name="name"/><input type="hidden" name="value"/><input type="hidden" name="path"/><input type="hidden" name="maxage"/></form>').appendTo("body");var M=o.forms.BVManageCookieForm;function P(R){if(!R){return -1}var S=Math.round((Date.parse(R)-Date.now())/1000);if(S<0){S=0}return S}y=function(S,U,V,T,R){M.name.value=S;M.value.value=U;M.path.value=V;M.maxage.value=P(R);M.submit()};C=function(R,S){M.name.value=R;M.value.value="";M.path.value=S;M.maxage.value=0;M.submit()}}else{y=C=s.noop}}}L.listen("parseCookies",function(){var O=p.parse(o.cookie),M={};for(var N in O){if(g.test(N)){M[N]=O[N]}}return M});L.listen("setCookie",function(N,P,Q,O,M){if(g.test(N)){y(N,P,Q,O,M)}});L.listen("removeCookie",function(M,O,N){if(g.test(M)||M===u){C(M,O,N)}});L.listen("download",function(M,N){if(q.test(M)){a.download(M,function(){L.call(N)})}});L.listen("ajaxPost",function(P,S,Q){if(c.test(P)){if(!j.confidential){var O=m(G).split("#"),R=f(O[0]||""),M=f(O[1]||"");if(R.length){var N=t(P);e(N.queryKey,R);P=N.rebuild()}if(S&&M.length){e(S,M)}}a.post(P,S,function(T){L.call(Q,T)})}});L.listen("escrow",function(M){if(!j.confidential){M=d.parse(m(G))}var N=z++;k[N]=M;return N});var K={rpcConnection:L,onReady:function(){L.call("ready",p.get(u))}};if(!H){K.onReady()}return K}});
$BV.Internal.define("dropdown",[window,document],["exports","jquery.core"],function(c,b,a,d){c.BvDropdown=function(g,e,m,i,l,f,n,p,h,k){this._containerDiv=b.getElementById(g);this._selectedDiv=b.getElementById(e);this._buttonDiv=b.getElementById(m);this._itemsDiv=b.getElementById(i);this._attachToDropdown=h;this._iframeId="BVDropdownIEControlsFrameID";if(!this._containerDiv||!this._selectedDiv||!this._itemsDiv||this._itemsDiv.getElementsByTagName("*").length==0){this.valid=false;return}var o=new Image();o.src=f;this._timerOn=false;this._timerID=null;this._timerDelay=300;var j=this;this._selectedDiv.onclick=function(){j.toggleItemList()};this._containerDiv.onmouseout=function(){j.startTimer()};this._containerDiv.onmouseover=function(){j.stopTimer()};if(this._buttonDiv){this._selectedDiv.onmouseover=function(){j.setButtonBkg(f)};this._selectedDiv.onmouseout=function(){j.setButtonBkg(l)}}this.valid=true;if(n!=undefined&&p!=undefined){d("#"+i+" ."+n).each(function(q){d(this).bind("click",function(){j.setSelectedItem(this.id,p)});if(q==0&&!k){j.setSelectedItem(this.id,p)}})}};BvDropdown.prototype.setButtonBkg=function(e){this._buttonDiv.style.backgroundImage="url("+e+")"};BvDropdown.prototype.toggleItemList=function(){if(this._itemsDiv.style.display=="block"){this.hideItemList()}else{this.showItemList()}};BvDropdown.prototype.showItemList=function(){if(this._attachToDropdown=="true"){var f=d(this._containerDiv).offset();var e=d(this._containerDiv).height();d(this._itemsDiv).css({position:"absolute",left:f.left+"px",top:f.top+e+"px"})}bvExpandDivWithIEControlsFrame(this._itemsDiv.id,this._iframeId)};BvDropdown.prototype.setSelectedItem=function(f,e){this.hideItemList();if(f==null||f==""){d("#"+e).html("")}else{d("#"+e).html(d("#"+f).text())}};BvDropdown.prototype.hideItemList=function(){this._itemsDiv.style.display="none";iframe=b.getElementById(this._iframeId);if(iframe){iframe.style.display="none"}this.stopTimer()};BvDropdown.prototype.startTimer=function(){if(!this._timerOn){var e=this;this._timerID=setTimeout(function(){e.hideItemList()},this._timerDelay);this._timerOn=true}};BvDropdown.prototype.stopTimer=function(){if(this._timerOn){clearTimeout(this._timerID);this._timerID=null;this._timerOn=false}};BvDropdown.prototype.getLinks=function(){return this.valid?this._itemsDiv.getElementsByTagName("a"):[]};BvDropdown.prototype.hideIfNotValid=function(e){if(!this.valid){if(!this._containerDiv.className){this._containerDiv.className=e}else{if((" "+this._containerDiv.className+" ").indexOf(" "+e+" ")<0){this._containerDiv.className+=" "+e}}}};c.bvAddAdditionalHandlersToDropdown=function(e){var f=b.getElementById(e);if(f==null||typeof f.oldValue!=="undefined"){return}f.oldValue=f.value;if(!f.onchange||!(b.all&&(navigator.userAgent.indexOf("MSIE")>-1))){return}f.onfocusouthandler=f.onfocusout;f.onkeydownhandler=f.onkeydown;f.onchangehandler=f.onchange;f.onfocusouthandler=function(){if(f.onfocusouthandler){f.onfocusouthandler()}if(f.oldValue!=f.value){f.onchangehandler()}};f.onfocusout=f.onfocusStandin;f.onkeydown=function(){if(f.onkeydownhandler){f.onkeydownhandler()}f.eventKeyCode=event.keyCode;var g=13;if(f.eventKeyCode==g&&f.oldValue!=f.value){f.onchangehandler()}};f.onchange=function(){var h=38;var g=40;if(f.eventKeyCode==h||f.eventKeyCode==g){f.eventKeyCode=0}else{f.onchangehandler()}}};c.bvAddAdditionalHandlersToNamedDropdowns=function(e){var g=b.getElementsByName(e);for(var f=0;f<g.length;f++){bvAddAdditionalHandlersToDropdown(g[f].id)}};a.onPageLoad=function(f,e){if(f==="dropdown"){(new BvDropdown(e.dropdownId,e.selectId,e.buttonId,e.itemsId,e.buttonNormal,e.buttonHover,e.itemClass,e.selectedItemTextPlaceholderID,e.attachToDropdown)).hideIfNotValid(e.hiddenClass)}else{if(f==="addSelectHandlers"){if(e.dropdownId){bvAddAdditionalHandlersToDropdown(e.dropdownId)}if(e.dropdownsName){bvAddAdditionalHandlersToNamedDropdowns(e.dropdownsName)}}}}});
$BV.Internal.define("contentDispatcher",[window],["exports","jquery.core"],function(b,d,e){var a={},c={};d.registerApplication=function(f,g){c[g]=f;e.each(f,function(h,j){a[j]=g})};d.findLatestAppConfigKey=function(f){return a[f]};$BV.Internal.Dispatcher=d});
$BV.Internal.define("injection",[window],["exports","jquery.core","requester","cookies","crossDomain","analyticsHooks","contentDispatcher"],function(f,l,e,i,g,c,k,a){var h=[],d={},b,j;e.extend(l,{newInstance:function(){return e.extend(true,{},this)},_apiConfig:null,_targetWindow:null,_productId:null,_replacementsPrefix:"BV",_cookiesAsync:null,_divOverrides:{},_soiRedirectChecked:false,apiConfig:function(m){if(m){this._apiConfig=m}return this._apiConfig},targetWindow:function(m){if(m){this._targetWindow=m}return this._targetWindow},productId:function(m){if(m){this._productId=m}return this._productId},replacementsPrefix:function(m){if(m){this._replacementsPrefix=m}return this._replacementsPrefix},cookiesAsync:function(m){if(m){this._cookiesAsync=m}return this._cookiesAsync},divOverrides:function(m,n){if(n){this._divOverrides[m]=n}return this._divOverrides[m]},getComponent:function(m){throw"implementation required : getComponent"},getReplacements:function(n,m){throw"implementation required : getReplacements"},apiInjection:function(o){var n=c.ensureFrame(o.crossDomainUrl,o.cookiePath),m=this;n.awaitCookies(o.apiConfig,function(q,r,p){m.doInjection(o,p,q,r)})},docDomainInjection:function(o){var m=o.embeddedWindow;g.registerDocDomainFrame(m);i.registerDocDomainFrame(m);var n=g.parseFromDomainAsync(m.location.host,o.cookiePath);this.doInjection(o,n)},doInjection:function(r,n,o,q){var m=this,p=$BV.Internal.newLatch(0);m.cookiesAsync(n);m.apiConfig(r.apiConfig);m.replacementsPrefix(r.replacementsPrefix);m.productId(r.productId);m.targetWindow(f);m._widgetLimit=r.widgetLimit;if(m.performGotoRedirect(r.embeddedUrl,o,r.gotoCookieRegexp,q,r.apiConfig)||m.performSviRedirect&&m.performSviRedirect(r.sviParameterName,r.sviRedirectBaseUrl,r.embeddedUrl,r.apiConfig)||m.performSoiRedirect&&m.performSoiRedirect(r.soiContainerID,r.soiContentIDs,r.embeddedUrl,r.apiConfig)){return}m.prepareSourceMaterials(r.widgetMaterials,r);if(r.apiConfig){p.increment();r.apiConfig.injectionLatch.queue(p.release)}if(r.containerInitializer){p.increment();m.downloadContainerInitializer(r.containerInitializer,p.release);p.increment();e(p.release)}else{if(r.apiConfig){p.increment();m.waitForContainers(r.widgetMetadata,r.widgetMaterials,p.release)}}p.queue(function(){if(f.bvClosePopups){bvClosePopups()}if(r.containerInitializer){m.runContainerInitializer(r.containerInitializer)}var s=m.injectAll(r.widgetMetadata,r.widgetMaterials,r.widgetInitializers);if(r.windowTitle&&(r.setWindowTitle||l.shouldSetWindowTitle)){document.title=r.windowTitle;l.shouldSetWindowTitle=true}r.postInjectionFunction(m);r.postInjectionFunction=null;m.runGlobalInitializers(r.globalInitializers);m.onContentLoaded(r.pageIdPrefix);m.initWebAnalytics(s,r.webAnalyticsConfig);m.registerForContentDispatch(r.apiConfig,r.widgetMetadata);m.fetchTrackers(r.pageTrackers)})},initEmbeddedFrame:function(n){this.cookiesAsync(g.parseFromDomainAsync(f.location.host,n.cookiePath));this.targetWindow(f);var m=e("#"+n.widgetId);this.runInitializers(n.widgetInitializers,m);n.postInjectionFunction(this);n.postInjectionFunction=null;this.runGlobalInitializers(n.globalInitializers);this.initWebAnalytics(m.get(),n.webAnalyticsConfig)},performGotoRedirect:function(m,t,u,r,o){if(t&&m!==t&&u){var p=m.match(u),q=t.match(u);if(p&&q&&this.checkRedirectCompatible(p[1],q[1])){r();var n=o.displayType==="mobile"?"mobile":"";var s=o.displayType==="bulk"?"bulk":"";t=t.replace(/^([^?#]*)\.htm(\?(?:[^#]*&)?format=)embedded(?=[&#]|$)/,"$1.djs$2"+n+s+"embeddedhtml");$BV.Internal.callAjax(t,o);return true}}else{if(m===t&&r){r()}}},checkRedirectCompatible:function(r,m){if(r&&m){var o=/\/(\d{4}\w{0,9})(-[a-z][a-z])?(_[a-z][a-z])?\//;var q=r.toLowerCase();var n=m.toLowerCase();var p=q.replace(o,"$1");if(p){q=p}p=n.replace(o,"$1");if(p){n=p}if(q===n){return true}}return false},performSviRedirect:function(n,m,s,o){if(j||!n||!m||!this.getSviRedirectUrl){return false}j=true;var q=i.getQueryParam(n),p=decodeURIComponent(q||"").replace(/\.htm$/,"").split("/");
var r=this.getSviRedirectUrl(p,m,!!o);if(r&&r!=s){i.get(r,this.getComponent(this.replacementsPrefix()+"Frame"),o);return true}},initWebAnalytics:function(o,m){if(f[m.customizersName]){try{k.onInjectedPageLoad(o,m.jsonData,m.customizersName,m.customContainersFnName,m.maxTrackingTagTraversalDepth,this.apiConfig(),m.customTrackedObjectsSelector,m.customTrackedObjects)}catch(n){$BV.log(n)}}},onContentLoaded:function(n){var m=this.targetWindow();m[n+"isLoaded"]=true;if(this.productId()){if(!m[n+"isLoadedTable"]){m[n+"isLoadedTable"]={}}m[n+"isLoadedTable"]["_"+this.productId()]=true}},fetchTrackers:function(o){if(o){for(var n=0;n<o.length;++n){var m=new Image();m.src=o[n]+"?_="+h.length;h.push(m)}}},prepareSourceMaterials:function(m,p){var q=this.getReplacements(p,this.apiConfig());for(var o in m){for(var n=0;n<q.length;++n){m[o]=m[o].replace(q[n].pattern,q[n].replacement)}}},waitForContainers:function(o,m,r){var q,n=this;function p(){var s=true;e.each(o,function(t,u){if(!n.isContainerReady(m[u.sourceId],u.containerId,t)){s=false;return false}});if(s){q=null;r()}else{q=setTimeout(p,50)}}p();e(function(){if(q){clearTimeout(q);r()}})},isContainerReady:function(o,n,p){var m;return !o||(this.earlyComponentOverride(p,n)&&(m=this.getComponent(n))&&e(m).parents().andSelf().next().length)},injectAll:function(q,n,p){var m=[],o=this;e.each(q,function(r,s){o.inject(n[s.sourceId],s.containerId,m,p[s.sourceId],r)});return m},inject:function(p,o,m,n,r){this.setupComponentOverride(r,o);var s=this.getComponent(o),q=this.targetWindow();if(p&&s&&!q.$bv(s).hasClass("BVSubmissionInProgress")){this.checkWidgetLimit(r,s);q.$bv.cleanData(s.getElementsByTagName("*"));s.innerHTML=p;if(m){m.push(s)}this.runInitializers(n,q.$bv(s))}},runGlobalInitializers:function(m){this.runInitializers(m,this.targetWindow().$bv("body"))},registerForContentDispatch:function(m,n){e.each(n,function(o,p){if(m&&m.requestConfigKey&&p.handledContentTypes){a.registerApplication(p.handledContentTypes,m.requestConfigKey)}})},runInitializers:function(o,m){var q=this.targetWindow(),p=this.cookiesAsync(),n=this;e.each(o||[],function(r,s){q.$BV.Internal.require([s.module],function(t){t.onPageLoad(s.init,s.data,m,p,n)})})},downloadContainerInitializer:function(m,n){$BV.Internal.require([m.module],n)},runContainerInitializer:function(m){$BV.Internal.require(m.module).onContainerInit(m.init,m.data)},earlyComponentOverride:function(o,n){var m=this.apiConfig();if(m){var p=m[o+"ContainerDiv"];if(typeof p==="function"){return false}if(typeof p==="string"){p=this.targetWindow().document.getElementById(p)}this.divOverrides(n,p)}return true},setupComponentOverride:function(o,n){var m=this.apiConfig();if(m){var p=m[o+"ContainerDiv"];if(typeof p==="function"){p=p(o,n,m)}if(typeof p==="string"){p=this.targetWindow().document.getElementById(p)}this.divOverrides(n,p)}},checkWidgetLimit:function(q,p){var m=this.apiConfig(),n=this._widgetLimit;if(!m||n<0){return}var s=m.scope+"/"+m.displayCode+"/"+q,r=d[s]||[];for(var o=0;o<r.length;o++){if(e(r[o]).parents("body").length===0){r.splice(o--,1)}else{if(r[o]===p){return}}}if(r.length>=n){throw"Bazaarvoice: too many widgets of type '"+s+"' on the page"}r.push(p);d[s]=r},getClientDivData:function(m){var n=this.targetWindow().document.getElementById(this.replacementsPrefix()+m);return n&&bvUnescapeHtml(this.stripHTMLTags(n.innerHTML))},stripHTMLTags:function(m){return m.replace(/<.*?>/g,"")},stripAnchors:function(m){return m.toString().split("#")[0]},performSoiRedirect:function(q,p,r,n){function s(v,t){var u=true;e(t).each(function(x,w){u=e.inArray(w,v)>=0;if(!u){return false}});return u}if(!this._soiRedirectChecked&&e("#"+q).length>0){this._soiRedirectChecked=true;var m=e("#"+q).data("bvcontentids");if(m&&(m.length>0)&&!s(p,m)){var o=this.getSoiRedirectUrl(q,r);if(o&&o!=r){i.get(o,this.getComponent(this.replacementsPrefix()+"Frame"),n);return true}}}return false},getSoiRedirectUrl:function(n,o){var p=e("#"+n).data("bvsoirelativeurl");if(!p){return false}var m=/^(http[s]?:\/\/[^\/]+)/i.exec(o);
return m&&(m[1]+p)}})});
$BV.Internal.define("injection.shared.replacements",[],["exports","domUtils"],function(a){$BV.Internal.extend(a,{determineReturnUrl:function(c,b){var d;if(b){d=b.submissionReturnUrl&&String(b.submissionReturnUrl)}else{d=this.getClientDivData("ReturnURL");if(d){d=d.replace(/^\s+/,"").replace(/\s+$/,"");if(d.indexOf("http%3A%2F%2F")==0){d=decodeURIComponent(d)}}}if(!d||d.match(/^\s*$/)){d=this.targetWindow().location.href}return c?encodeURIComponent(d):d},determineSubmissionUrl:function(d,c){var b;if(c){b=c.submissionContainerUrl}else{b=this.getClientDivData("SubmissionURL")}if(!b&&(d.inFrameSubmissionEnabled||(c&&c.allowSamePageSubmission))){b=this.targetWindow().location.href}return b?encodeURIComponent(this.stripAnchors(b)):""},determineSubmissionParameters:function(c){var b;if(c){b=c.submissionContainerUrlParameters}else{b=this.getClientDivData("SubmissionParameters")}return b?encodeURIComponent(b):null},determineCustomerId:function(b){var c;if(b){c=b.userToken}else{c=this.getClientDivData("CustomerID");if(c=="__USERID__"||c=="%5F%5FUSERID%5F%5F"){c=null}}return c?encodeURIComponent(c):null},determineSessionParameters:function(){return this.getClientDivData("SessionParams")}})});
$BV.Internal.define("injection.shared",[],["exports","jquery.core","injection","injection.shared.replacements","requester"],function(a,e,b,d,c){e.extend(a,b,d,{getComponent:function(f){return this.divOverrides(f)||this.targetWindow().document.getElementById(f)},getReplacements:function(j,g){var l=[];l.push({pattern:/__CONFIGKEY__/g,replacement:g?c.getConfigKey(g):""});if(j.replaceDisplayTokens){l.push({pattern:/__RETURN__/g,replacement:this.determineReturnUrl(true,g)});l.push({pattern:/__BVSUBMISSIONURL__/g,replacement:this.determineSubmissionUrl(j,g)});l.push({pattern:/__BVSUBMISSIONPARAMETERS__/g,replacement:this.determineSubmissionParameters(g)});l.push({pattern:/__USERID__/g,replacement:this.determineCustomerId(g)})}if(j.replaceSessionParameters){var f=this.determineSessionParameters();if(f){f=f.replace(/"/g,"&quot;");l.push({pattern:/value=("?)__BVSESSIONPARAMS__("?)/g,replacement:'value="'+f+'"'})}}var k=[];for(var h=0;h<l.length;++h){if(l[h].replacement!=null){k.push(l[h])}}return k}})});
$BV.Internal.define("animationQueueing",[window,document],["exports","jquery.core"],function(e,b,g,h){var d=[];var f="#BVEventCapturingButtonID";var a="Resume Animations";var c="Pause Animations";h.extend(g,{isAnimationPausingEnabled:function(){return h(f)!=undefined&&h(f).attr("value")===a},enableAnimationPause:function(){h(f).attr("value",a);if(d.length==0){h(f).attr("disabled",true)}},disableAnimationPause:function(){h(f).attr("value",c);h(f).attr("disabled",false)},pushAnimationEvent:function(i,j){if(g.isAnimationPausingEnabled()){d.push(function(){i.apply(this,[].slice.call(j,0))});h(f).attr("disabled",false)}else{i.apply(this,[].slice.call(j,0))}},clearAnimationEventQueue:function(){if(!g.isAnimationPausingEnabled()){g.enableAnimationPause();return}g.disableAnimationPause();while(d.length>0){d.shift()()}}});e.bvAnimationEventQueue=g});
$BV.Internal.define("tooltip",[window],["exports","jquery.core","animationQueueing","domUtils"],function(c,b,d){function a(r,h,o,l,e,g,q){var t=null,k=null,n=null,f=null;q=q||"BVDI_BAPopup";function j(){bvAnimationEventQueue.pushAnimationEvent(function(){d("#"+r).animate(d.support.opacity?{opacity:"0"}:{},"fast",function(){d(this).remove();d("#"+r+"-IEControlsFrame").remove()})},arguments)}function s(){var A=d("#"+k),B=d("#"+t),u=B.clone(true).attr("id",r).appendTo("body");u.bind("mouseenter",function(){i()});u.bind("mouseleave",function(){m(true)});var v=d(document.createElement("div")).css({position:"absolute",top:0,left:0}).appendTo("body"),y=v.position();v.remove();var x=A.offset().top-u.outerHeight()-y.top,w=A.offset().top-u.outerHeight()-y.top-e,z=A.offset().left+A.outerWidth()/2-u.outerWidth()/2-y.left,C=d(bvGetIEControlsFrame(r+"-IEControlsFrame",""));if(z+y.left<0){u.add(C).addClass(q+"LeftBoundCross")}else{if(z>d(c).width()-u.outerWidth()){u.add(C).addClass(q+"RightBoundCross")}}var E={top:w+"px",left:z+"px"},D={top:[x+"px","swing"]};if(d.support.opacity){E.opacity=0;D.opacity=1}u.css(E).show();C.css(E);C.css({position:"absolute",width:u.width()+"px",height:u.height()+"px"});C.insertBefore(u).show();u.add(C).animate(D,g)}function i(){clearTimeout(f);f=setTimeout(j,o)}function m(u){if(n!=null){clearTimeout(n);n=null;k=null;t=null;return}if(f){clearTimeout(f)}function v(){j();f=null;k=null;t=null}if(u){v()}else{f=setTimeout(v,l)}}function p(v,w,u){if(t==v&&!u){return}m(true);t=v;k=w;i();if(n==null){n=setTimeout(function(){s();n=null},h)}}return{show:p,hide:m}}b.newTooltip=a;b.defaultTooltip=a("BVTooltipID",500,10000,500,20,500);c.bvTooltip=b.defaultTooltip});
$BV.Internal.define("underscore",[],[],function(){
/*
 *     Underscore.js 1.1.7
 *     (c) 2011 Jeremy Ashkenas, DocumentCloud Inc.
 *     Underscore is freely distributable under the MIT license.
 *     Portions of Underscore are inspired or borrowed from Prototype,
 *     Oliver Steele's Functional, and John Resig's Micro-Templating.
 *     For all details and documentation:
 *     http://documentcloud.github.com/underscore
 */
var u=this;var r=u._;var b={};var i=Array.prototype,B=Object.prototype,D=Function.prototype;var s=i.slice,w=i.unshift,v=B.toString,o=B.hasOwnProperty;var m=i.forEach,h=i.map,z=i.reduce,e=i.reduceRight,l=i.filter,a=i.every,y=i.some,t=i.indexOf,f=i.lastIndexOf,c=Array.isArray,A=Object.keys,j=D.bind;var C=function(E){return new g(E)};if(typeof module!=="undefined"&&module.exports){module.exports=C;C._=C}else{u._=C}C.VERSION="1.1.7";var d=C.each=C.forEach=function(J,I,H){if(J==null){return}if(m&&J.forEach===m){J.forEach(I,H)}else{if(J.length===+J.length){for(var G=0,E=J.length;G<E;G++){if(G in J&&I.call(H,J[G],G,J)===b){return}}}else{for(var F in J){if(o.call(J,F)){if(I.call(H,J[F],F,J)===b){return}}}}}};C.map=function(H,G,F){var E=[];if(H==null){return E}if(h&&H.map===h){return H.map(G,F)}d(H,function(K,I,J){E[E.length]=G.call(F,K,I,J)});return E};C.reduce=C.foldl=C.inject=function(I,H,E,G){var F=E!==void 0;if(I==null){I=[]}if(z&&I.reduce===z){if(G){H=C.bind(H,G)}return F?I.reduce(H,E):I.reduce(H)}d(I,function(L,J,K){if(!F){E=L;F=true}else{E=H.call(G,E,L,J,K)}});if(!F){throw new TypeError("Reduce of empty array with no initial value")}return E};C.reduceRight=C.foldr=function(H,G,E,F){if(H==null){H=[]}if(e&&H.reduceRight===e){if(F){G=C.bind(G,F)}return E!==void 0?H.reduceRight(G,E):H.reduceRight(G)}var I=(C.isArray(H)?H.slice():C.toArray(H)).reverse();return C.reduce(I,G,E,F)};C.find=C.detect=function(H,G,F){var E;p(H,function(K,I,J){if(G.call(F,K,I,J)){E=K;return true}});return E};C.filter=C.select=function(H,G,F){var E=[];if(H==null){return E}if(l&&H.filter===l){return H.filter(G,F)}d(H,function(K,I,J){if(G.call(F,K,I,J)){E[E.length]=K}});return E};C.reject=function(H,G,F){var E=[];if(H==null){return E}d(H,function(K,I,J){if(!G.call(F,K,I,J)){E[E.length]=K}});return E};C.every=C.all=function(H,G,F){var E=true;if(H==null){return E}if(a&&H.every===a){return H.every(G,F)}d(H,function(K,I,J){if(!(E=E&&G.call(F,K,I,J))){return b}});return E};var p=C.some=C.any=function(H,G,F){G=G||C.identity;var E=false;if(H==null){return E}if(y&&H.some===y){return H.some(G,F)}d(H,function(K,I,J){if(E|=G.call(F,K,I,J)){return b}});return !!E};C.include=C.contains=function(G,F){var E=false;if(G==null){return E}if(t&&G.indexOf===t){return G.indexOf(F)!=-1}p(G,function(H){if(E=H===F){return true}});return E};C.invoke=function(F,G){var E=s.call(arguments,2);return C.map(F,function(H){return(G.call?G||H:H[G]).apply(H,E)})};C.pluck=function(F,E){return C.map(F,function(G){return G[E]})};C.max=function(H,G,F){if(!G&&C.isArray(H)){return Math.max.apply(Math,H)}var E={computed:-Infinity};d(H,function(L,I,K){var J=G?G.call(F,L,I,K):L;J>=E.computed&&(E={value:L,computed:J})});return E.value};C.min=function(H,G,F){if(!G&&C.isArray(H)){return Math.min.apply(Math,H)}var E={computed:Infinity};d(H,function(L,I,K){var J=G?G.call(F,L,I,K):L;J<E.computed&&(E={value:L,computed:J})});return E.value};C.sortBy=function(G,F,E){return C.pluck(C.map(G,function(J,H,I){return{value:J,criteria:F.call(E,J,H,I)}}).sort(function(K,J){var I=K.criteria,H=J.criteria;return I<H?-1:I>H?1:0}),"value")};C.groupBy=function(G,F){var E={};d(G,function(J,H){var I=F(J,H);(E[I]||(E[I]=[])).push(J)});return E};C.sortedIndex=function(J,I,G){G||(G=C.identity);var E=0,H=J.length;while(E<H){var F=(E+H)>>1;G(J[F])<G(I)?E=F+1:H=F}return E};C.toArray=function(E){if(!E){return[]}if(E.toArray){return E.toArray()}if(C.isArray(E)){return s.call(E)}if(C.isArguments(E)){return s.call(E)}return C.values(E)};C.size=function(E){return C.toArray(E).length};C.first=C.head=function(G,F,E){return(F!=null)&&!E?s.call(G,0,F):G[0]
};C.rest=C.tail=function(G,E,F){return s.call(G,(E==null)||F?1:E)};C.last=function(E){return E[E.length-1]};C.compact=function(E){return C.filter(E,function(F){return !!F})};C.flatten=function(E){return C.reduce(E,function(F,G){if(C.isArray(G)){return F.concat(C.flatten(G))}F[F.length]=G;return F},[])};C.without=function(E){return C.difference(E,s.call(arguments,1))};C.uniq=C.unique=function(F,E){return C.reduce(F,function(G,I,H){if(0==H||(E===true?C.last(G)!=I:!C.include(G,I))){G[G.length]=I}return G},[])};C.union=function(){return C.uniq(C.flatten(arguments))};C.intersection=C.intersect=function(F){var E=s.call(arguments,1);return C.filter(C.uniq(F),function(G){return C.every(E,function(H){return C.indexOf(H,G)>=0})})};C.difference=function(F,E){return C.filter(F,function(G){return !C.include(E,G)})};C.zip=function(){var E=s.call(arguments);var H=C.max(C.pluck(E,"length"));var G=new Array(H);for(var F=0;F<H;F++){G[F]=C.pluck(E,""+F)}return G};C.indexOf=function(I,G,H){if(I==null){return -1}var F,E;if(H){F=C.sortedIndex(I,G);return I[F]===G?F:-1}if(t&&I.indexOf===t){return I.indexOf(G)}for(F=0,E=I.length;F<E;F++){if(I[F]===G){return F}}return -1};C.lastIndexOf=function(G,F){if(G==null){return -1}if(f&&G.lastIndexOf===f){return G.lastIndexOf(F)}var E=G.length;while(E--){if(G[E]===F){return E}}return -1};C.range=function(J,H,I){if(arguments.length<=1){H=J||0;J=0}I=arguments[2]||1;var F=Math.max(Math.ceil((H-J)/I),0);var E=0;var G=new Array(F);while(E<F){G[E++]=J;J+=I}return G};C.bind=function(F,G){if(F.bind===j&&j){return j.apply(F,s.call(arguments,1))}var E=s.call(arguments,2);return function(){return F.apply(G,E.concat(s.call(arguments)))}};C.bindAll=function(F){var E=s.call(arguments,1);if(E.length==0){E=C.functions(F)}d(E,function(G){F[G]=C.bind(F[G],F)});return F};C.memoize=function(G,F){var E={};F||(F=C.identity);return function(){var H=F.apply(this,arguments);return o.call(E,H)?E[H]:(E[H]=G.apply(this,arguments))}};C.delay=function(F,G){var E=s.call(arguments,2);return setTimeout(function(){return F.apply(F,E)},G)};C.defer=function(E){return C.delay.apply(C,[E,1].concat(s.call(arguments,1)))};var x=function(F,H,E){var G;return function(){var J=this,I=arguments;var K=function(){G=null;F.apply(J,I)};if(E){clearTimeout(G)}if(E||!G){G=setTimeout(K,H)}}};C.throttle=function(E,F){return x(E,F,false)};C.debounce=function(E,F){return x(E,F,true)};C.once=function(G){var E=false,F;return function(){if(E){return F}E=true;return F=G.apply(this,arguments)}};C.wrap=function(E,F){return function(){var G=[E].concat(s.call(arguments));return F.apply(this,G)}};C.compose=function(){var E=s.call(arguments);return function(){var F=s.call(arguments);for(var G=E.length-1;G>=0;G--){F=[E[G].apply(this,F)]}return F[0]}};C.after=function(F,E){return function(){if(--F<1){return E.apply(this,arguments)}}};C.keys=A||function(G){if(G!==Object(G)){throw new TypeError("Invalid object")}var F=[];for(var E in G){if(o.call(G,E)){F[F.length]=E}}return F};C.values=function(E){return C.map(E,C.identity)};C.functions=C.methods=function(G){var F=[];for(var E in G){if(C.isFunction(G[E])){F.push(E)}}return F.sort()};C.extend=function(E){d(s.call(arguments,1),function(F){for(var G in F){if(F[G]!==void 0){E[G]=F[G]}}});return E};C.defaults=function(E){d(s.call(arguments,1),function(F){for(var G in F){if(E[G]==null){E[G]=F[G]}}});return E};C.clone=function(E){return C.isArray(E)?E.slice():C.extend({},E)};C.tap=function(F,E){E(F);return F};C.isEqual=function(F,E){if(F===E){return true}var I=typeof(F),K=typeof(E);if(I!=K){return false}if(F==E){return true}if((!F&&E)||(F&&!E)){return false}if(F._chain){F=F._wrapped}if(E._chain){E=E._wrapped}if(F.isEqual){return F.isEqual(E)}if(E.isEqual){return E.isEqual(F)}if(C.isDate(F)&&C.isDate(E)){return F.getTime()===E.getTime()}if(C.isNaN(F)&&C.isNaN(E)){return false}if(C.isRegExp(F)&&C.isRegExp(E)){return F.source===E.source&&F.global===E.global&&F.ignoreCase===E.ignoreCase&&F.multiline===E.multiline}if(I!=="object"){return false
}if(F.length&&(F.length!==E.length)){return false}var G=C.keys(F),J=C.keys(E);if(G.length!=J.length){return false}for(var H in F){if(!(H in E)||!C.isEqual(F[H],E[H])){return false}}return true};C.isEmpty=function(F){if(C.isArray(F)||C.isString(F)){return F.length===0}for(var E in F){if(o.call(F,E)){return false}}return true};C.isElement=function(E){return !!(E&&E.nodeType==1)};C.isArray=c||function(E){return v.call(E)==="[object Array]"};C.isObject=function(E){return E===Object(E)};C.isArguments=function(E){return !!(E&&o.call(E,"callee"))};C.isFunction=function(E){return !!(E&&E.constructor&&E.call&&E.apply)};C.isString=function(E){return !!(E===""||(E&&E.charCodeAt&&E.substr))};C.isNumber=function(E){return !!(E===0||(E&&E.toExponential&&E.toFixed))};C.isNaN=function(E){return E!==E};C.isBoolean=function(E){return E===true||E===false};C.isDate=function(E){return !!(E&&E.getTimezoneOffset&&E.setUTCFullYear)};C.isRegExp=function(E){return !!(E&&E.test&&E.exec&&(E.ignoreCase||E.ignoreCase===false))};C.isNull=function(E){return E===null};C.isUndefined=function(E){return E===void 0};C.noConflict=function(){u._=r;return this};C.identity=function(E){return E};C.times=function(H,G,F){for(var E=0;E<H;E++){G.call(F,E)}};C.mixin=function(E){d(C.functions(E),function(F){q(F,C[F]=E[F])})};var k=0;C.uniqueId=function(E){var F=k++;return E?E+F:F};C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};C.template=function(H,G){var I=C.templateSettings;var E="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+H.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(I.interpolate,function(J,K){return"',"+K.replace(/\\'/g,"'")+",'"}).replace(I.evaluate||null,function(J,K){return"');"+K.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var F=new Function("obj",E);return G?F(G):F};var g=function(E){this._wrapped=E};C.prototype=g.prototype;var n=function(F,E){return E?C(F).chain():F};var q=function(E,F){g.prototype[E]=function(){var G=s.call(arguments);w.call(G,this._wrapped);return n(F.apply(C,G),this._chain)}};C.mixin(C);d(["pop","push","reverse","shift","sort","splice","unshift"],function(E){var F=i[E];g.prototype[E]=function(){F.apply(this._wrapped,arguments);return n(this._wrapped,this._chain)}});d(["concat","join","slice"],function(E){var F=i[E];g.prototype[E]=function(){return n(F.apply(this._wrapped,arguments),this._chain)}});g.prototype.chain=function(){this._chain=true;return this};g.prototype.value=function(){return this._wrapped};return C.noConflict()});
$BV.Internal.define("urlEnvironmentManagementService",[document],["exports","jquery.core","underscore","contentDisplay"],function(r,n,t,x,u){var e=false,p,f={},a={},k={},c={},j={},l=function(z){$BV.log(z)};function y(z){if(!z){z=function(){}}if(e){z()}else{e=true;q(z)}}function q(z){var A=g();x.each(f,function(C,B){A.allocate(B,function(E,D){if(!E){l("Failed to load bundle summary from "+B);return}a[B]=D});t.ajax({url:C.bundleSummaryUrl,dataType:"jsonp",success:function(D){A.release(B,D)}})});A.queue(function(){b();i();h(z)})}function h(z){var A=g();x.each(k,function(B,C){w(C,B.overrideServiceEnvironment,A).get()});A.queue(z)}function w(E,B,C){var D={};function z(){t.ajax({url:E+a[B].requestEnvironment.overrideGetUrlSuffix,dataType:"jsonp",data:D,success:function(F){C.release(E,F)}})}function A(){var I=false,J=Math.random().toString().substring(2),G="URLEnvironmentOverrideFrame"+J,H="URLEnvironmentOverrideForm"+J,K,F;K=r.createElement("iframe");K.setAttribute("name",G);K.setAttribute("src","javascript:false;");K.setAttribute("style","display:none;");K.addEventListener("load",function(){if(I){C.release(E);t(F).remove();t(K).remove()}},false);r.body.appendChild(K);t('<form action="'+E+a[B].requestEnvironment.overridePostUrlSuffix+'" target="'+G+'" name="'+H+'" method="POST" accept-charset="utf-8"><input type="hidden" name="src"/><input type="hidden" name="dest"/><input type="hidden" name="action"/></form>').appendTo("body");F=r.forms[H];I=true;x.each(D,function(M,L){F[L].value=M});F.submit()}return{addSource:function(F){D.src=F;return this},addDestination:function(F){D.dest=F;return this},get:function(){D.action="get";C.allocate(E,function(G,F){if(!G){l("Failed to load environment mappings for host "+E);return}k[E].mappings=F.mappings;d(E,F.mappings)});z()},set:function(){D.action="set";C.allocate(E,function(F){if(!F){l("Failed to set environment mapping for host "+E)}});if(t.browser.webkit){A()}else{z()}}}}function g(B){var z=0,D=[],A={},E=u.createTimer();B=B||5000;function C(){while(D.length){(D.shift())()}}return{allocate:function(G,F){z++;A[G]=F||t.noop},release:function(G){var F=[].slice.call(arguments,1);F.unshift(true);z--;A[G].apply(null,F);delete A[G];if(z<=0){E.clear();C()}},queue:function(F){if(z<=0){F()}else{D.push(F);E.set(function(){for(var G in A){A[G](false);delete A[G]}C()},B)}}}}function b(){var z=x(a).chain().values().first().value();var A=x(a).all(function(B){return x.isEqual(z.clients,B.clients)});if(!A){l("Supported host names differ between environments")}}function i(){if(!(p in a)){l("Environment data failed to load from "+p);p=null}x.each(a,o);o(a[p],p)}function o(B,A){if(!B){return}var z=B.hostSets[B.requestEnvironment.hostSet];c[A]=z;x.each(z,function(C){k[C]=k[C]||{};k[C].overrideServiceEnvironment=A})}function d(A,z){x.each(z,function(C){var B=C.source;if(!x(c[B]||[]).contains(A)){return}j[B]=j[B]||{};j[B][C.destination]=true})}function s(B,A,z){var C=g();x.each(c[B],function(D){w(D,k[D].overrideServiceEnvironment,C).addSource(B).addDestination(A).set()});C.queue(z||t.noop)}function v(A,z){var B=g();x.each(c[A],function(C){w(C,k[C].overrideServiceEnvironment,B).addSource(A).set()});B.queue(z||t.noop)}function m(z){var A=g();x.each(k,function(B,C){w(C,B.overrideServiceEnvironment,A).set()});A.queue(z||t.noop)}n.getEnvironmentMappings=function(z){y(function(){z(j)})};n.setEnvironmentMapping=function(B,A,z){y(function(){s(B,A,z)})};n.clearEnvironmentMapping=function(A,z){y(function(){v(A,z)})};n.clearEnvironmentMappings=function(z){y(function(){m(z)})};n.prefetchEnvironmentData=function(z){y(z)};n.setNotificationHandler=function(z){l=z};n.initService=function(z){p=z.preferredEnvironmentName,f=z.environments}});
$BV.Internal.define("urlEnvironmentStatus",[window],["exports","jquery.core","urlEnvironmentManagementService"],function(j,a,i,h){var c="urlEnvironmentStatus",f=false,b,e,k;$BV.Test=$BV.Test||{};$BV.Test.setEnvToolbarEnabled=l;k=j.$BV_Test_setEnvToolbarEnabled!==false;function l(m){k=m;if(k){i("#BVUESExpanded").show()}else{i("#BVUESExpanded, #BVUESCollapsed").hide()}return k}function d(m){if(!e){e=m.destinationOnExit}if(f){return}f=true;$BV.Internal.callAjax(m.url);b=m.source;h.initService({preferredEnvironmentName:b,environments:m.environments})}function g(){var p=i("#BVUESExpanded"),n=i("#BVUESCollapsed"),o=i("#BVUESExitTestingEnvironment"),m={top:0,opacity:1};if(k){p.animate(m,1000)}else{p.css(m).hide()}o.css({opacity:0.85}).mousedown(function(){i(this).css({backgroundPosition:"0 -11px"})}).mouseup(function(){i(this).css({backgroundPosition:"0 0",opacity:0.75})}).mouseover(function(){i(this).stop(true,true).animate({opacity:1},400)}).mouseout(function(){i(this).stop(true,true).animate({opacity:0.85},400)});i("#BVUESExpanded #BVUESToggle").css({opacity:0.75}).click(function(){n.css({top:"-30px"});p.animate({top:"-100px",opacity:"hide"},600,function(){i("#BVUESCollapsed").animate({top:"-4px",opacity:"show"},400)})}).mouseover(function(){i(this).stop(true,true).animate({opacity:1},400)}).mouseout(function(){i(this).stop(true,true).animate({opacity:0.75},400)});i("#BVUESCollapsed #BVUESToggle").css({opacity:0.75}).click(function(){n.animate({top:"-30px",opacity:"hide"},400,function(){p.animate({top:"0",opacity:"show"},600)})}).mouseover(function(){i(this).stop(true,true).animate({opacity:1},200);n.stop(true,true).animate({top:"2px"},200)}).mouseout(function(){i(this).stop(true,true).animate({opacity:0.75},200);n.stop(true,true).animate({top:"-4px"},200)});o.click(function(){o.fadeOut("fast",function(){i("#BVUESExitingTestingEnvironment").fadeIn("fast")});h.clearEnvironmentMapping(b,function(){if(!!e){j.location=e}else{j.location.reload()}});return false})}a.loadedContent=function(m){i(m).appendTo("body");g()};a.bindToSubmitFrame=a.bindToProductPickerFrame=function(m){m.listen(c+".onPageLoad",function(o,n){a.onPageLoad(o,n)})};a.connectFromSubmitFrame=a.connectFromProductPickerFrame=function(m){a.onPageLoad=function(o,n){m.call(c+".onPageLoad",o,n)}};a.onPageLoad=function(n,m){if(n=="injectStatus"){d(m)}}});
