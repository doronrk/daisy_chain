/*!
 * Google Analytics Tracking Enhancer (GATE) v4.3.6
 * Enhances and expands the tracking capabilities of Google Analytics.
 *
 * Distributed for use on approved client sites.
 *
 * Copyright (c) 2014 ROI Revolution, Inc.
 * For use only by active clients of ROI Revolution, Inc. on approved web
 * properties. Modification, redistribution, and/or attempted reverse engineering
 * of this script is strictly forbidden and may be subject to legal action.
 * http://www.roirevolution.com/
 */

/*! Modified from https://github.com/addyosmani/jquery.parts/blob/master/jquery.documentReady.js */
(function(h){var f=function(m){a(m);e()},j=h.document,i=false,g=[],a=function(m){if(typeof m==="function"){g.push(m)}},c=function(){while(g.length){(g.shift())()}a=function(m){m()}},l=function(){if(j.addEventListener){j.removeEventListener("DOMContentLoaded",l,false)}else{j.detachEvent("onreadystatechange",l)}b()},b=function(){if(!f.isReady){if(!j.body){return setTimeout(b,1)}f.isReady=true;c()}},e=function(){var m=false;if(i){return}i=true;if(j.readyState!=="loading"){b()}if(j.addEventListener){j.addEventListener("DOMContentLoaded",l,false);h.addEventListener("load",l,false)}else{if(j.attachEvent){j.attachEvent("onreadystatechange",l);h.attachEvent("onload",l);try{m=h.frameElement===null}catch(n){}if(j.documentElement.doScroll&&m){d()}}}},d=function(){if(f.isReady){return}try{j.documentElement.doScroll("left")}catch(m){setTimeout(d,1);return}b()},k=h.ROIStorage||{};f.isReady=false;k.runOnDocumentReady=f})(window);

/*! GATE */
(function(d,e,j,h,f,c,b){d.GoogleAnalyticsObject=f;d[f]=d[f]||function(){(d[f].q=d[f].q||[]).push(arguments)},d[f].l=1*new Date();c=e.createElement(j),b=e.getElementsByTagName(j)[0];c.async=1;c.src=h;b.parentNode.insertBefore(c,b)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ROIStorage.clone=function(d){var e,c,b,a;if(null===d||"object"!==typeof d){return d}if(d instanceof Date){e=new Date();e.setTime(d.getTime());return e}if(d instanceof Array){e=[];for(c=0,a=d.length;c<a;c+=1){e[c]=ROIStorage.clone(d[c])}return e}if(d instanceof Object){e={};for(b in d){if(d.hasOwnProperty(b)){e[b]=ROIStorage.clone(d[b])}}return e}};(function(){function a(b){if(b.indexOf(".")===-1){return b}return b.split(".")[1]}if(typeof ROITracker!=="undefined"){return}window.roiTrackers={};ROIStorage.roiq.push(function(){var b;function c(d){if(d.indexOf(".")===-1){return roiTrackers[""]}return roiTrackers[d.split(".")[0]+"."]}window.ga=function(){var i,f,d,e,h,g=ROIStorage.clone(Array.prototype.slice.call(arguments,0));if(typeof arguments[0]==="function"){ROIStorage.realGa(arguments[0]);return}i=a(g[0]);f=c(g[0]);if(f&&i){d=f.getChildren();switch(i){case"create":break;case"set":if(f.isSetAllowed(g)){ROIStorage.realGa.apply(window,g);f.addToSetConfig(g)}break;case"send":f.runEnhancedEcommerce();if(f.isSendAllowed(g)){ROIStorage.realGa.apply(window,ROIStorage.clone(f.applySendConfig(g)));f.resetSendConfig()}break;case"require":ROIStorage.realGa.apply(window,g);break;default:if(/^ecommerce:/i.test(i)){f.handleEcommerceMethod(g)}else{if(/^ec:/i.test(i)){f.handleEnhancedEcommerceMethod(g)}else{ROIStorage.realGa.apply(window,g)}}}for(e=0,h=d.length;e<h;e+=1){g[0]=d[e]+i;ga.apply(window,g)}}};for(b in ROIStorage.realGa){if(ROIStorage.realGa.hasOwnProperty(b)){window.ga[b]=ROIStorage.realGa[b]}}window.ga.create=function(){}});window.ROITracker=function(c,i){var h=this,e={name:i?i+".":"",account:c||"",children:[],unnamedPageviewUsed:false,transactions:[],transCallBack:null,itemCallBack:null,transPrefix:"",crossDomainEnabled:false,customTaggingParamNames:[],allowTrans:true,enhancedEcommerceTransactionId:null},d={name:i||""},b={},f={},g={handleAttribution:function(){var o=g.cpcCookieExists(),l=g.isCpcQuery(e.paidQueryRegex),n=g.firstCookieExists(),k=g.preserveAttribution,m=g.setCpcCookie,j=g.setFirstCookie;if(g.isNotDirectVisit()){if(e.firstTouch){if(e.cpcTrump){if(o){k();j()}else{if(l){m();j()}else{if(n){k()}else{j()}}}}else{if(n){k()}else{j()}}}else{if(e.cpcTrump){if(l){m()}else{if(o){k()}}}}}},cpcCookieName:"__roiCpc",firstCookieName:"__roiNonDirect",cpcCookieExists:function(){return ROITracker.getCookieValue(g.cpcCookieName)!==null},firstCookieExists:function(){return ROITracker.getCookieValue(g.firstCookieName)!==null},setCpcCookie:function(){ROIStorage.q.push([function(){ROITracker.setCookieAutoDomain(g.cpcCookieName,"true")}])},setFirstCookie:function(){ROIStorage.q.push([function(){ROITracker.setCookieAutoDomain(g.firstCookieName,"true")}])},isCpcQuery:function(k){var l=k||"gclid=|utm_medium=(?:cpc|ppc)",j=new RegExp("[?&#]("+l+")","i");return j.test(location.href)},isNotDirectVisit:function(){var j=new RegExp(g.getCustomParamRegexString(),"i");return(document.referrer!==""||/utm_(?:source|id)|gclid/i.test(location.href))||j.test(location.href)},refreshFlagCookies:function(){if(g.firstCookieExists()){g.setFirstCookie()}if(g.cpcCookieExists()){g.setCpcCookie()}},preserveAttribution:function(){b.referrer="";f.location=g.getStrippedPage()},getStrippedPage:function(){var j=g.getCustomParamRegexString(),l,k=(location.search).replace(/[?&](?:gclid|utm_(?:source|medium|campaign|content|term|id))=[^&]*/ig,"");if(j!==null){l=new RegExp("[?&](?:"+j+")=[^&]*","ig");k=k.replace(l,"")}k=k.replace(/^&/,"?");return location.protocol+"//"+location.hostname+location.pathname+k},getCustomParamRegexString:function(){var j=e.customTaggingParamNames;if(j.length>0){return j.join("|")}return null},addNewParamKey:function(l,j){var k=(g.getCurrentQueryString()).replace(l,j);f.location=location.protocol+"//"+location.hostname+location.pathname+k;e.customTaggingParamNames.push(l)},getCurrentQueryString:function(){var j=f.location||document.location,k=/(\?.*)(?:$|#)/.exec(j);return k?k[1]:""},storeAttributionPreferences:function(k,l,j,n,m){e.cpcTrump=k||false;e.firstTouch=l||false;e.legacyCookieNamespace=j;e.paidQueryRegex=n;e.paidCookieRegex=m},hasPropertyBesides:function(j,l){var k;for(k in j){if(j.hasOwnProperty(k)&&k!==l){return true}}return false},storeTransaction:function(j){var k,l=g.getStoredTransaction(j.id);if(l!==null){for(k in j){if(j.hasOwnProperty(k)){l[k]=j[k]}}}else{e.transactions.push(j)}},storeTransactionItem:function(j){var k=g.getStoredTransaction(j.id);if(k!==null){k.orderItems=k.orderItems||[];k.orderItems.push(j)}else{e.transactions.push({id:j.id,orderItems:[j]})}},getStoredTransaction:function(l){var j,k;for(j=0,k=e.transactions.length;j<k;j+=1){if(e.transactions[j].id===l){return e.transactions[j]}}return null},executeTransCallBack:function(){var n,l,o,k,q,p,m;for(n=0,p=e.transactions.length;n<p;n+=1){q=e.transactions[n];if(typeof e.transCallBack==="function"){e.transCallBack(q.revenue,q.id,q.tax,q.shipping)}k=q.orderItems;if(e.itemCallBack&&k){for(l=0,m=k.length;l<m;l+=1){o=k[l];if(typeof e.itemCallBack==="function"){e.itemCallBack(q.revenue,q.id,o.sku,o.quantity)}}}}e.transactions=[]},applyTransPrefix:function(j){j.id=e.transPrefix+j.id},ensureCookieDomainConfigSet:function(){if(!d.hasOwnProperty("cookieDomain")){d.cookieDomain="auto"}},gaCookieValueRegex:/^GA\d+\.\d+\.(\d+\.\d+)/,linkingRegex:/^(?:__roi|__utmx(?:x|_k)?|zma[cgkp]|kw|sid)/,setWindowName:function(){var j=document.cookie.split("; "),l=j.length,m="",n,p,o,k;for(k=0;k<l;k+=1){n=g.getSplitCookie(j[k]);if(n!==null){p=n[0];o=n[1];if(g.linkingRegex.test(p)||g.gaCookieValueRegex.test(o)){m+="; ";m+=j[k]}}}window.name=m.substring(2)},readWindowName:function(){var k,m,n,p,o,j,l;if(window.name===""){return}k=window.name.split("; ");for(l=0,m=k.length;l<m;l+=1){n=g.getSplitCookie(k[l]);if(n!==null){p=n[0];o=n[1];if(g.linkingRegex.test(p)){ROITracker.setCookieAutoDomain(p,o)}else{if(p==="_ga"&&g.gaCookieValueRegex.test(o)){j=g.getClientIdFromCookie(o);if(j!==null){d.clientId=j}}}}}},getSplitCookie:function(j){var k=/^([^=]+)=(.+)$/.exec(j);if(k&&k[1]&&k[2]){return[k[1],k[2]]}return null},getClientIdFromCookie:function(k){var j=g.gaCookieValueRegex.exec(k);if(j&&j[1]){return j[1]}return null},handleLegacyCookies:function(){function k(){var u=document.cookie.split("; "),r=u.length,v={},t,s;for(s=0;s<r;s+=1){t=(/^(2?__utm[za](?:_[a-z_\-]+)?)=(.+)$/).exec(u[s]);if(t){v[t[1]]=t[2]}}return v}function j(u,t){var s,r=u+"="+t;s=/^(?:2__utm[za]=\^([a-z_\-]+)\.|__utm[za]_([a-z_\-]+)=)/.exec(r);if(s){return(s[1]||s[2])===e.legacyCookieNamespace}return false}function q(r){return(/(__utm[za])/).exec(r)[1]}function p(r){return r.replace(/\^[a-z_\-]+\.\d+:/i,"")}function l(u){var s=e.firstTouch&&e.cpcTrump,r=!/utmcsr=\(direct\)/.test(u),t=(e.paidCookieRegex||/utmgclid=|utmcmd=(cpc|ppc)/).test(u);if(s&&t){g.preserveAttribution();g.setFirstCookie();g.setCpcCookie()}else{if(e.firstTouch&&r){g.preserveAttribution();g.setFirstCookie()}}}var o,n,m;if(e.legacyCookieNamespace!==undefined){m=k();for(o in m){if(m.hasOwnProperty(o)){n=m[o];if(j(o,n)){ROITracker.setCookieAutoDomain(q(o),p(n));l(n);g.breakCookie(o)}}}}ROIStorage.q.push([function(){g.breakCookie("__utma");g.breakCookie("__utmz")}])},breakCookie:function(j){ROITracker.setCookieAutoDomain(j,"delete",0)},mergeObjects:function(k,l){var j;for(j in k){if(k.hasOwnProperty(j)){l[j]=k[j]}}return l},trackFacebook:function(){var j=window.fbAsyncInit;window.fbAsyncInit=function(){var k=window.FB;if(typeof j==="function"){j()}try{if(k&&k.Event&&k.Event.subscribe){k.Event.subscribe("edge.create",function(m){ga("send","social","facebook","like",m)});k.Event.subscribe("edge.remove",function(m){ga("send","social","facebook","unlike",m)});k.Event.subscribe("message.send",function(m){ga("send","social","facebook","send",m)})}}catch(l){}}},trackTwitter:function(){var j=window.twttr;if(typeof j==="undefined"){return}j.ready(function(k){k.events.bind("tweet",function(l){if(l){ga("send","social","twitter","tweet",location.href)}});k.events.bind("follow",function(l){if(l){ga("send","social","twitter","follow",location.href)}})})},trickle:function(m,j){var l,n,k;for(l=0,n=e.children.length;l<n;l+=1){k=roiTrackers[e.children[l]];k[m].apply(k,j)}},getCookieDomain:function(){return d.cookieDomain||ROITracker.setCookieAutoDomain("roiDomain","1")}};this.setAttributionModel=function(j,l,m,k,n){g.storeAttributionPreferences(j,l,m,k,n);g.refreshFlagCookies()};this.isSendAllowed=function(j){var k=j[1];if(k==="pageview"){if(j[2]===undefined){if(!e.unnamedPageviewUsed){e.unnamedPageviewUsed=true;return true}return false}return true}if(typeof k==="object"&&k.hitType==="pageview"){if(g.hasPropertyBesides(k,"hitType")){if(k.page&&k.page!==""){return true}if(!e.unnamedPageviewUsed){e.unnamedPageviewUsed=true;return true}return false}return true}return true};this.isSetAllowed=function(k){function j(m){return/^campaign(?:Name|Source|Medium|Keyword|Content|Id)$/i.test(m)}var l=k[1];if(j(l)||l==="location"||l==="referrer"){return false}return true};this.applySendConfig=function(l){var k=Array.prototype.slice.call(l,0),j=k.length;if(typeof k[1]==="object"){k[1]=g.mergeObjects(k[1],f)}else{if(typeof k[j-1]==="object"){k[j-1]=g.mergeObjects(k[j-1],f)}else{if(k[1]==="pageview"){if(j===2){k.push(f)}else{if(typeof k[2]==="string"){f.hitType="pageview";f.page=k[2];k[2]=f}else{k.push(f)}}}else{k.push(f)}}}return k};this.addToSetConfig=function(j){if(typeof j[1]==="object"){g.mergeObjects(j[1],b)}else{if(typeof j[1]==="string"&&typeof j[2]==="string"){b[j[1]]=j[2]}}};this.resetSendConfig=function(){f.page=null;f.hitType=null};this.handleEcommerceMethod=function(j){if(e.allowTrans){switch(j[0]){case"ecommerce:addTransaction":g.applyTransPrefix(j[1]);g.storeTransaction(j[1]);break;case"ecommerce:addItem":g.applyTransPrefix(j[1]);g.storeTransactionItem(j[1]);break;case"ecommerce:send":g.executeTransCallBack();break;case"ecommerce:clear":e.transactions=[];break}ROIStorage.realGa.apply(window,j)}};this.runEnhancedEcommerce=function(){if(e.allowTrans&&e.enhancedEcommerceTransactionId){g.getStoredTransaction("EC").id=e.enhancedEcommerceTransactionId;g.executeTransCallBack();e.transactions=[];e.enhancedEcommerceTransactionId=null;ROIStorage.realGa(e.name+"send","event","Ecommerce","Purchase",{nonInteraction:1})}};this.handleEnhancedEcommerceMethod=function(m){var j,k="EC",n=a(m[0]),l=n==="ec:setAction"&&m[1]==="purchase";if(n==="ec:addProduct"){j=ROIStorage.clone(m[1]);j.sku=j.id;j.id=k;g.storeTransactionItem(j)}else{if(l){g.applyTransPrefix(m[2]);j=ROIStorage.clone(m[2]);e.enhancedEcommerceTransactionId=j.id;j.id=k;g.storeTransaction(j)}}if(!l||e.allowTrans){ROIStorage.realGa.apply(window,m)}};this._setCampSourceKey=function(j){if(ROITracker.getQueryParameter(j)!==null){g.addNewParamKey(j,"utm_source");g.trickle("_setCampSourceKey",arguments)}};this._setCampMediumKey=function(j){if(ROITracker.getQueryParameter(j)!==null){g.addNewParamKey(j,"utm_medium");g.trickle("_setCampMediumKey",arguments)}};this._setCampTermKey=function(j){if(ROITracker.getQueryParameter(j)!==null){g.addNewParamKey(j,"utm_term");g.trickle("_setCampTermKey",arguments)}};this._setCampContentKey=function(j){if(ROITracker.getQueryParameter(j)!==null){g.addNewParamKey(j,"utm_content");g.trickle("_setCampContentKey",arguments)}};this._setCampNameKey=function(j){if(ROITracker.getQueryParameter(j)!==null){g.addNewParamKey(j,"utm_campaign");g.trickle("_setCampNameKey",arguments)}};this._setVisitorCookieTimeout=function(j){d.cookieExpires=j/1000;g.trickle("_setVisitorCookieTimeout",arguments)};this._setAllowLinker=function(j){d.allowLinker=j;g.trickle("_setAllowLinker",arguments)};this._trackEvent=function(k,l,m,j){ga("send","event",k,l,m,j)};this._addTrans=function(j,m,n,l,k){ga("require","ecommerce","ecommerce.js");ga("ecommerce:addTransaction",{id:j,affiliation:m,revenue:n,tax:l,shipping:k})};this._addItem=function(j,o,k,m,l,n){ga("ecommerce:addItem",{id:j,sku:o,name:k,category:m,price:l,quantity:n})};this._trackTrans=function(){ga("ecommerce:send")};this.setTransCallBack=function(k,j){e.transCallBack=k;e.itemCallBack=j};this.setTransPrefix=function(j){e.transPrefix=j};this.setAllowTrans=function(j){e.allowTrans=j;g.trickle("setAllowTrans",arguments)};this.trackTransForm=function(){ROIStorage.runOnDocumentReady(function(){ROIStorage.q.push([function(){var m,j,l,n,k=document.getElementById("utmtrans");if(k===null){return}ga("require","ecommerce","ecommerce.js");m=k.innerHTML.trim().replace(/\n/g,"").split("UTM:");for(n=0,j=m.length;n<j;n+=1){if(m[n]){l=m[n].split("|");if(l[0]==="T"){ga("ecommerce:addTransaction",{id:l[1],affiliation:l[2],revenue:l[3],tax:l[4],shipping:l[5]})}else{if(l[0]==="I"){ga("ecommerce:addItem",{id:l[1],sku:l[2],name:l[3],category:l[4],price:l[5],quantity:l[6]})}}}}ga("ecommerce:send")}])})};this.setCustomData=function(j,k){b[j]=k;g.trickle("setCustomData",arguments)};this.setReferrerCustomDimension=function(m){var j=document.referrer,k=/^https?:\/\/([^\/]+)\//i,l=g.getCookieDomain();if(j!==""){j=k.exec(j);if(j&&j[1]){j=j[1].replace(/^www\./,"");if(j.indexOf(l)===-1){this.setCustomData("dimension"+m,j,2)}}}};this.trackSocial=function(){ROIStorage.runOnDocumentReady(function(){g.trackFacebook();g.trackTwitter()})};this.getChildren=function(){return e.children};this.setDomainNames=function(){e.crossDomainEnabled=true;g.trickle("setDomainNames",arguments)};this._setDomainName=function(j){d.cookieDomain=j;g.trickle("_setDomainName",arguments)};this._trackPageview=function(k){var j=(e.name!==""),m=(e.name===""&&e.children.length===0),l=(e.account!=="");ROIStorage.roiq.push(function(){if(l){g.handleLegacyCookies();g.handleAttribution();g.ensureCookieDomainConfigSet();if(e.crossDomainEnabled){g.readWindowName()}ROIStorage.realGa("create",e.account,d);ROIStorage.realGa(e.name+"require","displayfeatures");ROIStorage.realGa(e.name+"require","linkid","linkid.js");ROIStorage.realGa(e.name+"set",b);if(k!==false&&k!==undefined){f.page=k;ROIStorage.realGa(e.name+"send","pageview",ROIStorage.clone(f))}else{if(k!==false&&!e.unnamedPageviewUsed){e.unnamedPageviewUsed=true;ROIStorage.realGa(e.name+"send","pageview",f)}}h.resetSendConfig();if(e.crossDomainEnabled&&(j||m)){g.setWindowName()}}});g.trickle("_trackPageview",arguments)};this.createTracker=function(j,l){var k=new ROITracker(j,l);h.addTracker(k);return k};this.addTracker=function(j){e.children.push(j.getName())};this.getName=function(){return e.name};roiTrackers[e.name]=this};ROITracker.setCookieAutoDomain=function(d,j,g){var b=document.domain.split("."),h=b[b.length-1],f=false,e=2,c="junk";while(!f&&e<=b.length){h=b[b.length-e]+"."+h;ROITracker.setCookie(d,c,g,h);f=ROITracker.setCookie(d,j,g,h);e+=1}if(!f){ROITracker.setCookie(d,j,g);return location.hostname}else{return h}};ROITracker.setCookie=function(c,f,e,d){var b=new Date(),g=f.toString().replace(/;/g,function(h){return window.encodeURIComponent(h)});b.setDate(b.getDate()+(e!==undefined?e:364/2));g+="; expires="+b.toUTCString();g+=((d===undefined)?"":"; domain="+d);g+="; path=/";document.cookie=c+"="+g;return ROITracker.getCookieValue(c)===f.toString()};ROITracker.setSessionCookie=function(b,d,c){var e=d.toString().replace(/;/g,function(f){return window.encodeURIComponent(f)});e+=((c===undefined)?"":"; domain="+c);e+="; path=/";document.cookie=b+"="+e;return ROITracker.getCookieValue(b)===d.toString()};ROITracker.getCookieValue=function(c){var d=new RegExp("(?:^|; )"+c+"=([^;]+)"),b=d.exec(document.cookie);if(b&&b[1]){return window.decodeURIComponent(b[1])}return null};ROITracker.getCookie=function(b){return ROITracker.getCookieValue(b)};ROITracker.trackAdWordsConversion=function(g,c,f){var b=new Image(),e=location.protocol+"//www.googleadservices.com/pagead/conversion/"+g+"/",h=new Date(),d=document.getElementsByTagName("script")[0];e+="?random="+h.getTime();e+="&cv=7";e+="&fst="+h.getTime();e+="&num=1";e+="&fmt=3";e+=(f>0)?"&value="+f:"";e+="&label="+c;e+="&guid=ON";e+="&bg=ffffff";e+="&hl=en";e+="&gl=US";e+="&url="+window.escape(location.href.toString().substring(0,256));e+="&frm=0";b.height="1";b.width="1";b.style.borderStyle="none";b.alt="";b.src=e;d.parentNode.insertBefore(b,d)};ROITracker.trackAdWordsRemarketing=function(f,c){var b=new Image(),e=location.protocol+"//googleads.g.doubleclick.net/pagead/viewthroughconversion/"+f+"/",d=document.getElementsByTagName("script")[0];e+="?value=0";e+="&label="+c;e+="&guid=ON";e+="&script=0";b.height="1";b.width="1";b.style.borderStyle="none";b.alt="";b.src=e;d.parentNode.insertBefore(b,d)};ROITracker.trackDynamicRemarketing=function(b){ROIStorage.runOnDocumentReady((function(c){return function(){var d=new Image(),h=location.protocol+"//googleads.g.doubleclick.net/pagead/viewthroughconversion/"+c+"/",g=document.getElementsByTagName("script")[0],i=new Date(),f,e;h+="?random="+i.getTime();h+="&cv=7";h+="&fst="+i.getTime();h+="&num=1";h+="&fmt=1";h+="&guid=ON";h+="&url="+window.escape(location.href.toString().substring(0,256));if(typeof window.google_tag_params==="object"){f="";for(e in window.google_tag_params){if(window.google_tag_params.hasOwnProperty(e)){f+=e+"="+window.google_tag_params[e]+";"}}h+="&data="+window.escape(f.substring(0,f.length-1))}d.height="1";d.width="1";d.style.borderStyle="none";d.alt="";d.src=h;g.parentNode.insertBefore(d,g)}}(b)))};ROITracker.trackMSNConversion=function(h,g,e,c,f){var b=new Image(),d=document.getElementsByTagName("script")[0],i;e=e||"";c=c||"";f=f||"";i=location.protocol+"//"+h+".r.msn.com/?type=1&domainId="+h+"&dedup=1&actionid="+g+"&revenue="+e+"&taxcost="+c+"&shippingcost="+f;b.height="1";b.width="1";b.style.borderStyle="none";b.alt="";b.src=i;d.parentNode.insertBefore(b,d)};ROITracker.trackBingConversion=ROITracker.trackMSNConversion;ROITracker.trackUETMSNConversion=function(e,d){var b=new Image(),c=document.getElementsByTagName("script")[0];d=d||"";b.height="0";b.width="0";b.style.display="none";b.style.visibility="hidden";b.src=location.protocol+"//bat.bing.com/action/0?ti="+e+"&Ver=2&gv="+d;c.parentNode.insertBefore(b,c)};ROITracker.setMerchantAdvantageCookies=function(b){window._maCookieDays=b||30;if(/zmam=/i.test(location.search)){var d=document.createElement("script");d.type="text/javascript";d.async=true;d.src=(document.location.protocol=="https:"?"https://secure":"http://chanalytics")+".merchantadvantage.com/inchannel/maclick.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(d,c)}};ROITracker.trackMerchantAdvantageItem=function(i,b,h,e,f,d){var j,c=new Image(),g=(document.location.protocol==="https:"?"https://secure":"http://chanalytics")+".merchantadvantage.com/inChannel/cap2q_new.asp",l=document.getElementsByTagName("script")[0],k=(function(){function m(){var n={};n.zmap=ROITracker.getCookieValue("zmap")||"0";n.zmac=ROITracker.getCookieValue("zmac")||"0";n.sid=ROITracker.getCookieValue("sid")||"0";n.zmag=ROITracker.getCookieValue("zmag")||"0";n.zmak=ROITracker.getCookieValue("zmak")||"0";n.kw=ROITracker.getCookieValue("kw")||"0";n.zmar=document.referrer.substring(0,2000);return n}if(typeof ROITracker.merchantAdvantageCookies==="object"){return ROITracker.merchantAdvantageCookies}ROITracker.merchantAdvantageCookies=m();return ROITracker.merchantAdvantageCookies}());g+="?zmam="+f;g+="&zmas="+d;for(j in k){if(k.hasOwnProperty(j)&&j!=="zmap"){g+="&"+j+"="+k[j]}}g+="&zmat="+i;g+="&zman="+b;g+="&zmap="+h;g+="&qty="+e;g+="&zmaq=N";c.height="0";c.width="0";c.style.borderStyle="none";c.alt="";c.src=g;l.parentNode.insertBefore(c,l)};ROITracker.getQueryParameter=function(c){var d=new RegExp("(?:[?&#])"+c+"=([^&#]+)"),b=d.exec(location.search+location.hash);if(b){return window.unescape(b[1])}return null};ROITracker.clickHandler=function(c,d){return function b(){var f=this,e=!c(f);if(e){setTimeout(function(){if(typeof d==="function"){d()}location.href=f.href;if(f.click){f.onclick="";f.click()}},300);return false}if(typeof d==="function"){d()}return true}};ROITracker.submitHandler=function(d,c){return function b(){var g=this,f,e;if(!c||(e=c())||e===undefined){f=!d(g);if(f){setTimeout(function(){g.submit()},300)}else{return true}}return false}};ROITracker.getVisitorId=function(){return(new Date()).getTime()+(Math.floor(Math.random()*900)+100).toString()};ROITracker.crmTracking=function(g,f,l){var m=ROITracker.getQueryParameter,k=ROITracker.getCookieValue,c=function(){var o=/[?&](?:q|p|query|encquery|qt|terms|rdata|qs|wd|text|szukaj|k|searchExpr|search_for|string|search_query|searchfor)=([^&]+)/,p=o.exec(document.referrer);if(p){return window.unescape(p[1])}return null},e=function(){var r,q,o,p=new Date();r=p.getFullYear().toString();q=(p.getMonth()+1).toString();o=p.getDate().toString();return r+(q.charAt(1)?q:"0"+q.charAt(0))+(o.charAt(1)?o:"0"+o.charAt(0))},n={cookieName:"__roia",fieldName:f||"roi_visitor",fieldValue:{id:ROITracker.getVisitorId(),fvisitdate:e(),fquery:c(),freferrer:document.referrer,flanding:location.pathname},extraValues:{form:location.pathname,gwo:k("__utmx")}},d={cookieName:"__roiz",fieldName:l||"roi_attribution",fieldValue:{clickdate:e(),source:m("gclid")?"google":m("utm_source"),medium:m("gclid")?"cpc":m("utm_medium"),campaign:m("ga_campaign")||m("utm_campaign"),adgroup:m("ga_adgroup")||m("utm_content"),creative:m("ga_creative")||m("utm_creative"),keyword:m("ga_keyword")||m("utm_term"),device:m("ga_device")||m("utm_device"),network:m("ga_network"),query:c(),referrer:document.referrer,landing:location.pathname},updateCondition:m("gclid")||m("utm_source")},j=function(o){var s,q;function p(v){var t,u="";for(t in v){if(v.hasOwnProperty(t)){u+="|";u+=t;u+="=";u+=v[t]?(v[t].toString()).substring(0,60):""}}u=u.substring(1);return u}function r(u){var t;for(t in u){if(u.hasOwnProperty(t)){u[t]=""}}return p(u)}this.addHiddenInput=function(u){var t;if(u[o.fieldName]){u[o.fieldName].value=window.unescape(q)}else{t=document.createElement("input");t.name=o.fieldName;t.value=window.unescape(q);t.type="hidden";u.appendChild(t)}};s=p(o.fieldValue);q="";if(!k(o.cookieName)&&(o.updateCondition!==undefined?o.updateCondition:true)){ROITracker.setCookieAutoDomain(o.cookieName,s,365)}q=k(o.cookieName)||r(o.fieldValue);if(o.extraValues!==undefined){q+="|";q+=p(o.extraValues)}},h=new j(n),i=new j(d),b=function(){var q,p,o;for(q=0,o=g.length;q<o;q+=1){p=document.forms[g[q]]||document.getElementById(g[q]);if(p){h.addHiddenInput(p);i.addHiddenInput(p)}}};ROIStorage.runOnDocumentReady(b)};ROITracker.processQueuedCommands=function(){var f=function(g){var j,i;function h(k){if(k.indexOf(".")===-1){return""}return k.split(".")[0]+"."}if(typeof g==="function"){ROIStorage.runOnDocumentReady(g);return}j=a(g[0]);i=h(g[0]);switch(j){case"_addTrans":ga(i+"require","ecommerce","ecommerce.js");ga(i+"ecommerce:addTransaction",{id:g[1],affiliation:g[2],revenue:g[3],tax:g[4],shipping:g[5]});break;case"_addItem":ga(i+"ecommerce:addItem",{id:g[1],sku:g[2],name:g[3],category:g[4],price:g[5],quantity:g[6]});break;case"_trackTrans":ga(i+"ecommerce:send");break;case"_trackEvent":ga(i+"send","event",{eventCategory:g[1],eventAction:g[2],eventLabel:g[3],eventValue:g[4]});break;case"_trackPageview":ga(i+"send",{hitType:"pageview",page:g[1]});break;case"_trackSocial":ga(i+"send","social",{socialNetwork:g[1],socialAction:g[2],socialTarget:g[3]});break;case"_trackTiming":ga(i+"send","timing",{timingCategory:g[1],timingVar:g[2],timingValue:g[3],timingLabel:g[4]});break;case"_link":location.href=g[1];break;case"_setCustomVar":if(ROITracker.customVarMap){ga(i+"set",ROITracker.customVarMap[g[1]],g[3])}break}};function c(){var g;if(typeof ROIStorage.q==="object"){for(g=0;g<ROIStorage.q.length;g+=1){ga.apply(window,ROIStorage.q[g])}ROIStorage.q=[]}}function d(){ROIStorage.q.push=function(g){ga.apply(window,g)}}function e(){var g;if(typeof ROIStorage.gaq==="object"){for(g=0;g<ROIStorage.gaq.length;g+=1){f(ROIStorage.gaq[g])}ROIStorage.gaq=[]}}function b(){ROIStorage.gaq.push=function(g){f(g)}}ROIStorage.roiq.push(function(){c();d();e();b()})}}());

/***
 * End of Library
 *
 * Begin Auxiliary Library
 ***/

function tenSecRemarketing() {
	setTimeout('ROITracker.trackAdWordsRemarketing("1025319309", "wdlRCKXl2AIQjcP06AM")', 10000);
}

 /***
 * End of Auxiliary Library
 *
 * Begin Client Script
 ***/

// Initialize Tracker Objects
var pageTracker = new ROITracker("UA-11735289-3", "");
pageTracker.createTracker("UA-11735289-4", "t3").setAttributionModel(true, true, "first_cpc");
pageTracker._setDomainName('alphaindustries.com');

pageTracker.setReferrerCustomDimension(1);

pageTracker._trackPageview();

pageTracker.setTransCallBack(function(value) {
	ROITracker.trackMSNConversion("1387158", "130505", value);
	// Remarketing for made purchase
	ROITracker.trackAdWordsRemarketing("1025319309", "5HkgCO3xvQIQjcP06AM");
}, function(value, transId, sku, quantity) {
        ROITracker.trackMerchantAdvantageItem(value, transId, sku, quantity, "28193374", "1");
});

// Remarketing for viewed cart
if (/^\/(?:secure\/checkout|cart)\.aspx/i.test(location.pathname)) {
	ROITracker.trackAdWordsRemarketing("1025319309", "cDFVCI3uvQIQjcP06AM");
}

// Remarketing for spent 10s on home page
if (location.pathname === "/") {
	ROIStorage.runOnDocumentReady(tenSecRemarketing());
}

// Remarketing for home page -> another page
if (location.pathname !== "/" && /alphaindustries\.com\/(?:\?|$)/.test(document.referrer)) {
	ROITracker.trackAdWordsRemarketing("1025319309", "q2rDCJ3m2AIQjcP06AM");
}

ROITracker.trackAdWordsRemarketing("1025319309", "0RCNCL7o3FYQjcP06AM");
ROITracker.processQueuedCommands();
ROITracker.setMerchantAdvantageCookies();
