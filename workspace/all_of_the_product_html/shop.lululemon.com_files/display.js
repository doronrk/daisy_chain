$BV.Internal.define("jquery.effects.core",[document],["jquery.core"],function(a,b){
/*
 * jQuery UI Effects 1.8.6
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/
 */
b.effects||(function(j,g){j.effects={};j.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(p,o){j.fx.step[o]=function(q){if(!q.colorInit){q.start=n(q.elem,o);q.end=l(q.end);q.colorInit=true}q.elem.style[o]="rgb("+Math.max(Math.min(parseInt((q.pos*(q.end[0]-q.start[0]))+q.start[0],10),255),0)+","+Math.max(Math.min(parseInt((q.pos*(q.end[1]-q.start[1]))+q.start[1],10),255),0)+","+Math.max(Math.min(parseInt((q.pos*(q.end[2]-q.start[2]))+q.start[2],10),255),0)+")"}});function l(p){var o;if(p&&p.constructor==Array&&p.length==3){return p}if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(p)){return[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10)]}if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(p)){return[parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55]}if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(p)){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(p)){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}if(o=/rgba\(0, 0, 0, 0\)/.exec(p)){return c.transparent}return c[j.trim(p).toLowerCase()]}function n(q,o){var p;do{p=j.curCSS(q,o);if(p!=""&&p!="transparent"||j.nodeName(q,"body")){break}o="backgroundColor"}while(q=q.parentNode);return l(p)}var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var h=["add","remove","toggle"],e={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function i(){var r=a.defaultView?a.defaultView.getComputedStyle(this,null):this.currentStyle,s={},p,q;if(r&&r.length&&r[0]&&r[r[0]]){var o=r.length;while(o--){p=r[o];if(typeof r[p]=="string"){q=p.replace(/\-(\w)/g,function(t,u){return u.toUpperCase()});s[q]=r[p]}}}else{for(p in r){if(typeof r[p]==="string"){s[p]=r[p]}}}return s}function d(p){var o,q;for(o in p){q=p[o];if(q==null||j.isFunction(q)||o in e||(/scrollbar/).test(o)||(!(/color/i).test(o)&&isNaN(parseFloat(q)))){delete p[o]}}return p}function k(o,q){var r={_:0},p;for(p in q){if(o[p]!=q[p]){r[p]=q[p]}}return r}j.effects.animateClass=function(o,p,r,q){if(j.isFunction(r)){q=r;r=null}return this.each(function(){var v=j(this),s=v.attr("style")||" ",w=d(i.call(this)),u,t=v.attr("className");j.each(h,function(x,y){if(o[y]){v[y+"Class"](o[y])}});u=d(i.call(this));v.attr("className",t);v.animate(k(w,u),p,r,function(){j.each(h,function(x,y){if(o[y]){v[y+"Class"](o[y])}});if(typeof v.attr("style")=="object"){v.attr("style").cssText="";v.attr("style").cssText=s}else{v.attr("style",s)}if(q){q.apply(this,arguments)}})})};j.fn.extend({_addClass:j.fn.addClass,addClass:function(p,o,r,q){return o?j.effects.animateClass.apply(this,[{add:p},o,r,q]):this._addClass(p)
},_removeClass:j.fn.removeClass,removeClass:function(p,o,r,q){return o?j.effects.animateClass.apply(this,[{remove:p},o,r,q]):this._removeClass(p)},_toggleClass:j.fn.toggleClass,toggleClass:function(q,p,o,s,r){if(typeof p=="boolean"||p===g){if(!o){return this._toggleClass(q,p)}else{return j.effects.animateClass.apply(this,[(p?{add:q}:{remove:q}),o,s,r])}}else{return j.effects.animateClass.apply(this,[{toggle:q},p,o,s])}},switchClass:function(o,q,p,s,r){return j.effects.animateClass.apply(this,[{add:q,remove:o},p,s,r])}});j.extend(j.effects,{version:"1.8.6",save:function(p,q){for(var o=0;o<q.length;o++){if(q[o]!==null){p.data("ec.storage."+q[o],p[0].style[q[o]])}}},restore:function(p,q){for(var o=0;o<q.length;o++){if(q[o]!==null){p.css(q[o],p.data("ec.storage."+q[o]))}}},setMode:function(o,p){if(p=="toggle"){p=o.is(":hidden")?"show":"hide"}return p},getBaseline:function(p,q){var r,o;switch(p[0]){case"top":r=0;break;case"middle":r=0.5;break;case"bottom":r=1;break;default:r=p[0]/q.height}switch(p[1]){case"left":o=0;break;case"center":o=0.5;break;case"right":o=1;break;default:o=p[1]/q.width}return{x:o,y:r}},createWrapper:function(o){if(o.parent().is(".ui-effects-wrapper")){return o.parent()}var p={width:o.outerWidth(true),height:o.outerHeight(true),"float":o.css("float")},q=j("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});o.wrap(q);q=o.parent();if(o.css("position")=="static"){q.css({position:"relative"});o.css({position:"relative"})}else{j.extend(p,{position:o.css("position"),zIndex:o.css("z-index")});j.each(["top","left","bottom","right"],function(r,s){p[s]=o.css(s);if(isNaN(parseInt(p[s],10))){p[s]="auto"}});o.css({position:"relative",top:0,left:0})}return q.css(p).show()},removeWrapper:function(o){if(o.parent().is(".ui-effects-wrapper")){return o.parent().replaceWith(o)}return o},setTransition:function(p,r,o,q){q=q||{};j.each(r,function(t,s){unit=p.cssUnit(s);if(unit[0]>0){q[s]=unit[0]*o+unit[1]}});return q}});function f(p,o,q,r){if(typeof p=="object"){r=o;q=null;o=p;p=o.effect}if(j.isFunction(o)){r=o;q=null;o={}}if(typeof o=="number"||j.fx.speeds[o]){r=q;q=o;o={}}if(j.isFunction(q)){r=q;q=null}o=o||{};q=q||o.duration;q=j.fx.off?0:typeof q=="number"?q:q in j.fx.speeds?j.fx.speeds[q]:j.fx.speeds._default;r=r||o.complete;return[p,o,q,r]}function m(o){if(!o||typeof o==="number"||j.fx.speeds[o]){return true}if(typeof o==="string"&&!j.effects[o]){return true}return false}j.fn.extend({effect:function(r,q,t,v){var p=f.apply(this,arguments),s={options:p[1],duration:p[2],callback:p[3]},u=s.options.mode,o=j.effects[r];if(j.fx.off||!o){if(u){return this[u](s.duration,s.callback)}else{return this.each(function(){if(s.callback){s.callback.call(this)}})}}return o.call(this,s)},_show:j.fn.show,show:function(p){if(m(p)){return this._show.apply(this,arguments)}else{var o=f.apply(this,arguments);o[1].mode="show";return this.effect.apply(this,o)}},_hide:j.fn.hide,hide:function(p){if(m(p)){return this._hide.apply(this,arguments)}else{var o=f.apply(this,arguments);o[1].mode="hide";return this.effect.apply(this,o)}},__toggle:j.fn.toggle,toggle:function(p){if(m(p)||typeof p==="boolean"||j.isFunction(p)){return this.__toggle.apply(this,arguments)}else{var o=f.apply(this,arguments);o[1].mode="toggle";return this.effect.apply(this,o)}},cssUnit:function(o){var p=this.css(o),q=[];j.each(["em","px","%","pt"],function(r,s){if(p.indexOf(s)>0){q=[parseFloat(p),s]}});return q}});j.easing.jswing=j.easing.swing;j.extend(j.easing,{def:"easeOutQuad",swing:function(p,q,o,s,r){return j.easing[j.easing.def](p,q,o,s,r)},easeInQuad:function(p,q,o,s,r){return s*(q/=r)*q+o},easeOutQuad:function(p,q,o,s,r){return -s*(q/=r)*(q-2)+o},easeInOutQuad:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q+o}return -s/2*((--q)*(q-2)-1)+o},easeInCubic:function(p,q,o,s,r){return s*(q/=r)*q*q+o},easeOutCubic:function(p,q,o,s,r){return s*((q=q/r-1)*q*q+1)+o},easeInOutCubic:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q*q+o
}return s/2*((q-=2)*q*q+2)+o},easeInQuart:function(p,q,o,s,r){return s*(q/=r)*q*q*q+o},easeOutQuart:function(p,q,o,s,r){return -s*((q=q/r-1)*q*q*q-1)+o},easeInOutQuart:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q*q*q+o}return -s/2*((q-=2)*q*q*q-2)+o},easeInQuint:function(p,q,o,s,r){return s*(q/=r)*q*q*q*q+o},easeOutQuint:function(p,q,o,s,r){return s*((q=q/r-1)*q*q*q*q+1)+o},easeInOutQuint:function(p,q,o,s,r){if((q/=r/2)<1){return s/2*q*q*q*q*q+o}return s/2*((q-=2)*q*q*q*q+2)+o},easeInSine:function(p,q,o,s,r){return -s*Math.cos(q/r*(Math.PI/2))+s+o},easeOutSine:function(p,q,o,s,r){return s*Math.sin(q/r*(Math.PI/2))+o},easeInOutSine:function(p,q,o,s,r){return -s/2*(Math.cos(Math.PI*q/r)-1)+o},easeInExpo:function(p,q,o,s,r){return(q==0)?o:s*Math.pow(2,10*(q/r-1))+o},easeOutExpo:function(p,q,o,s,r){return(q==r)?o+s:s*(-Math.pow(2,-10*q/r)+1)+o},easeInOutExpo:function(p,q,o,s,r){if(q==0){return o}if(q==r){return o+s}if((q/=r/2)<1){return s/2*Math.pow(2,10*(q-1))+o}return s/2*(-Math.pow(2,-10*--q)+2)+o},easeInCirc:function(p,q,o,s,r){return -s*(Math.sqrt(1-(q/=r)*q)-1)+o},easeOutCirc:function(p,q,o,s,r){return s*Math.sqrt(1-(q=q/r-1)*q)+o},easeInOutCirc:function(p,q,o,s,r){if((q/=r/2)<1){return -s/2*(Math.sqrt(1-q*q)-1)+o}return s/2*(Math.sqrt(1-(q-=2)*q)+1)+o},easeInElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y)==1){return o+z}if(!w){w=y*0.3}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}return -(r*Math.pow(2,10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w))+o},easeOutElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y)==1){return o+z}if(!w){w=y*0.3}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}return r*Math.pow(2,-10*u)*Math.sin((u*y-v)*(2*Math.PI)/w)+z+o},easeInOutElastic:function(q,u,o,z,y){var v=1.70158;var w=0;var r=z;if(u==0){return o}if((u/=y/2)==2){return o+z}if(!w){w=y*(0.3*1.5)}if(r<Math.abs(z)){r=z;var v=w/4}else{var v=w/(2*Math.PI)*Math.asin(z/r)}if(u<1){return -0.5*(r*Math.pow(2,10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w))+o}return r*Math.pow(2,-10*(u-=1))*Math.sin((u*y-v)*(2*Math.PI)/w)*0.5+z+o},easeInBack:function(p,q,o,v,u,r){if(r==g){r=1.70158}return v*(q/=u)*q*((r+1)*q-r)+o},easeOutBack:function(p,q,o,v,u,r){if(r==g){r=1.70158}return v*((q=q/u-1)*q*((r+1)*q+r)+1)+o},easeInOutBack:function(p,q,o,v,u,r){if(r==g){r=1.70158}if((q/=u/2)<1){return v/2*(q*q*(((r*=(1.525))+1)*q-r))+o}return v/2*((q-=2)*q*(((r*=(1.525))+1)*q+r)+2)+o},easeInBounce:function(p,q,o,s,r){return s-j.easing.easeOutBounce(p,r-q,0,s,r)+o},easeOutBounce:function(p,q,o,s,r){if((q/=r)<(1/2.75)){return s*(7.5625*q*q)+o}else{if(q<(2/2.75)){return s*(7.5625*(q-=(1.5/2.75))*q+0.75)+o}else{if(q<(2.5/2.75)){return s*(7.5625*(q-=(2.25/2.75))*q+0.9375)+o}else{return s*(7.5625*(q-=(2.625/2.75))*q+0.984375)+o}}}},easeInOutBounce:function(p,q,o,s,r){if(q<r/2){return j.easing.easeInBounce(p,q*2,0,s,r)*0.5+o}return j.easing.easeOutBounce(p,q*2-r,0,s,r)*0.5+s*0.5+o}})})(b)});
$BV.Internal.define("analyticsVersioning",[window,document],["exports","jquery.core"],function(g,i,c,f){var h=e(4,8);var a=e(4,3);var d={};d["4.6"]=["attributes","bvProduct","brand","bvExtension","eName","association","eventTarget","eType","eventSource","formAction","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];d["4.5"]=["attributes","bvProduct","brand","bvExtension","eName","association","eventTarget","eType","eventSource","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];d["4.4"]=["attributes","bvProduct","brand","bvExtension","eName","eventTarget","eType","eventSource","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];d["4.3"]=["attributes","bvProduct","eName","eventTarget","eType","eventSource","group","initialProductDisplay","leafCategoryId","linkDestinationLocation","pageStatus","pageType","productId","rootCategoryId","socialMedium","subjectType","urlPageName","bvClientName","bvDisplayCode"];var j={};c.downgradeJson=function(m,n){var l=h;var k=c.parseVersion(n);while(l.compareTo(k)>0){if(j[l.toString()]){j[l.toString()](m)}l=l.previous()}while(!d[l.toString()]){l=l.previous();if(l.compareTo(a)<0){b(m,d[a]);return}}b(m,d[l.toString()])};c.parseVersion=function(k){if(k=="latest"){return h}try{var l=k.split(".");return e(l[0],l[1])}catch(m){return h}};function e(k,l){return{major:k,minor:l,compareTo:function(m){var n=this.major-m.major;if(n!==0){return n}return this.minor-m.minor},toString:function(){return k+"."+l},previous:function(){if(l>0){return e(k,l-1)}return e(k-1,9)}}}function b(m,k){for(var l in m){if(f.inArray(l,k)==-1){delete m[l]}}}});
$BV.Internal.define("domUtils",[window,document],[],function(b,a){b.bvEscapeHtml=function(c){return String(c).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};b.bvUnescapeHtml=function(c){return String(c).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")};b.bvToggleDivWithIEControlsFrame=function(c,d,e){if(a.getElementById(c).style.display=="block"){bvCloseDivs(c,d)}else{bvExpandDivWithIEControlsFrame(c,d,e)}};b.bvExpandDivWithIEControlsFrame=function(c,d,i,e){if(!e){e=bvOpenDivs}e(c);var h=bvGetIEControlsFrame(d,i);if(h){var f=a.getElementById(c);if(f){f.parentNode.insertBefore(h,f);var g=bvGetLocation(c);h.style.width=g.width;h.style.height=g.height}e(d)}};b.bvGetIEControlsFrame=function(d,f){var e;var c=a.all&&((navigator.userAgent.indexOf("MSIE 6.")>-1)||(navigator.userAgent.indexOf("MSIE 5.5")>-1));if(c){e=a.getElementById(d);if(!e){e=a.createElement("iframe");e.id=d;e.title=f;e.src="javascript:''";e.scrolling="no";e.frameBorder="0";e.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}}return e};b.bvResizeIEControlsFrame=function(c,d){var f=a.getElementById(d);if(f){var e=bvGetLocation(c);f.style.width=e.width;f.style.height=e.height}};b.bvOpenDivs=function(){for(var c=0;c<arguments.length;c++){if(a.getElementById(arguments[c])){if(a.getElementById(arguments[c]).style.display!="block"){a.getElementById(arguments[c]).style.display="block"}}}};b.bvCloseDivs=function(){for(var c=0;c<arguments.length;c++){if(a.getElementById(arguments[c])){if(a.getElementById(arguments[c]).style.display!="none"){a.getElementById(arguments[c]).style.display="none"}}}};b.bvToggleVis=function(c){if(a.getElementById(c).style.display=="block"){a.getElementById(c).style.display="none"}else{a.getElementById(c).style.display="block"}};b.bvGetLocation=function(d){var f=a.getElementById(d);if(f){var c=f.offsetWidth;var e=f.offsetHeight;var i=0;var g=0;while(f){i+=f.offsetLeft;g+=f.offsetTop;f=f.offsetParent}return{left:i,top:g,width:c,height:e}}else{return{left:0,top:0,width:0,height:0}}};b.bvSetOpenerLocation=function(c,d){if(opener){if(opener.closed){b.open(c,"")}else{opener.location.href=c;if(d){b.close()}}return false}return true};b.bvReplaceTokensInSocialURL=function(c){return c.replace("__ROBOT__","no").replace("__TITLE__",encodeURIComponent(a.title))};b.bvFocus=function(e){a.getElementById(e).tabIndex="-1";if(navigator.userAgent.indexOf("MSIE 7")>-1){var c=a.getElementsByTagName("select");for(var d=0;d<c.length;d++){c[d].blur()}}else{a.getElementById(e).focus()}};b.bvStopPropagation=function(c){if(c){c.cancelBubble=true;if(c.stopPropagation){c.stopPropagation()}}}});
$BV.Internal.define("analyticsHooks",[window,document],["exports","jquery.core","analyticsVersioning","domUtils"],function(l,t,v,u,m){l.BVAnalyticsData={GROUP:{bv:"Bazaarvoice"},PRODUCT:{prr:"RatingsAndReviews",qa:"AskAndAnswer",stories:"Stories",profiles:"Profiles"},EVENT_SOURCE:{display:"Display",action:"Action"},E_TYPE:{write:"Write",support:"Support",read:"Read"},EVENT_TARGET:{product:"Product",review:"Review",question:"Question",answer:"Answer",comment:"Comment",profile:"Profile",story:"Story",gallery:"Gallery"},E_NAME:{attributeFilter:"AttributeFilter",customClick:"CustomClick",media:"Media",productFollow:"ProductFollow",productLink:"ProductLink",paginate:"Paginate",profileLink:"ProfileLink",rate:"Rate",readAll:"ReadAll",search:"Search",shoutIt:"ShoutIt",socialAlerts:"SocialAlerts",socialAnswer:"SocialAnswer",socialConnect:"SocialConnect",sort:"Sort",write:"Write",associate:"Associate",inappropriate:"Inappropriate",whitespace:"Whitespace"},ASSOCIATION:{subscribe:"Subscribe"},FORM_ACTION:{preview:"Preview",edit:"Edit",submit:"Submit",cancel:"Cancel"},LINK_DESTINATION_LOCATION:{external:"External"},SUBJECT_TYPE:{product:"Product",category:"Category"},PAGE_TYPE:{input:"Input",preview:"Preview",confirm:"Confirm"},PAGE_STATUS:{authenticationFailure:"AuthenticationFailure",cancelled:"Cancelled",expired:"Expired",alreadySubmitted:"AlreadySubmitted",own:"Own",duplicate:"Duplicate",validationError:"ValidationError",notSpecified:"Default"}};v._bvGoogleAnalyticsCustomEventFiredCookieName="bvgacef";v._bvGoogleAnalyticsCustomEventFiredEventCategory="Bazaarvoice Content Loaded";function h(){var F={};var B=["BVAnalytics","BVAnalyticsInternalDebug","BVPartnerAnalyticsCallback","BVAutoTagAnalyticsCallback","BVInternalUseOnlyCallback","BVRRInternalLegacyCallback","BVQAInternalLegacyCallback","BVSYInternalLegacyCallback","BVCITrackerCallback"];function A(G){if(G&&(G.onEvent||G.onEventInternal)){return true}for(var H=0;H<B.length;H++){if(typeof l[B[H]]==="function"){return true}}return false}function z(O,G){var M={},H,I=O.bvAnalyticsEnabled===true||(typeof O.bvAnalyticsEnabled==="undefined"&&(typeof O.bvAnalyticsVersion==="string"&&O.bvAnalyticsVersion));function K(P){if(!(typeof P==="string"&&P)){P=O.bvAnalyticsVersion||"4.3"}if(M[P]==null){M[P]=i(O);m.downgradeJson(M[P],P)}return M[P]}if(G){if(G.onEventInternal){try{G.onEventInternal(O)}catch(N){$BV.log(N)}}if(G.onEvent&&I){try{G.onEvent(K())}catch(N){$BV.log(N)}}}for(var J=0;J<B.length;J++){H=B[J];if(typeof l[H]==="function"){try{if(H=="BVAnalytics"||H=="BVPartnerAnalyticsCallback"||H=="BVAutoTagAnalyticsCallback"){if(H=="BVAutoTagAnalyticsCallback"){var L;if(typeof O.autoTagAnalyticsConfiguration==="object"&&O.autoTagAnalyticsConfiguration){L=O.autoTagAnalyticsConfiguration.autoTagAnalyticsVersion}l[H](K(L),O.autoTagAnalyticsConfiguration)}else{if(I){l[H](K(O.bvAnalyticsVersion))}}}else{if(!(G&&/Legacy/.test(H))){l[H](O)}}}catch(N){$BV.log(N)}}}}function D(G){C(G);E(G)}function C(G){if(G.eventSource===BVAnalyticsData.EVENT_SOURCE.display){if(!F[G.bvProduct]){F[G.bvProduct]=true;G.initialProductDisplay=true}}}function E(H){var G=/^\/([^;?#]*)/.exec(location.pathname);if(G){H.urlPageName=G[1]||"/"}}return{isTrackingEnabled:A,getSourceDomain:function(){return w(location.href)},analyticsEvent:function(H,G){D(H);z(H,G)},trackCustomClickEvents:function(J,H,I,K,G){q(l[J]?l[J]():[],I,l[K],G);if(typeof H==="string"&&H){q(u(H),I,l[K],G)}}}}v.containerHandle=h();v.bindToSubmitFrame=v.bindToProductPickerFrame=function(A,z){A.listen("analyticsHooks.getInfo",function(){return{trackingEnabled:v.containerHandle.isTrackingEnabled(z.config),sourceDomain:v.containerHandle.getSourceDomain()}});A.listen("analyticsHooks.analyticsEvent",function(B){return v.containerHandle.analyticsEvent(B,z.config)});A.listen("analyticsHooks.trackCustomClickEvents",function(B){v.containerHandle.trackCustomClickEvents(B.customContainersFnName,B.customTrackedObjectsSelector,B.jsonData,B.customizersName,z.config)});s(A)};v.connectFromSubmitFrame=v.connectFromProductPickerFrame=function(A){var z=$BV.Internal.newLatch(1);
v.onInjectedPageLoad=function(){var B=this,C=arguments;z.queue(function(){B.onInjectedPageLoad.apply(B,C)})};A.call("analyticsHooks.getInfo",function(B){v.containerHandle={isTrackingEnabled:function(){return B.trackingEnabled},getSourceDomain:function(){return B.sourceDomain},analyticsEvent:function(C){A.call("analyticsHooks.analyticsEvent",C)},trackCustomClickEvents:function(E,C,D,F){A.call("analyticsHooks.trackCustomClickEvents",{jsonData:D,customContainersFnName:E,customTrackedObjectsSelector:C,customizersName:F})}};if(B.trackingEnabled){v.onInjectedPageLoad=f;z.release()}});j(A)};function s(B){var z=l.AnalyticsDiagnostics,A=z&&typeof z.bindToEmbeddedFrame==="function";B.listen("analyticsHooks.checkDiagnostics",function(){return{available:!!A,cssUrl:u("head").find('link[rel="stylesheet"][href$="lib/analyticsHooksDiagnostics.css"]').attr("href")}});if(A){z.bindToEmbeddedFrame(B)}}function j(z){z.call("analyticsHooks.checkDiagnostics",function(A){if(A.available){z.requireModules("AnalyticsDiagnostics.",["analyticsHooksDiagnostics"]);$BV.Internal.require(["analyticsHooksDiagnostics"],function(){var C=l.AnalyticsDiagnostics;if(C&&typeof C.connectFromEmbeddedFrame==="function"){C.connectFromEmbeddedFrame(z)}else{$BV.log("AnalyticsDiagnostics is not available")}});if(A.cssUrl){var B="/"+(A.cssUrl.substring(A.cssUrl.indexOf("/",9)+1)).replace(/[\?#&@:]/,"");B=t.location.protocol+"//"+t.location.hostname+B.substring(0,B.lastIndexOf("/"))+"/analyticsHooksDiagnostics.css";u('<link href="__HREF__" rel="stylesheet" type="text/css"/>'.replace("__HREF__",bvEscapeHtml(B))).appendTo("head")}}})}var c=[];var e;function f(C,G,H,E,F,A,z,D){var B=l[H];r(G);b(C,G,B,G.analyticsWhitespaceTrackingEnabled,A);v.containerHandle.trackCustomClickEvents(E,z,G,H);u.each(D,function(I,J){v.containerHandle.trackCustomClickEvents(E,J.selector,G,H)});y(G,B,A);e=F}function r(z){if(u.inArray(z.eType,[BVAnalyticsData.E_TYPE.write,BVAnalyticsData.E_TYPE.support,BVAnalyticsData.E_TYPE.read])==-1){$BV.log("Incorrect value for eType:",z.eType)}}function q(A,B,D,z){var C=i(B);C.eName=BVAnalyticsData.E_NAME.customClick;b(A,C,D,true,z)}function y(C,B,z){if(v.containerHandle.isTrackingEnabled(z)){var A=i(C);A.eventSource=BVAnalyticsData.EVENT_SOURCE.display;BVAnalyticsCustomizer.executeAll(A,"",t,B);v.containerHandle.analyticsEvent(A,z)}}function b(B,D,C,A,z){if(v.containerHandle.isTrackingEnabled(z)&&B){u.each(B,function(){var E=u(this).data("BVAnalyticsTrackerZone");if(E==null){E=x(this,A);c.push(E);u(this).data("BVAnalyticsTrackerZone",E)}E.init(D,C,z)})}}function d(B,C,A,z){if(A){u(B).data("bveventdata",A)}k(B,C,z)}function k(B,D,A){try{var z=g(B,"BVAnalyticsTrackerZone");if(z&&z.isTrackingEnabled()){if(!A||z.isTrackable(B)){z.fireElementActionEvent(B,D)}}}catch(C){$BV.log(C)}}function g(A,z){for(;A!=null;A=A.parentNode){var B=u(A).data(z);if(B!=null){return B}}return null}function i(A){if(typeof A==="object"&&A){var B=u.isArray(A)?[]:{},z;for(z in A){if(A[z]!=null&&A[z]!==""){B[z]=i(A[z])}}return B}return A}function o(A){var z=u(A);return A!==t&&(/^(a|button|select)$/i.test(A.tagName)||(/^(input)$/i.test(A.tagName)&&!/^(text)$/i.test(z.attr("type")))||z.attr("onclick")||z.parents("a,button,[onclick]").length>0)}function p(A){var z=u(A);return/^(label)$/i.test(A.tagName)||z.parents("label").length>0}function x(H,C){var P,Q,J;function N(T,S,R){P=T;Q=S;J=R}function O(R){try{if(L(R.target)){D(R.target,null)}}catch(R){$BV.log(R)}}function K(){return v.containerHandle.isTrackingEnabled(J)}function L(R){return C&&!p(R)||o(R)}function D(R,S){v.containerHandle.analyticsEvent(M(R,S),J)}function M(T,V){var U=V||F(T,e);var S=E(T);u(T).data("BVAnalyticsTrackingMap",S);var R=i(P);R.eventSource=BVAnalyticsData.EVENT_SOURCE.action;A(R,S,T);BVAnalyticsCustomizer.executeAll(R,U,T,Q);return R}function E(R){var W={};for(var X=R;X;X=X.parentNode){var V;try{V=u(X).attr("data-bvtrack")}catch(X){return W}if(V){var U=V.split(",");for(var T=U.length-1;T>=0;T--){var S=U[T].split(":");var Z=S[0];
var Y=S[1];if(W[Z]){W[Z]=W[Z].unshift(Y)}else{W[Z]=[Y]}}}if(u(X).data("BVAnalyticsTrackerZone")){return W}}return W}var I=function(S,R,T){if(T){if(!S.attributes){S.attributes={}}S.attributes[R]=T}};var G={};G.filterDimension=function(S,R,T){I(S,"filterDimension",a(R,"filterDimension"))};G.filterName=function(S,R,T){I(S,"filterName",a(R,"filterName"))};G.mediaType=function(S,R,T){I(S,"mediaType",a(R,"mediaType"))};function B(R){if(G[R]){return G[R]}return function(T,S,U){T[R]=a(S,R)}}function A(S,R,T){u.each(R,function(U,V){(B(U))(S,R,T)})}function F(R,T){if(T<0||!R){return""}var S=z(R);if(S!=null){return S}else{return F(R.parentNode,T-1)}}function z(S){if(!S){return null}var R=S.name||u(S).attr("data-bvname");if(R&&R.indexOf("BV_TrackingTag_")==0){return R.substr(15)}return null}u(H).bind("click.bvanalytics",O);if(u.browser.webkit){u(H).find("select").bind("mousedown.bvanalytics",O)}return{init:N,isTrackingEnabled:K,fireElementActionEvent:D,getContainer:function(){return H},isTrackable:L,getTrackingTag:z,getElementActionJsonData:M}}l.BVAnalyticsCustomizer=function(z,A){this.regexp=new RegExp("(^|_)("+z+")(_|$)");this.customizer=A};u.extend(BVAnalyticsCustomizer.prototype,{execute:function(z,B,A){if(this.regexp.test(B)){this.customizer(z,B,A)}}});u.extend(BVAnalyticsCustomizer,{executeAll:function(z,B,A,C){BVAnalyticsCustomizer.group(z,B,A);BVAnalyticsCustomizer.linkDestinationLocation(z,B,A);BVAnalyticsCustomizer.eventWhiteSpace(z,B,A);u.each(C,function(){this.execute(z,B,A)})},group:function(z){z.group=BVAnalyticsData.GROUP.bv},setEventNameProperty:function(z){return function(A){A.eName=z}},setAssociationProperty:function(z){return function(A){A.association=z}},setEventTypeProperty:function(z){return function(A){A.eType=z}},setEventTargetProperty:function(z){return function(A){A.eventTarget=z}},eventSort:function(B,E,A){B.eName=BVAnalyticsData.E_NAME.sort;var D={};var z=u(A);if(z.attr("bveventdata")){D=u.parseJSON(z.attr("bveventdata"))}if(!D.sortType){if(D.dropdownId){z=u(u("#"+D.dropdownId)[0])}var C=z.find("option:selected").attr("id");if(C){D={sortType:C.substring(0,C.indexOf("-")),sortDirection:C.substring(C.indexOf("-")+1)}}}if(D.sortType||D.sortDirection){if(!B.attributes){B.attributes={}}if(D.sortType){B.attributes.sortType=D.sortType}if(D.sortDirection){B.attributes.sortDirection=D.sortDirection}}},eventShoutit:function(z,B){z.eName=BVAnalyticsData.E_NAME.shoutIt;var A=/.*_SocialBookmark([^_]+)_.*/.exec(B);if(A[1]){z.socialMedium=A[1]}},eventSocialConnect:function(z){z.eName=BVAnalyticsData.E_NAME.socialConnect},eventFacebookLike:function(z){z.eType=BVAnalyticsData.E_TYPE.support;z.eName=BVAnalyticsData.E_NAME.associate;z.socialMedium="Facebook"},eventWhiteSpace:function(z,B,A){if(A&&z.analyticsWhitespaceTrackingEnabled&&!o(A)&&z.eventSource!=BVAnalyticsData.EVENT_SOURCE.display){z.eName=BVAnalyticsData.E_NAME.whitespace}},linkDestinationLocation:function(A,C,B){if(B&&u(B).is("a")){var D=v.containerHandle.getSourceDomain();var z=w(u(B).attr("href"));if(D&&z&&D!==z){A.linkDestinationLocation=BVAnalyticsData.LINK_DESTINATION_LOCATION.external}}},linkDestinationLocationExternal:function(z){z.linkDestinationLocation=BVAnalyticsData.LINK_DESTINATION_LOCATION.external},socialAndButtonElementsDispatcher:function(B,E,A){if(B.eventSource!==BVAnalyticsData.EVENT_SOURCE.action||!A||(!A.name&&!E)){return}var D=A.name;if(!D){var z=/Submission_FormAction_([^_]+)/.exec(E);if(z&&z[1]){D=z[1]}else{return}}if(D==="useremailalerts"||D==="sendemailonanswer"||D==="sendemailoncomment"){B.eName=BVAnalyticsData.E_NAME.socialAlerts}else{if(D==="preview"){B.formAction=BVAnalyticsData.FORM_ACTION.preview}else{if(D==="cancel"){B.formAction=BVAnalyticsData.FORM_ACTION.cancel}else{if(D==="submit"||D==="socialanswering_submit"){if(D=="socialanswering_submit"&&u("#BVSUFieldCheckboxSocialAnsweringSignupID").is(":checked")){B.eName=BVAnalyticsData.E_NAME.socialAnswer}B.formAction=BVAnalyticsData.FORM_ACTION.submit}else{if(D==="edit"){B.formAction=BVAnalyticsData.FORM_ACTION.edit
}else{if(D.indexOf("socialconnect_")==0){B.eName=BVAnalyticsData.E_NAME.socialConnect;var C=/socialconnect_(.*?)_postdesired/.exec(D)[1];C=C.substr(0,1).toUpperCase()+C.substr(1);B.socialMedium=C}}}}}}if(A.form&&A.form.name=="BVSU_FVReportForm"){B.eType=BVAnalyticsData.E_TYPE.support;B.eName=BVAnalyticsData.E_NAME.inappropriate}}});function w(z){var A=/^http[s]?:\/\/([^\/]+\.)?([^\/.]+\.[^\/.]+)/i.exec(z);return A&&A[2].toLowerCase()}function n(A,z){if(A&&A[z]){return A[z]}return[]}function a(B,A){var z=n(B,A);return z&&z[z.length-1]}u.extend(v,{onInjectedPageLoad:f,fireActionEvent:d,internalZones:function(){return c},callAutotag:(function(){var z={};return function(B,E){var A=[];for(var D=2;D<arguments.length;D++){A.push((arguments[D]||"").toString())}var C=A.join("~#~");if(!z[C]){z[C]=true;try{E.apply(B,[].slice.call(arguments,2))}catch(F){$BV.log("Error calling autotag "+F.description,F)}}}})(),stateTracker:function(){var z=[];return{assign:function(C,D,B){if(D in C){var A=C[D];z.push(function(){C[D]=A})}else{z.push(function(){try{delete C[D]}catch(E){C[D]=undefined}})}C[D]=B},undoAll:function(){for(var A=z.length-1;A>=0;A--){z[A]()}z=[]}}},getJsonWithDefaultValues:function(A){var z=i(A),B={group:BVAnalyticsData.GROUP.bv,bvProduct:"Default",eventSource:"Default",eType:"Default",eName:"Default",urlPageName:"/"};u.each(B,function(C,D){if(z[C]===undefined){z[C]=D}});return z}});l.BVAnalyticsTracker=v});
$BV.Internal.define("parseUri",[],["jquery.core"],function(h){
/*
 * parseUri 1.2.2
 * (c) Steven Levithan <stevenlevithan.com>
 * MIT License
 */
function d(r){var q=d.options,l=q.parser[q.strictMode?"strict":"loose"].exec(r),p={},n=14;while(n--){p[q.key[n]]=l[n]||""}p[q.q.name]=[];p[q.key[12]].replace(q.q.parser,function(o,m,s){if(m){p[q.q.name][m]=s;p[q.q.name].push({name:m,value:s})}});return p}d.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};d.options.strictMode=true;function a(){var m=this;var l="";if(m.user){l+=m.user}if(m.password){l+=":"+m.password}return m.userInfo=l}function j(){var l=this;var m="";a.call(l);if(l.userInfo){m+=l.userInfo+"@"}if(l.host){m+=l.host}if(l.port){m+=":"+l.port}return l.authority=m}function b(){var l=this;var m="";if(l.directory){m+=l.directory}if(l.file){m+=l.file}return l.path=m}function g(){var m=this;var n="";for(var l=0;l<m.queryKey.length;l++){var o=m.queryKey[l];n+=(n?"&":"")+o.name+"="+o.value}return m.query=n}function e(){var l=this;var m="";b.call(l);if(l.path){m+=l.path}g.call(l);if(l.query){m+="?"+l.query}if(l.anchor){m+="#"+l.anchor}return l.relative=m}function f(){var l=this;var m="";if(l.protocol){m+=l.protocol+":"}j.call(l);if(l.authority){m+="//"+l.authority}e.call(l);if(l.relative){m+=l.relative}return l.source=m}function c(m,l,p){var o=this;for(var n=0;n<o.queryKey.length;n++){var q=o.queryKey[n];if(q.name===m&&q.value===l){q.value=p}}if(o.queryKey[m]===l){o.queryKey[m]=p}return o}function k(n){var m=this;for(var l=m.queryKey.length-1;l>=0;l--){var o=m.queryKey[l];if(o.name.indexOf(n)==0){m.queryKey.splice(l,1)}}return m}function i(m){var l=this;l.queryKey=l.queryKey.concat(m);return l}return function(){return h.extend(d.apply(null,arguments),{rebuild:f,replaceQueryParameter:c,removeParamsByNamePrefix:k,addParams:i})}});
$BV.Internal.define("requester",[window],["exports","jquery.core","parseUri"],function(f,l,e,c){var m=/^[^?#]*\.(js|djs)\?([^&#]*&)*format=(mobile)?(bulk)?embeddedhtml([&#].*)?$/i,n={},i=[],k=[],h={},d=new Date().getTime()%(1013<<20),g={};function b(o){return m.test(o)}function j(p,t,r){var o=c(p);var s=o.authority;if(f.location.host===s){return t(f)}var u=a(function(w){return w.location.host===s});if(u){return t(u)}for(var q=0;q<i.length;q++){var v=i[q];if(v.targetDomain===s){return r(v)}}$BV.log("Cannot access url because no frame is available",p)}function a(o){if(o(f)){return f}for(var p in n){var r=n[p];try{if(r.$BV&&o(r)){return r}}catch(q){$BV.log("Cannot access frame: "+p,q)}}}e.extend(l,{getQueryParam:function(p){var o=new RegExp("[?&]"+p+"=([^&]+)","i").exec(f.location.search);return o&&decodeURIComponent(o[1])},isUrlAllowed:function(p,o){var r=c(p).authority;for(var q=0;q<o.length;q++){if(l.domainMatches(o[q],r)){return true}}return false},domainMatches:function(r,s){if(r.charAt(0)==="."){var p=/^([^:]*)(:\d+)?$/.exec(s),q=p&&p[1];if(q){var o=("."+q).lastIndexOf(r);return o>=0&&o===(1+q.length-r.length)}}else{return s===r}},get:function(o,q,r){if(b(o)){l.getJsonp(o,r)}else{try{f.frames[q].location=o}catch(p){if(f.document.getElementById(q)){f.document.getElementById(q).contentWindow.location=o}}}},getConfigKey:function(o){if(!o.requestConfigKey){h[o.requestConfigKey=String(++d)]=o}return o.requestConfigKey},getConfig:function(o){return typeof o==="object"?o:h[o]},getJsonp:function(q,r){var p=l.getConfig(r),o=arguments[2];if(!p){if(o){$BV.Internal.callAjax(q)}else{$BV.log("Cannot get url because no config is available",q,r)}}else{if(!l.isUrlAllowed(q,p.allowedDomains)){$BV.log("Cannot get url because hostname is not allowed",q)}else{$BV.Internal.callAjax(q,p)}}},findDocDomainFrame:a,registerDocDomainFrame:function(o){var p=o.frameElement;n[p.name]=p.contentWindow},registerCrossDomainProxy:function(o){i.push(o)},waitForCss:function(p,r){if(p.readyState==="complete"){r();return}var o=p.href,q=k[o];if(!q){q=k[o]=$BV.Internal.newLatch(1);l.download(o,q.release)}q.queue(r)},download:function(o,p){j(o,function(q){q.$BV.Internal.require(["jquery.core"],function(r){r.ajax({type:"GET",url:o,complete:function(){p()}})})},function(q){q.download(o,p)})},post:function(o,p,q){j(o,function(r){r.$BV.Internal.require(["jquery.core"],function(s){s.post(o,p!=null?p:{},q,"json")})},function(r){r.post(c(o),p,q)})},postForm:function(q,s,t){var p=e(q),o=p.attr("action"),r=p.serializeArray();if(s){r.push({name:s,value:"true"})}l.post(o,r,t)},jsLinkSelector:"a[data-bvjsref]",jsButtonLinkSelector:"button[data-bvjsref]",asJsLink:function(p){var o="javascript://";return{getUrl:function(){return p.attr("data-bvjsref")},setUrl:function(q){p.attr("data-bvjsref",q).attr("href",o)},unsetUrl:function(){p.removeAttr("data-bvjsref").removeAttr("href")},follow:function(){l.getJsonp(this.getUrl(),p.attr("data-bvcfg"),arguments[0])},followIfNotDefaultPrevented:function(t){var s=t.timeStamp,q=this.getUrl(),r=p.attr("data-bvcfg");var u=g[s]=$BV.Internal.newLatch(1);u.queue(function(){l.getJsonp(q,r)});p.attr("href","javascript:$BV.Internal.Requester.followLink("+s+")").attr("target","_self");setTimeout(function(){p.attr("href",o).removeAttr("target");delete g[s]},1000)}}},followLink:function(o){if(g[o]){g[o].release();delete g[o]}else{$BV.log("Cannot follow link: "+o)}},asHtmLink:function(o){return{getUrl:function(){return o.attr("href")},setUrl:function(p){o.attr("href",p)},unsetUrl:function(){o.removeAttr("href")}}},asJsOrHtmLink:function(q){function o(){}var p=q.attr("data-bvjsref")?l.asJsLink(q):q.attr("href")?l.asHtmLink(q):{getUrl:o,unsetUrl:o};return{getUrl:function(){return p.getUrl()},setUrl:function(r){p.unsetUrl();p=b(r)?l.asJsLink(q):l.asHtmLink(q);p.setUrl(r)},unsetUrl:function(){p.unsetUrl()}}}});l.onPageLoad=function(q,p,o){if(q==="bindJsLinks"){o.undelegate(l.jsLinkSelector,"click.bvjsref").delegate(l.jsLinkSelector,"click.bvjsref",function(r){l.asJsLink(e(this)).followIfNotDefaultPrevented(r)
})}else{if(q==="bindJsButtons"){o.undelegate(l.jsButtonLinkSelector,"click.bvjsref").delegate(l.jsButtonLinkSelector,"click.bvjsref",function(){l.asJsLink(e(this)).follow()})}}};$BV.Internal.Requester=l});
$BV.Internal.define("cookies",[window,document],["exports","jquery.core","requester"],function(h,m,n,p,a){var q=/^[A-Za-z0-9!#$%&*+\-.^_`|~]+$/,r=q,i=/^[\x20-\x21\x23-\x26\x28-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]*$/,b=[];function f(t){var z={};try{if(t&&(t=p.trim(t))!==""){var v=t.split(/; */);for(var u=0;u<v.length;u++){var A=v[u],x=A.indexOf("=");if(x>0){var s=A.substring(0,x),y=A.substring(x+1);if(/^".*"$/.test(y)){y=y.substring(1,y.length-1)}if(i.test(y)){z[s]=y}}}}}catch(w){$BV.log(w)}return z}function l(s,t,w,u){try{s.cookie=c(t,"",w,u)+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}catch(v){$BV.log(v)}}function g(s,u,w,y,v,t){try{s.cookie=c(u,w,y,v,t)}catch(x){$BV.log(x)}}function o(t,v,u){if(!u||j(u,h.location.host)){l(m,t,v,e(u,h.location.host))}else{var s=d(u);if(s){s.remove(t,v,u)}else{$BV.log("Cannot remove cookie on "+u+" because no frame is available")}}}function k(u,w,x,v,s){if(!v||j(v,h.location.host)){g(m,u,w,x,e(v,h.location.host),s)}else{var t=d(v);if(t){t.set(u,w,x,v,s)}else{$BV.log("Cannot set cookie on "+v+" because no frame is available")}}}function d(t){var u=a.findDocDomainFrame(function(w){return j(t,w.location.host)});if(u){return{parse:function(w){if(w){w(f(u.document.cookie))}},set:function(x,z,A,y,w,B){g(u.document,x,z,A,e(y,u.location.host),w);if(B){B()}},remove:function(w,y,x,z){l(u.document,w,y,e(x,u.location.host));if(z){z()}}}}for(var s=0;s<b.length;s++){var v=b[s];if(j(t,v.targetDomain)){return v}}}function j(t,s){return a.domainMatches(t,s)}function e(t,s){return(t===s)?null:t}function c(t,v,w,u,s){t=String(t);v=String(v);if(!q.test(t)){throw new Error("Invalid cookie name: "+t)}if(!i.test(v)){throw new Error("Invalid cookie value: "+v)}return t+"="+(r.test(v)?v:'"'+v+'"')+(w?";path="+w:"")+(u?";domain="+u:"")+(s?";expires="+s:"")}p.extend(n,{parse:f,get:function(s){return n.parse(m.cookie)[s]},set:k,remove:o,registerDocDomainFrame:function(s){a.registerDocDomainFrame(s)},registerCrossDomainProxy:function(s){b.push(s)},parseFromDomainAsync:function(u,w){var x,v=$BV.Internal.newLatch(1),s=d(u);function t(y){x=y;v.release()}if(s){s.parse(t)}else{$BV.log("Cannot get cookies from "+u+" because no frame is available");t({})}return function(y){v.queue(function(){y(x,function z(A){o(A,w,u)})})}}})});
$BV.Internal.define("magpie",[window],["exports"],function(e,a){var c=false,b=false,d=false;function f(){var h=$BV.Internal._magpieSettings||{autoTagEnabled:false};c=h.autoTagEnabled===true;d=h.defaultClassesOnly;e._bvaq=e._bvaq||[];e._bvaq.push(["setSource","prr"]);g("setEnvironment",h,"prrEnv");g("setAnonymous",h,"anonymous");g("setBrandDomain",h,"brandDomain");g("setAnonTrackerHostname",h,"anonymousHostname");g("setTrackerHostname",h,"trackerHostname");if($BV.getConfiguration){var i=$BV.getConfiguration();g("setClient",i,"clientName",true);g("setDisplay",i,"displayCode",true)}}function g(i,j,l,h){if(j&&j.hasOwnProperty(l)){var k=j[l];e._bvaq.push([i,h?(k+"").toLowerCase():k])}}f();a.isAutoTagEnabled=function(){return c};a.isDefaultTrackingOnly=function(){return d};a.load=function(){if(b){return}var k=(document.location.protocol=="https:"?"https:":"http:");var j=k+"//magpie-static.ugc.bazaarvoice.com/magpiejs/2.4/magpie.js";var i=document.createElement("script");i.type="text/javascript";i.async=true;i.src=j;var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(i,h);b=true}});
$BV.Internal.define("magpieTracking",[window,document],["exports","jquery.core","magpie"],function(j,r,i,u,a){function z(D){var C=false,B;return function(){if(!C){B=D.apply(this,arguments);C=true;D=null}return B}}function y(){return(new Date()).getTime()}function b(B){j._bvaq.push(B)}function x(){if(!s){return true}return !r[s]}var s=null;if(typeof r.hidden!=="undefined"){s="hidden"}else{if(typeof r.mozHidden!=="undefined"){s="mozHidden"}else{if(typeof r.msHidden!=="undefined"){s="msHidden"}else{if(typeof r.webkitHidden!=="undefined"){s="webkitHidden"}}}}var c=function(B,D){var C;return function(){var F=this,E=arguments;var G=function(){C=null;B.apply(F,E)};clearTimeout(C);C=setTimeout(G,D)}};var t=["brand","bvProduct","productId","rootCategoryId",{prr:"leafCategoryId",mag:"categoryId"}];var k={RatingsAndReviews:["#BVRRContentContainerID","#BVRRDisplayContentBodyID"],AskAndAnswer:["#BVQAContainer"],Stories:["#BVSYContentContainerID"]};var v=150;var h=100;var g=5000;var e=10;var n=function(B,D,C){this.firedEvent=false;this.timeFirstVisible=y();this.selector=B;this.bvProduct=D;this.baseEvent=C;n.byProduct[C.bvProduct]=this;this.viewedEventAttempts=0};n.prototype={_fireEnteredViewEvent:function(){var B=u.extend(this.baseEvent,{type:"Used",name:"InView",elapsedMs:y()-this.timeFirstVisible});b(["trackEvent","Feature",B]);this.firedEvent=true},_fireViewedEvent:function(){var B=this;if(!f(this.selector)){this.viewedEventAttempts++;if(this.viewedEventAttempts>e){return}setTimeout(function(){B._fireViewedEvent()},g);return}var C=u.extend(this.baseEvent,{type:"Used",name:"viewedUGC",interaction:true,detail1:g,elapsedMs:y()-this.timeFirstVisible});b(["trackEvent","Feature",C]);this.firedEvent=true}};n.byProduct={};var f=function(B){return(l(B)>h)};var w=function(B){o(B.data.checker)};var o=function(B){if(!x()){return}if(B.firedEvent){return}if(f(B.selector)){B._fireEnteredViewEvent();B.firedEvent=true;setTimeout(function(){B._fireViewedEvent()},g);u(j).unbind("load click resize scroll")}};var l=function(C){var E=u(C);if(!E||E.length==0){return 0}var G=j.innerHeight||r.documentElement.clientHeight;var F=E[0].getBoundingClientRect();var D;var B=F.height;if(!B){B=F.bottom-F.top}if(F.top<=0){D=Math.max(F.top+B,0);D=Math.min(D,G);return D}if(F.top>=G){return 0}return Math.min(G-F.top,B)};var p=function(B){c(o(B.data.checker),v)};n.start=function(E){var D;var C=E.bvProduct;if(C&&!n.byProduct[C]){var B=q(C);if(B){D=new n(B,C,u.extend({},E));u(j).bind("load click",{checker:D},w).bind("resize scroll",{checker:D},p)}}};var q=function(C){var E=k[C];for(var D=0;D<E.length;D++){var B=E[D];if(B&&u(B).height()>h){return B}}if(E.length>0){return E[0]}};function m(){}m.prototype={trackEvent:function(C){var B=this._extractFields(C,{},t);switch(C.eType){case"Read":if(C.eventSource==="Display"){this._trackReadDisplayEvent(C,B)}else{this._trackFeatureUsed(C,B)}break;case"Support":this._trackFeatureUsed(C,B);break;case"Conversion":this._trackConversion(C);break;case"Write":break}},isPageView:function(B){return B.initialProductDisplay||B.pageType},_trackReadDisplayEvent:function(C,B){if(this.isPageView(C)){if(this.hasUGC(C)){n.start(B)}this._trackPageView(C,u.extend({},B))}this._trackImpressions(C,B)},hasUGC:function(C){var B=(C&&C.attributes)||{};return B.numQuestions>0||B.numAnswers>0||B.numReviews>0||B.numStories>0},_trackPageView:function(B,C){if(u.inArray(B.subjectType,["Product","Category"])>-1){C=this._extractFields(B.attributes,C,["avgRating","percentRecommend","numAnswers","numQuestions","numReviews","syndicationStatistics"]);C.type=B.subjectType;b(["trackPageView",C])}},_trackImpressions:function(C,D){var B=C.attributes?C.attributes.ugcOnPage:null;if(!B){return}D.type="UGC";if(!C.initialProductDisplay){D.initialContent=false}b(["addBatch",D]);this._addImpressionsToBatch(null,B);b(["flushBatch"])},_addImpressionsToBatch:function(D,C){var B=this;u.each(C,function(E,G){var F={contentId:G.id,contentType:G.type,numPeers:C.length,peerPosition:E,guid:G.guid};
if(G.sourceClient){F.syndicated=true;F.syndicationSource=G.sourceClient}if(D){F.parentId=D.id;F.parentType=D.type}b(["addBatchItem","Impression",F]);if(G.children){B._addImpressionsToBatch(G,G.children)}})},_trackFeatureUsed:function(C,D){if(!C.eName){return}D.type="Used";D.name=C.eName;var B=null;switch(C.eName){case"Sort":B=[{prr:"sortType",mag:"detail1"},{prr:"sortDirection",mag:"detail2"}];break;case"AttributeFilter":B=[{prr:"filterDimension",mag:"detail1"},{prr:"filterName",mag:"detail2"}];break}if(B){D=this._extractFields(C.attributes,D,B)}b(["trackEvent","Feature",D])},_trackConversion:function(B){var C=B.conversionTrackingMetadata||0;event.type="Transaction";event.label=B.conversionTrackingName||null;event.proxy=true;event.total=C;event.items=[{sku:B.productId,price:C}];b(["trackConversion",event])},_extractFields:function(E,D,B){var C,H,G,F;for(C=B.length;--C>=0;){H=G=B[C];if(H.prr){G=H.mag;H=H.prr}F=E[H];if(F!==undefined&&F!==null){D[G]=F}}return D}};var A=z(function(B){b(["setClient",B.bvClientName]);b(["setDisplay",B.bvDisplayCode])});var d=null;i.trackBvAnalyticsEvent=function(B){if(!a.isAutoTagEnabled()){return}A(B);a.load();if(!d){d=new m()}d.trackEvent(B)}});
$BV.Internal.modify("analyticsHooks","analyticsAutoTagHooks",[window,document],["exports","jquery.core","analyticsHooks","analyticsVersioning","cookies","magpieTracking"],function(window,document,AnalyticsAutoTagHooks,$bv,AnalyticsHooks,AnalyticsVersioning,Cookies,MagpieTracking){window.BVAutoTagAnalyticsCallback=function(rawJson,settings){if(!settings||!settings.autoTagAnalyticsVersion){return}var vendorMapping={google:[AnalyticsAutoTagHooks.googleAnalyticsCallback],coremetrics:[AnalyticsAutoTagHooks.coremetricsAnalyticsCallback],omniture:[AnalyticsAutoTagHooks.omnitureAnalyticsCallback,AnalyticsAutoTagHooks.omnitureBrandVoiceAnalyticsCallback],workbench:[AnalyticsAutoTagHooks.workbenchAnalyticsCallback],magpie:[AnalyticsAutoTagHooks.magpieAnalyticsCallback]};var vendors=settings.vendors;if(vendors){for(var i=0;i<vendors.length;i++){var vendorCallbacks=vendorMapping[vendors[i].vendorName];if(vendorCallbacks){for(var j=0;j<vendorCallbacks.length;j++){if(vendorCallbacks[j]){vendorCallbacks[j](rawJson,settings,vendors[i])}}}}}};AnalyticsAutoTagHooks.googleAnalyticsCallback=function(rawJson,settings,vendorSettings){$bv(function(){var tracker=AnalyticsAutoTagHooks.getGoogleAnalyticsTracker(vendorSettings);if(!(typeof tracker==="object"&&tracker)){return}var json=BVAnalyticsTracker.getJsonWithDefaultValues(rawJson);if(json.eventSource===BVAnalyticsData.EVENT_SOURCE.display&&Cookies.get(AnalyticsHooks._bvGoogleAnalyticsCustomEventFiredCookieName+json.bvProduct)==null){BVAnalyticsTracker.callAutotag(tracker,tracker.trackEvent,AnalyticsHooks._bvGoogleAnalyticsCustomEventFiredEventCategory,json.group+" "+json.bvProduct+" "+BVAnalyticsData.EVENT_SOURCE.display,undefined,undefined,true);Cookies.set(AnalyticsHooks._bvGoogleAnalyticsCustomEventFiredCookieName+json.bvProduct,true,"/")}if(!AnalyticsAutoTagHooks.eventIsTracked(json,settings)){return}var eventParameters=AnalyticsAutoTagHooks.getEventParameters(json,settings);BVAnalyticsTracker.callAutotag(tracker,tracker.trackEvent,eventParameters.category.join(" "),eventParameters.details.concat(eventParameters.action).join(" "),"BV^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"),undefined,json.eventSource===BVAnalyticsData.EVENT_SOURCE.display)})};AnalyticsAutoTagHooks.workbenchAnalyticsCallback=function(rawJson,settings,vendorSettings){};AnalyticsAutoTagHooks.magpieAnalyticsCallback=function(rawJson,settings,vendorSettings){$bv(function(){MagpieTracking.trackBvAnalyticsEvent(BVAnalyticsTracker.getJsonWithDefaultValues(rawJson),settings,vendorSettings)})};AnalyticsAutoTagHooks.coremetricsAnalyticsCallback=function(rawJson,settings,vendorSettings){var json=AnalyticsHooks.getJsonWithDefaultValues(rawJson);if(!AnalyticsAutoTagHooks.eventIsTracked(json,settings)){return}$bv(function(){if(typeof cG7==="object"&&cG7){var oldPageId=cG7.cM0[cm_ClientID];var eventParameters=AnalyticsAutoTagHooks.getEventParameters(json,settings);if(vendorSettings.signature=="pageCategorySearch"){AnalyticsHooks.callAutotag(window,cmCreatePageviewTag,"BV^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"),eventParameters.category.concat(eventParameters.details,eventParameters.action).join("^"))}else{if(vendorSettings.signature=="pageSearchCategory"){AnalyticsHooks.callAutotag(window,cmCreatePageviewTag,"BV^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"),null,eventParameters.category.concat(eventParameters.details,eventParameters.action).join("^"))}}cG7.cM0[cm_ClientID]=oldPageId}})};AnalyticsAutoTagHooks.omnitureBrandVoiceAnalyticsCallback=function(rawJson,settings,vendorSettings){var json=AnalyticsHooks.getJsonWithDefaultValues(rawJson);if(!(json.bvExtension&&json.initialProductDisplay&&((vendorSettings.brandVoiceTrackingType=="BEFORE_AFTER"&&json.bvExtension.BrandVoice)||(vendorSettings.brandVoiceTrackingType=="SPLIT"&&json.bvExtension.SplitTestBucket)))){return
}var elem=(window.event&&(event.target||event.srcElement))||window;$bv(function(){var tracker=AnalyticsAutoTagHooks.getOmnitureAnalyticsTracker(vendorSettings);if(typeof tracker==="object"&&tracker){var data="";if(vendorSettings.brandVoiceTrackingType=="BEFORE_AFTER"){data=json.brand+"^"+json.bvExtension.BrandVoice+"^"+json.productId}else{if(vendorSettings.brandVoiceTrackingType=="SPLIT"){data=json.brand+"^"+json.bvExtension.SplitTestBucket+"^"+json.productId}}if(tracker.products){var products=tracker.products.replace(/([^,;]*;[^,;]*);[^,]*/g,"$1");var productsParameters=products.split(";");if(productsParameters.length==2&&productsParameters[1].length>0){var state=AnalyticsHooks.stateTracker();state.assign(tracker,"linkTrackVars","products");products+=";;;;eVar"+vendorSettings.brandVoiceTrackingEVarNum+"="+data;state.assign(tracker,"products",products);state.assign(window,"s_linkTrackVars",tracker.linkTrackVars);AnalyticsHooks.callAutotag(tracker,tracker.tl,elem,"o",data.replace(/\^/g," "));state.undoAll()}}}})};AnalyticsAutoTagHooks.omnitureAnalyticsCallback=function(rawJson,settings,vendorSettings){var json=AnalyticsHooks.getJsonWithDefaultValues(rawJson);if(!AnalyticsAutoTagHooks.eventIsTracked(json,settings)){return}var elem=(window.event&&(event.target||event.srcElement))||window;$bv(function(){var tracker=AnalyticsAutoTagHooks.getOmnitureAnalyticsTracker(vendorSettings);if(typeof tracker==="object"&&tracker){var eventNum=vendorSettings.eventNum;var eVarNum=vendorSettings.eVarNum;var eventParameters=AnalyticsAutoTagHooks.getEventParameters(json,settings);var data=eventParameters.category.concat(eventParameters.details,eventParameters.action).join("^");var state=AnalyticsHooks.stateTracker();state.assign(tracker,"linkTrackVars","events");state.assign(tracker,"linkTrackEvents","event"+eventNum);state.assign(tracker,"events","event"+eventNum);if(tracker.products){tracker.linkTrackVars+=",products";state.assign(tracker,"products",tracker.products.replace(/([^,;]*;[^,;]*);[^,]*/g,"$1"))}tracker.linkTrackVars+=",eVar"+eVarNum;state.assign(tracker,"eVar"+eVarNum,data);state.assign(window,"s_linkTrackEvents",tracker.linkTrackEvents);state.assign(window,"s_linkTrackVars",tracker.linkTrackVars);state.assign(window,"s_events",tracker.linkTrackEvents);AnalyticsHooks.callAutotag(tracker,tracker.tl,elem,json.linkDestinationLocation===BVAnalyticsData.LINK_DESTINATION_LOCATION.external?"e":"o",data.replace("^"," ")+"^"+(json.subjectType?(json.subjectType.charAt(0)+"^"+(json.productId||json.leafCategoryID)):"^")+"^"+(json.urlPageName||"/"));state.undoAll()}})};AnalyticsAutoTagHooks.eventIsTracked=function(json,settings){var tracking=settings.productTracking.tracking;var trackInitialProductDisplay=settings.productTracking.initialProductDisplay;if(!tracking||(json.eventSource!=BVAnalyticsData.EVENT_SOURCE.action&&!(json.pageType&&json.eType==BVAnalyticsData.E_TYPE.write&&settings.trackSubmissionPageLoads)&&!(trackInitialProductDisplay&&json.initialProductDisplay&&json.eType==BVAnalyticsData.E_TYPE.read))||(json.formAction&&!settings.trackFormActions&&json.eType==BVAnalyticsData.E_TYPE.write)){return false}return true};AnalyticsAutoTagHooks.getEventParameters=function(json,settings){var eventParameters={category:[json.group,json.bvProduct],details:[json.eventSource,json.eType,json.eventTarget],action:[AnalyticsAutoTagHooks.getEventName(json,settings)]};var version=AnalyticsVersioning.parseVersion(settings.autoTagAnalyticsVersion);if(version.compareTo(AnalyticsVersioning.parseVersion("4.7"))<=0){eventParameters.details=[json.eventSource,json.eType]}return eventParameters};AnalyticsAutoTagHooks.getEventName=function(json,settings){if(json.eventSource==BVAnalyticsData.EVENT_SOURCE.display){return(json.formAction||AnalyticsAutoTagHooks.getPageTypeAndStatus(json,settings)||json.eName||"Default")}else{return(json.formAction||json.eName||"Default")}};AnalyticsAutoTagHooks.getPageTypeAndStatus=function(json,settings){var version=AnalyticsVersioning.parseVersion(settings.autoTagAnalyticsVersion);
if(json.pageStatus=="validationError"&&version.compareTo(AnalyticsVersioning.parseVersion("4.8"))>=0){return(json.pageType+"ValidationError")}else{return json.pageType}};AnalyticsAutoTagHooks.getGoogleAnalyticsTracker=function(vendorSettings){var trackerReference=vendorSettings.trackerReference;var tracker;var codeType=vendorSettings.codeType;if(!trackerReference){if((!codeType||codeType==="SYNCHRONOUS")&&typeof pageTracker==="object"&&pageTracker){trackerReference="pageTracker";codeType="SYNCHRONOUS"}else{if((!codeType||codeType==="ASYNCHRONOUS")&&typeof _gaq==="object"&&_gaq){trackerReference="_gaq";codeType="ASYNCHRONOUS"}else{return}}}else{if(!codeType){if(trackerReference==="pageTracker"){codeType="SYNCHRONOUS"}else{if(trackerReference==="_gaq"){codeType="ASYNCHRONOUS"}else{return}}}}try{tracker=eval(trackerReference)}catch(err){return}if(!(typeof tracker==="object"&&tracker)){return}if(codeType==="SYNCHRONOUS"){return{trackEvent:function(category,action,label,value,noninteraction){tracker._trackEvent(category,action,label,value,noninteraction)}}}else{if(codeType==="ASYNCHRONOUS"){return{trackEvent:function(category,action,label,value,noninteraction){tracker.push(["_trackEvent",category,action,label,value,noninteraction])}}}else{}}};AnalyticsAutoTagHooks.getOmnitureAnalyticsTracker=function(vendorSettings){var trackerReference=vendorSettings.trackerReference;var tracker;try{tracker=eval(trackerReference)}catch(err){return}if(!(typeof tracker==="object"&&tracker)){return}return tracker}});
$BV.Internal.define("browserVersion",[window,document],["exports","jquery.core"],function(h,k,b,n){var r="BVBrowserIE6",q="BVBrowserIE7",i="BVBrowserIE8",p="BVBrowserIE9",j="BVBrowserIE10",c="BVBrowserIE11",s="BVBrowserIE",l="BVBrowserFF",e="BVBrowserOpera",o="BVBrowserWebkit",m="BVBrowserUnknown";var g;function d(v,u){if(!g){g=a()}var t=u&&u.getComponent(v.containerId);if(t){v.containerId=t.id}f(v)}function f(t){if(g){if(t.useBodyTag){n("body").addClass(g)}else{n("#"+t.containerId).addClass(g)}}}n.extend(b,{addBrowserClasses:f});function a(){var u="Trident/.*rv:([0-9]{1,}[.0-9]{0,})";var v=n.browser;if(v.webkit){return o}if(v.opera){return e}if(n.browser.msie||navigator.userAgent.match(u)){var w=s,t=parseInt(v.version.slice(0,v.version.indexOf(".")));switch(t){case 6:w+=" "+r;break;case 7:w+=" "+q;break;case 8:w+=" "+i;break;case 9:w+=" "+p;break;case 10:w+=" "+j;break;case 11:w+=" "+c}return w}if(v.mozilla){return l}return m}b.onPageLoad=function(x,w,t,v,u){if(x==="initialize"){d(w,u)}}});
$BV.Internal.define("contentDisplay",[window,document],["exports","jquery.core","cookies","requester"],function(j,t,C,z,x,b){j.bvCreateTimer=C.createTimer=function(){var E;return{clear:function(){if(E){clearTimeout(E);E=null}},set:function(F,G){this.clear();if(F){E=setTimeout(F,G)}}}};j.bvDisableReturn=function(F,E){return h(13,F,E)};j.bvDisableTab=function(F,E){return h(9,F,E)};function h(F,G,E){var H=null;if(!G){G=j.event}if(G.keyCode){H=G.keyCode}else{if(G.which){H=G.which}}if(H==F&&E){E()}return H!=F}j.bvGetSelectListValue=function(E){return(E&&E.type=="select-one")?E.options[E.selectedIndex].value:null};function i(E){var F=parseInt(E,10);return(isNaN(F))?0:F}function g(F){var E=F.width();E+=i(F.css("padding-left"))+i(F.css("padding-right"));E+=i(F.css("margin-left"))+i(F.css("margin-right"));E+=i(F.css("borderLeftWidth"))+i(F.css("borderRightWidth"));return E}function r(H,F){var I=z(H).html();var G=z("<span/>").html(I).hide().appendTo("body");z(G).css("font-size",z(H).css("font-size"));z(G).css("font-style",z(H).css("font-style"));z(G).css("padding-left",z(H).css("padding-left"));z(G).css("padding-right",z(H).css("padding-right"));z(G).css("margin-left",z(H).css("margin-left"));z(G).css("margin-right",z(H).css("margin-right"));var E=z(F).width();if(z.browser.msie){E=i(z(F).css("width"))}while(I.length>0&&g(G)>E){I=I.substr(0,I.length-1);z(G).html(I+"...")}z(H).html(G.html());z(G).remove()}j.bvAbbreviateElements=function(E,F){z.each(E,function(){r(this,F)})};j.bvRememberScrollPosition=function(){x.set("bvScrollPositionY",z(j).scrollTop());x.set("bvScrollPositionX",z(j).scrollLeft())};j.bvRestoreScrollPosition=function(){var F=x.get("bvScrollPositionX");var E=x.get("bvScrollPositionY");x.remove("bvScrollPositionX");x.remove("bvScrollPositionY");if(F>0){z(j).scrollLeft(F)}if(E>0){z(j).scrollTop(E)}};j.bvRememberScrollToElement=function(E,F){x.set("bvScrollToElementID",E);if(F){x.set("bvScrollToElementOffset",F)}};j.bvRememberClickAndScrollToElements=function(F,E){j.parent.bvClickOnElementID=F;j.parent.bvScrollAfterClickElementID=E};j.bvScrollToElement=function(){var E=x.get("bvScrollToElementID"),F=x.get("bvScrollToElementOffset");x.remove("bvScrollToElementID");x.remove("bvScrollToElementOffset");if(E){c(z("#"+E),parseInt(F))}};j.bvClickAndScrollIfNeeded=function(){if(!j.bvClickOnElementID){return}var E=t.getElementById(j.bvClickOnElementID);j.bvClickOnElementID=null;if(E){if(!(typeof(E.onclick)=="function")||E.onclick()!=false){if(!j.bvScrollAfterClickElementID){return}c(z("#"+j.bvScrollAfterClickElementID));j.bvScrollAfterClickElementID=null}}};j.bvPositionWhereVisible=function(O,N,K){var E=z(O);var Q=z(j);var L=2;var R=E.offset();var M=R;var S=(M.top+E.outerHeight())-(Q.scrollTop()+Q.height()-L);if(S>0){var I=u(E,"marginLeft");M={top:M.top-S,left:z(N).offset().left+z(N).outerWidth()+I}}var H=(M.left+E.outerWidth())-(Q.scrollLeft()+Q.width()-L);if(H>0){var P=u(E,"marginRight");M={top:M.top,left:(S>0)?z(K).offset().left-E.outerWidth()-P:M.left-H}}if(M.left<Q.scrollLeft()||M.top<Q.scrollTop()){M=R}var G=E.position();var F=z(t.createElement("div")).css({position:"absolute",top:0,left:0}).appendTo("body"),J=F.position();F.remove();if(R.top!=M.top){E.css("top",(G.top-J.top+(M.top-R.top))+"px")}if(R.left!=M.left){E.css("left",(G.left-J.left+(M.left-R.left))+"px")}};function u(F,E){var G=parseInt(F.css(E));if(isNaN(G)){G=0}return G}j.bvPositionDefault=function(E){z(E).css("top","").css("left","")};j.bvShowInPopup=function(G,K,E,J,F,H){var I=z(K);I.html(z(G).html());I.css({top:E.top,left:E.left});I.removeClass(J);if(F&&H){bvPositionWhereVisible(I.get(),F,H)}};j.bvCategoryHierarchyOpenDropdownMenu=function(F,E){var G="#"+F;if(z(G).hasClass(E)){z(G).removeClass(E).animate({height:"0px",opacity:"0"},"fast","swing",function(){z(this).hide()})}else{z(G).addClass(E).css({height:"auto"}).animate({height:"show",opacity:"1"},"fast")}return false};j.bvShowElement=function(F,E){z("#"+F).removeClass(E+"Hidden")};function p(E,F){if(z.browser.msie){j.bvFlashPluginPresent=true;
z("#"+E+"ExplorerFlash_VideoID_"+F).show()}else{if(j.bvFlashPluginPresent===undefined){j.bvFlashPluginPresent=j.navigator.plugins&&j.navigator.plugins["Shockwave Flash"]&&j.navigator.plugins["Shockwave Flash"].description}if(j.bvFlashPluginPresent){z("#"+E+"NonExplorerFlashInstalled_VideoID_"+F).show()}else{z("#"+E+"NonExplorerFlashNotInstalled_VideoID_"+F).show()}}}function v(E,F){$BV.Internal.require(["swfobject"],function(G){if(G.hasFlashPlayerVersion("10")){z("#"+E+"Iframe_VideoID_"+F).show()}else{z("#"+E+"IframeFlashNotInstalled_VideoID_"+F).show()}})}function c(E){var F=E.offset();if(F){z(j).scrollTop(d(F.top,arguments[1]))}}function d(E,F){if(F&&!isNaN(F)){E+=F;if(E<0){E=0}}return E}j.bvScroll={toElement:function(E){c(z(E),arguments[1])},toWindowTop:function(){j.scroll(0,0)},toContainer:function(E){bvScroll.toElement(E)},reset:function(G,F){var E=z(G);(F?E.parent():E).scrollTop(0)},viaFunction:function(F){var E=j[F];if(z.isFunction(E)){E()}}};j.bvSubmitSearch=function(G,F,E,H,J){var I=z("#"+E).val();if(I!=F){G=G.replace(/__SEARCHTEXT__/,encodeURIComponent(I));b.get(G,H,J)}};C.bindToSubmitFrame=function(F,G){function E(H){return function(){var J=G.config.doScrollSubmission,K=this,L=arguments,I=function(){H.apply(K,L)};if(!J||J(I)!==false){I()}}}F.listen("contentDisplay.scrollToElement",E(function(H,J,K){var I=z(H);if(I.length){c(I,J)}else{if(typeof K==="number"){G.scrollRelative(K)}}}));F.listen("contentDisplay.scrollToWindowTop",E(function(){j.scroll(0,0)}));F.listen("contentDisplay.scrollToContainer",E(function(){G.scrollToContainer()}));F.listen("contentDisplay.scrollReset",E(function(H,I){j.bvScroll.reset(H,I)}));F.listen("contentDisplay.scrollViaFunction",E(function(H){j.bvScroll.viaFunction(H)}))};C.connectFromSubmitFrame=function(E){j.bvScroll.toElement=function(H){var F=z(H),G=arguments[1];E.call("contentDisplay.scrollToElement",typeof H==="string"?H:null,G,F.length?d(F.offset().top,G):null)};j.bvScroll.toWindowTop=function(){E.call("contentDisplay.scrollToWindowTop")};j.bvScroll.toContainer=function(){E.call("contentDisplay.scrollToContainer")};j.bvScroll.reset=function(H,G){var F=z(H);if(F.length){(G?F.parent():F).scrollTop(0)}if(typeof H==="string"){E.call("contentDisplay.scrollReset",H,G)}};j.bvScroll.viaFunction=function(F){E.call("contentDisplay.scrollViaFunction",F)}};var m=1000;var A=5;var s=1000;var o=0;var D=0;var e=0;var w=0;var f=false;function y(F,E){var G=0;e=E.width();w=E.height();z.each(F,function(H,I){q(I)});z(j).resize(function(){if(o!==0){j.clearTimeout(o)}o=j.setTimeout(function(){if(E.width()==e&&E.height()==w){return}l(F,E);e=E.width();w=E.height()},m)});if(D!==0){j.clearTimeout(D)}D=j.setInterval(function(){if(G>=A){j.clearTimeout(D);return}l(F,E);G++},s)}function q(E){var F=0;z(E).each(function(){var G=z(this).height();if(G>F){F=G}});z(E).css("height",F)}function l(F,E){if(f){return}f=true;z.each(F,function(H,G){z(G).css("height","auto");q(G)});f=false}function n(I,H,F,G,E){z(F).bind("click",function(J){bvStopPropagation(J);z(I).toggleClass("BVDIHidden");z(H).toggleClass("BVSecondaryContentExpandLink").toggleClass("BVSecondaryContentHideLink");if(z(H).hasClass("BVSecondaryContentHideLink")){z(H).find(".BVToggleSectionLink .BVDILinkSpan").html(E)}else{z(H).find(".BVToggleSectionLink .BVDILinkSpan").html(G)}return false})}function k(){var E=navigator.userAgent.toLowerCase();return(E.search("iphone")>-1||E.search("android")>-1||E.search("blackberry")>-1)}function a(E){if(k()||E){z("#BVMobileSwitchLinkID").removeClass("BVDIHidden")}}function B(F,E){if(k()){z("#BVMobileSwitchLinkID").bind("click",function(){x.set("displayTypePreferred"+F,E,"/")})}}C.forceRepaint=function(E){E.css("visibility","hidden").css("visibility","visible")};C.onPageLoad=function(L,J,E,I,H){if(L==="show"){bvShowElement(J.elementId,J.prefix)}else{if(L==="flashDetect"){p(J.prefix,J.playerIdSuffix)}else{if(L==="iframeFlashDetect"){v(J.prefix,J.playerIdSuffix)}else{if(L==="equalizeDivHeights"){y(J.elementsSelectorsList,z(J.containingElementSelector))
}else{if(L==="toggleSecondaryContent"){n(J.toggleSectionId,J.toggleId,J.bindId,J.expandText,J.hideText)}else{if(L==="detectMobileDevice"){a(J.isMobileFormat)}else{if(L==="saveDisplayTypePreference"){B(J.displayCode,J.displayType)}else{if(L.match(/^scroll/)){function K(){if(L==="scrollFn"){bvScroll.viaFunction(J.fn)}else{if(L==="scrollReset"){bvScroll.reset(J.selector,J.resetParent)}else{if(L==="scrollToContainer"){bvScroll.toContainer(H?H.getComponent(J.defaultContainerId):"#"+J.defaultContainerId)}else{if(L==="scrollToWindowTop"){bvScroll.toWindowTop()}else{if(L==="scrollTo"){bvScroll.toElement(J.selector,J.offset)}}}}}}var G=H&&H.apiConfig(),F=G&&G.doScrollContent;F&&F(K)===false||K()}}}}}}}}}});
$BV.Internal.define("json2",[window],["exports","jquery.core"],function(e,i,d){i.parse=d.parseJSON;function c(f){return f<10?"0"+f:f}function a(f){return isFinite(f.valueOf())?f.getUTCFullYear()+"-"+c(f.getUTCMonth()+1)+"-"+c(f.getUTCDate())+"T"+c(f.getUTCHours())+":"+c(f.getUTCMinutes())+":"+c(f.getUTCSeconds())+"Z":null}var h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function b(f){h.lastIndex=0;return h.test(f)?'"'+f.replace(h,function(k){var l=j[k];return typeof l==="string"?l:"\\u"+("0000"+k.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function g(p,o){var n,m,l,q,f,r=o[p];if(r&&typeof r==="object"){if(r.constructor===Date){r=a(r)}else{if(r.constructor===String||r.constructor===Number||r.constructor===Boolean){r=r.valueOf()}}}switch(typeof r){case"string":return b(r);case"number":return isFinite(r)?String(r):"null";case"boolean":case"null":return String(r);case"object":if(!r){return"null"}f=[];if(Object.prototype.toString.apply(r)==="[object Array]"){q=r.length;for(n=0;n<q;n+=1){f[n]=g(n,r)||"null"}l=f.length===0?"[]":"["+f.join(",")+"]";return l}for(m in r){if(Object.hasOwnProperty.call(r,m)){l=g(m,r);if(l){f.push(b(m)+":"+l)}}}l=f.length===0?"{}":"{"+f.join(",")+"}";return l}}i.nonNativeStringify=function(f){return g("",{"":f})};i.stringify=(e.JSON&&typeof e.JSON.stringify==="function"&&e.JSON.stringify([{}])==="[{}]")?e.JSON.stringify:i.nonNativeStringify});
$BV.Internal.define("swfobject",[window,document,navigator],[],function(c,b,d){
/*	SWFObject v2.2 <http://code.google.com/p/swfobject/>
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
var a=function(){var z="undefined",r="object",f="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",w="application/x-shockwave-flash",l="SWFObjectExprInst",g="onreadystatechange",i=false,E=[k],m=[],v=[],t=false,B=function(){var J=typeof b.getElementById!=z&&typeof b.getElementsByTagName!=z&&typeof b.createElement!=z,Q=d.userAgent.toLowerCase(),H=d.platform.toLowerCase(),N=H?/win/.test(H):/win/.test(Q),L=H?/mac/.test(H):/mac/.test(Q),O=/webkit/.test(Q)?parseFloat(Q.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,G=!+"\v1",P=[0,0,0],K=null;if(typeof d.plugins!=z&&typeof d.plugins[f]==r){K=d.plugins[f].description;if(K&&!(typeof d.mimeTypes!=z&&d.mimeTypes[w]&&!d.mimeTypes[w].enabledPlugin)){i=true;G=false;K=K.replace(/^.*\s+(\S+\s+\S+$)/,"$1");P[0]=parseInt(K.replace(/^(.*)\..*$/,"$1"),10);P[1]=parseInt(K.replace(/^.*\.(.*)\s.*$/,"$1"),10);P[2]=/[a-zA-Z]/.test(K)?parseInt(K.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof c.ActiveXObject!=z){try{var M=new ActiveXObject(F);if(M){K=M.GetVariable("$version");if(K){G=true;K=K.split(" ")[1].split(",");P=[parseInt(K[0],10),parseInt(K[1],10),parseInt(K[2],10)]}}}catch(I){}}}return{w3:J,pv:P,wk:O,ie:G,win:N,mac:L}}(),D=function(){if(!B.w3){return}if((typeof b.readyState!=z&&b.readyState=="complete")||(typeof b.readyState==z&&(b.getElementsByTagName("body")[0]||b.body))){u()}if(!t){if(typeof b.addEventListener!=z){b.addEventListener("DOMContentLoaded",u,false)}if(B.ie&&B.win){b.attachEvent(g,function(){if(b.readyState=="complete"){b.detachEvent(g,arguments.callee);u()}});if(c==top){(function(){if(t){return}try{b.documentElement.doScroll("left")}catch(G){setTimeout(arguments.callee,0);return}u()})()}}if(B.wk){(function(){if(t){return}if(!/loaded|complete/.test(b.readyState)){setTimeout(arguments.callee,0);return}u()})()}n(u)}}();function u(){if(t){return}try{var I=b.getElementsByTagName("body")[0].appendChild(x("span"));I.parentNode.removeChild(I)}catch(J){return}t=true;var G=E.length;for(var H=0;H<G;H++){E[H]()}}function n(H){if(typeof c.addEventListener!=z){c.addEventListener("load",H,false)}else{if(typeof b.addEventListener!=z){b.addEventListener("load",H,false)}else{if(typeof c.attachEvent!=z){q(c,"onload",H)}else{if(typeof c.onload=="function"){var G=c.onload;c.onload=function(){G();H()}}else{c.onload=H}}}}}function k(){if(i){try{y()}catch(G){}}else{h()}}function y(){var G=b.getElementsByTagName("body")[0];var J=x(r);J.setAttribute("type",w);var I=G.appendChild(J);if(I){var H=0;(function(){if(typeof I.GetVariable!=z){var K=I.GetVariable("$version");if(K){K=K.split(" ")[1].split(",");B.pv=[parseInt(K[0],10),parseInt(K[1],10),parseInt(K[2],10)]}}else{if(H<10){H++;setTimeout(arguments.callee,10);return}}G.removeChild(J);I=null;h()})()}else{h()}}function h(){}function s(S,P,H,Q){var G,J=C(H);if(B.wk&&B.wk<312){return G}if(J){if(typeof S.id==z){S.id=H}if(B.ie&&B.win){var R="";for(var N in S){if(S[N]!=Object.prototype[N]){if(N.toLowerCase()=="data"){P.movie=S[N]}else{if(N.toLowerCase()=="styleclass"){R+=' class="'+S[N]+'"'}else{if(N.toLowerCase()!="classid"){R+=" "+N+'="'+S[N]+'"'}}}}}var O="";for(var M in P){if(P[M]!=Object.prototype[M]){O+='<param name="'+M+'" value="'+P[M]+'" />'}}J.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+R+">"+O+"</object>";if(!Q){m[m.length]=S.id}G=C(S.id)}else{var I=x(r);I.setAttribute("type",w);for(var L in S){if(S[L]!=Object.prototype[L]){if(L.toLowerCase()=="styleclass"){I.setAttribute("class",S[L])}else{if(L.toLowerCase()!="classid"){I.setAttribute(L,S[L])}}}}for(var K in P){if(P[K]!=Object.prototype[K]&&K.toLowerCase()!="movie"){j(I,K,P[K])}}J.parentNode.replaceChild(I,J);G=I}}return G}function j(I,G,H){var J=x("param");J.setAttribute("name",G);J.setAttribute("value",H);I.appendChild(J)}function A(H){var G=C(H);
if(G&&G.nodeName=="OBJECT"){if(B.ie&&B.win){G.style.display="none";(function(){if(G.readyState==4){e(H)}else{setTimeout(arguments.callee,10)}})()}else{G.parentNode.removeChild(G)}}}function e(I){var H=C(I);if(H){for(var G in H){if(typeof H[G]=="function"){H[G]=null}}H.parentNode.removeChild(H)}}function C(I){var G=null;try{G=b.getElementById(I)}catch(H){}return G}function x(G){return b.createElement(G)}function q(I,G,H){I.attachEvent(G,H);v[v.length]=[I,G,H]}function p(I){var H=B.pv,G=I.split(".");G[0]=parseInt(G[0],10);G[1]=parseInt(G[1],10)||0;G[2]=parseInt(G[2],10)||0;return(H[0]>G[0]||(H[0]==G[0]&&H[1]>G[1])||(H[0]==G[0]&&H[1]==G[1]&&H[2]>=G[2]))?true:false}var o=function(){if(B.ie&&B.win){window.attachEvent("onunload",function(){var L=v.length;for(var K=0;K<L;K++){v[K][0].detachEvent(v[K][1],v[K][2])}var I=m.length;for(var J=0;J<I;J++){A(m[J])}for(var H in B){B[H]=null}B=null;for(var G in a){a[G]=null}a=null})}}();return{ua:B,getFlashPlayerVersion:function(){return{major:B.pv[0],minor:B.pv[1],release:B.pv[2]}},hasFlashPlayerVersion:p,createSWF:function(I,H,G,J){if(B.w3){return s(I,H,G,J)}else{return undefined}},removeSWF:function(G){if(B.w3){A(G)}},unused:{}}}();return a});
$BV.Internal.define("rpcSupport",[window,document],["exports","jquery.core","json2","swfobject"],function(i,n,j,q,e,b){function o(){return j.debug>=1}function d(){return j.debug>=2}function p(){if(o()){$BV.log.apply(null,arguments)}}function t(){if(d()){$BV.log.apply(null,arguments)}}function f(v,w){return(i.console&&!i.Debug)?v:w||e.stringify(v)}function l(){var E,A=new Date().getTime()%(1019<<20),K={},C={};function B(S){try{return e.parse(S)}catch(R){p("Could not parse message",S)}}function w(R){var S=e.stringify(R);if(E){if(d()){t("Sending message",f(R,S))}j.send(E,S)}else{p("Cannot send message over disconnected transport",S)}}function Q(R,T,S){if(o()){if(K[R]){p("Replacing registered receiver for "+R)}}if(S){K[R]=function(){delete K[R];return T.apply(null,arguments)}}else{K[R]=T}}function L(R){return"endpoint:"+R}function J(R){return"reply:"+R}function F(){return"batch"}function z(R,U,T){var S={addressee:R,parameters:U};if(T){S.replyTo=J(A++);Q(S.replyTo,T,true)}return S}function x(R,T,S){w(z(R,T,S))}function v(S,R){O(S.addressee,function(){var V=K[S.addressee];if(V){if(q.isArray(S.parameters)){try{var T=V.apply(null,S.parameters);if(S.replyTo){R({addressee:S.replyTo,parameters:[T]})}}catch(U){$BV.log(U)}}else{if(o()){p("Ignoring message w/invalid arguments",S)}}}else{if(o()){p("Ignoring message w/unknown addressee: "+S.addressee,S)}}})}function O(R,T){for(var S in C){if(R.substring(0,S.length)===S){$BV.Internal.require(C[S],function(){delete C[S];T()});return}}T()}function y(T){if(T.length>0){var S=[],U;for(var R=0;R<T.length;R++){v(T[R],function(V){if(U){w(V)}else{S.push(V)}})}U=true;return S}else{if(o()){p("Batch message was empty")}}}Q(F(),y,false);var I={confidential:j.confidential,listen:D,requireModules:G,call:N,batch:H,disconnect:P};function D(T,S,R){Q(L(T),S,R)}function G(S,R){C[L(S)]=R}function M(R){if(R.length>0&&typeof R[R.length-1]==="function"){return R.pop()}}function N(T){var S=[].slice.call(arguments,1);var R=M(S);x(L(T),S,R)}function H(){var S=[];function R(){var U=0;for(var T=0;T<S.length;T++){if(S[T].replyTo){U+=1}}return U}return q.extend({},I,{call:function(V){var U=[].slice.call(arguments,1);var T=M(U);S.push(z(L(V),U,T))},execute:function(){if(S.length){x(F(),[S],R()&&function(T){if(T.length){y(T)}});S.length=0}},executeAndUnbatch:function(){this.call=I.call;this.execute()}})}function P(){if(E){j.teardownTransport(E);E=null;K={}}}return{init:function(R){E=R},receiveFn:function(S){var R=B(S);if(d()){t("Received message",f(R,S))}if(R){v(R,w)}},publicApi:I}}var u=["origin","swf","channel"];function k(w){var v=/^https?:\/\/[^\/?#]+/.exec(w);return v&&v[0]}function a(w){var v="";q(u).each(function(y,x){if(w[x]){v=(v?v+"&":"")+x+"="+encodeURIComponent(w[x])}});return v}function s(v){var w=v.split("&"),x={};q(w).each(function(z,y){var A=y.split("=",2);x[A[0]]=decodeURIComponent(A[1])});return x}var r=/(?:^|;\s*)bvrpc=(\d+)(?:;|$)/.exec(n.cookie);q.extend(j,{debug:r?r[1]:1,asOrigin:k,newCxnParams:function(v){if(v.charAt(v.length-1)!=="/"){v=v+"/"}return a(j.transportParams(v))},connect:function(w,v,x){var y=l();y.init(j.setupTransport(w,y.receiveFn,v,s(x)));if(w===i.parent||w===i.opener){q(i).unload(function(){y.publicApi.disconnect()})}return y.publicApi}});function h(){return{name:"wpm",confidential:true,transportParams:function(){return{origin:k(i.location.href)}},setupTransport:function(y,A,w,x){var v=y===i.parent||y===i.opener,z={targetWindow:y,targetOrigin:v?x.origin:"*"};if(z.targetOrigin!=="*"&&!w(z.targetOrigin)){throw"Invalid message target origin: "+z.targetOrigin}z.onMessage=function(B){if(B.source===y&&w(B.origin)){z.targetOrigin=B.origin;A(B.data)}};if(typeof i.addEventListener!=="undefined"){i.addEventListener("message",z.onMessage,false)}else{if(typeof i.attachEvent!=="undefined"){i.attachEvent("onmessage",z.onMessage)}}return z},teardownTransport:function(v){v.targetWindow=null;if(typeof i.addEventListener!=="undefined"){i.removeEventListener("message",v.onMessage,false)}else{if(typeof i.attachEvent!=="undefined"){i.detachEvent("onmessage",v.onMessage)
}}},send:function(v,x){var w=v.targetWindow;if(w&&typeof w.postMessage!=="undefined"){w.postMessage(x,v.targetOrigin)}}}}function m(){var C="BVRPC____NIXVBS_wrapper",x="BVRPC____NIXVBS_get_wrapper",B="BVRPC____NIXVBS_handle_message",A="BVRPC____NIXVBS_create_channel",z={},w=0,y={};if(typeof i[x]!=="unknown"){i[B]=function(D,E){setTimeout(function(){if(z[D]){z[D](E)}},0)};i[A]=function(D,E){if(E){y[D]=E}else{delete y[D]}};var v="Class "+C+"\nPrivate m_Intended\nPublic Sub SetIntendedName(name)\nIf isEmpty(m_Intended) Then\nm_Intended = name\nEnd If\nEnd Sub\nPublic Sub SendMessage(data)\nCall "+B+"(m_Intended, data)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call "+A+"(m_Intended, channel)\nEnd Sub\nEnd Class\nFunction "+x+"(name)\nDim wrap\nSet wrap = New "+C+"\nwrap.SetIntendedName name\nSet "+x+" = wrap\nEnd Function";i.execScript(v,"vbscript")}return{name:"nix",confidential:false,transportParams:function(){return{}},setupTransport:function(E,F){if(E===i.parent||E===i.opener){if(i.opener&&"CreateChannel" in i.opener){i.opener.CreateChannel(function(G){setTimeout(function(){F(G)},0)})}return{amChild:true}}else{var D="fn"+(w++);z[D]=F;E.opener=i[x](D);return{sourceName:D}}},teardownTransport:function(D){if(D.amChild){if(i.opener&&"CreateChannel" in i.opener){i.opener.CreateChannel(null)}}else{delete z[D.sourceName];delete y[D.sourceName]}},send:function(E,F){if(E.amChild){if(i.opener&&"SendMessage" in i.opener){i.opener.SendMessage(F)}}else{var D=y[E.sourceName];if(D){D(F)}}}}}function c(){var v=Math.floor(Math.random()*new Date().getTime())%(1031<<20),w=k(i.location.href);function x(){return j.debug>=3}return{name:"flash",confidential:true,transportParams:function(y){return{origin:w,swf:y+"xdm.swf",channel:"BVRPC__"+(v++)}},setupTransport:function(z,K,I,L){var M=L.channel,y=z===i.parent||z===i.opener,O=M+(y?"_child":"_parent"),C=this[O]={swfReadyLatch:$BV.Internal.newLatch(1),transportReadyLatch:$BV.Internal.newLatch(1),onMessage:function(P){K(P)}},G="$BV.Internal.require('rpcSupport')['"+O+"']",F=L.swf,J=k(F),D=M+"_SWF",B=M+"_SWFLOC",A='<span id="'+B+'" style="display:none"></span>',E;if(J!==w&&!I(J)){$BV.log("Invalid SWF origin: "+F);return C}if(y){if(!I(L.origin)){$BV.log("Invalid message target origin: "+L.origin);return C}E=function(P){P.createSingleDomainChannel(M,L.origin,J,false,G+".onMessage")}}else{C.checkOrigin=I;E=function(P){P.createMultiDomainChannel(M,G+".checkOrigin",true,G+".onMessage")}}function H(){var P=b.createSWF({id:D,data:F,width:1,height:1,style:"position:absolute;left:0px;top:0px"},{wmode:"transparent",allowScriptAccess:"always",flashvars:"origin="+encodeURIComponent(w)+"&onready="+encodeURIComponent(G+".swfReadyLatch.release")+(x()?"&log="+encodeURIComponent("$BV.log"):"")},B,true);if(x()){$BV.log(w+": waiting for SWF ready: "+F)}C.swfReadyLatch.queue(function(){if(x()){$BV.log(w+": SWF ready: "+F)}E(P);C.postMessage=function(Q){if(x()){$BV.log(w+": "+(P.postMessage?"posting message of length "+Q.length:"cannot post message"))}P.postMessage&&P.postMessage(M,Q)};C.destroyChannel=function(){if(x()){$BV.log(w+": "+(P.destroyChannel?"destroying channel":"cannot destroy channel"))}P.destroyChannel&&P.destroyChannel(M);b.removeSWF&&b.removeSWF(D);C.destroyChannel=q.noop};C.transportReadyLatch.release()})}if(y){q(function(){q(A).appendTo("body");H()})}else{var N=q("iframe").filter(function(){return z===this.contentWindow});if(N.length){q(A).insertBefore(N)}else{q(A).appendTo("body")}H()}return C},teardownTransport:function(y){y.transportReadyLatch.queue(function(){y.destroyChannel()})},send:function(y,z){y.transportReadyLatch.queue(function(){y.postMessage(z)})}}}function g(){return{name:"notransport",confidential:true,transportParams:function(){return{}},setupTransport:q.noop,teardownTransport:q.noop,send:q.noop}}q.extend(j,((typeof i.postMessage!=="undefined")?h:b.hasFlashPlayerVersion("8.0.0")?c:i.ActiveXObject?m:g)())});
$BV.Internal.define("crossDomain",[window,document],["exports","jquery.core","rpcSupport","parseUri","cookies","requester","json2"],function(i,o,r,s,j,t,p,a,d){var g,q=/^[^?#]+\/bazaarvoice\w*\.css$/,c=/^[^?#]+\/submit(feedbackvote|positive|negative|undohelpfulness|inappropriate|bestanswer|ratingfeedback|customerpropertyoverride)\.(js|djs)(\?|$)/,n=/^(user|userdisplayname|useruuid)$/,u="goto";function v(B,A,y,C,z){if(typeof y==="function"){z=C;C=y;y=null}return{action:B,rpcArguments:A,hashData:y,callback:C,delayedResponse:z}}function h(A,z,y){A.location=z+"#"+(y?encodeURIComponent(y):"")}function m(z){if(i.location.hash){var y=i.location.hash.substring(1);return z?y:decodeURIComponent(y)}}function x(){i.location.hash="#%20";return i.location.hash==="# "}function w(F,z,E){var C=$BV.Internal.newLatch(1),y;function A(H){var M=j.asOrigin(F),I=j.newCxnParams(M+z),L=j.name==="flash"?'<iframe src="'+F+"#"+I+'" style="visibility:visible;width:1px;height:1px;position:absolute;left:0px;top:0px;" allowTransparency="true"></iframe>':'<iframe src="'+F+"#"+I+'" style="visibility:hidden;width:1px;height:1px;position:absolute;left:-999px;top:-999px;"></iframe>',G=H(L).contentWindow,J=j.connect(G,function(N){return N===M},I);var K=false;J.listen("ready",function(){D(J,G);if(!K){K=true;E.apply(null,[G].concat([].slice.call(arguments,0)))}});if(j.name==="nix"){i.setTimeout(function(){D(null,G);if(!K){K=true;E.apply(null,[G])}},1000)}}(function B(){var G=o.body;if(G&&G.firstChild){A(function(H){return s(H).prependTo(G)[0]})}else{setTimeout(B,1)}})();function D(I,H){var G=new Date().getTime()%(1009<<20);y=function(K){if(!I){if(K.callback){K.callback()}return}if(K.hashData){h(H,F,K.hashData);C.increment()}if(K.callback&&K.delayedResponse){var M="response:"+G++;I.listen(M,function(){K.callback.apply(null,arguments)},true);K.rpcArguments.push(M)}var J=[K.action].concat(K.rpcArguments);if(K.hashData||(K.callback&&!K.delayedResponse)){J.push(function L(){if(K.hashData){C.release()}if(K.callback&&!K.delayedResponse){K.callback.apply(null,arguments)}})}I.call.apply(I,J)};C.release()}return{queueAction:function(G){C.queue(function(){y(G)})}}}var b={};r.ensureFrame=function(D,y){var z=t(D),B=z.authority,A=b[B];y=y||"/";if(!A){A=b[B]={latch:$BV.Internal.newLatch(1)};var C=w(D,y,function(E,F){A.getFrameIndex=function(){for(var G=0;G<i.frames.length;G++){if(i.frames[G]===E){return G}}};A.gotoCookie=F;A.clearGotoCookie=function(){if(A.gotoCookie){A.gotoCookie=null;C.queueAction(v("removeCookie",[u,y,B]))}};A.latch.release()});p.registerCrossDomainProxy({targetDomain:B,parse:function(E){C.queueAction(v("parseCookies",[],E))},set:function(F,H,I,G,E,J){C.queueAction(v("setCookie",[F,H,I,G,E],J))},remove:function(E,G,F,H){C.queueAction(v("removeCookie",[E,G,F],H))}});a.registerCrossDomainProxy({targetDomain:B,download:function(E,F){C.queueAction(v("download",[E],F,true))},post:function(E,G,H){var F;if(!j.confidential){F=s.param(l(E.queryKey,n));if(G){F+="#"+s.param(l(G,n))}}C.queueAction(v("ajaxPost",[E.rebuild(),G],F,H,true))}});A.escrow=function(E,F){if(!j.confidential){C.queueAction(v("escrow",[],d.stringify(E),F))}else{C.queueAction(v("escrow",[E],F))}}}return{await:function(E){A.latch.queue(E)},awaitCookies:function(F,E){A.latch.queue(function(){var G=A.gotoCookie;if(G&&!a.isUrlAllowed(G,F.allowedDomains)){$BV.log("Bazaarvoice: Url hostname is not allowed: "+G);G=null}E(G,A.clearGotoCookie,p.parseFromDomainAsync(B,y))})},awaitAction:function(E){A.latch.queue(function(){E(function(G,F){C.queueAction(v(G,F))})})},depositEscrow:function(E,F){A.escrow(E,function(G){F(G,A.getFrameIndex())})}}};function l(y,A){var B=[];for(var z=0;z<y.length;z++){var C=y[z];if(A.test(C.name)){B.push({name:C.name,value:C.value});C.value=""}}return B}function e(y,A){if(A.length>0){for(var z=0;z<y.length;z++){var B=y[z];if(B.name===A[0].name){B.value=A[0].value;A.shift();if(A.length===0){return}}}}}function f(y){if(!y){return[]}return s(y.split("&")).map(function(z,B){if(B){var A=B.indexOf("=");
if(A>0){return{name:decodeURIComponent(B.substring(0,A)),value:decodeURIComponent(B.substring(A+1))}}}}).get()}var k={};r.releaseEscrow=function(z){var y=k[z];delete k[z];return y};r.initialize=function(F,K,y,I){var B=/#([^#]*)$/.exec(i.location.href),E=B&&B[1],J=function(){return true};if(F){var G=new RegExp(F);J=function(N){return G.test(N.replace(/^https?\:\/\//,""))}}var H=j.confidential||x(),A=new Date().getTime()%(1021<<20),M=j.connect(i.parent,J,E),z=function(O,Q,R,P,N){C(P);z(O,Q,R,P,N)},D=function(N,P,O){C(O);D(N,P,O)};g=new RegExp(y);function C(P){var O="mod-test",R=Math.random();p.set(O,R,"",P);if(p.get(O)==R){p.remove(O,"",P);z=p.set;D=p.remove}else{if(K){s('<iframe name="BVManageCookieFrame" src="javascript:false;"></iframe><form action="'+K+'" target="BVManageCookieFrame" name="BVManageCookieForm" method="POST" accept-charset="utf-8"><input type="hidden" name="name"/><input type="hidden" name="value"/><input type="hidden" name="path"/><input type="hidden" name="maxage"/></form>').appendTo("body");var N=o.forms.BVManageCookieForm;function Q(S){if(!S){return -1}var T=Math.round((Date.parse(S)-Date.now())/1000);if(T<0){T=0}return T}z=function(T,V,W,U,S){N.name.value=T;N.value.value=V;N.path.value=W;N.maxage.value=Q(S);N.submit()};D=function(S,T){N.name.value=S;N.value.value="";N.path.value=T;N.maxage.value=0;N.submit()}}else{z=D=s.noop}}}M.listen("parseCookies",function(){var P=p.parse(o.cookie),N={};for(var O in P){if(g.test(O)){N[O]=P[O]}}return N});M.listen("setCookie",function(O,Q,R,P,N){if(g.test(O)){z(O,Q,R,P,N)}});M.listen("removeCookie",function(N,P,O){if(g.test(N)||N===u){D(N,P,O)}});M.listen("download",function(N,O){if(q.test(N)){a.download(N,function(){M.call(O)})}});M.listen("ajaxPost",function(Q,T,R){if(c.test(Q)){if(!j.confidential){var P=m(H).split("#"),S=f(P[0]||""),N=f(P[1]||"");if(S.length){var O=t(Q);e(O.queryKey,S);Q=O.rebuild()}if(T&&N.length){e(T,N)}}a.post(Q,T,function(U){M.call(R,U)})}});M.listen("escrow",function(N){if(!j.confidential){N=d.parse(m(H))}var O=A++;k[O]=N;return O});var L={rpcConnection:M,onReady:function(){M.call("ready",p.get(u))}};if(!I){L.onReady()}return L}});
$BV.Internal.define("dropdown",[window,document],["exports","jquery.core"],function(c,b,a,d){c.BvDropdown=function(g,e,m,i,l,f,n,p,h,k){this._containerDiv=b.getElementById(g);this._selectedDiv=b.getElementById(e);this._buttonDiv=b.getElementById(m);this._itemsDiv=b.getElementById(i);this._attachToDropdown=h;this._iframeId="BVDropdownIEControlsFrameID";if(!this._containerDiv||!this._selectedDiv||!this._itemsDiv||this._itemsDiv.getElementsByTagName("*").length==0){this.valid=false;return}var o=new Image();o.src=f;this._timerOn=false;this._timerID=null;this._timerDelay=300;var j=this;this._selectedDiv.onclick=function(){j.toggleItemList()};this._containerDiv.onmouseout=function(){j.startTimer()};this._containerDiv.onmouseover=function(){j.stopTimer()};if(this._buttonDiv){this._selectedDiv.onmouseover=function(){j.setButtonBkg(f)};this._selectedDiv.onmouseout=function(){j.setButtonBkg(l)}}this.valid=true;if(n!=undefined&&p!=undefined){d("#"+i+" ."+n).each(function(q){d(this).bind("click",function(){j.setSelectedItem(this.id,p)});if(q==0&&!k){j.setSelectedItem(this.id,p)}})}};BvDropdown.prototype.setButtonBkg=function(e){this._buttonDiv.style.backgroundImage="url("+e+")"};BvDropdown.prototype.toggleItemList=function(){if(this._itemsDiv.style.display=="block"){this.hideItemList()}else{this.showItemList()}};BvDropdown.prototype.showItemList=function(){if(this._attachToDropdown=="true"){var f=d(this._containerDiv).offset();var e=d(this._containerDiv).height();d(this._itemsDiv).css({position:"absolute",left:f.left+"px",top:f.top+e+"px"})}bvExpandDivWithIEControlsFrame(this._itemsDiv.id,this._iframeId)};BvDropdown.prototype.setSelectedItem=function(f,e){this.hideItemList();if(f==null||f==""){d("#"+e).html("")}else{d("#"+e).html(d("#"+f).text())}};BvDropdown.prototype.hideItemList=function(){this._itemsDiv.style.display="none";iframe=b.getElementById(this._iframeId);if(iframe){iframe.style.display="none"}this.stopTimer()};BvDropdown.prototype.startTimer=function(){if(!this._timerOn){var e=this;this._timerID=setTimeout(function(){e.hideItemList()},this._timerDelay);this._timerOn=true}};BvDropdown.prototype.stopTimer=function(){if(this._timerOn){clearTimeout(this._timerID);this._timerID=null;this._timerOn=false}};BvDropdown.prototype.getLinks=function(){return this.valid?this._itemsDiv.getElementsByTagName("a"):[]};BvDropdown.prototype.hideIfNotValid=function(e){if(!this.valid){if(!this._containerDiv.className){this._containerDiv.className=e}else{if((" "+this._containerDiv.className+" ").indexOf(" "+e+" ")<0){this._containerDiv.className+=" "+e}}}};c.bvAddAdditionalHandlersToDropdown=function(e){var f=b.getElementById(e);if(f==null||typeof f.oldValue!=="undefined"){return}f.oldValue=f.value;if(!f.onchange||!(b.all&&(navigator.userAgent.indexOf("MSIE")>-1))){return}f.onfocusouthandler=f.onfocusout;f.onkeydownhandler=f.onkeydown;f.onchangehandler=f.onchange;f.onfocusouthandler=function(){if(f.onfocusouthandler){f.onfocusouthandler()}if(f.oldValue!=f.value){f.onchangehandler()}};f.onfocusout=f.onfocusStandin;f.onkeydown=function(){if(f.onkeydownhandler){f.onkeydownhandler()}f.eventKeyCode=event.keyCode;var g=13;if(f.eventKeyCode==g&&f.oldValue!=f.value){f.onchangehandler()}};f.onchange=function(){var h=38;var g=40;if(f.eventKeyCode==h||f.eventKeyCode==g){f.eventKeyCode=0}else{f.onchangehandler()}}};c.bvAddAdditionalHandlersToNamedDropdowns=function(e){var g=b.getElementsByName(e);for(var f=0;f<g.length;f++){bvAddAdditionalHandlersToDropdown(g[f].id)}};a.onPageLoad=function(f,e){if(f==="dropdown"){(new BvDropdown(e.dropdownId,e.selectId,e.buttonId,e.itemsId,e.buttonNormal,e.buttonHover,e.itemClass,e.selectedItemTextPlaceholderID,e.attachToDropdown)).hideIfNotValid(e.hiddenClass)}else{if(f==="addSelectHandlers"){if(e.dropdownId){bvAddAdditionalHandlersToDropdown(e.dropdownId)}if(e.dropdownsName){bvAddAdditionalHandlersToNamedDropdowns(e.dropdownsName)}}}}});
$BV.Internal.define("contentDispatcher",[window],["exports","jquery.core"],function(b,d,e){var a={},c={};d.registerApplication=function(f,g){c[g]=f;e.each(f,function(h,j){a[j]=g})};d.findLatestAppConfigKey=function(f){return a[f]};$BV.Internal.Dispatcher=d});
$BV.Internal.define("injection",[window],["exports","jquery.core","requester","cookies","crossDomain","analyticsHooks","contentDispatcher"],function(f,l,e,i,g,c,k,a){var h=[],d={},b,j;e.extend(l,{newInstance:function(){return e.extend(true,{},this)},_apiConfig:null,_targetWindow:null,_productId:null,_replacementsPrefix:"BV",_cookiesAsync:null,_divOverrides:{},_soiRedirectChecked:false,apiConfig:function(m){if(m){this._apiConfig=m}return this._apiConfig},targetWindow:function(m){if(m){this._targetWindow=m}return this._targetWindow},productId:function(m){if(m){this._productId=m}return this._productId},replacementsPrefix:function(m){if(m){this._replacementsPrefix=m}return this._replacementsPrefix},cookiesAsync:function(m){if(m){this._cookiesAsync=m}return this._cookiesAsync},divOverrides:function(m,n){if(n){this._divOverrides[m]=n}return this._divOverrides[m]},getComponent:function(m){throw"implementation required : getComponent"},getReplacements:function(n,m){throw"implementation required : getReplacements"},apiInjection:function(o){var n=c.ensureFrame(o.crossDomainUrl,o.cookiePath),m=this;n.awaitCookies(o.apiConfig,function(q,r,p){m.doInjection(o,p,q,r)})},docDomainInjection:function(o){var m=o.embeddedWindow;g.registerDocDomainFrame(m);i.registerDocDomainFrame(m);var n=g.parseFromDomainAsync(m.location.host,o.cookiePath);this.doInjection(o,n)},doInjection:function(r,n,o,q){var m=this,p=$BV.Internal.newLatch(0);m.cookiesAsync(n);m.apiConfig(r.apiConfig);m.replacementsPrefix(r.replacementsPrefix);m.productId(r.productId);m.targetWindow(f);m._widgetLimit=r.widgetLimit;if(m.performGotoRedirect(r.embeddedUrl,o,r.gotoCookieRegexp,q,r.apiConfig)||m.performSviRedirect&&m.performSviRedirect(r.sviParameterName,r.sviRedirectBaseUrl,r.embeddedUrl,r.apiConfig)||m.performSoiRedirect&&m.performSoiRedirect(r.soiContainerID,r.soiContentIDs,r.embeddedUrl,r.apiConfig)){return}m.prepareSourceMaterials(r.widgetMaterials,r);if(r.apiConfig){p.increment();r.apiConfig.injectionLatch.queue(p.release)}if(r.containerInitializer){p.increment();m.downloadContainerInitializer(r.containerInitializer,p.release);p.increment();e(p.release)}else{if(r.apiConfig){p.increment();m.waitForContainers(r.widgetMetadata,r.widgetMaterials,p.release)}}p.queue(function(){if(f.bvClosePopups){bvClosePopups()}if(r.containerInitializer){m.runContainerInitializer(r.containerInitializer)}var s=m.injectAll(r.widgetMetadata,r.widgetMaterials,r.widgetInitializers);if(r.windowTitle&&(r.setWindowTitle||l.shouldSetWindowTitle)){document.title=r.windowTitle;l.shouldSetWindowTitle=true}r.postInjectionFunction(m);r.postInjectionFunction=null;m.runGlobalInitializers(r.globalInitializers);m.onContentLoaded(r.pageIdPrefix);m.initWebAnalytics(s,r.webAnalyticsConfig);m.registerForContentDispatch(r.apiConfig,r.widgetMetadata);m.fetchTrackers(r.pageTrackers)})},initEmbeddedFrame:function(n){this.cookiesAsync(g.parseFromDomainAsync(f.location.host,n.cookiePath));this.targetWindow(f);var m=e("#"+n.widgetId);this.runInitializers(n.widgetInitializers,m);n.postInjectionFunction(this);n.postInjectionFunction=null;this.runGlobalInitializers(n.globalInitializers);this.initWebAnalytics(m.get(),n.webAnalyticsConfig)},performGotoRedirect:function(m,t,u,r,o){if(t&&m!==t&&u){var p=m.match(u),q=t.match(u);if(p&&q&&this.checkRedirectCompatible(p[1],q[1])){r();var n=o.displayType==="mobile"?"mobile":"";var s=o.displayType==="bulk"?"bulk":"";t=t.replace(/^([^?#]*)\.htm(\?(?:[^#]*&)?format=)embedded(?=[&#]|$)/,"$1.djs$2"+n+s+"embeddedhtml");$BV.Internal.callAjax(t,o);return true}}else{if(m===t&&r){r()}}},checkRedirectCompatible:function(r,m){if(r&&m){var o=/\/(\d{4}\w{0,9})(-[a-z][a-z])?(_[a-z][a-z])?\//;var q=r.toLowerCase();var n=m.toLowerCase();var p=q.replace(o,"$1");if(p){q=p}p=n.replace(o,"$1");if(p){n=p}if(q===n){return true}}return false},performSviRedirect:function(n,m,s,o){if(j||!n||!m||!this.getSviRedirectUrl){return false}j=true;var q=i.getQueryParam(n),p=decodeURIComponent(q||"").replace(/\.htm$/,"").split("/");
var r=this.getSviRedirectUrl(p,m,!!o);if(r&&r!=s){i.get(r,this.getComponent(this.replacementsPrefix()+"Frame"),o);return true}},initWebAnalytics:function(o,m){if(f[m.customizersName]){try{k.onInjectedPageLoad(o,m.jsonData,m.customizersName,m.customContainersFnName,m.maxTrackingTagTraversalDepth,this.apiConfig(),m.customTrackedObjectsSelector,m.customTrackedObjects)}catch(n){$BV.log(n)}}},onContentLoaded:function(n){var m=this.targetWindow();m[n+"isLoaded"]=true;if(this.productId()){if(!m[n+"isLoadedTable"]){m[n+"isLoadedTable"]={}}m[n+"isLoadedTable"]["_"+this.productId()]=true}},fetchTrackers:function(o){if(o){for(var n=0;n<o.length;++n){var m=new Image();m.src=o[n]+"?_="+h.length;h.push(m)}}},prepareSourceMaterials:function(m,p){var q=this.getReplacements(p,this.apiConfig());for(var o in m){for(var n=0;n<q.length;++n){m[o]=m[o].replace(q[n].pattern,q[n].replacement)}}},waitForContainers:function(o,m,r){var q,n=this;function p(){var s=true;e.each(o,function(t,u){if(!n.isContainerReady(m[u.sourceId],u.containerId,t)){s=false;return false}});if(s){q=null;r()}else{q=setTimeout(p,50)}}p();e(function(){if(q){clearTimeout(q);r()}})},isContainerReady:function(o,n,p){var m;return !o||(this.setupComponentOverride(p,n,true)&&(m=this.getComponent(n))&&e(m).parents().andSelf().next().length)},injectAll:function(q,n,p){var m=[],o=this;e.each(q,function(r,s){o.inject(n[s.sourceId],s.containerId,m,p[s.sourceId],r)});return m},inject:function(p,o,m,n,r){this.setupComponentOverride(r,o);var s=this.getComponent(o),q=this.targetWindow();if(p&&s&&!q.$bv(s).hasClass("BVSubmissionInProgress")){this.checkWidgetLimit(r,s);q.$bv.cleanData(s.getElementsByTagName("*"));s.innerHTML=p;if(m){m.push(s)}this.runInitializers(n,q.$bv(s))}},runGlobalInitializers:function(m){this.runInitializers(m,this.targetWindow().$bv("body"))},registerForContentDispatch:function(m,n){e.each(n,function(o,p){if(m&&m.requestConfigKey&&p.handledContentTypes){a.registerApplication(p.handledContentTypes,m.requestConfigKey)}})},runInitializers:function(o,m){var q=this.targetWindow(),p=this.cookiesAsync(),n=this;e.each(o||[],function(r,s){q.$BV.Internal.require([s.module],function(t){t.onPageLoad(s.init,s.data,m,p,n)})})},downloadContainerInitializer:function(m,n){$BV.Internal.require([m.module],n)},runContainerInitializer:function(m){$BV.Internal.require(m.module).onContainerInit(m.init,m.data)},setupComponentOverride:function(o,n,q){var m=this.apiConfig();if(m){var p=m[o+"ContainerDiv"];if(typeof p==="function"){if(q){return false}p=p(o,n,m)}if(typeof p==="string"){p=this.targetWindow().document.getElementById(p);if(q&&!p){return false}}this.divOverrides(n,p)}return true},checkWidgetLimit:function(q,p){var m=this.apiConfig(),n=this._widgetLimit;if(!m||n<0){return}var s=m.scope+"/"+m.displayCode+"/"+q,r=d[s]||[];for(var o=0;o<r.length;o++){if(e(r[o]).parents("body").length===0){r.splice(o--,1)}else{if(r[o]===p){return}}}if(r.length>=n){throw"Bazaarvoice: too many widgets of type '"+s+"' on the page"}r.push(p);d[s]=r},getClientDivData:function(m){var n=this.targetWindow().document.getElementById(this.replacementsPrefix()+m);return n&&bvUnescapeHtml(this.stripHTMLTags(n.innerHTML))},stripHTMLTags:function(m){return m.replace(/<.*?>/g,"")},stripAnchors:function(m){return m.toString().split("#")[0]},performSoiRedirect:function(q,p,r,n){function s(v,t){var u=true;e(t).each(function(x,w){u=e.inArray(w,v)>=0;if(!u){return false}});return u}if(!this._soiRedirectChecked&&e("#"+q).length>0){this._soiRedirectChecked=true;var m=e("#"+q).data("bvcontentids");if(m&&(m.length>0)&&!s(p,m)){var o=this.getSoiRedirectUrl(q,r);if(o&&o!=r){i.get(o,this.getComponent(this.replacementsPrefix()+"Frame"),n);return true}}}return false},getSoiRedirectUrl:function(n,o){var p=e("#"+n).data("bvsoirelativeurl");if(!p){return false}var m=/^(http[s]?:\/\/[^\/]+)/i.exec(o);return m&&(m[1]+p)}})});
$BV.Internal.define("injection.shared.replacements",[],["exports","domUtils"],function(a){$BV.Internal.extend(a,{determineReturnUrl:function(c,b){var d;if(b){d=b.submissionReturnUrl&&String(b.submissionReturnUrl)}else{d=this.getClientDivData("ReturnURL");if(d){d=d.replace(/^\s+/,"").replace(/\s+$/,"");if(d.indexOf("http%3A%2F%2F")==0){d=decodeURIComponent(d)}}}if(!d||d.match(/^\s*$/)){d=this.targetWindow().location.href}return c?encodeURIComponent(d):d},determineSubmissionUrl:function(d,c){var b;if(c){b=c.submissionContainerUrl}else{b=this.getClientDivData("SubmissionURL")}if(!b&&(d.inFrameSubmissionEnabled||(c&&c.allowSamePageSubmission))){b=this.targetWindow().location.href}return b?encodeURIComponent(this.stripAnchors(b)):""},determineSubmissionParameters:function(c){var b;if(c){b=c.submissionContainerUrlParameters}else{b=this.getClientDivData("SubmissionParameters")}return b?encodeURIComponent(b):null},determineCustomerId:function(b){var c;if(b){c=b.userToken}else{c=this.getClientDivData("CustomerID");if(c=="__USERID__"||c=="%5F%5FUSERID%5F%5F"){c=null}}return c?encodeURIComponent(c):null},determineSessionParameters:function(){return this.getClientDivData("SessionParams")}})});
$BV.Internal.define("injection.shared",[],["exports","jquery.core","injection","injection.shared.replacements","requester"],function(a,e,b,d,c){e.extend(a,b,d,{getComponent:function(f){return this.divOverrides(f)||this.targetWindow().document.getElementById(f)},getReplacements:function(j,g){var l=[];l.push({pattern:/__CONFIGKEY__/g,replacement:g?c.getConfigKey(g):""});if(j.replaceDisplayTokens){l.push({pattern:/__RETURN__/g,replacement:this.determineReturnUrl(true,g)});l.push({pattern:/__BVSUBMISSIONURL__/g,replacement:this.determineSubmissionUrl(j,g)});l.push({pattern:/__BVSUBMISSIONPARAMETERS__/g,replacement:this.determineSubmissionParameters(g)});l.push({pattern:/__USERID__/g,replacement:this.determineCustomerId(g)})}if(j.replaceSessionParameters){var f=this.determineSessionParameters();if(f){f=f.replace(/"/g,"&quot;");l.push({pattern:/value=("?)__BVSESSIONPARAMS__("?)/g,replacement:'value="'+f+'"'})}}var k=[];for(var h=0;h<l.length;++h){if(l[h].replacement!=null){k.push(l[h])}}return k}})});
$BV.Internal.define("animationQueueing",[window,document],["exports","jquery.core"],function(e,b,g,h){var d=[];var f="#BVEventCapturingButtonID";var a="Resume Animations";var c="Pause Animations";h.extend(g,{isAnimationPausingEnabled:function(){return h(f)!=undefined&&h(f).attr("value")===a},enableAnimationPause:function(){h(f).attr("value",a);if(d.length==0){h(f).attr("disabled",true)}},disableAnimationPause:function(){h(f).attr("value",c);h(f).attr("disabled",false)},pushAnimationEvent:function(i,j){if(g.isAnimationPausingEnabled()){d.push(function(){i.apply(this,[].slice.call(j,0))});h(f).attr("disabled",false)}else{i.apply(this,[].slice.call(j,0))}},clearAnimationEventQueue:function(){if(!g.isAnimationPausingEnabled()){g.enableAnimationPause();return}g.disableAnimationPause();while(d.length>0){d.shift()()}}});e.bvAnimationEventQueue=g});
$BV.Internal.define("tooltip",[window],["exports","jquery.core","browserVersion","animationQueueing","domUtils"],function(d,b,e,c){function a(s,i,p,m,f,h,r){var u=null,l=null,o=null,g=null;r=r||"BVDI_BAPopup";function k(){bvAnimationEventQueue.pushAnimationEvent(function(){e("#"+s).animate(e.support.opacity?{opacity:"0"}:{},"fast",function(){e(this).remove();e("#"+s+"-IEControlsFrame").remove()})},arguments)}function t(){var B=e("#"+l),C=e("#"+u),v=C.clone(true).attr("id",s).appendTo("body");c.addBrowserClasses({containerId:s});v.bind("mouseenter",function(){j()});v.bind("mouseleave",function(){n(true)});var w=e(document.createElement("div")).css({position:"absolute",top:0,left:0}).appendTo("body"),z=w.position();w.remove();var y=B.offset().top-v.outerHeight()-z.top,x=B.offset().top-v.outerHeight()-z.top-f,A=B.offset().left+B.outerWidth()/2-v.outerWidth()/2-z.left,D=e(bvGetIEControlsFrame(s+"-IEControlsFrame",""));if(A+z.left<0){v.add(D).addClass(r+"LeftBoundCross")}else{if(A>e(d).width()-v.outerWidth()){v.add(D).addClass(r+"RightBoundCross")}}var F={top:x+"px",left:A+"px"},E={top:[y+"px","swing"]};if(e.support.opacity){F.opacity=0;E.opacity=1}v.css(F).show();D.css(F);D.css({position:"absolute",width:v.width()+"px",height:v.height()+"px"});D.insertBefore(v).show();v.add(D).animate(E,h)}function j(){clearTimeout(g);g=setTimeout(k,p)}function n(v){if(o!=null){clearTimeout(o);o=null;l=null;u=null;return}if(g){clearTimeout(g)}function w(){k();g=null;l=null;u=null}if(v){w()}else{g=setTimeout(w,m)}}function q(w,x,v){if(u==w&&!v){return}n(true);u=w;l=x;j();if(o==null){o=setTimeout(function(){t();o=null},i)}}return{show:q,hide:n}}b.newTooltip=a;b.defaultTooltip=a("BVTooltipID",500,10000,500,20,500);d.bvTooltip=b.defaultTooltip});
$BV.Internal.define("underscore",[],[],function(){
/*
 *     Underscore.js 1.1.7
 *     (c) 2011 Jeremy Ashkenas, DocumentCloud Inc.
 *     Underscore is freely distributable under the MIT license.
 *     Portions of Underscore are inspired or borrowed from Prototype,
 *     Oliver Steele's Functional, and John Resig's Micro-Templating.
 *     For all details and documentation:
 *     http://documentcloud.github.com/underscore
 */
var u=this;var r=u._;var b={};var i=Array.prototype,B=Object.prototype,D=Function.prototype;var s=i.slice,w=i.unshift,v=B.toString,o=B.hasOwnProperty;var m=i.forEach,h=i.map,z=i.reduce,e=i.reduceRight,l=i.filter,a=i.every,y=i.some,t=i.indexOf,f=i.lastIndexOf,c=Array.isArray,A=Object.keys,j=D.bind;var C=function(E){return new g(E)};if(typeof module!=="undefined"&&module.exports){module.exports=C;C._=C}else{u._=C}C.VERSION="1.1.7";var d=C.each=C.forEach=function(J,I,H){if(J==null){return}if(m&&J.forEach===m){J.forEach(I,H)}else{if(J.length===+J.length){for(var G=0,E=J.length;G<E;G++){if(G in J&&I.call(H,J[G],G,J)===b){return}}}else{for(var F in J){if(o.call(J,F)){if(I.call(H,J[F],F,J)===b){return}}}}}};C.map=function(H,G,F){var E=[];if(H==null){return E}if(h&&H.map===h){return H.map(G,F)}d(H,function(K,I,J){E[E.length]=G.call(F,K,I,J)});return E};C.reduce=C.foldl=C.inject=function(I,H,E,G){var F=E!==void 0;if(I==null){I=[]}if(z&&I.reduce===z){if(G){H=C.bind(H,G)}return F?I.reduce(H,E):I.reduce(H)}d(I,function(L,J,K){if(!F){E=L;F=true}else{E=H.call(G,E,L,J,K)}});if(!F){throw new TypeError("Reduce of empty array with no initial value")}return E};C.reduceRight=C.foldr=function(H,G,E,F){if(H==null){H=[]}if(e&&H.reduceRight===e){if(F){G=C.bind(G,F)}return E!==void 0?H.reduceRight(G,E):H.reduceRight(G)}var I=(C.isArray(H)?H.slice():C.toArray(H)).reverse();return C.reduce(I,G,E,F)};C.find=C.detect=function(H,G,F){var E;p(H,function(K,I,J){if(G.call(F,K,I,J)){E=K;return true}});return E};C.filter=C.select=function(H,G,F){var E=[];if(H==null){return E}if(l&&H.filter===l){return H.filter(G,F)}d(H,function(K,I,J){if(G.call(F,K,I,J)){E[E.length]=K}});return E};C.reject=function(H,G,F){var E=[];if(H==null){return E}d(H,function(K,I,J){if(!G.call(F,K,I,J)){E[E.length]=K}});return E};C.every=C.all=function(H,G,F){var E=true;if(H==null){return E}if(a&&H.every===a){return H.every(G,F)}d(H,function(K,I,J){if(!(E=E&&G.call(F,K,I,J))){return b}});return E};var p=C.some=C.any=function(H,G,F){G=G||C.identity;var E=false;if(H==null){return E}if(y&&H.some===y){return H.some(G,F)}d(H,function(K,I,J){if(E|=G.call(F,K,I,J)){return b}});return !!E};C.include=C.contains=function(G,F){var E=false;if(G==null){return E}if(t&&G.indexOf===t){return G.indexOf(F)!=-1}p(G,function(H){if(E=H===F){return true}});return E};C.invoke=function(F,G){var E=s.call(arguments,2);return C.map(F,function(H){return(G.call?G||H:H[G]).apply(H,E)})};C.pluck=function(F,E){return C.map(F,function(G){return G[E]})};C.max=function(H,G,F){if(!G&&C.isArray(H)){return Math.max.apply(Math,H)}var E={computed:-Infinity};d(H,function(L,I,K){var J=G?G.call(F,L,I,K):L;J>=E.computed&&(E={value:L,computed:J})});return E.value};C.min=function(H,G,F){if(!G&&C.isArray(H)){return Math.min.apply(Math,H)}var E={computed:Infinity};d(H,function(L,I,K){var J=G?G.call(F,L,I,K):L;J<E.computed&&(E={value:L,computed:J})});return E.value};C.sortBy=function(G,F,E){return C.pluck(C.map(G,function(J,H,I){return{value:J,criteria:F.call(E,J,H,I)}}).sort(function(K,J){var I=K.criteria,H=J.criteria;return I<H?-1:I>H?1:0}),"value")};C.groupBy=function(G,F){var E={};d(G,function(J,H){var I=F(J,H);(E[I]||(E[I]=[])).push(J)});return E};C.sortedIndex=function(J,I,G){G||(G=C.identity);var E=0,H=J.length;while(E<H){var F=(E+H)>>1;G(J[F])<G(I)?E=F+1:H=F}return E};C.toArray=function(E){if(!E){return[]}if(E.toArray){return E.toArray()}if(C.isArray(E)){return s.call(E)}if(C.isArguments(E)){return s.call(E)}return C.values(E)};C.size=function(E){return C.toArray(E).length};C.first=C.head=function(G,F,E){return(F!=null)&&!E?s.call(G,0,F):G[0]
};C.rest=C.tail=function(G,E,F){return s.call(G,(E==null)||F?1:E)};C.last=function(E){return E[E.length-1]};C.compact=function(E){return C.filter(E,function(F){return !!F})};C.flatten=function(E){return C.reduce(E,function(F,G){if(C.isArray(G)){return F.concat(C.flatten(G))}F[F.length]=G;return F},[])};C.without=function(E){return C.difference(E,s.call(arguments,1))};C.uniq=C.unique=function(F,E){return C.reduce(F,function(G,I,H){if(0==H||(E===true?C.last(G)!=I:!C.include(G,I))){G[G.length]=I}return G},[])};C.union=function(){return C.uniq(C.flatten(arguments))};C.intersection=C.intersect=function(F){var E=s.call(arguments,1);return C.filter(C.uniq(F),function(G){return C.every(E,function(H){return C.indexOf(H,G)>=0})})};C.difference=function(F,E){return C.filter(F,function(G){return !C.include(E,G)})};C.zip=function(){var E=s.call(arguments);var H=C.max(C.pluck(E,"length"));var G=new Array(H);for(var F=0;F<H;F++){G[F]=C.pluck(E,""+F)}return G};C.indexOf=function(I,G,H){if(I==null){return -1}var F,E;if(H){F=C.sortedIndex(I,G);return I[F]===G?F:-1}if(t&&I.indexOf===t){return I.indexOf(G)}for(F=0,E=I.length;F<E;F++){if(I[F]===G){return F}}return -1};C.lastIndexOf=function(G,F){if(G==null){return -1}if(f&&G.lastIndexOf===f){return G.lastIndexOf(F)}var E=G.length;while(E--){if(G[E]===F){return E}}return -1};C.range=function(J,H,I){if(arguments.length<=1){H=J||0;J=0}I=arguments[2]||1;var F=Math.max(Math.ceil((H-J)/I),0);var E=0;var G=new Array(F);while(E<F){G[E++]=J;J+=I}return G};C.bind=function(F,G){if(F.bind===j&&j){return j.apply(F,s.call(arguments,1))}var E=s.call(arguments,2);return function(){return F.apply(G,E.concat(s.call(arguments)))}};C.bindAll=function(F){var E=s.call(arguments,1);if(E.length==0){E=C.functions(F)}d(E,function(G){F[G]=C.bind(F[G],F)});return F};C.memoize=function(G,F){var E={};F||(F=C.identity);return function(){var H=F.apply(this,arguments);return o.call(E,H)?E[H]:(E[H]=G.apply(this,arguments))}};C.delay=function(F,G){var E=s.call(arguments,2);return setTimeout(function(){return F.apply(F,E)},G)};C.defer=function(E){return C.delay.apply(C,[E,1].concat(s.call(arguments,1)))};var x=function(F,H,E){var G;return function(){var J=this,I=arguments;var K=function(){G=null;F.apply(J,I)};if(E){clearTimeout(G)}if(E||!G){G=setTimeout(K,H)}}};C.throttle=function(E,F){return x(E,F,false)};C.debounce=function(E,F){return x(E,F,true)};C.once=function(G){var E=false,F;return function(){if(E){return F}E=true;return F=G.apply(this,arguments)}};C.wrap=function(E,F){return function(){var G=[E].concat(s.call(arguments));return F.apply(this,G)}};C.compose=function(){var E=s.call(arguments);return function(){var F=s.call(arguments);for(var G=E.length-1;G>=0;G--){F=[E[G].apply(this,F)]}return F[0]}};C.after=function(F,E){return function(){if(--F<1){return E.apply(this,arguments)}}};C.keys=A||function(G){if(G!==Object(G)){throw new TypeError("Invalid object")}var F=[];for(var E in G){if(o.call(G,E)){F[F.length]=E}}return F};C.values=function(E){return C.map(E,C.identity)};C.functions=C.methods=function(G){var F=[];for(var E in G){if(C.isFunction(G[E])){F.push(E)}}return F.sort()};C.extend=function(E){d(s.call(arguments,1),function(F){for(var G in F){if(F[G]!==void 0){E[G]=F[G]}}});return E};C.defaults=function(E){d(s.call(arguments,1),function(F){for(var G in F){if(E[G]==null){E[G]=F[G]}}});return E};C.clone=function(E){return C.isArray(E)?E.slice():C.extend({},E)};C.tap=function(F,E){E(F);return F};C.isEqual=function(F,E){if(F===E){return true}var I=typeof(F),K=typeof(E);if(I!=K){return false}if(F==E){return true}if((!F&&E)||(F&&!E)){return false}if(F._chain){F=F._wrapped}if(E._chain){E=E._wrapped}if(F.isEqual){return F.isEqual(E)}if(E.isEqual){return E.isEqual(F)}if(C.isDate(F)&&C.isDate(E)){return F.getTime()===E.getTime()}if(C.isNaN(F)&&C.isNaN(E)){return false}if(C.isRegExp(F)&&C.isRegExp(E)){return F.source===E.source&&F.global===E.global&&F.ignoreCase===E.ignoreCase&&F.multiline===E.multiline}if(I!=="object"){return false
}if(F.length&&(F.length!==E.length)){return false}var G=C.keys(F),J=C.keys(E);if(G.length!=J.length){return false}for(var H in F){if(!(H in E)||!C.isEqual(F[H],E[H])){return false}}return true};C.isEmpty=function(F){if(C.isArray(F)||C.isString(F)){return F.length===0}for(var E in F){if(o.call(F,E)){return false}}return true};C.isElement=function(E){return !!(E&&E.nodeType==1)};C.isArray=c||function(E){return v.call(E)==="[object Array]"};C.isObject=function(E){return E===Object(E)};C.isArguments=function(E){return !!(E&&o.call(E,"callee"))};C.isFunction=function(E){return !!(E&&E.constructor&&E.call&&E.apply)};C.isString=function(E){return !!(E===""||(E&&E.charCodeAt&&E.substr))};C.isNumber=function(E){return !!(E===0||(E&&E.toExponential&&E.toFixed))};C.isNaN=function(E){return E!==E};C.isBoolean=function(E){return E===true||E===false};C.isDate=function(E){return !!(E&&E.getTimezoneOffset&&E.setUTCFullYear)};C.isRegExp=function(E){return !!(E&&E.test&&E.exec&&(E.ignoreCase||E.ignoreCase===false))};C.isNull=function(E){return E===null};C.isUndefined=function(E){return E===void 0};C.noConflict=function(){u._=r;return this};C.identity=function(E){return E};C.times=function(H,G,F){for(var E=0;E<H;E++){G.call(F,E)}};C.mixin=function(E){d(C.functions(E),function(F){q(F,C[F]=E[F])})};var k=0;C.uniqueId=function(E){var F=k++;return E?E+F:F};C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};C.template=function(H,G){var I=C.templateSettings;var E="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+H.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(I.interpolate,function(J,K){return"',"+K.replace(/\\'/g,"'")+",'"}).replace(I.evaluate||null,function(J,K){return"');"+K.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";var F=new Function("obj",E);return G?F(G):F};var g=function(E){this._wrapped=E};C.prototype=g.prototype;var n=function(F,E){return E?C(F).chain():F};var q=function(E,F){g.prototype[E]=function(){var G=s.call(arguments);w.call(G,this._wrapped);return n(F.apply(C,G),this._chain)}};C.mixin(C);d(["pop","push","reverse","shift","sort","splice","unshift"],function(E){var F=i[E];g.prototype[E]=function(){F.apply(this._wrapped,arguments);return n(this._wrapped,this._chain)}});d(["concat","join","slice"],function(E){var F=i[E];g.prototype[E]=function(){return n(F.apply(this._wrapped,arguments),this._chain)}});g.prototype.chain=function(){this._chain=true;return this};g.prototype.value=function(){return this._wrapped};return C.noConflict()});
$BV.Internal.define("urlEnvironmentManagementService",[document],["exports","jquery.core","underscore","contentDisplay"],function(r,n,t,x,u){var e=false,p,f={},a={},k={},c={},j={},l=function(z){$BV.log(z)};function y(z){if(!z){z=function(){}}if(e){z()}else{e=true;q(z)}}function q(z){var A=g();x.each(f,function(C,B){A.allocate(B,function(E,D){if(!E){l("Failed to load bundle summary from "+B);return}a[B]=D});t.ajax({url:C.bundleSummaryUrl,dataType:"jsonp",success:function(D){A.release(B,D)}})});A.queue(function(){b();i();h(z)})}function h(z){var A=g();x.each(k,function(B,C){w(C,B.overrideServiceEnvironment,A).get()});A.queue(z)}function w(E,B,C){var D={};function z(){t.ajax({url:E+a[B].requestEnvironment.overrideGetUrlSuffix,dataType:"jsonp",data:D,success:function(F){C.release(E,F)}})}function A(){var I=false,J=Math.random().toString().substring(2),G="URLEnvironmentOverrideFrame"+J,H="URLEnvironmentOverrideForm"+J,K,F;K=r.createElement("iframe");K.setAttribute("name",G);K.setAttribute("src","javascript:false;");K.setAttribute("style","display:none;");K.addEventListener("load",function(){if(I){C.release(E);t(F).remove();t(K).remove()}},false);r.body.appendChild(K);t('<form action="'+E+a[B].requestEnvironment.overridePostUrlSuffix+'" target="'+G+'" name="'+H+'" method="POST" accept-charset="utf-8"><input type="hidden" name="src"/><input type="hidden" name="dest"/><input type="hidden" name="action"/></form>').appendTo("body");F=r.forms[H];I=true;x.each(D,function(M,L){F[L].value=M});F.submit()}return{addSource:function(F){D.src=F;return this},addDestination:function(F){D.dest=F;return this},get:function(){D.action="get";C.allocate(E,function(G,F){if(!G){l("Failed to load environment mappings for host "+E);return}k[E].mappings=F.mappings;d(E,F.mappings)});z()},set:function(){D.action="set";C.allocate(E,function(F){if(!F){l("Failed to set environment mapping for host "+E)}});if(t.browser.webkit){A()}else{z()}}}}function g(B){var z=0,D=[],A={},E=u.createTimer();B=B||5000;function C(){while(D.length){(D.shift())()}}return{allocate:function(G,F){z++;A[G]=F||t.noop},release:function(G){var F=[].slice.call(arguments,1);F.unshift(true);z--;A[G].apply(null,F);delete A[G];if(z<=0){E.clear();C()}},queue:function(F){if(z<=0){F()}else{D.push(F);E.set(function(){for(var G in A){A[G](false);delete A[G]}C()},B)}}}}function b(){var z=x(a).chain().values().first().value();var A=x(a).all(function(B){return x.isEqual(z.clients,B.clients)});if(!A){l("Supported host names differ between environments")}}function i(){if(!(p in a)){l("Environment data failed to load from "+p);p=null}x.each(a,o);o(a[p],p)}function o(B,A){if(!B){return}var z=B.hostSets[B.requestEnvironment.hostSet];c[A]=z;x.each(z,function(C){k[C]=k[C]||{};k[C].overrideServiceEnvironment=A})}function d(A,z){x.each(z,function(C){var B=C.source;if(!x(c[B]||[]).contains(A)){return}j[B]=j[B]||{};j[B][C.destination]=true})}function s(B,A,z){var C=g();x.each(c[B],function(D){w(D,k[D].overrideServiceEnvironment,C).addSource(B).addDestination(A).set()});C.queue(z||t.noop)}function v(A,z){var B=g();x.each(c[A],function(C){w(C,k[C].overrideServiceEnvironment,B).addSource(A).set()});B.queue(z||t.noop)}function m(z){var A=g();x.each(k,function(B,C){w(C,B.overrideServiceEnvironment,A).set()});A.queue(z||t.noop)}n.getEnvironmentMappings=function(z){y(function(){z(j)})};n.setEnvironmentMapping=function(B,A,z){y(function(){s(B,A,z)})};n.clearEnvironmentMapping=function(A,z){y(function(){v(A,z)})};n.clearEnvironmentMappings=function(z){y(function(){m(z)})};n.prefetchEnvironmentData=function(z){y(z)};n.setNotificationHandler=function(z){l=z};n.initService=function(z){p=z.preferredEnvironmentName,f=z.environments}});
$BV.Internal.define("urlEnvironmentStatus",[window],["exports","jquery.core","urlEnvironmentManagementService"],function(j,a,i,h){var c="urlEnvironmentStatus",f=false,b,e,k;$BV.Test=$BV.Test||{};$BV.Test.setEnvToolbarEnabled=l;k=j.$BV_Test_setEnvToolbarEnabled!==false;function l(m){k=m;if(k){i("#BVUESExpanded").show()}else{i("#BVUESExpanded, #BVUESCollapsed").hide()}return k}function d(m){if(!e){e=m.destinationOnExit}if(f){return}f=true;$BV.Internal.callAjax(m.url);b=m.source;h.initService({preferredEnvironmentName:b,environments:m.environments})}function g(){var p=i("#BVUESExpanded"),n=i("#BVUESCollapsed"),o=i("#BVUESExitTestingEnvironment"),m={top:0,opacity:1};if(k){p.animate(m,1000)}else{p.css(m).hide()}o.css({opacity:0.85}).mousedown(function(){i(this).css({backgroundPosition:"0 -11px"})}).mouseup(function(){i(this).css({backgroundPosition:"0 0",opacity:0.75})}).mouseover(function(){i(this).stop(true,true).animate({opacity:1},400)}).mouseout(function(){i(this).stop(true,true).animate({opacity:0.85},400)});i("#BVUESExpanded #BVUESToggle").css({opacity:0.75}).click(function(){n.css({top:"-30px"});p.animate({top:"-100px",opacity:"hide"},600,function(){i("#BVUESCollapsed").animate({top:"-4px",opacity:"show"},400)})}).mouseover(function(){i(this).stop(true,true).animate({opacity:1},400)}).mouseout(function(){i(this).stop(true,true).animate({opacity:0.75},400)});i("#BVUESCollapsed #BVUESToggle").css({opacity:0.75}).click(function(){n.animate({top:"-30px",opacity:"hide"},400,function(){p.animate({top:"0",opacity:"show"},600)})}).mouseover(function(){i(this).stop(true,true).animate({opacity:1},200);n.stop(true,true).animate({top:"2px"},200)}).mouseout(function(){i(this).stop(true,true).animate({opacity:0.75},200);n.stop(true,true).animate({top:"-4px"},200)});o.click(function(){o.fadeOut("fast",function(){i("#BVUESExitingTestingEnvironment").fadeIn("fast")});h.clearEnvironmentMapping(b,function(){if(!!e){j.location=e}else{j.location.reload()}});return false})}a.loadedContent=function(m){i(m).appendTo("body");g()};a.bindToSubmitFrame=a.bindToProductPickerFrame=function(m){m.listen(c+".onPageLoad",function(o,n){a.onPageLoad(o,n)})};a.connectFromSubmitFrame=a.connectFromProductPickerFrame=function(m){a.onPageLoad=function(o,n){m.call(c+".onPageLoad",o,n)}};a.onPageLoad=function(n,m){if(n=="injectStatus"){d(m)}}});
