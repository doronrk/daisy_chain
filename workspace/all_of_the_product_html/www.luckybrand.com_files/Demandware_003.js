if(typeof(Demandware)=="undefined"){Demandware={}}if(!Demandware.Gigya){Demandware.Gigya={}}Demandware.Gigya.Login=function(q){var m=60;var b=320;var i="standard";var n=null;var o=null;var d=q;var u=null;var j=null;var k=null;var v=null;var g=null;var p=null;var t=null;var r=null;var a=null;var l=null;var f=null;new function(){$(c);$(window).bind("unload",s)};function c(){h();if(!t){return}try{gigya.socialize.getUserInfo({callback:e})}catch(w){if(typeof console=="object"){console.log("WARNING: Could not get user info from Gigya.socialize: "+w)}}}function e(w){if(a){n.parent().find("#gigyaLoginContainer").addClass("remove")}var x={useHTML:true,context:{source:"loginPlugin"},height:u,width:j,showTermsLink:g,buttonsStyle:k,hideGigyaLink:true,redirectURL:p,enabledProviders:r,sessionExpiration:0,containerID:o.attr("id"),UIConfig:'<config><body><controls><snbuttons buttonsize="'+v+'" /></controls></body></config>'};if(_loggedIn){x.showEditLink=(l==""||l=="true");x.redirectURL=null;$("#addConnections").removeClass("remove");gigya.services.socialize.showAddConnectionsUI(x)}else{gigya.services.socialize.showLoginUI(x)}}function h(){n=$("#divGigyaLoginParams"+d);u=(n.find("#txtGigyaLoginHeight").val()||m)*1;j=(n.find("#txtGigyaLoginWidth").val()||b)*1;k=n.find("#txtGigyaLoginButtonStyle").val()||i;v=n.find("#txtGigyaLoginButtonSize").val()||35;g=n.find("#txtGigyaLoginShowTerms").val()=="true";p=n.find("#txtGigyaLoginCallback").val();t=n.find("#txtGigyaActive").val()=="true";_loggedIn=n.find("#txtGigyaLoggedIn").val()=="true";r=n.find("#txtGigyaLoginProviders").val();a=n.find("#txtGigyaLoginContainer").val();l=n.find("#txtGigyaShowEditLogin").val();o=$("#gigyaLoginContainer"+d);if(a){o.addClass("remove");o=$("#"+a)}}function s(){n=null}};