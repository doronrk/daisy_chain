if(!s7sdk.Container){s7sdk.Container=function Container(a,c,b){arguments.callee.superclass.apply(this,[b,a,"div","s7container",c]);this.settings=c;this.hasCustomSize=true;this.container=s7sdk.Util.byId(a);this.wid=this.stagesize.width;this.hei=this.stagesize.height;this.vendorPrefix=this.getVendorPrefix();this.storedPosition=null;if(this.wid==0||this.hei==0){this.wid=this.size.width;this.hei=this.size.height}if(this.wid==0||this.hei==0){this.wid=parseInt(s7sdk.Util.css.getCss("s7container","width",this.id,null,this.container));this.hei=parseInt(s7sdk.Util.css.getCss("s7container","height",this.id,null,this.container));if(!s7sdk.Util.isNumber(this.wid)||!s7sdk.Util.isNumber(this.hei)||this.wid<=0||this.hei<=0){this.wid=s7sdk.browser.screensize.w;this.hei=s7sdk.browser.screensize.h;this.hasCustomSize=false}}this.storedWidth=this.wid;this.storedHeight=this.hei;this.inFullScreen=false;this.init()};s7sdk.Class.inherits(s7sdk.Container,s7sdk.UIComponent);s7sdk.Container.prototype.modifiers={stagesize:{params:["width","height"],defaults:[0,0],ranges:["0:","0:"]},size:{params:["width","height"],defaults:[0,0],ranges:["0:","0:"]}};s7sdk.Container.prototype.init=function(){var a=this.getParent();this.createElement();if(typeof this.obj!="undefined"){this.obj.style.position="relative";a.appendChild(this.obj);this.resize(this.wid,this.hei);s7sdk.Window.attach(this,"resizeByWindow")}};s7sdk.Container.prototype.resizeByWindow=function(a,b){if(!this.hasCustomSize){window.scrollTo(0,1);this.resize(a,b)}else{if(this.inFullScreen&&!this.supportsNativeFullScreen()){this.resize(a,b)}}this.dispatchEvent(new s7sdk.event.ResizeEvent(s7sdk.event.ResizeEvent.WINDOW_RESIZE,a,b,false));if((s7sdk.browser.name=="ie")&&(s7sdk.browser.version.minor>5.5)&&(s7sdk.browser.version.minor<=8)){s7sdk.Window.ignoreNextResize=true}};s7sdk.Container.prototype.resize=function(a,b){if(s7sdk.Util.isNumber(a)&&s7sdk.Util.isNumber(b)){this.obj.style.width=a+"px";this.obj.style.height=b+"px";this.dispatchEvent(new s7sdk.event.ResizeEvent(s7sdk.event.ResizeEvent.COMPONENT_RESIZE,a,b,false));if((s7sdk.browser.name=="ie")&&(s7sdk.browser.version.minor>5.5)&&(s7sdk.browser.version.minor<=8)){s7sdk.Window.ignoreNextResize=true}}s7sdk.UIComponent.prototype.resize.apply(this,[a,b])};s7sdk.Container.prototype.getVendorPrefix=function(){var b=/^(Moz|Webkit|Khtml|O|ms)(?=[A-Z])/;var a=document.getElementsByTagName("script")[0];for(var c in a.style){if(b.test(c)){return c.match(b)[0]}}if("WebkitOpacity" in a.style){return"Webkit"}if("KhtmlOpacity" in a.style){return"Khtml"}return""};s7sdk.Container.prototype.supportsNativeFullScreen=function(){var a=false;if(typeof document.cancelFullScreen!="undefined"){a=true}else{if(typeof document[this.vendorPrefix.toLowerCase()+"CancelFullScreen"]!="undefined"){a=true}}return a};s7sdk.Container.prototype.requestFullScreen=function(){var a,d;this.inFullScreen=true;if(this.supportsNativeFullScreen()){var b=this;function c(f){if(b.isFullScreen()){b.inFullScreen=true;b.obj.style.width="100%";b.obj.style.height="100%";a=b.obj.offsetWidth;d=b.obj.offsetHeight;b.dispatchEvent(new s7sdk.event.ResizeEvent(s7sdk.event.ResizeEvent.COMPONENT_RESIZE,a,d,false));b.dispatchEvent(new s7sdk.event.ResizeEvent(s7sdk.event.ResizeEvent.FULLSCREEN_RESIZE,a,d,false));console.log("we're in full screen")}else{b.inFullScreen=false;b.obj.style.width=b.storedWidth+"px";b.obj.style.height=b.storedHeight+"px";s7sdk.Event.removeDOMListener(document,b.vendorPrefix.toLowerCase()+"fullscreenchange",c,true);b.dispatchEvent(new s7sdk.event.ResizeEvent(s7sdk.event.ResizeEvent.COMPONENT_RESIZE,b.storedWidth,b.storedHeight,false));b.dispatchEvent(new s7sdk.event.ResizeEvent(s7sdk.event.ResizeEvent.FULLSCREEN_RESIZE,b.storedWidth,b.storedHeight,false));console.log("we're not in full screen")}}s7sdk.Event.addDOMListener(document,this.vendorPrefix.toLowerCase()+"fullscreenchange",c,true);this.vendorPrefix===""?this.obj.requestFullScreen():this.obj[this.vendorPrefix.toLowerCase()+"RequestFullScreen"]()}else{this.storedPosition=this.obj.style.position;this.moveToTopLeft();this.resize(this.getInnerSize().width,this.getInnerSize().height);a=this.getInnerSize().width;d=this.getInnerSize().height;this.dispatchEvent(new s7sdk.event.ResizeEvent(s7sdk.event.ResizeEvent.FULLSCREEN_RESIZE,a,d,false))}};s7sdk.Container.prototype.getInnerSize=function(){var a=new Object();if(typeof(window.innerWidth)=="number"&&this.isMobile()){a.width=window.innerWidth;a.height=window.innerHeight}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)&&document.documentElement.clientWidth>0&&document.documentElement.clientHeight>0){a.width=document.documentElement.clientWidth;a.height=document.documentElement.clientHeight}else{if(document.body.clientHeight&&document.body.clientWidth&&(document.body.clientHeight>0&&document.body.clientWidth>0)){a.width=document.body.clientWidth;a.height=document.body.clientHeight}}}return a};s7sdk.Container.prototype.isMobile=function(){var a=navigator.userAgent.toLowerCase();return(a.match(/(iphone|ipod|ipad|android)/))};s7sdk.Container.prototype.moveToTopLeft=function(){var b=s7sdk.Util.getObjPos(this.obj);if(this.isMobile()){var a={x:typeof(window.scrollX)!="undefined"?window.scrollX:document.documentElement.scrollLeft,y:typeof(window.scrollY)!="undefined"?window.scrollY:document.documentElement.scrollTop};this.obj.style.left=(-b.x+a.x)+"px";this.obj.style.top=(-b.y+a.y)+"px"}else{this.obj.style.position="fixed";this.obj.style.left="0px";this.obj.style.top="0px"}};s7sdk.Container.prototype.cancelFullScreen=function(){this.inFullScreen=false;if(this.supportsNativeFullScreen()){this.vendorPrefix===""?document.cancelFullScreen():document[this.vendorPrefix.toLowerCase()+"CancelFullScreen"]()}else{this.obj.style.position=this.storedPosition;this.resize(this.storedWidth,this.storedHeight);this.dispatchEvent(new s7sdk.event.ResizeEvent(s7sdk.event.ResizeEvent.FULLSCREEN_RESIZE,this.storedWidth,this.storedHeight,false))}};s7sdk.Container.prototype.isFullScreen=function(){var a;switch(this.vendorPrefix.toLowerCase()){case"":a=document.fullScreen;break;case"webkit":a=document.webkitIsFullScreen;break;default:a=document[this.vendorPrefix.toLowerCase()+"FullScreen"]}return(typeof a!="undefined"?a:this.inFullScreen)};s7sdk.Container.prototype.addEventListener=function(c,b,a){s7sdk.Base.prototype.addEventListener.apply(this,[c,b,a])};(function addDefaultCSS(){var a=s7sdk.Util.css.createCssRuleText(".s7container",{overflow:"hidden"});s7sdk.Util.css.addDefaultCSS(a,"Container")})()};