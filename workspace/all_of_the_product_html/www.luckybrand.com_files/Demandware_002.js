if(typeof(Demandware)=="undefined"){Demandware={}}if(!Demandware.Gigya){Demandware.Gigya={}}Demandware.Gigya.ShareBar=new function(){var h=this;var a=null;var n=null;var j=null;var m=null;var f=null;var i=null;var p=null;var b=null;var k=null;var c=null;new function(){$(document).bind("ready",e);$(window).bind("unload",l)};function e(){o();d()}function o(){a=$("#divGigyaShareBarParams");n=a.find("#txtGigyaShareBarTitle").val();j=a.find("#txtGigyaShareBarDescription").val();m=a.find("#txtGigyaShareBarImageUrl").val();f=a.find("#txtGigyaShareBarLinkUrl").val();i=a.find("#txtGigyaShareBarButtons").val();p=a.find("#txtGigyaShareBarLayout").val()||"horizontal";b=a.find("#txtGigyaShareBarCounts").val()||"right";k=a.find("#txtGigyaShareBarIconOnly").val()||"true";c=a.find("#txtGigyaShareBarMessage").val()}function d(){var s=new gigya.services.socialize.UserAction();s.setTitle(n);if(j.length>100){j=j.substring(0,96)+"..."}s.setDescription(j);s.setLinkBack(f);s.setActionName(c);var r={type:"image",src:m,href:f};s.addMediaItem(r);var q={userAction:s,context:s,shareButtons:i,layout:p,showCounts:b,iconsOnly:k,containerID:"divGigyaShareBar"};gigya.services.socialize.showShareBarUI(q)}function g(q){alert("An error has occured while trying to share: "+q.errorCode+"; "+q.errorMessage)}function l(){h=a=null}};