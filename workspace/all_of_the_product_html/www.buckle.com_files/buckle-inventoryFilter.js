var activeSku;var displaySku;(function(a){a.inventoryFilter=function(k,l,m,e,d,i){var j=function(){var n=a(m).val();var o;a.each(k.SkuOptions,function(){if(this.value==n){o=this;if(this.skuCode!==undefined){activeSku=this.skuCode}return false}});return o};var f=function(n){if(n!==null&&n!==undefined){return c(n.sizes,k.AllSkuOptions.allSizes)}else{var o=new Array();a.each(k.SkuOptions,function(){if(this.sizes!==undefined){a.each(this.sizes,function(){if(o[this.value]===undefined){o[this.value]=this}})}});return c(o,k.AllSkuOptions.allSizes)}};var h=function(p){if(p!==null&&p!==undefined){var o=a(e);var n=o.val()!==""&&o.val()!==a("option:first",o);var q=new Array();a.each(p,function(){if(this.dimensions!==undefined){if(n&&this.value==o.val()||!n){a.each(this.dimensions,function(){if(q[this.value]===undefined){q[this.value]=this}})}}});return c(q,k.AllSkuOptions.allDims)}else{return null}};var c=function(q,p){if(q!==null&&q!==undefined&&p!==null&&p!==undefined){var o=new Array();var n=0;a.each(p,function(){var r=this.value;a.each(q,function(){var s=this;if(s.value==r){o[n]=s;n++;return false}})});return o}else{return null}};var g=function(o,p){if(o!==undefined&&o!==null&&p!==undefined&&p!==null){var n=o.val();var q=a("option:first",o);o.empty().removeData("skuCode");if(q.val()!=="1"&&q.html()!==""){o.append(q)}a.each(p,function(){var r=a("<option />").val(this.value).html(this.displayValue);if(this.value==n){r.attr("selected","selected");if(this.skuCode!==""&&this.skuCode!==undefined){activeSku=this.skuCode}}o.append(r)})}};var b=function(){var p=10;if(activeSku!==undefined){a.each(l.SkuInventory,function(){if(this.skuCode==activeSku){p=this.inventory;displaySku=this.displaySkuCode;return false}})}if(p>10){p=10}var o=new Object();for(var n=1;n<=p;n++){o[n]=new Object();o[n].value=n;o[n].displayValue=n}g(a(i),o)};a(m+","+e+","+d).bind("change",function(){var o=j();var p=f(o);var n=h(p);g(a(e),p);g(a(d),n);b()});if((a(e)!==undefined&&a(e).val()!="")||(a(d)!==undefined&&a(d).val()!="")){a(e).trigger("change")}if((a(m)!==undefined&&a(m).val()!="")||(a(d)!==undefined&&a(d).val()!="")){a(m).trigger("change")}}})(jQuery);