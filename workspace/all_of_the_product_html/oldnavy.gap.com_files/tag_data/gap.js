window.jQuery||function(){var A=document.createElement("script");A.type="text/javascript";A.src=("https:"===document.location.protocol?"https://":"http://")+"ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js";var u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(A,u)}();
function __xx_checkJquery(){if(window.jQuery){(function(){var a=!1,c=/var xyz/.test(function(){})?/\b_super\b/:/[\D|\d]*/;this.__tmClass=function(){};window.__tmClass=this.__tmClass;__tmClass.extend=function(b){function d(){!a&&this.init&&this.init.apply(this,arguments)}var f=this.prototype;a=!0;var h=new this;a=!1;for(var n in b)h[n]="function"==typeof b[n]&&"function"==typeof f[n]&&c.test(b[n])?function(a,b){return function(){var c=this._super;this._super=f[a];var d=b.apply(this,arguments);this._super=
c;return d}}(n,b[n]):b[n];d.prototype=h;d.prototype.constructor=d;d.extend=arguments.callee;return window.__tmClass=d}})();window.triggermail={};window.console?"undefined"==typeof window.console.debug&&(console.debug=function(){}):console={debug:function(){},error:function(){},log:function(){}};window.TM_API_HOST="triggeredmail.appspot.com/api";window.triggermail.lytics=[];triggermail.lytics.__SV=1.2;(function(a){function c(){c.done||(u=c.done=!0,J=!1,e.each(B,function(g){g._dom_loaded()}))}var b=
Array.prototype,d=Object.prototype,f=b.slice,h=d.toString,n=d.hasOwnProperty,q=window.console,z=window.navigator,m=window.document,l=z.userAgent,x=["__mps","__mpa","__mpap","$people_distinct_id","__alias"],w=!1;try{w=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(E){}var v="https:"==m.location.protocol?"https://":"http://",d=a&&a.__SV||0,C=w,J=!C&&-1==l.indexOf("MSIE"),e={},D=!1,A={api_host:v+TM_API_HOST,cross_subdomain_cookie:!0,cookie_name:"",loaded:function(){},store_google:!1,
save_referrer:!0,test:!1,verbose:!1,img:!1,track_pageview:!0,debug:!1,live_demo:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_cookie:!1,ip:!0},u=!1;(function(){var g=b.forEach,a=b.indexOf,y=Array.isArray,c={},d=e.each=function(a,r,y){if(null!=a)if(g&&a.forEach===g)a.forEach(r,y);else if(a.length===+a.length)for(var b=0,e=a.length;b<e&&!(b in a&&r.call(y,a[b],b,a)===c);b++);else for(b in a)if(n.call(a,b)&&r.call(y,a[b],b,a)===c)break};e.extend=function(g){d(f.call(arguments,1),
function(a){for(var r in a)void 0!==a[r]&&(g[r]=a[r])});return g};e.isArray=y||function(g){return"[object Array]"===h.call(g)};e.isFunction=function(g){try{return/^\s*\bfunction\b/.test(g)}catch(a){return!1}};e.isArguments=function(g){return!(!g||!n.call(g,"callee"))};e.toArray=function(g){return!g?[]:g.toArray?g.toArray():e.isArray(g)||e.isArguments(g)?f.call(g):e.values(g)};e.values=function(g){var a=[];if(null==g)return a;d(g,function(g){a[a.length]=g});return a};e.identity=function(g){return g};
e.include=function(g,y){var b=!1;if(null==g)return b;if(a&&g.indexOf===a)return-1!=g.indexOf(y);d(g,function(g){if(b||(b=g===y))return c});return b};e.includes=function(g,a){return-1!==g.indexOf(a)}})();e.inherit=function(g,a){g.prototype=new a;g.prototype.constructor=g;g.superclass=a.prototype;return g};e.isObject=function(g){return g===Object(g)&&!e.isArray(g)};e.isEmptyObject=function(g){if(e.isObject(g)){for(var a in g)if(n.call(g,a))return!1;return!0}return!1};e.isUndefined=function(g){return void 0===
g};e.isString=function(g){return"[object String]"==h.call(g)};e.isDate=function(g){return"[object Date]"==h.call(g)};e.isNumber=function(g){return"[object Number]"==h.call(g)};e.encodeDates=function(g){e.each(g,function(a,y){e.isDate(a)?g[y]=e.formatDate(a):e.isObject(a)&&(g[y]=e.encodeDates(a))});return g};e.formatDate=function(g){function a(g){return 10>g?"0"+g:g}return g.getUTCFullYear()+"-"+a(g.getUTCMonth()+1)+"-"+a(g.getUTCDate())+"T"+a(g.getUTCHours())+":"+a(g.getUTCMinutes())+":"+a(g.getUTCSeconds())};
e.strip_empty_properties=function(g){var a={};e.each(g,function(g,b){e.isString(g)&&0<g.length&&(a[b]=g)});return a};e.truncate=function(g,a){var b;"string"===typeof g?b=g.slice(0,a):e.isArray(g)?(b=[],e.each(g,function(g){b.push(e.truncate(g,a))})):e.isObject(g)?(b={},e.each(g,function(g,c){b[c]=e.truncate(g,a)})):b=g;return b};e.JSONEncode=function(){return function(g){var a=function(g){var a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};a.lastIndex=0;return a.test(g)?'"'+g.replace(a,function(g){var a=r[g];return"string"===typeof a?a:"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+g+'"'},b=function(g,e){var c="",d=0,f=d="",f=0,m=c,k=[],l=e[g];switch(typeof l){case "string":return a(l);case "number":return isFinite(l)?String(l):"null";case "boolean":case "null":return String(l);case "object":if(!l)return"null";c+="    ";k=[];if("[object Array]"===
h.apply(l)){f=l.length;for(d=0;d<f;d+=1)k[d]=b(d,l)||"null";return f=0===k.length?"[]":c?"[\n"+c+k.join(",\n"+c)+"\n"+m+"]":"["+k.join(",")+"]"}for(d in l)n.call(l,d)&&(f=b(d,l))&&k.push(a(d)+(c?": ":":")+f);return f=0===k.length?"{}":c?"{"+k.join(",")+""+m+"}":"{"+k.join(",")+"}"}};return b("",{"":g})}}();e.JSONDecode=function(){var g,a,b={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},c,e=function(a){throw{name:"SyntaxError",message:a,at:g,text:c};},d=function(b){b&&b!==a&&e("Expected '"+
b+"' instead of '"+a+"'");a=c.charAt(g);g+=1;return a},f=function(){var g;g="";"-"===a&&(g="-",d("-"));for(;"0"<=a&&"9">=a;)g+=a,d();if("."===a)for(g+=".";d()&&"0"<=a&&"9">=a;)g+=a;if("e"===a||"E"===a){g+=a;d();if("-"===a||"+"===a)g+=a,d();for(;"0"<=a&&"9">=a;)g+=a,d()}g=+g;if(isFinite(g))return g;e("Bad number")},m=function(){var g,c,f="",G;if('"'===a)for(;d();){if('"'===a)return d(),f;if("\\"===a)if(d(),"u"===a){for(c=G=0;4>c;c+=1){g=parseInt(d(),16);if(!isFinite(g))break;G=16*G+g}f+=String.fromCharCode(G)}else if("string"===
typeof b[a])f+=b[a];else break;else f+=a}e("Bad string")},h=function(){for(;a&&" ">=a;)d()},k=function(){switch(a){case "t":return d("t"),d("r"),d("u"),d("e"),!0;case "f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case "n":return d("n"),d("u"),d("l"),d("l"),null}e("Unexpected '"+a+"'")},l;l=function(){h();switch(a){case "{":var g;a:{var b={};if("{"===a){d("{");h();if("}"===a){d("}");g=b;break a}for(;a;){g=m();h();d(":");Object.hasOwnProperty.call(b,g)&&e('Duplicate key "'+g+'"');b[g]=l();h();if("}"===
a){d("}");g=b;break a}d(",");h()}}e("Bad object");g=void 0}return g;case "[":a:{g=[];if("["===a){d("[");h();if("]"===a){d("]");break a}for(;a;){g.push(l());h();if("]"===a){d("]");break a}d(",");h()}}e("Bad array");g=void 0}return g;case '"':return m();case "-":return f();default:return"0"<=a&&"9">=a?f():k()}};return function(b){c=b;g=0;a=" ";b=l();h();a&&e("Syntax error");return b}}();e.base64Encode=function(g){var a,b,c,d,f=0,m=0,h="",h=[];if(!g)return g;g=e.utf8Encode(g);do a=g.charCodeAt(f++),
b=g.charCodeAt(f++),c=g.charCodeAt(f++),d=a<<16|b<<8|c,a=d>>18&63,b=d>>12&63,c=d>>6&63,d&=63,h[m++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d);while(f<g.length);h=h.join("");switch(g.length%3){case 1:h=h.slice(0,-2)+"==";break;case 2:h=
h.slice(0,-1)+"="}return h};e.utf8Encode=function(g){g=(g+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var a="",b,c,e=0,d;b=c=0;e=g.length;for(d=0;d<e;d++){var f=g.charCodeAt(d),m=null;128>f?c++:m=127<f&&2048>f?String.fromCharCode(f>>6|192,f&63|128):String.fromCharCode(f>>12|224,f>>6&63|128,f&63|128);null!==m&&(c>b&&(a+=g.substring(b,c)),a+=m,b=c=d+1)}c>b&&(a+=g.substring(b,g.length));return a};e.UUID=function(){var g=function(){for(var g=1*new Date,a=0;g==1*new Date;)a++;return g.toString(16)+a.toString(16)},
a=function(g){function a(g,b){var e,d=0;for(e=0;e<b.length;e++)d|=c[e]<<8*e;return g^d}var b,c=[],e=0;for(g=0;g<l.length;g++)b=l.charCodeAt(g),c.unshift(b&255),4<=c.length&&(e=a(e,c),c=[]);0<c.length&&(e=a(e,c));return e.toString(16)};return function(){var b=(screen.height*screen.width).toString(16);return g()+"-"+Math.random().toString(16).replace(".","")+"-"+a()+"-"+b+"-"+g()}}();e.isBlockedUA=function(){return/(google web preview|baiduspider|yandexbot)/i.test(l)?!0:!1};e.HTTPBuildQuery=function(g,
a){var b,c,d=[];"undefined"===typeof a&&(a="&");e.each(g,function(g,a){b=encodeURIComponent(g.toString());c=encodeURIComponent(a);d[d.length]=c+"="+b});return d.join(a)};e.getQueryParam=function(g,a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=RegExp("[\\?&]"+a+"=([^&#]*)").exec(g);return null===b||b&&"string"!==typeof b[1]&&b[1].length?"":decodeURIComponent(b[1]).replace(/\+/g," ")};e.cookie={get:function(a){a+="=";for(var b=m.cookie.split(";"),c=0;c<b.length;c++){for(var e=b[c];" "==e.charAt(0);)e=
e.substring(1,e.length);if(0==e.indexOf(a))return decodeURIComponent(e.substring(a.length,e.length))}return null},parse:function(a){var b;try{b=e.JSONDecode(e.cookie.get(a))||{}}catch(c){}return b},set:function(a,b,c,e){var d="",f="";e&&(d=(d=(d=m.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i))?d[0]:"")?"; domain=."+d:"");c&&(f=new Date,f.setTime(f.getTime()+864E5*c),f="; expires="+f.toGMTString());m.cookie=a+"="+encodeURIComponent(b)+f+"; path=/"+d},remove:function(a,b){e.cookie.set(a,
"",-1,b)}};e.register_event=function(){function a(g,c,d){return function(a){if(a=a||b(window.event)){var f=!0,m;e.isFunction(d)&&(m=d(a));a=c.call(g,a);if(!1===m||!1===a)f=!1;return f}}}function b(a){a&&(a.preventDefault=b.preventDefault,a.stopPropagation=b.stopPropagation);return a}b.preventDefault=function(){this.returnValue=!1};b.stopPropagation=function(){this.cancelBubble=!0};return function(b,c,e,d){b?b.addEventListener&&!d?b.addEventListener(c,e,!1):(c="on"+c,b[c]=a(b,e,b[c])):t.error("No valid element provided to register_event")}}();
e.dom_query=function(){function a(g,c){return 0<=(" "+g.className+" ").replace(b," ").indexOf(" "+c+" ")}var b=/[\t\r\n]/g;return function(b){if(!m.getElementsByTagName)return[];b=b.split(" ");for(var c,d=Array(m),f=0;f<b.length;f++)if(c=b[f].replace(/^\s+/,"").replace(/\s+$/,""),-1<c.indexOf("#")){c=c.split("#");var r=c[0],d=m.getElementById(c[1]);if(!d||r&&d.nodeName.toLowerCase()!=r)return[];d=Array(d)}else if(-1<c.indexOf(".")){c=c.split(".");var r=c[0],h=c[1];r||(r="*");c=[];for(var k=0,l=0;l<
d.length;l++){var n;n="*"==r?d[l].all?d[l].all:d[l].getElementsByTagName("*"):d[l].getElementsByTagName(r);for(var q=0;q<n.length;q++)c[k++]=n[q]}d=[];for(k=r=0;k<c.length;k++)c[k].className&&(e.isString(c[k].className)&&a(c[k],h))&&(d[r++]=c[k])}else if(c.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){var r=RegExp.$1,p=RegExp.$2,h=RegExp.$3,x=RegExp.$4;r||(r="*");c=[];for(l=k=0;l<d.length;l++){n="*"==r?d[l].all?d[l].all:d[l].getElementsByTagName("*"):d[l].getElementsByTagName(r);for(q=
0;q<n.length;q++)c[k++]=n[q]}d=[];r=0;switch(h){case "=":h=function(a){return a.getAttribute(p)==x};break;case "~":h=function(a){return a.getAttribute(p).match(RegExp("\\b"+x+"\\b"))};break;case "|":h=function(a){return a.getAttribute(p).match(RegExp("^"+x+"-?"))};break;case "^":h=function(a){return 0==a.getAttribute(p).indexOf(x)};break;case "$":h=function(a){return a.getAttribute(p).lastIndexOf(x)==a.getAttribute(p).length-x.length};break;case "*":h=function(a){return-1<a.getAttribute(p).indexOf(x)};
break;default:h=function(a){return a.getAttribute(p)}}d=[];for(k=r=0;k<c.length;k++)h(c[k])&&(d[r++]=c[k])}else{r=c;c=[];for(l=k=0;l<d.length;l++){n=d[l].getElementsByTagName(r);for(q=0;q<n.length;q++)c[k++]=n[q]}d=c}return d}}();e.info={campaignParams:function(){var a="",b={};e.each(["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],function(c){a=e.getQueryParam(m.URL,c);a.length&&(b[c]=a)});return b},searchEngine:function(a){return 0===a.search("https?://(.*)google.([^/?]*)")?"google":
0===a.search("https?://(.*)bing.com")?"bing":0===a.search("https?://(.*)yahoo.com")?"yahoo":0===a.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(a){var b=e.info.searchEngine(a),c={};null!==b&&(c.g_search_engine=b,a=e.getQueryParam(a,"yahoo"!=b?"q":"p"),a.length&&(c.mp_keyword=a));return c},browser:function(){var a=z.vendor||"";return window.opera?e.includes(l,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(l)?"BlackBerry":e.includes(l,"Chrome")?"Chrome":
e.includes(a,"Apple")?e.includes(l,"Mobile")?"Mobile Safari":"Safari":e.includes(l,"Android")?"Android Mobile":e.includes(l,"Konqueror")?"Konqueror":e.includes(l,"Firefox")?"Firefox":e.includes(l,"MSIE")?"Internet Explorer":e.includes(l,"Gecko")?"Mozilla":""},os:function(){return/Windows/i.test(l)?/Phone/.test(l)?"Windows Mobile":"Windows":/(iPhone|iPad|iPod)/.test(l)?"iOS":/Android/.test(l)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(l)?"BlackBerry":/Mac/i.test(l)?"Mac OS X":/Linux/.test(l)?"Linux":
""},device:function(){return/iPhone/.test(l)?"iPhone":/iPad/.test(l)?"iPad":/iPod/.test(l)?"iPod Touch":/(BlackBerry|PlayBook|BB10)/i.test(l)?"BlackBerry":/Windows Phone/i.test(l)?"Windows Phone":/Android/.test(l)?"Android":""},referringDomain:function(a){a=a.split("/");return 3<=a.length?a[2]:""},properties:function(){return e.strip_empty_properties({os:e.info.os(),browser:e.info.browser(),device:e.info.device(),mp_lib:"web"})},people_properties:function(){return e.strip_empty_properties({$os:e.info.os(),
$browser:e.info.browser()})},pageviewInfo:function(a){return e.strip_empty_properties({mp_page:a,mp_referrer:m.referrer,mp_browser:e.info.browser(),mp_platform:e.info.os()})}};var t={log:function(){if(D&&!e.isUndefined(q)&&q)try{q.log.apply(q,arguments)}catch(a){e.each(arguments,function(a){q.log(a)})}},error:function(){if(D&&!e.isUndefined(q)&&q){var a=["Mixpanel error:"].concat(e.toArray(arguments));try{q.error.apply(q,a)}catch(b){e.each(a,function(a){q.error(a)})}}},critical:function(){if(!e.isUndefined(q)&&
q){var a=["Mixpanel error:"].concat(e.toArray(arguments));try{q.error.apply(q,a)}catch(b){e.each(a,function(a){q.error(a)})}}}},w=function(){};w.prototype.create_properties=function(){};w.prototype.event_handler=function(){};w.prototype.after_track_handler=function(){};w.prototype.init=function(a){this.mp=a;return this};w.prototype.track=function(a,b,c,d){var f=this,m=e.dom_query(a);if(0==m.length)t.error("The DOM query ("+a+") returned 0 elements");else return e.each(m,function(a){e.register_event(a,
this.override_event,function(a){var g={},e=f.create_properties(c,this),m=f.mp.get_config("track_links_timeout");f.event_handler(a,this,g);window.setTimeout(f.track_callback(d,e,g,!0),m);f.mp.track(b,e,f.track_callback(d,e,g))})},this),!0};w.prototype.track_callback=function(a,b,c,d){d=d||!1;var e=this;return function(){c.callback_fired||(c.callback_fired=!0,a&&!1===a(d,b)||e.after_track_handler(b,c,d))}};w.prototype.create_properties=function(a,b){return"function"===typeof a?a(b):e.extend({},a)};
var F=function(){this.override_event="click"};e.inherit(F,w);F.prototype.create_properties=function(a,b){var c=F.superclass.create_properties.apply(this,arguments);b.href&&(c.url=b.href);return c};F.prototype.event_handler=function(a,b,c){c.new_tab=2===a.which||a.metaKey||"_blank"===b.target;c.href=b.href;c.new_tab||a.preventDefault()};F.prototype.after_track_handler=function(a,b,c){b.new_tab||setTimeout(function(){window.location=b.href},0)};var H=function(){this.override_event="submit"};e.inherit(H,
w);H.prototype.event_handler=function(a,b,c){c.element=b;a.preventDefault()};H.prototype.after_track_handler=function(a,b,c){setTimeout(function(){b.element.submit()},0)};var p=function(a){this.props={};this.campaign_params_saved=!1;this.name=a.cookie_name?"mp_"+a.cookie_name:"mp_"+a.token+"_mixpanel";this.load();this.update_config(a);this.upgrade(a);this.save()};p.prototype.properties=function(){var a={};e.each(this.props,function(b,c){e.include(x,c)||(a[c]=b)});return a};p.prototype.load=function(){if(!this.disabled){var a=
e.cookie.parse(this.name);a&&(this.props=e.extend({},a))}};p.prototype.upgrade=function(a){var b=a.upgrade,c;b&&(c="mp_super_properties","string"===typeof b&&(c=b),b=e.cookie.parse(c),e.cookie.remove(c),e.cookie.remove(c,!0),b&&(this.props=e.extend(this.props,b.all,b.events)));if(!a.cookie_name&&"mixpanel"!==a.name&&(c="mp_"+a.token+"_"+a.name,b=e.cookie.parse(c)))e.cookie.remove(c),e.cookie.remove(c,!0),this.register_once(b)};p.prototype.save=function(){this.disabled||e.cookie.set(this.name,e.JSONEncode(this.props),
this.expire_days,this.cross_subdomain)};p.prototype.remove=function(){e.cookie.remove(this.name,!1);e.cookie.remove(this.name,!0)};p.prototype.clear=function(){this.remove();this.props={}};p.prototype.register_once=function(a,b,c){return e.isObject(a)?("undefined"===typeof b&&(b="None"),this.expire_days="undefined"===typeof c?this.default_expiry:c,e.each(a,function(a,g){if(!this.props[g]||this.props[g]===b)this.props[g]=a},this),this.save(),!0):!1};p.prototype.register=function(a,b){return e.isObject(a)?
(this.expire_days="undefined"===typeof b?this.default_expiry:b,e.extend(this.props,a),this.save(),!0):!1};p.prototype.unregister=function(a){a in this.props&&(delete this.props[a],this.save())};p.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(e.info.campaignParams()),this.campaign_params_saved=!0)};p.prototype.update_search_keyword=function(a){this.register(e.info.searchInfo(a))};p.prototype.update_referrer_info=function(a){this.register_once({$initial_referrer:a||
"$direct",$initial_referring_domain:e.info.referringDomain(a)||"$direct"},"")};p.prototype.get_referrer_info=function(){return e.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};p.prototype.safe_merge=function(a){e.each(this.props,function(b,c){c in a||(a[c]=b)});return a};p.prototype.update_config=function(a){this.default_expiry=this.expire_days=a.cookie_expiration;this.set_disabled(a.disable_cookie);this.set_cross_subdomain(a.cross_subdomain_cookie)};
p.prototype.set_disabled=function(a){(this.disabled=a)&&this.remove()};p.prototype.set_cross_subdomain=function(a){a!==this.cross_subdomain&&(this.cross_subdomain=a,this.remove(),this.save())};p.prototype.get_cross_subdomain=function(){return this.cross_subdomain};p.prototype._add_to_people_queue=function(a,b){var c=this._get_queue_key(a),d=b[a],f=this._get_or_create_queue("$set"),m=this._get_or_create_queue("$add"),h=this._get_or_create_queue("$append",[]);"__mps"===c?(e.extend(f,d),this._pop_from_people_queue("$add",
d)):"__mpa"===c?e.each(d,function(a,b){b in f?f[b]+=a:(b in m||(m[b]=0),m[b]+=a)},this):"__mpap"===c&&h.push(d);t.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):");t.log(b);this.save()};p.prototype._pop_from_people_queue=function(a,b){var c=this._get_queue(a);e.isUndefined(c)||(e.each(b,function(a,b){delete c[b]},this),this.save())};p.prototype._get_queue_key=function(a){if("$set"===a)return"__mps";if("$add"===a)return"__mpa";if("$append"===a)return"__mpap";t.error("Invalid queue:",a)};p.prototype._get_queue=
function(a){return this.props[this._get_queue_key(a)]};p.prototype._get_or_create_queue=function(a,b){var c=this._get_queue_key(a);b=e.isUndefined(b)?{}:b;return this.props[c]||(this.props[c]=b)};var I=function(b,c,d){var f,m="triggermail.lytics"===d?a:a[d];if(m&&!e.isArray(m))t.error("You have already initialized "+d);else return f=new k,f._init(b,c,d),f.people=new s,f.people._init(f),D=D||f.get_config("debug"),e.isUndefined(m)||(f._execute_array.call(f.people,m.people),f._execute_array(m)),f},k=
function(){};k.prototype.init=function(b,c,d){if("undefined"===typeof d)t.error("You must name your new library: init(token, config, name)");else if("triggermail.lytics"===d)t.error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");else return b=I(b,c,d),a[d]=b,b._loaded(),b};k.prototype._init=function(a,b,c){this.__loaded=!0;this.config={};this.set_config(e.extend({},A,b,{name:c,token:a,callback_fn:("triggermail.lytics"===c?c:"triggermail.lytics."+c)+
"._jsc"}));this._jsc=function(){};this.__dom_loaded_queue=[];this.__request_queue=[];this.__disabled_events=[];this._flags={disable_all_events:!1,identify_called:!1};this.cookie=new p(this.config);this.register_once({distinct_id:e.UUID()},"")};k.prototype._loaded=function(){this.get_config("loaded")(this);this.get_config("track_pageview")&&this.track_pageview()};k.prototype._dom_loaded=function(){e.each(this.__dom_loaded_queue,function(a){this._track_dom.apply(this,a)},this);e.each(this.__request_queue,
function(a){this._send_request.apply(this,a)},this);delete this.__dom_loaded_queue;delete this.__request_queue};k.prototype._track_dom=function(a,b){if(this.get_config("img"))return t.error("You can't use DOM tracking functions with img = true."),!1;if(!u)return this.__dom_loaded_queue.push([a,b]),!1;var c=(new a).init(this);return c.track.apply(c,b)};k.prototype._prepare_callback=function(a,b){if(e.isUndefined(a))return null;if(C)return function(c){a(c,b)};var c=this._jsc,d=""+Math.floor(1E8*Math.random()),
f=this.get_config("callback_fn")+'["'+d+'"]';c[d]=function(e){delete c[d];a(e,b)};return f};k.prototype._send_request=function(a,b,c){if(J)this.__request_queue.push(arguments);else{var d=this.get_config("verbose");this.get_config("test")&&(b.test=1);d&&(b.verbose=1);this.get_config("img")&&(b.img=1);c&&!C&&(b.callback=c);b.ip=this.get_config("ip")?1:0;b._=(new Date).getTime().toString();if("img"in b){var f=m.createElement("img");f.src=a;m.body.appendChild(f)}else if(C){var h=new XMLHttpRequest;h.open("POST",
a,!0);h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");h.withCredentials=!0;h.onreadystatechange=function(a){4===h.readyState&&(200===h.status?c&&(d?c(e.JSONDecode(h.responseText)):c(Number(h.responseText))):(a="Bad HTTP status: "+h.status+" "+h.statusText,t.error(a),c&&(d?c({status:0,error:a}):c(0))))};h.send(e.HTTPBuildQuery(b))}else{a+="?"+e.HTTPBuildQuery(b);f=m.createElement("script");f.type="text/javascript";f.async=!0;f.defer=!0;f.src=a;var k=m.getElementsByTagName("script")[0];
k.parentNode.insertBefore(f,k)}}};k.prototype._execute_array=function(a){var b,c=[],d=[],f=[];e.each(a,function(a){a&&(b=a[0],"function"===typeof a?a.call(this):e.isArray(a)&&"alias"===b?c.push(a):e.isArray(a)&&-1!=b.indexOf("track")&&"function"===typeof this[b]?f.push(a):d.push(a))},this);a=function(a,b){e.each(a,function(a){this[a[0]].apply(this,a.slice(1))},b)};a(c,this);a(d,this);a(f,this)};k.prototype.push=function(a){this._execute_array([a])};k.prototype.disable=function(a){"undefined"===typeof a?
this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(a)};k.prototype.track=function(a,b,c){if("undefined"===typeof a)t.error("No event name provided to mixpanel.track");else if(e.isBlockedUA()||this._flags.disable_all_events||e.include(this.__disabled_events,a))"undefined"!==typeof c&&c(0);else{b=b||{};b.token=b.token||this.get_config("token");this.cookie.update_search_keyword(m.referrer);this.get_config("store_google")&&this.cookie.update_campaign_params();this.get_config("save_referrer")&&
this.cookie.update_referrer_info(m.referrer);b=e.extend({},e.info.properties(),this.cookie.properties(),b);b={event:a,properties:b};D&&(b.validate=1);b=e.truncate(b,1023);var d=e.JSONEncode(b),d=e.base64Encode(d);t.log("MIXPANEL REQUEST:");t.log(b);payload={data:d};this.get_config("live_demo")&&(payload.live_demo=!0);this._send_request(this.get_config("api_host")+"/track/"+a,payload,this._prepare_callback(c,b));return b}};k.prototype.track_pageview=function(a){"undefined"===typeof a&&(a=m.location.href);
this.track("mp_page_view",e.info.pageviewInfo(a))};k.prototype.track_links=function(){return this._track_dom.call(this,F,arguments)};k.prototype.track_forms=function(){return this._track_dom.call(this,H,arguments)};k.prototype.register=function(a,b){this.cookie.register(a,b)};k.prototype.register_once=function(a,b,c){this.cookie.register_once(a,b,c)};k.prototype.unregister=function(a){this.cookie.unregister(a)};k.prototype._register_single=function(a,b){var c={};c[a]=b;this.register(c)};k.prototype.identify=
function(a,b,c,d){a!=this.get_distinct_id()&&a!=this.get_property("__alias")&&(this.unregister("__alias"),this._register_single("distinct_id",a));this._flags.identify_called=!0;this.people._flush(b,c,d)};k.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};k.prototype.alias=function(a,b){if(a===this.get_property("$people_distinct_id"))return t.critical("Attempting to create alias for existing People user - aborting."),-2;var c=this;e.isUndefined(b)&&(b=this.get_distinct_id());
if(a!==b)return this._register_single("__alias",a),this.track("$create_alias",{alias:a,distinct_id:b},function(b){c.identify(a)});t.error("alias matches current distinct_id - skipping api call.");this.identify(a);return-1};k.prototype.name_tag=function(a){this._register_single("mp_name_tag",a)};k.prototype.set_config=function(a){e.isObject(a)&&(e.extend(this.config,a),this.cookie&&this.cookie.update_config(this.config),D=D||this.get_config("debug"))};k.prototype.get_config=function(a){return this.config[a]};
k.prototype.get_property=function(a){return this.cookie.props[a]};k.prototype.toString=function(){var a=this.get_config("name");"triggermail.lytics"!==a&&(a="triggermail.lytics."+a);return a};var s=function(){};s.prototype._init=function(a){this._mixpanel=a};s.prototype.set=function(a,b,c){var d={},f={};e.isObject(a)?(e.each(a,function(a,b){"$distinct_id"==b||"$token"==b||(f[b]=a)}),c=b):f[a]=b;this._get_config("save_referrer")&&this._mixpanel.cookie.update_referrer_info(m.referrer);f=e.extend({},
e.info.people_properties(),this._mixpanel.cookie.get_referrer_info(),f);d.$set=f;return this._send_request(d,c)};s.prototype.increment=function(a,b,c){var d={},f={};e.isObject(a)?(e.each(a,function(a,b){"$distinct_id"==b||"$token"==b||(isNaN(parseFloat(a))?t.error("Invalid increment value passed to mixpanel.people.increment - must be a number"):f[b]=a)}),c=b):(e.isUndefined(b)&&(b=1),f[a]=b);d.$add=f;return this._send_request(d,c)};s.prototype.append=function(a,b,c){var d={},f={};e.isObject(a)?(e.each(a,
function(a,b){"$distinct_id"==b||"$token"==b||(f[b]=a)}),c=b):f[a]=b;d.$append=f;return this._send_request(d,c)};s.prototype.track_charge=function(a,b,c){if(!e.isNumber(a)&&(a=parseFloat(a),isNaN(a))){t.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",e.extend({$amount:a},b),c)};s.prototype.clear_charges=function(a){return this.set("$transactions",[],a)};s.prototype.delete_user=function(){if(this._identify_called()){var a={$delete:this._mixpanel.get_distinct_id()};
return this._send_request(a)}t.error("mixpanel.people.delete_user() requires you to call identify() first")};s.prototype.toString=function(){return this._mixpanel.toString()+".people"};s.prototype._send_request=function(a,b){a.$token=this._get_config("token");a.$distinct_id=this._mixpanel.get_distinct_id();var c=e.encodeDates(a),d=e.truncate(c,255),c=e.JSONEncode(c),c=e.base64Encode(c);if(!this._identify_called())return this._enqueue(a),e.isUndefined(b)||(this._get_config("verbose")?b({status:-1,
error:null}):b(-1)),d;t.log("MIXPANEL PEOPLE REQUEST:");t.log(d);this._mixpanel._send_request(this._get_config("api_host")+"/engage/",{data:c},this._mixpanel._prepare_callback(b,d));return d};s.prototype._get_config=function(a){return this._mixpanel.get_config(a)};s.prototype._identify_called=function(){return!0===this._mixpanel._flags.identify_called};s.prototype._enqueue=function(a){"$set"in a?this._mixpanel.cookie._add_to_people_queue("$set",a):"$add"in a?this._mixpanel.cookie._add_to_people_queue("$add",
a):"$append"in a?this._mixpanel.cookie._add_to_people_queue("$append",a):t.error("Invalid call to _enqueue():",a)};s.prototype._flush=function(a,b,c){var d=this,f=e.extend({},this._mixpanel.cookie._get_queue("$set")),m=e.extend({},this._mixpanel.cookie._get_queue("$add")),h=this._mixpanel.cookie._get_queue("$append");!e.isUndefined(f)&&(e.isObject(f)&&!e.isEmptyObject(f))&&(d._mixpanel.cookie._pop_from_people_queue("$set",f),this.set(f,function(b,c){0==b&&d._mixpanel.cookie._add_to_people_queue("$set",
f);e.isUndefined(a)||a(b,c)}));!e.isUndefined(m)&&(e.isObject(m)&&!e.isEmptyObject(m))&&(d._mixpanel.cookie._pop_from_people_queue("$add",m),this.increment(m,function(a,c){0==a&&d._mixpanel.cookie._add_to_people_queue("$add",m);e.isUndefined(b)||b(a,c)}));if(!e.isUndefined(h)&&e.isArray(h)&&h.length)for(var k=h.length-1;0<=k;k--){var l=h.pop();d.append(l,function(a,b){0==a&&d._mixpanel.cookie._add_to_people_queue("$append",l);e.isUndefined(c)||c(a,b)})}};e.toArray=e.toArray;e.isObject=e.isObject;
e.JSONEncode=e.JSONEncode;e.JSONDecode=e.JSONDecode;e.isEmptyObject=e.isEmptyObject;k.prototype.init=k.prototype.init;k.prototype.disable=k.prototype.disable;k.prototype.track=k.prototype.track;k.prototype.track_links=k.prototype.track_links;k.prototype.track_forms=k.prototype.track_forms;k.prototype.track_pageview=k.prototype.track_pageview;k.prototype.register=k.prototype.register;k.prototype.register_once=k.prototype.register_once;k.prototype.unregister=k.prototype.unregister;k.prototype.identify=
k.prototype.identify;k.prototype.alias=k.prototype.alias;k.prototype.name_tag=k.prototype.name_tag;k.prototype.set_config=k.prototype.set_config;k.prototype.get_config=k.prototype.get_config;k.prototype.get_property=k.prototype.get_property;k.prototype.get_distinct_id=k.prototype.get_distinct_id;k.prototype.toString=k.prototype.toString;p.prototype.properties=p.prototype.properties;p.prototype.update_search_keyword=p.prototype.update_search_keyword;p.prototype.update_referrer_info=p.prototype.update_referrer_info;
p.prototype.get_cross_subdomain=p.prototype.get_cross_subdomain;p.prototype.clear=p.prototype.clear;s.prototype.set=s.prototype.set;s.prototype.increment=s.prototype.increment;s.prototype.append=s.prototype.append;s.prototype.track_charge=s.prototype.track_charge;s.prototype.clear_charges=s.prototype.clear_charges;s.prototype.delete_user=s.prototype.delete_user;s.prototype.toString=s.prototype.toString;if(e.isUndefined(a))t.critical("'mixpanel' object not initialized. Ensure you are using the latest version of the Mixpanel JS Library along with the snippet we provide.");
else if(a.__loaded||a.config&&a.cookie)t.error("Mixpanel library has already been downloaded at least once.");else if(1.1>d)t.critical("Version mismatch; please ensure you're using the latest version of the Mixpanel code snippet.");else{var B={};e.each(a._i,function(a){var b;a&&e.isArray(a)&&(b=a[a.length-1],a=I.apply(this,a),B[b]=a)});var L=function(){e.each(B,function(b,c){"triggermail.lytics"!==c&&(a[c]=b)});a._=e};a.init=function(b,c,d){d?a[d]||(a[d]=B[d]=I(b,c,d),a[d]._loaded()):(d=a,B["triggermail.lytics"]?
d=B["triggermail.lytics"]:b&&(d=I(b,c,"triggermail.lytics")),window["triggermail.lytics"]=a=d,L())};a.init();e.each(B,function(a){a._loaded()});if(m.addEventListener)"complete"==m.readyState?c():m.addEventListener("DOMContentLoaded",c,!1);else if(m.attachEvent){m.attachEvent("onreadystatechange",c);d=!1;try{d=null==window.frameElement}catch(M){}if(m.documentElement.doScroll&&d){var K=function(){try{m.documentElement.doScroll("left")}catch(a){setTimeout(K,1);return}c()};K()}}e.register_event(window,
"load",c,!0)}})(window.triggermail.lytics);var A=function(){var a={el:function(b,c){var f=document.createElement(b),h;if((c=a.merge({},c))&&c.style)a.applyCSS(f,c.style),delete c.style;for(h in c)c.hasOwnProperty(h)&&(f[h]=c[h]);return f},applyCSS:function(a,c){for(var f in c)if(c.hasOwnProperty(f))try{a.style[f]=c[f]}catch(h){}},txt:function(a){return document.createTextNode(a)},row:function(b,c,f){f=f||"td";var h=a.count(b,null)+1,n=a.el("tr"),q,z={style:a.getStyles(f,c),colSpan:h,onmouseover:function(){a.forEach(this.parentNode.childNodes,
function(b){"td"===b.nodeName.toLowerCase()&&a.applyCSS(b,a.getStyles("td_hover",c))})},onmouseout:function(){a.forEach(this.parentNode.childNodes,function(b){"td"===b.nodeName.toLowerCase()&&a.applyCSS(b,a.getStyles("td",c))})}};a.forEach(b,function(b){null!==b&&(q=a.el(f,z),b.nodeType?q.appendChild(b):q.innerHTML=a.shorten(b.toString()),n.appendChild(q))});return n},hRow:function(b,c){return a.row(b,c,"th")},table:function(b,c){b=b||[];var f={style:a.getStyles("thead",c)},h={style:a.getStyles("tbody",
c)},n={style:a.getStyles("table",c)},n=a.el("table",n),f=a.el("thead",f),h=a.el("tbody",h);b.length&&(n.appendChild(f),f.appendChild(a.hRow(b,c)));n.appendChild(h);return{node:n,tbody:h,thead:f,appendChild:function(a){this.tbody.appendChild(a)},addRow:function(b,f,h){this.appendChild(a.row.call(a,b,f||c,h));return this}}},shorten:function(a){a=a.replace(/^\s\s*|\s\s*$|\n/g,"");return 40<a.length?a.substring(0,39)+"...":a},htmlentities:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,
"&gt;")},merge:function(b,c){"object"!==typeof b&&(b={});for(var f in c)if(c.hasOwnProperty(f)){var h=c[f];b[f]="object"===typeof h?a.merge(b[f],h):h}f=2;for(h=arguments.length;f<h;f++)a.merge(b,arguments[f]);return b},count:function(a,c){for(var f=0,h=0,n=a.length;h<n;h++)a[h]===c&&f++;return f},thead:function(a){return a.getElementsByTagName("thead")[0]},forEach:function(a,c,f){f||(f=c);c=a.length;for(var h=-1;++h<c&&!1!==f(a[h],h,a););return!0},type:function(a){try{if(null===a)return"null";if(void 0===
a)return"undefined";var c=Object.prototype.toString.call(a).match(/\s(.+?)\]/)[1].toLowerCase();return a.nodeType?1===a.nodeType?"domelement":"domnode":/^(string|number|array|regexp|function|date|boolean)$/.test(c)?c:"object"===typeof a?a.jquery&&"string"===typeof a.jquery?"jquery":"object":a===window||a===document?"object":"default"}catch(f){return"default"}},within:function(a){return{is:function(c){for(var f in a)if(a[f]===c)return f;return""}}},common:{circRef:function(b,d,f){return a.expander("[POINTS BACK TO <strong>"+
d+"</strong>]","Click to show this item anyway",function(){this.parentNode.appendChild(c(b,{maxDepth:1}))})},depthReached:function(b,d){return a.expander("[DEPTH REACHED]","Click to show this item anyway",function(){try{this.parentNode.appendChild(c(b,{maxDepth:1}))}catch(d){this.parentNode.appendChild(a.table(["ERROR OCCURED DURING OBJECT RETRIEVAL"],"error").addRow([d.message]).node)}})}},getStyles:function(b,d){d=c.settings.styles[d]||{};return a.merge({},c.settings.styles["default"][b],d[b])},
expander:function(b,c,f){return a.el("a",{innerHTML:a.shorten(b)+' <b style="visibility:hidden;">[+]</b>',title:c,onmouseover:function(){this.getElementsByTagName("b")[0].style.visibility="visible"},onmouseout:function(){this.getElementsByTagName("b")[0].style.visibility="hidden"},onclick:function(){this.style.display="none";f.call(this);return!1},style:{cursor:"pointer"}})},stringify:function(b){var c=a.type(b),f,h=!0;if("array"===c)return f="[",a.forEach(b,function(b,c){f+=(0===c?"":", ")+a.stringify(b)}),
f+"]";if("object"===typeof b){f="{";for(var n in b)b.hasOwnProperty(n)&&(f+=(h?"":", ")+n+":"+a.stringify(b[n]),h=!1);return f+"}"}return"regexp"===c?"/"+b.source+"/":"string"===c?'"'+b.replace(/"/g,'\\"')+'"':b.toString()},headerGradient:function(){var a=document.createElement("canvas");if(!a.getContext)return"";var c=a.getContext("2d");a.height=30;a.width=1;var f=c.createLinearGradient(0,0,0,30);f.addColorStop(0,"rgba(0,0,0,0)");f.addColorStop(1,"rgba(0,0,0,0.25)");c.fillStyle=f;c.fillRect(0,0,
1,30);return"url("+(a.toDataURL&&a.toDataURL()||"")+")"}()},c=function(b,d){d=d||{};var f=a.merge({},c.config,d),h=a.el("div"),n={},q=!1;c.settings=f;var z={string:function(b){return a.txt('"'+a.shorten(b.replace(/"/g,'\\"'))+'"')},number:function(b){return a.txt(b)},regexp:function(b){var c=a.table(["RegExp",null],"regexp"),d=a.table(),h=a.expander("/"+b.source+"/","Click to show more",function(){this.parentNode.appendChild(c.node)});d.addRow(["g",b.global]).addRow(["i",b.ignoreCase]).addRow(["m",
b.multiline]);c.addRow(["source","/"+b.source+"/"]).addRow(["flags",d.node]).addRow(["lastIndex",b.lastIndex]);return f.expanded?c.node:h},domelement:function(b,c){var d=a.table(["DOMElement",null],"domelement"),h=b.nodeName||"";d.addRow(["tag","&lt;"+h.toLowerCase()+"&gt;"]);a.forEach(["id","className","innerHTML","src","href"],function(c){b[c]&&d.addRow([c,a.htmlentities(b[c])])});return f.expanded?d.node:a.expander("DOMElement ("+h.toLowerCase()+")","Click to show more",function(){this.parentNode.appendChild(d.node)})},
domnode:function(b){var c=a.table(["DOMNode",null],"domelement"),d=a.htmlentities((b.data||"UNDEFINED").replace(/\n/g,"\\n"));c.addRow(["nodeType",b.nodeType+" ("+b.nodeName+")"]).addRow(["data",d]);return f.expanded?c.node:a.expander("DOMNode","Click to show more",function(){this.parentNode.appendChild(c.node)})},jquery:function(a,b,c){return z.array(a,b,c,!0)},object:function(b,c,d){var h=a.within(n).is(b);if(h)return a.common.circRef(b,h,f);n[d||"TOP"]=b;if(c===f.maxDepth)return a.common.depthReached(b,
f);var E=a.table(["Object",null],"object");d=!0;for(var v in b)if(!b.hasOwnProperty||b.hasOwnProperty(v)){var h=b[v],C=a.type(h);d=!1;try{E.addRow([v,z[C](h,c+1,v)],C)}catch(u){window.console&&window.console.log&&console.log(u.message)}}d?E.addRow(["<small>[empty]</small>"]):E.thead.appendChild(a.hRow(["key","value"],"colHeader"));b=f.expanded||q?E.node:a.expander(a.stringify(b),"Click to show more",function(){this.parentNode.appendChild(E.node)});q=!0;return b},array:function(b,c,d,h){var q=a.within(n).is(b);
if(q)return a.common.circRef(b,q);n[d||"TOP"]=b;if(c===f.maxDepth)return a.common.depthReached(b);d=h?"jQuery":"Array";var v=a.table([d+"("+b.length+")",null],h?"jquery":d.toLowerCase()),u=!0,A=0;h&&v.addRow(["selector",b.selector]);a.forEach(b,function(d,h){if(0<=f.maxArray&&++A>f.maxArray)return v.addRow([h+".."+(b.length-1),z[a.type(d)]("...",c+1,h)]),!1;u=!1;v.addRow([h,z[a.type(d)](d,c+1,h)])});h||(u?v.addRow(["<small>[empty]</small>"]):v.thead.appendChild(a.hRow(["index","value"],"colHeader")));
return f.expanded?v.node:a.expander(a.stringify(b),"Click to show more",function(){this.parentNode.appendChild(v.node)})},"function":function(b,c,d){if(c=a.within(n).is(b))return a.common.circRef(b,c);n[d||"TOP"]=b;var h=a.table(["Function",null],"function");a.table(["Arguments"]);d=b.toString().match(/\((.+?)\)/);b=b.toString().match(/\(.*?\)\s+?\{?([\S\s]+)/)[1].replace(/\}?$/,"");h.addRow(["arguments",d?d[1].replace(/[^\w_,\s]/g,""):"<small>[none/native]</small>"]).addRow(["body",b]);return f.expanded?
h.node:a.expander("function(){...}","Click to see more about this function.",function(){this.parentNode.appendChild(h.node)})},date:function(b){var c=a.table(["Date",null],"date"),d=b.toString().split(/\s/);c.addRow(["Time",d[4]]).addRow(["Date",d.slice(0,4).join("-")]);return f.expanded?c.node:a.expander("Date (timestamp): "+ +b,"Click to see a little more info about this date",function(){this.parentNode.appendChild(c.node)})},"boolean":function(b){return a.txt(b.toString().toUpperCase())},undefined:function(){return a.txt("UNDEFINED")},
"null":function(){return a.txt("NULL")},"default":function(){return a.txt("prettyPrint: TypeNotFound Error")}};h.appendChild(z[f.forceObject?"object":a.type(b)](b,0));return h};c.config={expanded:!0,forceObject:!1,maxDepth:3,maxArray:-1,styles:{array:{th:{backgroundColor:"#6DBD2A",color:"white"}},"function":{th:{backgroundColor:"#D82525"}},regexp:{th:{backgroundColor:"#E2F3FB",color:"#000"}},object:{th:{backgroundColor:"#1F96CF"}},jquery:{th:{backgroundColor:"#FBF315"}},error:{th:{backgroundColor:"red",
color:"yellow"}},domelement:{th:{backgroundColor:"#F3801E"}},date:{th:{backgroundColor:"#A725D8"}},colHeader:{th:{backgroundColor:"#EEE",color:"#000",textTransform:"uppercase"}},"default":{table:{borderCollapse:"collapse",width:"100%"},td:{padding:"5px",fontSize:"12px",backgroundColor:"#FFF",color:"#222",border:"1px solid #000",verticalAlign:"top",fontFamily:'"Consolas","Lucida Console",Courier,mono',whiteSpace:"nowrap"},td_hover:{},th:{padding:"5px",fontSize:"12px",backgroundColor:"#222",color:"#EEE",
textAlign:"left",border:"1px solid #000",verticalAlign:"top",fontFamily:'"Consolas","Lucida Console",Courier,mono',backgroundImage:a.headerGradient,backgroundRepeat:"repeat-x"}}}};return c}();jQuery.extend(triggermail,function(){var a=function(a){var b=a.email;if(!(void 0==b||""==b))if(b=triggermail.core.sanitizer.sanitize("email",b)){var d=triggermail.lytics.get_property("email");if(!(triggermail.util.isValidEmail(d)&&d!=b))return b!=triggermail.lytics.get_property("email")&&(triggermail.lytics.register({email:b},
365),triggermail.track("identify",{customer:a})),a}};return{track:function(a,b){jQuery.extend(b,triggermail.lytics.cookie.props);try{b.url=window.location.href,-1<b.url.indexOf("s.thebrighttag")&&delete b.url}catch(d){}"page_view"!=a&&("true"==triggermail.util.cookie.get("tm_debug")?triggermail.lytics.track(a,b,this.track_callback(a,b)):triggermail.lytics.track(a,b));triggermail.lytics.get_distinct_id()&&(b.distinct_id=triggermail.lytics.get_distinct_id());try{!0===triggermail.integ.debug&&console.debug(a,
b)}catch(f){}},report_to_insanetiego:function(a,b){if("true"===triggermail.util.cookie.get("tm_debug")){0===$("#insanetiego").length&&triggermail.insanetiego.inject_div();var d=A(b,{styles:{array:{th:{display:"none"}},object:{th:{display:"none"}},"default":{th:{display:"none"}}}});$("#insanetiego").append("<p><b>Event: "+a+"</b></p>");$("#insanetiego").append(d);$.each(b.products,function(a,b){var c,d;b.image&&$("<img/>").attr("src",b.image).load(function(){c=this.width;d=this.height;$("#insanetiego").append("<p><b>Image size: width-"+
c+" height-"+d+"<b></p>");$("#insanetiego").append('<img src="'+b.image+'" height="100" width="100" />')});b.alternative_image&&(c=this.width,d=this.height,$("<img/>").attr("src",b.alternative_image).load(function(){c=this.width;d=this.height;$("#insanetiego").append("<p><b>Alternative Image size: width-"+c+" height-"+d+"<b></p>");$("#insanetiego").append('<img src="'+b.alternative_image+'" height="100" width="100"/>')}))})}},validate:function(a){"true"===triggermail.util.cookie.get("tm_debug")&&
(a?$("#insanetiego").append('<p><b style="color:#64E813;">Event is ok</b></p>'):$("#insanetiego").append('<p><b style="color:#E60508;">The Event Seems Broken</b></p>'))},track_callback:function(a,b){return function(d){triggermail.report_to_insanetiego(a,b);triggermail.validate(d)}},add_to_cart:function(a){return this.track("add_to_cart",{products:[a]})},remove_from_cart:function(a){return this.track("remove_from_cart",{products:[a]})},wishlist:function(a){return this.track("wishlist",{products:[a]})},
view_cart:function(a){return this.track("viewed_cart",a)},page:function(a){return this.track("page_view",a)},purchase:function(a){return this.track("purchase",a)},checkout_start:function(a){return this.track("checkout_start",a)},view:function(a,b){triggermail.integ.salt_products&&(a.salt=Math.random().toString(36).replace(".",""));var d=jQuery.extend(b||{},{products:[a]});return this.track("viewed_product",d)},view_content:function(a,b){triggermail.integ.salt_products&&(a.salt=Math.random().toString(36).replace(".",
""));var d=jQuery.extend(b||{},{contents:[a]});return this.track("viewed_content",d)},search:function(a){return this.track("search",a)},identify:function(c){return a(c)},subscribe:function(c){c.source="newsletter";return a(c)},unsubscribe:function(a){return this.track("unsubscribe",a)},init:function(a){},exception:function(a){var b={};jQuery.extend(b,triggermail.lytics._.info.properties());try{b.url=window.location.href,-1<b.url.indexOf("s.thebrighttag")&&delete b.url,b.message=a.message}catch(d){}b.error=
a;this.track("exception",b)},EMAIL_ADDRESS_PROPERTY:"email_address",PAGE_VIEW:"page_view",MAX_PROPERTY_LENGTH:1024}}());triggermail.util=function(){return{price:function(a){return parseFloat(a.replace(/[^0-9\.]/g,""))},unique:function(a){for(var c={},b=0;b<a.length;b++)c[a[b]]=!0;return jQuery.map(c,function(a,b){return b})},slugify:function(a){return a.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")},serializeForm:function(a){var c={};a=a.serializeArray();$.each(a,function(){void 0!==c[this.name]?
(c[this.name].push||(c[this.name]=[c[this.name]]),c[this.name].push(this.value||"")):c[this.name]=this.value||""});return c},getUrlParam:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))},getParamFromQueryString:function(a,c){return decodeURI((RegExp(c+"=(.+?)(&|$)").exec(a)||[,null])[1])},trimString:function(a,c){return jQuery.trim(a).substring(0,c)},isAnonymousUser:function(){var a=
triggermail.lytics.get_property(triggermail.core.EMAIL_ADDRESS_PROPERTY);return!this.isValidEmail(a)},emRegex:/\S+@\S+\.\S+/,isValidEmail:function(a){return triggermail.util.emRegex.test(a)},findEmail:function(a,c){try{return"undefined"==typeof c&&(c=triggermail.util.emRegex),c.exec(a).pop()}catch(b){}},hashCode:function(a){var c=0,b,d;if(0==a.length)return c;for(b=0;b<a.length;b++)d=a.charCodeAt(b),c=(c<<5)-c+d,c&=c;return c},productHash:function(a){a=this.sanitizeProductName(a[TriggerMail.PRODUCT_NAME_PROPERTY]);
return this.hashCode(a)},_getbyte64:function(a,c){_ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b=_ALPHA.indexOf(a.charAt(c));if(-1===b)throw"Cannot decode base64";return b},b64decode:function(a){var c=0,b,d,f=a.length,h=[];a=String(a);if(0===f)return a;if(0!==f%4)throw"Cannot decode base64";"="===a.charAt(f-1)&&(c=1,"="===a.charAt(f-2)&&(c=2),f-=4);for(b=0;b<f;b+=4)d=this._getbyte64(a,b)<<18|this._getbyte64(a,b+1)<<12|this._getbyte64(a,b+2)<<6|this._getbyte64(a,b+
3),h.push(String.fromCharCode(d>>16,d>>8&255,d&255));switch(c){case 1:d=this._getbyte64(a,b)<<18|this._getbyte64(a,b+1)<<12|this._getbyte64(a,b+2)<<6;h.push(String.fromCharCode(d>>16,d>>8&255));break;case 2:d=this._getbyte64(a,b)<<18|this._getbyte64(a,b+1)<<12,h.push(String.fromCharCode(d>>16))}return h.join("")},wrapEvent:function(a){var c=Array.prototype.slice.call(arguments,1);return function(){try{return a.apply(this,c.concat(Array.prototype.slice.call(arguments,0)))}catch(b){}}},removeURLParam:function(a,
c){return triggermail.util.updateURLParams(a,c,!1)},keepURLParam:function(a,c){return triggermail.util.updateURLParams(a,c,!0)},updateURLParams:function(a,c,b){var d=a.split("?")[0],f=[],f=-1!==a.indexOf("?")?a.split("?")[1]:"";if(""!==f){for(var f=f.split("&"),h=f.length-1;0<=h;h-=1)a=f[h].split("=")[0],b?$.isArray(c)?-1==c.indexOf(a)&&f.splice(h,1):a!=c&&f.splice(h,1):$.isArray(c)?-1<c.indexOf(a)&&f.splice(h,1):a==c&&f.splice(h,1);d+=0<f.length?"?"+f.join("&"):""}return d},getArrayElementFromQueryString:function(a,
c){var b=[];a||(a=location.href);c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");for(var d=RegExp(c+"=([^&#]+)","ig");;){var f=d.exec(a);if(f&&f[1])b.push(f[1]);else break}return b.length?1==b.length?b[0]:b:null}}}();triggermail.util.cookie=triggermail.lytics._.cookie;triggermail.util.encode=triggermail.lytics._.JSONEncode;triggermail.util.decode=triggermail.lytics._.JSONDecode;triggermail.demo=function(){var a=triggermail.lytics.get_distinct_id();-1==a.indexOf("live_demo")&&(triggermail.lytics._register_single("distinct_id",
"live_demo_"+a),a=triggermail.lytics.get_distinct_id());triggermail.lytics.cookie.update_config({live_demo:!0,cookie_expiration:1});window.open("http://www.triggermail.io/admin/live_demo/"+triggermail.Partner.keys.lytics.p+"/"+a)};triggermail.util.walk=function(a,c){c(a);for(a=a.firstChild;a;)walk(a,c),a=a.nextSibling};triggermail.util.walkUntil=function(a,c,b){ret=c(a);if(!0===b(ret))return ret;for(a=a.firstChild;a;)walk(a,c),a=a.nextSibling};triggermail.insanetiego=function(){return{inject_div:function(){$("body").append('<div id="insanetiego" style="position:fixed;bottom:0;width:100%;background:#D8E7ED;height:300px;overflow:scroll;z-index:2000;border-top-style:solid;border-top-width:5px;"></div>')},
remove_div:function(){$("#insanetiego").remove()},debug:function(){triggermail.util.cookie.set("tm_debug",!0);triggermail.integ.debug=!0;this.inject_div()},undebug:function(){triggermail.util.cookie.set("tm_debug",!1);triggermail.integ.debug=!1}}}();triggermail.core={};triggermail.core.sanitizer=function(){return{sanitize:function(a,c){if("email"==a){var b;b=/\S+@\S+\.\S+/.test(c)?c:null;return b}return c?c:""}}}();triggermail.integ=function(){return{init:function(){"undefined"!=typeof triggermail.Partner.init?
triggermail.Partner.init():triggermail.integ.partnerInit();try{triggermail.integ.checkLoop()}catch(a){}},partnerInit:function(){var a=triggermail.Partner;if(!jQuery(".translated-rtl, .translated-rtl").length&&!jQuery('meta[http-equiv="X-Translated-By"]').length){try{a.trackProductView()}catch(c){triggermail.exception(c)}try{triggermail.Partner.trackAddToCart()}catch(b){triggermail.exception(b)}try{triggermail.Partner.trackCheckout()}catch(d){triggermail.exception(d)}try{triggermail.Partner.watchEmail()}catch(f){triggermail.exception(f)}if(triggermail.Partner.hasOwnProperty("trackRemoveFromCart"))try{triggermail.Partner.trackRemoveFromCart()}catch(h){triggermail.exception(h)}if(triggermail.Partner.hasOwnProperty("trackCheckoutStart"))try{triggermail.Partner.trackCheckoutStart()}catch(n){triggermail.exception(n)}if(triggermail.Partner.hasOwnProperty("trackUnsubscribe"))try{triggermail.Partner.trackUnsubscribe()}catch(q){triggermail.exception(q)}if(triggermail.Partner.hasOwnProperty("trackSubscribe"))try{triggermail.Partner.trackSubscribe()}catch(u){triggermail.exception(u)}if(triggermail.Partner.hasOwnProperty("trackSearch"))try{triggermail.Partner.trackSearch()}catch(m){triggermail.exception(m)}if(triggermail.Partner.hasOwnProperty("trackWishlist"))try{triggermail.Partner.trackWishlist()}catch(l){triggermail.exception(l)}if(triggermail.Partner.hasOwnProperty("trackContentView"))try{triggermail.Partner.trackContentView()}catch(x){triggermail.exception(x)}}},
checkLoop:function(){for(var a="email kmi utm_email tmemail tmem e user_email_address cyemail".split(" "),c=0;c<a.length;c++){var b=triggermail.util.getUrlParam(a[c]);if(triggermail.util.isValidEmail(b)){triggermail.identify({email:b});break}}}}}();triggermail.integ.ProductFetcher=__tmClass.extend({name:function(){return this._name},readOg:function(a){return jQuery('meta[property="'+a+'"]').attr("content")},category:function(){return this._category},color:function(){return this._color},size:function(){return this._size},
price:function(){return this._price},brand:function(){return this._brand},id:function(){return this._id},image:function(){return this._image},url:function(){return this._url},out_of_stock:function(){return!1},tags:function(){return this._tags},to_dict:function(){try{var a={name:triggermail.core.sanitizer.sanitize("name",this.name()),category:triggermail.core.sanitizer.sanitize("category",this.category()),size:triggermail.core.sanitizer.sanitize("size",this.size()),price:triggermail.core.sanitizer.sanitize("price",
this.price()),brand:triggermail.core.sanitizer.sanitize("brand",this.brand()),id:triggermail.core.sanitizer.sanitize("id",this.id()),image:triggermail.core.sanitizer.sanitize("image",this.image()),url:triggermail.core.sanitizer.sanitize("url",this.url()),out_of_stock:this.out_of_stock(),tags:this.tags(),color:triggermail.core.sanitizer.sanitize("color",this.color()),related_products_raw:triggermail.core.sanitizer.sanitize("related_products_raw",this.related_products_raw())},c;for(c in a)(""===a[c]||
!1==a[c])&&"out_of_stock"!=c&&delete a[c];jQuery.extend(a,this.extra_props());return a}catch(b){triggermail.exception({location:"product_fetcher",error:b})}},extra_props:function(){return{}},fetch:function(){return this.to_dict()},related_products_raw:function(){return this._related_products}});triggermail.integ.ContentFetcher=__tmClass.extend({name:function(){return this._name},id:function(){return this._id},image:function(){return this._image},url:function(){return this._url},title:function(){return this._title},
to_dict:function(){try{var a={id:triggermail.core.sanitizer.sanitize("id",this.id()),image:triggermail.core.sanitizer.sanitize("image",this.image()),name:triggermail.core.sanitizer.sanitize("name",this.name()),title:triggermail.core.sanitizer.sanitize("title",this.title()),url:triggermail.core.sanitizer.sanitize("url",this.url())},c;for(c in a)(""===a[c]||!1==a[c])&&delete a[c];jQuery.extend(a,this.extra_props());return a}catch(b){triggermail.exception({location:"content_fetcher",error:b})}},extra_props:function(){return{}},
fetch:function(){return this.to_dict()}});triggermail.integ.initServices=function(){triggermail.lytics.init(triggermail.integ.keys.lytics);triggermail.lytics=window["triggermail.lytics"];triggermail.lytics.set_config({save_referrer:!1,store_google:!1,debug:triggermail.integ.debug})};triggermail.integ.loadJQuery=function(){var a=document.createElement("script");a.type="text/javascript";a.src=("https:"===document.location.protocol?"https://":"http://")+"ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js";
var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)};triggermail.GapData=function(){function a(){var a,b,d,f;"undefined"!==typeof BrightTag&&(a=BrightTag.instance.parentReferrer.split("?").pop().split("&"));this.data={};if("undefined"!==typeof a){d=0;for(f=a.length;d<f;d++)b=a[d],this.data[b.split("=").shift()]=unescape(b.split("=").pop())}}a.prototype.currency=function(){return this.data.u};a.prototype.tags=function(){return this.data.u9.split(":")};a.prototype.name=function(){return this.data.u9.split(":product:").pop().split(":").shift()};
a.prototype.id=function(){return this.data.u3};a.prototype.url=function(){return this.data.u10};a.prototype.image=function(){try{return this.data.u31}catch(a){}};a.prototype.price=function(){try{return triggermail.util.price(this.data.u30)}catch(a){}};a.prototype.original_price=function(){try{return triggermail.util.price(this.data.u35)}catch(a){}};a.prototype.size=function(){return this.data.u32.split(",")};a.prototype.brand=function(){return{gp:"gap",br:"banana_republic",on:"old_navy",at:"athleta",
bg:"piper_lime"}[this.tags()[0]]};a.prototype.pageType=function(){return this.data.u2.toLowerCase()};a.prototype.default_cid=function(){try{if(""!==this.data.u36)return this.data.u36}catch(a){}};a.prototype.category=function(){try{if(1<this.data.u38.split(":").length&&""!==this.data.u38.split(":")[0])return decodeURIComponent(this.data.u38.split(":")[0]).trim();if(1===this.data.u38.split(":").length)return decodeURIComponent(this.data.u38.trim())}catch(a){}};a.prototype.division=function(){try{if(1<
this.data.u37.split(":").length&&""!==this.data.u37.split(":")[0])return decodeURIComponent(this.data.u37.split(":")[0]).trim();if(1===this.data.u37.split(":").length)return decodeURIComponent(this.data.u37.trim())}catch(a){}};a.prototype.num_out_of_stock=function(){try{return this.data.u33.split(",")}catch(a){}};a.prototype.pl_brand=function(){try{return this.data.u34}catch(a){}};return a}();triggermail.fetcher=triggermail.integ.ProductFetcher.extend({init:function(){return this.model=new triggermail.GapData},
name:function(){return this.model.name()},id:function(){var a;a=this.model.id();if(9<=a.length)return a.slice(0,9);if(!(6>=a.length))return a},cid:function(){var a;a=triggermail.util.getParamFromQueryString(this.model.data.u10,"cid");if(!isNaN(parseInt(a)))return a},default_cid:function(){return this.model.default_cid()},pl_brand:function(){if(""!==this.model.pl_brand())return this.model.pl_brand()},image:function(){return this.model.image()},url:function(){return this.model.url()},brand:function(){return this.model.brand()},
price:function(){return this.model.price()},original_price:function(){return this.model.original_price()},breadcrumbs:function(){var a,c,b,d,f;a=this.model.tags().slice(2);c={};b=d=0;for(f=a.length;(0<=f?d<=f:d>=f)&&"product"!==a[b].toLowerCase();b=0<=f?++d:--d)c["breadcrumb_"+b]=a[b];return c},cid_tags:function(){var a,c,b,d,f;a=this.model.tags().slice(2);b=[];c=d=0;for(f=a.length;(0<=f?d<=f:d>=f)&&"product"!==a[c].toLowerCase();c=0<=f?++d:--d)b.push(a[c]);this.cid()&&b.push(this.cid());return b},
price_range:function(){if("athleta"===this.brand())return"medium";if("piper_lime"===this.brand()){if(400<this.original_price())return"high";if(150<this.original_price())return"medium";if(150>=this.original_price())return"low"}if("gap"===this.brand()){if(400<this.original_price())return"high";if(150<this.original_price())return"medium";if(150>=this.original_price())return"low"}if("old navy"===this.brand())return"low"},on_sale:function(){var a;a=""+this.price();return"99"===a.split(".")[1]?"true":"97"===
a.split(".")[1]?"true":"false"},quantity_out_of_stock:function(){return this.model.num_out_of_stock().length},category:function(){return this.model.category()},division:function(){return this.model.division()},is_factory_store:function(){return-1<this.model.name().toLowerCase().indexOf("factory")?"true":"false"},extra_props:function(){return{price_range:this.price_range(),pl_brand:this.pl_brand(),original_price:this.original_price(),on_sale:this.on_sale(),quantity_out_of_stock:this.quantity_out_of_stock(),
cid:this.default_cid(),alt_name:this.model.data.u28,root_id:this.id().slice(0,6),division:this.division(),category:this.category(),is_factory_store:this.is_factory_store()}}});triggermail.Partner=function(){return{init:function(){this.data=new triggermail.GapData;return triggermail.integ.partnerInit()},trackProductView:function(){var a,c;a=new triggermail.fetcher;c=a.id();if(!("undefined"===typeof c||null===c)&&"product"===this.data.pageType())if(c=this.data.tags(),"addtobag"!==c.pop().toLowerCase())return triggermail.view(a.to_dict())},
trackAddToCart:function(){var a;if("undefined"!==typeof this.data.id()&&"product"===this.data.pageType()&&(a=this.data.tags(),"addtobag"===a.pop().toLowerCase()))return a=new triggermail.fetcher,triggermail.add_to_cart({id:a.id()})},trackRemoveFromCart:function(){},trackWishlist:function(){},trackCheckout:function(){var a,c,b,d,f,h;try{if("checkout"!==this.data.tags()[1].toLowerCase())return}catch(n){return}d=triggermail.util.price(this.data.data.cost);f=triggermail.util.price(this.data.data.u18);
h=this.data.data.u12;b=this.data.data.ord;a=this.readCustomerData();b={zip:h,total:d+f,products_total:d,shipping:f,order_id:b};$.extend(b,a);a=[];d=this.data.data.u1.split("|");f=0;for(h=d.length;f<h;f++)c=d[f],c=c.slice(0,9),c={id:c},a.push(c);b.products=a;return triggermail.purchase(b)},trackSearch:function(){var a,c,b,d,f,h;c=null;""!==this.data.data.u3&&"undefined"!==typeof this.data.data.u3&&"product"!==this.data.data.u2.toLowerCase()&&(c=this.data.data.u3);if("undefined"!==typeof this.data.id()&&
("category"===this.data.pageType()||"categorysearch"===this.data.pageType()||"division"===this.data.pageType())){a={gp:"gap",br:"banana_republic",on:"old_navy",at:"athleta",bg:"piper_lime"};d="";b=f=0;for(h=this.data.tags().length-1;f<=h;b=f+=1)0===b&&(d+=a[this.data.tags()[b]]+" "),2<=b&&(b<this.data.tags().length-1&&"BRANDS"!==this.data.tags()[b])&&(d+=this.data.tags()[b]+" "),b===this.data.tags().length-1&&(d+=this.data.tags()[b]);c&&(d="("+d+") OR cid:"+c);return triggermail.search({search_term:d})}},
trackUnsubscribe:function(){},trackSubscribe:function(){},watchEmail:function(){var a;a=this.readCustomerData();triggermail.lytics.cookie.props.distinct_id=a.email;triggermail.lytics.cookie.save();return triggermail.identify(a)},readCustomerData:function(){var a;a={};this.data.data.u27&&(a.email=this.data.data.u27+"@gap.com",a.DI=this.data.data.u27);this.data.data.u21&&(a.customer_id=this.data.data.u21,this.data.data.u27||(a.email=this.data.data.u21+"@gap.com"));return a},env:function(){return-1<
window.location.href.indexOf(".gap.com")?"p":"d"},keys:{lytics:{d:"dev",p:"gap"}}}}();triggermail.initialize=function(){triggermail.integ.keys={};var a=triggermail.Partner.env();triggermail.integ.keys.lytics=triggermail.Partner.keys.lytics[a];triggermail.integ.debug=!1;triggermail.integ.initServices();triggermail.init();triggermail.integ.init();a=triggermail.util.getUrlParam("__auto_demo__");""!=a&&(triggermail.demo(),triggermail.identify({email:a}))};var u=function(){triggermail.__tm_initialized||
(window.jQuery?(triggermail.initialize(),triggermail.__tm_initialized=!0):window.setTimeout(u,100))};u()}else window.setTimeout(__xx_checkJquery,100)}__xx_checkJquery();
