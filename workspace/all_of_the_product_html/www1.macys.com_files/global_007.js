MACYS.namespace("MACYS.cartInfo");MACYS.cartInfo.ptaSignout=function(){var c=MACYS.util.Cookie.get("rightNowSignedIn")||0;var e=getURLParam("FROM");if(e=="SIGNOUT"&&c=="1"&&rightNowDomainName!=undefined&&rightNowDomainName!=""){var b=document.createElement("iframe");var a="RightNowSignOut";document.body.appendChild(b);b.style.display="none";b.contentWindow.name=a;var d=rightNowDomainName+"/cgi-bin/macys.cfg/php/custom/pta_logout.php";b.src=d;MACYS.util.Cookie.remove("rightNowSignedIn")}return true};MACYS.cartInfo.setHeader=function(){var b=MACYS.util.Cookie,n,c,i,g,e,m,a,f,l,k,j,d,h;if(YAHOO&&YAHOO.util&&YAHOO.util.Dom){h=YAHOO.util.Dom}else{h={getElementsByClassName:function(u,r,q){var p=[],t,o,s=((q)?q:document.body).getElementsByTagName(r);o=s.length;for(t=0;t<o;t+=1){if(s[t].className.indexOf(u)!==-1){p.push(s[t])}}return p}}}i=b.get("UserName","GCs");g=b.get("SignedIn")=="1";e=b.get("CartItem","GCs")||0;m=document.getElementById("globalMastheadMiniCart");a=document.getElementById("itemInfo");f=document.getElementById("itemCount");j=document.getElementById("globalMastheadUserMenu");globalUserMenuSalutation=document.getElementById("globalMastheadUserSalutation");if(g&&i){l=h.getElementsByClassName("globalMiniCartShoppingBag","a",m);if(l&&l.length>0){l[0].innerHTML=i+"'s bag "}else{if(a){a.innerHTML="my bag";f.innerHTML=" ("+e+")";globalUserMenuSalutation.innerHTML="Welcome, "+i}}}k=h.getElementsByClassName("globalMiniCartItems","a",m);if(k&&k.length>0){k[0].innerHTML=e}else{if(a&&!g){a.innerHTML="my bag";f.innerHTML=" ("+e+")"}}if(g&&i){n=h.get("globalMastheadSignIn");if(!n){return}n.innerHTML="(sign out)";h.removeClass(n,"selected");if(n.href.indexOf("account/signin")!=-1){n.href=n.href.replace("account/signin","signin/signout.ognc")}else{n.href=n.href.replace("index","signout")}}};if(typeof YUI!=="undefined"&&YUI&&MACYS.yui341config){YUI(MACYS.yui341config).use("event",function(a){a.on("domready",MACYS.cartInfo.setHeader)})}else{if(typeof YAHOO!=="undefined"&&YAHOO){YAHOO.util.Event.onDOMReady(function(){MACYS.cartInfo.setHeader()})}};
