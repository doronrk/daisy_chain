define(["jquery","underscore","hbsCommonTemplates/features/zoomer/JumboSwatch","globals"],function(t,e,i,o){function a(t){this.imageList=t.imageList;this.swatchModifier=t.swatchModifier;this.altImageModel=t.altImageModel;this.altImagesWidth=t.altImagesWidth;this.altImagesHeight=t.altImagesHeight;this.altImagesFilters=t.altImagesFilters;this.isEnabled=true;this.currentImageIdx=0;this.rootImageSet=this.imageList.split(",");this.zoomerContainer=t.zoomerContainer}a.prototype.setEnabled=function(t){if(typeof t==="string"){this.isEnabled=t==="true"}else{this.isEnabled=t}};a.prototype.setJumboSwatch=function(t){var e=116,i;if(t.length){this.removeJumboSwatchHolder();i=o.getValue("props.imageHost")+"/products/"+t;i+=i.indexOf("?")!==-1?"&":"?";i+=this.swatchModifier.length?this.swatchModifier+"&":"";i+="wid="+e;i+="&hei="+e+"&fit=fit,1";this.createJumboSwatchHolder(i)}else{this.removeJumboSwatchHolder()}};a.prototype.removeJumboSwatchHolder=function(){if(this.jumboSwatchHolder){this.jumboSwatchHolder.remove();this.jumboSwatchHolder=null}};a.prototype.createJumboSwatchHolder=function(e){var o={jumboSwatchID:"jumboSwatchHolder_1",url:e};this.jumboSwatchHolder=t(i(o));t(this.zoomerContainer).append(this.jumboSwatchHolder)};a.prototype.changeImageList=function(t,e){var i=t.split(",");if(this.altImageModel){this.altImageModel.changeImageList(i,e,this.altImagesWidth,this.altImagesHeight,this.altImagesFilters)}this.imageList=t;this.rootImageSet=i};a.prototype.getActiveThumbIdx=function(){return this.altImageModel?this.altImageModel.getCurrentImageIdx():0};a.prototype.setColorView=function(){this.removeJumboSwatchHolder()};return a});