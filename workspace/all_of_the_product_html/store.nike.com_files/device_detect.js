var nike=nike||{};nike.exp=nike.exp||{};nike.exp.script=nike.exp.script||{};nike.exp.script.device_detect=nike.exp.script.device_detect||{};!function(){nike.exp.script.device_detect.redirectOnAgentMismatch=function(f,k){var j,h,l=window.location,i,m,g;if(f===undefined||!k){b("Presentation vars are not defined, so we are skipping the agent redirect check")}else{g=(""+f).toLowerCase()===(""+nike.exp.script.device_detect.isMobile()).toLowerCase();b("isPresentationMobile="+f+" isMobileAgent="+nike.exp.script.device_detect.isMobile()+" presentationMatchesDevice="+g);if((!c("dev")&&!g&&!c("mobile"))||(c("mobile")&&f=="false")){var j=nike.exp.script.device_detect.buildNewUrl(k);window.location=j}}};nike.exp.script.device_detect.buildNewUrl=function(n){var s=nike.exp.script.device_detect;var f="";var o=n;var j={};var k={};var q={};if(n.indexOf("?")!=-1){var h=n.split("?");o=h[0];var m=h[1];j=s.buildParamMap(m)}var p=e();p=p.replace("?","");k=s.buildParamMap(p);var q=k;for(var r in j){q[r]=j[r]}var g="";var l=[];for(var r in q){var i=r+"="+q[r];l.push(i)}if(l.length>0){g="?"+l.join("&")}else{g=""}f=o+g;if(window.location.hash){f+=window.location.hash}return f};nike.exp.script.device_detect.buildParamMap=function(n){var m={};var k=[];if(n.length==0){return{}}if(n.indexOf("&")==-1){k=[n]}else{k=n.split("&")}for(var h in k){var g=k[h];var j=g.split("=");var f=j[0];var l="";if(j.length==2){l=j[1]}m[f]=l}return m};nike.exp.script.device_detect.doAgentRedirect=function(j,n,l){var f,h,m=window.location,i,g,k;if(j===undefined||n===undefined||l===undefined){b("Presentation vars are not defined, so we are skipping the agent redirect check")}else{k=(""+j).toLowerCase()===(""+nike.exp.script.device_detect.isMobile()).toLowerCase();b("isPresentationMobile="+j+" isMobileAgent="+nike.exp.script.device_detect.isMobile()+" presentationMatchesDevice="+k);if((!c("dev")&&!k&&!c("mobile"))||(c("mobile")&&j=="false")){i=m.protocol.toLowerCase()==="http:"?n:l;if(i&&i.length>0){f=i+m.pathname;g=e();if(g&&g.length>0){f+=g}if(m.hash){f+=m.hash}window.location=f}else{b("No alternate url defined.")}}}};nike.exp.script.device_detect._isMobile=undefined;nike.exp.script.device_detect.isMobile=function(){b("UserAgent: "+navigator.userAgent);nike.exp.script.device_detect._isMobile=/iPhone|iPod|Windows Phone|IEMobile/i.test(navigator.userAgent)||/android.*mobile/i.test(navigator.userAgent);return nike.exp.script.device_detect._isMobile};function d(){return/(?:$|; ?)sp=[^;]*/i.test(document.cookie)}function a(g){var f=document.cookie.split(";");var j="";var m="";var l="";var k=false;var h;for(h=0;h<f.length;h++){j=f[h].split("=");m=j[0].replace(/^\s+|\s+$/g,"");if(m==g){k=true;if(j.length>1){l=unescape(j[1].replace(/^\s+|\s+$/g,""))}return l;break}j=null;m=""}if(!k){return null}}function c(f){return a("sp")==f}function e(){var i=window.location.search,h;if(!/(^|&)ref=/.test(window.location.search)){h=encodeURIComponent(document.referrer);var f=window.location.hostname;var j=f.split(".");h=h.indexOf("/",8)>-1?h.slice(0,h.indexOf("/",8)):h;if(j.length>1){var g=j.slice(j.length-2);f=g?"."+g.join("."):f}if(h&&h.indexOf(f)>-1){h=""}}if(h&&h.length>0){if(i&&i.length>0){i+="&ref="+h}else{i="?ref="+h}}return i}function b(g){var f=false;if(f&&console&&console.log){console.log(g)}}}();