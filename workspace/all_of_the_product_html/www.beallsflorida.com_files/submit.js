$BV.Internal.define("contentSubmit",[window],["exports","jquery.core","domUtils","contentDisplay"],function(h,f,g){f.normalizeMultiLineInputText=function(l){var m=g(l.split(/\n/)).map(function(n){return this.replace(/^(\s+)/,"").replace(/(\s+)$/,"").replace(/\s+/g," ")}).get().join("\n");m=l.replace(/\n{2,}/g,"\n\n");return m};h.bvTextCounter=function(B,u,p,s,q,v,D,n,t,E,m,H,F,I,z,C){var y=C+"MinRemaining";var w=C+"MinReached";var o=C+"MaxRemaining";var A=C+"MaxExceeded";var x;B=f.normalizeMultiLineInputText(B);if(p>0){if(!B||B.length===0){g(n).removeClass(o).text("");g(u).removeClass(w).addClass(y).text(s.replace(/\{characterCount.*\}/,p))}else{if(B.length<p){g(n).removeClass(o).text("");var r=(p-B.length==1)?D:q;g(u).removeClass(w).addClass(y).removeClass(o).text(r.replace(/\{characterCount.*\}/,p-B.length))}else{g(u).removeClass(y).addClass(w).text(v)}}}if(t>0&&B.length>p){if(!B||B.length===0){g(n).removeClass(A).addClass(o).text(E.replace(/\{characterCount.*\}/,t))}else{if(B.length<=t){var G=t-B.length;if(G==0){x=F}else{if(G==1){x=H}else{x=m}}g(n).removeClass(A).addClass(o).text(x.replace(/\{characterCount.*\}/,t-B.length))}else{var l=(t-B.length==-1)?z:I;g(u).removeClass(w).text("");g(n).removeClass(o).addClass(A).text(l.replace(/\{characterCount.*\}/,B.length-t))}}}};h.bvBindInputChangeTriggers=function(m){var l=bvCreateTimer();g("input[type='text'], textarea, input[type='radio'], input[type='checkbox'], select",m).change(function(){l.clear();g(this.form).trigger("bvInputChange")});g("input[type='text'], textarea",m).keyup(function(){l.clear();var n=this;l.set(function(){g(n.form).trigger("bvInputChange")},100)})};h.bvEnableElement=function(l,m,n){if(!m){m="BVSU"}g(l).removeAttr("disabled");g(l).removeClass(m+"Disabled");if(!n){n=g(l).attr("enabledImageSrc")}if(n&&l.type=="image"){l.src=n}};h.bvDisableElement=function(l,m,n){if(!m){m="BVSU"}g(l).attr("disabled",true);g(l).addClass(m+"Disabled");if(!n){n=g(l).attr("disabledImageSrc")}if(n&&l.type=="image"){l.src=n}};function d(){g("form[name='BVSUSocialAnsweringForm']").bind("click",function(){b()})}function b(){var l=!g("#BVSUFieldCheckboxSocialAnsweringSignupID").attr("checked");g("#BVSUFieldContainerSocialAnsweringUserEmailID").toggleClass("BVSUHidden",l);g("#BVSUSliderRatingEmailFrequencyContainerID").toggleClass("BVSUHidden",l);g(".BVSU_ME").toggleClass("BVSUHidden",l);g("#BVSUSocialAnsweringNoThanksButtonContainerID").toggleClass("BVSUHidden",!l);g("#BVSUSocialAnsweringSubscribeButtonContainerID").toggleClass("BVSUHidden",l)}function c(m,l){g("form[name='"+m+"']").bind("bvInputChange",function(n){g("#"+l).each(function(o,p){bvEnableElement(p)});n.preventDefault()})}function k(m,l){g(m).bind("click",function(){g(m).toggleClass("BVStateOpen").toggleClass("BVStateClose")});g(l).bind("click",function(){g(m).toggleClass("BVStateOpen").toggleClass("BVStateClose")})}function e(l,m){if(l){g("#"+m+"AuthenticationWelcomeID").removeClass("BVDIHidden");g("#"+m+"AuthenticationInformationID").addClass("BVDIHidden")}else{g("#"+m+"AuthenticationWelcomeID").addClass("BVDIHidden");g("#"+m+"AuthenticationInformationID").removeClass("BVDIHidden")}g("#"+m+"FieldContainerReviewUseremailID").addClass("BVDIHidden");g("#"+m+"ReviewEditEmailDisclaimerID").addClass("BVDIHidden")}function a(l,m,o){var n=g("#"+l).find(":button");if(n.length==0){n=g("#"+l).find("a")}n.bind("click",function(){j(m,o)})}var i;function j(l,m){if(m&&typeof i==="function"){if(!i()){return}}g("#"+l).removeAttr("disabled");g(document.forms.BVEditForm).submit()}f.setValidationGuard=function(l){i=l};f.onPageLoad=function(m,l){if(m==="textCounter"){bvTextCounter(l.value,l.minimumElementSelector,l.minimumCharacterCount,l.zeroMinimumTextMessage,l.tooShortMessageMany,l.longEnoughMessage,l.tooShortMessageOne,l.maximumElementSelector,l.maximumCharacterCount,l.zeroMaximumTextMessage,l.shortEnoughMessageMany,l.shortEnoughMessageOne,l.shortEnoughMessageZero,l.tooLongMessageMany,l.tooLongMessageOne,l.prefix)}else{if(m==="enableSubmitOnBvInputChange"){c(l.formName,l.submitButtonID)
}else{if(m==="socialAnswering"){b();d()}else{if(m==="bindToggleOpenCloseClass"){k(l.elem,l.popin)}else{if(m==="initFormButton"){a(l.buttonID,l.hiddenInputID,l.validationRequired)}else{if(m==="processHostedAuth"){e(l.showSignOutSection,l.prefix)}}}}}}}});
$BV.Internal.define("fieldPicker",[window],["jquery.core"],function(a,f){a.bvFieldPickerToggleAdditionalFieldInput=function(p,t,s,r,k){var o=e(p).get(0);var g=c(r,k,p);if(s==true){o.checked=!o.checked}var i="BVSUHidden";var n=d(p);var m="#BVSU_FPField"+p+"ID";if(o.checked){f(m).removeClass(i);n.addClass("BVSU_FPLinkTopicSelected")}else{g.val("");n.removeClass("BVSU_FPLinkTopicSelected");f(m).addClass(i)}var h=b(t);var l=h.find(".BVSU_FPField");var q=l.size();var j=l.filter("."+i).size();if(j==q){h.addClass(i)}else{h.removeClass(i)}};a.bvFieldPickerToggleInputTextField=function(h,g){var j=d(h);var i="#BVSU_FPField"+h+"ID";f(i).toggleClass("BVSU_FPFieldFocused");j.toggleClass("BVSU_FPLinkTopicFocused")};a.bvFieldPickerToggleGroupItemLink=function(h,k){var i="";var j=e(h).get(0);if(j.checked){i="BVSU_FPLinkTopicHide"}else{i="BVSU_FPLinkTopicEdit"}var g=d(h);if(k=="remove"){g.removeClass("BVSU_FPLinkTopicHide");g.removeClass("BVSU_FPLinkTopicEdit")}else{g.addClass(i)}};function e(g){return f("#BVSU_FPItemCheckbox"+g+"ID")}function d(g){return f("#BVSU_FPItemLink"+g+"ID")}function c(i,h,g){return f("#"+i+"FieldTextArea"+h+g+"ID, #"+i+"FieldText"+h+g+"ID")}function b(g){return f("#BVSU_FPFieldSection"+g+"ID")}});
$BV.Internal.define("jquery.ui.core",[document],["jquery.core"],function(a,b){
/*
 * jQuery UI 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(c,f){c.ui=c.ui||{};if(c.ui.version){return}c.extend(c.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({propAttr:c.fn.prop||c.fn.attr,_focus:c.fn.focus,focus:function(g,h){return typeof g==="number"?this.each(function(){var i=this;setTimeout(function(){c(i).focus();if(h){h.call(i)}},g)}):this._focus.apply(this,arguments)},scrollParent:function(){var g;if((c.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){g=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(c.curCSS(this,"position",1))&&(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}else{g=this.parents().filter(function(){return(/(auto|scroll)/).test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!g.length?c(a):g},zIndex:function(j){if(j!==f){return this.css("zIndex",j)}if(this.length){var h=c(this[0]),g,i;while(h.length&&h[0]!==a){g=h.css("position");if(g==="absolute"||g==="relative"||g==="fixed"){i=parseInt(h.css("zIndex"),10);if(!isNaN(i)&&i!==0){return i}}h=h.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.each(["Width","Height"],function(j,g){var h=g==="Width"?["Left","Right"]:["Top","Bottom"],k=g.toLowerCase(),m={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};function l(o,n,i,p){c.each(h,function(){n-=parseFloat(c.curCSS(o,"padding"+this,true))||0;if(i){n-=parseFloat(c.curCSS(o,"border"+this+"Width",true))||0}if(p){n-=parseFloat(c.curCSS(o,"margin"+this,true))||0}});return n}c.fn["inner"+g]=function(i){if(i===f){return m["inner"+g].call(this)}return this.each(function(){c(this).css(k,l(this,i)+"px")})};c.fn["outer"+g]=function(i,n){if(typeof i!=="number"){return m["outer"+g].call(this,i)}return this.each(function(){c(this).css(k,l(this,i,true,n)+"px")})}});function e(i,g){var l=i.nodeName.toLowerCase();if("area"===l){var k=i.parentNode,j=k.name,h;if(!i.href||!j||k.nodeName.toLowerCase()!=="map"){return false}h=c("img[usemap=#"+j+"]")[0];return !!h&&d(h)}return(/input|select|textarea|button|object/.test(l)?!i.disabled:"a"==l?i.href||g:g)&&d(i)}function d(g){return !c(g).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this)}).length}c.extend(c.expr[":"],{data:function(j,h,g){return !!c.data(j,g[3])},focusable:function(g){return e(g,!isNaN(c.attr(g,"tabindex")))},tabbable:function(i){var g=c.attr(i,"tabindex"),h=isNaN(g);return(h||g>=0)&&e(i,!h)}});c(function(){var g=a.body,h=g.appendChild(h=a.createElement("div"));c.extend(h.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=h.offsetHeight===100;c.support.selectstart="onselectstart" in h;g.removeChild(h).style.display="none"});c.extend(c.ui,{plugin:{add:function(h,j,l){var k=c.ui[h].prototype;for(var g in l){k.plugins[g]=k.plugins[g]||[];k.plugins[g].push([j,l[g]])}},call:function(g,j,h){var l=g.plugins[j];if(!l||!g.element[0].parentNode){return}for(var k=0;k<l.length;k++){if(g.options[l[k][0]]){l[k][1].apply(g.element,h)
}}}},contains:function(h,g){return a.compareDocumentPosition?h.compareDocumentPosition(g)&16:h!==g&&h.contains(g)},hasScroll:function(j,h){if(c(j).css("overflow")==="hidden"){return false}var g=(h&&h==="left")?"scrollLeft":"scrollTop",i=false;if(j[g]>0){return true}j[g]=1;i=(j[g]>0);j[g]=0;return i},isOverAxis:function(h,g,i){return(h>g)&&(h<(g+i))},isOver:function(l,h,k,j,g,i){return c.ui.isOverAxis(l,k,g)&&c.ui.isOverAxis(h,j,i)}})})(b)});
$BV.Internal.define("jquery.ui.widget",[],["jquery.core","jquery.ui.core"],function(a){
/*
 * jQuery UI Widget 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(c,e){if(c.cleanData){var d=c.cleanData;c.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{c(h).triggerHandler("remove")}catch(j){}}d(f)}}else{var b=c.fn.remove;c.fn.remove=function(f,g){return this.each(function(){if(!g){if(!f||c.filter(f,[this]).length){c("*",this).add([this]).each(function(){try{c(this).triggerHandler("remove")}catch(h){}})}}return b.call(c(this),f,g)})}}c.widget=function(g,i,f){var h=g.split(".")[0],k;g=g.split(".")[1];k=h+"-"+g;if(!f){f=i;i=c.Widget}c.expr[":"][k]=function(l){return !!c.data(l,g)};c[h]=c[h]||{};c[h][g]=function(l,m){if(arguments.length){this._createWidget(l,m)}};var j=new i();j.options=c.extend(true,{},j.options);c[h][g].prototype=c.extend(true,j,{namespace:h,widgetName:g,widgetEventPrefix:c[h][g].prototype.widgetEventPrefix||g,widgetBaseClass:k},f);c.widget.bridge(g,c[h][g])};c.widget.bridge=function(g,f){c.fn[g]=function(j){var h=typeof j==="string",i=Array.prototype.slice.call(arguments,1),k=this;j=!h&&i.length?c.extend.apply(null,[true,j].concat(i)):j;if(h&&j.charAt(0)==="_"){return k}if(h){this.each(function(){var l=c.data(this,g),m=l&&c.isFunction(l[j])?l[j].apply(l,i):l;if(m!==l&&m!==e){k=m;return false}})}else{this.each(function(){var l=c.data(this,g);if(l){l.option(j||{})._init()}else{c.data(this,g,new f(j,this))}})}return k}};c.Widget=function(f,g){if(arguments.length){this._createWidget(f,g)}};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(g,h){c.data(h,this.widgetName,this);this.element=c(h);this.options=c.extend(true,{},this.options,this._getCreateOptions(),g);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(g,h){var f=g;if(arguments.length===0){return c.extend({},this.options)}if(typeof g==="string"){if(h===e){return this.options[g]}f={};f[g]=h}this._setOptions(f);return this},_setOptions:function(g){var f=this;c.each(g,function(h,i){f._setOption(h,i)});return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget()[g?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",g)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(g,h,j){var l=this.options[g];h=c.Event(h);h.type=(g===this.widgetEventPrefix?g:this.widgetEventPrefix+g).toLowerCase();j=j||{};if(h.originalEvent){for(var f=c.event.props.length,k;f;){k=c.event.props[--f];h[k]=h.originalEvent[k]}}this.element.trigger(h,j);return !(c.isFunction(l)&&l.call(this.element[0],h,j)===false||h.isDefaultPrevented())}}})(a)});
$BV.Internal.define("jquery.ui.mouse",[document],["jquery.core","jquery.ui.core","jquery.ui.widget"],function(a,b){
/*
 * jQuery UI Mouse 1.8.16
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(d,e){var c=false;d(a).mouseup(function(f){c=false});d.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var f=this;this.element.bind("mousedown."+this.widgetName,function(g){return f._mouseDown(g)}).bind("click."+this.widgetName,function(g){if(true===d.data(g.target,f.widgetName+".preventClickEvent")){d.removeData(g.target,f.widgetName+".preventClickEvent");g.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(h){if(c){return}(this._mouseStarted&&this._mouseUp(h));this._mouseDownEvent=h;var g=this,i=(h.which==1),f=(typeof this.options.cancel=="string"&&h.target.nodeName?d(h.target).closest(this.options.cancel).length:false);if(!i||f||!this._mouseCapture(h)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(h)&&this._mouseDelayMet(h)){this._mouseStarted=(this._mouseStart(h)!==false);if(!this._mouseStarted){h.preventDefault();return true}}if(true===d.data(h.target,this.widgetName+".preventClickEvent")){d.removeData(h.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(j){return g._mouseMove(j)};this._mouseUpDelegate=function(j){return g._mouseUp(j)};d(a).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);h.preventDefault();c=true;return true},_mouseMove:function(f){if(d.browser.msie&&!(a.documentMode>=9)&&!f.button){return this._mouseUp(f)}if(this._mouseStarted){this._mouseDrag(f);return f.preventDefault()}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,f)!==false);(this._mouseStarted?this._mouseDrag(f):this._mouseUp(f))}return !this._mouseStarted},_mouseUp:function(f){d(a).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(f.target==this._mouseDownEvent.target){d.data(f.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(f)}return false},_mouseDistanceMet:function(f){return(Math.max(Math.abs(this._mouseDownEvent.pageX-f.pageX),Math.abs(this._mouseDownEvent.pageY-f.pageY))>=this.options.distance)},_mouseDelayMet:function(f){return this.mouseDelayMet},_mouseStart:function(f){},_mouseDrag:function(f){},_mouseStop:function(f){},_mouseCapture:function(f){return true}})})(b)});
$BV.Internal.define("jquery.ui.slider",[],["jquery.core","jquery.ui.core","jquery.ui.widget","jquery.ui.mouse"],function(a){(function(c,d){var b=5;c.widget("ui.slider",c.ui.mouse,{widgetEventPrefix:"bv_slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var f=this,l=this.options,k=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),j="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",e=(l.values&&l.values.length)||1,h=[];this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(l.disabled?" ui-slider-disabled ui-disabled":""));this.range=c([]);if(l.range){if(l.range===true){if(!l.values){l.values=[this._valueMin(),this._valueMin()]}if(l.values.length&&l.values.length!==2){l.values=[l.values[0],l.values[0]]}}this.range=c("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+((l.range==="min"||l.range==="max")?" ui-slider-range-"+l.range:""))}for(var g=k.length;g<e;g+=1){h.push(j)}this.handles=k.add(c(h.join("")).appendTo(f.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(i){i.preventDefault()}).hover(function(){if(!l.disabled){c(this).addClass("ui-state-hover")}},function(){c(this).removeClass("ui-state-hover")}).focus(function(){if(!l.disabled){c(".ui-slider .ui-state-focus").removeClass("ui-state-focus");c(this).addClass("ui-state-focus")}else{c(this).blur()}}).blur(function(){c(this).removeClass("ui-state-focus")});this.handles.each(function(m){c(this).data("index.ui-slider-handle",m)});this.handles.keydown(function(q){var n=true,m=c(this).data("index.ui-slider-handle"),r,o,i,p;if(f.options.disabled){return}switch(q.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:n=false;if(!f._keySliding){f._keySliding=true;c(this).addClass("ui-state-active");r=f._start(q,m);if(r===false){return}}break}p=f.options.step;if(f.options.values&&f.options.values.length){o=i=f.values(m)}else{o=i=f.value()}switch(q.keyCode){case c.ui.keyCode.HOME:i=f._valueMin();break;case c.ui.keyCode.END:i=f._valueMax();break;case c.ui.keyCode.PAGE_UP:i=f._trimAlignValue(o+((f._valueMax()-f._valueMin())/b));break;case c.ui.keyCode.PAGE_DOWN:i=f._trimAlignValue(o-((f._valueMax()-f._valueMin())/b));break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(o===f._valueMax()){return}i=f._trimAlignValue(o+p);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(o===f._valueMin()){return}i=f._trimAlignValue(o-p);break}f._slide(q,m,i);return n}).keyup(function(m){var i=c(this).data("index.ui-slider-handle");if(f._keySliding){f._keySliding=false;f._stop(m,i);f._change(m,i);c(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(g){var h=this.options,k,m,f,i,p,l,n,j,e;if(h.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();k={x:g.pageX,y:g.pageY};m=this._normValueFromMouse(k);f=this._valueMax()-this._valueMin()+1;p=this;this.handles.each(function(o){var q=Math.abs(m-p.values(o));if(f>q){f=q;i=c(this);l=o}});if(h.range===true&&this.values(1)===h.min){l+=1;i=c(this.handles[l])}n=this._start(g,l);if(n===false){return false}this._mouseSliding=true;p._handleIndex=l;i.addClass("ui-state-active").focus();j=i.offset();e=!c(g.target).parents().andSelf().is(".ui-slider-handle");
this._clickOffset=e?{left:0,top:0}:{left:g.pageX-j.left-(i.width()/2),top:g.pageY-j.top-(i.height()/2)-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(g,l,m)}this._animateOff=true;return true},_mouseStart:function(e){return true},_mouseDrag:function(g){var e={x:g.pageX,y:g.pageY},f=this._normValueFromMouse(e);this._slide(g,this._handleIndex,f);return false},_mouseStop:function(e){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(e,this._handleIndex);this._change(e,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(f){var e,i,h,g,j;if(this.orientation==="horizontal"){e=this.elementSize.width;i=f.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{e=this.elementSize.height;i=f.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}h=(i/e);if(h>1){h=1}if(h<0){h=0}if(this.orientation==="vertical"){h=1-h}g=this._valueMax()-this._valueMin();j=this._valueMin()+h*g;return this._trimAlignValue(j)},_start:function(g,f){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}return this._trigger("start",g,e)},_slide:function(i,h,g){var e,f,j;if(this.options.values&&this.options.values.length){e=this.values(h?0:1);if((this.options.values.length===2&&this.options.range===true)&&((h===0&&g>e)||(h===1&&g<e))){g=e}if(g!==this.values(h)){f=this.values();f[h]=g;j=this._trigger("bv_slide",i,{handle:this.handles[h],value:g,values:f});e=this.values(h?0:1);if(j!==false){this.values(h,g,true)}}}else{if(g!==this.value()){j=this._trigger("bv_slide",i,{handle:this.handles[h],value:g});if(j!==false){this.value(g)}}}},_stop:function(g,f){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}this._trigger("stop",g,e)},_change:function(g,f){if(!this._keySliding&&!this._mouseSliding){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}this._trigger("change",g,e)}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e);this._refreshValue();this._change(null,0);return}return this._value()},values:function(f,j){var h,e,g;if(arguments.length>1){this.options.values[f]=this._trimAlignValue(j);this._refreshValue();this._change(null,f);return}if(arguments.length){if(c.isArray(arguments[0])){h=this.options.values;e=arguments[0];for(g=0;g<h.length;g+=1){h[g]=this._trimAlignValue(e[g]);this._change(null,g)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(f)}else{return this.value()}}}else{return this._values()}},_setOption:function(f,g){var e,h=0;if(c.isArray(this.options.values)){h=this.options.values.length}c.Widget.prototype._setOption.apply(this,arguments);switch(f){case"disabled":if(g){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.propAttr("disabled",true);this.element.addClass("ui-disabled")}else{this.handles.propAttr("disabled",false);this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(e=0;e<h;e+=1){this._change(null,e)}this._animateOff=false;break}},_value:function(){var e=this.options.value;e=this._trimAlignValue(e);return e},_values:function(e){var h,g,f;
if(arguments.length){h=this.options.values[e];h=this._trimAlignValue(h);return h}else{g=this.options.values.slice();for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(g[f])}return g}},_trimAlignValue:function(h){if(h<=this._valueMin()){return this._valueMin()}if(h>=this._valueMax()){return this._valueMax()}var e=(this.options.step>0)?this.options.step:1,g=(h-this._valueMin())%e,f=h-g;if(Math.abs(g)*2>=e){f+=(g>0)?e:(-e)}return parseFloat(f.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var h=this.options.range,g=this.options,p=this,f=(!this._animateOff)?g.animate:false,i,e={},k,m,l,n;if(this.options.values&&this.options.values.length){this.handles.each(function(r,o){i=(p.values(r)-p._valueMin())/(p._valueMax()-p._valueMin())*100;var q=0;if(p.orientation=="horizontal"&&(this.element[0].offsetWidth>0)){q=(this.handle[0].offsetWidth/this.element[0].offsetWidth)*i}e[p.orientation==="horizontal"?"left":"bottom"]=(i-q)+"%";c(this).stop(1,1)[f?"animate":"css"](e,g.animate);if(p.options.range===true){if(p.orientation==="horizontal"){if(r===0){p.range.stop(1,1)[f?"animate":"css"]({left:i+"%"},g.animate)}if(r===1){p.range[f?"animate":"css"]({width:(i-k)+"%"},{queue:false,duration:g.animate})}}else{if(r===0){p.range.stop(1,1)[f?"animate":"css"]({bottom:(i)+"%"},g.animate)}if(r===1){p.range[f?"animate":"css"]({height:(i-k)+"%"},{queue:false,duration:g.animate})}}}k=i})}else{m=this.value();l=this._valueMin();n=this._valueMax();i=(n!==l)?(m-l)/(n-l)*100:0;var j=0;if(p.orientation=="horizontal"&&(this.element[0].offsetWidth>0)){j=(this.handle[0].offsetWidth/this.element[0].offsetWidth)*i}e[p.orientation==="horizontal"?"left":"bottom"]=(i-j)+"%";this.handle.stop(1,1)[f?"animate":"css"](e,g.animate);if(h==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[f?"animate":"css"]({width:i+"%"},g.animate)}if(h==="max"&&this.orientation==="horizontal"){this.range[f?"animate":"css"]({width:(100-i)+"%"},{queue:false,duration:g.animate})}if(h==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[f?"animate":"css"]({height:i+"%"},g.animate)}if(h==="max"&&this.orientation==="vertical"){this.range[f?"animate":"css"]({height:(100-i)+"%"},{queue:false,duration:g.animate})}}}});c.extend(c.ui.slider,{version:"1.8.16"})}(a))});
$BV.Internal.define("jquery.rating",[],["jquery.core"],function(a){
/*
 ### jQuery Star Rating Plugin v2.5 - 2008-09-10 ###
 * http://www.fyneworks.com/ - diego@fyneworks.com
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 ###
 Project: http://plugins.jquery.com/project/MultipleFriendlyStarRating
 Website: http://www.fyneworks.com/jquery/star-rating/
*/
(function(b){b.rating={cancel:"Cancel Rating",cancelValue:"",trackingTag:"",bvTrack:"",split:0,starWidth:16,groups:{},event:{fill:function(g,d,c,e){this.drain(g);b(d).prevAll(".star_group_"+g).andSelf().addClass("star_"+(e||"hover"));var f=b(d).children("a");val=f.text();if(c.focus){c.focus.apply(b.rating.groups[g].valueElem[0],[val,f[0]])}if((navigator.userAgent.indexOf("OS 8_")>-1)&&(navigator.userAgent.match(/iPad|iPhone|iPod/i)!=null)){b(d).trigger("click")}},drain:function(e,d,c){b.rating.groups[e].valueElem.siblings(".star_group_"+e).removeClass("star_on").removeClass("star_hover")},reset:function(f,d,c){if(!b(b.rating.groups[f].current).is(".cancel")){b(b.rating.groups[f].current).prevAll(".star_group_"+f).andSelf().addClass("star_on")}var e=b(d).children("a");val=e.text();if(c.blur){c.blur.apply(b.rating.groups[f].valueElem[0],[val,e[0]])}},click:function(f,d,c){b.rating.groups[f].current=d;var e=b(d).children("a");val=e.text();b.rating.groups[f].valueElem.val(val);b.rating.event.drain(f,d,c);b.rating.event.reset(f,d,c);if(c.callback){c.callback.apply(b.rating.groups[f].valueElem[0],[val,e[0]])}}}};b.fn.rating=function(c){if(this.length==0){return this}c=b.extend({},b.rating,c||{});this.each(function(e){var g=b.extend({},c||{},(b.metadata?b(this).metadata():(b.meta?b(this).data():null))||{});var k=(this.name||"unnamed-rating").replace(/\[|\]/,"_");if(!b.rating.groups[k]){b.rating.groups[k]={count:0}}e=b.rating.groups[k].count;b.rating.groups[k].count++;b.rating.groups[k].readOnly=b.rating.groups[k].readOnly||g.readOnly||b(this).attr("disabled");if(e==0){b.rating.groups[k].valueElem=b('<input type="hidden" name="'+k+'" value=""'+(g.readOnly?' disabled="disabled"':"")+"/>");b(this).before(b.rating.groups[k].valueElem);if(b.rating.groups[k].readOnly||g.required){}else{b(this).before(b('<div class="cancel"><a title="'+g.cancel+'">'+g.cancelValue+"</a></div>").mouseover(function(){b.rating.event.drain(k,this,g);b(this).addClass("star_on")}).mouseout(function(){b.rating.event.reset(k,this,g);b(this).removeClass("star_on")}).click(function(){b.rating.event.click(k,this,g)}))}}var f=(g.bvTrack)?(' data-bvtrack="'+g.bvTrack+'"'):"";eStar=b('<div class="star"><a tabindex="0" href="#" onclick="return false;" id="star_link_'+k+"_"+this.value+'" name="'+g.trackingTag+'" title="'+(this.title||this.value)+'"'+f+">"+this.value+"</a></div>");b(this).after(eStar);if(g.half){g.split=2}if(typeof g.split=="number"&&g.split>0){var d=(b.fn.width?b(eStar).width():0)||g.starWidth;var j=(e%g.split),h=Math.floor(d/g.split);b(eStar).width(h).find("a").css({"margin-left":"-"+(j*h)+"px"})}b(eStar).addClass("star_group_"+k);if(b.rating.groups[k].readOnly){b(eStar).addClass("star_readonly")}else{b(eStar).addClass("star_live").mouseover(function(){b.rating.event.drain(k,this,g);b.rating.event.fill(k,this,g,"hover")}).mouseout(function(){b.rating.event.drain(k,this,g);b.rating.event.reset(k,this,g)}).click(function(){b.rating.event.click(k,this,g)})}if(this.checked){b.rating.groups[k].current=eStar}b(this).remove();if(e+1==this.length){b.rating.event.reset(k,this,g)}});for(n in b.rating.groups){(function(f,d,e){if(!f){return}b.rating.event.fill(e,f,c||{},"on");b(d).val(b(f).children("a").text())})(b.rating.groups[n].current,b.rating.groups[n].valueElem,n)}return this}})(a)});
$BV.Internal.define("ratingControls",[window],["exports","tooltip","jquery.core","analyticsHooks","jquery.ui.slider","jquery.rating"],function(j,l,k,i,o){function a(q,p){f(q,p);m(q,p)}function f(q,p){b();e(q,p)}function b(){i.rating.groups={}}function e(p,q){p.find("."+q+"RatingStarValueLabelContainer").hide();var r=p.find("."+q+"RatingStar");r.each(function(s){n(i(this),q)})}function h(p,r,q){p.find("."+r+"RatingStarValueLabelContainer").hide();var s=p.find("."+r+"RatingStar");delete i.rating.groups[s.attr("name")];s.each(function(t){n(i(this),r,q)})}function n(r,t,s){var u=r.parent("."+t+"RatingStars").find("."+t+"RatingStarsRequired").length>0;var p=r.parent("."+t+"RatingStars").find("."+t+"RatingStarsCancelTooltip").text();var q=r.parent("."+t+"RatingStars").find("."+t+"RatingStarsTrackingTag").text();s=s||{};r.rating({focus:function(y,x){var v=i(this).parent("."+t+"RatingStars").find("."+t+"RatingStarsLegend");var w=i(this).parent("."+t+"RatingStars").find("."+t+"RatingStarValueLabelContainer"+y).html();if(!v.data("initialValue")){v.data("initialValue",v.html())}v.data("prevValue",v.html());v.html(w);if(i.isFunction(s.focus)){s.focus(y,x)}},blur:function(x,w){var v=i(this).parent("."+t+"RatingStars").find("."+t+"RatingStarsLegend");v.html(v.data("prevValue"));if(i.isFunction(s.blur)){s.blur(x,w)}},callback:function(z,y){var v=i(this).parent("."+t+"RatingStars").find("."+t+"RatingStarsLegend");var x=i(this).parent("."+t+"RatingStars").find("."+t+"RatingStarValueLabelContainer"+z).html();if(z){v.data("prevValue",x);v.html(x)}else{v.html(v.data("initialValue"));v.removeData("prevValue")}var w=i(this).parent("."+t+"RatingStars").find("."+t+"RatingStarsSubmitLink");if((w!=null)&&(w.length>0)){w.click()}else{i(this).parent("."+t+"RatingStars").find("."+t+"RatingStarsSubmitLink"+z).click()}i(this.form).trigger("bvInputChange");if(i.isFunction(s.click)){s.click(z,y)}},required:u,cancel:p,trackingTag:q,bvTrack:r.attr("data-bvtrack")})}function m(q,p){g(q,p)}function g(p,q){p.find("."+q+"Slider").each(function(r){c(i(this),q)})}function c(s,q){var p=parseInt(s.find("."+q+"SliderStartValue").text());s.find("."+q+"SliderLegend").html(s.find("."+q+"SliderValueLabelContainer"+p).html());var r=parseInt(s.find("."+q+"SliderMaxValue").text());s.children(".ui-slider").slider({min:1,max:r,value:p,bv_slide:function(u,t){var v=i(this).parent("."+q+"Slider");v.find("."+q+"SliderLegend").html(v.find("."+q+"SliderValueLabelContainer"+t.value).html());i(this).parent("."+q+"Slider").find("."+q+"SliderInput").each(function(){var w=i(this).val();i(this).val(t.value);if(w!=t.value){i(this.form).trigger("bvInputChange");o.fireActionEvent(i(this).get(0),null,null,false,"ratingSlider")}})}});if(s.find("."+q+"SliderInput").val()==""){s.find("."+q+"SliderLegend").html(s.find("."+q+"SliderValueLabelContainerUndefinedValue").html())}}j.bvClearRatingSlider=function(p,q){i("#"+p+"."+q+"Slider").each(function(r){i(this).find("."+q+"SliderInput").val("");i(this).find("."+q+"SliderLegend").html(i(this).find("."+q+"SliderValueLabelContainerUndefinedValue").html())})};j.bvOnRadioRatingSelected=function(p,s,r,q){i("#"+p+"RadioRating"+s+"DisplayID").text(q);i("#"+p+"RadioRating"+s+"ItemsContainerID").find("label").each(function(t){if(t+1==r){i(this).addClass(p+"RadioLabelSelected")}else{i(this).removeClass(p+"RadioLabelSelected")}})};j.bvOnRadioSelected=function(q,u,s,p,t,r){if(t){i("#"+t).text(r)}i("#"+u).find("label").each(function(v){if(this.id==s){i(this).addClass(p)}else{i(this).removeClass(p)}})};function d(x,s,t,q){var v=s+"Hidden",y=x.find("."+s+"RatingNormalImage"),u=x.find("."+s+"RatingNormalOutOf"),r=x.find(".BVISNormal"),A=x.find(".BVISNormalTooltipBody"),z=k.newTooltip("BVTooltipID",500,10000,500,0,500,"BVISNormal"),p=true;h(x,s,{focus:function(C,B){A.text(q[C-1]);z.show(t,B.id,true)},blur:function(){z.hide()},click:function(){z.hide();p=false;w()}});r.addClass(v);y.mouseenter(function(){if(!p){return}y.add(u).addClass(v);r.removeClass(v)});r.mouseleave(w);
function w(){y.add(u).removeClass(v);r.addClass(v)}}l.onPageLoad=function(t,s,p){var q,r=s.prefix;if(t==="initPage"){b()}else{q=p.find("#"+s.id);if(t==="initStars"){h(q,r)}else{if(t==="initSlider"){c(q,r)}else{if(t==="initInteractiveSummary"){d(q,r,s.tooltipId,s.tooltipValues)}else{if(t="initRatingControls"){a(p,r)}}}}}}});
$BV.Internal.define("submitFrame",[window,document],["exports","jquery.core","parseUri","iframeSupport","requester","contentDisplay","lightbox","hostedAuthentication"],function(h,i,f,g,d,c,l,b,a,k){var j=function(o,n,p){var m=d(o);m.addParams({name:n,value:p});m.rebuild();return m.source};f.embed=function(n,m,o){g(function(){var q=function(C){return l.isUrlAllowed(C,m.allowedDomains)},x=m.submissionContainerDiv||"BVSubmissionContainer",t=m.submissionLoadingTimeout||15000,A=b.createTimer();if(m.forceUniversalLayout===true){n=j(n,"forceuniversallayout","true")}if(!q(n)){throw"Bazaarvoice: Url hostname is not allowed: "+n}var r=[];function z(C){var D;while(D=r.pop()){D(C)}}if(m.doShowSubmission){m.doShowSubmission(z)}if(m.submissionUI=="LIGHTBOX"&&m.submissionType!=="WORKBENCH"){a.setup("BVSubmissionLightbox",m.rootWrappers);a.displayWithContent();if(m.lightboxContainerContent){a.setContent(m.lightboxContainerContent)}else{a.setContent('<div class="BV"><div class="BVHeader BVLBHeader"><a href="#" onclick="window.bvLightbox.close(); return false;" class="BVDILink BVLink BVLinkClose" title="'+m.submissionLightboxCloseLinkAlt+'"><span class="BVDILinkSpan">'+m.submissionLightboxCloseLinkText+'</span></a></div><div class="BVContainer BVLBContainer" id="BVLBContainerID"></div></div>')}x=g("#BVLBContainerID");a.$contentContainer().parent().addClass("BVSubmissionLightboxWindow");r.push(function(C){if(!C||!C.preserveContainer){a.close()}})}if(typeof x==="function"){x=x("submission","BVSubmissionContainer",m)}var B=g(typeof x==="string"?"#"+x:x);if(!B[0]){throw"Bazaarvoice: Container element is not present on the page: "+x}B.addClass("BVSubmissionLoading BVSubmissionInProgress");r.push(function(){B.removeClass("BVSubmissionLoading BVSubmissionInProgress")});A.set(function(){z({preserveContainer:true});B.addClass("BVSubmissionTimeout").html(m.submissionUnavailableMessage||"Submission Currently Unavailable")},t);var u={},y=true,p=c.embedFrame(n,m.urlBase,q,B,"BVSubmissionFrame",m.frameWidth,m.frameInitialHeight,function v(){A.clear();B.removeClass("BVSubmissionLoading");h["BV"+m.scope.toUpperCase()+"isLoaded"]=true;f.onContentLoaded(B,m);if(y&&m.submissionUI=="LIGHTBOX"&&m.submissionType!=="WORKBENCH"){y=false;a.displayWithContent();a.centerInScreen()}},function s(E){for(var C in E){var D=E[C];if(!u[C]){D.bindToSubmitFrame(p.rpcConnection,{config:m,getFrameIndex:function(){for(var F=0;F<h.frames.length;F++){if(h.frames[F]===p.frameElement.contentWindow){return F}}},isUrlAllowed:q,scrollRelative:function(G){var F=g(p.frameElement).offset();g(h).scrollTop(F.top+G)},scrollToContainer:function(){if(m.submissionUI=="LIGHTBOX"&&m.submissionType!=="WORKBENCH"){g(h).scrollTop(a.$lightboxWindow().offset().top-parseInt(a.$lightboxWindow().css("margin-top")))}else{g(h).scrollTop(B.offset().top)}}});u[C]=true}}},function w(C,D){z({ignoreIframe:true});if(m.onSubmissionReturn&&m.onSubmissionReturn()===false){return}if(!q(C)){$BV.log("Bazaarvoice: Url hostname is not allowed: "+C);return}if(D){location.href=C}else{$BV.Internal.callAjax(C,m)}});r.push(function(C){if(!C||!C.ignoreIframe){p.teardown()}});e(p.rpcConnection,m);if(o){o()}})};function e(n,m){n.listen("getSessionParams",function(){return m.submissionSessionParameters});n.listen("setPageTitle",function(o){if(m.canSetPageTitle){i.title=o}});n.listen("getContainerHostname",function(){return location.hostname});n.listen("onSubmissionSuccess",function(o){if(m.onSubmissionSuccessInternal){m.onSubmissionSuccessInternal(o)}});n.listen("hostedAuthenticationFrame.doAuthLogin",function(o){k.handleDoAuthLogin(n,o)})}f.onContentLoaded=function(n,m){n.find("iframe").css("visibility","visible")};f.initialize=function(r,p,m){var q=[];for(var n in r){if(r[n].bindToSubmitFrame){q.push(n)}}c.connectFromEmbeddedFrame(q,p,function o(w,u){w.call("getSessionParams",function(x){if(typeof x==="string"){g('input[value="__BVSESSIONPARAMS__"]').val(x)}});var v=g('input[name="socialconnect_facebook_hostname"]');if(v.length){w.call("getContainerHostname",function(x){if(typeof x==="string"){v.val(x)
}})}if(i.title&&/[^\s]/.test(i.title)){w.call("setPageTitle",i.title)}for(var t in r){var s=r[t].connectFromSubmitFrame;if(s){s(w,{heightManager:u})}}f.containerCxn=w},function(){m();b.forceRepaint(g("iframe"))})};f.onPageLoad=function(n,m){if(n==="contentSubmitted"){if(f.containerCxn){f.containerCxn.call("onSubmissionSuccess",m)}else{if(h.BVInternalContentSubmitCallback){BVInternalContentSubmitCallback(m.uuid,m.client,m.subjectId,m.contentType)}}}}});
$BV.Internal.define("submitInjection",[window,document],["exports","jquery.core","parseUri","injectionRPC","requester","contentDisplay","lightbox","hostedAuthentication"],function(f,g,k,e,d,c,j,b,a,i){var h=function(n,m,o){var l=d(n);l.addParams({name:m,value:o});l.rebuild();return l.source};k.embed=function(m,l,n){e(function(){var p=function(z){return j.isUrlAllowed(z,l.allowedDomains)},u=l.submissionContainerDiv||"BVSubmissionContainer",r=l.submissionLoadingTimeout||15000,x=b.createTimer();if(l.forceUniversalLayout===true){m=h(m,"forceuniversallayout","true")}if(!p(m)){throw"Bazaarvoice: Url hostname is not allowed: "+m}var q=[];function w(z){var A;while(A=q.pop()){A(z)}}if(l.doShowSubmission){l.doShowSubmission(w)}if(l.submissionUI=="LIGHTBOX"&&l.submissionType!=="WORKBENCH"){a.setup("BVSubmissionLightbox",l.nestedRootClasses);a.displayWithContent();f.bvSubmissionLightbox=a;if(l.lightboxContainerContent){a.setContent(l.lightboxContainerContent)}else{a.setContent('<div class="BV"><div class="BVHeader BVLBHeader"><a href="#" onclick="window.bvSubmissionLightbox.close(); return false;" class="BVDILink BVLink BVLinkClose" title="'+l.submissionLightboxCloseLinkAlt+'"><span class="BVDILinkSpan">'+l.submissionLightboxCloseLinkText+'</span></a></div><div class="BVContainer BVLBContainer" id="BVLBContainerID"></div></div>')}u=e("#BVLBContainerID");a.$contentContainer().parent().addClass("BVSubmissionLightboxWindow");q.push(function(z){if(!z||!z.preserveContainer){a.close()}})}if(typeof u==="function"){u=u("submission","BVSubmissionContainer",l)}var y=e(typeof u==="string"?"#"+u:u);if(!y[0]){throw"Bazaarvoice: Container element is not present on the page: "+u}y.addClass("BVSubmissionLoading BVSubmissionInProgress");q.push(function(){y.removeClass("BVSubmissionLoading BVSubmissionInProgress")});x.set(function(){w({preserveContainer:true});y.addClass("BVSubmissionTimeout").html(l.submissionUnavailableMessage||"Submission Currently Unavailable")},r);var v=true,o=c.embedFrame(m,l,p,y,"BVSubmissionFrame","",function s(){x.clear();y.removeClass("BVSubmissionLoading");f["BV"+l.scope.toUpperCase()+"isLoaded"]=true;if(v&&l.submissionUI=="LIGHTBOX"&&l.submissionType!=="WORKBENCH"){v=false;a.displayWithContent();a.centerInScreen()}},function t(z,A){w({ignoreIframe:true});if(l.onSubmissionReturn&&l.onSubmissionReturn()===false){return}if(!p(z)){$BV.log("Bazaarvoice: Url hostname is not allowed: "+z);return}if(A){location.href=z}else{$BV.Internal.callAjax(z,l)}});q.push(function(z){if(!z||!z.ignoreIframe){o.teardown()}});if(n){n()}})};k.initialize=function(m){c.connectFromHiddenFrame(m,function l(n){k.containerCxn=n})};k.onPageLoad=function(q,p,l,o,n){var m=n&&n.apiConfig();if(q==="contentSubmitted"){if(m.onSubmissionSuccessInternal){m.onSubmissionSuccessInternal(p)}else{if(f.BVInternalContentSubmitCallback){BVInternalContentSubmitCallback(p.uuid,p.client,p.subjectId,p.contentType)}}}}});
$BV.Internal.define("appendSubmission",[window],["exports","jquery.core"],function(b,a,d){var c={PRR:{container:"BVSubmissionContainer",css:["bazaarvoice.css","bazaarvoiceUI.css"],displayPrefix:"BVRR",frame:"BVSubmissionFrame",setupComplete:false},QA:{container:"BVQAContainer",css:["bazaarvoiceQA.css"],displayPrefix:"BVQA",frame:"BVQAFrame",setupComplete:false},SY:{container:"BVSYContainer",css:["bazaarvoiceSY.css"],displayPrefix:"BVSY",frame:"BVSYFrame",setupComplete:false}};d.extend(a,{_appSettings:c,setStaticResourceURL:function(f,e){c[f].staticResourceURL=e},setupContainer:function(h,g,e){if(d("#"+c[g].frame).length){c[g].setupComplete=true}if(c[g].setupComplete){d("#"+c[g].frame).get(0).src=e;return true}else{if(!("staticResourceURL" in c[g])){return false}}for(var f in c[g].css){d("head").append('<link type="text/css" rel="stylesheet" href="'+c[g].staticResourceURL+c[g].css[f]+'"></link>')}d("#"+c[h].container).after('<div id="'+c[g].container+'" style="display: none;" class="'+c[g].displayPrefix+'SubmissionContainerAppended"></div>');d("#"+c[h].frame).after('<iframe id="'+c[g].frame+'" name="'+c[g].frame+'" class="BVSUHidden" src="'+e+'"></iframe>');c[g].setupComplete=true;return false},showContent:function(f){if(!c[f]||!c[f].setupComplete){return}for(var e in c){if(e!=f){d("#"+c[e].container).hide()}}d("#"+c[f].container).show()}});b.bvAppendSubmission=a;a.onPageLoad=function(f,e){if(f==="showContentIfNecessary"){if(b.bvAppendSubmission){b.bvAppendSubmission.showContent(e.applicationCode)}}}});
$BV.Internal.define("photoUpload",[window,document],["exports","jquery.core","iframeSupport","rpcSupport","requester"],function(g,h,d,f,c,i,j){var e="BVStateDisabled";g.bvMakePhotoReceiver=function(k,m,l){return{prepareRendererFrame:function(u,q){if(q){var p=$BV.getConfiguration();var n=p&&p.urlBase||i.asOrigin(u);var v=function(w){return j.isUrlAllowed(w,p.allowedDomains)};var o=c.embedFrame(u,n,v,f("#"+k+"FieldInputPhotoUploadID"),k+"InlinePhotoUploadFrame",500,100,f.noop,f.noop,f.noop);var s=o.rpcConnection;s.listen("photoRenderer.sendErrorsToReceiver",function(w){bvPhotoReceiver.onUploadErrors(w)});s.listen("photoRenderer.sendSuccessToReceiver",function(w){bvPhotoReceiver.onUploadSuccess(w)});s.listen("photoRenderer.sendWidgetFinish",function(){bvPhotoReceiver.onWidgetRenderFinish()});s.listen("photoRenderer.sendStartPhotoUploadToReceiver",function(){bvPhotoReceiver.onStartUploadSubmit()});s.listen("photoRenderer.sendResize",function(y,x,w){bvPhotoReceiver.resizeRendererFrame(y,x,w)})}else{var t=k+"InlinePhotoUploadFrame";var r=l.document.getElementById(t);r.src=u}},markSubmitInProgress:function(){l.bvPhotoUploadSubmitted=true},clearSubmitInProgress:function(){l.bvPhotoUploadSubmitted=false},isSubmitInProgress:function(){return(typeof l.bvPhotoUploadSubmitted!="undefined")&&(l.bvPhotoUploadSubmitted==true)},getNumberOfMaximumPhotoUploads:function(){var n=this.editForm().elements[k+"PhotoMaxNumberOfUploads"];return parseInt(n.value)},onStartUploadSubmit:function(){this.showHideOnUploadElement(false);if(this.editForm()){var o=this.firstVacantUploadSlotNumber();if(o){this.setTargetPhotoSlotNumber(o);this.showWaitingMessageInTargetUploadSlot();if((o%2)==1){var n=this.getPhotoUploadContainerSlot(o+1);if(n.style.display!="block"){this.showSameFieldMessageInSlotIfEmpty(o+1)}}this.markSubmitInProgress();this.enablePrimaryPreviewButton(false)}}},showHideOnUploadElement:function(o){var n=l.document.getElementById(k+"PhotoUploadHideOnUploadID");if(n){n.style.display=o?"block":"none"}},resizeRendererFrame:function(q,p,n){var o=l.document.getElementById(q);if(!o){o=l.document.getElementsByName(q)[0]}o.style.width=p+"px";o.style.height=n+"px"},onUploadErrors:function(n){this.onUploadCleanup();this.renderPhotoUploadErrors(n);this.clearAndResetTargetUploadSlot();this.compactPhotoSlots()},onUploadSuccess:function(n){this.onUploadCleanup();this.renderPhotoWidgetPrototypeHtml(n)},onWidgetRenderFinish:function(){if(!this.firstVacantUploadSlotNumber()){this.showMaxUploadMessage()}},onUploadCleanup:function(){this.clearSubmitInProgress();this.enablePrimaryPreviewButton(true);this.clearErrorMessages()},renderPhotoUploadErrors:function(o){var n=l.document.getElementById(k+"UploadedImagesErrorsBlockID");if(n){n.innerHTML+=o}},renderPhotoWidgetPrototypeHtml:function(o){var p=this.targetSlotContainer();if(p){var n=this.getTargetPhotoSlotNumber();p.innerHTML=o.replace(/prototype/g,n);if(0==(n%2)){this.showNextRowIfPossible(n+1)}if(!this.firstVacantUploadSlotNumber()){this.showMaxUploadMessage()}if(l.bvcpAvatarSelection){l.bvcpAvatarSelection.onPhotoUpload(p)}f(p).trigger("change");l.$bv(this.editForm()).trigger("bvInputChange")}},clearErrorMessages:function(){var n=l.document.getElementById(k+"PhotoUploadErrorsID");if(n){n.parentNode.removeChild(n)}},removePhoto:function(n){var p=this.getPhotoUploadContainerSlot(n);if(p){var o=this.editForm().elements["photourl_"+n].cloneNode(true);o.value="";p.innerHTML=l.document.getElementById(k+"AdditionalPhotoMessageID").innerHTML;p.appendChild(o);this.hideMaxUploadMessage();this.compactPhotoSlots();p.className=k+"PhotoUploadContainer";if(l.bvcpAvatarSelection){l.bvcpAvatarSelection.onPhotoRemove(p)}f(p).trigger("change");l.$bv(this.editForm()).trigger("bvInputChange")}},removeAllPhotos:function(){var n;while(n=this.lastOccupiedUploadSlotNumber()){this.removePhoto(n)}},compactPhotoSlots:function(){if(this.editForm()){var n=this.lastOccupiedUploadSlotNumber();if(n==null){this.hideAllSlotsAfterAndIncluding(1);this.showHideOnUploadElement(true)
}else{if((n%2)==1){this.showSameFieldMessageInSlotIfEmpty(n+1);this.hideAllSlotsAfterAndIncluding(n+2)}else{this.showAdditionalFieldMessageInSlotIfEmpty(n+1);this.showSameFieldMessageInSlotIfEmpty(n+2);this.hideAllSlotsAfterAndIncluding(n+3)}}}},hideAllSlotsAfterAndIncluding:function(n){var o=this.getNumberOfMaximumPhotoUploads();var p;for(p=n;p<=o;p++){this.getPhotoUploadContainerSlot(p).style.display="none"}},clearAndResetTargetUploadSlot:function(){var n=this.getTargetPhotoSlotNumber();if(n%2==0){this.showSameFieldMessageInSlotIfEmpty(n)}else{this.showAdditionalFieldMessageInSlotIfEmpty(n)}},targetSlotContainer:function(){var n=this.getTargetPhotoSlotNumber();if(!n){return null}return this.getPhotoUploadContainerSlot(n)},showMaxUploadMessage:function(){l.$bv("#"+k+"PhotoUploadControlsID").hide();l.$bv("#"+k+"PhotoUploadMaximumImagesID").show()},hideMaxUploadMessage:function(){l.$bv("#"+k+"PhotoUploadControlsID").show();l.$bv("#"+k+"PhotoUploadMaximumImagesID").hide()},firstVacantUploadSlotNumber:function(){var n=this.getNumberOfMaximumPhotoUploads();var p;for(p=1;p<=n;p++){var o=this.editForm().elements["photourl_"+p];if(o&&o.value==""){return p}}return null},lastOccupiedUploadSlotNumber:function(){var n=this.getNumberOfMaximumPhotoUploads();var p;for(p=n;p>0;p--){var o=this.editForm().elements["photourl_"+p];if(o&&o.value!=""){return p}}return null},showNextRowIfPossible:function(q){if(this.editForm()){var r=(q+1);var p=this.editForm().elements["photourl_"+q];var o=this.editForm().elements["photourl_"+r];if((p&&p.value=="")&&(o&&o.value=="")){var n=this.getPhotoUploadContainerSlot(q);n.style.display="block";this.showSameFieldMessageInSlotIfEmpty(r)}}},showWaitingMessageInTargetUploadSlot:function(){this.showInSlotIfEmpty("PleaseWaitMessageID",this.getTargetPhotoSlotNumber())},showAdditionalFieldMessageInSlotIfEmpty:function(n){this.showInSlotIfEmpty("AdditionalPhotoMessageID",n)},showSameFieldMessageInSlotIfEmpty:function(n){this.showInSlotIfEmpty("SameFieldMessageID",n)},showInSlotIfEmpty:function(n,p){var s=this.editForm().elements["photourl_"+p];if(s&&s.value==""){var r=this.getPhotoUploadContainerSlot(p);if(r){var o=s.cloneNode(true);var q=k+n;r.innerHTML=l.document.getElementById(q).innerHTML;r.appendChild(o);r.style.display="block"}}},enablePrimaryPreviewButton:function(p){var n="#"+k+"Preview"+m+"ButtonID";var q="#"+k+"Submit"+m+"ButtonID";var o=l.$bv(n+", "+q);o.toggleClass(e,!p);o.attr("disabled",!p)},setTargetPhotoSlotNumber:function(n){l.document.getElementById(k+"PhotoUploaderTargetID").value=n},getTargetPhotoSlotNumber:function(){var n=l.document.getElementById(k+"PhotoUploaderTargetID");return n?parseInt(n.value):null},getPhotoUploadContainerSlot:function(n){return l.document.getElementById(k+"PhotoUploadContainerID_"+n)},editForm:function(){return l.document.forms[k+"EditForm"]}}};g.bvMakePhotoRenderer=function(l,k,m){var n;return{getConnectionToParent:function(){if(!n){c.connectFromEmbeddedFrame([],m,function(o){n=o})}return n},getPhotoWidgetPrototype:function(){return k.document.getElementById(l+"UploadedPhotoID")},sendResizeRendererFrameToReceiver:function(s){var o,r,q=f("form[name='"+l+"PhotoUploadForm']");if(q.is(":visible")){r=q.width()+1;o=q.height()}else{var p=q.clone(false);p.css({position:"absolute",visibility:"hidden",display:"block",left:"-10000px"});p.appendTo(parent.document.body);r=p.width()+1;o=p.height();p.remove()}if(s){s.resizeRendererFrame(k.name,r,o)}else{this.getConnectionToParent().call("photoRenderer.sendResize",k.name,r,o)}},sendOnWidgetRenderFinish:function(o){if(o){o.onWidgetRenderFinish()}else{this.getConnectionToParent().call("photoRenderer.sendWidgetFinish")}},sendStartPhotoUploadToReceiver:function(o){if(o){o.onStartUploadSubmit()}else{this.getConnectionToParent().call("photoRenderer.sendStartPhotoUploadToReceiver")}},sendSuccessToReceiver:function(p){var o=this.getPhotoWidgetPrototype();if(o){var q=o.innerHTML;if(p){p.onUploadSuccess(q)}else{this.getConnectionToParent().call("photoRenderer.sendSuccessToReceiver",q)
}}},sendErrorsToReceiver:function(o){var p=this.errors();if(p){if(o){o.onUploadErrors(p.parentNode.innerHTML)}else{this.getConnectionToParent().call("photoRenderer.sendErrorsToReceiver",p.parentNode.innerHTML)}}},errors:function(){return h.getElementById(l+"PhotoUploadErrorsID")},contentFormElement:function(){return k.document.forms[l+"PhotoUploadForm"]}}};g.bvSwapImage=function(){var k,m;var l=arguments;if(!h.BV_sr){h.BV_sr=[]}var o=h.BV_sr;var n=o.length;if(l[2]){m=l[2]}else{m=null}if((k=b(l[0],m))){o[n++]=k;if(!k.oSrc){k.oSrc=k.src}k.src=l[1]}};g.bvSwapImgRestore=function(){var m,k,l=h.BV_sr;for(m=0;l&&m<l.length&&(k=l[m])&&k.oSrc;m++){k.src=k.oSrc}};function b(q,o){var m,l,k;if(!o){o=h}if((m=q.indexOf("?"))>0&&parent.frames.length){o=parent.frames[q.substring(m+1)].document;q=q.substring(0,m)}if(!(k=o[q])&&o.all){k=o.all[q]}for(l=0;!k&&l<o.forms.length;l++){k=o.forms[l][q]}for(l=0;!k&&o.layers&&l<o.layers.length;l++){k=b(q,o.layers[l].document)}if(!k&&o.getElementById){k=o.getElementById(q)}return k}function a(k,o,m,n){var l=bvMakePhotoReceiver(k,o,m);f.extend(l,{showMaxUploadMessage:function(){m.$bv(n).hide();m.$bv("#"+k+"FieldPhotoFieldHelperID").hide();m.$bv("#"+k+"PhotoUploadMaximumImagesID").show()},hideMaxUploadMessage:function(){m.$bv(n).show();m.$bv("#"+k+"FieldPhotoFieldHelperID").show();m.$bv("#"+k+"PhotoUploadMaximumImagesID").hide()},enablePrimaryPreviewButton:function(q){var t=k+"ButtonPreviewID";var p=m.$bv("#"+t);p.toggleClass(e,!q);m.$bv(".BVButton",p).attr("disabled",!q);var r=k+"ButtonSubmitID";var s=m.$bv("#"+r);s.toggleClass(e,!q);m.$bv(".BVButton",s).attr("disabled",!q)}});return l}d.onPageLoad=function(o,n){if(o==="initUniversalContainer"){var k=n.displayPrefix,q=n.contentType,m=n.photoUploadLink,l=n.fileInputSize,p=n.controlsSelector;g.bvPhotoReceiver=a(k,q,g,p);g.bvPhotoReceiver.prepareRendererFrame(m+"&fileinputsize="+l,n.rpcInjectedSubmission)}}});
$BV.Internal.define("textCounter",[window],["exports","jquery.core","contentSubmit"],function(j,d,i,g){var a="?";var f=[".BVStateStart",".BVStateIncomplete",".BVStateComplete",".BVStateOver"];var b=[".BVStateCountUpZero",".BVStateCountUpOne",".BVStateCountUpMany",".BVStateCountdownFromMinMany",".BVStateCountdownFromMinOne",".BVStateCountdownFromMinZero",".BVStateCountdownFromMaxMany",".BVStateCountdownFromMaxOne",".BVStateCountdownFromMaxZero",".BVStateOverMaxZero",".BVStateOverMaxOne",".BVStateOverMaxMany"];var l={};function c(p,o,m){var q=o<=0,n=m<=0;if(p==0){return".BVStateStart"}if(q&&n){return".BVStateComplete"}if(q){return p<m?".BVStateComplete":".BVStateOver"}if(n){return p<o?".BVStateIncomplete":".BVStateComplete"}if(p<o){return".BVStateIncomplete"}if(p<=m){return".BVStateComplete"}return".BVStateOver"}function e(r,q,m){var o=q>0,t=m>0,n=[],s=[],p;if(r==0){n.push(".BVStateCountUpZero")}else{if(r==1){n.push(".BVStateCountUpOne")}else{n.push(".BVStateCountUpMany")}}if(o){if(r>=q){n.push(".BVStateCountdownFromMinZero")}else{if(r==q-1){n.push(".BVStateCountdownFromMinOne")}else{n.push(".BVStateCountdownFromMinMany")}}}if(t){if(r>=m){n.push(".BVStateCountdownFromMaxZero")}else{if(r==m-1){n.push(".BVStateCountdownFromMaxOne")}else{n.push(".BVStateCountdownFromMaxMany")}}if(r<=m){n.push(".BVStateOverMaxZero")}else{if(r==m+1){n.push(".BVStateOverMaxOne")}else{if(r>m){n.push(".BVStateOverMaxMany")}}}}for(p=0;p<b.length;++p){if(i.inArray(b[p],n)<0){s.push(b[p])}}return{active:n,inactive:s}}function k(o,p,n,m){return function(){var t=n<=0,q=m<=0,s,u,r;s=p.hasClass("BVFieldTextHelper")?"":g.normalizeMultiLineInputText(p.val());o.find(".BVCounterCountUp").text(s.length);o.find(".BVCounterCountdownFromMin").text(t?a:Math.max(n-s.length,0));o.find(".BVCounterCountdownFromMax").text(q?a:Math.max(m-s.length,0));o.find(".BVCounterOverMax").text(q?a:Math.max(s.length-m,0));u=e(s.length,n,m);o.find(u.active.join(", ")).show();o.find(u.inactive.join(", ")).hide();r=c(s.length,n,m);o.find(r).show();o.find(".BVStateDriven:not("+r+")").hide()}}function h(n,m){if(i.browser.msie){n.bind("propertychange",function(){if(event.propertyName=="value"){m.apply(this)}})}n.bind("paste blur keyup",m)}d.isInitialized=function(m){return !!l[m]};d.resetToStartState=function(m){if(l[m]){l[m].handler()}};d.onPageLoad=function(r,p){if(r==="initTextCounter"){var s=i("#"+p.inputId),q=i("#"+p.counterId),n=p.min,m=p.max;l[p.inputId]=p;var o=k(q,s,n,m);l[p.inputId].handler=o;h(s,o);o()}}});
$BV.Internal.define("fieldTextPrompt",[window],["exports","jquery.core","textCounter"],function(f,g,e,b){var h={};function d(j){e("#"+j+"Hidden").val(e("#"+j).val())}function a(j){var k=e("#"+j);if(k.val()==h[j]){k.val("");k.removeClass("BVFieldTextHelper")}}function i(j,k){var l=e("#"+j);if(l.val()==""){l.val(h[j]);l.addClass("BVFieldTextHelper");if(b.isInitialized(j)){b.resetToStartState(j);k.stopImmediatePropagation()}}}function c(j){var l=e("#"+j.inputId+"Hidden");h[j.inputId]=j.textPrompt;var k=e("#"+j.inputId);if(k.val()==""){k.val(h[j.inputId]);k.addClass("BVFieldTextHelper")}k.removeAttr("name");k.bind("focus",function(){a(j.inputId)});k.bind("blur",function(m){d(j.inputId);i(j.inputId,m);l.trigger("blur")});k.bind("change keyup paste",function(){d(j.inputId);l.trigger("change");l.trigger("keyup")});if(b.isInitialized(j.inputId)){b.resetToStartState(j.inputId)}}g.onPageLoad=function(k,j){if(k==="initFieldTextPrompt"){c(j)}}});
$BV.Internal.define("deviceFingerprint",[window,document],["exports","jquery.core"],function(i,j,m,g){var b,a=$BV.Internal.newLatch(1),h,l=5,c=100;function k(n){if(!n){return}var o=n.find(":input[name=devicefingerprint]");if(o.size==0){return}d(function(){o.val(b)})}function d(q){var p=g.isFunction(q);if(b){if(p){q(b)}return}if(p){a.queue(function(){q(b)})}if(!g.isFunction(i.ioGetBlackbox)){var n=i.io_bb_callback;if(n){a.queue(function(){i.io_bb_callback=n;n=false})}i.io_install_stm=false;i.io_exclude_stm=12;i.io_install_flash=false;i.io_enable_rip=true;i.io_bb_callback=function(r,s){if(s){b=r;delete i.io_bb_callback;a.release()}if(n){n.apply(i,[r,s])}};if(h){var o=j.createElement("script");o.type="text/javascript";o.src=h;j.getElementsByTagName("head")[0].appendChild(o)}else{$BV.log("Unable to calculate device id due to absent script")}}else{e()}}function e(n){if(!g.isFunction(i.ioGetBlackbox)){return}var o=ioGetBlackbox();n=n||0;if(o.finished||n>l){b=o.blackbox;a.release();return}i.setTimeout(function(){e(n+1)},c)}function f(n){if(!h&&n){h=n}}m.collectFingerprint=d;m.setDeviceFingerprintScriptURL=f;m.getCurrentFingerprint=function(){return b};m.onPageLoad=function(p,o,n){f(o.deviceFingerprintScriptURL);if(p==="prepare"){k(n)}}});
$BV.Internal.define("rr/reviewSubmissionRR",[window],["jquery.core","ratingControls"],function(a,b){a.bvrrMakeSelectedRadioLabelBold=function(e,d,c){bvOnRadioRatingSelected("BVRR",e,d,c)};a.bvrrToggleAbbreviatedProductDescription=function(){b("#BVRRProductDescriptionAbbreviatedID").toggleClass("BVRRProductDescriptionVisible").toggleClass("BVRRProductDescriptionHidden");b("#BVRRProductDescriptionFullID").toggleClass("BVRRProductDescriptionVisible").toggleClass("BVRRProductDescriptionHidden");b("#BVRRShowFullProductDescriptionLinkID").toggleClass("BVRRProductDescriptionLinkVisible").toggleClass("BVRRProductDescriptionLinkHidden");b("#BVRRHideFullProductDescriptionLinkID").toggleClass("BVRRProductDescriptionLinkVisible").toggleClass("BVRRProductDescriptionLinkHidden")}});
