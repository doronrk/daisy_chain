function containsDoubleByte(a){for(var a=new String(a),b=0;b<a.length;b++)if(chr=a.charCodeAt(b),127<chr)return!0;return!1}function isValidEmail(a){return containsDoubleByte(a)||0!=a.length&&(5>a.length||0<a.indexOf(" ")||1>a.indexOf("@")||a.lastIndexOf(".")<a.indexOf("@")+2||a.lastIndexOf(".")>=a.length-2)?!1:!0}function isValidUTF8length(a,b){return utf8StringByteLength(a)>b?!1:!0}
function utf8StringByteLength(a){if(null===a)return 0;var a=""+a,b=a.length;for(i=0;i<a.length;i++)chr=a.charCodeAt(i),127<chr&&(b+=1),2047<chr&&(b+=1);return b}function fieldClear(a){a.Val?""==a.value?(a.value=a.Val,a.Val=null,a.first=null):a.Val=null:a.first||(a.Val=a.value,a.value="",a.first="true")}function trimMe(a){if(a&&a.value){var b=a.value,b=b.replace(/^\s+|\s+$/g,"");a.value=b}}function convertToLowerCase(a){var b=a.value,b=b.toLowerCase();a.value=b}var busy=!1;
function Add2ShopCart(a){busy||(busy=!0,a.action="OrderItemUpdate",a.URL.value="OrderCalculate?updatePrices=1&calculationUsageId=-1&calculationUsageId=-2&calculationUsageId=-6&calculationUsageId=-7&dummaryparam=1&URL=OrderItemDisplay&errorViewName=ProductDisplayErrorView",a.submit())}
function Add2WishList(a){if(checkForSizeAndColor()){var b=a.getElementsByTagName("input"),d,c;for(d in b)c=b[d].id,null!=c&&-1!=c.indexOf("quantity")&&(b[d].value=1);busy||(busy=!0,a.action="InterestItemAdd",a.URL.value="InterestItemDisplay",a.submit())}}
function Add2ShopCartModal(a){checkForSizeAndColor()&&!busy&&(busy=!0,a.action="OrderItemUpdate",a.URL.value="OrderCalculate?updatePrices=1&calculationUsageId=-1&calculationUsageId=-2&calculationUsageId=-6&calculationUsageId=-7&dummaryparam=1&URL=SuccessView&errorViewName=FailureView",$(a).submit())}
function Add2WishListModal(a){if(checkForSizeAndColor()){var b=a.getElementsByTagName("input"),d,c;for(d in b)c=b[d].id,null!=c&&-1!=c.indexOf("quantity")&&(b[d].value=1);busy||(busy=!0,a.action="InterestItemAdd",a.URL.value="SuccessView",$(a).submit())}}function jQueryDisplayIntegerValue(a,b,d){var c="0",c=getUserCookieValue(a,b);null==c&&(c="0");$(d).html(c)}function displayIntegerValue(a,b){var d="0",d=getUserCookieValue(a,b);null==d&&(d="0");document.write(d)}
function displayAmountValue(a,b){var d="0.00",d=getUserCookieValue(a,b);if(null!=d){var c=d.indexOf(".");3<d.length-c?d=d.substring(0,c+3):-1!=c&&2==d.length-c?d+="0":-1==c&&(d+=".00")}else d="0.00";document.write(d)}function getUserCookieValue(a,b){var d=getCookie(a);return null==d?null:(d=d.match(b+"~~~(.*?)(@)"))?unescape(d[1]):null}function getCookie(a){return(a=document.cookie.match(a+"=(.*?)(;|$)"))?unescape(a[1]):null}function isEmpty(a){return null==a?!0:!a.match(/[^\s]/)}
var containerResizedTooMuchWidth=1005;function addContainerResizedTooMuchClass(){$("div#container").addClass("container-resized-too-much");$("div.shoppingcart-body").addClass("container-resized-too-much")}function removeContainerResizedTooMuchClass(){$("#container").removeClass("container-resized-too-much");$("div.shoppingcart-body").removeClass("container-resized-too-much")}
function stAddressExt(a,b,d,c,f,g,e,h,k,l,m,n,o,p,q,r,s,t,u,j,v){this.addressId=a;this.storeLocation=b;this.associatedMall=d;this.storeInformation=c;this.city=f;this.state=g;this.address1=e;this.address2=h;this.zipCode=k;this.phone=l;this.email=m;this.lat=n;this.lon=o;this.point=p;this.loc=q;this.display=r;this.distance=s;this.locationLatitude=t;this.locationLongitude=u;this.nickname=j;this.storeNumber=-1!=j.indexOf("#")?j.split("#")[1]:j;this.url=v}
function compareDistance(a,b){return a.distance-b.distance}function setAddrObjectPoints(a){for(var b=0;b<a.length;b++){var d=new google.maps.LatLng(a[b].locationLatitude,a[b].locationLongitude);a[b].point=d;a[b].display=1}}
function toggleNearByMarkers(){for(var a=new google.maps.LatLngBounds,b=0;b<addrObjectArr.length;b++){if(1==addrObjectArr[b].display)if(void 0==addrObjectArr[b].mapMarker){var d=showStoreMarker(addrObjectArr[b].point,addrObjectArr[b].marker_letterCount,addrObjectArr[b].marker_popupData,addrObjectArr[b].marker_StoreName);addrObjectArr[b].mapMarker=d}else addrObjectArr[b].mapMarker.setVisible(!addrObjectArr[b].mapMarker.getVisible());a.extend(addrObjectArr[b].point)}map.setCenter(a.getCenter());map.fitBounds(a);
"(show on map)"==$(this).text()?$(this).text("(hide on map)"):$(this).text("(show on map)")}
function displayResultsNearByDetails(a){addrObjectArr.sort(compareDistance);for(var b=$(".store-nearby ul"),d=0,c=0;c<addrObjectArr.length;c++)if(addrObjectArr[c].addressId==a&&(addrObjectArr[c].display=0),1==addrObjectArr[c].display){var f=$("<li />"),g="/online/store-locations/",g=g+addrObjectArr[c].city+"/",g=g+addrObjectArr[c].zipCode+"/",g=g+addrObjectArr[c].storeNumber+"/",e="";""!=addrObjectArr[c].associatedMall&&(e=e+"<strong>"+addrObjectArr[c].associatedMall+"</strong><br />");e=e+'<strong><a href="'+
g+'">'+addrObjectArr[c].storeLocation+"</a></strong><br />";e=e+"Bealls Department Store #"+addrObjectArr[c].storeNumber+"<br />";e=e+addrObjectArr[c].address1+"<br />";e=e+addrObjectArr[c].city+", "+addrObjectArr[c].state+" "+addrObjectArr[c].zipCode+"<br />";e=e+addrObjectArr[c].phone+"<br />";f.html(e);0==d%2&&f.css("clear","both");f.appendTo(b);String.fromCharCode(65+d);var f=addrObjectArr[c].storeLocation+"<br>"+addrObjectArr[c].address1+"<br>"+addrObjectArr[c].address2+addrObjectArr[c].city+
","+addrObjectArr[c].state+" "+addrObjectArr[c].zipCode+"<br>"+addrObjectArr[c].phone,g='<a href="'+addrObjectArr[c].url+'">Get directions</a>',e="Bealls Florida - "+addrObjectArr[c].nickname,h="<table>",h=h+"<tr><td>"+f+"</td></tr>",h=h+"<tr><td>"+g+"</td></tr>",h=h+"</table>";addrObjectArr[c].marker_letterCount=d;addrObjectArr[c].marker_popupData=h;addrObjectArr[c].marker_storeName=e;d++}0<b.children().length?b.show():$(".no-store-nearby").show()}
function showStoreMarker(a,b,d,c){var f=new google.maps.Marker({map:map,position:a,title:c,icon:"http://storelocator.beallsinc.com/graphics/blsflg2.png"});google.maps.event.addListener(f,"click",function(){infowindow.setContent("<b>"+d+"</b>");infowindow.open(map,f)});return f}
function submitGeoCodeForm(){var a=document.frmStoreLocatorSearch.city.value,b=document.frmStoreLocatorSearch.zipCode.value,d=document.frmStoreLocatorSearch.address1.value,c=document.frmStoreLocatorSearch.state.value;0!=document.frmStoreLocatorSearch.radius.value?document.frmStoreLocatorSearch.filter.value="zipRadius":0<b.length?document.frmStoreLocatorSearch.filter.value="zip":0<a.length?document.frmStoreLocatorSearch.filter.value="city":0<c.length?document.frmStoreLocatorSearch.filter.value="state":
0<d.length&&(document.frmStoreLocatorSearch.filter.value="address1");a=""+(""!=d?d+",":"")+(""!=a?a+",":"")+(""!=c?c+",":"")+(""!=b?b:"");console&&console.log&&console.log("submitGeoCodeForm: will geocode location text: %o",a);geocoder&&geocoder.geocode({address:a},function(a,b){if(b==google.maps.GeocoderStatus.OK){console&&console.log&&console.log("submitGeoCodeForm: geocode result: %o",a[0].geometry.location);document.frmStoreLocatorSearch.lat.value=a[0].geometry.location.lat();document.frmStoreLocatorSearch.lng.value=
a[0].geometry.location.lng();document.forms.frmStoreLocatorSearch.onsubmit="";$("#store-search").attr("onclick","");document.forms.frmStoreLocatorSearch.submit()}else alert("Please enter a valid address")})}function setFixedPoint(a,b){var d=new google.maps.Marker({map:map,title:void 0==b?"Your location":b,position:a});google.maps.event.addListener(d,"click",function(){infowindow.setContent(b);infowindow.open(map,d)})}
function setZipCodeAndSubmit(){var a=document.frmStoreLocatorSearch.zipCode.value,b=document.frmStoreLocatorSearch.radius.value,d=document.frmStoreLocatorSearch.city.value;setZipcodeInCookie(a);!(0<d.length)&&0<b&&5!=a.length?alert("A 5-digit zip code and/or city and state are required for search."):submitGeoCodeForm()}function Bcp(a,b){this.l_bcp=3;this.cookie_bcp="bcp";this.div_print_id=a;this.link_print_id=b;this.img_exp_date=this.img_src_print=void 0;this.setup_bcp()}
Bcp.prototype.setup_bcp=function(){var a=$("#"+this.div_print_id+" > img");if(a){var b,d,c,f,g,e;d=a.attr("src");console&&console.log&&console.log("Bcp -> val_bcp - suffix = %o",d);b=d.lastIndexOf("/");a=d.substring(0,b);b=d.substring(b+1).split("?");d=b[0];b=b[1];c=d.split("_")[0];f=new Date;g=c.substring(c.length-2);e=parseInt(c.substring(c.length-6,c.length-4))-1;c=c.substring(c.length-4,c.length-2);f.setFullYear(g,e,c);this.cookie_bcp=this.cookie_bcp+"_"+d;this.img_src_print=a+"/"+d+"_print?"+
b;"Invalid Date"==f&&(f=new Date);f.setDate(f.getDate()+1);this.img_exp_date=f;console&&console.log&&(console.log("Bcp -> val_bcp - suffix = %o",d),console.log("Bcp -> val_bcp - this.img_src_print = %o",this.img_src_print),console.log("Bcp -> val_bcp - dateObj = %o",this.img_exp_date.toUTCString()))}};Bcp.prototype.val_bcp=function(){var a=$.cookie(this.cookie_bcp),b=void 0;null==a||void 0==a?b=0:(a=parseInt(a),b=NaN==a?0:a);console&&console.log&&console.log("Bcp -> val_bcp - bcp_value = %o",b);return b};
Bcp.prototype.ready_bcp=function(){$("#"+this.div_print_id).bind("contextmenu",function(a){console&&console.log&&console.log("Bcp -> ready_bcp - preventing contextmenu");a.preventDefault()});this.val_bcp()<this.l_bcp&&$("#"+this.link_print_id).bind("click",{ref:this},this.click_bcp).show()};
Bcp.prototype.click_bcp=function(a){a.data.ref.update_bcp(a.data.ref.link_print_id);print_window=window.open("");var b;b='<html><body><img class="coupon" border="0" alt="" src="'+a.data.ref.img_src_print+'">';b+="</body></html>";console&&console.log&&(console.log("Bcp -> click_bcp - html_render: %o",b),console.log("Bcp -> click_bcp - e.data.ref.img_src_print: %o",a.data.ref.img_src_print));print_window.document.write(b);print_window.print();print_window.focus();setTimeout("print_window.close()",0);
return!1};Bcp.prototype.update_bcp=function(a){var b=this.val_bcp();console&&console.log&&console.log("Bcp -> update_bcp - b_bcp = %o",b);console.log(this.img_exp_date);$.cookie(this.cookie_bcp,b+1,{expires:this.img_exp_date});b+1>this.l_bcp&&($("#"+a).unbind("click"),$("#"+a).remove(),console&&console.log&&console.log("Bcp -> update_bcp - print being removed"))};
