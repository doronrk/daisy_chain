/*!************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2011 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/
s7sdk.Util.require("s7sdk.common.Thumb");if(!s7sdk.Button){s7sdk.Button=function(g,b,f,a,e,c,d){s7sdk.Logger.log(s7sdk.Logger.FINER,"s7sdk.Button %0 %1 %2 %3 %4 %5 ",g,b,f,a,e,c);arguments.callee.superclass.call(this,g,b,"div",null,d);this.w=a;this.h=e;this.hint="";this.css=(typeof c!="undefined"?c:"");this.currentState=0;this.activated=true;this.init();this.changeState(this.currentState)};s7sdk.Class.inherits(s7sdk.Button,s7sdk.UIComponent);s7sdk.Button.prototype.init=function(){this.hint=this.getLocalizedText("TOOLTIP");var a=this.getParent();this.createElement();if(typeof this.obj!="undefined"){this.obj.className="s7button "+this.css;this.obj.button=this;this.resize(this.w,this.h);a.appendChild(this.obj);this.addEventListener("mouseover",function(d){var c=(this.button?this.button:d.srcElement.button);b.call(c,2)});this.addEventListener("mouseout",function(d){var c=(this.button?this.button:d.srcElement.button);b.call(c,0)});this.addEventListener("mousedown",function(d){var c=(this.button?this.button:d.srcElement.button);b.call(c,1)});this.addEventListener("mouseup",function(d){var c=(this.button?this.button:d.srcElement.button);b.call(c,2)});if(this.hint&&this.hint.length){this.toolTip_=new s7sdk.SimpleToolTip(this.obj,this.hint,this.obj)}this.addEventListener("touchstart",function(f){f.preventDefault();f.stopPropagation();var d=s7sdk.Event.getTarget(f);if(d&&d.hasOwnProperty("button")){var c=d.button;c.inTouch=true;c.touchX=f.targetTouches[0].clientX;c.touchY=f.targetTouches[0].clientY;b.call(c,1)}});this.addEventListener("touchmove",function(f){f.preventDefault();f.stopPropagation();if(f.targetTouches.length>0){var d=s7sdk.Event.getTarget(f);if(d&&d.hasOwnProperty("button")){var c=d.button;c.inTouch=true;c.touchX=f.targetTouches[0].clientX;c.touchY=f.targetTouches[0].clientY}}});this.addEventListener("touchend",function(g){g.preventDefault();g.stopPropagation();var f=s7sdk.Event.getTarget(g);if(f&&f.hasOwnProperty("button")){var d=f.button;if(d.inTouch){if(g.targetTouches.length>0){var f=s7sdk.Event.getTarget(g);if(f&&f.hasOwnProperty("button")){var d=f.button;d.inTouch=true;d.touchX=g.targetTouches[0].clientX;d.touchY=g.targetTouches[0].clientY}}var c={x:s7sdk.Util.getObjPos(f).x,y:s7sdk.Util.getObjPos(f).y};if(d.touchX>c.x&&d.touchX<c.x+f.offsetWidth&&d.touchY>c.y&&d.touchY<c.y+f.offsetHeight){s7sdk.Event.dispatch(f,"click")}b.call(d,0);d.inTouch=false}}});this.addEventListener("touchcancel",function(f){f.preventDefault();f.stopPropagation();var d=s7sdk.Event.getTarget(f);if(d&&d.hasOwnProperty("button")){var c=d.button;c.inTouch=false}});function b(c){this.currentState=c;if(this.activated){this.changeState(c)}}}else{s7sdk.Logger.log(s7sdk.Logger.WARN,'Cannot initialize "%0" due to lack of button skins',this.id)}};s7sdk.Button.prototype.addEventListener=function(c,b,a){s7sdk.Base.prototype.addEventListener.apply(this,[c,b,a])};s7sdk.Button.prototype.activate=function(){this.activated=true;this.changeState(this.currentState);this.enableEvent(null)};s7sdk.Button.prototype.deactivate=function(){this.activated=false;this.changeState(3);this.disableEvent(null)};s7sdk.Button.prototype.resize=function(a,b){if(a>0&&b>0){this.w=a;this.h=b;this.obj.style.height=this.h+"px";this.obj.style.width=this.w+"px"}s7sdk.UIComponent.prototype.resize.apply(this,[a,b])};s7sdk.Button.prototype.changeState=function(a){var b=["up","down","over","disabled"];s7sdk.Util.css.setCSSAttributeSelector(this.obj,"state",b[a])};s7sdk.Button.prototype.hide=function(){s7sdk.Util.fade(this.obj,true,0.3,"block")};s7sdk.Button.prototype.show=function(){s7sdk.Util.fade(this.obj,false,0.3,"block")};s7sdk.Button.prototype.reposition=function(){this.obj.className="s7button "+this.css};s7sdk.Button.buttonsDefaultCSS=function(e,a,f,b){var g=s7sdk.Util.css.createCssRuleText;var d=s7sdk.Util.css.createCssImgUrlText;b=(typeof b==="string")?b:"";var c=g(a,{width:"25px",height:"25px","background-size":"contain","background-repeat":"no-repeat","background-position":"center"})+g(a+"[state='up']",{"background-image":d(f[0])})+g(a+"[state='over']",{"background-image":d(f[1])})+g(a+"[state='down']",{"background-image":d(f[2])})+g(a+"[state='disabled']",{"background-image":d(f[3])})+b;s7sdk.Util.css.addDefaultCSS(c,e)}}if(!s7sdk.CloseButton){s7sdk.CloseButton=function CloseButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7closebutton",c]);this.addEventListener("click",this.close)};s7sdk.Class.inherits(s7sdk.CloseButton,s7sdk.Button);s7sdk.CloseButton.prototype.symbols={TOOLTIP:"Close"};s7sdk.CloseButton.prototype.close=function(){try{if(s7sdk.browser.name!="firefox"){window.open("s7sdkclose.html","_self")}else{window.close()}}catch(a){s7sdk.Logger.log(s7sdk.Logger.WARN,"Cannot close the window")}};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("CloseButton",".s7closebutton",["close_up.png","close_over.png","close_down.png","close_disabled.png"],s7sdk.Util.css.createCssRuleText(".s7closebutton",{width:"32px",height:"32px"}))})()}if(!s7sdk.ZoomResetButton){s7sdk.ZoomResetButton=function ZoomResetButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7zoomresetbutton",c]);this.obj.zoomResetObj=this};s7sdk.Class.inherits(s7sdk.ZoomResetButton,s7sdk.Button);s7sdk.ZoomResetButton.prototype.symbols={TOOLTIP:"Reset Zoom"};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("ZoomResetButton",".s7zoomresetbutton",["zoomreset_up.png","zoomreset_over.png","zoomreset_down.png","zoomreset_disabled.png"])})()}if(!s7sdk.ZoomInButton){s7sdk.ZoomInButton=function ZoomInButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7zoominbutton",c]);this.obj.zoomInObj=this};s7sdk.Class.inherits(s7sdk.ZoomInButton,s7sdk.Button);s7sdk.ZoomInButton.prototype.symbols={TOOLTIP:"Zoom In"};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("ZoomInButton",".s7zoominbutton",["zoomin_up.png","zoomin_over.png","zoomin_down.png","zoomin_disabled.png"])})()}if(!s7sdk.ZoomOutButton){s7sdk.ZoomOutButton=function ZoomOutButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7zoomoutbutton",c]);this.obj.zoomOutObj=this};s7sdk.Class.inherits(s7sdk.ZoomOutButton,s7sdk.Button);s7sdk.ZoomOutButton.prototype.symbols={TOOLTIP:"Zoom Out"};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("ZoomOutButton",".s7zoomoutbutton",["zoomout_up.png","zoomout_over.png","zoomout_down.png","zoomout_disabled.png"])})()}if(!s7sdk.PanUpButton){s7sdk.PanUpButton=function PanUpButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7panupbutton",c]);this.obj.panObj=this};s7sdk.Class.inherits(s7sdk.PanUpButton,s7sdk.Button);s7sdk.PanUpButton.prototype.symbols={TOOLTIP:"Pan up"};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("ZoomInButton",".s7panupbutton",["panup_up.png","panup_over.png","panup_down.png","panup_disabled.png"])})()}if(!s7sdk.PanDownButton){s7sdk.PanDownButton=function PanDownButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7pandownbutton",c]);this.obj.panObj=this};s7sdk.Class.inherits(s7sdk.PanDownButton,s7sdk.Button);s7sdk.PanDownButton.prototype.symbols={TOOLTIP:"Pan down"};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("PanDownButton",".s7pandownbutton",["pandown_up.png","pandown_over.png","pandown_down.png","pandown_disabled.png"])})()}if(!s7sdk.PanLeftButton){s7sdk.PanLeftButton=function PanLeftButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7panleftbutton",c]);this.obj.panObj=this};s7sdk.Class.inherits(s7sdk.PanLeftButton,s7sdk.Button);s7sdk.PanLeftButton.prototype.symbols={TOOLTIP:"Pan left"};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("PanLeftButton",".s7panleftbutton",["panleft_up.png","panleft_over.png","panleft_down.png","panleft_disabled.png"])})()}if(!s7sdk.PanRightButton){s7sdk.PanRightButton=function PanRightButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7panrightbutton",c]);this.obj.panObj=this};s7sdk.Class.inherits(s7sdk.PanRightButton,s7sdk.Button);s7sdk.PanRightButton.prototype.symbols={TOOLTIP:"Pan right"};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("PanRightButton",".s7panrightbutton",["panright_up.png","panright_over.png","panright_down.png","panright_disabled.png"])})()}if(!s7sdk.ScrollLeftButton){s7sdk.ScrollLeftButton=function ScrollLeftButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7scrollleftbutton",c]);this.obj.arrowObj=this};s7sdk.Class.inherits(s7sdk.ScrollLeftButton,s7sdk.Button);s7sdk.ScrollLeftButton.prototype.symbols={TOOLTIP:"Scroll left"};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("ScrollLeftButton",".s7scrollleftbutton",["scroll_left_up.png","scroll_left_over.png","scroll_left_down.png","scroll_left_disabled.png"],s7sdk.Util.css.createCssRuleText(".s7scrollleftbutton",{width:"20px",height:"20px"}))})()}if(!s7sdk.ScrollRightButton){s7sdk.ScrollRightButton=function ScrollRightButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7scrollrightbutton",c]);this.obj.arrowObj=this};s7sdk.Class.inherits(s7sdk.ScrollRightButton,s7sdk.Button);s7sdk.ScrollRightButton.prototype.symbols={TOOLTIP:"Scroll right"};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("ScrollRightButton",".s7scrollrightbutton",["scroll_right_up.png","scroll_right_over.png","scroll_right_down.png","scroll_right_disabled.png"],s7sdk.Util.css.createCssRuleText(".s7scrollrightbutton",{width:"20px",height:"20px"}))})()}if(!s7sdk.ScrollUpButton){s7sdk.ScrollUpButton=function ScrollUpButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7scrollupbutton",c]);this.obj.arrowObj=this};s7sdk.Class.inherits(s7sdk.ScrollUpButton,s7sdk.Button);s7sdk.ScrollUpButton.prototype.symbols={TOOLTIP:"Scroll up"};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("ScrollUpButton",".s7scrollupbutton",["scroll_up_up.png","scroll_up_over.png","scroll_up_down.png","scroll_up_disabled.png"],s7sdk.Util.css.createCssRuleText(".s7scrollupbutton",{width:"20px",height:"20px"}))})()}if(!s7sdk.ScrollDownButton){s7sdk.ScrollDownButton=function ScrollDownButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7scrolldownbutton",c]);this.obj.arrowObj=this};s7sdk.Class.inherits(s7sdk.ScrollDownButton,s7sdk.Button);s7sdk.ScrollDownButton.prototype.symbols={TOOLTIP:"Scroll down"};(function addDefaultCSS(){s7sdk.Button.buttonsDefaultCSS("ScrollDownButton",".s7scrolldownbutton",["scroll_down_up.png","scroll_down_over.png","scroll_down_down.png","scroll_down_disabled.png"],s7sdk.Util.css.createCssRuleText(".s7scrolldownbutton",{width:"20px",height:"20px"}))})()}if(!s7sdk.InfoPanelCloseButton){s7sdk.InfoPanelCloseButton=function InfoPanelCloseButton(a,c,b){arguments.callee.superclass.apply(this,[b,a,null,0,0,"s7closebutton",c])};s7sdk.Class.inherits(s7sdk.InfoPanelCloseButton,s7sdk.Button);s7sdk.InfoPanelCloseButton.prototype.symbols={TOOLTIP:"Close"}};