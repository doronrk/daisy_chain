/* QVP Video Player, (c) Copyright 2014 QVC, Inc, Last Updated 11/11/2014 3:30PM */
if(0!=platform.device)var plyr="",isPlaying=!1,hasPlaylist=null,liveShowTitle="",mediaID="",playerType="",isLive=!1,isBB=!1,isAndroidLive=!1,vidStream=0,htmlCanPlay=!1,stage="",videoW=0,videoH=0,videoIsLoaded=!1,videoDuration=0,hlsError=!1,vidNullError=!1,qvp={autoPlay:!1,isIE6:"msie"==platform.browser&&7>platform.version||!1,playlistCount:0,playlistLength:null,build:function(a,b,c,e){null!=document.getElementById("limelightPlayer")&&qvp.destroyVideo();hasPlaylist=1<videoMedia.video.length||!1;qvp.playlistLength= videoMedia.video.length;stage=document.getElementById(b);null==stage&&"programguide"==c&&(stage=$(".videoProxy:visible")[0]);mediaID=a;playerType=c;"object"===typeof c&&(playerType="custom");setPlayerSize(c);setPlatform();buildPlayer()},destroyVideo:function(){null!=document.getElementById("limelightPlayer")&&(hlsError=videoIsLoaded=htmlCanPlay=!1,stage.removeChild(document.getElementById("limelightPlayer")))},hideVideo:function(){null!=document.getElementById("limelightPlayer")&&!isBB&&videoIsLoaded&& document.getElementById("limelightPlayer").pause()},showVideo:function(){}},androidLive=function(){var a=navigator.userAgent.split("Android");if("undefined"==typeof a[1])return!1;a=a[1].split(";")[0].replace(" ","");return 3>parseInt(a)?!1:!0},setPlayerSize=function(a){if("object"===typeof a)videoW=a[0],videoH=a[1];else switch(a){case "live":videoW=640;videoH=360;isLive=!0;liveShowTitle=document.getElementById("divShowTitleH2").innerHTML;break;case "plus":videoW=640;videoH=360;isLive=!0;liveShowTitle= document.getElementById("divShowTitleH2").innerHTML;break;case "proddetail":videoW=370;videoH=208;break;case "proddetaillarge":videoW=560;videoH=315;break;case "pdinclude":videoW=640;videoH=360;break;case "vidgallery":videoW=640;videoH=360;break;case "spotone":videoW=400;videoH=225;break;case "sixblock":videoW=370;videoH=208;break;case "webcast":videoW=370;videoH=208;isLive=!0;liveShowTitle=videoMedia.video[0].title;break;case "webcastoverlay":videoW=640;videoH=360;isLive=!0;liveShowTitle=videoMedia.video[0].title; break;case "dblblock":videoW=210;videoH=118;break;case "gallery":videoW=640;videoH=360;break;case "programguide":videoW=230;videoH=130;break;case "programweekly":videoW=230;videoH=130;break;default:videoW=640,videoH=360}},setPlatform=function(){switch(!0){case "ipod"==platform.device||"iphone"==platform.device||"ipad"==platform.device:vidStream=2;break;case "blackberry"==platform.device:vidStream=1;isBB=!0;break;case "android"==platform.device&&1==androidLive():vidStream=2;break;case "android"==platform.device&& 0==androidLive():vidStream=0;isAndroidLive=!0;break;default:vidStream=0}},buildPlayer=function(){isBB?buildKeyframePlayer():buildVideoPlayer()},buildVideoPlayer=function(){for(i=0;i<qvp.playlistLength;i++)videoMedia.video[i].mediaId==mediaID&&(qvp.playlistCount=i);qElement.remChildren(stage);var a=document.createElement("video");a.id="limelightPlayer";a.className="qPlayer"+playerType;a.style.width=videoW+"px";a.style.height=videoH+"px";if(2==vidStream&&null==videoMedia.video[qvp.playlistCount].mobile[vidStream].url){if(a.src= videoMedia.video[qvp.playlistCount].mobile[0].url,null==videoMedia.video[qvp.playlistCount].mobile[0].url){vidNullError=!0;buildNoMobile();return}}else if(a.src=videoMedia.video[qvp.playlistCount].mobile[vidStream].url,null==videoMedia.video[qvp.playlistCount].mobile[vidStream].url){vidNullError=!0;buildNoMobile();return}a.setAttribute("poster",videoMedia.video[qvp.playlistCount].thumbnail[1].url);a.setAttribute("controls","controls");""!=stage&&null!=stage&&"undefined"!=stage&&(stage.appendChild(a), addPlayerEvents())},buildKeyframePlayer=function(){for(i=0;i<qvp.playlistLength;i++)videoMedia.video[i].mediaId==mediaID&&(qvp.playlistCount=i);qElement.remChildren(stage);var a=document.createElement("a");if(null!=videoMedia.video[qvp.playlistCount].mobile[vidStream].url){a.href=videoMedia.video[qvp.playlistCount].mobile[vidStream].url;a.style.position="relative";a.style.display="block";a.style.height=videoH+"px";a.style.width=videoW+"px";var b=document.createElement("img");b.id="limelightPlayer"; b.className="qPlayer"+playerType;b.width=videoW;b.height=videoH;b.alt=videoMedia.video[qvp.playlistCount].description;b.src=videoMedia.video[qvp.playlistCount].thumbnail[1].url;var c=document.createElement("img");c.src="//images.qvc.com/is/image/pic/hp/shim.gif?fmt=gif-alpha";c.width=videoW;c.height=videoH;c.style.position="absolute";c.style.background="url(/wcsstore/US/content/images/qvp/qvp-play.png) center center no-repeat";c.style.left=0;a.appendChild(b);a.appendChild(c);""!=stage&&null!=stage&& "undefined"!=stage&&stage.appendChild(a)}else buildNoMobile()},buildNoMobile=function(){qElement.remChildren(stage);var a=document.createElement("div");a.id="limelightPlayer";a.style.border="1px solid #343434";a.style.background="#FFFFFF";a.style.padding=videoH/6+"px "+videoW/9+"px";a.style.width=videoW/9*7+"px";a.style.height=videoH/6*4+"px";var b=document.createElement("p");b.style.fontSize="20px";b.style.textAlign="left";b.style.lineHeight="25px";b.style.width=videoW/9*7+"px";b.style.height=videoH/ 6*4+"px";var c=document.createElement("img");c.src="/wcsstore/US/content/images/err_dot.gif";c.alt="Sorry, our video is not available on this mobile device";c.width=13;c.height=13;var e=document.createTextNode(" Sorry, our video is not available on this mobile device");if("proddetail"==playerType||"proddetaillarge"==playerType)e=document.createTextNode(" Sorry, this video is not currently available on this mobile device");b.appendChild(c);b.appendChild(e);a.appendChild(b);""!=stage&&null!=stage&& "undefined"!=stage&&stage.appendChild(a)},playPauseToggle=function(){!isBB&&videoIsLoaded&&(isPlaying?(isPlaying=!1,metricsCollect("1",Math.floor(plyr.currentTime),videoDuration),plyr.pause()):(isPlaying=!0,metricsCollect("2",Math.floor(plyr.currentTime),videoDuration),plyr.play()));isLive&&"undefined"!=typeof liveTVTimeout&&playerTimeoutToggle()},overlayPause=function(){null!=document.getElementById("limelightPlayer")&&isPlaying&&playPauseToggle()},jumpToSecond=function(a,b){isBB||isLive||!videoIsLoaded|| (plyr.currentTime=a,b?plyr.play():plyr.pause())},setMedia=function(a,b){htmlCanPlay=!1;for(i=0;i<qvp.playlistLength;i++)videoMedia.video[i].mediaId==a&&(qvp.playlistCount=i,mediaID=a);if(isBB)location.href=null!=videoMedia.video[qvp.playlistCount].mobile[vidStream].url?videoMedia.video[qvp.playlistCount].mobile[vidStream].url:'javascript: alert("Sorry, this video is not currently available on this mobile device.")';else{hlsError=!1;if(vidNullError)vidNullError=!1,buildPlayer();else if(2==vidStream&& null==videoMedia.video[qvp.playlistCount].mobile[vidStream].url){if(plyr.src=videoMedia.video[qvp.playlistCount].mobile[0].url,null==videoMedia.video[qvp.playlistCount].mobile[0].url){vidNullError=!0;buildNoMobile();return}}else if(plyr.src=videoMedia.video[qvp.playlistCount].mobile[vidStream].url,null==videoMedia.video[qvp.playlistCount].mobile[vidStream].url){vidNullError=!0;buildNoMobile();return}plyr.setAttribute("poster",videoMedia.video[qvp.playlistCount].thumbnail[1].url)}},addPlayerEvents= function(){plyr=document.getElementById("limelightPlayer");isAndroidLive&&plyr.addEventListener("click",function(){plyr.play()},!0);plyr.addEventListener("canplay",function(){initMetricts();htmlCanPlay=!0;videoDuration=Math.floor(plyr.duration);metricsCollect("0","0",videoDuration);metricsCollect("2",Math.floor(plyr.currentTime),videoDuration);videoIsLoaded=!0},!0);plyr.addEventListener("play",function(){videoIsLoaded&&(metricsCollect("2",Math.floor(plyr.currentTime),videoDuration),isPlaying=!0)}, !0);plyr.addEventListener("pause",function(){metricsCollect("1",Math.floor(plyr.currentTime),videoDuration);isPlaying=!1},!0);plyr.addEventListener("ended",function(){isPlaying=!1;hasPlaylist?(qvp.playlistCount++,qvp.playlistCount>=qvp.playlistLength&&(qvp.playlistCount=0),"gallery"==playerType?videoGallery.switchPlaylistItem(qvp.playlistCount):"proddetail"==playerType?updateActiveLLVideo(null,videoMedia.video[qvp.playlistCount].mediaId):"proddetaillarge"==playerType?updateActiveLLVideoLarge(null, videoMedia.video[qvp.playlistCount].mediaId):plyr.src=videoMedia.video[qvp.playlistCount].mobile[vidStream].url):plyr.src=videoMedia.video[0].mobile[vidStream].url;metricsCollect("3",videoDuration,videoDuration);videoIsLoaded=!1},!0);plyr.addEventListener("error",function(a){htmlCanPlay?errorMetrics(Math.floor(plyr.currentTime),videoDuration,"VIDEOGENERALERROR"):htmlCanPlay||(2==vidStream&&0==hlsError?(plyr.src=videoMedia.video[qvp.playlistCount].mobile[0].url,hlsError=!0):errorMetrics("0","0","VIDEOUNAVAILABLEERROR"))}, !0)},cMetrics={elementID:"",categoryID:"",locationTag:""},initMetricts=function(){switch(playerType){case "live":cMetrics.elementID=qString.condense(liveShowTitle,50,"upper");cMetrics.categoryID="VIDEO-LIVETVSHOWS";break;case "plus":cMetrics.elementID=qString.condense(liveShowTitle,50,"upper");cMetrics.categoryID="VIDEO-LIVETVSHOWS";break;case "webcast":cMetrics.elementID=qString.condense(liveShowTitle,50,"upper");cMetrics.categoryID="VIDEO-LIVETVSHOWS";break;case "webcastoverlay":cMetrics.elementID= qString.condense(liveShowTitle,50,"upper");cMetrics.categoryID="VIDEO-LIVETVSHOWS";break;case "proddetail":cMetrics.elementID=videoMedia.video[qvp.playlistCount].videoType+":"+videoMedia.video[qvp.playlistCount].productNumber+" - "+videoMedia.video[qvp.playlistCount].title;cMetrics.categoryID="VIDEO-PRODUCTDETAIL";break;case "proddetaillarge":cMetrics.elementID=videoMedia.video[qvp.playlistCount].videoType+":"+videoMedia.video[qvp.playlistCount].productNumber+" - "+videoMedia.video[qvp.playlistCount].title; cMetrics.categoryID="VIDEO-PRODUCTDETAIL";break;case "pdinclude":cMetrics.elementID=videoMedia.video[qvp.playlistCount].productNumber+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");cMetrics.categoryID="VIDEO-PDINCLUDE";break;case "vidgallery":cMetrics.elementID=videoMedia.video[qvp.playlistCount].productNumber+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");cMetrics.categoryID="VIDEO-PDINCLUDE";break;case "spotone":cMetrics.elementID=findPrimaryClass()+ ":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");cMetrics.categoryID="VIDEO-CATEGORY";break;case "dblblock":cMetrics.elementID=findPrimaryClass()+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");cMetrics.categoryID="VIDEO-CATEGORY";break;case "programguide":cMetrics.elementID=stage.id+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");cMetrics.categoryID="VIDEO-PROGRAMGUIDE";break;case "gallery":cMetrics.elementID=""!= galleryCfg.videoGroup[videoGallery.currentGroup].playlist[qvp.playlistCount].product?galleryCfg.videoGroup[videoGallery.currentGroup].playlist[qvp.playlistCount].product+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper"):qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");cMetrics.categoryID=""!=galleryCfg.videoGroup[videoGallery.currentGroup].playlist[qvp.playlistCount].product?"VIDEO-PLAYLIST-ITEM":"VIDEO-PLAYLIST";break;default:cMetrics.elementID= "GLOBAL:"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper"),cMetrics.categoryID="VIDEO-CATEGORY"}},findPrimaryClass=function(){var a=window.location.href;-1!=a.indexOf("category.")?(a=a.split("category."),a=a[1].substr(0,4)):document.getElementById("breadCrumbs")?(a=document.getElementById("breadCrumbs").innerHTML,-1!=a.indexOf("category.")?(a=a.split("category."),a=a[1].substr(0,4)):a="GLOBAL"):a="GLOBAL";return a},liveTimeFormat=function(a){var b=a.getFullYear(),c=a.getMonth()+ 1;9>=c&&(c="0"+c.toString());var e=a.getDate();9>=e&&(e="0"+e.toString());var m=a.getHours();9>=m&&(m="0"+m.toString());a=a.getMinutes();9>=a&&(a="0"+a.toString());return b.toString()+c.toString()+e.toString()+m.toString()+a.toString()},metricsCollect=function(a,b,c){isLive&&(c=b="null");a="null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-"+mediaID+"-_-"+a+"-_-"+b+"-_-"+c+"-_-WSC-_-null";isLive&&cmCreateElementTag("LIVETV","VIDEO-LIVETV",a);cmCreateElementTag(cMetrics.elementID, cMetrics.categoryID,a)},errorMetrics=function(a,b,c){cmCreateElementTag(cMetrics.elementID,cMetrics.categoryID,"null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-"+c+"-_-"+mediaID+"-_-4-_-"+a+"-_-"+b+"-_-WSC-_-null")},updateShowTitleData=function(){isLive=!1;metricsCollect("3","null","null");liveShowTitle=document.getElementById("divShowTitleH2").innerHTML;cMetrics.elementID=qString.condense(liveShowTitle,50,"upper");metricsCollect("0","null","null");isPlaying&&metricsCollect("2", "null","null");isLive=!0},updateProductOverlayData=function(){};else var htmlFrame=!0,videoHasError=videoIsLoaded=htmlCanPlay=isPlaying=!1,videoOrigWidth,videoOrigHeight,currentVolume=1,isMuted=!1,onVolumeControl=!1,onVolumeDisplay=!1,downVolume=!1,playState="not ready",isFullScreen=!1,isDragging=!1,overlayExpanded=!1,contextMenuOpen=!1,timeRatio,playheadOffset,volumeOffset,proxyTop=0,proxyLeft=0,pageScrollTop=0,pageScrollLeft=0,clientDesktopWidth=screen.width,clientDesktopHeight=screen.height,clientBrowserWidth= page.windowWidth(),clientBrowserHeight=page.windowHeight(),clientBrowserX,clientBrowserY,fullPlayerWidth,cMetrics={elementID:"",categoryID:"",locationTag:""},htmlProperties=function(){var a,b,c,e,m,l,g,k,f,d,h,n,r,p,q,s,t,u,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S;this.getVideoGlobal=function(){return a};this.setVideoGlobal=function(b){a=b};this.getVideoDimmer=function(){return b};this.setVideoDimmer=function(a){b=a};this.getVideoContainer=function(){return c};this.setVideoContainer=function(a){c= a};this.getVideoStatus=function(){return e};this.setVideoStatus=function(a){e=a};this.getVideoClick=function(){return m};this.setVideoClick=function(a){m=a};this.getVideoError=function(){return l};this.setVideoError=function(a){l=a};this.getVideoLoad=function(){return g};this.setVideoLoad=function(a){g=a};this.getVideoStagePlay=function(){return k};this.setVideoStagePlay=function(a){k=a};this.getVideoStageShim=function(){return f};this.setVideoStageShim=function(a){f=a};this.getVideo=function(){return d}; this.setVideo=function(a){d=a};this.getHtmlVideo=function(){return h};this.setHtmlVideo=function(a){h=a};this.getControls=function(){return n};this.setControls=function(a){n=a};this.getPlayControl=function(){return r};this.setPlayControl=function(a){r=a};this.getPauseControl=function(){return p};this.setPauseControl=function(a){p=a};this.getPlayheadControl=function(){return q};this.setPlayheadControl=function(a){q=a};this.getProgressControl=function(){return s};this.setProgressControl=function(a){s= a};this.getProgressHolder=function(){return t};this.setProgressHolder=function(a){t=a};this.getPlayProgressBar=function(){return u};this.setPlayProgressBar=function(a){u=a};this.getPlayProgressInterval=function(){return w};this.setPlayProgressInterval=function(a){w=a};this.getCurrentTimeDisplay=function(){return x};this.setCurrentTimeDisplay=function(a){x=a};this.getSlashTimeDisplay=function(){return y};this.setSlashTimeDisplay=function(a){y=a};this.getDurationDisplay=function(){return z};this.setDurationDisplay= function(a){z=a};this.getVolumeHover=function(){return A};this.setVolumeHover=function(a){A=a};this.getVolumeControl=function(){return B};this.setVolumeControl=function(a){B=a};this.getVolumeMouse=function(){return C};this.setVolumeMouse=function(a){C=a};this.getVolumeLevel=function(){return D};this.setVolumeLevel=function(a){D=a};this.getMuteControl=function(){return E};this.setMuteControl=function(a){E=a};this.getVolumeDisplay=function(){return F};this.setVolumeDisplay=function(a){F=a};this.getFullScreenDisplay= function(){return G};this.setFullScreenDisplay=function(a){G=a};this.getFullScreenSlashDisplay=function(){return H};this.setFullScreenSlashDisplay=function(a){H=a};this.getFullScreenControl=function(){return I};this.setFullScreenControl=function(a){I=a};this.getSmallScreenControl=function(){return J};this.setSmallScreenControl=function(a){J=a};this.getVideoContext=function(){return K};this.setVideoContext=function(a){K=a};this.getVideoContextPlay=function(){return L};this.setVideoContextPlay=function(a){L= a};this.getVideoContextPause=function(){return M};this.setVideoContextPause=function(a){M=a};this.getVideoContextMute=function(){return N};this.setVideoContextMute=function(a){N=a};this.getVideoContextUnMute=function(){return O};this.setVideoContextUnMute=function(a){O=a};this.getVideoContextFullDisplay=function(){return P};this.setVideoContextFullDisplay=function(a){P=a};this.getVideoContextFull=function(){return Q};this.setVideoContextFull=function(a){Q=a};this.getVideoContextSmall=function(){return R}; this.setVideoContextSmall=function(a){R=a};this.getPageWrapper=function(){return S};this.setPageWrapper=function(a){S=a}},qvp={stage:"",videoID:"",videoW:0,videoH:0,controlH:42,mediaID:"",playerType:"",isLive:!1,noDuration:!1,noFullScreen:!1,autoPlay:!1,isFull:!1,isFlash:!0,hasFlash:flash.detectVersion(10,3,0),hasPlaylist:null,playlistLength:null,playlistCount:0,liveShowTitle:"",isResponsive:!1,isMobile:!1,isIOS:!1,isIE:"msie"==platform.browser||!1,isIE6:"msie"==platform.browser&&7>platform.version|| !1,build:function(a,b,c,e){null!=document.getElementById("video_bottom")&&qvp.destroyVideo();$(document).ready(function(){qvp.hasPlaylist=1<videoMedia.video.length||!1;qvp.playlistLength=videoMedia.video.length;qvp.stage=document.getElementById(b);null==qvp.stage&&"programguide"==c&&(qvp.stage=$(".videoProxy:visible")[0]);qvp.mediaID=a;qvp.playerType=c;"object"===typeof c&&(qvp.playerType="custom");qvp.autoPlay=e;qvp.setPlayerSize(c);qvp.setPlatform();qvp.buildPlayer()})},buildPlayer:function(){var a= document.createElement("div");a.id="video_bottom";a.className="videoBottom";var b=document.createElement("div");b.id="video_dimmer";b.className="videoDimmer";qvp.isIE&&(b.style.filter="alpha(opacity=80)");var c=document.createElement("div");c.id="video_box";c.className="videoBox qPlayer"+qvp.playerType;c.style.width=qvp.videoW+"px";c.style.height=qvp.videoH+"px";var e=document.createElement("div");e.id="qPlayer";e.className="qPlayerClass";e.style.height=qvp.videoH-qvp.controlH+"px";var m=document.createElement("div"); m.id="qProdOverlay";m.className="overlayClass";var l=document.createElement("div");l.id="video_embed";l.className="videoEmbed";var g=document.createElement("div");g.id="qControls";g.className="qControlsClass";g.style.height=qvp.controlH+"px";var k=document.createElement("div");k.id="progress";k.className="qProgressClass";var f=document.createElement("div");f.id="progress_box";f.className="qProgressBoxClass";var d=document.createElement("span");d.id="load_progress";d.className="qProgressLoadClass"; var h=document.createElement("span");h.id="play_progress";h.className="qProgressPlayClass";qvp.isLive||(k.appendChild(f),f.appendChild(d),d.appendChild(h));f=document.createElement("div");f.id="qButtons";f.className="qButtonsClass";f.style.height=qvp.controlH-10+"px";d=document.createElement("div");d.id="playHead";d.className="playHeadControl playHeadUp";d.onmouseover=function(){this.className="playHeadControl playHeadDown"};d.onmouseout=function(){this.className="playHeadControl playHeadUp"};d.onmousedown= function(){this.className="playHeadControl playHeadDown"};h=document.createElement("div");h.id="vidStatus";h.className="videoStatus";var n=document.createElement("div");n.id="vidStatusText";n.className="videoStatusText";var r=document.createElement("div");r.id="stagePlay";r.className="stagePlayClass";var p=document.createElement("div");p.id="vob";p.style.width="100%";p.style.height="100%";var q=document.createElement("img");q.id="overlayShim";q.src="//images.qvc.com/is/image/pic/hp/shim.gif?fmt=gif-alpha"; q.style.width="100%";q.style.height="100%";p.appendChild(q);e.appendChild(l);h.appendChild(n);h.appendChild(r);h.appendChild(p);e.appendChild(h);g.appendChild(k);g.appendChild(f);qvp.isLive?qvp.isLive&&e.appendChild(m):g.appendChild(d);c.appendChild(e);c.appendChild(g);a.appendChild(b);a.appendChild(c);document.body.appendChild(a);proxyTop=qElement.findY(qvp.stage);proxyLeft=qElement.findX(qvp.stage);c.style.top=proxyTop+"px";c.style.left=proxyLeft+"px";qvp.isFlash?qvp.buildFlashPlayer():qvp.isFlash|| qvp.buildHTML5Player()},buildControls:function(){document.getElementById("qProgress");var a=document.getElementById("qButtons"),b=document.createElement("div");b.className="qBtn qSpacer qSpacerLeft";var c=document.createElement("div");c.className="qBtn qSpacer qSpacerRight";var e=document.createElement("div");e.id="qFSSpacer";e.className=qvp.noFullScreen?"qBtn qSpacer qSpacerRight qFullScreenHide":"qBtn qSpacer qSpacerRight";var m=document.createElement("div");m.className="qBtn qPlayPause";var l= document.createElement("a");l.id="qPlay";l.className="playOff";l.title="Play";l.onmouseover=function(){this.className="playOver"};l.onmouseout=function(){this.className="playOff"};l.onmousedown=function(){this.className="playOn"};l.onmouseup=function(){this.className="playOver"};var g=document.createElement("a");g.id="qPause";g.className="pauseOff";g.title="Pause";g.style.display="none";g.onmouseover=function(){this.className="pauseOver"};g.onmouseout=function(){this.className="pauseOff"};g.onmousedown= function(){this.className="pauseOn"};g.onmouseup=function(){this.className="pauseOver"};m.appendChild(l);m.appendChild(g);l=document.createElement("div");l.className="qBtn qPlayTime";g=document.createElement("span");g.id="qCurrent";g.className="qCurrentTime";var k=qvp.isLive?"plus"==qvp.playerType?document.createTextNode("QVC PLUS"):document.createTextNode("LIVE"):document.createTextNode("00:00");if(!qvp.isLive){var f=document.createElement("span");f.id="qDuration";var d=document.createTextNode("00:00"), h=document.createElement("span");h.id="qTimeSlash";var n=document.createTextNode(" / ");qvp.noDuration?(f.className="qDurationTime qDurationHide",h.className="qTimeDivide qDurationHide"):(f.className="qDurationTime",h.className="qTimeDivide")}g.appendChild(k);qvp.isLive||(f.appendChild(d),h.appendChild(n));l.appendChild(g);qvp.isLive||(l.appendChild(h),l.appendChild(f));f=document.createElement("div");f.id="volumeContainer";f.className="qBtn qVolumeClass";d=document.createElement("a");d.id="qVolume"; d.className="volumeOff";d.title="Mute";h=document.createElement("div");h.className="qVolumeSliderClass";h.id="qVolumeSlider";n=document.createElement("div");n.className="qVolumeDisplayClass";n.id="qVolumeDisplay";h.appendChild(n);d.onmouseover=function(){this.className="volumeOver"};d.onmouseout=function(){this.className="volumeOff"};d.onmousedown=function(){this.className="volumeOn"};d.onmouseup=function(){this.className="volumeOver"};n=document.createElement("a");n.id="qMute";n.className="muteOff"; n.title="Unmute";n.style.display="none";n.onmouseover=function(){this.className="muteOver"};n.onmouseout=function(){this.className="muteOff"};n.onmousedown=function(){this.className="muteOn"};n.onmouseup=function(){this.className="muteOver"};f.appendChild(h);f.appendChild(d);f.appendChild(n);d=document.createElement("div");d.id="qFSBtn";d.className=qvp.noFullScreen?"qBtn qScreenSize qFullScreenHide":"qBtn qScreenSize";h=document.createElement("a");h.id="qFullScreen";h.className="fullScreenOff";h.title= "Full Screen";h.onmouseover=function(){this.className="fullScreenOver"};h.onmouseout=function(){this.className="fullScreenOff"};h.onmousedown=function(){this.className="fullScreenOn"};h.onmouseup=function(){this.className="fullScreenOver"};n=document.createElement("a");n.id="qSmallScreen";n.className="smallScreenOff";n.title="Exit Full Screen";n.style.display="none";n.onmouseover=function(){this.className="smallScreenOver"};n.onmouseout=function(){this.className="smallScreenOff"};n.onmousedown=function(){this.className= "smallScreenOn"};n.onmouseup=function(){this.className="smallScreenOver"};d.appendChild(h);d.appendChild(n);a.appendChild(m);a.appendChild(b);a.appendChild(l);a.appendChild(d);a.appendChild(e);a.appendChild(f);a.appendChild(c);qvp.buildContextMenu()},buildContextMenu:function(){var a="Adobe Flash";qvp.isFlash||(a="HTML5");var b=document.getElementById("video_bottom"),c=document.createElement("div");c.id="qCMenu";c.className="qContextMenu";c.style.display="none";c.style.top="20px";c.style.left="20px"; var e=document.createElement("ul"),m=document.createElement("li");m.className="qContextHead";var l=document.createElement("h3"),g=document.createTextNode("QVC Video Controls");l.appendChild(g);m.appendChild(l);l=document.createElement("li");l.className="qContextFoot";var g=document.createElement("p"),k=document.createElement("br"),f=document.createElement("br"),d=document.createTextNode("Chameleon v1.5"),a=document.createTextNode(a+" Video"),h=document.createTextNode("Copyright 2014 QVC, Inc.");g.appendChild(d); g.appendChild(k);g.appendChild(a);g.appendChild(f);g.appendChild(h);l.appendChild(g);a=document.createElement("li");g=document.createElement("a");g.id="qContextPlay";g.onmouseover=function(){this.style.backgroundColor="rgb(255,255,255)"};g.onmouseout=function(){this.style.backgroundColor="transparent"};k=document.createTextNode("Play");g.appendChild(k);k=document.createElement("a");k.id="qContextPause";k.style.display="none";k.onmouseover=function(){this.style.backgroundColor="rgb(255,255,255)"}; k.onmouseout=function(){this.style.backgroundColor="transparent"};f=document.createTextNode("Pause");k.appendChild(f);a.appendChild(g);a.appendChild(k);g=document.createElement("li");k=document.createElement("a");k.id="qContextMute";k.onmouseover=function(){this.style.backgroundColor="rgb(255,255,255)"};k.onmouseout=function(){this.style.backgroundColor="transparent"};f=document.createTextNode("Mute");k.appendChild(f);f=document.createElement("a");f.id="qContextUnMute";f.style.display="none";f.onmouseover= function(){this.style.backgroundColor="rgb(255,255,255)"};f.onmouseout=function(){this.style.backgroundColor="transparent"};d=document.createTextNode("Unmute");f.appendChild(d);g.appendChild(k);g.appendChild(f);k=document.createElement("li");k.id="qFSLI";k.className=qvp.noFullScreen?"qScreenSizeMenu qFullScreenHide":"qScreenSizeMenu";f=document.createElement("a");f.id="qContextFull";f.onmouseover=function(){this.style.backgroundColor="rgb(255,255,255)"};f.onmouseout=function(){this.style.backgroundColor= "transparent"};d=document.createTextNode("Full Screen");f.appendChild(d);d=document.createElement("a");d.id="qContextSmall";d.style.display="none";d.onmouseover=function(){this.style.backgroundColor="rgb(255,255,255)"};d.onmouseout=function(){this.style.backgroundColor="transparent"};h=document.createTextNode("Exit Full Screen");d.appendChild(h);k.appendChild(f);k.appendChild(d);e.appendChild(m);e.appendChild(a);e.appendChild(g);e.appendChild(k);e.appendChild(l);c.appendChild(e);b.appendChild(c); setPlayerProperties()},buildFlashPlayer:function(){var a=new SWFObject("/wcsstore/US/content/assets/qvp/chameleon.1.3.swf","limelightPlayer","100%","100%","10.3","#FF0000");a.addParam("allowScriptAccess","always");a.addParam("allowfullscreen","true");a.addParam("wmode","transparent");qvp.hasFlash?a.write("video_embed"):qvp.updateFlash();qvp.buildControls()},buildHTML5Player:function(){for(i=0;i<qvp.playlistLength;i++)videoMedia.video[i].mediaId==qvp.mediaID&&(qvp.playlistCount=i);qvp.isLive||(document.getElementById("vidStatus").style.background= "url("+videoMedia.video[qvp.playlistCount].thumbnail[1].url+") center center no-repeat");var a=document.getElementById("video_embed");qElement.remChildren(a);var b=document.createElement("video");b.id="limelightPlayer";b.style.width="100%";b.style.height="100%";b.setAttribute("type","video/mp4; codecs='avc1.42E01E, mp4a.40.2'");b.src=videoMedia.video[qvp.playlistCount].mobile[0].url;b.setAttribute("autobuffer","autobuffer");a.appendChild(b);qvp.buildControls()},updateFlash:function(){videoErrorMessage("update"); var a=document.getElementById("videoError"),b=document.createElement("a");b.href="http://get.adobe.com/flashplayer/";b.target="_blank";b.title="Update Flash";var c=document.createTextNode("Update Flash");b.appendChild(c);a.appendChild(b);initMetricts();errorMetrics("0","0","FLASHUPDATEERROR")},windowResize:function(){null!=document.getElementById("video_bottom")&&((removeContextMenu(),isFullScreen)?isFullScreen&&(clientBrowserWidth=page.windowWidth(),clientBrowserHeight=page.windowHeight(),setFullPosition(), 700>page.width()&&(screenToggle(),qvp.responsive())):(proxyTop=qElement.findY(qvp.stage),proxyLeft=qElement.findX(qvp.stage),htmlProperties.getVideoContainer().style.top=proxyTop+"px",htmlProperties.getVideoContainer().style.left=proxyLeft+"px",700<=page.width()&&qvp.isResponsive?qvp.deResponsive():700>page.width()&&qvp.responsive()))},deResponsive:function(){qvp.isResponsive=!1;isFullScreen=!0;screenToggle();qvp.noFullScreen||(htmlProperties.getFullScreenDisplay().className="qBtn qScreenSize",htmlProperties.getFullScreenSlashDisplay().className= "qBtn qSpacer qSpacerRight",htmlProperties.getVideoContextFullDisplay().className="qScreenSizeMenu")},responsive:function(){qvp.isResponsive=!0;clientBrowserWidth=qElement.fullWidth(qvp.stage);clientBrowserHeight=page.windowHeight();qvp.respFullSize();qvp.isLive||rescaleProgress();qvp.noDuration&&(htmlProperties.getDurationDisplay().className="qDurationTime",htmlProperties.getSlashTimeDisplay().className="qTimeDivide");qvp.noFullScreen||(htmlProperties.getFullScreenDisplay().className="qBtn qScreenSize qFullScreenHide", htmlProperties.getFullScreenSlashDisplay().className="qBtn qSpacer qSpacerRight qFullScreenHide",htmlProperties.getVideoContextFullDisplay().className="qScreenSizeMenu qFullScreenHide")},respFullSize:function(){qvp.respFullWidth();htmlProperties.getVideoContainer().style.width=fullPlayerWidth+"px";htmlProperties.getVideoContainer().style.height=.5625*fullPlayerWidth+qvp.controlH+"px";htmlProperties.getVideo().style.height=.5625*fullPlayerWidth+"px";qvp.isIE6&&ieStatusDimensions()},respFullWidth:function(){fullPlayerWidth= clientBrowserWidth;200>clientBrowserWidth&&(fullPlayerWidth=200)},destroyVideo:function(){null!=document.getElementById("video_bottom")&&(isPlaying=!1,htmlFrame=!0,"not ready"!=playState&&pauseVideo(),removePlayerEvents(),document.body.removeChild(htmlProperties.getVideoGlobal()))},hideVideo:function(){null!=document.getElementById("video_bottom")&&(htmlProperties.getVideoGlobal().style.visibility="hidden",htmlProperties.getHtmlVideo().style.visibility="hidden",isPlaying&&playPauseToggle())},showVideo:function(){null!= document.getElementById("video_bottom")&&(htmlProperties.getVideoGlobal().style.visibility="visible",htmlProperties.getHtmlVideo().style.visibility="visible",qvp.windowResize())},setPlayerSize:function(a){if("object"===typeof a)qvp.videoW=a[0],qvp.videoH=a[1],275>a[0]&&(qvp.noDuration=!0);else switch(a){case "live":qvp.videoW=640;qvp.videoH=402;qvp.autoPlay=!0;qvp.isLive=!0;qvp.liveShowTitle=document.getElementById("divShowTitleH2").innerHTML;break;case "plus":qvp.videoW=640;qvp.videoH=402;qvp.autoPlay= !0;qvp.isLive=!0;qvp.liveShowTitle=document.getElementById("divShowTitleH2").innerHTML;break;case "proddetail":qvp.videoW=370;qvp.videoH=250;break;case "proddetaillarge":qvp.videoW=560;qvp.videoH=357;break;case "pdinclude":qvp.videoW=640;qvp.videoH=402;qvp.autoPlay=!0;qvp.noFullScreen=!0;break;case "vidgallery":qvp.videoW=640;qvp.videoH=402;qvp.noFullScreen=!0;break;case "spotone":qvp.videoW=400;qvp.videoH=267;break;case "sixblock":qvp.videoW=370;qvp.videoH=250;break;case "webcast":qvp.videoW=370; qvp.videoH=250;qvp.isLive=!0;qvp.liveShowTitle=videoMedia.video[0].title;break;case "webcastoverlay":qvp.videoW=640;qvp.videoH=402;qvp.isLive=!0;qvp.autoPlay=!0;qvp.noFullScreen=!0;qvp.liveShowTitle=videoMedia.video[0].title;break;case "dblblock":qvp.videoW=210;qvp.videoH=160;qvp.noDuration=!0;break;case "gallery":qvp.videoW=640;qvp.videoH=402;break;case "programguide":qvp.videoW=230;qvp.videoH=172;qvp.noDuration=!0;break;case "programweekly":qvp.videoW=230;qvp.videoH=172;qvp.noDuration=!0;qvp.noFullScreen= !0;break;default:qvp.videoW=640,qvp.videoH=402}},setPlatform:function(){switch(!0){case 0!=platform.device:qvp.isFlash=!1;qvp.isMobile=!0;break;case 1==qvp.isLive:qvp.isFlash=!0;break;case "chrome"==platform.browser:qvp.isFlash=!0;break;case "safari"==platform.browser&&"mac"==platform.OS:qvp.isFlash=!0;break;default:qvp.isFlash=!0}}},videoErrorMessage=function(a){var b;switch(a){case "general":b="We're sorry, we are not able to play this video at this time. Please try again later.";break;case "unavailable":b= "We're sorry, this video is not currently available. Please try again later.";break;case "update":b="Sorry, but you need to update your version of Flash to watch video on QVC.com."}var c=document.getElementById("video_embed");c.style.backgroundColor="rgb(255,255,255)";document.getElementById("videoError")&&c.removeChild(document.getElementById("videoError"));"update"==a?qElement.remChildren(c):(videoHasError=!0,removePlayerEvents(),htmlProperties.getHtmlVideo().style.visibility="hidden");a=document.createElement("div"); a.id="videoError";a.className="videoErrorClass";var e=document.createElement("p");b=document.createTextNode(b);e.appendChild(b);a.appendChild(e);c.appendChild(a);document.getElementById("vidStatus").style.display="none"},videoErrorToggle=function(){var a=document.getElementById("video_embed"),b=document.getElementById("videoError");a.removeChild(b);htmlProperties.getHtmlVideo().style.visibility="visible";document.getElementById("vidStatus").style.display="block";videoHasError=!1},formatTimeMMSS=function(a){a= Math.round(a);minutes=Math.floor(a/60);minutes=10<=minutes?minutes:"0"+minutes;a=Math.floor(a%60);return minutes+":"+(10<=a?a:"0"+a)},videoClickPlayPause=function(a){1==a.button&&playPauseToggle()},jumpToSecond=function(a,b){isDragging||qvp.isLive||(b&&!isPlaying&&playPauseToggle(),qvp.isFlash?(dp.currentTime=a,htmlProperties.getCurrentTimeDisplay().innerHTML=formatTimeMMSS(dp.currentTime),updateProgressBar(dp.currentTime,dp.duration),DelvePlayer.doSeekToSecond(a)):(updateTimeDisplay(a),updateProgressBar(a, htmlProperties.getHtmlVideo().duration),htmlProperties.getHtmlVideo().currentTime=a),b||(isPlaying=!0,playPauseToggle()))},playPauseToggle=function(){isPlaying?(htmlProperties.getPlayControl().style.display="block",htmlProperties.getPauseControl().style.display="none",htmlProperties.getVideoContextPlay().style.display="block",htmlProperties.getVideoContextPause().style.display="none",isPlaying=!1,pauseVideo()):(htmlProperties.getPlayControl().style.display="none",htmlProperties.getPauseControl().style.display= "block",htmlProperties.getVideoContextPlay().style.display="none",htmlProperties.getVideoContextPause().style.display="block",isPlaying=!0,playVideo());qvp.isLive&&"undefined"!=typeof liveTVTimeout&&playerTimeoutToggle()},overlayPause=function(){null!=document.getElementById("video_bottom")&&isPlaying&&playPauseToggle()},playVideo=function(){qvp.isFlash?(DelvePlayer.doPlay(),metricsCollect("2",Math.floor(dp.currentTime),Math.floor(dp.duration))):(!qvp.isFlash&&htmlFrame&&(htmlFrame=!1,htmlProperties.getVideoStatus().style.background= "none"),htmlProperties.getHtmlVideo().play(),metricsCollect("2",Math.floor(htmlProperties.getHtmlVideo().currentTime),Math.floor(htmlProperties.getHtmlVideo().duration)))},pauseVideo=function(){qvp.isFlash?(DelvePlayer.doPause(),metricsCollect("1",Math.floor(dp.currentTime),Math.floor(dp.duration))):(htmlProperties.getHtmlVideo().pause(),metricsCollect("1",Math.floor(htmlProperties.getHtmlVideo().currentTime),Math.floor(htmlProperties.getHtmlVideo().duration)))},volumeToggle=function(){isMuted?(htmlProperties.getVolumeControl().style.display= "block",htmlProperties.getMuteControl().style.display="none",htmlProperties.getVideoContextMute().style.display="block",htmlProperties.getVideoContextUnMute().style.display="none",isMuted=!1,qvp.isFlash?DelvePlayer.doSetVolume(htmlProperties.getVolumeLevel()):htmlProperties.getHtmlVideo().volume=htmlProperties.getVolumeLevel(),updateVolumeDisplay(htmlProperties.getVolumeLevel())):(htmlProperties.getVolumeControl().style.display="none",htmlProperties.getMuteControl().style.display="block",htmlProperties.getVideoContextMute().style.display= "none",htmlProperties.getVideoContextUnMute().style.display="block",isMuted=!0,qvp.isFlash?DelvePlayer.doSetVolume(0):htmlProperties.getHtmlVideo().volume=0,updateVolumeDisplay(0))},screenToggle=function(){isFullScreen?(document.onkeyup=null,htmlProperties.getFullScreenControl().style.display="block",htmlProperties.getSmallScreenControl().style.display="none",htmlProperties.getVideoContextFull().style.display="block",htmlProperties.getVideoContextSmall().style.display="none",isFullScreen=!1,htmlProperties.getPageWrapper().style.position= "",htmlProperties.getPageWrapper().style.height="",htmlProperties.getPageWrapper().style.overflow="",proxyTop=qElement.findY(qvp.stage),proxyLeft=qElement.findX(qvp.stage),htmlProperties.getVideoContainer().style.top=proxyTop+"px",htmlProperties.getVideoContainer().style.left=proxyLeft+"px",htmlProperties.getVideoContainer().style.width=qvp.videoW+"px",htmlProperties.getVideoContainer().style.height=qvp.videoH+"px",htmlProperties.getVideo().style.height=qvp.videoH-qvp.controlH+"px",qvp.noDuration&& (htmlProperties.getDurationDisplay().className="qDurationTime qDurationHide",htmlProperties.getSlashTimeDisplay().className="qTimeDivide qDurationHide"),qvp.isIE6&&ieStatusDimensions(),htmlProperties.getVideoDimmer().style.display="none",window.scrollTo(pageScrollLeft,pageScrollTop),qvp.isLive)?qvp.isLive&&"webcast"!=qvp.playerType&&"webcastoverlay"!=qvp.playerType&&(overlayExpanded=!1,qElement.remChildren(document.getElementById("qProdOverlay"))):rescaleProgress():(document.onkeyup=function(a){a= a||window.event;27==a.keyCode&&screenToggle()},pageScrollTop=page.scrollY(),pageScrollLeft=page.scrollX(),clientBrowserWidth=page.windowWidth(),clientBrowserHeight=page.windowHeight(),htmlProperties.getFullScreenControl().style.display="none",htmlProperties.getSmallScreenControl().style.display="block",htmlProperties.getVideoContextFull().style.display="none",htmlProperties.getVideoContextSmall().style.display="block",isFullScreen=!0,htmlProperties.getVideoContainer().style.top="0px",htmlProperties.getVideoContainer().style.left= "0px",htmlProperties.getPageWrapper().style.position="relative",htmlProperties.getPageWrapper().style.height=clientBrowserHeight-20+"px",htmlProperties.getPageWrapper().style.overflow="hidden",htmlProperties.getVideoDimmer().style.display="block",qvp.noDuration&&(htmlProperties.getDurationDisplay().className="qDurationTime",htmlProperties.getSlashTimeDisplay().className="qTimeDivide"),setFullPosition(),qvp.isLive&&"webcast"!=qvp.playerType&&"webcastoverlay"!=qvp.playerType&&renderProductOverlay(), cmCreateManualLinkClickTag(cMetrics.locationTag))},setFullPosition=function(){setFullSize();htmlProperties.getPageWrapper().style.height=clientBrowserHeight-20+"px";htmlProperties.getVideoContainer().style.top=(clientBrowserHeight-(.5625*fullPlayerWidth+qvp.controlH))/2+"px";htmlProperties.getVideoContainer().style.left=(clientBrowserWidth-fullPlayerWidth)/2+"px";qvp.isLive||rescaleProgress()},setFullSize=function(){setFullWidth();htmlProperties.getVideoContainer().style.width=fullPlayerWidth+"px"; htmlProperties.getVideoContainer().style.height=.5625*fullPlayerWidth+qvp.controlH+"px";htmlProperties.getVideo().style.height=.5625*fullPlayerWidth+"px";qvp.isIE6&&ieStatusDimensions()},setFullWidth=function(){fullPlayerWidth=.95*clientBrowserWidth;1076<=clientBrowserWidth?fullPlayerWidth=1024:788>=clientBrowserWidth&&(fullPlayerWidth=750)},rescaleProgress=function(){qvp.isFlash?updateProgressBar(dp.currentTime,dp.duration):updateProgressBar(htmlProperties.getHtmlVideo().currentTime,htmlProperties.getHtmlVideo().duration)}, setAspectRatio=function(){htmlProperties.getVideo().style.height=Math.floor(.5625*parseInt(qElement.getStyle(htmlProperties.getVideo(),"width")))+"px"},updateTimeDisplay=function(a){htmlProperties.getCurrentTimeDisplay().innerHTML=formatTimeMMSS(a)||formatTimeMMSS(dp.currentTime)},trackPlayProgress=function(){playProgressInterval=setInterval(updatePlayProgress,33)},stopTrackingPlayProgress=function(){clearInterval(playProgressInterval)},setPlayProgress=function(a){a=Math.max(0,Math.min(1,(a-qMouse.findPosX(progressHolder))/ progressHolder.offsetWidth));video.currentTime=a*video.duration;playProgressBar.style.width=a*(progressHolder.offsetWidth-2)+"px";updateTimeDisplay()},setVolume=function(a){isMuted||(a=(a-qMouse.findPosY(volumeControl))/volumeControl.offsetHeight,a=Math.abs(a-1),1<a?a=1:0>a&&(a=0),currentVolume=a,video.volume=a,updateVolumeDisplay())},setPlayState=function(a,b){playState=a;"Buffering"==a?(qvp.isLive&&(htmlProperties.getVideoStatus().style.display="block"),htmlProperties.getVideoLoad().style.display= "block",htmlProperties.getVideoStagePlay().style.display="none"):"Playing"==a&&1==isPlaying?(qvp.isLive&&(htmlProperties.getVideoStatus().style.display="none"),htmlProperties.getVideoLoad().style.display="none",htmlProperties.getVideoStagePlay().style.display="none"):"Paused"==a&&0==isPlaying&&(qvp.isLive&&(htmlProperties.getVideoStatus().style.display="block"),htmlProperties.getVideoLoad().style.display="none",htmlProperties.getVideoStagePlay().style.display="block")},updateProgressBar=function(a, b){var c=Math.ceil(a/b*htmlProperties.getProgressHolder().offsetWidth);htmlProperties.getPlayProgressBar().style.width=c+"px";updatePlayHeadLocation(c)},updatePlayHeadLocation=function(a){var b=parseInt(qElement.getStyle(htmlProperties.getPlayheadControl(),"width"))/2,c=parseInt(htmlProperties.getProgressHolder().offsetWidth-parseInt(qElement.getStyle(htmlProperties.getPlayheadControl(),"width")));a<b?htmlProperties.getPlayheadControl().style.left="0px":a>=c?htmlProperties.getPlayheadControl().style.left= c+"px":htmlProperties.getPlayheadControl().style.left=a-b+"px"},ieStatusDimensions=function(){htmlProperties.getVideoLoad().style.height=qElement.getHeight(htmlProperties.getVideo())+"px";htmlProperties.getVideoStagePlay().style.height=qElement.getHeight(htmlProperties.getVideo())+"px";htmlProperties.getVideoStageShim().style.height=qElement.getHeight(htmlProperties.getVideo())+"px";htmlProperties.getVideoDimmer().style.width=clientBrowserWidth+"px";htmlProperties.getVideoDimmer().style.height=clientBrowserHeight+ "px"},renderProductOverlay=function(){var a=document.getElementById("qProdOverlay"),b=document.createElement("div");b.id="qProdContainer";b.className="prodOverlayContainerClass watchQvcLive";var c=document.createElement("a");c.className="purchaseInfoBtn infoBtnExpand";var e=document.createTextNode("Show Purchase Info");c.onclick=function(){if(overlayExpanded)overlayExpanded=!1,this.className="purchaseInfoBtn infoBtnExpand",e.nodeValue="Show Purchase Info",b.style.display="none";else{var a="null"; null!=document.getElementById("divProductInfo")?(a=document.getElementById("divProductNumber"),a=qElement.getNodeNum(a,1).innerHTML):null!=document.getElementById("divProductDetailGroupItems")&&(a=document.getElementById("divProductNumber"),a=a.innerHTML);cmCreateManualLinkClickTag("?cm_sp=PURCHASEINFO-_-LIVETVFS-_-"+a+"&cm_re=FSPURCHASEINFO-_-ITEM-_-"+qString.condense(qvp.liveShowTitle,40,"upper")+"-"+a);overlayExpanded=!0;this.className="purchaseInfoBtn infoBtnCollapse";e.nodeValue="Hide Purchase Info"; updateProductOverlayData();b.style.display="block"}};c.appendChild(e);a.appendChild(c);a.appendChild(b)},updateProductOverlayData=function(){var a="null";if(null!=document.getElementById("divProductInfo"))a=document.getElementById("divProductNumber"),a=qElement.getNodeNum(a,1).innerHTML;else if(null!=document.getElementById("divProductDetailGroupItems"))a=document.getElementById("divProductNumber"),a=a.innerHTML;else return;cMetrics.locationTag="?cm_sp=VIDEO-_-FULLSCREEN-_-LIVETV&cm_re=FULLSCREEN-_-"+ cMetrics.elementID+"-_-"+a;isFullScreen&&(null!=document.getElementById("divProductInfo")?updateSingleOverlayData():null!=document.getElementById("divProductDetailGroupItems")&&updateGroupOverlayData())},updateSingleOverlayData=function(){var a=document.createElement("div");a.id="divProductInfoWrapperOverlay";var b=document.getElementById("divProductInfo"),c=document.getElementById("divProductButtons"),e=document.getElementById("qProdContainer"),m=document.getElementById("qProdOverlay"),b=b.cloneNode(!0), c=c.cloneNode(!0);c.getElementsByTagName("input")[1].value=" ";qElement.remChildren(e);a.appendChild(b);a.appendChild(c);c=a.innerHTML;c=c.replace(/PRODUCTDETAILS-_-/gi,"FSPRODUCTDETAILS-_-");c=c.replace(/-_-LIVETV/gi,"-_-LIVETVFS");a.innerHTML=c;e.appendChild(a);m.appendChild(e)},updateGroupOverlayData=function(){var a=document.createElement("div");a.id="divProductInfoWrapperOverlay";var b=document.getElementById("divProductInfoWrapper"),c=document.getElementById("qProdContainer"),e=document.getElementById("qProdOverlay"), m=document.getElementById("divProductImage").cloneNode(!0),l=document.getElementById("divProductNumber").cloneNode(!0),b=qElement.getNodeNum(b,3).cloneNode(!0);b.style.display="block";var g=document.createElement("div");g.id="divGroupPriceText";g.innerHTML="Price:";var k=document.getElementById("divGroupPrice").cloneNode(!0);k.style.display="block";var f=document.getElementById("divProductDetailGroupItems").cloneNode(!0),d=qGet.className("groupItemPrice",f),f=!1;for(i=0;i<d.length;i++)d[i].innerHTML!= d[0].innerHTML&&(f=!0);if(f)k.className="divGroupPriceMulti";else{var h=d[0].getElementsByTagName("span")[0].innerHTML,d=h.split("$")[1].split(".")[0],h=h.split(".")[1];k.innerHTML='<span class="priceDollars"><span class="priceCents">$</span>'+d+'.<span class="priceCents">'+h+"</span></span>"}d=document.createElement("div");d.id="divGroupPriceDisc";d.innerHTML="Price varies upon selection";h=document.getElementById("spanGroupItemDetails").cloneNode(!0);qElement.remChildren(c);a.appendChild(m);a.appendChild(l); a.appendChild(b);a.appendChild(g);a.appendChild(k);f&&a.appendChild(d);a.appendChild(h);m=document.getElementById("divProductNumber").innerHTML;l=a.innerHTML;l=l.replace(/PRODUCTDETAILS-_-/gi,"FSPRODUCTDETAILS-_-");-1!=m.indexOf("/")&&(b=new RegExp("\\."+m.substr(1),"gi"),l=l.replace(b,"."+m));a.innerHTML=l;c.appendChild(a);e.appendChild(c)},updateShowTitleData=function(){qvp.isLive=!1;metricsCollect("3","null","null");qvp.liveShowTitle=document.getElementById("divShowTitleH2").innerHTML;cMetrics.elementID= qString.condense(qvp.liveShowTitle,50,"upper");metricsCollect("0","null","null");isPlaying&&metricsCollect("2","null","null");qvp.isLive=!0;var a="null";null!=document.getElementById("divProductInfo")?(a=document.getElementById("divProductNumber"),a=qElement.getNodeNum(a,1).innerHTML):null!=document.getElementById("divProductDetailGroupItems")&&(a=document.getElementById("divProductNumber"),a=a.innerHTML);cMetrics.locationTag="?cm_sp=VIDEO-_-FULLSCREEN-_-LIVETV&cm_re=FULLSCREEN-_-"+cMetrics.elementID+ "-_-"+a},videoTimeSeek=function(a){DelvePlayer.doSeekToSecond(a)},movePlayerDom=function(){var a=document.getElementById("mover"),b=document.getElementById("videoMerge");a.insertBefore(b)},initMetricts=function(){switch(qvp.playerType){case "live":cMetrics.elementID=qString.condense(qvp.liveShowTitle,50,"upper");cMetrics.categoryID="VIDEO-LIVETVSHOWS";var a="null";null!=document.getElementById("divProductInfo")?(a=document.getElementById("divProductNumber"),a=qElement.getNodeNum(a,1).innerHTML):null!= document.getElementById("divProductDetailGroupItems")&&(a=document.getElementById("divProductNumber"),a=a.innerHTML);cMetrics.locationTag="?cm_sp=VIDEO-_-FULLSCREEN-_-LIVETV&cm_re=FULLSCREEN-_-"+cMetrics.elementID+"-_-"+a;break;case "plus":cMetrics.elementID=qString.condense(qvp.liveShowTitle,50,"upper");cMetrics.categoryID="VIDEO-LIVETVSHOWS";a="null";null!=document.getElementById("divProductInfo")?(a=document.getElementById("divProductNumber"),a=qElement.getNodeNum(a,1).innerHTML):null!=document.getElementById("divProductDetailGroupItems")&& (a=document.getElementById("divProductNumber"),a=a.innerHTML);cMetrics.locationTag="?cm_sp=VIDEO-_-FULLSCREEN-_-LIVETV&cm_re=FULLSCREEN-_-"+cMetrics.elementID+"-_-"+a;break;case "proddetail":cMetrics.elementID=qString.condense(videoMedia.video[qvp.playlistCount].videoType,10,"upper")+":"+videoMedia.video[qvp.playlistCount].productNumber+" - "+videoMedia.video[qvp.playlistCount].title;cMetrics.categoryID="VIDEO-PRODUCTDETAIL";cMetrics.locationTag="?cm_sp=PDVIDEO-_-FULLSCREEN-_-"+videoMedia.video[qvp.playlistCount].productNumber; break;case "proddetaillarge":cMetrics.elementID=qString.condense(videoMedia.video[qvp.playlistCount].videoType,10,"upper")+":"+videoMedia.video[qvp.playlistCount].productNumber+" - "+videoMedia.video[qvp.playlistCount].title;cMetrics.categoryID="VIDEO-PRODUCTDETAIL";cMetrics.locationTag="?cm_sp=PDVIDEO-_-FULLSCREEN-_-"+videoMedia.video[qvp.playlistCount].productNumber;break;case "pdinclude":cMetrics.elementID=videoMedia.video[qvp.playlistCount].productNumber+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId, 40,"upper");cMetrics.categoryID="VIDEO-PDINCLUDE";break;case "vidgallery":cMetrics.elementID=videoMedia.video[qvp.playlistCount].productNumber+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");cMetrics.categoryID="VIDEO-PDINCLUDE";break;case "spotone":cMetrics.elementID=findPrimaryClass()+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");cMetrics.categoryID="VIDEO-CATEGORY";cMetrics.locationTag="?cm_sp=VIDEO-_-FULLSCREEN-_-CATEGORYPAGE&cm_re=VIDEO-_-FULLSCREEN-_-"+ qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");break;case "dblblock":cMetrics.elementID=findPrimaryClass()+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");cMetrics.categoryID="VIDEO-CATEGORY";cMetrics.locationTag="?cm_sp=VIDEO-_-FULLSCREEN-_-CATEGORYPAGE&cm_re=VIDEO-_-FULLSCREEN-_-"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");break;case "programguide":cMetrics.elementID=qvp.stage.id+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId, 40,"upper");cMetrics.categoryID="VIDEO-PROGRAMGUIDE";cMetrics.locationTag="?cm_sp=PROGRAMGUIDE-_-VIDEO-FULLSCREEN-_-"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper")+"&cm_re=VIDEO-_-FULLSCREEN-_-"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");break;case "programweekly":cMetrics.elementID=qvp.stage.id+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");cMetrics.categoryID="VIDEO-PROGRAMGUIDE";cMetrics.locationTag="?cm_sp=PROGRAMGUIDE-_-VIDEO-FULLSCREEN-_-"+ qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper")+"&cm_re=VIDEO-_-FULLSCREEN-_-"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper");break;case "gallery":cMetrics.elementID=""!=galleryCfg.videoGroup[videoGallery.currentGroup].playlist[qvp.playlistCount].product?galleryCfg.videoGroup[videoGallery.currentGroup].playlist[qvp.playlistCount].product+":"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper"):qString.condense(videoMedia.video[qvp.playlistCount].mediaId, 40,"upper");cMetrics.categoryID=""!=galleryCfg.videoGroup[videoGallery.currentGroup].playlist[qvp.playlistCount].product?"VIDEO-PLAYLIST-ITEM":"VIDEO-PLAYLIST";cMetrics.locationTag="?cm_sp=PLAYLISTPLAYER-_-VIDEO"+(qvp.playlistCount+1)+"-_-FULLSCREEN&cm_re="+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper")+"-_-FULLSCREEN-_-FULLSCREEN";break;default:cMetrics.elementID="GLOBAL:"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper"),cMetrics.categoryID="VIDEO-CATEGORY", cMetrics.locationTag="?cm_sp=VIDEO-_-FULLSCREEN-_-CATEGORYPAGE&cm_re=VIDEO-_-FULLSCREEN-_-"+qString.condense(videoMedia.video[qvp.playlistCount].mediaId,40,"upper")}},findPrimaryClass=function(){var a=window.location.href;-1!=a.indexOf("category.")?(a=a.split("category."),a=a[1].substr(0,4)):(a=document.getElementById("breadCrumbs").innerHTML,-1!=a.indexOf("category.")?(a=a.split("category."),a=a[1].substr(0,4)):a="GLOBAL");return a},liveTimeFormat=function(a){var b=a.getFullYear(),c=a.getMonth()+ 1;9>=c&&(c="0"+c.toString());var e=a.getDate();9>=e&&(e="0"+e.toString());var m=a.getHours();9>=m&&(m="0"+m.toString());a=a.getMinutes();9>=a&&(a="0"+a.toString());return b.toString()+c.toString()+e.toString()+m.toString()+a.toString()},metricsCollect=function(a,b,c){bitRate=qvp.isFlash?dp.bitrate:"null";qvp.isLive&&(c=b="null");a="null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-"+qvp.mediaID+"-_-"+a+"-_-"+b+"-_-"+c+"-_-WSC-_-"+bitRate;qvp.isLive&&cmCreateElementTag("LIVETV", "VIDEO-LIVETV",a);cmCreateElementTag(cMetrics.elementID,cMetrics.categoryID,a)},errorMetrics=function(a,b,c){cmCreateElementTag(cMetrics.elementID,cMetrics.categoryID,"null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-null-_-"+c+"-_-"+qvp.mediaID+"-_-4-_-"+a+"-_-"+b+"-_-WSC-_-"+(qvp.isFlash?dp.bitrate||"NOTLOADED":"null"))},dp={currentTime:"",duration:"",bitrate:!1},delvePlayerCallback=function(a,b,c){DelvePlayer.registerPlayer(a);switch(b){case "onPlayerLoad":doOnPlayerLoad(qvp.mediaID); break;case "onChannelLoad":doOnChannelLoad(c);break;case "onMediaLoad":doOnFlashMediaLoad(c);break;case "onPlayStateChanged":doOnPlayStateChanged(c);break;case "onPlayheadUpdate":doOnPlayheadUpdate(c);break;case "onError":doOnError(c);break;case "onQualityChanged":doOnQualityChanged(c);break;case "onMediaComplete":metricsCollect("3",Math.floor(dp.duration),Math.floor(dp.duration)),qvp.hasPlaylist&&"programguide"!=qvp.playerType?(qvp.playlistCount++,qvp.playlistCount>=qvp.playlistLength&&(qvp.playlistCount= 0),"gallery"==qvp.playerType?0==qvp.playlistCount?videoGallery.switchPlaylistItem(-1):videoGallery.switchPlaylistItem(qvp.playlistCount):"proddetail"==qvp.playerType?0==qvp.playlistCount?updateActiveLLVideo(null,videoMedia.video[qvp.playlistCount].mediaId,!1):updateActiveLLVideo(null,videoMedia.video[qvp.playlistCount].mediaId):"proddetaillarge"==qvp.playerType?0==qvp.playlistCount?updateActiveLLVideoLarge(null,videoMedia.video[qvp.playlistCount].mediaId,!1):updateActiveLLVideoLarge(null,videoMedia.video[qvp.playlistCount].mediaId): setMedia(videoMedia.video[qvp.playlistCount].mediaId)):(isPlaying=!0,playPauseToggle(),setPlayState("Paused","block"),qvp.autoPlay=!1,removePlayerEvents())}},doOnPlayerLoad=function(a){dp.bitrate="Lowest";initMetricts();setFlashMedia(a);DelvePlayer.doSetVolume(htmlProperties.getVolumeLevel());updateVolumeDisplay(htmlProperties.getVolumeLevel());vPlayer.statusMessage("","none");document.getElementById("state").innerHTML="paused"},doOnQualityChanged=function(a){dp.bitrate=DelvePlayer.doGetActualQuality()}, setFlashMedia=function(a){removePlayerEvents();playState="not ready";DelvePlayer.doLoadMedia(a,qvp.autoPlay);DelvePlayer.doSetMedia(a,qvp.autoPlay)},setMedia=function(a,b){if(qvp.hasFlash||!qvp.isFlash){videoHasError&&videoErrorToggle();for(i=0;i<qvp.playlistLength;i++)videoMedia.video[i].mediaId==a&&(qvp.playlistCount=i,qvp.mediaID=a,initMetricts());qvp.isFlash?"undefined"!=typeof DelvePlayer&&(DelvePlayer.doPause(),0==b?(isPlaying=!0,playPauseToggle(),setPlayState("Paused","block"),qvp.autoPlay= !1,removePlayerEvents()):qvp.autoPlay=!0,setFlashMedia(a)):(document.getElementById("video_embed").removeAttribute("style"),isPlaying=!0,playPauseToggle(),null==videoMedia.video[qvp.playlistCount].mobile[0].url?(htmlCanPlay=!1,videoErrorMessage("unavailable"),errorMetrics("0","0","VIDEOUNAVAILABLEERROR")):(htmlProperties.getHtmlVideo().currentTime=0,htmlProperties.getHtmlVideo().src=videoMedia.video[qvp.playlistCount].mobile[0].url,htmlProperties.getPlayProgressBar().style.width="0px",updatePlayHeadLocation(0), updateTimeDisplay(0),setPlayState("Buffering","block"),htmlProperties.getVideoStatus().style.background="url("+videoMedia.video[qvp.playlistCount].thumbnail[1].url+") center center no-repeat",htmlFrame=!0,qvp.autoPlay=0==b?!1:!0))}},doOnFlashMediaLoad=function(a){qvp.autoPlay?(isPlaying=!1,playPauseToggle()):setPlayState("Paused","block");qvp.isLive||(dp.duration=a.durationInMilliseconds/1E3,htmlProperties.getDurationDisplay().innerHTML=formatTimeMMSS(dp.duration));addPlayerEvents();metricsCollect("0", "0",Math.floor(dp.duration))},doOnError=function(a){if(0==a.errorID&&"not ready"!=playState)videoErrorMessage("general"),errorMetrics(Math.floor(dp.currentTime),Math.floor(dp.duration),"VIDEOGENERALERROR");else if(0!=a.errorID)videoErrorMessage("unavailable"),errorMetrics("0","0","VIDEOUNAVAILABLEERROR");else return;removePlayerEvents()},doOnPlayStateChanged=function(a){a.isBusy?(isPlaying=!1,setPlayState("Buffering","block")):a.isPlaying?(isPlaying=!0,setPlayState("Playing","none")):(isPlaying=!1, setPlayState("Paused","block"))},doOnPlayheadUpdate=function(a){isDragging||qvp.isLive||(dp.currentTime=a.positionInMilliseconds/1E3,htmlProperties.getCurrentTimeDisplay().innerHTML=formatTimeMMSS(dp.currentTime),updateProgressBar(dp.currentTime,dp.duration))},htmlProperties=new htmlProperties,setPlayerProperties=function(){htmlProperties.setVideoGlobal(qElement.byId("video_bottom"));htmlProperties.setVideoDimmer(qElement.byId("video_dimmer"));htmlProperties.setVideoContainer(qElement.byId("video_box")); htmlProperties.setVideoStatus(qElement.byId("vidStatus"));htmlProperties.setVideoClick(qElement.byId("vob"));htmlProperties.setVideoError(qElement.byId("videoError"));htmlProperties.setVideoLoad(qElement.byId("vidStatusText"));htmlProperties.setVideoStagePlay(qElement.byId("stagePlay"));htmlProperties.setVideoStageShim(qElement.byId("overlayShim"));htmlProperties.setVideo(qElement.byId("qPlayer"));htmlProperties.setHtmlVideo(qElement.byId("limelightPlayer"));htmlProperties.setControls(qElement.byId("qControls")); htmlProperties.setPlayControl(qElement.byId("qPlay"));htmlProperties.setPauseControl(qElement.byId("qPause"));htmlProperties.setPlayheadControl(qElement.byId("playHead"));htmlProperties.setProgressControl(qElement.byId("progress"));htmlProperties.setProgressHolder(qElement.byId("progress_box"));htmlProperties.setPlayProgressBar(qElement.byId("play_progress"));htmlProperties.setCurrentTimeDisplay(qElement.byId("qCurrent"));htmlProperties.setSlashTimeDisplay(qElement.byId("qTimeSlash"));htmlProperties.setDurationDisplay(qElement.byId("qDuration")); htmlProperties.setVolumeHover(qElement.byId("volumeContainer"));htmlProperties.setVolumeControl(qElement.byId("qVolume"));htmlProperties.setMuteControl(qElement.byId("qMute"));htmlProperties.setVolumeDisplay(qElement.byId("qVolumeSlider"));htmlProperties.setVolumeMouse(qElement.byId("qVolumeDisplay"));htmlProperties.setVolumeLevel(1);htmlProperties.setFullScreenDisplay(qElement.byId("qFSBtn"));htmlProperties.setFullScreenSlashDisplay(qElement.byId("qFSSpacer"));htmlProperties.setFullScreenControl(qElement.byId("qFullScreen")); htmlProperties.setSmallScreenControl(qElement.byId("qSmallScreen"));htmlProperties.setVideoContext(qElement.byId("qCMenu"));htmlProperties.setVideoContextPlay(qElement.byId("qContextPlay"));htmlProperties.setVideoContextPause(qElement.byId("qContextPause"));htmlProperties.setVideoContextMute(qElement.byId("qContextMute"));htmlProperties.setVideoContextUnMute(qElement.byId("qContextUnMute"));htmlProperties.setVideoContextFullDisplay(qElement.byId("qFSLI"));htmlProperties.setVideoContextFull(qElement.byId("qContextFull")); htmlProperties.setVideoContextSmall(qElement.byId("qContextSmall"));htmlProperties.setPageWrapper(qElement.byId("divWrapper"));setTimeout(qvp.windowResize,2500);if(!qvp.isFlash){if(""==htmlProperties.getHtmlVideo().src||null==htmlProperties.getHtmlVideo().src||"undefined"==htmlProperties.getHtmlVideo().src)htmlCanPlay=!1,videoErrorMessage("unavailable"),errorMetrics("0","0","VIDEOUNAVAILABLEERROR");htmlProperties.getHtmlVideo().addEventListener("loadedmetadata",function(){qvp.isLive||(htmlProperties.getDurationDisplay().innerHTML= formatTimeMMSS(htmlProperties.getHtmlVideo().duration),dp.duration=htmlProperties.getHtmlVideo().duration)},!0);htmlProperties.getHtmlVideo().addEventListener("canplay",function(){addPlayerEvents();htmlCanPlay=!0;qvp.autoPlay?(setPlayState("Playing","none"),playPauseToggle()):(isPlaying=!1,setPlayState("Paused","block"));metricsCollect("0","0",Math.floor(htmlProperties.getHtmlVideo().duration))},!0);initMetricts()}qvp.isIE6&&ieStatusDimensions();window.onresize=function(){qvp.windowResize()}},addPlayerEvents= function(){videoIsLoaded=!0;!window.addEventListener&&window.attachEvent?(qvp.isLive||(htmlProperties.getPlayheadControl().attachEvent("onmousedown",playheadMouseDown),htmlProperties.getProgressHolder().attachEvent("onmousedown",progressMouseDown)),htmlProperties.getPlayControl().attachEvent("onclick",playPauseToggle),htmlProperties.getPauseControl().attachEvent("onclick",playPauseToggle),htmlProperties.getVideoContextPlay().attachEvent("onmousedown",playPauseToggle),htmlProperties.getVideoContextPause().attachEvent("onmousedown", playPauseToggle),htmlProperties.getVideoClick().attachEvent("onmousedown",videoClickPlayPause),htmlProperties.getFullScreenControl().attachEvent("onclick",screenToggle),htmlProperties.getSmallScreenControl().attachEvent("onclick",screenToggle),htmlProperties.getVideoContextFull().attachEvent("onmousedown",screenToggle),htmlProperties.getVideoContextSmall().attachEvent("onmousedown",screenToggle),htmlProperties.getVolumeControl().attachEvent("onclick",volumeBtnClick),htmlProperties.getMuteControl().attachEvent("onclick", volumeBtnClick),htmlProperties.getVideoContextMute().attachEvent("onmousedown",volumeBtnClick),htmlProperties.getVideoContextUnMute().attachEvent("onmousedown",volumeBtnClick),htmlProperties.getVolumeHover().attachEvent("onmouseover",showVolumeDisplay),htmlProperties.getVolumeHover().attachEvent("onmouseout",hideVolumeDisplay),htmlProperties.getVolumeMouse().attachEvent("onmousedown",controlVolume),htmlProperties.getVolumeMouse().attachEvent("onmouseover",function(){onVolumeDisplay=!0}),htmlProperties.getVolumeMouse().attachEvent("onmouseout", function(){onVolumeDisplay=!1}),htmlProperties.getVideoContainer().attachEvent("oncontextmenu",function(a){drawContextMenu(a);window.event.returnValue=!1}),document.attachEvent("onmousedown",removeContextMenu)):window.addEventListener&&(qvp.isLive||(htmlProperties.getPlayheadControl().addEventListener("mousedown",playheadMouseDown,!0),htmlProperties.getProgressHolder().addEventListener("mousedown",progressMouseDown,!0)),htmlProperties.getPlayControl().addEventListener("click",playPauseToggle,!0), htmlProperties.getPauseControl().addEventListener("click",playPauseToggle,!0),htmlProperties.getVideoContextPlay().addEventListener("mousedown",playPauseToggle,!0),htmlProperties.getVideoContextPause().addEventListener("mousedown",playPauseToggle,!0),htmlProperties.getVideoClick().addEventListener("click",playPauseToggle,!0),htmlProperties.getFullScreenControl().addEventListener("click",screenToggle,!0),htmlProperties.getSmallScreenControl().addEventListener("click",screenToggle,!0),htmlProperties.getVideoContextFull().addEventListener("mousedown", screenToggle,!0),htmlProperties.getVideoContextSmall().addEventListener("mousedown",screenToggle,!0),htmlProperties.getVolumeControl().addEventListener("click",volumeBtnClick,!0),htmlProperties.getMuteControl().addEventListener("click",volumeBtnClick,!0),htmlProperties.getVideoContextMute().addEventListener("mousedown",volumeBtnClick,!0),htmlProperties.getVideoContextUnMute().addEventListener("mousedown",volumeBtnClick,!0),htmlProperties.getVolumeHover().addEventListener("mouseover",showVolumeDisplay, !0),htmlProperties.getVolumeHover().addEventListener("mouseout",hideVolumeDisplay,!0),htmlProperties.getVolumeMouse().addEventListener("mousedown",controlVolume,!0),htmlProperties.getVolumeMouse().addEventListener("mouseover",function(){onVolumeDisplay=!0},!0),htmlProperties.getVolumeMouse().addEventListener("mouseout",function(){onVolumeDisplay=!1},!0),htmlProperties.getVideoContainer().addEventListener("contextmenu",function(a){drawContextMenu(a);a.preventDefault()},!0),htmlProperties.getVideoContainer().addEventListener("mousedown", removeContextMenu,!0),document.addEventListener("mousedown",removeContextMenu,!0),qvp.isFlash||(htmlProperties.getHtmlVideo().addEventListener("timeupdate",function(){isDragging||qvp.isLive||(updateTimeDisplay(htmlProperties.getHtmlVideo().currentTime),updateProgressBar(htmlProperties.getHtmlVideo().currentTime,htmlProperties.getHtmlVideo().duration))},!0),htmlProperties.getHtmlVideo().addEventListener("play",function(){isPlaying=!0;setPlayState("Playing","none")},!0),htmlProperties.getHtmlVideo().addEventListener("pause", function(){isPlaying=!1;setPlayState("Paused","block")},!0),htmlProperties.getHtmlVideo().addEventListener("waiting",function(){isPlaying=!1;setPlayState("Buffering","block")},!0),htmlProperties.getHtmlVideo().addEventListener("ended",function(){isPlaying=!0;playPauseToggle();htmlProperties.getHtmlVideo().currentTime=0;qvp.hasPlaylist&&"programguide"!=qvp.playerType?(qvp.playlistCount++,qvp.playlistCount>=qvp.playlistLength&&(qvp.playlistCount=0),"gallery"==qvp.playerType?videoGallery.switchPlaylistItem(qvp.playlistCount): "proddetail"==qvp.playerType?0==qvp.playlistCount?updateActiveLLVideo(null,videoMedia.video[qvp.playlistCount].mediaId,!1):updateActiveLLVideo(null,videoMedia.video[qvp.playlistCount].mediaId):"proddetaillarge"==qvp.playerType?0==qvp.playlistCount?updateActiveLLVideoLarge(null,videoMedia.video[qvp.playlistCount].mediaId,!1):updateActiveLLVideoLarge(null,videoMedia.video[qvp.playlistCount].mediaId):htmlProperties.getHtmlVideo().src=videoMedia.video[qvp.playlistCount].mobile[0].url):htmlProperties.getHtmlVideo().src= videoMedia.video[0].mobile[0].url;htmlProperties.getPlayProgressBar().style.width="0px";updatePlayHeadLocation(0);updateTimeDisplay(0);qvp.hasPlaylist?(htmlProperties.getVideoStatus().style.background="url("+videoMedia.video[qvp.playlistCount].thumbnail[1].url+") center center no-repeat",htmlFrame=!0,0==qvp.playlistCount?(setPlayState("Paused","block"),qvp.autoPlay=!1):(setPlayState("Buffering","block"),qvp.autoPlay=!0)):(htmlProperties.getVideoStatus().style.background="url("+videoMedia.video[qvp.playlistCount].thumbnail[1].url+ ") center center no-repeat",htmlFrame=!0,setPlayState("Paused","block"),qvp.autoPlay=!1);metricsCollect("3",Math.floor(dp.duration),Math.floor(dp.duration))},!0),htmlProperties.getHtmlVideo().addEventListener("error",function(a){if(htmlCanPlay)videoErrorMessage("general"),errorMetrics(Math.floor(htmlProperties.getHtmlVideo().currentTime),Math.floor(htmlProperties.getHtmlVideo().duration),"VIDEOGENERALERROR");else{if(htmlCanPlay)return;videoErrorMessage("unavailable");errorMetrics("0","0","VIDEOUNAVAILABLEERROR")}removePlayerEvents()}, !0),htmlProperties.getHtmlVideo().addEventListener("stalled",function(a){},!0),htmlProperties.getHtmlVideo().addEventListener("suspend",function(a){},!0)))},playheadMouseDown=function(a){!window.addEventListener&&window.attachEvent?1==a.button&&(page.blockTextSelection(),document.attachEvent("onmousemove",playheadMove),document.onmouseup=function(a){isDragging&&progressMouseUp();page.unblockTextSelection();document.detachEvent("onmousemove",playheadMove)}):window.addEventListener&&0==a.button&&(document.addEventListener("mousemove", playheadMove,!0),document.onmouseup=function(a){isDragging&&progressMouseUp();document.removeEventListener("mousemove",playheadMove,!0)})},playheadMove=function(a){htmlProperties.getPlayheadControl().className="playHeadControl playHeadDown";playheadOffset=qMouse.getX(a)-qElement.findX(htmlProperties.getControls());isDragging=!0;qvp.isIE&&page.blockTextSelection();isPlaying||playPauseToggle();a=playheadOffset/htmlProperties.getProgressHolder().offsetWidth;0>a?a=0:1<a&&(a=1);timeRatio=qvp.isFlash?a* dp.duration:a*htmlProperties.getHtmlVideo().duration;htmlProperties.getPlayProgressBar().style.width=playheadOffset+5+"px";updatePlayHeadLocation(playheadOffset);updateTimeDisplay(timeRatio)},progressMouseDown=function(a){!window.addEventListener&&window.attachEvent?1==a.button&&(isDragging=!0,playheadMove(a),page.blockTextSelection(),document.attachEvent("onmousemove",playheadMove),htmlProperties.getPlayheadControl().className="playHeadControl playHeadDown",document.onmouseup=function(a){isDragging&& progressMouseUp();page.unblockTextSelection();document.detachEvent("onmousemove",playheadMove)}):window.addEventListener&&0==a.button&&(isDragging=!0,playheadMove(a),document.addEventListener("mousemove",playheadMove,!0),htmlProperties.getPlayheadControl().className="playHeadControl playHeadDown",document.onmouseup=function(a){isDragging&&progressMouseUp();document.removeEventListener("mousemove",playheadMove,!0)})},progressMouseUp=function(){isDragging=!1;htmlProperties.getPlayheadControl().className= "playHeadControl playHeadUp";qvp.isFlash?(DelvePlayer.doSeekToSecond(timeRatio),metricsCollect("2",Math.floor(timeRatio),Math.floor(dp.duration))):(htmlProperties.getHtmlVideo().currentTime=timeRatio,metricsCollect("2",Math.floor(timeRatio),Math.floor(htmlProperties.getHtmlVideo().duration)))},volumeBtnClick=function(){volumeToggle();downVolume=!1},controlVolume=function(a){!window.addEventListener&&window.attachEvent&&1!=a.button||window.addEventListener&&0!=a.button||!onVolumeDisplay||(document.onselectstart= null,qvp.isIE&&page.blockTextSelection(),document.onmousemove=function(a){onVolumeDisplay&&moveVolume(a)},document.onmousedown=function(a){moveVolume(a);downVolume=!0},document.onmouseup=function(){qvp.isIE&&page.unblockTextSelection();document.onmousemove=null;document.onmouseup=null;document.onmousedown=null;downVolume=!1;onVolumeControl||hideVolumeDisplay()})},moveVolume=function(a){onVolumeDisplay&&setVolume(a)},setVolume=function(a){1<qMouse.getY(a)-qElement.findY(htmlProperties.getVolumeMouse())&& (a=qMouse.getElementY(a)/htmlProperties.getVolumeMouse().offsetHeight,a=Math.abs(a-1),1<a?a=1:.03>a?(isMuted||volumeToggle(),a=0):.03<a&&isMuted&&volumeToggle(),nv=10*a,v=Math.ceil(nv),qvp.isFlash?DelvePlayer.doSetVolume(v/10):htmlProperties.getHtmlVideo().volume=v/10,updateVolumeDisplay(v/10),0>=v&&(v=1),htmlProperties.setVolumeLevel(v/10))},updateVolumeDisplay=function(a){a*=600;htmlProperties.getVolumeDisplay().style.backgroundPosition="-"+a+"px -40px"},showVolumeDisplay=function(){isDragging|| (htmlProperties.getVolumeDisplay().style.display="block",onVolumeControl=!0)},hideVolumeDisplay=function(){onVolumeControl=!1;downVolume||(htmlProperties.getVolumeDisplay().style.display="none")},drawContextMenu=function(a){cWidth=qElement.getWidth(htmlProperties.getVideoContext())+2;cHeight=qElement.fullHeight(htmlProperties.getVideoContext())+2;leftBound=page.windowWidth()+page.scrollX();topBound=page.windowHeight()+page.scrollY();contextLeft=qMouse.getX(a);contextTop=qMouse.getY(a);contextTop+ cHeight>topBound&&(contextTop-=cHeight-5);contextLeft+cWidth>leftBound&&(contextLeft-=cWidth-5);0>=contextTop&&(contextTop=5);htmlProperties.getVideoContext().style.top=contextTop-5+"px";htmlProperties.getVideoContext().style.left=contextLeft-5+"px";htmlProperties.getVideoContext().style.display="block";contextMenuOpen=!0},removeContextMenu=function(){htmlProperties.getVideoContext().style.display="none";contextMenuOpen=!1},removePlayerEvents=function(){videoIsLoaded=!1;!window.removeEventListener&& window.detachEvent?(qvp.isLive||(htmlProperties.getPlayheadControl().detachEvent("onmousedown",playheadMouseDown),htmlProperties.getProgressHolder().detachEvent("onmousedown",progressMouseDown)),htmlProperties.getPlayControl().detachEvent("onclick",playPauseToggle),htmlProperties.getPauseControl().detachEvent("onclick",playPauseToggle),htmlProperties.getVideoContextPlay().detachEvent("onmousedown",playPauseToggle),htmlProperties.getVideoContextPause().detachEvent("onmousedown",playPauseToggle),htmlProperties.getVideoClick().detachEvent("onmousedown", videoClickPlayPause),htmlProperties.getFullScreenControl().detachEvent("onclick",screenToggle),htmlProperties.getSmallScreenControl().detachEvent("onclick",screenToggle),htmlProperties.getVideoContextFull().detachEvent("onmousedown",screenToggle),htmlProperties.getVideoContextSmall().detachEvent("onmousedown",screenToggle),htmlProperties.getVolumeControl().detachEvent("onclick",volumeBtnClick),htmlProperties.getMuteControl().detachEvent("onclick",volumeBtnClick),htmlProperties.getVideoContextMute().detachEvent("onmousedown", volumeBtnClick),htmlProperties.getVideoContextUnMute().detachEvent("onmousedown",volumeBtnClick),htmlProperties.getVolumeHover().detachEvent("onmouseover",showVolumeDisplay),htmlProperties.getVolumeHover().detachEvent("onmouseout",hideVolumeDisplay),htmlProperties.getVolumeMouse().detachEvent("onmousedown",controlVolume),htmlProperties.getVolumeMouse().detachEvent("onmouseover",function(){onVolumeDisplay=!0}),htmlProperties.getVolumeMouse().detachEvent("onmouseout",function(){onVolumeDisplay=!1}), htmlProperties.getVideoContainer().detachEvent("oncontextmenu",function(a){drawContextMenu(a);window.event.returnValue=!1}),document.detachEvent("onmousedown",removeContextMenu)):window.removeEventListener&&(qvp.isLive||(htmlProperties.getPlayheadControl().removeEventListener("mousedown",playheadMouseDown,!0),htmlProperties.getProgressHolder().removeEventListener("mousedown",progressMouseDown,!0)),htmlProperties.getPlayControl().removeEventListener("click",playPauseToggle,!0),htmlProperties.getPauseControl().removeEventListener("click", playPauseToggle,!0),htmlProperties.getVideoContextPlay().removeEventListener("mousedown",playPauseToggle,!0),htmlProperties.getVideoContextPause().removeEventListener("mousedown",playPauseToggle,!0),htmlProperties.getVideoClick().removeEventListener("click",playPauseToggle,!0),htmlProperties.getFullScreenControl().removeEventListener("click",screenToggle,!0),htmlProperties.getSmallScreenControl().removeEventListener("click",screenToggle,!0),htmlProperties.getVideoContextFull().removeEventListener("mousedown", screenToggle,!0),htmlProperties.getVideoContextSmall().removeEventListener("mousedown",screenToggle,!0),htmlProperties.getVolumeControl().removeEventListener("click",volumeBtnClick,!0),htmlProperties.getMuteControl().removeEventListener("click",volumeBtnClick,!0),htmlProperties.getVideoContextMute().removeEventListener("mousedown",volumeBtnClick,!0),htmlProperties.getVideoContextUnMute().removeEventListener("mousedown",volumeBtnClick,!0),htmlProperties.getVolumeHover().removeEventListener("mouseover", showVolumeDisplay,!0),htmlProperties.getVolumeHover().removeEventListener("mouseout",hideVolumeDisplay,!0),htmlProperties.getVolumeMouse().removeEventListener("mousedown",controlVolume,!0),htmlProperties.getVolumeMouse().removeEventListener("mouseover",function(){onVolumeDisplay=!0},!0),htmlProperties.getVolumeMouse().removeEventListener("mouseout",function(){onVolumeDisplay=!1},!0),htmlProperties.getVideoContainer().removeEventListener("contextmenu",function(a){drawContextMenu(a);a.preventDefault()}, !0),htmlProperties.getVideoContainer().removeEventListener("mousedown",removeContextMenu,!0),document.removeEventListener("mousedown",removeContextMenu,!0))};