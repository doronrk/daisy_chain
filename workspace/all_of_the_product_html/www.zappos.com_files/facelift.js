




z.Stock=function(a,b,c,d){function e(){f.stock=f.checkAvailability();f.dispatch(f.stock)}if(!(this instanceof z.Stock))return new z.Stock(a,b,c,d);d=d||"";var f=this;f.dimensions=b;f.values=c;f.dlen=typeof f.dimensions!="undefined"?f.dimensions.length:null;f.stocks=a;f.events={change:[],partial:[],available:[],unavailable:[]};f.stock=null;f.color=$j("#"+d+"color").bind("change",e);if(f.dlen)for(a=0;a<f.dlen;a++)f[b[a]]=$j("#"+d+b[a]).bind("change",e);z.publish("stock:loaded",{args:[this],sync:true})};
z.Stock.prototype={on:function(a,b){this.events[a].push(b);if(this.state(this.stock)===a||a==="change")b.call(this,this.stocks);return this},checkAvailability:function(){var a=this.stocks,b,c=this.color.val(),d=typeof a!="undefined"?a.length:null;if(d)for(var e=0;e<d;e++){b=a[e];if(b.color===c){var f=true;if(this.dlen)for(var h=0;h<this.dlen;h++){var g=this.dimensions[h];if(!b[g]||b[g]&&(b[g]!=this.convertedValue(this[g].val())||b[g]==undefined)){f=false;break}}if(f){b.isAvailable=b.onHand>0;b.isPartial=
false;return b}}}b={isAvailable:false,isPartial:false,onHand:0,colorId:c};if(this.dlen)for(e=0;e<this.dlen;e++){g=this.dimensions[e];a=this.convertedValue(this[g].val());b[g]=a;if(!b.isPartial&&(!a||a.match(/-1_(.*)/gi)))b.isPartial=true}return b},state:function(a){a=a||this.stock||this.checkAvailability();return a.isPartial?"partial":a.isAvailable?"available":"unavailable"},dispatch:function(a){this.callEvents(this.state(a),a);this.callEvents("change",a)},callEvents:function(a,b){for(var c=this.events[a],
d=c.length,e=0;e<d;e++)c[e].call(this,b)},convertedValue:function(a){return this.convertedValueIdToValueIdJson?this.convertedValueIdToValueIdJson[a]:a}};z.Style=function(a){if(!(this instanceof z.Style))return new z.Style(a);var b=this;b.events=[];b.color=$j("#"+(a||"")+"color").bind("change",function(){b.callEvents(this.value)})};
z.Style.prototype={on:function(a,b){a==="change"&&b.call(this,this.color.val());this.events.push(b);return this},callEvents:function(a){for(var b=this.events,c=b.length,d=0;d<c;d++)b[d].call(this,a)}};
(function(a){z.Stage=function(b){b=a.extend({stage:".stage",nav:".wing.nav ul a",onNav:".wing.nav li.on",onStage:".stageFirstItem"},b);el=z.util.getjQueryElements(b);el.onNav.children("a:first");el.onStage.addClass("onStage").removeClass("stageFirstItem");el.nav.click(function(d){d.preventDefault();d=a(this);var e=d.attr("href");e=el.stage.children(e);var f=e.attr("id");if(el.onStage[0]!==e[0]){var h=a('<div id="'+f+'"></div>');a("head").append(h);e.attr("id","");var g=el.onNav,j=el.onStage;g&&g.removeClass("on");
j.removeClass("onStage");el.onStage=e.addClass("onStage");el.onNav=d.parent().addClass("on");h.remove();e.attr("id",f);a("#productImages").toggleClass("hidden",!e.is("#prdImage"));z.publish("stage:change",{args:[e]});z.publish("stage:change:"+e.attr("id"))}});if(document.attachEvent){var c=document.title.split("#")[0];document.attachEvent("onpropertychange",function(d){d.propertyName==="title"&&document.title!==c&&setTimeout(function(){document.title=c},1)})}return this}})(jQuery);
(function(a){z.Share=function(b){if(!(this instanceof z.Share))return new z.Share(b);var c=[];this.options=a.extend({title:null,url:null,description:null,image:null,buttons:{facebook:false,google:false,twitter:false,pinterest:false},config:{lazyLoad:false,individual:false,animate:false,email:false}},b);this.buttons=this.options.buttons;this.config=this.options.config;this.buttonClones={};this.allButtons=null;this.facebookInited=false;for(var d in this.buttons)if(this.buttons[d]){b=a("#share-"+d);
b.children(".inner").append('<span class="spinner"></span><a class="fake-button"></a>');this.buttons[d]!="static"&&b.addClass("loaded");c.push("#share-"+d);this.buttonClones[d]=b.clone()}else a("#share-"+d).remove();this.allButtons=a(c.join(","));return this};z.Share.prototype={updateButtons:function(b){var c=a(document);this.options=a.extend(this.options,b);if((b=this.options.params.match(/{{([a-zA-Z]+)}}/))&&b.length>1)for(var d=0;d<b.length;d+=2)this.options.params=this.options.params.replace(b[d],
this.options[b[d+1]]);b=encodeURIComponent(this.options.url+(this.options.params?"?"+this.options.params+"&utm_source={{utm_source}}":""));var e=encodeURIComponent(this.options.shortUrl);d=encodeURIComponent(this.options.title);var f=encodeURIComponent(this.options.image),h=encodeURIComponent(this.options.description),g=encodeURIComponent(this.options.returnUrl),j=encodeURIComponent("{{utm_source}}");for(var k in this.buttons)if(this.buttons[k]){var l=a("#share-"+k);l.attr("data-script-reload")!=
"loaded"&&l.html(this.buttonClones[k].html())}if(this.buttons.facebook=="static"){var m=b.replace(j,"facebook");k=["https://www.facebook.com/dialog/feed?app_id=",this.options.appid,"&link=",m,"&picture=",f,"&name=",d,"&caption=",h,"&description=",d,"&redirect_uri=",g].join("");c.find("#share-facebook .fake-button").attr("href",k)}else this.buttons.facebook&&c.find("#share-facebook div.fb-like").attr("data-href",m);this.buttons.google&&c.find("#share-google div.g-plusone").attr("data-href",b.replace(j,
"google"));if(this.buttons.twitter=="static"){k=["https://twitter.com/share?url=",e,"&text=",d].join("");c.find("#share-twitter .fake-button").attr("href",k)}else this.buttons.twitter&&c.find("#share-twitter a").attr({"data-url":e,"data-text":d});if(this.buttons.pinterest){k=["http://pinterest.com/pin/create/button/?url=",b.replace(j,"pinterest"),"&media=",f,"&description=",d].join("");c.find("#share-pinterest a").attr("href",k)}if(this.config.email)(c=a("#share-email a").attr("href"))&&a("#share-email a").attr("href",
c.replace(/colorId=[0-9]*/i,"colorId="+this.options.color));this.loadButtons();return this},loadButtons:function(){for(var b in this.buttons)this.loadButton(b,this.buttons[b]);return this},loadButton:function(b,c){var d=a("#share-"+b);if(c=="static")this.loadButtonStatic(d);else this.config.lazyLoad?this.loadButtonLazy(d):this.loadButtonNow(d)},loadButtonStatic:function(b){b.attr("data-link-url");var c=b.attr("data-add-class");b.find(".fake-button").addClass(c)},loadButtonNow:function(b){var c=b.attr("id");
c=this.createScript(b.attr("data-script-url"),c);this.removeTag("#"+b.attr("id")+"-script");this.appendToHead(c);this.showButton(b)},loadButtonLazy:function(b){var c=this,d=b.attr("id"),e=this.createScript(b.attr("data-script-url"),d);this.removeTag("#"+b.attr("id")+"-script");b.removeClass("loaded");b.bind("mouseenter",function(){b.unbind("mouseenter");c.config.animate==true&&b.addClass("loading");c.appendToHead(e);c.config.individual==false&&c.allButtons.trigger("mouseenter")})},bindScriptLoad:function(b){var c=
this,d=b=="share-google"?10:0,e=a("#"+b);setTimeout(function(){e.find("iframe").bind("load",function(){c.showButton(e)});if(e.attr("id")=="#share-facebook")if(c.facebookInited)c.showButton(e);else{FB.Event.subscribe("xfbml.parse",function(){c.showButton(e)});FB.init({status:true,cookie:false,xfbml:false,oauth:false});c.facebookInited=true}},d);setTimeout(function(){c.showButton(e)},350)},createScript:function(b,c){var d=document.createElement("script");d.id=c+"-script";d.async=true;if(this.config.lazyLoad){a(d).load(this.bindScriptLoad(c));
d.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete")this.bindScriptLoad(c)}}d.src=b;return d},appendToHead:function(b){document.getElementsByTagName("head")[0].appendChild(b)},removeTag:function(b){b=a(document).find(b);b.length&&b.remove()},showButton:function(b){var c=0;if(this.config.animate){b.removeClass("loading");c=80}setTimeout(function(){b.addClass("loaded")},c)}}})(jQuery,window);
(function(a){a.delay=function(){if(!(this instanceof a.delay))return new a.delay;this.queue=[];return this};a.delay.prototype={add:function(b,c){var d={delay:0};if(this.queue.length>0)d=this.queue[this.queue.length-1];this.queue.push({delay:d.delay+b,event:c})},run:function(){var b=this.queue.length,c;for(c=0;c<b;c++)(function(d,e){setTimeout(function(){d.call()},e)})(this.queue[c].event,this.queue[c].delay)},clear:function(){this.queue=[]},shuffle:function(){var b=this.queue.length;if(b==0)return false;
for(;--b;){var c=Math.floor(Math.random()*(b+1)),d=this.queue[b].delay;this.queue[b].delay=this.queue[c].delay;this.queue[c].delay=d}return this}}})(z);
(function(a){a.fn.validateForm=function(b){function c(m){return j&&!m.className.match(/required/)||!j&&!!m.className.match(/optional/)}function d(m){a(m).addClass("error").prev("label").addClass("error");k++}function e(m){a.post('/prd/validateCaptcha.do',{answer:m.value},function(p){p.status==200?f():h(function(){d(m);m.value="";a("img.captcha").attr("src",'/captchaTextImage.do?timestamp='+(new Date).getTime())})})}function f(m){g.removeClass("hasErrors");m&&m();b.success&&
b.success.call(g)}function h(m){g.addClass("hasErrors");m&&m();b.error&&b.error.call(g)}var g=this,j=b.optional||false,k,l;g.submit(function(m){m.preventDefault();k=0;a(".error",g).removeClass("error");a("[data-minlength]",g).each(function(){this.value.length<parseInt(this.getAttribute("data-minlength"),10)&&d(this)});a("fieldset:has(input:checkbox)",g).each(function(){if(c(this))return true;a(this).has("input:checked").length||d(this)});a("input:text, input:password, input:hidden.required, textarea",
g).each(function(){if(c(this))return true;this.value.length===0&&d(this);if(this.className.match(/captcha/))l=this});a("input[type=email]",g).each(function(){if(c(this))return true;/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.value)||d(this)});if(k)h();else l?e(l):f()});return this}})(jQuery);
(function(){var a=$j;z.VideoPlayer=function(b,c,d,e){if(!(this instanceof z.VideoPlayer))return new z.VideoPlayer(b,c,d,e);this.videoContainer=a(b);this.video=document.getElementsByTagName("video")[0];this.videoUrls=c;this.sku=d||"";this.prefix=e||"General";this.fadeInDelay=5E3;this.canplayVideo=this.videoCheck=this.isPlaying=false;this.init();this.setupEvents();if(window.location.href.indexOf("#autoplay")!=-1){a("#views li").removeClass("active");a("#videoThumb").addClass("active");this.playVideo()}};
z.VideoPlayer.prototype={init:function(){var b='<div id="videoPoster">',c=!this.canPlayVideoElement(),d=a(".normalImage:first img").attr("data-pshot-height");if(c)b+='<img class="posterImage" src="/prd/imgs/video/videoscreenshot.20141118121215.jpg" width="480" height="279" alt="Video Description" />';else this.video.removeAttribute("controls");b+='<div id="playButton"><div></div></div></div>';this.videoContainer.prepend(b);if(c){b=document.getElementsByTagName("object")[0];c=this.videoContainer[0];c.insertBefore(b,
this.video);c.removeChild(this.video)}d==560&&this.videoContainer.addClass("clothingVideo")},viewerOptions:function(b){var c=this,d="",e,f=document.getElementById("templateVideoShareLinks").innerHTML,h="";h="/product/"+c.sku;c.fadeInDelay=b||1E3;if(typeof colorIds!=="undefined"&&styleId&&colorIds[styleId])h+="/color/"+colorIds[styleId];else if(typeof colorId!=="undefined")h+="/color/"+colorId;for(e in c.videoUrls)if(c.videoUrls[e])d+='http://www.zappos.com/media/video/'+c.videoUrls[e]+",";
d=d.substr(0,d.length-1);b={prefix:c.prefix,sku:c.sku,productUrl:h,shareText:encodeURIComponent('Check out this video on Zappos.com!'),videoPaths:d};h=Mustache.to_html(f,b);c.videoContainer.append(h).find("#vPControlsBlock").hide();if(a.browser.msie&&parseInt(a.browser.version)==6){f=a("#vPControlsBlock img");for(b=0;b<f.length;b++){d=f[b];e="";e=a(d).attr("src").replace(".png",".gif");a(d).attr("src",e)}}a("#vPControlsBlock, #vPEmbedContainer").click(function(g){var j=g.target.id;if(j==
"twitter")z.trackEvent(c.prefix,"Video-Overlay-Share-Twitter","SKU-"+c.sku);else if(j=="facebook")z.trackEvent(c.prefix,"Video-Overlay-Share-Facebook","SKU-"+c.sku);else if(j=="embedLink"||j=="embedClose"){j=a("#vPEmbedContainer");j.is(":visible")?z.trackEvent(c.prefix,"Video-Overlay-Share-Code-Close","SKU-"+c.sku):z.trackEvent(c.prefix,"Video-Overlay-Share-Code","SKU-"+c.sku);g.preventDefault();j.toggle()}});return c},setupEvents:function(){var b=this,c;b.canPlayVideoElement()&&b.video.addEventListener("play",
function(){b.isPlaying||b.playVideo()});b.videoContainer.click(function(d){c=d.target;if(c.id=="videoPoster"||c.parentNode.id=="playButton"||c.id=="playButton"||c.className=="posterImage"){d.preventDefault();b.playVideo()}})},after:function(b){b.call(this);return this},canPlayVideoElement:function(){var b,c;if(this.videoCheck)return this.canplayVideo;this.videoCheck=true;try{b=!!this.video.canPlayType}catch(d){return this.canplayVideo=false}if(b){b=new Boolean(b);b.ogg=this.video.canPlayType('video/ogg; codecs="theora"');
b.mp4=this.video.canPlayType('video/mp4; codecs="avc1.42E01E"')||this.video.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');b.webm=this.video.canPlayType('video/webm; codecs="vp8, vorbis"');for(c in this.videoUrls)if(c in b&&b[c])return this.canplayVideo=true}return false},playVideo:function(){var b=a("#playButton, #videoPoster");if(!this.isPlaying)if(this.canPlayVideoElement()){this.video.setAttribute("controls","");this.video.play()}else this.videoContainer.append(this.videoContainer.find("object").addClass("show").remove());
this.isPlaying=true;this.videoContainer.addClass("videoVisible");b.addClass("hide");setTimeout(function(){var c=a("#vPControlsBlock");c.is(":visible")||c.fadeIn(2E3)},this.fadeInDelay);z.trackEvent(this.prefix,"Video-Start-Click","SKU-"+this.sku);return this},modifyPlayer:function(b){b.call(this,this.videoContainer,this.video);return this}}})();(function(){z.productPage=function(){}})();
(function(a,b,c){a.fn.render=function(d){var e=a(this),f=e.children("script").html();e.html(c.to_html(f,d)).attr("aria-hidden","false").removeClass("hide").addClass("show");return this}})(jQuery,z,Mustache);
(function(a,b){var c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(d){function e(){var n=a(p),q=a(o);if(j)o.length?j.reject(l,n,q):j.resolve(l);a.isFunction(d)&&d.call(g,l,n,q)}function f(n){h(n.target,n.type==="error")}function h(n,q){if(!(n.src===c||a.inArray(n,m)!==-1)){m.push(n);q?o.push(n):p.push(n);a.data(n,"imagesLoaded",{isBroken:q,src:n.src});k&&j.notifyWith(a(n),[q,l,a(p),a(o)]);if(l.length===m.length){setTimeout(e);l.unbind(".imagesLoaded",
f)}}}var g=this,j=a.isFunction(a.Deferred)?a.Deferred():0,k=a.isFunction(j.notify),l=g.find("img").add(g.filter("img")),m=[],p=[],o=[];a.isPlainObject(d)&&a.each(d,function(n,q){if(n==="callback")d=q;else j&&j[n](q)});l.length?l.bind("load.imagesLoaded error.imagesLoaded",f).each(function(n,q){var u=q.src,r=a.data(q,"imagesLoaded");if(r&&r.src===u)h(q,r.isBroken);else if(q.complete&&q.naturalWidth!==b)h(q,q.naturalWidth===0||q.naturalHeight===0);else if(q.readyState||q.complete){q.src=c;q.src=u}}):
e();return j?j.promise(g):g}})(jQuery);
(function(a,b){a.fn.slide=function(c){function d(t){o=Math.max(0,Math.min(t,r-k.jump))}function e(){var t=l.find(k.items+":first");u=t.data("width")||t[0].width||t.outerWidth()}function f(){r=l.find(k.items).length;l.css("width",r*u+2+"px")}function h(){n.removeClass(k.disabledClass);q.removeClass(k.disabledClass);if(o===0)n.addClass(k.disabledClass);else o+k.jump===r&&q.addClass(k.disabledClass)}function g(){if(k.simulateScroll)j();else{m.addClass("animating");l.animate({left:"-"+o*u+"px"},{queue:false,
easing:"linear",duration:k.duration,complete:function(){m.removeClass("animating")}})}}function j(){k.simulateScroll?l.parent("#center-stage").animate({scrollLeft:o*u+"px"},300):l.css({left:"-"+o*u+"px"})}var k=a.extend({},{disabledClass:"disabled",items:"a",duration:280,jump:1,simulateScroll:false},c),l=a(this),m=l.parent(),p=l.attr("id")||m.attr("id"),o=0,n=a(k.prev),q=a(k.next),u,r;b.util.detectMobileBrowser();n.addClass(k.disabledClass);q.on("click",function(t){t.preventDefault();if(o+k.jump!==
r){d(o+k.jump);b.publish("slide:"+p,{args:[o]});h();g()}});n.on("click",function(t){t.preventDefault();if(o!==0){d(o-k.jump);b.publish("slide:"+p,{args:[o]});h();g()}});b.subscribe("slide:"+p+":updateIndex",function(t){if(!(!k.simulateScroll&&t==o)){d(t);j();h()}});b.subscribe("slide:"+p+":updateCount",function(){f();h()});b.subscribe("slide:"+p+":updateWidth",function(){e();f()});b.subscribe("slide:"+p+":revealIndex",function(t){if(k.simulateScroll||t<o||t>=o+k.jump){d(t);g();h()}});return{init:function(){e();
f();r<=k.jump&&q.hide()&&n.hide()}}}})(jQuery,z);
(function(a,b){b.setup=function(c,d){z.subscribe("pp:setup:"+c,d);return this};b.setupAll=function(c){for(var d in c)b.setup(d,c[d])};b.load=function(c){c=c||arguments;var d=c.length,e;for(e=0;e<d;e++)z.publish("pp:setup:"+c[e])};b.trackEvent=function(c,d){_gaq.push(["pageTrackerPriTr._trackEvent","Product-Page",c,d])};b.updateEmailLink=function(c){var d=a("#share-email a").attr("href");d&&a("#share-email a").attr("href",d.replace(/colorId=[0-9]*/i,"colorId="+c))};b.fixBackLink=function(){a("#browse").click(function(c){window.history.back();
c.preventDefault()})}})(jQuery,z.productPage);
(function(a){var b=a.jQuery,c=a.z,d=c.productPage,e=a.productId,f=a.subsiteId;d.featureComponents=function(){!c.killedComponents[c.facelift]&&document.getElementById("components")&&d.fetchComponents(function(h){d.renderComponents(h);d.bindComponentEvents()})};d.fetchComponents=function(h){b.ajax({url:"http://rhino.elasticbeanstalk.com/Component/productId/"+e+"/subsiteId/"+f+"/option/bundle",dataType:"jsonp",success:function(g){!g||!g.styles||!g.styles.length||h&&h.call(this,g)}})};d.renderComponents=
function(h){var g,j=h.styles.length;for(g=0;g<j;g++){var k=h.styles[g];k.refParam="?refId="+e+"&zlfid=comp";k.url="/product/"+h.productId+"/"+k.colorId+k.refParam;k.swatch="http://www.zappos.com/images/"+k.swatch}b("#components").render(h).addClass("on");d.updateComponentImage(b("#components .component-swatches a:first"))};d.bindComponentEvents=function(){c.subscribe("style:change",function(h){h=b("#component-swatch-"+h);h.length&&d.updateComponentImage(h)});b(".component-swatches").on("hover",
"a",function(){d.updateComponentImage(b(this))})};d.updateComponentImage=function(h){var g=parseInt(h.attr("data-price"),10).toFixed(2),j=h.attr("data-thumb");if(j&&g){b(".wingProductImage, .wingProductName").attr("href",h.attr("href")).children("img").attr("src",c.imageBucket("http://zappos.com/images/"+j));b(".wingProductPrice").html("$"+g)}}})(window);
(function(a,b){b.scrollSoHard=function(){var c=-1,d=false,e=[],f=a(window),h=document.body,g=function(){if(c!=h.scrollTop){var j,k=h.scrollTop+f.height();for(j=0;j<e.length;j++)if(k>e[j].distance){b.productPage.trackEvent("ScrollTo",e[j].evt);e.splice(j,1)}}c=h.scrollTop;e.length&&setTimeout(g,1E3)};return{track:function(j,k){var l=a(j);l.offset()&&e.push({distance:l.offset().top+l.height(),selector:j,evt:k});return this},start:function(){if(!d){d=true;g()}}}}()})(jQuery,z);
(function(a,b,c,d){c.featureRecos=function(e){function f(l){j.push(l.recoName+"="+l.algoName)}function h(l){var m="#"+l.attr("id"),p=l.find(".products").slide({prev:m+" .prev-arrow",next:m+" .next-arrow",items:".product",jump:5,simulateScroll:b.isMobile});l.find("img").imagesLoaded(function(){p.init()})}if(e){e=document.createElement("x-test");var g=typeof e.style.backgroundClip!=="undefined"&&(e.style.backgroundClip="content-box",e.style.backgroundClip==="content-box");if(g)document.body.className+=
" background-clip";var j=[];e=3;var k={associated:4,similar:9};if(b.facelift){k.associated=4;k.similar=12;e=4}b.janus.recos.setOptions({janusUrl:'janus.zappos.com',analyticsPage:"Zappos.product-page-foxwoods"}).setParams({item:d});b.isMobile&&b.janus.recos.add({widgetName:"detail-3",limit:k.similar,chunk:e,chunker:'<br class="clear" />',callback:function(l){f(l);isZombie&&a("#similar h2:not(.zombie-show)").remove();a("#similarMessage").remove();a(".similarRecos").render(l)}});b.janus.recos.add({widgetName:"detail-2",
limit:k.associated,callback:function(l){f(l);if(_p.oos){a(".subRecos").render(l);a("#aisle").addClass("recosLoaded")}else a(".associatedProducts").render(l)}}).add({widgetName:"detail-1",limit:_p.oos?15:5,callback:function(l){f(l);if(_p.oos){var m=a("#recoBought");m.render(l);h(m)}else{a(".subRecos").render(l);a("#aisle").addClass("recosLoaded")}}}).add({widgetName:"detail-4",limit:15,callback:function(l){f(l);var m=a("#crossRecos, #recoViewed");m.render(l);h(m)}}).start(function(){zfc.push(["sendEvent",
"amznReco",j.join("&")]);a(".next-arrow, .prev-arrow").toggleClass("btn-fox white",g);b.publish("recos:loaded")})}}})(jQuery,z,z.productPage,productId);
(function(a){function b(){d.util.animateTop(c("#productReviews, #addReview").offset().top-20)}var c=a.jQuery,d=a.z,e=d.productPage,f=a.ProductPage.reviewToken;e.reviewSetup=function(){c("#productReviewsLink").click(function(h){h.preventDefault();b()});d.Popover("#productReviewsLink","hover","bottom","reviewSummary","simple",null,true).content(function(){e.trackEvent("PrForm","Customer-Reviews-Hover");return c("#reviewSummary").html()});c("#productReviews .review").mouseenter(function(){c(this).addClass("hovered")}).mouseleave(function(){c(this).removeClass("hovered")});
c(".reviewHelpfulVote form").submit(function(h){h.preventDefault();var g=c(this);g.children("input").addClass("voting");c.get(g.attr("action"),function(){g.parent().html("Got it! Thanks for voting!")})})};e.reviewForm=function(){function h(){if(g)if(d.isCouture)c("#productReviewsContainer").hide();else{o.appendTo(l);p.appendTo(m)}else{p.appendTo(l);o.appendTo(m)}}var g=false,j={starsOverall:null,starsComfort:null,starsStyle:null},k=c("#reviewFormSubmit"),l=c("#foxwoodsReviewHidden"),m=c("#productReviewsContainer"),
p=c("#addReview"),o=c("#productReviews");c("#addReview").toggleClass("hasReviews",d.hasReviews);c("#productReviewsContainer").toggleClass("hasReviews",d.hasReviews);g=!d.hasReviews;h();c(".writeAReview").click(function(n){n.preventDefault();g=!g;h();b()});c("#reviewFormRate").on("click","a",function(n){n.preventDefault();n=c(this);var q=n.parents(".starRating").data("type"),u=c("#"+q);j[q]=n.addClass("selected");u.attr("value",n.attr("href"))});c("#addReview").validateForm({error:function(){b()},
success:function(){var n=c(this);n.addClass("submitting");k.val("Submitting...").attr("disabled","disabled");c.post("/api/Review?zToken="+f,n.serialize(),function(){b();n.removeClass("submitting").addClass("success")})}})};e.reviewPositiveCritical=function(){function h(g,j){return g.substr(0,j)+"&hellip;"}if(c("#reviewOverview").length>0){c(".reviewSummary").each(function(){var g=c(this);if(g.html().length>200){g.attr("data-summary",g.html());g.html(h(g.html(),200));g.next(".reviewShowMore").addClass("hasMore")}});
c(".reviewShowMore, .reviewShowLess").click(function(g){g.preventDefault();g=c(this).parent();var j=g.children(".reviewSummary"),k=g.is("#reviewPositive")?"Positive-Review":"Critical-Review";if(g.is(".revealed")){j.html(h(j.html(),200));g.removeClass("revealed");e.trackEvent(k,"Show-Less")}else{j.html(j.attr("data-summary"));g.addClass("revealed");e.trackEvent(k,"Read-More")}})}};e.reviewFitSurvey=function(){d.Popover(".fitSection","hover","bottom","fitSurveyPopover","simple",null,true).content(function(h){h=
c(h);e.trackEvent("Fit-Survey",h.attr("data-analytics"));return h.children(".fitSurvey").html()});c(".fitSection").click(function(){return false})}})(window);
(function(a,b,c){function d(){b.subscribe("actors:assembled",function(){var k=c.Director.getColor(),l=c.Director.leadActor().children("img").attr("src");f(k,l)})}function e(){b.subscribe("style:change:finished",function(k){var l=c.StageImages.getDetailUrl();f(k,l)})}function f(k,l){c.updateEmailLink(k);h.updateButtons({id:productId,url:g+k,color:k,shortUrl:j+k,description:colorNames[k],image:l})}var h,g,j;c.shareSetup=function(k){k=a.extend({title:brandName+" "+productName,params:"utm_term=SKU-{{id}}&utm_campaign=product_page_badge&utm_medium=socialearned",
buttons:{facebook:"static",twitter:"static",pinterest:"static"},config:{email:true}},k);return b.Share({title:k.title,params:k.params,appid:k.appid,returnUrl:k.returnUrl,buttons:k.buttons,config:k.config})};c.shareSetupFoxwoods=function(k,l){g=k;j=l;h=c.shareSetup({appid:"2357918308",returnUrl:'http://zappos.com/product/facebookThankYou.zml'});b.facelift?d():e()}})(jQuery,z,z.productPage);
(function(a,b){b.featureWizard=function(){function c(r){b.trackEvent("Wizard","Conjure");d();a("body").addClass("wizShow");z.util.animateTop();h();g();l.css({right:o}).animate({bottom:0},1E3);for(var t=0;t<r.length;t++){var s=parseInt(r.charAt(t),10)%u.length;n.add(s===0?1E3:500,u[s])}j&&n.shuffle();n.add(2E3,function(){d()});n.run();q.add(1E3,function(){m.fadeIn()});q.add(4E3,function(){m.fadeOut()});q.run()}function d(){n.clear();a(".wiz-product").remove();l.css({height:"auto",width:"auto"});clearInterval(k);
a("body").removeClass("wizShow")}function e(r){f(r,"topright",function(){f(r,"bottomright",function(){f(r,"bottomleft",function(){f(r,"topleft")})})})}function f(r,t,s){var v={topright:[0,0],bottomright:[p,0],bottomleft:[p,o],topleft:[0,o]}[t];l.animate({opacity:1},r,function(){l.animate({top:v[0],right:v[1]},200,function(){s&&s.call()})})}function h(){setTimeout(function(){var r=0;a(".product img").each(function(){var t=a(this).clone().addClass("wiz-product").appendTo("body");setTimeout(function(){t.css({position:"fixed",
top:a(window).height()+300,left:Math.floor(Math.random()*a(window).width()),zIndex:1E8}).animate({top:Math.random()*a(window).height(),left:Math.random()*a(window).width()},1E3,function(){t.animate({top:Math.random()*a(window).height(),left:Math.random()*a(window).width(),height:0,width:0})})},Math.random(2)*500*++r)})},2E3)}function g(){k=setInterval(function(){a("#wizman img").animate({height:173,width:283},1E3,function(){a("#wizman img").animate({height:147,width:236},1E3)})},2E3)}var j=false,
k,l=a("#wizman"),m=a("#wizsay"),p=a(window).height()-l.height(),o=a(window).width()-l.width()*1.5,n=z.delay(),q=z.delay(),u=[function(){},function(){l.rotate()},function(){l.fadeOut().fadeIn()},function(){e(100)},function(){l.animate({top:Math.random()*70+"%",right:Math.random()*70+"%"},500)},function(){a("#wizman img").animate({height:Math.random()*800+"%",width:Math.random()*800+"%"},500)}];a("#globalSearch").submit(function(){var r=a("#globalSearchField").val();if(r.match(/wiz([0-9]+)?/)){if(r.slice(0,
-1)==="s")j=true;if(r==="wiz")r+=Math.random()*1.0E29;c(r.replace("wiz",""));return false}});a.fn.rotate=function(r,t,s,v){r=r||360;t=t||10;s=s||0;v=v||a(this);var w=s+t;s=["-webkit","-moz","-o","-ms"];var x,y=s.length;for(x=0;x<y;x++)v.css(s[x]+"-transform","rotate("+w+"deg)");w<r&&setTimeout(function(){a(this).rotate(r,t,w,v)},5)}}})(jQuery,z.productPage);
(function(a,b){b.formBrandSignup=function(){a("#notify-form").validateForm({error:function(){_gaq.push(["pageTrackerPriTr._trackEvent",category,"Brand-Info","Notify-Me-Error"])},success:function(){var c=a(this);a.post(c.attr("action"),c.serialize(),function(){_gaq.push(["pageTrackerPriTr._trackEvent",category,"Brand-Info","Notify-Me-Success"]);c.addClass("success")})}})}})(jQuery,z.productPage);
(function(a,b){b.formNotifyMe=function(){z.Popover("#notifyMeLink","click","center","notifyMe","lightbox fixed").content(function(){return notifyMeTemplate}).after(function(){var c=a("#notifyMe form"),d=c.offset().top-60;a("#notifyFieldset input").focus();a("#purchaseOptions select").each(function(){var e=a(this),f=a("option:selected",this);a("#notifyPurchaseOptions #"+e.attr("id")).val(f.val())});c.validateForm({error:function(){z.util.animateTop(d)},success:function(){c.addClass("submitting");a("#nmSubmit").val("Sending...").attr("disabled",
"disabled");a.post(c.attr("action"),c.serialize(),function(){z.util.animateTop(d);c.removeClass("submitting").addClass("success")})}})})}})(jQuery,z.productPage);
(function(a,b){b.formReportAnError=function(){z.Popover("#reportErr a","click","center","reportAnError","lightbox fixed").content(function(){return reportAnErrorTemplate}).after(function(){var c=a("#reportAnError form");a("#reportErrorFormWrapper");a("#reMessage").keyup(function(){var d=512-a(this).val().length;a("#reportErrCharsLeft").html(d)});c.validateForm({error:function(){z.util.animateTop(this.find("label.error, fieldset.error").offset().top-60)},success:function(){var d=c.attr("action")+"?productId="+
productId+"&colorId="+colorIds[styleId];c.addClass("submitting");a("#reSubmit").val("Sending...").attr("disabled","disabled");a("#reNoReply").val(!a("#reReply").is(":checked"));a.post(d,c.serialize(),function(){z.util.animateTop(c.offset().top-60);c.removeClass("submitting").addClass("success")})}})})}})(jQuery,z.productPage);
(function(a,b){b.faceLiftPurchase=function(){function c(d){a("#productForm").removeClass("resized");var e=a("#centerStage").height(),f=a("#descWing .wing .productSummary");f.height();var h=a("#fitWing");h=h?h.height():0;h=a("#purchaseCorner").height()+h+59;e=e-h;d?f.animate({height:e}):f.css("height",e);a("#productForm").addClass("resized")}return{resizeProductSummary:c,setupCorner:function(){a("#moreInfo").click(function(d){d.preventDefault();a("#nav-info").click()});c(false)}}}})(jQuery,z.productPage);
(function(a,b){b.purchaseAlternativeCombinations=function(c){var d=dimensions[0],e=dimensions[1],f=c.dimensionVals[1]||"",h=c.dimensionVals[0],g=0,j=dimToUnitToValJSON[d],k=0;c=0;var l=[];c=0;for(var m in j){l=j[m].length;for(c=0;c<l;c++)if(j[m][c]===parseInt(h,10)){g=c;break}if(g!==0)k=parseInt(g,10)-1;c=g===j[m].length-1?j[m].length-1:parseInt(g,10)+2;l=j[m].slice(k,c)}m=[];h=l.length;for(c=0;c<h;c++)m.push({dim0id:d,dim0val:l[c],dim0name:valueIdToNameJSON[l[c]].value,dim1id:e,dim1val:f,dim1name:valueIdToNameJSON[f].value,
items:[]});g=stockJSON.length;for(c=0;c<g;c++){j=stockJSON[c];for(k=0;k<h;k++)if(j[d]==l[k]&&j[e]==f)if(j.onHand>0){var p={colorId:j.color,colorName:colorNames[j.color],dim0Id:d,dim0Val:l[k],dim1Id:e,dim1Val:f};p.colorName&&m[k].items.push(p)}}f=[];for(c=0;c<h;c++)m[c].items.length>0&&f.push(m[c]);return f.length>0?{dimension0:dimensionIdToNameJson[d],dimension1:dimensionIdToNameJson[e],altStock:f}:null};b.setupAlternativeCombinationsEvents=function(c){a("#altCombinations").click(function(d){var e=
d.target;if(e.tagName==="SPAN")e=e.parentNode;if(e.tagName==="A"){d.preventDefault();d=e.className.split(" ")[0].split(",");e=d[1].split("-");var f=d[2].split("-");c.color.val(d[0]);c[e[0]].val(e[1]);c[f[0]].val(f[1]);c.color.change();a("#oosPopover").remove();a("#fadedBackground").remove()}})}})(jQuery,z.productPage);
(function(a,b){b.purchaseAnalytics=function(){function c(){var d=dimensionIdToNameJson[a(this).attr("id")];b.trackEvent("PrForm","Drop-Down-"+d.charAt(0).toUpperCase()+d.substring(1))}a("#color").change(function(){b.trackEvent("PrForm","Drop-Down-Color")});for(i=0;i<dimensions.length;i++)a("#"+dimensions[i]).bind("change",c)}})(jQuery,z.productPage);
(function(a,b,c,d){c.purchaseCartButton=function(){var e=[],f;b.isMobile||a("body").on("mouseenter.cart","#addToCart, #favorites",function(h){h=h.target.id;var g=c.getStock();if(g.stock.id)h=="favorites"&&a("#favorites").attr("href","/favorites.do?stockId="+g.stock.id);else for(f=0;f<d.length;f++){h=d[f];g=document.getElementById(h).value;var j=dimensionIdToNameJson[h],k=a("#cartInfoPopWarn-"+h);if(g.split("_")[0]=="-1")if(k.length===0){e[f]=b.Popover("#nothing","boop","left","cartInfoPopWarn-"+h,
"info").content("<div>Please select a "+j+"</div>");e[f].display("#"+h);a("#cartInfoPopWarn-"+h).addClass("foxPop")}}}).on("mouseleave.cart","#addToCart, #favorites",function(h){for(f=0;f<e.length;f++){if(!e[f])return;var g=a("#"+e[f].id);g.hasClass("highlightPop")?h.preventDefault():g.remove()}});a("body").on("click.cart","#addToCart, #favorites",function(h){var g=c.getStock(),j=h.target.id;if(g.stock.id){j=="favorites"&&a("#favorites").attr("href","/favorites.do?stockId="+g.stock.id);a("#stockId").length>
0&&a("#stockId").val(g.stock.id)}else{h.preventDefault();g.stock.isPartial===false&&g.stock.onHand===0&&g.color.change();var k=j="";for(f=0;f<d.length;f++){h=d[f];j=document.getElementById(h).value;g=a("#cartInfoPopWarn-"+h);if(j.split("_")[0]=="-1"){j=a("#cartInfoPopWarn-"+h);k=a("#cartInfoPopWarn-"+h+" .popOverNotch");var l=dimensionIdToNameJson[h];a("#label"+l).addClass("labelHighlight");a("#"+h).addClass("inputHighlight");g.hasClass("highlightPop")||e[f].display(a("#"+h));j.addClass("highlightPop");
k.addClass("highlightNotch");c.trackEvent("PrForm","Error-Select-"+l.charAt(0).toUpperCase()+l.substring(1))}}}})}})(jQuery,z,z.productPage,dimensions);
(function(a,b){b.priceSwapper=function(c){z.subscribe("style:change",function(d){if(d){d={nowInt:colorPrices[d].nowInt,wasInt:colorPrices[d].wasInt,now:colorPrices[d].now,was:colorPrices[d].was,price:a("#priceSlot")};d.percentOff=Math.round((1-d.now.replace(/\$|\,/g,"")/d.was.replace(/\$|\,/g,""))*100);if(d.nowInt>=d.wasInt){d.price.html(['<span class="price nowPrice">',d.now,"</span>"].join(""));c&&c.onNotDiscounted&&c.onNotDiscounted.call(this,d)}else{var e='<span class=\"sale\"\>Now on SALE!</span\> <span class=\"oldPrice\"\>{{was}}</span\> <span class=\"price salePrice\"\>{{now}}</span\>';
e=Mustache.to_html(e,{was:d.was,now:d.now});d.price.addClass("onSale").html(e);c&&c.onDiscounted&&c.onDiscounted.call(this,d)}}})}})(jQuery,z.productPage);
(function(a,b){b.purchaseSelectChange=function(){var c="",d="",e="";a("#productForm").change(function(){for(i=0;i<dimensions.length;i++){d=dimensions[i];c=document.getElementById(d).value;e=a("#cartInfoPopWarn-"+d);if(c.split("_")[0]!="-1")if(e.length!==0){e.remove();a("#label"+dimensionIdToNameJson[d]).removeClass("labelHighlight");a("#"+d).removeClass("inputHighlight")}}})}})(jQuery,z.productPage);
(function(a,b){b.productPage.purchaseShippingModal=function(){var c=a("#shipOpts");b.isCouture&&c.attr("href","/c/shipping-options");b.Popover(c,"click","center","shipOptsPop","lightbox").ajax(c.attr("href"))}})(jQuery,z);
(function(a,b,c,d,e){b.productPage.StockHandler=function(){function f(){j.addClass("hide");b.publish("stock:not:low")}function h(k){if(k.onHand<4){j.removeClass("hide").html(Mustache.to_html(j.data("template"),{amount:k.onHand}));b.publish("stock:low",{args:[k.onHand]})}}function g(k,l,m){var p="",o=d.length;l=k=="OOS"?l.colorId:l.color;for(var n=0;n<o;n++){var q=a("#"+d[n]).attr("value");p+="&r="+q}k=m!==null&&m!==""?[k,"|k=",m].join(""):[k,"|p=",e,"&c=",l,p].join("");zfc.push(["sendEvent","StockEventHC",
k])}var j=a("#oosLimitedTag");return{onAvailable:function(k){f();h(k);g("IS",k,k.id);b.publish("stock:available:done")},onUnavailable:function(k){f();g("OOS",k,k.id);b.publish("stock:unavailable:done",{args:[k]})},onPartial:function(){f();b.publish("stock:partial:done")},removeLowStockFlag:f,checkForLowStock:h,sendStockEvent:g}}()})(jQuery,z,z.productPage,dimensions,productId);
(function(a,b){b.KeyboardShortcuts=function(){var c=a("body"),d=[],e=[],f=[0,0],h=false;e[1]=a("#stage-swatches a");d[1]=e[1].length;a(window).bind("keydown",function(g){var j=g.shiftKey?1:0;if(!/textarea|select|input/i.test(g.target.nodeName))switch(g.which){case 39:if(c.width()>900&&f[j]<d[j]-1){g.preventDefault();f[j]++;e[j].eq(f[j]).click()}break;case 37:if(c.width()>900&&f[j]>0){g.preventDefault();f[j]--;e[j].eq(f[j]).click()}break}});return{setDual:function(g){h=g},updateThumbInfo:function(){e[0]=
a("#productImages li:visible:not(.nonThumb) a");d[0]=e[0].length;if(h)d[0]-=1;f[0]=a("#productImages li.active").index()},updateThumbIndex:function(g){f[0]=g||0},updateSwatchIndex:function(g){f[1]=g||0}}}()})(jQuery,z.productPage);
(function(a){z.ImageZoom=function(b,c,d,e,f){if(!(this instanceof z.ImageZoom))return new z.ImageZoom(b,c,d,e,f);this.options=a.extend({fadeTime:100},f);this.active=false;this.spotlightInfo=null;this.spotlightWrapper={jqObj:a(document.getElementById(b))};this.spotlightWrapper.width=this.spotlightWrapper.jqObj.outerWidth();this.spotlightWrapper.height=this.spotlightWrapper.jqObj.outerHeight();this.spotlightWrapper.halfWidth=Math.floor(this.spotlightWrapper.width/2);this.spotlightWrapper.halfHeight=
Math.floor(this.spotlightWrapper.height/2);this.spotlightWrapper.offsetLeft=this.spotlightWrapper.jqObj.offset().left;this.spotlightWrapper.offsetTop=this.spotlightWrapper.jqObj.offset().top;this.spotlight={jqObj:a(document.getElementById(c))};this.spotlightLowResImage={jqObj:a(document.getElementById(d))};this.spotlightHiResImage={jqObj:{}};this.spotlightHiResImage.width=parseInt(this.spotlight.jqObj.attr("data-width"),10);this.spotlightHiResImage.height=parseInt(this.spotlight.jqObj.attr("data-height"),
10);this.movementRatioY=this.movementRatioX=0;this.init()};z.ImageZoom.prototype={init:function(){this.calcMovementRatios();this.bindZoomEvents()},bindZoomEvents:function(){var b=this,c;z.subscribe("zoom:update",function(){b.active&&b.setHeightsAndOffsets()});z.subscribe("zoom:activate",function(d){b.spotlightInfo=d;d=parseInt(b.spotlightInfo.hiResImageWidth,10);var e=parseInt(b.spotlightInfo.hiResImageHeight,10);b.active=true;b.spotlightLowResImage.jqObj.attr("src",b.spotlightInfo.lowResImageSrc).attr("width",
d).attr("height",e);b.spotlightHiResImage.width=d;b.spotlightHiResImage.height=e;c=b.spotlightInfo.hiResImageSrc;b.spotlightHiResImage.jqObj=a('<img id="spotlightHiResImage" src="'+c+'" />').appendTo(b.spotlight.jqObj);b.spotlightInfo.isDual?b.spotlightHiResImage.jqObj.addClass("gae-click*Product-Page*Zoom-Out*Dual-Image-Click"):b.spotlightHiResImage.jqObj.addClass("gae-click*Product-Page*Zoom-Out*Image-Click");b.bindMoveEvents();b.setHeightsAndOffsets()});z.subscribe("zoom:deactivate",function(){b.active=
false;b.spotlightHiResImage.jqObj&&b.spotlightHiResImage.jqObj.length&&b.spotlightHiResImage.jqObj.remove();b.unbindMoveEvents()});z.subscribe("zoom:image:change",function(d){b.active&&z.publish("zoom:deactivate");z.publish("zoom:activate",{args:[d]})});z.subscribe("page:resize",function(){if(b.active){z.publish("zoom:deactivate");z.publish("zoom:activate")}})},setHeightsAndOffsets:function(){var b=this,c=a("#productImages"),d=c.offset().top,e=a("#theater").offset().top,f=0;setTimeout(function(){d=
c.offset().top;f=d-e-10;b.spotlightWrapper.jqObj.css("height",f);b.spotlightWrapper.height=f;b.calcMovementRatios();b.spotlightInfo.mouseCoordinates&&b.moveSpotlight(b.spotlightInfo.mouseCoordinates)},100)},bindMoveEvents:function(){this.spotlightWrapper.jqObj.bind("mousemove.imageZoom",a.proxy(this.moveSpotlight,this))},unbindMoveEvents:function(){this.spotlightWrapper.jqObj.unbind("mousemove.imageZoom")},moveSpotlight:function(b){var c=(b.pageX-this.spotlightWrapper.offsetLeft)*this.movementRatioX;
spotlightTop=(b.pageY-this.spotlightWrapper.offsetTop)*this.movementRatioY;this.spotlight.jqObj.css({left:-c,top:-spotlightTop})},calcMovementRatios:function(){this.movementRatioX=(this.spotlightHiResImage.width-this.spotlightWrapper.width)/this.spotlightWrapper.width;this.movementRatioY=(this.spotlightHiResImage.height-this.spotlightWrapper.height)/this.spotlightWrapper.height}}})(jQuery);
(function(a,b,c,d,e){b.productPage.Director=function(){function f(){if(t){m=a("#angles-list a");var s,v=m.length;j.empty();q=[];for(s=0;s<v;s++){var w=m[s].getAttribute("data-angle");q.push(w);a(l).clone().appendTo(j).css("width",u).css("height",r).children("img").attr({"data-angle":w,id:"actor-"+w,src:""})}h(o);b.publish("actors:assembled",{sync:true,args:[j,o,curStyle]})}}function h(s){o=s;n=a("#actor-"+s);g(n);s=n.parent().index();g(a("#actor-"+q[s+1]));g(a("#actor-"+q[s-1]))}function g(s){s.length&&
s.attr("src",b.imageBucket(c[curStyle].MULTIVIEW[s.data("angle")]))}var j,k,l,m,p,o,n,q,u,r,t;return{loadAngle:h,loadAngleIndex:function(s){h(m[s].getAttribute("data-angle"))},loadStyle:function(s){curStyle=s;f()},onStage:function(){return a("#actor-"+o)},leadActor:function(){return a("#actors .actor").first()},getStyle:function(){return curStyle},getColor:function(){return e[curStyle]},getAngle:function(){return o},loadAll:function(){a("#actors img").each(function(){g(a(this))})},init:function(){if(!t){a("#detailImage img");
j=a("#actors");k=j.children(".actor");l=k.get(0).cloneNode(true);m=a("#angles-list a");o=p=m[0].getAttribute("data-angle");var s=a("#protagonist img");u=s[0].width;if(b.isMobile)r=s[0].height;else{r=Math.min(460,s[0].height);if(r<s[0].height)u=s[0].width*(r/s[0].height)}a("#center-stage").css("width",u).css("height",r);b.publish("director:present",{sync:true});t=true;f()}}}}()})(jQuery,z,pImgs,styleIds,colorIds);
(function(a,b,c){c.stageKeyboardShortcuts=function(){b.facelift?a(window).bind("keydown",function(d){var e=a("body"),f=a("#nextAngle"),h=a("#prevAngle");if(!/textarea|select|input/i.test(d.target.nodeName))switch(d.which){case 39:if(e.width()>900){d.preventDefault();f.click()}break;case 37:if(e.width()>900){d.preventDefault();h.click()}break}}):a("#productImages li").click(function(){c.KeyboardShortcuts.updateThumbIndex(a(this).index())})}})(jQuery,z,z.productPage);
(function(a){var b=a.jQuery,c=a.z,d=c.productPage,e=a.videoTemplate,f=false,h;d.stageVideo=function(){d.stageVideoDetectSupport();d.stageVideoSetupTab();d.stageVideoHtml5Events();d.stageVideoEvents();d.stageVideoInformationLink();d.stageVideoRemoveFlashOnMobile()};d.stageVideoSetupTab=function(){if(c.facelift&&c.hasTabs){b("#videoPane").remove();h=document.getElementsByTagName("video")[0];var g=b("#prdVideo");g.length&&g.html(e)}};d.stageVideoEvents=function(){c.subscribe("frontrow:change:video",
d.stageVideoEventSetup);c.facelift||c.subscribe("frontrow:change:image",function(){b("#imageAlternateVideo").remove()})};d.stageVideoEventSetup=function(){if(c.facelift){if(!c.hasTabs){b("#videoPane").length||b('<div id="videoPane">'+e+'<a href="#" class="video-close"></a></div>').prependTo("#center-stage");b("#angles-list a").removeClass("active");b("#vertical-video").addClass("active")}if(c.html5VideoSupport){d.stageVideoPlay();if(f)return}}else b("#imageAlternateVideo").length||b('<div id="imageAlternateVideo" class="imageAlternate">'+
e+"</div>").prependTo("#prdImage");d.videoPlayerRun()};d.videoPlayerRun=function(){c.VideoPlayer("#videoContainer",videos,productId,"PrImage").viewerOptions().after(function(){this.playVideo();f=true;b("#imageAlternateVideo").addClass("active")})};d.stageVideoInformationLink=function(){b("#prdInfo .prDescVideo").click(function(g){g.preventDefault();if(!c.facelift){b("#nav-image").click();setTimeout(function(){b("#video a").click()},200)}})};d.stageVideoDetectSupport=function(){try{c.html5VideoSupport=
!!document.createElement("video").canPlayType}catch(g){c.html5VideoSupport=false}};d.stageVideoHtml5Events=function(){if(c.facelift)c.subscribe("stage:change",function(g){if(g[0].id==="prdVideo"){c.publish("frontrow:change:video");d.stageVideoPlay()}else d.stageVideoPause()});else{c.subscribe("frontrow:change:image",d.stageVideoPause);c.subscribe("stage:change",d.stageVideoPause)}};d.stageVideoPause=function(){h=h||document.getElementsByTagName("video")[0];c.html5VideoSupport&&h&&h.pause()};d.stageVideoPlay=
function(){c.html5VideoSupport&&h&&h.play();try{if(h.networkState==HTMLMediaElement.NETWORK_NO_SOURCE){c.html5VideoSupport=false;d.videoPlayerRun()}}catch(g){}};d.stageVideoRemoveFlashOnMobile=function(){c.isMobile&&b("#flashVideo").remove()}})(window);
(function(a,b){b.stageFrontrow=function(){b.stageFrontrowBindings();b.stageFrontrowImages()};b.stageFrontrowBindings=function(){a(".frontrow").on("click","li",function(c){c.preventDefault();var d=b.StageImages.isDual();c=a(this);var e=c.children("a");if(!c.is(".active")){a(".frontrow .active").removeClass("active activeFirst");c.addClass("active activeFirst");d&&c.next().addClass("active");if(c.is(".nonThumb")){b.StageImages.zoomOut();z.publish("frontrow:change:"+c.attr("id"));a("#prdImage").addClass("alternate")}else{a("#prdImage").removeClass("alternate");
if(d)if(c.next().is(".nonThumb"))e=c.prev().children("a");(d=e.attr("id").split("-")[1])&&b.StageImages.setAngle(d);z.publish("frontrow:change:image",{args:[d]})}z.publish("frontrow:change",{args:[c]})}})};b.stageFrontrowImages=function(){function c(){var j=(a(".nonThumb")||[]).length;e=a(".frontrow li").length-j}function d(j,k){if(k=a(k)){j=a(j);var l=j.index(),m=f&&l<e?true:false;j=f&&l===e-1?j.prev():j;l=m?132:62;k.stop().animate({left:j.position().left,width:l},120);m?k.removeClass("single"):
k.addClass("single")}}var e,f=b.StageImages.isDual();b.KeyboardShortcuts.setDual(f);b.KeyboardShortcuts.updateThumbInfo();c();a(".frontrow").on("hover","li",function(){d(this,"#frontrowSpotlight")}).on("click","li",function(){d(this,"#frontrowActive")}).hover(function(){a(this).addClass("hovered")},function(){a(this).removeClass("hovered")});a(".frontrow li:first").click();var h=a("<li><a><span><img></span></a></li>"),g=a(".nonThumb:first");z.subscribe("style:change",function(j){curStyle=styleIds[j];
j=pImgs[curStyle].DETAILED;(j=j.p?j.p:j.d)&&a("#descriptionImage").attr("src",j);setTimeout(function(){var k=false;for(var l in pImgs[curStyle].MULTIVIEW){var m=a("#frontrow-"+l),p=m.find("img");c();if(typeof pImgs[curStyle].MULTIVIEW[l]!=="undefined"&&typeof pImgs[curStyle].MULTIVIEW_THUMBNAILS[l]!=="undefined")if(m.length)p.attr("src",pImgs[curStyle].MULTIVIEW_THUMBNAILS[l]);else{k=true;m=h.clone();p={id:"frontrow-"+l,"data-angle":l};g.length?g.before(m):a("#productImages ul").append(m);m.children("a").attr(p).removeClass("active");
m.removeClass("off").find("img").attr("src",pImgs[curStyle].MULTIVIEW_THUMBNAILS[l])}else if(m.length){m.parent().remove();k=true}}var o=false;a("#productImages li").each(function(){if(this.className.match(/nonThumb/))return false;var n=a(this),q=n.children("a").attr("data-angle");if(typeof pImgs[curStyle].MULTIVIEW[q]==="undefined"||typeof pImgs[curStyle].MULTIVIEW_THUMBNAILS[q]==="undefined"){k=true;if(n.is(".active"))o=true;n.remove()}});if(o){l=a(".frontrow li:not(.nonThumb):visible:last");if(f)l=
l.prev();l.children("a").click();o=false}if(k){a(".frontrow li.active:first a").click();c();b.KeyboardShortcuts.updateThumbInfo()}},0)})}})(jQuery,z.productPage);
(function(a,b,c,d,e){function f(){var k=0,l=c.Director.getStyle();a("#actors img").each(function(){var m=a(this),p=m.data("angle");if(typeof d[l]["4x"][p]!=="undefined"){m.addClass("zoomHover");k++}else{m.removeClass("zoomHover");j.is(".spotlightActive")&&j.click()}});j.is(".spotlightActive")&&a("#detailImageWrap img.zoomHover:first").click()}function h(){a("#actors").on("click.actor","img.zoomHover",function(k){var l=a(this),m=l.attr("data-angle"),p=c.Director.getStyle();l=l.attr("src");g(k,p,m,
l)});a("#thumbWrap").on("click.frontrow","a",function(k){if(j.is(".spotlightActive")){var l=e[a(this).data("color")],m=c.Director.getAngle(),p=c.Director.onStage().attr("src");g(k,l,m,p)}});j.on("click",function(){j.animate({opacity:0},500,function(){j.removeClass("spotlightActive")});b.publish("zoom:deactivate")})}function g(k,l,m,p){if(b.isMobile)return false;b.publish("zoom:image:change",{args:[{isDual:false,lowResImageSrc:p,hiResImageHeight:d[l]["4x"][m].height,hiResImageWidth:d[l]["4x"][m].width,
hiResImageSrc:b.imageBucket(d[l]["4x"][m].filename),mouseCoordinates:{pageX:k.pageX,pageY:k.pageY}}]});j.addClass("spotlightActive").animate({opacity:1},500)}var j=a("#spotlightWrapper");c.stageZoom=function(){b.ImageZoom("spotlightWrapper","spotlight","spotlightLowResImage","spotlightHiResImage");h();b.subscribe("actors:assembled",function(){f()})}})(jQuery,z,z.productPage,pImgs,styleIds);
(function(a){function b(){var p=g("#center-stage"),o=g("#vertical-video");o.on("click",function(n){n.preventDefault();k.stageVideoPlay();p.addClass("video-active");o.addClass("active");g("#angles-list a.active").removeClass("active");j.publish("frontrow:change:video")});g("#angles-list, #thumbWrap").on("click","a",function(){if(p.is(".video-active")){k.stageVideoPause();p.removeClass("video-active");o.removeClass("active");j.html5VideoSupport||g("#videoPane").remove();g("#angles-list a.active").length||
g("#angles-list a:first").click()}});g("body").on("click",".video-close",function(n){n.preventDefault();g("#thumbWrap .active").click()})}function c(){g("#angles-list").on("click","li",function(p){p.preventDefault();var o=g(this);p=o.index();o=o.children("a");var n=o.data("angle");g("#angle-"+k.Director.getAngle()).removeClass("active");o.addClass("active");k.Director.loadAngle(n);j.publish("slide:actors:updateIndex",{args:[p]})})}function d(){var p=g("#angles-list li:first-child");j.subscribe("style:change",
function(o){e(p,o)})}function e(p,o){var n=m[o],q=g("#angles-list"),u=false,r=false;for(var t in l[n].MULTIVIEW){var s=g("#angle-"+t);if(typeof l[n].MULTIVIEW[t]!=="undefined"&&typeof l[n].MULTIVIEW_THUMBNAILS[t]!=="undefined")if(s.length)f(s,n,t);else{r=true;var v={id:"angle-"+t,"data-angle":t};s=p.clone();s.children("a").attr(v).removeClass("active");q.children("li:last-child").after(s).after(" ");f(g("#angle-"+t),n,t)}else if(s.length){s.parent().remove();r=true}}g("#angles-list a").each(function(){var w=
g(this),x=w.data("angle");if(typeof l[n].MULTIVIEW[x]==="undefined"||typeof l[n].MULTIVIEW_THUMBNAILS[x]==="undefined"){if(w.is(".active"))u=true;r=true;w.parent().remove()}});u&&g("#angles-list a:first").click();j.subscribe("actors:assembled",function(){if(r){j.publish("slide:actors:updateCount");r=false}})}function f(p,o,n){if(j.facelift){o=j.imageBucket(l[o].MULTIVIEW_THUMBNAILS[n]);p.children("span").attr("style","background-image:url("+o+")")}}function h(){var p=g("#actors").slide({prev:"#prevAngle",
next:"#nextAngle",items:"img",simulateScroll:j.isMobile});g("#actors img").imagesLoaded(function(){p.init()});j.subscribe("slide:actors",function(o){g("#angle-"+k.Director.getAngle()).removeClass("active");g("#angles-list a:eq("+o+")").addClass("active");k.Director.loadAngleIndex(o)})}var g=a.jQuery,j=a.z,k=j.productPage,l=a.pImgs,m=a.styleIds;k.stageAngles=function(){if(j.facelift){c();d();b()}g("#actors").imagesLoaded(function(){k.Director.init()});j.subscribe("director:present",function(){g("#angles-list a:first").trigger("click");
g("body").addClass("curtains-up");h()})}})(window);
(function(a,b,c,d,e,f){function h(){b.subscribe("style:change",function(m){if(!l||l.data("color")!=m)a("#frontrow-"+m).trigger("click");if(!l){l=a("#frontrow-"+m);l.addClass("active");if(l.index()!==0){l.prependTo("#thumbWrap div");a("#color option[value="+m+"]").prependTo("#color")}}})}function g(){var m;a("#productImages div:first").on("click","a",function(p){var o=a(this).data("color");p.preventDefault();if(o!=m){m=o;b.publish("change:style:color",{args:[o]});c.Director.loadStyle(e[o])}})}function j(){b.subscribe("actors:assembled",
function(m,p,o){l.removeClass("active");l=a("#frontrow-"+f[o]);l.addClass("active");b.publish("slide:thumbWrap:revealIndex",{args:[l.index()]})})}function k(){if(!b.isMobile){var m=a("#thumbWrap"),p=Math.min(m.data("chunk"),m.data("total")),o=a("a:first",m).outerWidth()*p;m.width(o);if(m.data("total")>p){var n=m.children("div").slide({prev:"#thumbsPrev",next:"#thumbsNext",jump:p});a("#thumbWrap img:first").imagesLoaded(function(){n.init()})}}}var l;c.stageThumbs=function(){j();h();k();g()}})(jQuery,
z,z.productPage,pImgs,styleIds,colorIds);
(function(a,b,c,d){c.on("change",function(e){a.publish("style:change",{args:[e]});a.publish("style:change:finished",{args:[e],sync:true})});d.on("partial",function(e){b.StockHandler.onPartial();a.publish("stock:partial",{args:[e]})});d.on("unavailable",function(e){b.StockHandler.onUnavailable(e);a.publish("stock:unavailable",{args:[e]})});d.on("available",function(e){b.StockHandler.onAvailable(e);a.publish("stock:available",{args:[e]})});a.subscribe("change:stock:color",function(){d.color.change()});
a.subscribe("change:style:color",function(e){c.color.val()!==e&&c.color.val(e).change()});b.getStock=function(){return d}})(z,z.productPage,z.Style(),z.Stock(stockJSON,dimensions,dimToUnitToValJSON));
(function(a,b){b.getDimensionValues=function(){for(var c=[],d=dimensions.length,e=0;e<d;e++){var f=a("#"+dimensions[e]).attr("value");f!==null&&f!==""&&!f.match(/-1_(.*)/gi)&&c.push(f)}return c};b.getTaxonomyCategoryValues=function(){if(!zetaCategories&&zetaCategories.length===0)return[];for(var c=[],d=0;d<zetaCategories.length;d++)for(var e in zetaCategories[d])c[d]=parseInt(e,10);return c};b.findSimilarItems=function(c,d){var e=b.getTaxonomyCategoryValues(),f=d||4;return a.ajax({url:"/api/Search/Similarity",
async:true,data:{type:e[0]===27563?"moreLikeThis":"auto",limit:8,styleId:c,zToken:ProductPage.searchToken,relativeUrls:true},dataType:"json",beforeSend:function(h){typeof zfcUUID!="undefined"&&h.setRequestHeader("X-Page-UUID",zfcUUID)},success:function(h){var g=h.results.length;g>0&&g>f&&h.results.splice(f,g);return h}})}})(jQuery,z.productPage);
(function(a,b,c){c.testDescription=function(){var d=a("#productDescription");b.hasTabs||a("#prdVideo, #prdInfo, #marquee, #similar").remove();if(a(".description").height()>200){d.addClass("more");a(".showMore").click(function(e){e.preventDefault();d.removeClass("more").addClass("less")});a(".showLess").click(function(e){e.preventDefault();d.addClass("more").removeClass("less")})}}})(jQuery,z,z.productPage);
(function(a,b){b.testProductGrouping=function(){var c=[8045303,7633181,7633182,8045308,7658272,8045297,7972798,7972763,8045294,7658247,8032749,7554948,7578201,8045287,7238181,7554973],d=false,e;for(e=0;e<c.length;e++)if(c[e]===productId){d=true;break}prodgroupkill===false&&d===true&&a.ajax({type:"GET",url:"/api/ext/DynamicConfig/fullName/ugg.sizegroup."+productId+"?zToken="+ProductPage.configToken,dataType:"json",success:function(f){if(f){f=a.parseJSON(f.value);var h=[];h.push('<div class="dimension"><label for="sizeGroup">Size Group</label>');
h.push('<select id="sizeGroup" class="btn secondary">');for(var g=0;g<f.length;g++)h.push('<option value="'+f[g].id+'">'+f[g].name+"</option>");h.push("</select></dimension>");a("#colors").after(h.join(""));var j=a("#sizeGroup");j.change(function(){b.trackEvent("PrForm","Drop-Down-Size-Group");window.location="/product/"+j.val()+"?zlfid=sg"})}}})}})(jQuery,z.productPage);
(function(a){var b=a.z;b.productPage.antiAdInjection=function(){var c=document.location.search,d=function(e,f){if(b.killed[e])console.log("[inja]","KILLED: "+e);else{var h=document.getElementsByTagName("script")[0],g=document.createElement("script");g.type="text/javascript";g.async="true";g.src=f;h.parentNode.insertBefore(g,h);console.log("[inja]","LOADING: "+e+" ("+f+")")}};if(c.match(/inja=1/))window.inja=1;if(c.match(/inja=2/))window.inja=2;if(window.inja===1)d("gocabara","//d1clufhfw8sswh.cloudfront.net/id.js?accountId=3427317");
else window.inja===2&&d("namogoo","//cdn.nmgcdn.com/MS289FDF.js")}})(window);
(function(a,b,c){c.showOutOfStockPopover=function(d){var e={altCombinations:categoryNum==27567?true:false};a("#oosPopover").remove();b.Popover("#nothing","click","center","oosPopover","lightbox fixed").delegate(function(){}).content(function(){var f=c.getDimensionValues(),h={productId:productId,styleId:styleIds[d.colorId],colorId:d.colorId,chosenColor:colorNames[d.colorId],chosenSize:f[0]?valueIdToNameJSON[f[0]].value:"",chosenWidth:f[1]?valueIdToNameJSON[f[1]].value:"",dimensionVals:f};f=[];f.push(Mustache.to_html('<h1 class=\"bVneck deepV\"\>Out of Stock</h1\> <h2\> {{chosenColor}}, Size {{chosenSize}}</h2\> <div class=\"oosNotifyBox\"\> <p\>Sorry about that. <a class=\"popup-434-510 gae-click*Product-Page*OOS-Popover*Notify-Me\" title=\"Notify Me\" href=\"/productNotifyMe.do?productId={{productId}}&colorId=&dimensionValueIds=\" target=\"_blank\"\>Click here and we\'ll let you know if it returns</a\>!</p\> </div\>',
h));if(e.altCombinations===true){h=c.purchaseAlternativeCombinations(h);h!==null&&f.push(Mustache.to_html('<h3\>Other colors available in your size range:</h3\> <table id=\"altCombinations\"\> <tr\> <th\>{{dimension0}}</th\> <th\>{{dimension1}}</th\> <th\>Color</th\> </tr\> {{#altStock}} <tr\> <td\>{{dim0name}}</td\> <td\>{{dim1name}}</td\> <td\> <div class=\"swatches\"\> {{#items}} <a href=\"\" class=\"{{colorId}},{{dim0Id}}-{{dim0Val}},{{dim1Id}}-{{dim1Val}} swatch-{{colorId}}\" title=\"{{colorName}}\"\> <span class=\"swatch zgae-click*Product-Page*OOS*Swatch\"\>{{colorName}}</span\> </a\> {{/items}} </div\> </td\> </tr\> {{/altStock}} </table\>',h))}return f.join("")}).after(function(){e.altCombinations===true&&c.setupAlternativeCombinationsEvents(c.getStock())}).display(a("body"));c.oosSignupForm();_gaq.push(["pageTrackerPriTr._trackEvent","Product-Page","OOS","Error"])};c.oosSignupForm=function(){var d=$j("#content").attr("class"),e=d==="productPage"?"Product-Page":d,f=[];b.defaultText("#notify-email",
"Email Address");b.FormValidator("#oosNotifyMe",true).validate("format","#notify-email","[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}","Please enter a valid email address.").success(function(){_gaq.push(["pageTrackerPriTr._trackEvent",e,"OOS","Notify-Me-Success"]);$j(".oosNotifyBox").remove();f=[];f.push('<div class="oosNotifyBox successMessage">');f.push("<h3>Thanks!</h3><p>We've added you to the list and will let you know if this comes back in stock.</p>");f.push("</div>");$j("#oosPopover").append(f.join(""))}).error(function(h){_gaq.push(["pageTrackerPriTr._trackEvent",
e,"OOS","Notify-Me-Error"]);$j(".asyncError").remove();f=[];f.push('<div class="asyncError"><ul>');for(var g=0,j=h.length;g<j;g++)f.push("<li>",h[g],"</li>");f.push("</ul></div>");$j("#oosNotifyMe").prepend(f.join(""))})}})(jQuery,z,z.productPage);
(function(a,b,c){function d(){a("#actors img").imagesLoaded(function(){setTimeout(function(){a("body").addClass("anim")},250)})}function e(){if(h){var j=a("#center-stage"),k=j.find("img"),l=Math.min(h,window.innerHeight-265);j.css("height",l);k.css("height",l-10);b.publish("slide:actors:updateWidth");if(!g){g=true;setTimeout(function(){b.publish("overture")},250)}}}function f(){b.subscribe("actors:assembled",function(){var j=a("#actors img:first");j.imagesLoaded(function(){h=j.height();e();c.Director.loadAll();
j.width()>j.height()&&a("#center-stage").addClass("wide-body")})})}var h,g=false;c.mobileSetup=function(){d();a(window).bind("orientationchange",e);f()}})(jQuery,z,z.productPage);
(function(a){var b=a._p,c=a.productId,d=a.jQuery,e=a.z,f=e.productPage;f.setupAll({stock:function(){e.subscribe("stock:unavailable:done",function(h){f.showOutOfStockPopover(h)})},stage:function(){f.stageKeyboardShortcuts();f.stageVideo();if(e.facelift){f.stageThumbs();f.stageAngles();f.stageZoom();e.Stage({nav:"#marquee ul a",onNav:"#marquee li.on",stage:"#productStage",onStage:"#prdImage"});d("#actors img:first").imagesLoaded(function(){var h=e.facelift?d("#center-stage"):d("#theater");h.css("min-height",
h.height())});d("#prdInfoText .video:first").remove()}else{f.testDualImages();f.stageFrontrow();e.Stage({nav:"#productNav ul a",stage:"#productStage",onStage:"#prdImage"})}},purchase:function(){f.purchaseShippingModal();f.purchaseSelectChange();f.purchaseCartButton();f.purchaseAnalytics();e.facelift&&e.subscribe("overture",function(){f.faceLiftPurchase().setupCorner()});f.priceSwapper({onDiscounted:function(){d("#percentOff").show()},onNotDiscounted:function(){d("#percentOff").hide()}})},forms:function(){f.formBrandSignup();
f.formReportAnError();f.formNotifyMe()},recos:function(){b.showAmazon=!e.killedAmazon&&!e.isCouture;f.featureRecos(b.showAmazon)},components:function(){f.featureComponents()},tests:function(){f.testProductGrouping();e.facelift&&f.testDescription()},reviews:function(){f.reviewSetup();f.reviewForm();f.reviewFitSurvey();f.reviewPositiveCritical()},share:function(){var h="http://"+(e.isCouture?"couture.zappos.com":'www.zappos.com')+'/product/'+c+"/color/";f.shareSetupFoxwoods(h,
e.isCouture?h:"http://zapp.me/"+c+"/")},zombies:function(){d("#productNav a[href=#similar]").click()},scrollAnalytics:function(){e.subscribe("recos:loaded",function(){e.scrollSoHard.track("#productImages","Thumbs").track(".associatedProducts .product","HRecos").track("#reviewOverview","ReviewOverview").track(".reviewMain:first","FirstReview").track(".crossRecos:visible","BotRecos").start()})},mobile:function(){if(e.facelift)e.isMobile?f.mobileSetup():e.subscribeOnce("actors:assembled",function(){e.publish("overture")})},
extras:function(){f.fixBackLink();d("body").toggleClass("loggedIn",e.Tryst.get("customerId")||false);f.featureWizard()},pixels:function(){e.killed("inja")||f.antiAdInjection();pixelServer("pdp").set("product",{sku:b.sku,styleId:b.styleId,price:b.price,name:b.name,brand:b.brand,subCategory:b.subCategory,category:b.category}).load()},fireStock:function(){e.publish("change:stock:color")}});f.load({multiview:["stock","stage","fireStock"],oos:["recos","pixels","scrollAnalytics","forms","reviews","extras",
"zombies"],foxwoods:["stock","mobile","stage","swatches","share","purchase","fireStock","scrollAnalytics","recos","components","tests","forms","reviews","extras","pixels"]}[b.pageType||"foxwoods"])})(window);
