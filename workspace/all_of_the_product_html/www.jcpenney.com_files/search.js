$(document).ready(function(){$("#userText").val("enter search term or web id");$("#grProgressWidgetCalculateButton").click(function(){var guests_no_global=$("#grProgressNoOfGuests").val();var re=/^[0-9]*$/;var numericFlag=false;if(re.test(guests_no_global)){numericFlag=true;}if(numericFlag&&guests_no_global>0&&guests_no_global<10000){$("#grProgressWiddgetNoofGuests").val(guests_no_global);
var options={success:saveRecommendedGiftsForGuests,error:hideReCalculate};$("#grOverviewProgressWidgetCalculateForm").ajaxSubmit(options);}else{$("#grProgressWidgetCalculateButton").attr("disabled",true);}});$("#grProgressWidgetReCalculateButton").click(function(){hideReCalculate();});function saveRecommendedGiftsForGuests(){var registryId=document.getElementById("giftRegistryId").value;
$("#modGrOverviewProgReCalculateHeader").load("registryOverview.jsp?regId="+registryId+" #modGrOverviewProgReCalculateHeader");hideCalculate();}function hideCalculate(){$("#grOverviewProgressWidgetCalculateHeader").hide();$("#grOverviewProgressWidgetReCalculateHeader").show();}function hideReCalculate(){$("#grOverviewProgressWidgetReCalculateHeader").hide();
$("#grOverviewProgressWidgetCalculateHeader").show();}if($("#grProgressWiddgetNoofGuests").val()>0){var temp11=$("#grProgressWiddgetNoofGuests").val();$("#grProgressNoOfGuests").val(temp11);$("#grProgressWidgetCalculateButton").attr("disabled",false);hideCalculate();}else{hideReCalculate();$("#grProgressNoOfGuests").val("#");
$("#grProgressWidgetCalculateButton").attr("disabled",true);}$("#grProgressNoOfGuests").click(function(){$(this).val("");$("#grProgressWidgetCalculateButton").attr("disabled",true);});$("#grProgressNoOfGuests").keyup(function(){var guestValue=$("#grProgressNoOfGuests").val();var re=/^[0-9]*$/;var numericFlag=false;
if(re.test(guestValue)){numericFlag=true;}if(numericFlag&&guestValue>0&&guestValue<10000){$("#grProgressWidgetCalculateButton").attr("disabled",false);}else{$("#grProgressWidgetCalculateButton").attr("disabled",true);}});$(".category").click(function(){$.post("displayIRCategoryImage.jsp",{categoryId:$(this).children("input").attr("value")},function(response){$("#tab1").html(response);
});});$("#grWelcomefirstName,#grWelcomeLastName,#grCreateRefEmailAddr").click(function(){$(this).val("");});$("#keywordSearchAnchor").click(function(){document.getElementById("keywordSearch").submit();});if($("#refEmailOptin:checked").val()==undefined){$("#grCreateRefEmailAddr").val("email address");
$("#grCreateRefEmailAddr").attr("disabled",true);}$("#refEmailOptin").click(function(){var status=$("#grCreateRefEmailAddr").attr("disabled");if(status==true){$("#grCreateRefEmailAddr").attr("disabled",false);}else{$("#grCreateRefEmailAddr").attr("disabled",true);$("#grCreateRefEmailAddr").val("email address");
}});$("#searchTerm").val("enter search term or web id");});function testSantaType(){var date=new Date();var curr_date=date.getDate();var curr_month=date.getMonth();var curr_year=date.getFullYear();var eventTypeValue=$("#grEventType").val();if(eventTypeValue=="Santa"){$("#grCreateEventDateMonth").val("12");
$("#grCreateEventDateDay").val("25");if(curr_month==11&&(curr_date==25||curr_date==26||curr_date==27||curr_date==28||curr_date==29||curr_date==30||curr_date==31)){$("select#grCreateEventDateYear").attr("selectedIndex",2);}else{$("select#grCreateEventDateYear").attr("selectedIndex",1);}}}function validateRegistrantSearchForm(){document.getElementById("registrantSearchServerErrorMessages").innerHTML=document.getElementById("jsErrors").innerHTML;
var firstNameResult=validateMandatory("grRegistrantSearchFirstName","firstNameRequiredReg","regSearchFirstNameLabel","input_txt input_error_txt","error");var result=validateMandatory("grRegistrantSearchLastName","lastNameRequiredReg","regSearchLastNameLabel","input_txt input_error_txt","error")&&firstNameResult;
if(firstNameResult){result=validateName("grRegistrantSearchFirstName","firstNameInvalidReg","regSearchFirstNameLabel","input_txt input_error_txt","error")&&result;}if(result){result=validateName("grRegistrantSearchLastName","lastNameInvalidReg","regSearchLastNameLabel","input_txt input_error_txt","error")&&result;
}if(!result){$("#registrantSearchErrors").show();resizeSearchWindow();return false;}else{var options={success:showRegistrantSearchResults,error:showRegistrantSearchErrorDiv};$("#grRegistrantSearchModal").ajaxSubmit(options);}}function showRegistrantSearchResults(responseText,statusText,xhr,$form){if((typeof responseText.fieldsList!="undefined")&&responseText.fieldsList!=null&&responseText.fieldsList.length>0){$("#registrantSearchErrors").show();
$("#grRegistrantSearchNoRegistries").hide();$("#grRegistrantSearchHasRegistries").hide();var serverError="";try{for(var i=0;i<responseText.fieldsList.length;i++){serverError=serverError+"<div><li>"+responseText.fieldsList[i].message+"</li></div>";}}catch(e){handlejavaScriptError(e);}document.getElementById("registrantSearchServerErrorMessages").innerHTML=serverError;
}else{$("#registrantSearchErrors").hide();if((typeof responseText.successList!="undefined")&&responseText.successList!=null&&responseText.successList.length>0){$("#grRegistrantSearchNoRegistries").hide();document.getElementById("noOfregistrantSearchResults").innerHTML=responseText.successList.length+" registries found.";
var mainResultsDiv="";try{for(var j=0;j<responseText.successList.length;j++){var imageAndName="";var nameDiv="";var addressDiv="";var timeDiv="";if(responseText.successList[j].eventType=="Wedding"){imageAndName=document.getElementById("registrantSearchWeddingImage").innerHTML;}else{if(responseText.successList[j].eventType=="Baby"){imageAndName=document.getElementById("registrantSearchBabyImage").innerHTML;
}else{imageAndName=document.getElementById("registrantSearchOtherImage").innerHTML;}}if(typeof responseText.successList[j].coRegistrantFirstName!="undefined"&&responseText.successList[j].coRegistrantFirstName!=null&&responseText.successList[j].coRegistrantFirstName!=""){nameDiv="<div class='results_img_desp'>"+imageAndName+"<p><a href='enterPassword.jsp?registryId="+responseText.successList[j].registryItemId+"'>"+responseText.successList[j].registrantFirstName+" "+responseText.successList[j].registrantLastName+" &amp; "+responseText.successList[j].coRegistrantFirstName+" "+responseText.successList[j].coRegistrantLastName+"</a></p>"+"</div>";
}else{nameDiv="<div class='results_img_desp'>"+imageAndName+"<p><a href='enterPassword.jsp?registryId="+responseText.successList[j].registryItemId+"'>"+responseText.successList[j].registrantFirstName+" "+responseText.successList[j].registrantLastName+"</a></p>"+"</div>";}if(typeof responseText.successList[j].mailingAddrState!="undefined"&&responseText.successList[j].mailingAddrState!=null&&responseText.successList[j].mailingAddrState!=""){addressDiv="<div id='mailingAddrState'>"+responseText.successList[j].mailingAddrState+"</div>";
}else{addressDiv="<div id='mailingAddrState'>&nbsp;</div>";}timeDiv="<div id='registryEventDate'>"+responseText.successList[j].registryEventMonth+","+responseText.successList[j].registryEventYear+"</div>";mainResultsDiv=mainResultsDiv+"<li>"+nameDiv+addressDiv+timeDiv+"</li>";}}catch(e){handlejavaScriptError(e);
}document.getElementById("registrantRegistrySearchResults").innerHTML=mainResultsDiv;$("#grRegistrantSearchHasRegistries").show();}else{document.getElementById("grRegistrantSearchNoRegText").innerHTML=responseText.grRegistrantSearchNoRegText;$("#grRegistrantSearchNoRegistries").show();$("#grRegistrantSearchHasRegistries").hide();
}}resizeSearchWindow();}function showRegistrantSearchErrorDiv(){$("#registrantSearchServerErrors").show();}function showRegSearchInitialDiv(){$("#grRegistrantSearchHasRegistries").hide();$("#grRegistrantSearchNoRegistries").hide();hideRegistrantSearchErrorDiv();}function hideRegistrantSearchErrorDiv(){$("#firstNameRequiredReg").hide();
$("#lastNameRequiredReg").hide();$("#firstNameInvalidReg").hide();$("#lastNameInvalidReg").hide();}function validateName(elementId,errorMessageDivId,labelId,inputErrorClassName,labelErrorClassName){var element=document.getElementById(elementId).value;var label=document.getElementById(labelId);var errorMessageDiv=document.getElementById(errorMessageDivId);
if(element.length>0){var index=element.search(" ");if(index>=0){errorMessageDiv.style.display="block";element.className=inputErrorClassName;label.className=labelErrorClassName;return false;}}return true;}function resizeSearchWindow(){if($("#cboxLoadedContent").find(".module_overlay").length>0){$.colorbox.resize();
}}function submitScanAndSearchForm(){document.getElementById("keywordSearch").submit();}function submitTypeAheadRequest(searchTerm){document.getElementById("searchTerm").value=searchTerm;document.getElementById("searchType").value="Predictive Search";submitForm();}function submitRelatedSearchRequest(searchTermElementId){var searchTerm=document.getElementById(searchTermElementId).value;
if($("#searchTerm").length>0){document.getElementById("searchTerm").value=searchTerm;}else{document.getElementById("grSearchTerm").value=searchTerm;}document.getElementById("searchType").value="Related Search Term";submitForm();}