(function($){$.fn.tooltip=function(scriptOptions){var defaults={timeout:500,belowAnchor:false,overrideClass:"",disableClick:true,beforeShow:null};var options=$.extend(defaults,scriptOptions);var modalType=$("#typeOfModal").html();if(modalType=="PPE_ServiceWarranty"){options.belowAnchor=true;}var tooltip=$("#tooltip");
if(tooltip.length<1){tooltip=$('<div id="tooltip" class="tooltipChrome"><div class="tooltipChromeMiddleRight"><div class="tooltipChromeMiddleLeft"><div class="tooltipChromeMiddle"><div class="tooltipContentArea"></div></div></div></div></div>');tooltip.prepend('<div class="tooltipChromeTopRight"><div class="tooltipChromeTopLeft"><div class="tooltipChromeTop">&nbsp;</div></div></div>');
tooltip.append('<div class="tooltipChromeBottomRight"><div class="tooltipChromeBottomLeft"><div class="tooltipChromeBottom">&nbsp;</div></div></div>');tooltip.append('<div class="tooltipChromeArrow">&nbsp;</div>');tooltip.hide();$("body").append(tooltip);}return this.each(function(){var anchor=$(this);
var exitTooltipCreation=false;var events=anchor.data("events");if(events){if(events.click){$.each(events.click,function(i){if(this.type=="tooltip"){exitTooltipCreation=true;return;}});}}if(exitTooltipCreation){return;}if(options.disableClick){anchor.bind("click.tooltip",function(){if($(this).parent().is("label")){var field=$("#"+$(this).parent().attr("for"));
if(field.is(":radio")||field.is(":checkbox")){field.trigger("click");}else{field.focus();}}return false;});}var tooltipText="";var tooltipContent="";var anchorTarget=null;var relAttrib=anchor.attr("rel");var hrefAttrib=$.trim(anchor.attr("href"));var customContentAttrib=anchor.attr("tooltipCustom");if(relAttrib&&relAttrib.indexOf("#")==0){anchorTarget=relAttrib;
}else{if(customContentAttrib){tooltipContent=customContentAttrib;tooltipText=customContentAttrib;}else{anchorTarget=hrefAttrib;anchorTarget=anchorTarget.substr(anchorTarget.indexOf("#"));}}if(anchorTarget&&String(anchorTarget).length>1){tooltipText=$(anchorTarget).text();tooltipContent=$(anchorTarget).html();
}anchor.bind("mouseenter.tooltip",function(e){if(!anchor.is(".currentTooltip")){if(tooltip.visible){clearTimeout(tooltip.timer);hideTooltip(true);}else{tooltip.attr("class","tooltipChrome");}tooltip.showTimer=setTimeout(function(){tooltip.find(".tooltipContentArea").html(tooltipContent);if(typeof(options.beforeShow)=="function"){options.beforeShow(e);
}if(options.belowAnchor){tooltip.addClass("tooltipBelow");}else{tooltip.removeClass("tooltipBelow");}if(options.overrideClass){tooltip.addClass(options.overrideClass);}if(!$.support.opacity){tooltip.show();tooltip.hide();}tooltip.css({position:"absolute",top:"-9999px",left:"-9999px"});var anchorTop=anchor.offset().top;
var anchorLeft=anchor.offset().left;var anchorHeight=anchor.height();var anchorWidth=anchor.width();var windowWidth=$(window).width();var windowHeight=$(window).height();var tooltipLeft=0;var tooltipTop=0;var tooltipWidth=tooltip.width();var tooltipHeight=tooltip.height();var mouseX=e.clientX;var mouseY=e.clientY;
var leftBound=$("body").offset().left;var rightBound=$("body").width();tooltipLeft=anchorLeft+(anchorWidth/4)-(tooltipWidth/4);var arrowPos=tooltipWidth/4;tooltipTop=anchorTop-tooltipHeight-3;if(options.belowAnchor){tooltipTop=anchorTop+anchorHeight-2;}arrowPos=arrowPos-13;if(tooltipLeft<leftBound){var tooltipOffset=(Math.abs(tooltipLeft)-leftBound)+20;
tooltipLeft=tooltipLeft+tooltipOffset;arrowPos=arrowPos-tooltipOffset;}else{if((tooltipLeft+tooltipWidth)>rightBound){var tooltipOffset=(rightBound-(tooltipLeft+tooltipWidth))-20;tooltipLeft=tooltipLeft+tooltipOffset;arrowPos=arrowPos-tooltipOffset;}}if($("#checkoutSlider").length>0){tooltipTop-=27;}tooltip.css({top:tooltipTop,left:tooltipLeft});
if($("#modalHolder").length>0){tooltip.css("zIndex",900);}else{tooltip.css("zIndex","");}tooltip.find(".tooltipChromeArrow").css({left:arrowPos});tooltip.stop(true,true);function afterShow(){tooltip.tooltipScroll=setTimeout(function(){var currentScrollTop=0;var htmlScrollTop=$("html").scrollTop();var bodyScrollTop=$("body").scrollTop();
if(htmlScrollTop>0||bodyScrollTop>0){if(htmlScrollTop>0){currentScrollTop=htmlScrollTop;}else{if(bodyScrollTop>0){currentScrollTop=bodyScrollTop;}}}if(!options.belowAnchor){if(tooltip.offset().top<currentScrollTop){}}else{if(currentScrollTop+windowHeight<tooltipHeight+tooltip.offset().top){if(options.belowAnchor&&(tooltipHeight>windowHeight)){}else{}}}},100);
}if($.support.opacity){tooltip.fadeIn("fast",afterShow);}else{tooltip.show();afterShow();}tooltip.visible=true;anchor.addClass("currentTooltip");},5);anchor.bind("mouseleave.tooltip",function(){clearTimeout(tooltip.showTimer);tooltip.timer=setTimeout(function(){hideTooltip();},250);});tooltip.bind("mouseenter.tooltip",function(){clearTimeout(tooltip.timer);
});tooltip.bind("mouseleave.tooltip",function(){tooltip.timer=setTimeout(function(){hideTooltip();},250);});}else{clearTimeout(tooltip.timer);}});function hideTooltip(noAnimation){if(noAnimation||!$.support.opacity){tooltip.hide();tooltip.removeClass(options.overrideClass);tooltip.attr("class","tooltipChrome");
}else{tooltip.fadeOut("normal",function(){tooltip.removeClass(options.overrideClass);tooltip.attr("class","tooltipChrome");});}tooltip.visible=false;$(".currentTooltip").removeClass("currentTooltip").unbind("mouseleave.tooltip");tooltip.unbind("mouseleave.tooltip");tooltip.unbind("mouseleave.tooltip");
clearTimeout(tooltip.tooltipScroll);}});};})(jQuery);