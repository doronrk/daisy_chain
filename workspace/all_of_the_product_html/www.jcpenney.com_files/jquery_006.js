(function($){$.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",activeClass:"active",hoverClass:"hover",useID:true,idPrefix:"uniform",resetSelector:false,autoHide:true},elements:[]};if($.browser.msie&&$.browser.version<7){$.support.selectOpacity=false;
}else{$.support.selectOpacity=true;}$.fn.uniform=function(options){options=$.extend($.uniform.options,options);var el=this;if(options.resetSelector!=false){$(options.resetSelector).mouseup(function(){function resetThis(){$.uniform.update(el);}setTimeout(resetThis,10);});}function doInput(elem){$el=$(elem);
$el.addClass($el.attr("type"));storeElement(elem);}function doSelect(elem){var $el=$(elem);var divTag=$("<div />"),spanTag=$("<span />");if(!$el.css("display")=="none"&&options.autoHide){divTag.hide();}divTag.addClass(options.selectClass);if(options.useID&&elem.attr("id")!=""){divTag.attr("id",options.idPrefix+"-"+elem.attr("id"));
}var selected=elem.find(":selected:first");if(selected.length==0){selected=elem.find("option:first");}spanTag.html(selected.html());elem.css("opacity",0);elem.wrap(divTag);elem.before(spanTag);divTag=elem.parent("div");spanTag=elem.siblings("span");elem.bind({"change.uniform":function(){spanTag.text(elem.find(":selected").html());
divTag.removeClass(options.activeClass);},"focus.uniform":function(){divTag.addClass(options.focusClass);},"blur.uniform":function(){divTag.removeClass(options.focusClass);divTag.removeClass(options.activeClass);},"mousedown.uniform touchbegin.uniform":function(){divTag.addClass(options.activeClass);
},"mouseup.uniform touchend.uniform":function(){divTag.removeClass(options.activeClass);},"click.uniform touchend.uniform":function(){divTag.removeClass(options.activeClass);},"mouseenter.uniform":function(){divTag.addClass(options.hoverClass);},"mouseleave.uniform":function(){divTag.removeClass(options.hoverClass);
divTag.removeClass(options.activeClass);},"keyup.uniform":function(){spanTag.text(elem.find(":selected").html());}});if($(elem).attr("disabled")){divTag.addClass(options.disabledClass);}$.uniform.noSelect(spanTag);storeElement(elem);}function doCheckbox(elem){var $el=$(elem);var divTag=$("<div />"),spanTag=$("<span />");
if(!$el.css("display")=="none"&&options.autoHide){divTag.hide();}divTag.addClass(options.checkboxClass);if(options.useID&&elem.attr("id")!=""){divTag.attr("id",options.idPrefix+"-"+elem.attr("id"));}$(elem).wrap(divTag);$(elem).wrap(spanTag);spanTag=elem.parent();divTag=spanTag.parent();$(elem).css("opacity",0).bind({"focus.uniform":function(){divTag.addClass(options.focusClass);
},"blur.uniform":function(){divTag.removeClass(options.focusClass);},"click.uniform touchend.uniform":function(){if(!$(elem).attr("checked")){spanTag.removeClass(options.checkedClass);}else{spanTag.addClass(options.checkedClass);}},"mousedown.uniform touchbegin.uniform":function(){divTag.addClass(options.activeClass);
},"mouseup.uniform touchend.uniform":function(){divTag.removeClass(options.activeClass);},"mouseenter.uniform":function(){divTag.addClass(options.hoverClass);},"mouseleave.uniform":function(){divTag.removeClass(options.hoverClass);divTag.removeClass(options.activeClass);}});if($(elem).attr("checked")){spanTag.addClass(options.checkedClass);
}if($(elem).attr("disabled")){divTag.addClass(options.disabledClass);}storeElement(elem);}function doRadio(elem){var $el=$(elem);var divTag=$("<div />"),spanTag=$("<span />");if(!$el.css("display")=="none"&&options.autoHide){divTag.hide();}divTag.addClass(options.radioClass);if(options.useID&&elem.attr("id")!=""){divTag.attr("id",options.idPrefix+"-"+elem.attr("id"));
}$(elem).wrap(divTag);$(elem).wrap(spanTag);spanTag=elem.parent();divTag=spanTag.parent();$(elem).css("opacity",0).bind({"focus.uniform":function(){divTag.addClass(options.focusClass);},"blur.uniform":function(){divTag.removeClass(options.focusClass);},"click.uniform touchend.uniform":function(){if(!$(elem).attr("checked")){spanTag.removeClass(options.checkedClass);
}else{var classes=options.radioClass.split(" ")[0];$("."+classes+" span."+options.checkedClass+":has([name='"+$(elem).attr("name")+"'])").removeClass(options.checkedClass);spanTag.addClass(options.checkedClass);}},"mousedown.uniform touchend.uniform":function(){if(!$(elem).is(":disabled")){divTag.addClass(options.activeClass);
}},"mouseup.uniform touchbegin.uniform":function(){divTag.removeClass(options.activeClass);},"mouseenter.uniform touchend.uniform":function(){divTag.addClass(options.hoverClass);},"mouseleave.uniform":function(){divTag.removeClass(options.hoverClass);divTag.removeClass(options.activeClass);}});if($(elem).attr("checked")){spanTag.addClass(options.checkedClass);
}if($(elem).attr("disabled")){divTag.addClass(options.disabledClass);}storeElement(elem);}$.uniform.restore=function(elem){if(elem==undefined){elem=$($.uniform.elements);}$(elem).each(function(){if($(this).is(":checkbox")){$(this).unwrap().unwrap();}else{if($(this).is("select")){$(this).siblings("span").remove();
$(this).unwrap();}else{if($(this).is(":radio")){$(this).unwrap().unwrap();}}}$(this).unbind(".uniform");$(this).css("opacity","1");var index=$.inArray($(elem),$.uniform.elements);$.uniform.elements.splice(index,1);});};function storeElement(elem){elem=$(elem).get();if(elem.length>1){$.each(elem,function(i,val){$.uniform.elements.push(val);
});}else{$.uniform.elements.push(elem);}}$.uniform.noSelect=function(elem){function f(){return false;}$(elem).each(function(){this.onselectstart=this.ondragstart=f;$(this).mousedown(f).css({MozUserSelect:"none"});});};$.uniform.update=function(elem){if(elem==undefined){elem=$($.uniform.elements);}elem=$(elem);
elem.each(function(){var $e=$(this);if($e.is("select")){var spanTag=$e.siblings("span");var divTag=$e.parent("div");divTag.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass);spanTag.html($e.find(":selected").html());if($e.is(":disabled")){divTag.addClass(options.disabledClass);
}else{divTag.removeClass(options.disabledClass);}}else{if($e.is(":checkbox")){var spanTag=$e.closest("span");var divTag=$e.closest("div");divTag.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass);spanTag.removeClass(options.checkedClass);if($e.is(":checked")){spanTag.addClass(options.checkedClass);
}if($e.is(":disabled")){divTag.addClass(options.disabledClass);}else{divTag.removeClass(options.disabledClass);}}else{if($e.is(":radio.myradio")){var spanTag=$e.closest("span");var divTag=$e.closest("div");divTag.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass);spanTag.removeClass(options.checkedClass);
if($e.is(":checked")){spanTag.addClass(options.checkedClass);}if($e.is(":disabled")){divTag.addClass(options.disabledClass);}else{divTag.removeClass(options.disabledClass);}}}}});};return this.each(function(){if($.support.selectOpacity){var elem=$(this);if(elem.is("select")){if(elem.attr("multiple")!=true){if(elem.attr("size")==undefined||elem.attr("size")<=1){doSelect(elem);
}}}else{if(elem.is(":checkbox")){doCheckbox(elem);}else{if(elem.is(":radio")){doRadio(elem);}}}}});};})(jQuery);