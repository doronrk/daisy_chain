this.JSON||(this.JSON={}); (function(){function a(a){return 10>a?"0"+a:a}function b(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var b=k[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var e,k,m,r,s=f,l,g=d[a];g&&"object"===typeof g&&"function"===typeof g.toJSON&&(g=g.toJSON(a));"function"===typeof n&&(g=n.call(d,a,g));switch(typeof g){case "string":return b(g);case "number":return isFinite(g)?String(g):"null";case "boolean":case "null":return String(g);case "object":if(!g)return"null"; f+=h;l=[];if("[object Array]"===Object.prototype.toString.apply(g)){r=g.length;for(e=0;e<r;e+=1)l[e]=c(e,g)||"null";m=0===l.length?"[]":f?"[\n"+f+l.join(",\n"+f)+"\n"+s+"]":"["+l.join(",")+"]";f=s;return m}if(n&&"object"===typeof n)for(r=n.length,e=0;e<r;e+=1)k=n[e],"string"===typeof k&&(m=c(k,g))&&l.push(b(k)+(f?": ":":")+m);else for(k in g)Object.hasOwnProperty.call(g,k)&&(m=c(k,g))&&l.push(b(k)+(f?": ":":")+m);m=0===l.length?"{}":f?"{\n"+f+l.join(",\n"+f)+"\n"+s+"}":"{"+l.join(",")+"}";f=s;return m}} "function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(b){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e= /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,h,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,d){var e;h=f="";if("number"===typeof d)for(e=0;e<d;e+=1)h+=" ";else"string"===typeof d&&(h=d);if((n=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})}); "function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,d){var e,f,h=a[d];if(h&&"object"===typeof h)for(e in h)Object.hasOwnProperty.call(h,e)&&(f=c(h,e),void 0!==f?h[e]=f:delete h[e]);return b.call(a,d,h)}var e;a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof b?c({"":e},""):e;throw new SyntaxError("JSON.parse");})})();function logicalRuleToString(a){return"["+function(a){var c=[],d,e;for(e in a)a.hasOwnProperty(e)&&(d=a[e],"object"==typeof d?c[c.length]="{"+arguments.callee(d).join(", ")+"}":"function"!=typeof d&&(c[c.length]=["'"+e+"' : '"+d.toString()+"'"]));return c}(a).join(", ")+"]"}window.liveclicker||(window.liveclicker={});liveclicker.api_res=[]; liveclicker.getAccountId=function(){return lc.settings&&lc.settings.account_id?lc.settings.account_id:lc.account_id?lc.account_id:0};function isSecure(){return"https:"==window.location.protocol}function getSecureDomain(){lc.secure_domain||(lc.secure_domain="sc.liveclicker.net");return lc.secure_domain}function getSecureAppDomain(){lc.secure_domain||(lc.secure_domain="vms.liveclicker.com");return lc.secure_domain} function getHttp(){return liveclicker.getDomain()==getSecureDomain()?"https://":"http://"}liveclicker.getDomain=function(){var a;a=isSecure()?getSecureDomain():"sv.liveclicker.net";return lc.settings&&lc.settings.domain?lc.settings.domain:lc.domain?lc.domain:a};liveclicker.getAppDomain=function(){return isSecure()?getSecureAppDomain():lc.settings&&lc.settings.app_domain?lc.settings.app_domain:"apps.liveclicker.com"}; liveclicker.callAPIObject=function(a,b){0>a.indexOf("format=json")&&(a+="&format=json");a+="&var=liveclicker.api_res["+b.objectId+"]";var c=document.createElement("script");c.src=a;c.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(c);void 0==liveclicker.lcCallbackObjects&&(liveclicker.lcCallbackObjects=[]);liveclicker.lcCallbackObjects[b.objectId]=b;setTimeout("liveclicker.lcCheckReadyObject()",50)}; liveclicker.lcCheckReadyObject=function(){var a=1;if(window.liveclicker.api_res)for(var b in window.liveclicker.api_res)if(parseInt(b).toString()==b){liveclicker.lcCallbackObjects[b].callback(window.liveclicker.api_res[b]);delete window.liveclicker.api_res[b];delete liveclicker.lcCallbackObjects[b];for(var c in liveclicker.lcCallbackObjects)a=0}a&&setTimeout("liveclicker.lcCheckReadyObject()",50)}; liveclicker.detectEndPlayback=function(a,b){if(void 0!=typeof a){var c=a.getSettings();0<c.playTime&&0<c.totalTime&&(c.playTime>0.98*c.totalTime||c.playTime>c.totalTime-0.3)?void 0!=typeof b&&b(a):window.setTimeout(function(){liveclicker.detectEndPlayback(a,b)},100)}};liveclicker.callbackOnPlaybackCompleted=function(a,b){liveclicker.detectEndPlayback(a,b)};liveclicker.newObjectId=function(){void 0==liveclicker.objectCount?liveclicker.objectCount=0:liveclicker.objectCount++;return liveclicker.objectCount}; liveclicker.pending=[];liveclicker.setPending=function(a){liveclicker.pending[liveclicker.pending.length]=a;1==liveclicker.pending.length&&setTimeout("liveclicker.checkPending(0)",50)}; liveclicker.checkPending=function(a){if(0==a){for(var b=0,c=0;c<liveclicker.pending.length;c++){var d=liveclicker.pending[c];if(null!=d)if(a=liveclicker.findPlayerByWidgetId(d.widget_id),void 0==a)b++;else{liveclicker.pending[c]=null;try{a.sendEvent(d.event,d.p1,d.p2,d.p3,d.p4)}catch(e){liveclicker.pending[c]=d,b++}}}0<b?setTimeout("liveclicker.checkPending(0)",50):liveclicker.pending=[]}};liveclicker.getPlayerFromJquery=function(a){return 0==a.children("div").children("embed").length?void 0:a.children("div").children("embed")[0]}; liveclicker.findPlayerByJquery=function(a){a=liveclicker.getPlayerFromJquery(a);if(void 0!=a)for(var b=getLCPlayers(),c=0;c<b.length;c++){var d=b[c];if(null!=d&&void 0!=d.getSettings&&void 0!=d.isReady&&d==a)return d}};liveclicker.getWidgetId=function(a){a=a.getSettings().id.toString();var b=a.indexOf("_");0<b&&(a=a.substring(b+1));return a}; liveclicker.findPlayerByWidgetId=function(a){if(void 0!=window.getLCPlayers)for(var b=getLCPlayers(),c=0;c<b.length;c++){var d=b[c];if(null!=d&&void 0!=d.getSettings){if(void 0==d.isReady){d.isReady="1";break}if(liveclicker.getWidgetId(d)==a)return d}}};function lcThumbnail(a,b){this.src=a;this.srcNormalized=b} function lcDynamicThumbnail(a){this.widget_id=a;this.scriptSrcDynamic=getHttp()+liveclicker.getDomain()+"/service/getDynamicEmbed?client_id="+liveclicker.getAccountId()+"&widget_id="+this.widget_id}lcDynamicThumbnail.prototype.assignDynamicThumbnailOption=function(a,b){this.scriptSrcDynamic=this.scriptSrcDynamic+"&"+a+"="+b};lcDynamicThumbnail.prototype.addInternalParams=function(a){this.scriptSrcDynamic=this.scriptSrcDynamic+"&"+a}; lcDynamicThumbnail.prototype.appendDynamicThumbnailTo=function(a){var b=document.createElement("script");b.setAttribute("type","text/javascript");for(var c in a)1<this.scriptSrcDynamic.indexOf(c)&&(this.scriptSrcDynamic=this.scriptSrcDynamic.split("&"+c).join("&deleted_"+c)),"id"!=c&&(this.scriptSrcDynamic+="&"+c+"="+a[c]);b.setAttribute("src",this.scriptSrcDynamic+"&div_id="+a.id);document.getElementsByTagName("head")[0].appendChild(b);return jQuery("#"+a.id)}; function lcThumbnail(a,b){this.src=a;this.srcNormalized=b}function lcPlayer(a){this.widget_id=a;this.scriptSrc=getHttp()+liveclicker.getDomain()+"/service/getEmbed?client_id="+liveclicker.getAccountId()+"&widget_id="+this.widget_id}lcPlayer.prototype.assignPlayerOption=function(a,b){this.scriptSrc=this.scriptSrc+"&"+a+"="+b};lcPlayer.prototype.addInternalParams=function(a){this.scriptSrc=this.scriptSrc+"&"+a}; lcPlayer.prototype.setPrerollAdtag=function(a){this.scriptSrc=this.scriptSrc+"&preroll_adtag_url="+escape(a);return this};lcPlayer.prototype.sendEvent=function(a,b,c,d,e){var f=liveclicker.findPlayerByWidgetId(this.widget_id);void 0!=f?f.sendEvent(a,b,c,d,e):liveclicker.setPending({widget_id:this.widget_id,event:a,p1:b,p2:c,p3:d,p4:e})};lcPlayer.prototype.play=function(){this.sendEvent("play")};lcPlayer.prototype.pause=function(){this.sendEvent("pause")};lcPlayer.prototype.playpause=function(){this.sendEvent("playpause")}; lcPlayer.prototype.stop=function(){this.sendEvent("stop")};lcPlayer.prototype.rewind=function(){this.sendEvent("rewind")};lcPlayer.prototype.mute=function(){this.sendEvent("mute")};lcPlayer.prototype.forcedownload=function(){this.sendEvent("forcedownload")};lcPlayer.prototype.volume=function(a){this.sendEvent("volume",a)};lcPlayer.prototype.seek=function(a){this.sendEvent("seek",a)};lcPlayer.prototype.resize=function(a,b,c,d){this.sendEvent("resize",a,b,c,d)}; lcPlayer.prototype.appendPlayerTo=function(a){var b=document.createElement("script");b.setAttribute("type","text/javascript");for(var c in a)1<this.scriptSrc.indexOf(c)&&(this.scriptSrc=this.scriptSrc.split("&"+c).join("&deleted_"+c)),"player_id"!=c&&"id"!=c&&(this.scriptSrc+="&"+c+"="+a[c]);1<this.scriptSrc.indexOf("player_custom_id")&&0<a.player_id&&(this.scriptSrc=this.scriptSrc.split("&player_custom_id").join("&deleted_player_custom_id"));b.setAttribute("src",this.scriptSrc+"&div_id="+a.id+(a.player_id? "&player_custom_id="+a.player_id:""));document.getElementsByTagName("head")[0].appendChild(b);return jQuery("#"+a.id)};function lcBanner(a,b){a.overlay_autostart&&(liveclicker.oa=!1);this.scriptSrc=getHttp()+liveclicker.getDomain()+"/service/getComponent?client_id="+liveclicker.getAccountId()+"&component_id="+a.banner_id+"&widget_list="+b+(a.overlay_autostart?"&overlay_autostart="+a.overlay_autostart:"")} lcBanner.prototype.appendBannerTo=function(a){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",this.scriptSrc+"&div_id="+a.id);document.getElementsByTagName("head")[0].appendChild(b);return jQuery("#"+a.id)}; lcBanner.prototype.showOverlayOnClick=function(a){a=a.id;var b="lcs"+Math.floor(1E5*Math.random());jQuery("body").append('<span id="'+b+'" style="display:none;"></span>');this.appendBannerTo({id:b});jQuery("#"+a).click(function(){jQuery("a:first","#"+b).click()});return this};lcBanner.prototype.setPrerollAdtag=function(a){this.scriptSrc=this.scriptSrc+"&preroll_adtag_url="+escape(a);return this}; function lcSlideshow(a){this.slideshow_id=a.slideshow_id;this.slides=a.slides;this.title=a.title;this.views=a.views;this.rating=a.rating;var b=[];jQuery.each(this.slides.slide,function(a,d){var e=getWidgetId(d.photo_location),e=0<e?new lcWidgetSlide(d,e):new lcImageSlide(d);b.push(e)});this.slide_list=b}lcSlideshow.prototype.getLength=function(){return this.slide_list.length};lcSlideshow.prototype.getSlide=function(a){return 0>=a||a>this.slide_list.length?null:this.slide_list[a-1]}; function getWidgetId(a){var b=0;a=a.substring(a.lastIndexOf("/")+1);"-"==a.charAt(0)&&(b=0-parseInt(a));return b}lcSlideshow.prototype.appendMediaSlideshowTo=function(a){var b=this.scriptSrc=getHttp()+liveclicker.getAppDomain()+"/apps/5/?app_data="+this.version+"-"+liveclicker.getAccountId()+"-"+this.slideshow_id,c=document.createElement("iframe");c.src=b;c.frameBorder=0;c.scrolling="no";c.width=void 0!=a.width?a.width:945;c.height=void 0!=a.height?a.height:815;a=jQuery("#"+a.id);a.append(c);return a}; function lcSlide(a){if(a){this.slide_number=a.photo_number;this.description=a.description;this.link=a.link;var b=[];jQuery.each(a.product_links.product_link,function(a,d){b.push(d)});this.product_list=b}}function lcWidgetSlide(a,b){lcSlide.call(this,a);this.widget_id=b}lcWidgetSlide.prototype=new lcSlide;function lcImageSlide(a){lcSlide.call(this,a);this.photo_location=a.photo_location}lcImageSlide.prototype=new lcSlide;var lc=function(a){return a.widgetList?a:new lc.fn.init(a)}; lc.request=function(a,b,c){liveclicker.callAPIObject(getHttp()+liveclicker.getDomain()+"/service/api?method="+a+"&account_id="+liveclicker.getAccountId()+"&"+c,b)};lc.proxy=function(a,b,c){2===arguments.length&&("string"===typeof b?(c=a,a=c[b],b=void 0):b&&!jQuery.isFunction(b)&&(c=b,b=void 0));!b&&a&&(b=function(){return a.apply(c||this,arguments)});a&&(b.guid=a.guid=a.guid||b.guid||jQuery.guid++);return b}; function print_JS(){this.a="";this.createURL=function(a){a.constructor==Array&&(this.a+="");a.constructor==Object&&(this.a+="");for(var b in a)null!=a[b]&&"function"!==typeof a[b]&&"or"!=b&&"widget_list"!==b&&"settings"!==b&&"dimension_order"!==b&&"extra_priority"!==b&&"extra_options"!==b&&a.constructor!=Array&&(this.a+=b+"=",a[b].constructor==Object?this.createURL(a[b]):a[b].constructor==Array?this.createURL(a[b]):this.a+=a[b]+"&");return this.a.substr(0,this.a.length-1)}} lc.fn=lc.prototype={init:function(a){this.objectId=liveclicker.newObjectId();this.widgetList=[];this.initializationParameters=[];this.readyList=[];this.lcOptions=a;if(a.slideshow){var b="include_slides=true",c=new print_JS,b=b+("&"+c.createURL(a));lc.request("liveclicker.slideshow.getList",this,b)}else{var b="";a.widget_id?b=a.order&&"related"==a.order?"&widget_id="+a.widget_id:"&widget_list="+a.widget_id:a.or&&(c='{"or":'+logicalRuleToString(a.or)+"}",b="options="+escape(c));a.dimension_order&&(b+= "&options="+escape(JSON.stringify(a)));a.extra_priority&&(b+="&extra_priority="+escape(a.extra_priority));a.extra_options&&(b+="&extra_options="+escape(JSON.stringify(a.extra_options)));c=new print_JS;b+="&"+c.createURL(a);a.status||(b+="&status=online");lc.settings&&lc.settings.user_id&&(b+="&set_user="+lc.settings.user_id);lc.request("liveclicker.widget.getList",this,b);return this}},length:-1,getByIndex:function(a){return 0>a||a>=this.widgetList.length?null:this.widgetList[a]},getByWidgetId:function(a){if(void 0== a)return null;for(var b=0,c,d=0;d<this.widgetList.length;)this.widgetList[d].widget_id==a&&(b=1,c=this.widgetList[d]),d++;return 1==b?c:null},getBanner:function(a){if(a&&a.banner_id){for(var b=[],c=0;c<this.widgetList.length;c++)b[c]=this.widgetList[c].widget_id;return new lcBanner(a,b)}return null},callback:function(a){var b=this.widgetList;a.error||(a.slideshows?jQuery.each(a.slideshows.slideshow,function(a,c){var f=new lcSlideshow(c);b.push(f)}):a.widgets&&(a.cdn_prefix&&(this.cdn_prefix=a.cdn_prefix), jQuery.each(a.widgets.widget,function(a,c){var f={},f=c;f.thumbnail=new lcThumbnail(c.thumbnail,c.thumbnail_normalized);f.products=[];void 0!=c.product_links&&jQuery.each(c.product_links.product_link,function(a,b){var c={};for(a in b)c[a]=b[a];f.products.push(c)});f.productsLength=f.products.length;f.getProductsByIndex=function(a){return 0>a||a>=f.products.length?null:f.products[a]};f.getThumbnail=function(b){var c="";b&&(void 0!=b.width&&(c=c+" width='"+b.width+"'"),void 0!=b.height&&(c=c+" height='"+ b.height+"'"));var e=b.normalized&&this.thumbnail.srcNormalized?this.thumbnail.srcNormalized:this.thumbnail.src,e=this.resizeThumbnail(e,b);return jQuery("<img index='"+a+"' widget_id='"+f.widget_id+"' src='"+e+"' "+c+">")};f.thumbnailMap={"320x240":[[160,120],[320,240],[640,480],[960,720]],"320x180":[[320,180],[512,288],[1280,720]],"300x200":[[300,200],[600,400],[1080,720]]};f.resizeThumbnail=function(a,b){if(void 0==b.width||void 0==b.height)return a;var c=b.width*b.height,d;for(d in this.thumbnailMap)if(0<= a.indexOf(d))for(var e=this.thumbnailMap[d],p=0;p<e.length;p++){var q=e[p];if(q[0]*q[1]>=c||p==e.length-1)return 80>=b.width&&60>=b.height?f.mini_thumbnail:a.replace(d,q[0]+"x"+q[1])}return a};f.player=new lcPlayer(f.widget_id);f.getPlayer=function(a){if(a){for(var b in a)"player_id"!=b&&"internal_params"!=b&&this.player.assignPlayerOption(b,a[b]);void 0!=a.player_id&&this.player.assignPlayerOption("player_custom_id",a.player_id);void 0!=a.internal_params&&this.player.addInternalParams(a.internal_params)}return this.player}; f.dynamicTh=new lcDynamicThumbnail(f.widget_id);f.getDynamicThumbnail=function(a){for(var b in a)this.player.assignPlayerOption(b,a[b]);return this.dynamicTh};b.push(f)}),this.lcOptions&&this.lcOptions.order&&"function"==typeof this.lcOptions.order&&b.sort(this.lcOptions.order)));this.length=this.widgetList.length;if(this.readyList){for(var c=0;a=this.readyList[c++];)lc.proxy(a,this).call();this.readyList=[]}},isReady:function(a){this.readyList=Array(a)}};lc.fn.init.prototype=lc.fn;
