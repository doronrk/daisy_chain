lg.Video=lg.Component.extend({options:{width:"320px",height:"240px",video:"",type:"",autoplay:1},init:function(a,b){this._super(a,b);head.feature("html5video",function(){var c=document.createElement("video");return !!c.canPlayType});this._build()},_build:function(){this.element.css("width",this.options.width);this.element.css("height",this.options.height);this.player=this.element.find(".player");this.playerContent=this.player.html();this.bindActions()},bindActions:function(){this.element.find("img").bind("click",$.proxy(function(a){a.preventDefault();$(this).hide();this.showPlayer()},this))},showPlayer:function(){this.player.show();this.videoSrc=this.options.video;if(this.options.type=="brightcove"){this.reelSrc=this.videoSrc+"&"+this.options.width+"&"+this.options.height}else{if(head.html5video){this.strParams="?rel=0&autoplay="+this.options.autoplay+"&html5=True"}else{this.strParams="?rel=0&autoplay="+this.options.autoplay}if(this.videoSrc.indexOf("expotv.com")>-1){this.strParams="&autoplay="+this.options.autoplay}this.reelSrc=this.videoSrc+this.strParams}this.player.empty().html('<iframe title="video player" id="video-player" type="text/html" width="'+this.options.width+'" height="'+this.options.height+'" src="'+this.reelSrc+'" frameborder="0" allowFullScreen></iframe>')},resetVideo:function(){this.player.hide();this.player.html(this.playerContent);this.player.show();lg.addImages(this.element);lg.loadImages();this.bindActions()}});lg.plugin("video",lg.Video,".video");