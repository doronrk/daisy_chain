require(["dojo/_base/event","dojo/dom","dojo/dom-class","dojo/keys","dojo/query","dijit/registry"],function(event,dom,domClass,keys,query,registry){if(typeof(ProductTabJS)=="undefined"||ProductTabJS==null||!ProductTabJS){ProductTabJS={selectTab:function(tabId){query("div.tab_container").forEach(function(tab){tab.setAttribute("aria-selected","false");tab.setAttribute("class","tab_container inactive_tab");tab.setAttribute("tabindex","-1");});query("div.tab").forEach(function(tabPanel){tabPanel.setAttribute("style","display:none");});dom.byId(tabId).setAttribute("aria-selected","true");dom.byId(tabId).setAttribute("tabindex","0");dom.byId(tabId).setAttribute("class","tab_container active_tab");if(dom.byId(tabId+"Widget")){dom.byId(tabId+"Widget").setAttribute("style","display:block");}query("#"+tabId+"Widget .tab").forEach(function(contentTab){contentTab.setAttribute("style","display:block");});registry.findWidgets(dom.byId(tabId+"Widget")).forEach(function(widget){if(widget.resize){widget.resize();}});},selectTabWithKeyboard:function(tabIndex,tabSetSize,event){if(event.keyCode==keys.DOWN_ARROW||event.keyCode==keys.RIGHT_ARROW){tabIndex++;if(dom.byId("tab"+tabIndex)){this.selectTab("tab"+tabIndex);this.focusTab("tab"+tabIndex);}else{this.selectTab("tab1");this.focusTab("tab1");}this.cancelEvent(event);}if(event.keyCode==keys.UP_ARROW||event.keyCode==keys.LEFT_ARROW){if(dom.byId("tab"+(tabIndex-1))){this.selectTab("tab"+(tabIndex-1));this.focusTab("tab"+(tabIndex-1));}else{this.selectTab("tab"+tabSetSize);this.focusTab("tab"+tabSetSize);}this.cancelEvent(event);}},cancelEvent:function(e){event.stop(e);},focusTab:function(tabId){if(domClass.contains(tabId,"focused_tab")){query("> div",dom.byId(tabId)).style("border","1px dotted #000000");return;}else{domClass.add(tabId,"focused_tab");query("> div",dom.byId(tabId)).style("border","1px dotted #000000");dom.byId(tabId).focus();}},blurTab:function(tabId){domClass.remove(tabId,"focused_tab");query("> div",dom.byId(tabId)).style("border","1px solid transparent");}};}});