!function(){var requirejs,require,define;!function(global){function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function getOwn(a,b){return hasProp(a,b)&&a[b]}function eachProp(a,b){var c;for(c in a)if(hasProp(a,c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){(c||!hasProp(a,e))&&(d&&"string"!=typeof b?(a[e]||(a[e]={}),mixin(a[e],b,c,d)):a[e]=b)}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(a){throw a}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function b(a){var b,c;for(b=0;a[b];b+=1)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(1===b&&(".."===a[2]||".."===a[0]))break;b>0&&(a.splice(b-1,2),b-=2)}}function c(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p=c&&c.split("/"),q=p,r=x.map,s=r&&r["*"];if(a&&"."===a.charAt(0)&&(c?(q=getOwn(x.pkgs,c)?p=[c]:p.slice(0,p.length-1),a=q.concat(a.split("/")),b(a),f=getOwn(x.pkgs,e=a[0]),a=a.join("/"),f&&a===e+"/"+f.main&&(a=e)):0===a.indexOf("./")&&(a=a.substring(2))),d&&r&&(p||s)){for(h=a.split("/"),i=h.length;i>0;i-=1){if(k=h.slice(0,i).join("/"),p)for(j=p.length;j>0;j-=1)if(g=getOwn(r,p.slice(0,j).join("/")),g&&(g=getOwn(g,k))){l=g,m=i;break}if(l)break;!n&&s&&getOwn(s,k)&&(n=getOwn(s,k),o=i)}!l&&n&&(l=n,m=o),l&&(h.splice(0,m,l),a=h.join("/"))}return a}function d(a){isBrowser&&each(scripts(),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===u.contextName?(b.parentNode.removeChild(b),!0):void 0})}function e(a){var b=getOwn(x.paths,a);return b&&isArray(b)&&b.length>1?(d(a),b.shift(),u.require.undef(a),u.require([a]),!0):void 0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,b,d,e){var g,h,i,j,k=null,l=b?b.name:null,m=a,n=!0,o="";return a||(n=!1,a="_@r"+(E+=1)),j=f(a),k=j[0],a=j[1],k&&(k=c(k,l,e),h=getOwn(C,k)),a&&(k?o=h&&h.normalize?h.normalize(a,function(a){return c(a,l,e)}):c(a,l,e):(o=c(a,l,e),j=f(o),k=j[0],o=j[1],d=!0,g=u.nameToUrl(o))),i=!k||h||d?"":"_unnormalized"+(F+=1),{prefix:k,name:o,parentMap:b,unnormalized:!!i,url:g,originalName:m,isDefine:n,id:(k?k+"!"+o:o)+i}}function h(a){var b=a.id,c=getOwn(y,b);return c||(c=y[b]=new u.Module(a)),c}function i(a,b,c){var d=a.id,e=getOwn(y,d);!hasProp(C,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(C[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=getOwn(y,b);c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function k(){globalDefQueue.length&&(apsp.apply(B,[B.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function l(a){delete y[a],delete z[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=getOwn(y,f);!g||a.depMatched[e]||c[f]||(getOwn(b,f)?(a.defineDep(e,C[f]),a.check()):m(g,b,c))}),c[d]=!0)}function n(){var a,b,c,f,g=1e3*x.waitSeconds,h=g&&u.startTime+g<(new Date).getTime(),i=[],k=[],l=!1,o=!0;if(!s){if(s=!0,eachProp(z,function(c){if(a=c.map,b=a.id,c.enabled&&(a.isDefine||k.push(c),!c.error))if(!c.inited&&h)e(b)?(f=!0,l=!0):(i.push(b),d(b));else if(!c.inited&&c.fetched&&a.isDefine&&(l=!0,!a.prefix))return o=!1}),h&&i.length)return c=makeError("timeout","Load timeout for modules: "+i,null,i),c.contextName=u.contextName,j(c);o&&each(k,function(a){m(a,{},{})}),h&&!f||!l||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,n()},50)),s=!1}}function o(a){hasProp(C,a[0])||h(g(a[0],null,!0)).init(a[1],a[2])}function p(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function q(a){var b=a.currentTarget||a.srcElement;return p(b,u.onScriptLoad,"load","onreadystatechange"),p(b,u.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function r(){var a;for(k();B.length;){if(a=B.shift(),null===a[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}}var s,t,u,v,w,x={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},y={},z={},A={},B=[],C={},D={},E=1,F=1;return v={require:function(a){return a.require?a.require:a.require=u.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?a.exports:a.exports=C[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){var b,c=getOwn(x.pkgs,a.map.id);return b=c?getOwn(x.config,a.map.id+"/"+c.main):getOwn(x.config,a.map.id),b||{}},exports:C[a.map.id]}}},t=function(a){this.events=getOwn(A,a.id)||{},this.map=a,this.shim=getOwn(x.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},t.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,u.startTime=(new Date).getTime();var a=this.map;return this.shim?void u.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;D[a]||(D[a]=!0,u.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,d=this.depExports,e=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(f)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{e=u.execCb(c,f,d,e)}catch(g){a=g}else e=u.execCb(c,f,d,e);if(this.map.isDefine&&(b=this.module,b&&void 0!==b.exports&&b.exports!==this.exports?e=b.exports:void 0===e&&this.usingExports&&(e=this.exports)),a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a)}else e=f;this.exports=e,this.map.isDefine&&!this.ignore&&(C[c]=e,req.onResourceLoad&&req.onResourceLoad(u,this.map,this.depMaps)),l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",bind(this,function(d){var e,f,k,m=this.map.name,n=this.map.parentMap?this.map.parentMap.name:null,o=u.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(d.normalize&&(m=d.normalize(m,function(a){return c(a,n,!0)})||""),f=g(a.prefix+"!"+m,this.map.parentMap),i(f,"defined",bind(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=getOwn(y,f.id),void(k&&(this.depMaps.push(f),this.events.error&&k.on("error",bind(this,function(a){this.emit("error",a)})),k.enable()))):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(y,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=bind(this,function(c,d){var f=a.name,i=g(f),k=useInteractive;d&&(c=d),k&&(useInteractive=!1),h(i),hasProp(x.config,b)&&(x.config[f]=x.config[b]);try{req.exec(c)}catch(l){return j(makeError("fromtexteval","fromText eval for "+b+" failed: "+l,l,[b]))}k&&(useInteractive=!0),this.depMaps.push(i),u.completeLoad(f),o([f],e)}),void d.load(a.name,o,e,x))})),u.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){z[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,d,e;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,e=getOwn(v,a.id))return void(this.depExports[b]=e(this));this.depCount+=1,i(a,"defined",bind(this,function(a){this.defineDep(b,a),this.check()})),this.errback&&i(a,"error",bind(this,this.errback))}c=a.id,d=y[c],hasProp(v,c)||!d||d.enabled||u.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=getOwn(y,a.id);b&&!b.enabled&&u.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},u={config:x,contextName:a,registry:y,defined:C,urlFetched:D,defQueue:B,Module:t,makeModuleMap:g,nextTick:req.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=x.pkgs,c=x.shim,d={paths:!0,config:!0,map:!0};eachProp(a,function(a,b){d[b]?"map"===b?(x.map||(x.map={}),mixin(x[b],a,!0,!0)):mixin(x[b],a,!0):x[b]=a}),a.shim&&(eachProp(a.shim,function(a,b){isArray(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=u.makeShimExports(a)),c[b]=a}),x.shim=c),a.packages&&(each(a.packages,function(a){var c;a="string"==typeof a?{name:a}:a,c=a.location,b[a.name]={name:a.name,location:c||a.name,main:(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),x.pkgs=b),eachProp(y,function(a,b){a.inited||a.map.unnormalized||(a.map=g(b))}),(a.deps||a.callback)&&u.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||a.exports&&getGlobal(a.exports)}return b},makeRequire:function(b,d){function e(c,f,i){var k,l,m;return d.enableBuildCallback&&f&&isFunction(f)&&(f.__requireJsBuild=!0),"string"==typeof c?isFunction(f)?j(makeError("requireargs","Invalid require call"),i):b&&hasProp(v,c)?v[c](y[b.id]):req.get?req.get(u,c,b,e):(l=g(c,b,!1,!0),k=l.id,hasProp(C,k)?C[k]:j(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(r(),u.nextTick(function(){r(),m=h(g(null,b)),m.skipMap=d.skipMap,m.init(c,f,i,{enabled:!0}),n()}),e)}return d=d||{},mixin(e,{isBrowser:isBrowser,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0],g="."===f||".."===f;return-1!==e&&(!g||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),u.nameToUrl(c(a,b&&b.id,!0),d,!0)},defined:function(a){return hasProp(C,g(a,b,!1,!0).id)},specified:function(a){return a=g(a,b,!1,!0).id,hasProp(C,a)||hasProp(y,a)}}),b||(e.undef=function(a){k();var c=g(a,b,!0),d=getOwn(y,a);delete C[a],delete D[c.url],delete A[a],d&&(d.events.defined&&(A[a]=d.events),l(a))}),e},enable:function(a){var b=getOwn(y,a.id);b&&h(a).enable()},completeLoad:function(a){var b,c,d,f=getOwn(x.shim,a)||{},g=f.exports;for(k();B.length;){if(c=B.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);o(c)}if(d=getOwn(y,a),!b&&!hasProp(C,a)&&d&&!d.inited){if(!(!x.enforceDefine||g&&getGlobal(g)))return e(a)?void 0:j(makeError("nodefine","No define call for "+a,null,[a]));o([a,f.deps||[],f.exportsFn])}n()},nameToUrl:function(a,b,c){var d,e,f,g,h,i,j,k,l;if(req.jsExtRegExp.test(a))k=a+(b||"");else{for(d=x.paths,e=x.pkgs,h=a.split("/"),i=h.length;i>0;i-=1){if(j=h.slice(0,i).join("/"),f=getOwn(e,j),l=getOwn(d,j)){isArray(l)&&(l=l[0]),h.splice(0,i,l);break}if(f){g=a===f.name?f.location+"/"+f.main:f.location,h.splice(0,i,g);break}}k=h.join("/"),k+=b||(/\?/.test(k)||c?"":".js"),k=("/"===k.charAt(0)||k.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+k}return x.urlArgs?k+((-1===k.indexOf("?")?"?":"&")+x.urlArgs):k},load:function(a,b){req.load(u,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=q(a);u.completeLoad(b.id)}},onScriptError:function(a){var b=q(a);return e(b.id)?void 0:j(makeError("scripterror","Script error for: "+b.id,a,[b.id]))}},u.require=u.makeRequire(),u}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){return"interactive"===a.readyState?interactiveScript=a:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.8",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=getOwn(contexts,g),e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),e.require(a,b,c)},req.config=function(a){return req(a)},req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(a){var b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return b.type=a.scriptType||"text/javascript",b.charset="utf-8",b.async=!0,b},req.load=function(a,b,c){var d,e=a&&a.config||{};if(isBrowser)return d=req.createNode(e,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||isOpera?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,currentlyAddingScript=d,baseElement?head.insertBefore(d,baseElement):head.appendChild(d),currentlyAddingScript=null,d;if(isWebWorker)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(makeError("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},isBrowser&&eachReverse(scripts(),function(a){return head||(head=a.parentNode),dataMain=a.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=null),!b&&isFunction(c)&&(b=[],c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),(e?e.defQueue:globalDefQueue).push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),window.BVCurations={requirejs:requirejs,require:require,define:define}}(),function(requirejs,require,define){function css_browser_selector(a){var b=a.toLowerCase(),d=function(a){return b.indexOf(a)>-1},e="gecko",f="webkit",g="safari",h="opera",i="mobile",j=document.documentElement,k=[!/opera|webtv/i.test(b)&&/msie\s(\d)/.test(b)?"ie ie"+RegExp.$1:d("firefox/2")?e+" ff2":d("firefox/3.5")?e+" ff3 ff3_5":d("firefox/3.6")?e+" ff3 ff3_6":d("firefox/3")?e+" ff3":d("gecko/")?e:d("opera")?h+(/version\/(\d+)/.test(b)?" "+h+RegExp.$1:/opera(\s|\/)(\d+)/.test(b)?" "+h+RegExp.$2:""):d("konqueror")?"konqueror":d("blackberry")?i+" blackberry":d("android")?i+" android":d("chrome")?f+" chrome":d("iron")?f+" iron":d("applewebkit/")?f+" "+g+(/version\/(\d+)/.test(b)?" "+g+RegExp.$1:""):d("mozilla/")?e:"",d("j2me")?i+" j2me":d("iphone")?i+" iphone":d("ipod")?i+" ipod":d("ipad")?i+" ipad":d("mac")?"mac":d("darwin")?"mac":d("webtv")?"webtv":d("win")?"win"+(d("windows nt 6.0")?" vista":""):d("freebsd")?"freebsd":d("x11")||d("linux")?"linux":"","js"];return c=k.join(" "),j.className+=" "+c,c}(function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.5.2";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=x.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?void 0:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d},x.sample=function(a,b,c){return arguments.length<2||c?a[x.random(a.length-1)]:x.shuffle(a).slice(0,Math.max(0,b))};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var C=function(a){return function(b,c,d){var e={},f=null==c?x.identity:B(c);return y(b,function(c,g){var h=f.call(d,c,g,b);a(e,h,c)}),e}};x.groupBy=C(function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)}),x.indexBy=C(function(a,b,c){a[b]=c}),x.countBy=C(function(a,b){x.has(a,b)?a[b]++:a[b]=1}),x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},x.pairs=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},x.invert=function(a){for(var b={},c=x.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this),define("loadIfConfigured",["underscore"],function(a){var b={BVCarousel:"carousel",BVGridHub:"grid",BVColumnsHub:"columns",BVPhotobox:"photobox"};
return{load:function(c,d,e,f){var g=f.clientConfig||window.BV_WIDGET_CONFIG,h=~c.indexOf("/")?c.substring(c.lastIndexOf("/")+1):c,i={},j=b[h];a(g.WidgetConfigs).each(function(a){a.type&&(i[a.type]=!0),i.carousel=!0}),j&&i[j]?d([c],function(a){e(a)}):e({})}}}),function(a,b){function c(a){var b=ob[a]={};return $.each(a.split(bb),function(a,c){b[c]=!0}),b}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(qb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:pb.test(d)?$.parseJSON(d):d}catch(f){}$.data(a,c,d)}else d=b}return d}function e(a){var b;for(b in a)if(("data"!==b||!$.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(){return!1}function g(){return!0}function h(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function i(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function j(a,b,c){if(b=b||0,$.isFunction(b))return $.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return $.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=$.grep(a,function(a){return 1===a.nodeType});if(Kb.test(b))return $.filter(b,d,!c);b=$.filter(b,d)}return $.grep(a,function(a){return $.inArray(a,b)>=0===c})}function k(a){var b=Nb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function m(a,b){if(1===b.nodeType&&$.hasData(a)){var c,d,e,f=$._data(a),g=$._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)$.event.add(b,c,h[c][d])}g.data&&(g.data=$.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),$.support.html5Clone&&a.innerHTML&&!$.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Xb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute($.expando))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){Xb.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=rc.length;e--;)if(b=rc[e]+c,b in a)return b;return d}function r(a,b){return a=b||a,"none"===$.css(a,"display")||!$.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)c=a[f],c.style&&(e[f]=$._data(c,"olddisplay"),b?(e[f]||"none"!==c.style.display||(c.style.display=""),""===c.style.display&&r(c)&&(e[f]=$._data(c,"olddisplay",w(c.nodeName)))):(d=cc(c,"display"),e[f]||"none"===d||$._data(c,"olddisplay",d)));for(f=0;g>f;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function t(a,b,c){var d=kc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function u(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;4>e;e+=2)"margin"===c&&(f+=$.css(a,c+qc[e],!0)),d?("content"===c&&(f-=parseFloat(cc(a,"padding"+qc[e]))||0),"margin"!==c&&(f-=parseFloat(cc(a,"border"+qc[e]+"Width"))||0)):(f+=parseFloat(cc(a,"padding"+qc[e]))||0,"padding"!==c&&(f+=parseFloat(cc(a,"border"+qc[e]+"Width"))||0));return f}function v(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=$.support.boxSizing&&"border-box"===$.css(a,"boxSizing");if(0>=d||null==d){if(d=cc(a,b),(0>d||null==d)&&(d=a.style[b]),lc.test(d))return d;e=f&&($.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+u(a,b,c||(f?"border":"content"),e)+"px"}function w(a){if(nc[a])return nc[a];var b=$("<"+a+">").appendTo(P.body),c=b.css("display");return b.remove(),("none"===c||""===c)&&(dc=P.body.appendChild(dc||$.extend(P.createElement("iframe"),{frameBorder:0,width:0,height:0})),ec&&dc.createElement||(ec=(dc.contentWindow||dc.contentDocument).document,ec.write("<!doctype html><html><body>"),ec.close()),b=ec.body.appendChild(ec.createElement(a)),c=cc(b,"display"),P.body.removeChild(dc)),nc[a]=c,c}function x(a,b,c,d){var e;if($.isArray(b))$.each(b,function(b,e){c||uc.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==$.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}function y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(bb),h=0,i=g.length;if($.isFunction(c))for(;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function z(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===Kc;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=z(a,c,d,e,h,g)));return!l&&h||g["*"]||(h=z(a,c,d,e,"*",g)),h}function A(a,c){var d,e,f=$.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&$.extend(!0,a,e)}function B(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function C(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function D(){try{return new a.XMLHttpRequest}catch(b){}}function E(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function F(){return setTimeout(function(){Vc=b},0),Vc=$.now()}function G(a,b){$.each(b,function(b,c){for(var d=(_c[b]||[]).concat(_c["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function H(a,b,c){var d,e=0,f=$c.length,g=$.Deferred().always(function(){delete h.elem}),h=function(){for(var b=Vc||F(),c=Math.max(0,i.startTime+i.duration-b),d=c/i.duration||0,e=1-d,f=0,h=i.tweens.length;h>f;f++)i.tweens[f].run(e);return g.notifyWith(a,[i,e,c]),1>e&&h?c:(g.resolveWith(a,[i]),!1)},i=g.promise({elem:a,props:$.extend({},b),opts:$.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Vc||F(),duration:c.duration,tweens:[],createTween:function(b,c){var d=$.Tween(a,i.opts,b,c,i.opts.specialEasing[b]||i.opts.easing);return i.tweens.push(d),d},stop:function(b){for(var c=0,d=b?i.tweens.length:0;d>c;c++)i.tweens[c].run(1);return b?g.resolveWith(a,[i,b]):g.rejectWith(a,[i,b]),this}}),j=i.props;for(I(j,i.opts.specialEasing);f>e;e++)if(d=$c[e].call(i,a,j,i.opts))return d;return G(i,j),$.isFunction(i.opts.start)&&i.opts.start.call(a,i),$.fx.timer($.extend(h,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}function I(a,b){var c,d,e,f,g;for(c in a)if(d=$.camelCase(c),e=b[d],f=a[c],$.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=$.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function J(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&r(a);c.queue||(k=$._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,$.queue(a,"fx").length||k.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===$.css(a,"display")&&"none"===$.css(a,"float")&&($.support.inlineBlockNeedsLayout&&"inline"!==w(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",$.support.shrinkWrapBlocks||m.done(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],Xc.exec(f)){if(delete b[d],i=i||"toggle"===f,f===(q?"hide":"show"))continue;p.push(d)}if(g=p.length){h=$._data(a,"fxshow")||$._data(a,"fxshow",{}),"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?$(a).show():m.done(function(){$(a).hide()}),m.done(function(){var b;$.removeData(a,"fxshow",!0);for(b in o)$.style(a,b,o[b])});for(d=0;g>d;d++)e=p[d],j=m.createTween(e,q?h[e]:0),o[e]=h[e]||$.style(a,e),e in h||(h[e]=j.start,q&&(j.end=j.start,j.start="width"===e||"height"===e?1:0))}}function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function L(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=qc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function M(a){return $.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var N,O,P=a.document,Q=a.location,R=a.navigator,S=a.jQuery,T=a.$,U=Array.prototype.push,V=Array.prototype.slice,W=Array.prototype.indexOf,X=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,Z=String.prototype.trim,$=function(a,b){return new $.fn.init(a,b,N)},_=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ab=/\S/,bb=/\s+/,cb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,db=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,eb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fb=/^[\],:{}\s]*$/,gb=/(?:^|:|,)(?:\s*\[)+/g,hb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ib=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,jb=/^-ms-/,kb=/-([\da-z])/gi,lb=function(a,b){return(b+"").toUpperCase()},mb=function(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",mb,!1),$.ready()):"complete"===P.readyState&&(P.detachEvent("onreadystatechange",mb),$.ready())},nb={};$.fn=$.prototype={constructor:$,init:function(a,c,d){var e,f,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:db.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1])return c=c instanceof $?c[0]:c,g=c&&c.nodeType?c.ownerDocument||c:P,a=$.parseHTML(e[1],g,!0),eb.test(e[1])&&$.isPlainObject(c)&&this.attr.call(a,c,!0),$.merge(this,a);if(f=P.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=P,this.selector=a,this}return $.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),$.makeArray(a,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=$.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return $.each(this,a,b)},ready:function(a){return $.ready.promise().done(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(a){return this.pushStack($.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},$.fn.init.prototype=$.fn,$.extend=$.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||$.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&($.isPlainObject(e)||(f=$.isArray(e)))?(f?(f=!1,g=d&&$.isArray(d)?d:[]):g=d&&$.isPlainObject(d)?d:{},h[c]=$.extend(k,g,e)):e!==b&&(h[c]=e));return h},$.extend({noConflict:function(b){return a.$===$&&(a.$=T),b&&a.jQuery===$&&(a.jQuery=S),$},isReady:!1,readyWait:1,holdReady:function(a){a?$.readyWait++:$.ready(!0)},ready:function(a){if(a===!0?!--$.readyWait:!$.isReady){if(!P.body)return setTimeout($.ready,1);$.isReady=!0,a!==!0&&--$.readyWait>0||(O.resolveWith(P,[$]),$.fn.trigger&&$(P).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===$.type(a)},isArray:Array.isArray||function(a){return"array"===$.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):nb[X.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==$.type(a)||a.nodeType||$.isWindow(a))return!1;try{if(a.constructor&&!Y.call(a,"constructor")&&!Y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||Y.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||P,(d=eb.exec(a))?[b.createElement(d[1])]:(d=$.buildFragment([a],b,c?null:[]),$.merge([],(d.cacheable?$.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=$.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):fb.test(b.replace(hb,"@").replace(ib,"]").replace(gb,""))?new Function("return "+b)():void $.error("Invalid JSON: "+b)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||$.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&ab.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(jb,"ms-").replace(kb,lb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||$.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:Z&&!Z.call("﻿ ")?function(a){return null==a?"":Z.call(a)}:function(a){return null==a?"":(a+"").replace(cb,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=$.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||$.isWindow(a)?U.call(d,a):$.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(W)return W.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof $||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||$.isArray(a));if(j)for(;i>h;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),$.isFunction(a)?(e=V.call(arguments,2),f=function(){return a.apply(c,e.concat(V.call(arguments)))},f.guid=a.guid=a.guid||$.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)$.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&$.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call($(a),c)}):(c.call(a,e),c=null)),c)for(;l>k;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),$.ready.promise=function(b){if(!O)if(O=$.Deferred(),"complete"===P.readyState)setTimeout($.ready,1);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",mb,!1),a.addEventListener("load",$.ready,!1);else{P.attachEvent("onreadystatechange",mb),a.attachEvent("onload",$.ready);var c=!1;try{c=null==a.frameElement&&P.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!$.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}$.ready()}}()}return O.promise(b)},$.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){nb["[object "+b+"]"]=b.toLowerCase()}),N=$(P);var ob={};$.Callbacks=function(a){a="string"==typeof a?ob[a]||c(a):$.extend({},a);var d,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(d=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function c(b){$.each(b,function(b,d){var e=$.type(d);"function"===e?a.unique&&m.has(d)||j.push(d):d&&d.length&&"string"!==e&&c(d)})}(arguments),f?h=j.length:d&&(g=b,l(d))}return this},remove:function(){return j&&$.each(arguments,function(a,b){for(var c;(c=$.inArray(b,j,c))>-1;)j.splice(c,1),f&&(h>=c&&h--,i>=c&&i--)}),this},has:function(a){return $.inArray(a,j)>-1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||e&&!k||(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},$.extend({Deferred:function(a){var b=[["resolve","done",$.Callbacks("once memory"),"resolved"],["reject","fail",$.Callbacks("once memory"),"rejected"],["notify","progress",$.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return $.Deferred(function(c){$.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]]($.isFunction(g)?function(){var a=g.apply(this,arguments);a&&$.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return null!=a?$.extend(a,d):d}},e={};return d.pipe=d.then,$.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=V.call(arguments),g=f.length,h=1!==g||a&&$.isFunction(a.promise)?g:0,i=1===h?a:$.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?V.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&$.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),$.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m=P.createElement("div");if(m.setAttribute("className","t"),m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0],!c||!d||!c.length)return{};e=P.createElement("select"),f=e.appendChild(P.createElement("option")),g=m.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===P.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete m.test}catch(n){b.deleteExpando=!1}if(!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),g=P.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=P.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m),m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k="function"==typeof m[i]),b[j+"Bubbles"]=k;return $(function(){var c,d,e,f,g="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=P.getElementsByTagName("body")[0];h&&(c=P.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(c,h.firstChild),d=P.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=k&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,f=P.createElement("div"),f.style.cssText=d.style.cssText=g,f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText=g+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),h.removeChild(c),c=d=e=f=null)}),h.removeChild(m),c=d=e=f=g=h=m=null,b}();var pb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,qb=/([A-Z])/g;$.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+($.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?$.cache[a[$.expando]]:a[$.expando],!!a&&!e(a)},data:function(a,c,d,e){if($.acceptData(a)){var f,g,h=$.expando,i="string"==typeof c,j=a.nodeType,k=j?$.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=$.deletedIds.pop()||$.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=$.noop)),("object"==typeof c||"function"==typeof c)&&(e?k[l]=$.extend(k[l],c):k[l].data=$.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[$.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[$.camelCase(c)])):g=f,g}},removeData:function(a,b,c){if($.acceptData(a)){var d,f,g,h=a.nodeType,i=h?$.cache:a,j=h?a[$.expando]:$.expando;if(i[j]){if(b&&(d=c?i[j]:i[j].data)){$.isArray(b)||(b in d?b=[b]:(b=$.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;g>f;f++)delete d[b[f]];if(!(c?e:$.isEmptyObject)(d))return}(c||(delete i[j].data,e(i[j])))&&(h?$.cleanData([a],!0):$.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}},_data:function(a,b,c){return $.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&$.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),$.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length&&(l=$.data(j),1===j.nodeType&&!$._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;i>k;k++)h=g[k].name,h.indexOf("data-")||(h=$.camelCase(h.substring(5)),d(j,h,l[h]));$._data(j,"parsedAttrs",!0)}return l}return"object"==typeof a?this.each(function(){$.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",$.access(this,function(c){return c===b?(l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=$.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l):(e[1]=c,void this.each(function(){var b=$(this);b.triggerHandler("setData"+f,e),$.data(this,a,c),b.triggerHandler("changeData"+f,e)}))},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){$.removeData(this,a)})}}),$.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=$._data(a,b),c&&(!d||$.isArray(c)?d=$._data(a,b,$.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=$.queue(a,b),d=c.length,e=c.shift(),f=$._queueHooks(a,b),g=function(){$.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return $._data(a,c)||$._data(a,c,{empty:$.Callbacks("once memory").add(function(){$.removeData(a,b+"queue",!0),$.removeData(a,c,!0)})})}}),$.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?$.queue(this[0],a):c===b?this:this.each(function(){var b=$.queue(this,a,c);$._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&$.dequeue(this,a)})},dequeue:function(a){return this.each(function(){$.dequeue(this,a)})},delay:function(a,b){return a=$.fx?$.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=$.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=$._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var rb,sb,tb,ub=/[\t\r\n]/g,vb=/\r/g,wb=/^(?:button|input)$/i,xb=/^(?:button|input|object|select|textarea)$/i,yb=/^a(?:rea|)$/i,zb=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ab=$.support.getSetAttribute;$.fn.extend({attr:function(a,b){return $.access(this,$.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){$.removeAttr(this,a)})},prop:function(a,b){return $.access(this,$.prop,a,b,arguments.length>1)},removeProp:function(a){return a=$.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if($.isFunction(a))return this.each(function(b){$(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(bb),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;h>g;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=$.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if($.isFunction(a))return this.each(function(b){$(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(bb),h=0,i=this.length;i>h;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(ub," "),f=0,g=c.length;g>f;f++)for(;d.indexOf(" "+c[f]+" ")>=0;)d=d.replace(" "+c[f]+" "," ");e.className=a?$.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each($.isFunction(a)?function(c){$(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=$(this),h=b,i=a.split(bb);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&$._data(this,"__className__",this.className),this.className=this.className||a===!1?"":$._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=$.isFunction(a),this.each(function(d){var f,g=$(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":$.isArray(f)&&(f=$.map(f,function(a){return null==a?"":a+""})),c=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=$.valHooks[f.type]||$.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(vb,""):null==d?"":d)}}}),$.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||($.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&$.nodeName(c.parentNode,"optgroup"))){if(b=$(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c=$.makeArray(b);return $(a).find("option").each(function(){this.selected=$.inArray($(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&$.isFunction($.fn[c])?$(a)[c](d):"undefined"==typeof a.getAttribute?$.prop(a,c,d):(h=1!==i||!$.isXMLDoc(a),h&&(c=c.toLowerCase(),g=$.attrHooks[c]||(zb.test(c)?sb:rb)),d!==b?null===d?void $.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(bb);g<d.length;g++)e=d[g],e&&(c=$.propFix[e]||e,f=zb.test(e),f||$.attr(a,e,""),a.removeAttribute(Ab?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(wb.test(a.nodeName)&&a.parentNode)$.error("type property can't be changed");else if(!$.support.radioValue&&"radio"===b&&$.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return rb&&$.nodeName(a,"button")?rb.get(a,b):b in a?a.value:null},set:function(a,b,c){return rb&&$.nodeName(a,"button")?rb.set(a,b,c):void(a.value=b)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!$.isXMLDoc(a),g&&(c=$.propFix[c]||c,f=$.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):xb.test(a.nodeName)||yb.test(a.nodeName)&&a.href?0:b}}}}),sb={get:function(a,c){var d,e=$.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?$.removeAttr(a,c):(d=$.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},Ab||(tb={name:!0,id:!0,coords:!0},rb=$.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(tb[c]?""!==d.value:d.specified)?d.value:b
},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=P.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},$.each(["width","height"],function(a,b){$.attrHooks[b]=$.extend($.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),$.attrHooks.contenteditable={get:rb.get,set:function(a,b,c){""===b&&(b="false"),rb.set(a,b,c)}}),$.support.hrefNormalized||$.each(["href","src","width","height"],function(a,c){$.attrHooks[c]=$.extend($.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),$.support.style||($.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),$.support.optSelected||($.propHooks.selected=$.extend($.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),$.support.enctype||($.propFix.enctype="encoding"),$.support.checkOn||$.each(["radio","checkbox"],function(){$.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]=$.extend($.valHooks[this],{set:function(a,b){return $.isArray(b)?a.checked=$.inArray($(a).val(),b)>=0:void 0}})});var Bb=/^(?:textarea|input|select)$/i,Cb=/^([^\.]*|)(?:\.(.+)|)$/,Db=/(?:^|\s)hover(\.\S+|)\b/,Eb=/^key/,Fb=/^(?:mouse|contextmenu)|click/,Gb=/^(?:focusinfocus|focusoutblur)$/,Hb=function(a){return $.event.special.hover?a:a.replace(Db,"mouseenter$1 mouseleave$1")};$.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=$._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=$.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof $||a&&$.event.triggered===a.type?b:$.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=$.trim(Hb(c)).split(" "),j=0;j<c.length;j++)k=Cb.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=$.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=$.event.special[l]||{},n=$.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&$.expr.match.needsContext.test(f),namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),$.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=$.hasData(a)&&$._data(a);if(q&&(m=q.events)){for(b=$.trim(Hb(b||"")).split(" "),f=0;f<b.length;f++)if(g=Cb.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=$.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)p=o[l],!e&&i!==p.origType||c&&c.guid!==p.guid||j&&!j.test(p.namespace)||d&&d!==p.selector&&("**"!==d||!p.selector)||(o.splice(l--,1),p.selector&&o.delegateCount--,n.remove&&n.remove.call(a,p));0===o.length&&k!==o.length&&(n.teardown&&n.teardown.call(a,j,q.handle)!==!1||$.removeEvent(a,h,q.handle),delete m[h])}else for(h in m)$.event.remove(a,h+b[f],c,d,!0);$.isEmptyObject(m)&&(delete q.handle,$.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(!Gb.test(q+$.event.triggered)&&(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),e&&!$.event.customEvent[q]||$.event.global[q]))if(c="object"==typeof c?c[$.expando]?c:new $.Event(q,c):new $.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",e){if(c.result=b,c.target||(c.target=e),d=null!=d?$.makeArray(d):[],d.unshift(c),m=$.event.special[q]||{},!m.trigger||m.trigger.apply(e,d)!==!1){if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!$.isWindow(e)){for(p=m.delegateType||q,j=Gb.test(p+q)?e:e.parentNode,k=e;j;j=j.parentNode)o.push([j,p]),k=j;k===(e.ownerDocument||P)&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=($._data(j,"events")||{})[c.type]&&$._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&$.acceptData(j)&&n.apply&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&$.nodeName(e,"a")||!$.acceptData(e)||l&&e[q]&&("focus"!==q&&"blur"!==q||0!==c.target.offsetWidth)&&!$.isWindow(e)&&(k=e[l],k&&(e[l]=null),$.event.triggered=q,e[q](),$.event.triggered=b,k&&(e[l]=k)),c.result}}else{g=$.cache;for(i in g)g[i].events&&g[i].events[q]&&$.event.trigger(c,d,g[i].handle.elem,!0)}}},dispatch:function(c){c=$.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m=($._data(this,"events")||{})[c.type]||[],n=m.delegateCount,o=V.call(arguments),p=!c.exclusive&&!c.namespace,q=$.event.special[c.type]||{},r=[];if(o[0]=c,c.delegateTarget=this,!q.preDispatch||q.preDispatch.call(this,c)!==!1){if(n&&(!c.button||"click"!==c.type))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==c.type){for(h={},j=[],d=0;n>d;d++)k=m[d],l=k.selector,h[l]===b&&(h[l]=k.needsContext?$(l,this).index(f)>=0:$.find(l,this,null,[f]).length),h[l]&&j.push(k);j.length&&r.push({elem:f,matches:j})}for(m.length>n&&r.push({elem:this,matches:m.slice(n)}),d=0;d<r.length&&!c.isPropagationStopped();d++)for(i=r[d],c.currentTarget=i.elem,e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++)k=i.matches[e],(p||!c.namespace&&!k.namespace||c.namespace_re&&c.namespace_re.test(k.namespace))&&(c.data=k.data,c.handleObj=k,g=(($.event.special[k.origType]||{}).handle||k.handler).apply(i.elem,o),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation())));return q.postDispatch&&q.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||P,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[$.expando])return a;var b,c,d=a,e=$.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;for(a=$.Event(d),b=f.length;b;)c=f[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||P),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,e.filter?e.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){$.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=$.extend(new $.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?$.event.trigger(e,null,b):$.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},$.event.handle=$.event.dispatch,$.removeEvent=P.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},$.Event=function(a,b){return this instanceof $.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?g:f):this.type=a,b&&$.extend(this,b),this.timeStamp=a&&a.timeStamp||$.now(),void(this[$.expando]=!0)):new $.Event(a,b)},$.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f},$.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){$.event.special[a]={delegateType:b,bindType:b,handle:function(a){{var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector}return(!e||e!==d&&!$.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),$.support.submitBubbles||($.event.special.submit={setup:function(){return $.nodeName(this,"form")?!1:void $.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=$.nodeName(c,"input")||$.nodeName(c,"button")?c.form:b;d&&!$._data(d,"_submit_attached")&&($.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),$._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&$.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return $.nodeName(this,"form")?!1:void $.event.remove(this,"._submit")}}),$.support.changeBubbles||($.event.special.change={setup:function(){return Bb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&($.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),$.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),$.event.simulate("change",this,a,!0)})),!1):void $.event.add(this,"beforeactivate._change",function(a){var b=a.target;Bb.test(b.nodeName)&&!$._data(b,"_change_attached")&&($.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||$.event.simulate("change",this.parentNode,a,!0)}),$._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return $.event.remove(this,"._change"),!Bb.test(this.nodeName)}}),$.support.focusinBubbles||$.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){$.event.simulate(b,a.target,$.event.fix(a),!0)};$.event.special[b]={setup:function(){0===c++&&P.addEventListener(a,d,!0)},teardown:function(){0===--c&&P.removeEventListener(a,d,!0)}}}),$.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=f;else if(!e)return this;return 1===g&&(h=e,e=function(a){return $().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=$.guid++)),this.each(function(){$.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,$(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=f),this.each(function(){$.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return $(this.context).on(a,this.selector,b,c),this},die:function(a,b){return $(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){$.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?$.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||$.guid++,d=0,e=function(c){var e=($._data(this,"lastToggle"+a.guid)||0)%d;return $._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){$.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Eb.test(b)&&($.event.fixHooks[b]=$.event.keyHooks),Fb.test(b)&&($.event.fixHooks[b]=$.event.mouseHooks)}),function(a,b){function c(a,b,c,d){c=c||[],b=b||F;var e,f,g,h,i=b.nodeType;if(!a||"string"!=typeof a)return c;if(1!==i&&9!==i)return[];if(g=v(b),!g&&!d&&(e=cb.exec(a)))if(h=e[1]){if(9===i){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&w(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return K.apply(c,L.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&mb&&b.getElementsByClassName)return K.apply(c,L.call(b.getElementsByClassName(h),0)),c}return p(a.replace(Z,"$1"),b,c,d,g)}function d(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function e(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function f(a){return N(function(b){return b=+b,N(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function g(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}function h(a,b){var d,e,f,g,h,i,j,k=Q[D][a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=t.preFilter;h;){(!d||(e=_.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ab.exec(h))&&(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=e[0].replace(Z," "));for(g in t.filter)!(e=hb[g].exec(h))||j[g]&&!(e=j[g](e))||(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=g,d.matches=e);if(!d)break}return b?h.length:h?c.error(a):Q(a,i).slice(0)}function i(a,b,c){var d=b.dir,e=c&&"parentNode"===b.dir,f=I++;return b.first?function(b,c,f){for(;b=b[d];)if(e||1===b.nodeType)return a(b,c,f)}:function(b,c,g){if(g){for(;b=b[d];)if((e||1===b.nodeType)&&a(b,c,g))return b}else for(var h,i=H+" "+f+" ",j=i+r;b=b[d];)if(e||1===b.nodeType){if((h=b[D])===j)return b.sizset;if("string"==typeof h&&0===h.indexOf(i)){if(b.sizset)return b}else{if(b[D]=j,a(b,c,g))return b.sizset=!0,b;b.sizset=!1}}}}function j(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function k(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function l(a,b,c,d,e,f){return d&&!d[D]&&(d=l(d)),e&&!e[D]&&(e=l(e,f)),N(function(f,g,h,i){var j,l,m,n=[],p=[],q=g.length,r=f||o(b||"*",h.nodeType?[h]:h,[]),s=!a||!f&&b?r:k(r,n,a,h,i),t=c?e||(f?a:q||d)?[]:g:s;if(c&&c(s,t,h,i),d)for(j=k(t,p),d(j,[],h,i),l=j.length;l--;)(m=j[l])&&(t[p[l]]=!(s[p[l]]=m));if(f){if(e||a){if(e){for(j=[],l=t.length;l--;)(m=t[l])&&j.push(s[l]=m);e(null,t=[],j,i)}for(l=t.length;l--;)(m=t[l])&&(j=e?M.call(f,m):n[l])>-1&&(f[j]=!(g[j]=m))}}else t=k(t===g?t.splice(q,t.length):t),e?e(null,g,t,i):K.apply(g,t)})}function m(a){for(var b,c,d,e=a.length,f=t.relative[a[0].type],g=f||t.relative[" "],h=f?1:0,k=i(function(a){return a===b},g,!0),n=i(function(a){return M.call(b,a)>-1},g,!0),o=[function(a,c,d){return!f&&(d||c!==A)||((b=c).nodeType?k(a,c,d):n(a,c,d))}];e>h;h++)if(c=t.relative[a[h].type])o=[i(j(o),c)];else{if(c=t.filter[a[h].type].apply(null,a[h].matches),c[D]){for(d=++h;e>d&&!t.relative[a[d].type];d++);return l(h>1&&j(o),h>1&&a.slice(0,h-1).join("").replace(Z,"$1"),c,d>h&&m(a.slice(h,d)),e>d&&m(a=a.slice(d)),e>d&&a.join(""))}o.push(c)}return j(o)}function n(a,b){var d=b.length>0,e=a.length>0,f=function(g,h,i,j,l){var m,n,o,p=[],q=0,s="0",u=g&&[],v=null!=l,w=A,x=g||e&&t.find.TAG("*",l&&h.parentNode||h),y=H+=null==w?1:Math.E;for(v&&(A=h!==F&&h,r=f.el);null!=(m=x[s]);s++){if(e&&m){for(n=0;o=a[n];n++)if(o(m,h,i)){j.push(m);break}v&&(H=y,r=++f.el)}d&&((m=!o&&m)&&q--,g&&u.push(m))}if(q+=s,d&&s!==q){for(n=0;o=b[n];n++)o(u,p,h,i);if(g){if(q>0)for(;s--;)u[s]||p[s]||(p[s]=J.call(j));p=k(p)}K.apply(j,p),v&&!g&&p.length>0&&q+b.length>1&&c.uniqueSort(j)}return v&&(H=y,A=w),u};return f.el=0,d?N(f):f}function o(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function p(a,b,c,d,e){{var f,g,i,j,k,l=h(a);l.length}if(!d&&1===l.length){if(g=l[0]=l[0].slice(0),g.length>2&&"ID"===(i=g[0]).type&&9===b.nodeType&&!e&&t.relative[g[1].type]){if(b=t.find.ID(i.matches[0].replace(gb,""),b,e)[0],!b)return c;a=a.slice(g.shift().length)}for(f=hb.POS.test(a)?-1:g.length-1;f>=0&&(i=g[f],!t.relative[j=i.type]);f--)if((k=t.find[j])&&(d=k(i.matches[0].replace(gb,""),db.test(g[0].type)&&b.parentNode||b,e))){if(g.splice(f,1),a=d.length&&g.join(""),!a)return K.apply(c,L.call(d,0)),c;break}}return x(a,l)(d,b,e,c,db.test(a)),c}function q(){}var r,s,t,u,v,w,x,y,z,A,B=!0,C="undefined",D=("sizcache"+Math.random()).replace(".",""),E=String,F=a.document,G=F.documentElement,H=0,I=0,J=[].pop,K=[].push,L=[].slice,M=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},N=function(a,b){return a[D]=null==b||b,a},O=function(){var a={},b=[];return N(function(c,d){return b.push(c)>t.cacheLength&&delete a[b.shift()],a[c+" "]=d},a)},P=O(),Q=O(),R=O(),S="[\\x20\\t\\r\\n\\f]",T="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=T.replace("w","w#"),V="([*^$|!~]?=)",W="\\["+S+"*("+T+")"+S+"*(?:"+V+S+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+S+"*\\]",X=":("+T+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+W+")|[^:]|\\\\.)*|.*))\\)|)",Y=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+S+"*((?:-\\d)?\\d*)"+S+"*\\)|)(?=[^-]|$)",Z=new RegExp("^"+S+"+|((?:^|[^\\\\])(?:\\\\.)*)"+S+"+$","g"),_=new RegExp("^"+S+"*,"+S+"*"),ab=new RegExp("^"+S+"*([\\x20\\t\\r\\n\\f>+~])"+S+"*"),bb=new RegExp(X),cb=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,db=/[\x20\t\r\n\f]*[+~]/,eb=/h\d/i,fb=/input|select|textarea|button/i,gb=/\\(?!\\)/g,hb={ID:new RegExp("^#("+T+")"),CLASS:new RegExp("^\\.("+T+")"),NAME:new RegExp("^\\[name=['\"]?("+T+")['\"]?\\]"),TAG:new RegExp("^("+T.replace("w","w*")+")"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+X),POS:new RegExp(Y,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+S+"*(even|odd|(([+-]|)(\\d*)n|)"+S+"*(?:([+-]|)"+S+"*(\\d+)|))"+S+"*\\)|)","i"),needsContext:new RegExp("^"+S+"*[>+~]|"+Y,"i")},ib=function(a){var b=F.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},jb=ib(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),kb=ib(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==C&&"#"===a.firstChild.getAttribute("href")}),lb=ib(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),mb=ib(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),nb=ib(function(a){a.id=D+0,a.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",G.insertBefore(a,G.firstChild);var b=F.getElementsByName&&F.getElementsByName(D).length===2+F.getElementsByName(D+0).length;return s=!F.getElementById(D),G.removeChild(a),b});try{L.call(G.childNodes,0)[0].nodeType}catch(ob){L=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){return c(b,null,null,[a]).length>0},u=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=u(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=u(b);return c},v=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},w=c.contains=G.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:G.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},c.attr=function(a,b){var c,d=v(a);return d||(b=b.toLowerCase()),(c=t.attrHandle[b])?c(a):d||lb?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},t=c.selectors={cacheLength:50,createPseudo:N,match:hb,attrHandle:kb?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:s?function(a,b,c){if(typeof b.getElementById!==C&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==C&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==C&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:jb?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c},NAME:nb&&function(a,b){return typeof b.getElementsByName!==C?b.getElementsByName(name):void 0},CLASS:mb&&function(a,b,c){return typeof b.getElementsByClassName===C||c?void 0:b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(gb,""),a[3]=(a[4]||a[5]||"").replace(gb,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]),a},PSEUDO:function(a){var b,c;return hb.CHILD.test(a[0])?null:(a[3]?a[2]=a[3]:(b=a[4])&&(bb.test(b)&&(c=h(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b),a.slice(0,3))}},filter:{ID:s?function(a){return a=a.replace(gb,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(gb,""),function(b){var c=typeof b.getAttributeNode!==C&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(gb,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=P[D][a+" "];return b||(b=new RegExp("(^|"+S+")"+a+"("+S+"|$)"))&&P(a,function(a){return b.test(a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.substr(f.length-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.substr(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d){return"nth"===a?function(a){var b,e,f=a.parentNode;if(1===c&&0===d)return!0;if(f)for(e=0,b=f.firstChild;b&&(1!==b.nodeType||(e++,a!==b));b=b.nextSibling);return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var d,e=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return e[D]?e(b):e.length>1?(d=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?N(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=M.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:N(function(a){var b=[],c=[],d=x(a.replace(Z,"$1"));return d[D]?N(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:N(function(a){return function(b){return c(a,b).length>0}}),contains:N(function(a){return function(b){return(b.textContent||b.innerText||u(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return eb.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:d("radio"),checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:e("submit"),reset:e("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return fb.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[0>c?c+b:c]}),even:f(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:f(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:f(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y=G.compareDocumentPosition?function(a,b){return a===b?(z=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return z=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return g(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return g(e[k],f[k]);return k===c?g(a,f[k],-1):g(e[k],b,1)},[0,0].sort(y),B=!z,c.uniqueSort=function(a){var b,c=[],d=1,e=0;if(z=B,a.sort(y),z){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},x=c.compile=function(a,b){var c,d=[],e=[],f=R[D][a+" "];if(!f){for(b||(b=h(a)),c=b.length;c--;)f=m(b[c]),f[D]?d.push(f):e.push(f);f=R(a,n(e,d))}return f},F.querySelectorAll&&!function(){var a,b=p,d=/'|\\/g,e=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,f=[":focus"],g=[":active"],i=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector;ib(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||f.push("\\["+S+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||f.push(":checked")}),ib(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&f.push("[*^$]="+S+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||f.push(":enabled",":disabled")}),f=new RegExp(f.join("|")),p=function(a,c,e,g,i){if(!g&&!i&&!f.test(a)){var j,k,l=!0,m=D,n=c,o=9===c.nodeType&&a;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){for(j=h(a),(l=c.getAttribute("id"))?m=l.replace(d,"\\$&"):c.setAttribute("id",m),m="[id='"+m+"'] ",k=j.length;k--;)j[k]=m+j[k].join("");n=db.test(a)&&c.parentNode||c,o=j.join(",")}if(o)try{return K.apply(e,L.call(n.querySelectorAll(o),0)),e}catch(p){}finally{l||c.removeAttribute("id")}}return b(a,c,e,g,i)},i&&(ib(function(b){a=i.call(b,"div");try{i.call(b,"[test!='']:sizzle"),g.push("!=",X)}catch(c){}}),g=new RegExp(g.join("|")),c.matchesSelector=function(b,d){if(d=d.replace(e,"='$1']"),!v(b)&&!g.test(d)&&!f.test(d))try{var h=i.call(b,d);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(j){}return c(d,null,null,[b]).length>0})}(),t.pseudos.nth=t.pseudos.eq,t.filters=q.prototype=t.pseudos,t.setFilters=new q,c.attr=$.attr,$.find=c,$.expr=c.selectors,$.expr[":"]=$.expr.pseudos,$.unique=c.uniqueSort,$.text=c.getText,$.isXMLDoc=c.isXML,$.contains=c.contains}(a);var Ib=/Until$/,Jb=/^(?:parents|prev(?:Until|All))/,Kb=/^.[^:#\[\.,]*$/,Lb=$.expr.match.needsContext,Mb={children:!0,contents:!0,next:!0,prev:!0};$.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return $(a).filter(function(){for(b=0,c=h.length;c>b;b++)if($.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;c>b;b++)if(d=g.length,$.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;d>f;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=$(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if($.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Lb.test(a)?$(a,this.context).index(this[0])>=0:$.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Lb.test(a)||"string"!=typeof a?$(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:$.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?$.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?$.inArray(this[0],$(a)):$.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?$(a,b):$.makeArray(a&&a.nodeType?[a]:a),d=$.merge(this.get(),c);return this.pushStack(h(c[0])||h(d[0])?d:$.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),$.fn.andSelf=$.fn.addBack,$.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return $.dir(a,"parentNode")},parentsUntil:function(a,b,c){return $.dir(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return $.dir(a,"nextSibling")},prevAll:function(a){return $.dir(a,"previousSibling")},nextUntil:function(a,b,c){return $.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return $.dir(a,"previousSibling",c)},siblings:function(a){return $.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return $.sibling(a.firstChild)},contents:function(a){return $.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:$.merge([],a.childNodes)}},function(a,b){$.fn[a]=function(c,d){var e=$.map(this,b,c);return Ib.test(a)||(d=c),d&&"string"==typeof d&&(e=$.filter(d,e)),e=this.length>1&&!Mb[a]?$.unique(e):e,this.length>1&&Jb.test(a)&&(e=e.reverse()),this.pushStack(e,a,V.call(arguments).join(","))}}),$.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?$.find.matchesSelector(b[0],a)?[b[0]]:[]:$.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!$(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];
return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Nb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ob=/ jQuery\d+="(?:null|\d+)"/g,Pb=/^\s+/,Qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rb=/<([\w:]+)/,Sb=/<tbody/i,Tb=/<|&#?\w+;/,Ub=/<(?:script|style|link)/i,Vb=/<(?:script|object|embed|option|style)/i,Wb=new RegExp("<(?:"+Nb+")[\\s/>]","i"),Xb=/^(?:checkbox|radio)$/,Yb=/checked\s*(?:[^=]|=\s*.checked.)/i,Zb=/\/(java|ecma)script/i,$b=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,_b={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ac=k(P),bc=ac.appendChild(P.createElement("div"));_b.optgroup=_b.option,_b.tbody=_b.tfoot=_b.colgroup=_b.caption=_b.thead,_b.th=_b.td,$.support.htmlSerialize||(_b._default=[1,"X<div>","</div>"]),$.fn.extend({text:function(a){return $.access(this,function(a){return a===b?$.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if($.isFunction(a))return this.each(function(b){$(this).wrapAll(a.call(this,b))});if(this[0]){var b=$(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each($.isFunction(a)?function(b){$(this).wrapInner(a.call(this,b))}:function(){var b=$(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=$.isFunction(a);return this.each(function(c){$(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(a,this),"before",this.selector)}},after:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||$.filter(a,[c]).length)&&(b||1!==c.nodeType||($.cleanData(c.getElementsByTagName("*")),$.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&$.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return $.clone(this,a,b)})},html:function(a){return $.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Ob,""):b;if(!("string"!=typeof a||Ub.test(a)||!$.support.htmlSerialize&&Wb.test(a)||!$.support.leadingWhitespace&&Pb.test(a)||_b[(Rb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Qb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&($.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h(this[0])?this.length?this.pushStack($($.isFunction(a)?a():a),"replaceWith",a):this:$.isFunction(a)?this.each(function(b){var c=$(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=$(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;$(this).remove(),b?$(b).before(a):$(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],m=this.length;if(!$.support.checkClone&&m>1&&"string"==typeof j&&Yb.test(j))return this.each(function(){$(this).domManip(a,c,d)});if($.isFunction(j))return this.each(function(e){var f=$(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=$.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&$.nodeName(f,"tr"),h=e.cacheable||m-1;m>i;i++)d.call(c&&$.nodeName(this[i],"table")?l(this[i],"tbody"):this[i],i===h?g:$.clone(g,!0,!0));g=f=null,k.length&&$.each(k,function(a,b){b.src?$.ajax?$.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):$.error("no ajax"):$.globalEval((b.text||b.textContent||b.innerHTML||"").replace($b,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),$.buildFragment=function(a,c,d){var e,f,g,h=a[0];return c=c||P,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,!(1===a.length&&"string"==typeof h&&h.length<512&&c===P&&"<"===h.charAt(0))||Vb.test(h)||!$.support.checkClone&&Yb.test(h)||!$.support.html5Clone&&Wb.test(h)||(f=!0,e=$.fragments[h],g=e!==b),e||(e=c.createDocumentFragment(),$.clean(a,c,e,d),f&&($.fragments[h]=g&&e)),{fragment:e,cacheable:f}},$.fragments={},$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){$.fn[a]=function(c){var d,e=0,f=[],g=$(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;h>e;e++)d=(e>0?this.clone(!0):this).get(),$(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),$.extend({clone:function(a,b,c){var d,e,f,g;if($.support.html5Clone||$.isXMLDoc(a)||!Wb.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bc.innerHTML=a.outerHTML,bc.removeChild(g=bc.firstChild)),!($.support.noCloneEvent&&$.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||$.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,q,r=b===P&&ac,s=[];for(b&&"undefined"!=typeof b.createDocumentFragment||(b=P),e=0;null!=(g=a[e]);e++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(Tb.test(g)){for(r=r||k(b),l=b.createElement("div"),r.appendChild(l),g=g.replace(Qb,"<$1></$2>"),h=(Rb.exec(g)||["",""])[1].toLowerCase(),i=_b[h]||_b._default,j=i[0],l.innerHTML=i[1]+g+i[2];j--;)l=l.lastChild;if(!$.support.tbody)for(m=Sb.test(g),n="table"!==h||m?"<table>"!==i[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,f=n.length-1;f>=0;--f)$.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f]);!$.support.leadingWhitespace&&Pb.test(g)&&l.insertBefore(b.createTextNode(Pb.exec(g)[0]),l.firstChild),g=l.childNodes,l.parentNode.removeChild(l)}else g=b.createTextNode(g);g.nodeType?s.push(g):$.merge(s,g)}if(l&&(g=l=r=null),!$.support.appendChecked)for(e=0;null!=(g=s[e]);e++)$.nodeName(g,"input")?p(g):"undefined"!=typeof g.getElementsByTagName&&$.grep(g.getElementsByTagName("input"),p);if(c)for(o=function(a){return!a.type||Zb.test(a.type)?d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a):void 0},e=0;null!=(g=s[e]);e++)$.nodeName(g,"script")&&o(g)||(c.appendChild(g),"undefined"!=typeof g.getElementsByTagName&&(q=$.grep($.merge([],g.getElementsByTagName("script")),o),s.splice.apply(s,[e+1,0].concat(q)),e+=q.length));return s},cleanData:function(a,b){for(var c,d,e,f,g=0,h=$.expando,i=$.cache,j=$.support.deleteExpando,k=$.event.special;null!=(e=a[g]);g++)if((b||$.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?$.event.remove(e,f):$.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,$.deletedIds.push(d))}}}),function(){var a,b;$.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=$.uaMatch(R.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),$.browser=b,$.sub=function(){function a(b,c){return new a.fn.init(b,c)}$.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof $&&!(d instanceof a)&&(d=a(d)),$.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(P);return a}}();var cc,dc,ec,fc=/alpha\([^)]*\)/i,gc=/opacity=([^)]*)/,hc=/^(top|right|bottom|left)$/,ic=/^(none|table(?!-c[ea]).+)/,jc=/^margin/,kc=new RegExp("^("+_+")(.*)$","i"),lc=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),mc=new RegExp("^([-+])=("+_+")","i"),nc={BODY:"block"},oc={position:"absolute",visibility:"hidden",display:"block"},pc={letterSpacing:0,fontWeight:400},qc=["Top","Right","Bottom","Left"],rc=["Webkit","O","Moz","ms"],sc=$.fn.toggle;$.fn.extend({css:function(a,c){return $.access(this,function(a,c,d){return d!==b?$.style(a,c,d):$.css(a,c)},a,c,arguments.length>1)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"==typeof a;return $.isFunction(a)&&$.isFunction(b)?sc.apply(this,arguments):this.each(function(){(c?a:r(this))?$(this).show():$(this).hide()})}}),$.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cc(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":$.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=$.camelCase(c),j=a.style;if(c=$.cssProps[i]||($.cssProps[i]=q(j,i)),h=$.cssHooks[c]||$.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=mc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat($.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||$.cssNumber[i]||(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=$.camelCase(c);return c=$.cssProps[i]||($.cssProps[i]=q(a.style,i)),h=$.cssHooks[c]||$.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=cc(a,c)),"normal"===f&&c in pc&&(f=pc[c]),d||e!==b?(g=parseFloat(f),d||$.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?cc=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h.getPropertyValue(c)||h[c],""!==d||$.contains(b.ownerDocument,b)||(d=$.style(b,c)),lc.test(d)&&jc.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:P.documentElement.currentStyle&&(cc=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),lc.test(e)&&!hc.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),$.each(["height","width"],function(a,b){$.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&ic.test(cc(a,"display"))?$.swap(a,oc,function(){return v(a,b,d)}):v(a,b,d):void 0},set:function(a,c,d){return t(a,c,d?u(a,b,d,$.support.boxSizing&&"border-box"===$.css(a,"boxSizing")):0)}}}),$.support.opacity||($.cssHooks.opacity={get:function(a,b){return gc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=$.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===$.trim(f.replace(fc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=fc.test(f)?f.replace(fc,e):f+" "+e)}}),$(function(){$.support.reliableMarginRight||($.cssHooks.marginRight={get:function(a,b){return $.swap(a,{display:"inline-block"},function(){return b?cc(a,"marginRight"):void 0})}}),!$.support.pixelPosition&&$.fn.position&&$.each(["top","left"],function(a,b){$.cssHooks[b]={get:function(a,c){if(c){var d=cc(a,b);return lc.test(d)?$(a).position()[b]+"px":d}}}})}),$.expr&&$.expr.filters&&($.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!$.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||cc(a,"display"))},$.expr.filters.visible=function(a){return!$.expr.filters.hidden(a)}),$.each({margin:"",padding:"",border:"Width"},function(a,b){$.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;4>d;d++)f[a+qc[d]+b]=e[d]||e[d-2]||e[0];return f}},jc.test(a)||($.cssHooks[a+b].set=t)});var tc=/%20/g,uc=/\[\]$/,vc=/\r?\n/g,wc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,xc=/^(?:select|textarea)/i;$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?$.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||xc.test(this.nodeName)||wc.test(this.type))}).map(function(a,b){var c=$(this).val();return null==c?null:$.isArray(c)?$.map(c,function(a){return{name:b.name,value:a.replace(vc,"\r\n")}}):{name:b.name,value:c.replace(vc,"\r\n")}}).get()}}),$.param=function(a,c){var d,e=[],f=function(a,b){b=$.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=$.ajaxSettings&&$.ajaxSettings.traditional),$.isArray(a)||a.jquery&&!$.isPlainObject(a))$.each(a,function(){f(this.name,this.value)});else for(d in a)x(d,a[d],c,f);return e.join("&").replace(tc,"+")};var yc,zc,Ac=/#.*$/,Bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cc=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Dc=/^(?:GET|HEAD)$/,Ec=/^\/\//,Fc=/\?/,Gc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Hc=/([?&])_=[^&]*/,Ic=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Jc=$.fn.load,Kc={},Lc={},Mc=["*/"]+["*"];try{zc=Q.href}catch(Nc){zc=P.createElement("a"),zc.href="",zc=zc.href}yc=Ic.exec(zc.toLowerCase())||[],$.fn.load=function(a,c,d){if("string"!=typeof a&&Jc)return Jc.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),$.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),$.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?$("<div>").append(a.replace(Gc,"")).find(e):a)}),this},$.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){$.fn[b]=function(a){return this.on(b,a)}}),$.each(["get","post"],function(a,c){$[c]=function(a,d,e,f){return $.isFunction(d)&&(f=f||e,e=d,d=b),$.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),$.extend({getScript:function(a,c){return $.get(a,b,c,"script")},getJSON:function(a,b,c){return $.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?A(a,$.ajaxSettings):(b=a,a=$.ajaxSettings),A(a,b),a},ajaxSettings:{url:zc,isLocal:Cc.test(yc[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Mc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(Kc),ajaxTransport:y(Lc),ajax:function(a,c){function d(a,c,d,g){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),h=b,f=g||"",w.readyState=a>0?4:0,d&&(t=B(m,w,d)),a>=200&&300>a||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&($.lastModified[e]=v),v=w.getResponseHeader("Etag"),v&&($.etag[e]=v)),304===a?(x="notmodified",j=!0):(j=C(m,t),x=j.state,l=j.data,s=j.error,j=!s)):(s=x,(!x||a)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger("ajax"+(j?"Success":"Error"),[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--$.active||$.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=$.ajaxSetup({},c),n=m.context||m,o=n!==m&&(n.nodeType||n instanceof $)?$(n):$.event,p=$.Deferred(),q=$.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return 2===u?f:null},getResponseHeader:function(a){var c;if(2===u){if(!g)for(g={};c=Bc.exec(f);)g[c[1].toLowerCase()]=c[2];c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return u||(m.mimeType=a),this},abort:function(a){return a=a||v,h&&h.abort(a),d(0,a),this}};if(p.promise(w),w.success=w.done,w.error=w.fail,w.complete=q.add,w.statusCode=function(a){if(a){var b;if(2>u)for(b in a)r[b]=[r[b],a[b]];else b=a[w.status],w.always(b)}return this},m.url=((a||m.url)+"").replace(Ac,"").replace(Ec,yc[1]+"//"),m.dataTypes=$.trim(m.dataType||"*").toLowerCase().split(bb),null==m.crossDomain&&(j=Ic.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]===yc[1]&&j[2]===yc[2]&&(j[3]||("http:"===j[1]?80:443))==(yc[3]||("http:"===yc[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=$.param(m.data,m.traditional)),z(Kc,m,c,w),2===u)return w;if(k=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Dc.test(m.type),k&&0===$.active++&&$.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Fc.test(m.url)?"&":"?")+m.data,delete m.data),e=m.url,m.cache===!1)){var x=$.now(),y=m.url.replace(Hc,"$1_="+x);m.url=y+(y===m.url?(Fc.test(m.url)?"&":"?")+"_="+x:"")}(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(e=e||m.url,$.lastModified[e]&&w.setRequestHeader("If-Modified-Since",$.lastModified[e]),$.etag[e]&&w.setRequestHeader("If-None-Match",$.etag[e])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Mc+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(h=z(Lc,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,h.send(s,d)}catch(A){if(!(2>u))throw A;d(-1,A)}}else d(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Oc=[],Pc=/\?/,Qc=/(=)\?(?=&|$)|\?\?/,Rc=$.now();$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Oc.pop()||$.expando+"_"+Rc++;return this[a]=!0,a}}),$.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&Qc.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qc.test(i);return"jsonp"===c.dataTypes[0]||l||m?(f=c.jsonpCallback=$.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(Qc,"$1"+f):m?c.data=i.replace(Qc,"$1"+f):k&&(c.url+=(Pc.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||$.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Oc.push(f)),h&&$.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return $.globalEval(a),a}}}),$.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),$.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(e,f){c=P.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var Sc,Tc=a.ActiveXObject?function(){for(var a in Sc)Sc[a](0,1)}:!1,Uc=0;$.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&D()||E()}:D,function(a){$.extend($.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}($.ajaxSettings.xhr()),$.support.ajax&&$.ajaxTransport(function(c){if(!c.crossDomain||$.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=$.noop,Tc&&delete Sc[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(n){}try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?4===i.readyState?setTimeout(d,0):(g=++Uc,Tc&&(Sc||(Sc={},$(a).unload(Tc)),Sc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Vc,Wc,Xc=/^(?:toggle|show|hide)$/,Yc=new RegExp("^(?:([-+])=|)("+_+")([a-z%]*)$","i"),Zc=/queueHooks$/,$c=[J],_c={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=Yc.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||($.cssNumber[a]?"":"px"),"px"!==d&&h){h=$.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,$.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};$.Animation=$.extend(H,{tweener:function(a,b){$.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],_c[c]=_c[c]||[],_c[c].unshift(b)},prefilter:function(a,b){b?$c.unshift(a):$c.push(a)}}),$.Tween=K,K.prototype={constructor:K,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||($.cssNumber[c]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,c=K.propHooks[this.prop];return this.pos=b=this.options.duration?$.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=$.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){$.fx.step[a.prop]?$.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[$.cssProps[a.prop]]||$.cssHooks[a.prop])?$.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},$.each(["toggle","show","hide"],function(a,b){var c=$.fn[b];$.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&$.isFunction(d)&&$.isFunction(e)?c.apply(this,arguments):this.animate(L(b,!0),d,e,f)}}),$.fn.extend({fadeTo:function(a,b,c,d){return this.filter(r).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=$.isEmptyObject(a),f=$.speed(b,c,d),g=function(){var b=H(this,$.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=$.timers,g=$._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Zc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&$.dequeue(this,a)})}}),$.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){$.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),$.speed=function(a,b,c){var d=a&&"object"==typeof a?$.extend({},a):{complete:c||!c&&b||$.isFunction(a)&&a,duration:a,easing:c&&b||b&&!$.isFunction(b)&&b};return d.duration=$.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in $.fx.speeds?$.fx.speeds[d.duration]:$.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){$.isFunction(d.old)&&d.old.call(this),d.queue&&$.dequeue(this,d.queue)},d},$.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},$.timers=[],$.fx=K.prototype.init,$.fx.tick=function(){var a,c=$.timers,d=0;for(Vc=$.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||$.fx.stop(),Vc=b},$.fx.timer=function(a){a()&&$.timers.push(a)&&!Wc&&(Wc=setInterval($.fx.tick,$.fx.interval))},$.fx.interval=13,$.fx.stop=function(){clearInterval(Wc),Wc=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fx.step={},$.expr&&$.expr.filters&&($.expr.filters.animated=function(a){return $.grep($.timers,function(b){return a===b.elem}).length});var ad=/^(?:body|html)$/i;$.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){$.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(l)return(d=l.body)===k?$.offset.bodyOffset(k):(c=l.documentElement,$.contains(c,k)?("undefined"!=typeof k.getBoundingClientRect&&(j=k.getBoundingClientRect()),e=M(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},$.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return $.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat($.css(a,"marginTop"))||0,c+=parseFloat($.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=$.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=$(a),h=g.offset(),i=$.css(a,"top"),j=$.css(a,"left"),k=("absolute"===d||"fixed"===d)&&$.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),$.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},$.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=ad.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat($.css(a,"marginTop"))||0,c.left-=parseFloat($.css(a,"marginLeft"))||0,d.top+=parseFloat($.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat($.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||P.body;a&&!ad.test(a.nodeName)&&"static"===$.css(a,"position");)a=a.offsetParent;return a||P.body})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);$.fn[a]=function(e){return $.access(this,function(a,e,f){var g=M(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?$(g).scrollLeft():f,d?f:$(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),$.each({Height:"height",Width:"width"},function(a,c){$.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){$.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return $.access(this,function(c,d,e){var f;return $.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?$.css(c,d,e,h):$.style(c,d,e,h)},c,g?e:b,g,null)}})}),"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return $})}(window),define("jquery-private",["jquery"],function(a){return a.noConflict()}),define("transit",["jquery"],function(a){function b(a){if(a in l.style)return a;var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1);if(a in l.style)return a;for(var d=0;d<b.length;++d){var e=b[d]+c;if(e in l.style)return e}}function c(){return l.style[m.transform]="",l.style[m.transform]="rotateY(90deg)",""!==l.style[m.transform]}function d(a){return"string"==typeof a&&this.parse(a),this}function e(a,b,c){b===!0?a.queue(c):b?a.queue(b,c):c()}function f(b){var c=[];return a.each(b,function(b){b=a.camelCase(b),b=a.transit.propertyMap[b]||a.cssProps[b]||b,b=i(b),-1===a.inArray(b,c)&&c.push(b)}),c}function g(b,c,d,e){var g=f(b);a.cssEase[d]&&(d=a.cssEase[d]);var h=""+k(c)+" "+d;parseInt(e,10)>0&&(h+=" "+k(e));var i=[];return a.each(g,function(a,b){i.push(b+" "+h)}),i.join(", ")}function h(b,c){c||(a.cssNumber[b]=!0),a.transit.propertyMap[b]=m.transform,a.cssHooks[b]={get:function(c){var d=a(c).css("transit:transform");return d.get(b)},set:function(c,d){var e=a(c).css("transit:transform");e.setFromString(b,d),a(c).css({"transit:transform":e})}}}function i(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function j(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function k(b){var c=b;return a.fx.speeds[c]&&(c=a.fx.speeds[c]),j(c,"ms")}a.support.transition||(a.fn.transition=a.fn.animate),a.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),m={},n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;m.transition=b("transition"),m.transitionDelay=b("transitionDelay"),m.transform=b("transform"),m.transformOrigin=b("transformOrigin"),m.transform3d=c();var o={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},p=m.transitionEnd=o[m.transition]||null;for(var q in m)m.hasOwnProperty(q)&&"undefined"==typeof a.support[q]&&(a.support[q]=m[q]);l=null,a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},a.cssHooks["transit:transform"]={get:function(b){return a(b).data("transform")||new d
},set:function(b,c){var e=c;e instanceof d||(e=new d(e)),b.style[m.transform]="WebkitTransform"!==m.transform||n?e.toString():e.toString(!0),a(b).data("transform",e)}},a.cssHooks.transform={set:a.cssHooks["transit:transform"].set},a.fn.jquery<"1.8"&&(a.cssHooks.transformOrigin={get:function(a){return a.style[m.transformOrigin]},set:function(a,b){a.style[m.transformOrigin]=b}},a.cssHooks.transition={get:function(a){return a.style[m.transition]},set:function(a,b){a.style[m.transition]=b}}),h("scale"),h("translate"),h("rotate"),h("rotateX"),h("rotateY"),h("rotate3d"),h("perspective"),h("skewX"),h("skewY"),h("x",!0),h("y",!0),d.prototype={setFromString:function(a,b){var c="string"==typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a),d.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=j(a,"deg")},rotateX:function(a){this.rotateX=j(a,"deg")},rotateY:function(a){this.rotateY=j(a,"deg")},scale:function(a,b){void 0===b&&(b=a),this.scale=a+","+b},skewX:function(a){this.skewX=j(a,"deg")},skewY:function(a){this.skewY=j(a,"deg")},perspective:function(a){this.perspective=j(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==a&&void 0!==a&&(this._translateX=j(a,"px")),null!==b&&void 0!==b&&(this._translateY=j(b,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");return a[0]&&(a[0]=parseFloat(a[0])),a[1]&&(a[1]=parseFloat(a[1])),a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));return a[3]&&(a[3]=j(a[3],"deg")),a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this)if(this.hasOwnProperty(c)){if(!m.transform3d&&("rotateX"===c||"rotateY"===c||"perspective"===c||"transformOrigin"===c))continue;"_"!==c[0]&&b.push(a&&"scale"===c?c+"3d("+this[c]+",1)":a&&"translate"===c?c+"3d("+this[c]+",0)":c+"("+this[c]+")")}return b.join(" ")}},a.fn.transition=a.fn.transit=function(b,c,d,f){var h=this,i=0,j=!0;"function"==typeof c&&(f=c,c=void 0),"function"==typeof d&&(f=d,d=void 0),"undefined"!=typeof b.easing&&(d=b.easing,delete b.easing),"undefined"!=typeof b.duration&&(c=b.duration,delete b.duration),"undefined"!=typeof b.complete&&(f=b.complete,delete b.complete),"undefined"!=typeof b.queue&&(j=b.queue,delete b.queue),"undefined"!=typeof b.delay&&(i=b.delay,delete b.delay),"undefined"==typeof c&&(c=a.fx.speeds._default),"undefined"==typeof d&&(d=a.cssEase._default),c=k(c);var l=g(b,c,d,i),n=a.transit.enabled&&m.transition,o=n?parseInt(c,10)+parseInt(i,10):0;if(0===o){var q=function(a){h.css(b),f&&f.apply(h),a&&a()};return e(h,j,q),h}var r={},s=function(c){var d=!1,e=function(){d&&h.unbind(p,e),o>0&&h.each(function(){this.style[m.transition]=r[this]||null}),"function"==typeof f&&f.apply(h),"function"==typeof c&&c()};o>0&&p&&a.transit.useTransitionEnd?(d=!0,h.bind(p,e)):window.setTimeout(e,o),h.each(function(){o>0&&(this.style[m.transition]=l),a(this).css(b)})},t=function(a){var b=0;"MozTransition"===m.transition&&25>b&&(b=25),window.setTimeout(function(){s(a)},b)};return e(h,j,t),this},a.transit.getTransitionValue=g}),define("util/importantizer",["jquery","underscore"],function(a,b){function c(b,c){return{set:function(d,f){c&&c.call(this,d,f);var g=e[b]||b,h=d.style.cssText.replace(new RegExp(g+": [^;]+[;$]","i"),""),i=h+"; "+g+": "+f+" !important;";a(d).css("cssText",i)}}}var d=["background","bottom","cursor","display","float","height","left","line-height","margin","margin-left","margin-right","opacity","overflow","padding","padding-bottom","padding-left","padding-right","padding-top","position","right","top","transform-origin","visibility","width","z-index"],e={backgroundColor:"background-color",fontSize:"font-size",lineHeight:"line-height",marginLeft:"margin-left",marginRight:"margin-right",maxHeight:"max-height",maxWidth:"max-width",overflowY:"overflow-y",paddingBottom:"padding-bottom",paddingLeft:"padding-left",paddingRight:"padding-right",paddingTop:"padding-top",transformOrigin:"transform-origin",zIndex:"z-index"},f=a.Deferred();return a.importantizer=f.promise(),a(function(){a.each(d.concat(b(e).keys()),function(b,d){a.cssHooks[d]=a.cssHooks[d]||{};var e=a.cssHooks[d].set;a.extend(a.cssHooks[d],c(d,e))}),f.resolve()}),a}),define("feedmagnet",["jquery","underscore","util/importantizer"],function(a,b){return function(){var c=this,d=function(a){a=a||null,this._wrapped=a},e=c.$FM;"undefined"!=typeof e&&e&&e.VERSION&&e.logger.warn("A duplicate $FM is being created. The initial embed script is probably being run twice.");var f=null,g=c.FeedMagnet=c.$FM=function(a){if("undefined"==typeof a||null===a)return null===f&&(f=new d(null)),f;for(var b=0;b<g._classes.length;b+=1){var c=g._classes[b],e=c.test(a);if(e!==!1){var h=e.selector||e.toString();if("undefined"!=typeof g._object_cache[h])return g._object_cache[h];var i=c["class"](a);return g._object_cache[h]=i,i}}return new d(a)};d.prototype={BASE_URL:window.FM_PROXY_URL||"http://bazaarvoice.feedmagnet.com/",VERSION:[2,6,9],FM:g,is_null:function(){return null===this._wrapped},defer:function(a,b,d){d=d||50;var e=this;return c.setTimeout(function(){return b.call(e,e)?a.call(e,e):e.defer(a,b,d)},d),e},toString:function(){return"Type"}},g._ready={base:!1,libraries:{}},g._object_cache={},g._classes=[];var h=function(a,b){b=b||{};for(var d in b)if("_accept"!==d)if("_init"!==d)a[d]=b[d],a.prototype[d]="function"==typeof a[d]?function(a){return function(){for(var b=[],c=0;c<arguments.length;c+=1)b.push(arguments[c]);b.unshift(this);var d=a.apply(null,b);return d===this._wrapped?this:d}}(a[d]):b[d];else{if(a.prototype._init=a.prototype._init||function(){},"function"!=typeof b[d])continue;var e=a.prototype._init,f=b[d];a.prototype._init=function(){for(var a=[],b=0;b<arguments.length;b+=1){if(0===b&&this!==c){var d=arguments[0];if(this._wrapped){var g=this._wrapped;if(this._wrapped===d)continue;var h=Array.isArray,i=h||function(a){return"[object Array]"===toString.call(a)},j=function(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c+=1)if(a[c]!==b[c]&&!(i(a[c])&&i(b[c])&&j(a[c],b[c])))return!1;return!0};if(j(g,d))continue;if(g.selector&&(g.selector===d||g.selector===d.selector))continue}}a.push(arguments[b])}this!==c&&a.unshift(this),e.apply(null,a),f.apply(null,a)}}},i=g.define_class=function(a,b,c){a=a||{},a.analytics_info=a.analytics_info||function(){return{}},a._init=a._init||function(){return null},c=c||!1,a._accept=a._accept||function(){return!0},a._ACCEPT_ERROR=a._ACCEPT_ERROR||"The %s constructor received an argument that it didn't understand or couldn't process correctly.";var e=function(d){if(("undefined"==typeof d||null===d)&&(d={}),d._special_constructor_packaging===!0)var f=d.arguments;else for(var f=[],h=0;h<arguments.length;h+=1)f.push(arguments[h]);return"undefined"==typeof this._init?new e({_special_constructor_packaging:!0,arguments:f}):c===!0&&(this._wrapped=a._accept(f[0]),this._wrapped===!1)?(this.error(this._ACCEPT_ERROR.replace("%s",this.toString())),-1):("string"==typeof b&&(this.class_name=b),g.signals.signal(e,"pre_init",{instance:this}),this._init.apply(this,f),void g.signals.signal(e,"post_init",{instance:this}))};return e.prototype=new d,e.mixin=function(){for(var a=[],b=0;b<arguments.length;b+=1)a.push(arguments[b]);return a.unshift(e),h.apply(null,a)},e.mixin(a),e.mixin(l),e.mixin(m),e},j=(g.singleton=function(a,b){return a._accept=function(){return!0},g.define_class(a,b)()},g.library=function(a,b){if(a=a||null,b._accept=b._accept||function(){return!0},"string"!=typeof a)return g.logger.error("The name argument to define a library must be a string.");for(a.charAt(0)===a.charAt(0).toLowerCase()&&(a=a.charAt(0).toUpperCase()+a.substring(1));a.indexOf("_")>-1;){var c=a.indexOf("_");a=a.substring(0,c)+a.charAt(c+1).toUpperCase()+a.substring(c+2)}var d=i(b,a,!0);g[a]=d,g._classes.unshift({"class":d,test:b._accept}),g._ready.libraries[a.toLowerCase()]="loaded"},g.ready=function(a){var b=!0;g._ready.base!==!0&&(b=!1);for(var d=[],e=0;e<arguments.length;e+=1)d.push(arguments[e]);for(var e=1;e<d.length;e+=1){var f=d[e];if("_"!==f.charAt(0)){var h=null;"undefined"!=typeof g._ready.libraries[f]&&(h=g._ready.libraries[f]),"loaded"!==h&&(b=!1,null===h&&g.load(f))}}for(var i=!1,e=0;e<d.length;e+=1)"_skip_tasks"===d[e]&&(i=!0);return i===!1&&g._ready.tasks!==!0&&(b=!1),b===!0?a.call(this,g.$,g._):c.setTimeout(function(){g.ready.apply(null,d)})}),k=g.prevent_loading=function(){for(var a=0;a<arguments.length;a+=1){var b=arguments[a];"undefined"!=typeof g._ready.libraries[b]&&(g._ready.libraries[b]="prevented")}},l=g.signals={connect:function(a,b,d,e){return g.ready(function(f,h){return"object"==typeof d?e=d||{}:"function"==typeof d&&(e=e||{},e.callback=d),(a===c||null===a)&&(a=g(null)),"function"!=typeof e.callback?g.logger.error(a,"Unrecognized receiver. Signal receivers should be functions."):(e.weak=e.weak||!1,e.strong=e.strong||!1,e.uid=e.uid||null,e.sender=a,"undefined"==typeof l._registry[b]&&(l._registry[b]=[]),null!==e.uid&&h(l._registry[b]).any(function(a){return a.uid===e.uid})?(g.logger.info(a,"Duplicte signal connection received. The second was ignored."),a):(l._registry[b].push(e),g.logger.info(a,'Added 1 listener to signal "'+b+'".'),a))},"_skip_tasks"),a},disconnect:function(a,b,d,e){return g.ready(function(){if("function"==typeof d?(e=e||{},e.callback=d):"object"==typeof d&&(e=d||{}),a===c&&(a=g(null)),e.sender=a,e.uid=e.uid||null,"function"==typeof d&&(e.callback=d),"undefined"==typeof g.signals._registry[b])return g.logger.warn(a,"Attempted to disconnect a listener that was not connected.");if("function"!=typeof e.callback&&null===e.uid)return g.logger.error(a,"Could not disconnect listener; no function or uid provided.");for(var f=0,h=0;h<l._registry[b].length;)if(l._registry[b][h].callback!==e.callback&&l._registry[b][h].uid!==e.uid)h+=1;else{if(!a.is_null()&&a!==l._registry[b][h].sender){h+=1;continue}if(null!==e.uid&&e.uid!==l._registry[b][h].uid){h+=1;continue}l._registry[b].splice(h,1),f+=1}return g.logger.info(a,"Removed "+f+" listeners."),a},"_skip_tasks"),a},signal:function(a,b,d,e){var f=g._,h=[];if(e=e||!1,d=d||{},a===c&&(a=null),"log_message_sent"!==b&&a.debug("Signal sent: "+b),"undefined"!=typeof l._registry[b])for(var i=f(g.signals._registry[b]).any(function(b){return b.strong!==!0||!b.sender.is_null()&&b.sender!==a?void 0:!0}),j=0;j<l._registry[b].length;j+=1){var k=l._registry[b][j];if(("function"==typeof k.sender.is_null&&k.sender.is_null()||k.sender===a)&&(k.weak!==!0||i!==!0)){var m=k.callback(a,d);"undefined"!=typeof m&&h.push(m)}}return e===!0?h:a},_registry:{}};h(d,l);var m=g.logger={log:function(a,b,c){return l.signal(a,"log_message_sent",{message:b,level:c.toUpperCase()})},listen:function(a,b,d){d=d||"DEBUG";for(var e=null,f=0;f<m.LEVELS.length;f+=1)m.LEVELS[f]===d&&(e=f);return a&&a!==c||(a=g(null)),null===e?(m.error(a,"Attempted to register a listener to the logger with an unrecognized error level."),a):(l.connect(a,"log_message_sent",function(a,c){for(var d=null,f=0;f<m.LEVELS.length;f+=1)m.LEVELS[f]===c.level&&(d=f);if(null===d)return m.error(a,"Attempted to send a log message with an unrecognized error level."),a;if(d>e)return a;try{if(b===console.log){var g=[c.message,c.level];null!==a&&g.push(a),console&&console.log&&console.log(g)}else b.call(a,c.message,c.level)}catch(h){b.call(a,c.message,c.level)}return a}),a.info("Added 1 log listener at level "+d+"."))},critical:function(a,b){return m.log(a,b,"CRITICAL")},error:function(a,b){return m.log(a,b,"ERROR")},warn:function(a,b){return m.log(a,b,"WARNING")},warning:function(a,b){return m.log(a,b,"WARNING")},info:function(a,b){return m.log(a,b,"INFO")},debug:function(a,b){return m.log(a,b,"DEBUG")},LEVELS:["CRITICAL","ERROR","WARNING","INFO","DEBUG"]};h(d,m);try{console&&console.log&&m.listen(null,console.log,"WARNING")}catch(n){}var o=(g.load=function(){for(var a=[],b=0;b<arguments.length;b+=1)a.push(arguments[b]);for(var b=0;b<a.length;b+=1)g._ready.libraries[a[b]]="loading";j(function(b){for(var c=0;c<a.length;c+=1)if("undefined"==typeof g._ready.libraries[d]){var d=a[c];b.ajax({url:g.BASE_URL+"embed/libs/"+d+".js",dataType:"script",method:"GET"})}},"_skip_tasks")},g._get_update=function(a,b){var c=g.$,d=g._;"function"==typeof b&&(b={success:b});var e=b.success||function(){g.logger.warn(null,"_get_update called successfully, but with no success function.")};delete b.success,b.options=b.options||{};var f={url:g.BASE_URL+"content/"+parseInt(a).toString()+".json",data:c.param(d(b.options).flatten(),!0)};c.ajax({url:f.url,method:"GET",data:f.data,dataType:"jsonp",jsonpCallback:"fm_"+Math.random().toString(36).slice(2,9),success:e})},g.get_groups=function(a){var b=(g._,g.$),c={url:g.BASE_URL+"content/groups/"};if("function"!=typeof a)return m.error(null,"get_groups called with no callback function.");var d=function(b){return a(b.groups)};b.ajax({url:c.url,method:"GET",dataType:"jsonp",jsonpCallback:"fm_"+Math.random().toString(36).slice(2,9),success:d})},g.get_tags=function(a){var b=(g._,g.$),c={url:g.BASE_URL+"tagging/"};if("function"!=typeof a)return m.error(null,"get_tags called with no callback function.");var d=function(b){return a(b.tags)};b.ajax({url:c.url,method:"GET",dataType:"jsonp",jsonpCallback:"fm_"+Math.random().toString(36).slice(2,9),success:d})},{insert:function(a,b,c){return a.splice(c,0,b),a},format_text:function(a,b){var c=g._,d=g.$;b=b||{};for(var e=["strip_links","add_markup"],f=0;f<e.length;f+=1){var h=e[f];"undefined"==typeof b[h]&&(b[h]="strip_links"===h?!1:!0),"function"!=typeof b[h]&&!function(){var a=b[h];b[h]=function(){return a}}()}var i=/\b([a-zA-Z]{3,5}:\/\/)?(([\w\d-]+\.)+[a-zA-Z]{2,4})(?!\w)(\/[\w\d?%\/_=&#.-]*)?(?![\B\/])/g,j=a.data.original_text;if(b.strip_links(a))for(var k=j,l=i.exec(k);null!==l;){for(var m=l[0];m.length&&"."===m.charAt(m.length-1);)m=m.substring(0,m.length-1);var n=new RegExp("^[\\s:-]*"+m.replace("&amp;","&").replace("?","\\?")+"[\\s-]*");j=d.trim(j.replace(n,""));var o=new RegExp("[\\s:-]*"+m.replace("&amp;","&").replace("?","\\?")+"[\\s-]*$");j=d.trim(j.replace(o,"")),l=i.exec(k)}if(b.add_markup(a)){for(var p=!1,q=[],r=["facebook","google-plus","twitter"],s=[].concat(a.data.links,a.data.photos,a.data.videos),f=0;f<s.length;f+=1){var t=s[f];if("string"==typeof t.display_url&&t.display_url.length>0){if(p=!0,c(q).indexOf(t.display_url)>-1)continue;var u=t.short_url||t.permalink||null;if(!u)continue;j=j.replace(t.display_url,['<a href="'+u+'" target="_blank">',t.display_url,"</a>"].join("")),q.push(t.display_url)}}if(c(r).indexOf(a.data.channel)>-1&&p===!1)for(var k=j,l=i.exec(k);null!==l;){for(var m=l[0];m.length&&"."===m.charAt(m.length-1);)m=m.substring(0,m.length-1);if(-1===c(q).indexOf(m)){var v=m;-1===m.indexOf("://")&&(v="//"+m),j=j.replace(m,'<a href="'+v+'" target="_blank">'+m+"</a>"),q.push(m)}l=i.exec(k)}"twitter"===a.data.channel&&(j=j.replace(/@([\w]+)/g,'@<a href="http://twitter.com/$1/" target="_blank">$1</a>'),j=j.replace(/#([\w]+)/g,'<a href="http://twitter.com/search?q=%23$1" target="_blank">#$1</a>'),j=j.replace(/<a href="http:\/\/twitter\.com\/search\?q=(%23[\d]{1,3})" target="_blank">(#[\d]{1,3})<\/a>/g,"$2")),"google-plus"===a.data.channel&&(j=j.replace(/#([\w]+)/g,'<a href="https://plus.google.com/s/%23$1" target="_blank">#$1</a>')),"facebook"===a.data.channel&&(j=j.replace(/#([\w]+)/g,'<a href="https://www.facebook.com/hashtag/$1" target="_blank">#$1</a>'))}return j},pretty_time:function(a,b){var c=g._;b=b||{},b.auto=b.auto||!1,a=c(a).coerce_date();var d=new Date,e=(d.getTime()-a.getTime())/1e3,f="";return f=Math.ceil(e/86400)>21||0>e?["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]+" "+a.getDate()+", "+a.getFullYear():1>e?"just now":2>e?"1 second ago":60>e?Math.floor(e)+" seconds ago":120>e?"1 minute ago":3600>e?Math.floor(e/60)+" minutes ago":7200>e?"1 hour ago":86400>e?Math.floor(e/3600)+" hours ago":1==Math.floor(e/86400)?"yesterday":Math.floor(e/86400)<=7?Math.floor(e/86400)+" days ago":Math.ceil(e/604800)+" weeks ago",b.auto===!0&&(f='<span class="fm-auto-pretty-time" data-unix-timestamp="'+parseInt(a.valueOf()/1e3)+'">'+f+"</span>"),f},format_date:function(a,b){function c(a,b){for(a=a.toString();a.length<b;)a="0"+a;return a}var d=g._;a=d(a).coerce_date();for(var e=b,f="djDNwlFmMnyYgGhHisaA",h=0;h<f.length;h+=1){var i=f.charAt(h);e=e.replace(i,"%"+i)}if((b.indexOf("d")>-1||b.indexOf("j")>-1)&&(e=e.replace("%j",a.getDate().toString()),e=e.replace("%d",c(a.getDate(),2))),b.indexOf("D")>-1||b.indexOf("N")>-1||b.indexOf("w")>-1||b.indexOf("l")>-1){var j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];e=e.replace("%w",a.getDay().toString()),e=e.replace("%N",(a.getDay()+1).toString()),e=e.replace("%D",j[a.getDay()]),e=e.replace("%l",k[a.getDay()])}if(b.indexOf("F")>-1||b.indexOf("m")>-1||b.indexOf("M")>-1||b.indexOf("n")>-1){var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],m=["January","February","March","April","May","June","July","August","September","October","November","December"];e=e.replace("%F",m[a.getMonth()]),e=e.replace("%m",c(a.getMonth()+1,2)),e=e.replace("%M",l[a.getMonth()]),e=e.replace("%n",(a.getMonth()+1).toString())}if((b.indexOf("y")>-1||b.indexOf("Y")>-1)&&(e=e.replace("%y",a.getFullYear().toString().substr(2)),e=e.replace("%Y",a.getFullYear())),b.indexOf("g")>-1||b.indexOf("G")>-1||b.indexOf("h")>-1||b.indexOf("H")>-1){var n=a.getHours();e=e.replace("%G",n.toString()),e=e.replace("%H",c(n,2)),0==n&&(n=12),n>12&&(n-=12),e=e.replace("%g",n.toString()),e=e.replace("%h",c(n,2))}if(b.indexOf("i")>-1&&(e=e.replace("%i",c(a.getMinutes(),2))),b.indexOf("s")>-1&&(e=e.replace("%s",c(a.getSeconds(),2))),b.indexOf("a")>-1||b.indexOf("A")>-1){var o=a.getHours()>=0&&a.getHours()<12?"am":"pm";e=e.replace("%a",o),e=e.replace("%A",o.toUpperCase())}return e},unix_timestamp:function(a,b){var c=g._;if("number"==typeof a)return a;"undefined"==typeof b&&(b=(new Date).getTimezoneOffset()/-60),a=c(a).coerce_date();var d=parseInt(a.getTime()/1e3),e=(new Date).getTimezoneOffset()/-60,f=b-e;return d-=3600*f},coerce_date:function(a){var b=g._;if(b(a).isDate())return a;var c=/^[\d]+$/;if("number"==typeof a||"string"==typeof a&&c.test(a))return new Date(1e3*parseInt(a));if("string"==typeof a){var d=[],e=a.split(" ");if(e.length<1||e.length>2)throw new TypeError("Invalid format string.");var f=e[0],h=null;2===e.length&&(h=e[1]);var i=f.split("-");if(3!==i.length||!b(i).all(function(a){return/^[\d]+$/.test(a)}))throw new TypeError("Invalid format string (date segment).");for(var j=0;j<i.length;j+=1)d.push(parseInt(i[j]));if(null!==h){var k=h.split(":");if(k.length>3||!b(k).all(function(a){return/^[\d]+$/.test(a)}))throw new TypeError("Invalid format string (time segment).");for(var j=0;j<k.length;j+=1)d.push(parseInt(k[j]))}a=d}if(b(a).isDict()){if(!a.year||!a.month||!a.day)throw new TypeError('Invalid format dictionary; "year", "month", and "day" keys are required.');for(var d=[parseInt(a.year),parseInt(a.month),parseInt(a.day)],h=["hour","minute","second"],j=0;j<h.length;j+=1){var l=h[j];a[l]=a[l]||0,d.push(parseInt(a[l]))}a=d}if(!b(a).isArray()||a.length<3||a.length>6)throw new TypeError("Invalid input; expected list with 3-6 integers (year, month, day, hour, minute, second).");for(;a.length<6;)a.push(0);return new Date(parseInt(a[0]),parseInt(a[1])-1,parseInt(a[2]),parseInt(a[3]),parseInt(a[4]),parseInt(a[5]))},isDict:function(a){var b=g._;return"object"!=typeof a?!1:null===a?!1:b(a).isArray()?!1:b(a).isArguments()?!1:!0},flatten:function(a,b){var c=g._;b=b||"";for(var c=g._,d={},e=c(a).keys(),f=0;f<e.length;f+=1){var h=e[f];c(a[h]).isDict()?c(d).extend(c(a[h]).flatten(b+h+".")):d[b+h]=a[h]}return d},extend_nested:function(a){for(var b=g._,c=1;c<arguments.length;c+=1)for(var d=arguments[c],e=b(d).keys(),f=0;f<e.length;f+=1){var h=e[f];b(d[h]).isDict()&&("undefined"==typeof b(a[h])||b(a[h]).isDict())?b(a[h]).extend_nested(d[h]):a[h]=d[h]}return a}});k("feed","element","tasks");var p=function(){return"undefined"!=typeof g._&&g._.VERSION>="1.4.0"?(g._ready.base=!0,!0):c.setTimeout(function(){p()},25)};d.prototype.$=g.$=a,a.ajaxSetup({cache:!0}),a(document).ready(p);var q=!1;this._=b;var r=function(){if("undefined"==typeof b||"string"!=typeof b.VERSION||"function"!=typeof b.each)return c.setTimeout(r,10);d.prototype._=q?b.noConflict():b;var a=d.prototype._;a(d.prototype).each(function(b,c){c.toUpperCase()===c&&a(["FM","LEVELS"]).any(function(a){return a===c})===!1&&(g[c]=b)}),a.mixin(o)};r(),j(function(a,b){c.setInterval(function(){a(".fm-auto-pretty-time").each(function(){var c=parseInt(a(this).attr("data-unix-timestamp"));a(this).text(b(c).pretty_time())})},1e3)})}(),FeedMagnet.library("feed",{_init:function(a){a._options={limit:20},a._poller=null,a._groups=a._wrapped,a._verified=!1,a._forbidden_error_shown=!1,a._missing_error_shown=!1,a.updates=[];for(var b=["get_success","featured_success","meta_success","count_success"],c=0;c<b.length;c+=1){var d=b[c];a.connect(d,function(b,c){a.signal("success",c)})}},get:function(a,b,c){var d=a.$,e=a._;b=b||{},c=c||null,b=a._prepare_options(b,!0);var f=a.signal("pre_get",{options:b.options},!0);e(f).each(function(a){e(a).isDict()&&e(b.options).extend_nested(a)});var g="content/get/";("featured"===c||b.options.featured_only===!0)&&(g="favorites/featured/","undefined"!=typeof b.options.featured_only&&delete b.options.featured_only);var h={url:a.BASE_URL+g,data:d.param(e(b.options).flatten(),!0)};return d.ajax({url:h.url,dataType:"jsonp",data:h.data,jsonpCallback:"fm_"+Math.random().toString(36).slice(2,9),type:"GET",success:function(d,f,g){if(d.request_type=c,"undefined"!=typeof d.errata&&d.errata?(e(d.errata["not found"]).each(function(b){var c=["This display is trying to load the group `"+b+"`,","but it does not exist in your FeedMagnet console."].join(" ");a.error(c)}),e(d.errata.forbidden).each(function(b){var c=["The group `"+b+"` is marked private in the FeedMagnet","console. No content from that group will appear on this page until","you log in to the console in another tab."].join(" ");a.error(c)}),d.errata["not found"].length>0&&a.signal("groups_not_found",{groups:d.errata["not found"]}),d.errata.forbidden.length>0&&a.signal("groups_forbidden",{groups:d.errata.forbidden})):a._verified=!0,d.updates)for(var h=0;h<d.updates.length;h+=1)d.updates[h]=a.add_update(d.updates[h],c,d.productData);"function"==typeof b.success&&b.success(a,{response:d,status:f,xhr:g}),"featured"===c&&a.signal("featured_success",{response:d,status:f,xhr:g}),a.signal("get_success",{response:d,status:f,xhr:g})}}),a},featured:function(a,b){return a.get(b,"featured")},single:function(a,b,c){c=c||{};var d=a.FM;c=a._prepare_options(c,!0),"undefined"!=typeof c.options.limit&&delete c.options.limit,d._get_update(b,{options:c.options,success:function(b,d,e){if(b.request_type="single",b.updates.length<1)return void a.error("A single update was requested by ID, but nothing came back from the server.");for(var f=0;f<b.updates.length;f+=1)a.add_update(b.updates[f],null,b.productData);"function"==typeof c.success&&c.success(a,{response:b,status:d,xhr:e}),a.signal("get_success",{response:b,status:d,xhr:e})}})},more:function(a,b){var c=a._;if(0===a.updates.length)return a.warning("Attempting to load more when no updates are present. Aborting.");for(var d=parseInt((new Date).getTime()/1e3),e=a.updates.length-1;e>=0;e-=1)if(a._options.featured_only===!0||a.update_is_featured(a.updates[e])===!1){if("number"!=typeof a.updates[e].data.timestamp)return a.error(["Error: Attempted to call Feed.more, but the timestamp on the","updates in the feed has been overwritten, and is no longer an integer.","Please ensure that you do not modify update objects sent by the SDK. If you","must modify them, ensure that you clone them first, and only modify the copy."].join(" "));d=a.updates[e].data.timestamp;break}return b=b||{},c(b).extend({before:d}),a.get(b)},poll:function(a,b){return b=b||{},a._poller&&null!==a._poller.runner&&(a.warn("Polling requested when polling is already running. Stopping the current poller and starting a new one."),clearTimeout(a._poller.runner),a._poller.runner=null),a._poller=a._poller||{},a._poller.wait=b.wait||a._poller.wait||15,a._poller.kwargs=b||a._poller.kwargs||{},a._poller.runner=null,"undefined"!=typeof a._poller.kwargs.wait&&delete a._poller.kwargs.wait,"number"!=typeof a._poller.wait?a.error("The second argument to poll must be the number of seconds to wait."):(a._poll_iter(),a.signal("polling_started"),a)},meta:function(a,b){var c=a.$,d=a._;b=b||{},b=a._prepare_options(b);var e={url:a.BASE_URL+"content/meta/",data:c.param(d(b.options).flatten(),!0)};return c.ajax({url:e.url,dataType:"jsonp",data:e.data,jsonpCallback:"fm_"+Math.random().toString(36).slice(2,9),type:"GET",success:function(c,d,e){"function"==typeof b.success&&b.success(a,{response:c,status:d,xhr:e}),a.signal("meta_success",{response:c,status:d,xhr:e})}}),a},count:function(a,b){var c=a.$,d=a._;b=b||{},b=a._prepare_options(b);var e={url:a.BASE_URL+"analytics/count/",data:c.param(d(b.options).flatten(),!0)};return c.ajax({url:e.url,dataType:"jsonp",data:e.data,jsonpCallback:"fm_"+Math.random().toString(36).slice(2,9),type:"GET",success:function(c,d,e){"function"==typeof b.success&&b.success(a,{response:c,status:status,xhr:e}),a.signal("count_success",{response:c,status:status,xhr:e})}}),a},update_is_featured:function(a,b){var c=a._;return c.intersection(b.data.featured_groups||[],a._groups).length>0},_poll_iter:function(a){a.get(a._poller.kwargs),a._poller.runner=window.setTimeout(function(){a._poll_iter()},1e3*a._poller.wait)},_prepare_options:function(a,b,c){var d=a._;b=b||{},c=c||!1;var e={};c===!0&&(e=a._options);var f={};d(f).extend_nested(e,b,{groups:a._groups});var g=f.success||null;return delete f.success,"function"==typeof f.error&&(a.warn("Error function removed; jQuery does not support error functions in JSONP requests."),delete f.error),{options:f,success:g}},is_polling:function(a){return a._poller&&null!==a._poller.runner?!0:!1},stop_polling:function(a){return a._poller&&null!==a._poller.runner?(window.clearTimeout(a._poller.runner),a._poller.runner=null,a.signal("polling_stopped"),a):a.warn("A polling stop was requested, but polling is not running.")},options:function(a,b,c){var d=a._;return 2===arguments.length&&"string"==typeof b?a._options[b]:3===arguments.length?(a._options[b]=c,a):(d(a._options).extend_nested(b),a)},index:function(a,b,c,d){c=c||null,d=d||!1;var e=(a._,0);if(0===a.updates.length)return d===!0?0:!1;if(null===c){for(var f=0;f<a.updates.length;f+=1)if(a.updates[f].data.id===b)return f;return!1}for(var g=0,h=a.updates.length-1,i=0;h-g>-1;){i+=1;var j=h-Math.floor((h-g)/2),k=a.updates[j];if(k.data.id===b)return j;if(c===k.data.timestamp){for(var f=j;f>=0;f-=1){if(b===a.updates[f].data.id)return f;if(c!==a.updates[f].data.timestamp){e=f+1;break}}for(var f=j;f<a.updates.length;f+=1){if(b===a.updates[f].data.id)return f;if(c!==a.updates[f].data.timestamp){e=f;break}}return d===!0?e:!1}c>k.data.timestamp?(h=j-1,e=j):(g=j+1,e=j+1)}return d===!0?e:!1},add_update:function(a,b,c,d){c=c||null;var e=a._,f=a.index(b.data.id,b.data.timestamp,!0),g=!0;return a.updates.length>f&&a.updates[f].data.id===b.data.id&&(b=a.updates[f],g=!1),a.signal("update_added",{position:f,update:b}),g===!1?b:(b.data.original_text=b.data.text,b.data.text=e(b).format_text(),b.data.productData=d,e(a.updates).insert(b,f),a.signal("new_update",{position:f,update:b}),b)},remove_update:function(a,b,c){a._;if("number"!=typeof c&&(c=a.index(b.data.id,b.data.timestamp)),c!==!1)var b=a.updates.splice(c,1)[0];return a.signal("update_removed",{position:c,update:b}),b},_accept:function(a){var b=FeedMagnet.$;if("string"==typeof a)return[a];if(b.isArray(a)){for(var c=0;c<a.length;c+=1)if("string"!=typeof a[c])return!1;return a.sort(),a}return!1},analytics_info:function(a){return{Groups:a._groups,"Updates Loaded":a.updates.length}},toString:function(){return"Feed"}}),FeedMagnet.library("element",{_init:function(a){a.MAXIMUM_UPDATES=2500,a.e=a._wrapped,a.selector=a._wrapped.selector,a.feeds=[],a.updates=[],a.sorting=!0,a.featured_updates_on_top=0,a.set_default_index_function(),a._updates_by_ts=[],a._featured_by_ts=[],a._newest_update_ts=null,a._oldest_update_ts=null,a._todo_for_empty=[],a.connect("updates_placed",function(){if(a.updates.length>a.MAXIMUM_UPDATES)for(var b=a.updates.slice(a.MAXIMUM_UPDATES);b.length>0;){var c=b.pop(),d=a._wrapped,e=d.find(".fm-update[data-id="+c.data.id+"]");a.info("Preparing to signal the removal of update #"+a.updates.length+", id "+c.data.id+"."),a.signal("update_removal",{update:c,$update:e})}for(;a.updates.length>a.MAXIMUM_UPDATES+100;)a.updates.pop()}),a.connect("broken_image",{callback:function(a,b){var c=b.update;a.remove(c);for(var d=0;d<a.feeds.length;d+=1){var e=a.feeds[d];e.remove_update(c)}},weak:!0}),a.connect("update_removal",{callback:function(a,b){b.$update.remove()},weak:!0}),a.connect("hide",{callback:function(a,b){b.$el.hide()},weak:!0}),a.connect("show",{callback:function(a,b){b.$el.show()},weak:!0}),a.connect("show_update",{callback:function(b,c){var d=c.$update||a.get_dom_update(c.update);d.show()},weak:!0}),a.connect("hide_update",{callback:function(b,c){var d=c.$update||a.get_dom_update(c.update);d.hide()},weak:!0})},add:function(a,b,c){var d=a._;if(c=c||{},c.block_group=c.block_group||!1,d(a.updates).any(function(a){return a.data.id===b.data.id}))return a.debug("Update "+b.data.id+" already exists; skipping."),a;(null===a._newest_update_ts||b.data.timestamp>a._newest_update_ts)&&(a._newest_update_ts=b.data.timestamp),(null===a._oldest_update_ts||b.data.timestamp<a._oldest_update_ts)&&(a._oldest_update_ts=b.data.timestamp);var e=d(a._updates_by_ts).sortedIndex(b,function(a){return-1*a.data.timestamp});if(d(a._updates_by_ts).insert(b,e),a.update_is_featured(b)){var f=d(a._featured_by_ts).sortedIndex(b,function(a){return-1*a.data.timestamp});d(a._featured_by_ts).insert(b,f)}return a.updates.push(b),a.updates=d(a.updates).sortBy(a.index_function),c.block_group===!1&&a.render(c),a},remove:function(a,b,c){var d=a._,e=a.e,f=b.data.id;c=c||null,null===c&&(c=a.index(f)),a.updates.splice(c,1)[0];var g=e.find(".fm-update[data-id="+b.data.id+"]");if(a.signal("update_removal",{update:b,$update:g}),d(["_updates_by_ts","_featured_by_ts"]).each(function(b){for(var c=null,d=0;d<a[b].length;d+=1){var e=a[b][d];if(f===e.data.id){c=d;break}}c&&a[b].splice(c,1)}),b.data.timestamp===a._newest_update_ts&&(a._newest_update_ts=a._updates_by_ts.length>0?a._updates_by_ts[0].data.timestamp:null),b.data.timestamp===a._oldest_update_ts)if(a._updates_by_ts.length>0){var h=a._updates_by_ts[a._updates_by_ts.length-1];a._oldest_update_ts=h.data.timestamp}else a._oldest_update_ts=null;return a},update_is_featured:function(a,b){for(var c=0;c<a.feeds.length;c+=1){var d=a.feeds[c];if(d.update_is_featured(b))return!0}return!1},index:function(a,b){for(var c=0;c<a.updates.length;c+=1)if(a.updates[c].data.id===b)return c;return!1},get_dom_update:function(a,b){return a.e.find(".fm-update[data-id="+b.data.id+"]")},display:function(a,b,c){c=c||{},c.add_existing_updates=c.add_existing_updates||!1;var d=!1;"function"!=typeof b.get&&(b=a.FM.Feed(b),d=!0),a.feeds.push(b);var e=function(b,c){var d=b._,e=b.$;d(d.zip(c.new_updates,c.$new_updates)).each(function(b){a.signal("show_update",{update:b[0],$update:e(b[1])})
})};a.connect("updates_placed",{callback:e,weak:!0}),a._todo_for_empty.push({fx:e,sender:a,signal:"updates_placed"});var f=function(b,d){{var e=d.response;a.$,a._}if(e.updates&&e.updates.length){a.debug("About to process "+e.updates.length+" updates.");for(var f=e.updates.length-1;f>=0;f-=1){var g=e.updates[f];a.debug("Processing update "+f+": "),a.debug(g),a.add(g,!0)}}else a.debug("No updates found.");c.productData=e.productData,a.render(c)};if(b.connect("get_success",f),c.add_existing_updates)for(var g=b.updates.length-1;g>=0;g-=1)a.add(b.updates[g]);return a._todo_for_empty.push({fx:f,sender:b,signal:"get_success"}),d===!0&&(a.debug("About to retrieve instantiated feed"),a.debug(c),b.get(c)),a},empty:function(a){a.warn("Element.empty is deprecated, and will be removed in version 2.5.4.");for(var b=0;b<a._todo_for_empty.length;b+=1){var c=a._todo_for_empty[b];c.sender.disconnect(c.signal,c.fx)}for(a._todo_for_empty=[];a.updates.length>0;)a.remove(a.updates[0]);return a.feeds=[],a},filter:function(a,c){var d=function(b,c){a.signal("show",{$el:c})},e=function(b,c){a.signal("hide",{$el:c})},f=null;return"function"==typeof c?f=c:(f=c.cmp||c.callback||c.fx||null,"function"==typeof c.on_pass&&(d=c.on_pass),"function"==typeof c.on_fail&&(e=c.on_fail)),"function"!=typeof f?a.error("Attempt to call Element.filter, but no `cmp` (comparison) function was defined."):void b(a.updates).each(function(b){var c=f(b),g=a.get_dom_update(b);if(c===!0)return d(b,g);if(c===!1)return e(b,g);if(null!==c)throw new TypeError(["Unexpected value returned from Element.filter `cmp` function.","Please ensure that comparison functions return only true, false, or null"].join(" "))})},render:function(a,b){var c=a.$,d=a._;b=b||{},b.format=b.format||"html";var e=a.e,f=c("nonsense"),g=[];return d(a.updates).each(function(d,h){if(!("undefined"==typeof d||a.get_dom_update(d).length>0)){if("undefined"==typeof d[b.format]||null===d[b.format])return a.error(["Attempted to render update #"+d.data.id+' in format "'+b.format+'", but',"there is nothing available for that format."].join(" "));var i=d[b.format];"html"===b.format&&i&&(i=i.replace(/<img([^>]+?)src\=/g,"<img$1data-orig-src="));var j=c(i);if(j.hasClass("fm-update")?j.attr("data-id",d.data.id.toString()):j=c('<div class="fm-update" data-id="'+d.data.id+'">'+i+"</div>"),g.push(d),0===h)j.hide().prependTo(e),f=c(j).add(f);else{var k=a.get_dom_update(a.updates[h-1]);j.hide().insertAfter(k),f=c(j).add(f)}d._el=j;var l=c(a.e).find('.fm-update[data-id="'+d.data.id+'"] img');c(l).error(function(){a.signal("broken_image",{update:d})}),c(l).each(function(){var a=c(this);if(a.attr("data-orig-src")){var b=a.attr("data-orig-src");a.removeAttr("data-orig-src"),a.attr("src",b)}})}}),f.length>0&&a.signal("updates_placed",{$new_updates:f,new_updates:g,updates:a.updates,productData:b.productData}),a},_accept:function(a){var b=FeedMagnet.$;if(b.isArray(a))return!1;var c=b(a);return 0===c.length?!1:c},_get_update_by_id:function(a,b){b=parseInt(b);for(var c=0;c<a.updates.length;c+=1){var d=a.updates[c];if(d.data.id===b)return d}return null},hide:function(a){return a.signal("hide",{$el:a._wrapped})},show:function(a){return a.signal("show",{$el:a._wrapped})},set_default_index_function:function(a){return a.index_function=function(b){var c=a.get_featured_update_index_by_timestamp(b);return c>-1&&c<a.featured_updates_on_top?-1*(a._newest_update_ts+b.data.timestamp):-1*b.data.timestamp},a},get_update_index_by_timestamp:function(a,b){var c=a._;return c(a._updates_by_ts).indexOf(b)},get_featured_update_index_by_timestamp:function(a,b){var c=a._;return c(a._featured_by_ts).indexOf(b)},analytics_info:function(a){return{Selector:a.selector}},disable_sorting:function(a){return a.warn("Use of deprecated function Element.disable_sorting. Set the `sorting` property to false instead."),a.sorting=!1,a},enable_sorting:function(a){return a.warn("Use of deprecated function Element.enable_sorting. Set the `sorting` property to true instead."),a.sorting=!0,a},set_custom_index_function:function(a,b){return a.warn("Use of deprecated function Element.set_custom_index_function. Set the index_function property instead."),a.index_function=b,a},_ACCEPT_ERROR:"The $FM.Element constructor got an argument that either isn't a string or jQuery object or doesn't match anything in the DOM.",toString:function(){return"Element"}}),function(a){var b=[],c=[];a.signals.connect(a.Feed,"post_init",function(a,c){b.push(c.instance)}),a.signals.connect(a.Element,"post_init",function(a,b){c.push(b.instance)});a.singleton({_init:function(b){if(b._acknowledged=[],window&&window.location.search){var c=window.location.search.match(/_ack\=([\d]+)/);c&&c.length>=2&&b._acknowledged.push(parseInt(c[1]))}a.signals.connect(a.Feed,"post_init",function(a,c){var d=c.instance;d.connect("success",function(a,c){var d=c.response;if("undefined"!=typeof d.tasks)for(var e=0;e<d.tasks.length;e+=1){var f=d.tasks[e],g="handle_"+f.command;b.has_acknowledged(f)||("function"==typeof b[g]?(b[g](f),b.acknowledge(f)):b.error('Received a task command: "'+f.command+'", but no method to perform this command exists.'))}})}),a._ready.tasks=!0},handle_reload:function(a,b){var c=a._,d=window.location.toString();d+=c(d).indexOf("?")>-1?"&":"?",d+="_ack="+b.id.toString(),window.location=d},handle_remove:function(a,d){for(var e=a._,f=0;f<b.length;f+=1){var g=b[f],h=g.index(d.data.id,d.data.timestamp);if(h!==!1){var i=g.updates[h],j=e(i.data.groups).indexOf(d.data.group);j>-1&&i.data.groups.splice(j,1),0===i.data.groups.length&&g.remove_update(i,h)}}for(var f=0;f<c.length;f+=1){var k=c[f],h=k.index(d.data.id);if(h!==!1){var i=k.updates[h],j=e(i.data.groups).indexOf(d.data.group);j>-1&&i.data.groups.splice(j,1),0===i.data.groups.length&&k.remove(i,h)}}},acknowledge:function(a,b){a._acknowledged.push(b.id),a._acknowledged.sort()},has_acknowledged:function(a,b){var c=a._;return c(a._acknowledged).indexOf(b.id,!0)>-1},toString:function(){return"FeedMagnet Task Runner"}})}(FeedMagnet),window.$FM}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define("spin",b):a.Spinner=b()}(this,function(){function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=k.substring(0,k.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return m[e]||(n.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",n.cssRules.length),m[e]=1),e}function d(a,b){var c,d,e=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<l.length;d++)if(c=l[d]+b,void 0!==e[c])return c;return void 0!==e[b]?b:void 0}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function h(a,b){return"string"==typeof a?a:a[b%a.length]}function i(a){return"undefined"==typeof this?new i(a):void(this.opts=f(a||{},i.defaults,o))}function j(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}n.addRule(".spin-vml","behavior:url(#default#VML)"),i.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function g(a,g,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~g}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.width,left:d.radius,top:-d.width>>1,filter:i}),c("fill",{color:h(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.length+d.width,k=2*j,l=2*-(d.width+d.length)+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)g(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)g(i);return b(a,m)},i.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var k,l=["webkit","Moz","ms","O"],m={},n=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),o={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};i.defaults={},f(i.prototype,{spin:function(b){this.stop();var c,d,f=this,h=f.opts,i=f.el=e(a(0,{className:h.className}),{position:h.position,width:0,zIndex:h.zIndex}),j=h.radius+h.length+h.width;if(b&&(b.insertBefore(i,b.firstChild||null),d=g(b),c=g(i),e(i,{left:("auto"==h.left?d.x-c.x+(b.offsetWidth>>1):parseInt(h.left,10)+j)+"px",top:("auto"==h.top?d.y-c.y+(b.offsetHeight>>1):parseInt(h.top,10)+j)+"px"})),i.setAttribute("role","progressbar"),f.lines(i,f.opts),!k){var l,m=0,n=(h.lines-1)*(1-h.direction)/2,o=h.fps,p=o/h.speed,q=(1-h.opacity)/(p*h.trail/100),r=p/h.lines;!function s(){m++;for(var a=0;a<h.lines;a++)l=Math.max(1-(m+(h.lines-a)*r)%p*q,h.opacity),f.opacity(i,a*h.direction+n,l,h);f.timeout=f.el&&setTimeout(s,~~(1e3/o))}()}return f},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function g(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*j+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var i,j=0,l=(f.lines-1)*(1-f.direction)/2;j<f.lines;j++)i=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:k&&c(f.opacity,f.trail,l+j*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(g("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,g(h(f.color,j),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var p=e(a("group"),{behavior:"url(#default#VML)"});return!d(p,"transform")&&p.adj?j():k=d(p,"animation"),i}),define("hbs",[],function(){return{get:function(){return Handlebars},write:function(a,b,c){if(b+customNameExtension in buildMap){var d=buildMap[b+customNameExtension];c.asModule(a+"!"+b,d)}},version:"0.8.1",load:function(){}}}),define("hbs/handlebars.runtime",[],function(){var a=function(){var a=function(){function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=" - "+d+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.3.0";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e);return f}();return a}),define("hbs!templates/common/master",["hbs","hbs/handlebars.runtime"],function(a,b){var c=b.template(function(a,b,c){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers);var d,e,f="",g="function",h=this.escapeExpression;return f+='<div class="fm-before">\n    ',(e=c.highlightBefore)?d=e.call(b,{hash:{}}):(e=b&&b.highlightBefore,d=typeof e===g?e.call(b,{hash:{}}):e),(d||0===d)&&(f+=d),f+='\n</div>\n<div class="',(e=c.css_class)?d=e.call(b,{hash:{}}):(e=b&&b.css_class,d=typeof e===g?e.call(b,{hash:{}}):e),f+=h(d)+'">\n    ',(e=c.highlightPrepend)?d=e.call(b,{hash:{}}):(e=b&&b.highlightPrepend,d=typeof e===g?e.call(b,{hash:{}}):e),(d||0===d)&&(f+=d),f+="\n    ",(e=c.outputHTML)?d=e.call(b,{hash:{}}):(e=b&&b.outputHTML,d=typeof e===g?e.call(b,{hash:{}}):e),(d||0===d)&&(f+=d),f+="\n    ",(e=c.highlightAppend)?d=e.call(b,{hash:{}}):(e=b&&b.highlightAppend,d=typeof e===g?e.call(b,{hash:{}}):e),(d||0===d)&&(f+=d),f+='\n</div>\n<div class="fm-after">\n    ',(e=c.highlightAfter)?d=e.call(b,{hash:{}}):(e=b&&b.highlightAfter,d=typeof e===g?e.call(b,{hash:{}}):e),(d||0===d)&&(f+=d),f+="\n</div>\n"});return b.registerPartial("templates/common/master",c),c}),define("hbs!templates/common/avatar",["hbs","hbs/handlebars.runtime"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='\n<div class="fm-avatar">\n    <a href="'+j((b=a&&a.udata,b=null==b||b===!1?b:b.author,b=null==b||b===!1?b:b.profile,typeof b===i?b.apply(a):b))+'" target="_blank"><img src="'+j((b=a&&a.udata,b=null==b||b===!1?b:b.author,b=null==b||b===!1?b:b.avatar,typeof b===i?b.apply(a):b))+'" /></a>\n</div>\n'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers);var g,h="",i="function",j=this.escapeExpression,k=this;return g=c["with"].call(b,b&&b.avatar,{hash:{},inverse:k.noop,fn:k.program(1,f,e)}),(g||0===g)&&(h+=g),h+="\n"});return b.registerPartial("templates/common/avatar",c),b.registerPartial("templates/common/avatar",c),c}),function(){function a(a,b,c){return a===b?c.fn(this):c.inverse(this)}define("templates/helpers/equals",["hbs/handlebars.runtime"],function(b){return b.registerHelper("equals",a),a})}(),define("hbs!templates/common/author",["hbs","hbs/handlebars.runtime","templates/helpers/equals"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+="\n",e=c.equals||a&&a.equals,f={hash:{},inverse:o.program(7,j,b),fn:o.program(2,g,b)},d=e?e.call(a,(d=a&&a.udata,null==d||d===!1?d:d.channel),"twitter",f):p.call(a,"equals",(d=a&&a.udata,null==d||d===!1?d:d.channel),"twitter",f),(d||0===d)&&(h+=d),h+="\n"}function g(a,b){var d,e,f="";return f+='\n    <div class="fm-twitter-author">\n        ',d=c["if"].call(a,a&&a.showProfileLink,{hash:{},inverse:o.noop,fn:o.program(3,h,b)}),(d||0===d)&&(f+=d),f+="\n            ",(e=c.fullname)?d=e.call(a,{hash:{}}):(e=a&&a.fullname,d=typeof e===m?e.call(a,{hash:{}}):e),f+=n(d)+"\n        ",d=c["if"].call(a,a&&a.showProfileLink,{hash:{},inverse:o.noop,fn:o.program(5,i,b)}),(d||0===d)&&(f+=d),f+='\n    </div>\n    <div class="fm-twitter-username">\n        ',d=c["if"].call(a,a&&a.showProfileLink,{hash:{},inverse:o.noop,fn:o.program(3,h,b)}),(d||0===d)&&(f+=d),f+="\n            ",(e=c.username)?d=e.call(a,{hash:{}}):(e=a&&a.username,d=typeof e===m?e.call(a,{hash:{}}):e),f+=n(d)+"\n        ",d=c["if"].call(a,a&&a.showProfileLink,{hash:{},inverse:o.noop,fn:o.program(5,i,b)}),(d||0===d)&&(f+=d),f+="\n    </div>\n"}function h(a){var b,c="";return c+='\n            <a target="_blank" href="'+n((b=a&&a.udata,b=null==b||b===!1?b:b.author,b=null==b||b===!1?b:b.profile,typeof b===m?b.apply(a):b))+'">\n        '}function i(){return"\n            </a>\n        "}function j(a,b){var d,e,f="";return f+='\n    <div class="fm-author">\n        ',d=c["if"].call(a,a&&a.showProfileLink,{hash:{},inverse:o.noop,fn:o.program(3,h,b)}),(d||0===d)&&(f+=d),f+="\n            ",(e=c.fullname)?d=e.call(a,{hash:{}}):(e=a&&a.fullname,d=typeof e===m?e.call(a,{hash:{}}):e),f+=n(d)+"\n        ",d=c["if"].call(a,a&&a.showProfileLink,{hash:{},inverse:o.noop,fn:o.program(5,i,b)}),(d||0===d)&&(f+=d),f+="\n    </div>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers);var k,l="",m="function",n=this.escapeExpression,o=this,p=c.helperMissing;return k=c["with"].call(b,b&&b.author,{hash:{},inverse:o.noop,fn:o.program(1,f,e)}),(k||0===k)&&(l+=k),l+="\n"});return b.registerPartial("templates/common/author",c),b.registerPartial("templates/common/author",c),c}),define("hbs!templates/common/channel_icon",["hbs","hbs/handlebars.runtime","templates/helpers/equals"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+='\n<div class="fm-channel-icon">\n    ',d=c["if"].call(a,(d=a&&a.udata,null==d||d===!1?d:d.permalink),{hash:{},inverse:q.noop,fn:q.program(2,g,b)}),(d||0===d)&&(h+=d),h+="\n    ",e=c.equals||a&&a.equals,f={hash:{},inverse:q.program(8,k,b),fn:q.program(5,i,b)},d=e?e.call(a,a&&a.style,"image",f):r.call(a,"equals",a&&a.style,"image",f),(d||0===d)&&(h+=d),h+="\n    ",d=c["if"].call(a,(d=a&&a.udata,null==d||d===!1?d:d.permalink),{hash:{},inverse:q.noop,fn:q.program(10,l,b)}),(d||0===d)&&(h+=d),h+="\n</div>\n"}function g(a,b){var d,e="";return e+="\n    ",d=c["if"].call(a,a&&a.links,{hash:{},inverse:q.noop,fn:q.program(3,h,b)}),(d||0===d)&&(e+=d),e+="\n    "}function h(a){var b,c="";return c+='\n        <a target="_blank" href="'+p((b=a&&a.udata,b=null==b||b===!1?b:b.permalink,typeof b===o?b.apply(a):b))+'">\n    '}function i(a,b){var d,e="";return e+="\n    ",d=c["if"].call(a,a&&a.path,{hash:{},inverse:q.program(8,k,b),fn:q.program(6,j,b)}),(d||0===d)&&(e+=d),e+="\n    "}function j(a){var b,d,e="";return e+='\n        <img src="',(d=c.path)?b=d.call(a,{hash:{}}):(d=a&&a.path,b=typeof d===o?d.call(a,{hash:{}}):d),e+=p(b),(d=c.channel)?b=d.call(a,{hash:{}}):(d=a&&a.channel,b=typeof d===o?d.call(a,{hash:{}}):d),e+=p(b)+'.png" />\n    '}function k(a){var b,d,e="";return e+='\n        <i class="fm-channel-',(d=c.channel)?b=d.call(a,{hash:{}}):(d=a&&a.channel,b=typeof d===o?d.call(a,{hash:{}}):d),e+=p(b)+"-",(d=c.style)?b=d.call(a,{hash:{}}):(d=a&&a.style,b=typeof d===o?d.call(a,{hash:{}}):d),e+=p(b)+'"></i>\n    '}function l(){return"\n        </a>\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers);var m,n="",o="function",p=this.escapeExpression,q=this,r=c.helperMissing;return m=c["with"].call(b,b&&b.channel_icon,{hash:{},inverse:q.noop,fn:q.program(1,f,e)}),(m||0===m)&&(n+=m),n+="\n"});return b.registerPartial("templates/common/channel_icon",c),b.registerPartial("templates/common/channel_icon",c),c}),define("hbs!templates/common/timestamp",["hbs","hbs/handlebars.runtime"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n<div class="fm-timestamp">\n    ',d=c["if"].call(a,a&&a.showPermalink,{hash:{},inverse:m.noop,fn:m.program(2,g,b)}),(d||0===d)&&(f+=d),f+="\n        ",(e=c.timestamp)?d=e.call(a,{hash:{}}):(e=a&&a.timestamp,d=typeof e===k?e.call(a,{hash:{}}):e),f+=l(d)+"\n    ",d=c["if"].call(a,a&&a.showPermalink,{hash:{},inverse:m.noop,fn:m.program(4,h,b)}),(d||0===d)&&(f+=d),f+="\n</div>\n"}function g(a){var b,c="";return c+='\n        <a target="_blank" href="'+l((b=a&&a.udata,b=null==b||b===!1?b:b.permalink,typeof b===k?b.apply(a):b))+'">\n    '}function h(){return"\n        </a>\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers);var i,j="",k="function",l=this.escapeExpression,m=this;return i=c["with"].call(b,b&&b.timestamp,{hash:{},inverse:m.noop,fn:m.program(1,f,e)}),(i||0===i)&&(j+=i),j+="\n"});return b.registerPartial("templates/common/timestamp",c),b.registerPartial("templates/common/timestamp",c),c}),define("hbs!templates/common/text",["hbs","hbs/handlebars.runtime"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\n<div class="fm-text">\n    ',d=c["if"].call(a,a&&a.showText,{hash:{},inverse:n.noop,fn:n.program(2,g,b)}),(d||0===d)&&(e+=d),e+="\n    ",d=c["if"].call(a,a&&a.showPreview,{hash:{},inverse:n.noop,fn:n.program(5,i,b)}),(d||0===d)&&(e+=d),e+="\n</div>\n"}function g(a,b){var d,e,f="";return f+="\n        ",d=c["if"].call(a,(d=a&&a.udata,null==d||d===!1?d:d.title),{hash:{},inverse:n.noop,fn:n.program(3,h,b)}),(d||0===d)&&(f+=d),f+='\n        <p class="fm-text-main">\n            ',(e=c.text)?d=e.call(a,{hash:{}}):(e=a&&a.text,d=typeof e===l?e.call(a,{hash:{}}):e),(d||0===d)&&(f+=d),f+="\n        </p>\n    "}function h(a){var b,d,e="";return e+='\n            <span class="fm-text-title">',(d=c.title)?b=d.call(a,{hash:{}}):(d=a&&a.title,b=typeof d===l?d.call(a,{hash:{}}):d),e+=m(b)+"</span>\n        "}function i(a){var b,d,e="";return e+='\n        <span class="fm-text-preview">\n            ',(d=c.preview)?b=d.call(a,{hash:{}}):(d=a&&a.preview,b=typeof d===l?d.call(a,{hash:{}}):d),(b||0===b)&&(e+=b),e+="\n        </span>\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers);var j,k="",l="function",m=this.escapeExpression,n=this;return j=c["with"].call(b,b&&b.text,{hash:{},inverse:n.noop,fn:n.program(1,f,e)}),(j||0===j)&&(k+=j),k+="\n"});return b.registerPartial("templates/common/text",c),b.registerPartial("templates/common/text",c),c}),define("hbs!templates/common/media",["hbs","hbs/handlebars.runtime"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n",d=c["if"].call(a,a&&a.hasMedia,{hash:{},inverse:q.noop,fn:q.program(2,g,b)}),(d||0===d)&&(e+=d),e+="\n"}function g(a,b){var d,e="";return e+='\n<div class="fm-media">\n    ',d=c["if"].call(a,a&&a.hasVideos,{hash:{},inverse:q.program(5,i,b),fn:q.program(3,h,b)}),(d||0===d)&&(e+=d),e+="\n</div>\n"}function h(a){var b,d,e="";return e+='\n        <div class="fm-video-player">',(d=c.video_html)?b=d.call(a,{hash:{}}):(d=a&&a.video_html,b=typeof d===o?d.call(a,{hash:{}}):d),(b||0===b)&&(e+=b),e+="</div>\n    "}function i(a,b){var d,e,f="";return f+='\n        <div class="fm-photo-wrapper">\n            <div class="fm-image-helper"></div>\n            ',d=c["if"].call(a,a&&a.showPermalink,{hash:{},inverse:q.noop,fn:q.program(6,j,b)}),(d||0===d)&&(f+=d),f+="\n                <img ",d=c["if"].call(a,a&&a.spinner,{hash:{},inverse:q.noop,fn:q.program(8,k,b)}),(d||0===d)&&(f+=d),f+='class="fm-photo" src="',(e=c.imgSrc)?d=e.call(a,{hash:{}}):(e=a&&a.imgSrc,d=typeof e===o?e.call(a,{hash:{}}):e),f+=p(d)+'" />\n            ',d=c["if"].call(a,a&&a.showPermalink,{hash:{},inverse:q.noop,fn:q.program(10,l,b)}),(d||0===d)&&(f+=d),f+="\n        </div>\n    "}function j(a){var b,d,e="";return e+='\n            <a target="_blank" href="',(d=c.permalink)?b=d.call(a,{hash:{}}):(d=a&&a.permalink,b=typeof d===o?d.call(a,{hash:{}}):d),e+=p(b)+'">\n            '}function k(){return"data-fm-spinner "}function l(){return"\n            </a>\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers);var m,n="",o="function",p=this.escapeExpression,q=this;return m=c["with"].call(b,b&&b.media,{hash:{},inverse:q.noop,fn:q.program(1,f,e)}),(m||0===m)&&(n+=m),n+="\n"});return b.registerPartial("templates/common/media",c),b.registerPartial("templates/common/media",c),c}),define("hbs!templates/common/update",["hbs","hbs/handlebars.runtime","hbs!templates/common/avatar","hbs!templates/common/author","hbs!templates/common/channel_icon","hbs!templates/common/timestamp","hbs!templates/common/text","hbs!templates/common/media"],function(a,b){var c=b.template(function(a,b,c,d){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials);var e,f="",g=this;return e=g.invokePartial(d["templates/common/avatar"],"templates/common/avatar",b,c,d),(e||0===e)&&(f+=e),f+='\n<div class="fm-info">\n    ',e=g.invokePartial(d["templates/common/author"],"templates/common/author",b,c,d),(e||0===e)&&(f+=e),e=g.invokePartial(d["templates/common/channel_icon"],"templates/common/channel_icon",b,c,d),(e||0===e)&&(f+=e),e=g.invokePartial(d["templates/common/timestamp"],"templates/common/timestamp",b,c,d),(e||0===e)&&(f+=e),f+="\n</div>\n",e=g.invokePartial(d["templates/common/text"],"templates/common/text",b,c,d),(e||0===e)&&(f+=e),f+="\n",e=g.invokePartial(d["templates/common/media"],"templates/common/media",b,c,d),(e||0===e)&&(f+=e),f+="\n"});return b.registerPartial("templates/common/update",c),c}),function(a){function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(a,b){function c(){ib.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}var d=!0;return i(function(){return d&&(c(),d=!1),b.apply(this,arguments)},b)}function d(a,b){return function(c){return l(a.call(this,c),b)}}function e(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function f(){}function g(a){y(a),i(this,a)}function h(a){var b=r(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._bubble()}function i(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function j(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&wb.hasOwnProperty(b)&&(c[b]=a[b]);return c}function k(a){return 0>a?Math.ceil(a):Math.floor(a)}function l(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function m(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&db(a,"Date",cb(a,"Date")+f*c),g&&bb(a,cb(a,"Month")+g*c),d&&ib.updateOffset(a,f||g)}function n(a){return"[object Array]"===Object.prototype.toString.call(a)}function o(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function p(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&t(a[d])!==t(b[d]))&&g++;return g+f}function q(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Zb[a]||$b[b]||b}return a}function r(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=q(c),b&&(d[b]=a[c]));return d}function s(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}ib[b]=function(e,f){var g,h,i=ib.fn._lang[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=ib().utc().set(d,a);return i.call(ib.fn._lang,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function t(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function u(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function v(a,b,c){return $(ib([a,11,31+b-c]),b,c).week}function w(a){return x(a)?366:365}function x(a){return a%4===0&&a%100!==0||a%400===0}function y(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[pb]<0||a._a[pb]>11?pb:a._a[qb]<1||a._a[qb]>u(a._a[ob],a._a[pb])?qb:a._a[rb]<0||a._a[rb]>23?rb:a._a[sb]<0||a._a[sb]>59?sb:a._a[tb]<0||a._a[tb]>59?tb:a._a[ub]<0||a._a[ub]>999?ub:-1,a._pf._overflowDayOfYear&&(ob>b||b>qb)&&(b=qb),a._pf.overflow=b)}function z(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function A(a){return a?a.toLowerCase().replace("_","-"):a}function B(a,b){return b._isUTC?ib(a).zone(b._offset||0):ib(a).local()
}function C(a,b){return b.abbr=a,vb[a]||(vb[a]=new f),vb[a].set(b),vb[a]}function D(a){delete vb[a]}function E(a){var b,c,d,e,f=0,g=function(a){if(!vb[a]&&xb)try{require("./lang/"+a)}catch(b){}return vb[a]};if(!a)return ib.fn._lang;if(!n(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){for(e=A(a[f]).split("-"),b=e.length,d=A(a[f+1]),d=d?d.split("-"):null;b>0;){if(c=g(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&p(e,d,!0)>=b-1)break;b--}f++}return ib.fn._lang}function F(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function G(a){var b,c,d=a.match(Bb);for(b=0,c=d.length;c>b;b++)d[b]=cc[d[b]]?cc[d[b]]:F(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function H(a,b){return a.isValid()?(b=I(b,a.lang()),_b[b]||(_b[b]=G(b)),_b[b](a)):a.lang().invalidDate()}function I(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Cb.lastIndex=0;d>=0&&Cb.test(a);)a=a.replace(Cb,c),Cb.lastIndex=0,d-=1;return a}function J(a,b){var c,d=b._strict;switch(a){case"Q":return Nb;case"DDDD":return Pb;case"YYYY":case"GGGG":case"gggg":return d?Qb:Fb;case"Y":case"G":case"g":return Sb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?Rb:Gb;case"S":if(d)return Nb;case"SS":if(d)return Ob;case"SSS":if(d)return Pb;case"DDD":return Eb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ib;case"a":case"A":return E(b._l)._meridiemParse;case"X":return Lb;case"Z":case"ZZ":return Jb;case"T":return Kb;case"SSSS":return Hb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?Ob:Db;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Db;case"Do":return Mb;default:return c=new RegExp(R(Q(a.replace("\\","")),"i"))}}function K(a){a=a||"";var b=a.match(Jb)||[],c=b[b.length-1]||[],d=(c+"").match(Xb)||["-",0,0],e=+(60*d[1])+t(d[2]);return"+"===d[0]?-e:e}function L(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[pb]=3*(t(b)-1));break;case"M":case"MM":null!=b&&(e[pb]=t(b)-1);break;case"MMM":case"MMMM":d=E(c._l).monthsParse(b),null!=d?e[pb]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[qb]=t(b));break;case"Do":null!=b&&(e[qb]=t(parseInt(b,10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=t(b));break;case"YY":e[ob]=ib.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[ob]=t(b);break;case"a":case"A":c._isPm=E(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[rb]=t(b);break;case"m":case"mm":e[sb]=t(b);break;case"s":case"ss":e[tb]=t(b);break;case"S":case"SS":case"SSS":case"SSSS":e[ub]=t(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=K(b);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":a=a.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=b)}}function M(a){var b,c,d,e,f,g,h,i,j,k,l=[];if(!a._d){for(d=O(a),a._w&&null==a._a[qb]&&null==a._a[pb]&&(f=function(b){var c=parseInt(b,10);return b?b.length<3?c>68?1900+c:2e3+c:c:null==a._a[ob]?ib().weekYear():a._a[ob]},g=a._w,null!=g.GG||null!=g.W||null!=g.E?h=_(f(g.GG),g.W||1,g.E,4,1):(i=E(a._l),j=null!=g.d?X(g.d,i):null!=g.e?parseInt(g.e,10)+i._week.dow:0,k=parseInt(g.w,10)||1,null!=g.d&&j<i._week.dow&&k++,h=_(f(g.gg),k,j,i._week.doy,i._week.dow)),a._a[ob]=h.year,a._dayOfYear=h.dayOfYear),a._dayOfYear&&(e=null==a._a[ob]?d[ob]:a._a[ob],a._dayOfYear>w(e)&&(a._pf._overflowDayOfYear=!0),c=W(e,0,a._dayOfYear),a._a[pb]=c.getUTCMonth(),a._a[qb]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=l[b]=d[b];for(;7>b;b++)a._a[b]=l[b]=null==a._a[b]?2===b?1:0:a._a[b];l[rb]+=t((a._tzm||0)/60),l[sb]+=t((a._tzm||0)%60),a._d=(a._useUTC?W:V).apply(null,l)}}function N(a){var b;a._d||(b=r(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],M(a))}function O(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function P(a){a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=E(a._l),h=""+a._i,i=h.length,j=0;for(d=I(a._f,g).match(Bb)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(J(e,a))||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),cc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),L(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[rb]<12&&(a._a[rb]+=12),a._isPm===!1&&12===a._a[rb]&&(a._a[rb]=0),M(a),y(a)}function Q(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function R(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function S(a){var c,d,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,c=i({},a),c._pf=b(),c._f=a._f[f],P(c),z(c)&&(g+=c._pf.charsLeftOver,g+=10*c._pf.unusedTokens.length,c._pf.score=g,(null==e||e>g)&&(e=g,d=c));i(a,d||c)}function T(a){var b,c,d=a._i,e=Tb.exec(d);if(e){for(a._pf.iso=!0,b=0,c=Vb.length;c>b;b++)if(Vb[b][1].exec(d)){a._f=Vb[b][0]+(e[6]||" ");break}for(b=0,c=Wb.length;c>b;b++)if(Wb[b][1].exec(d)){a._f+=Wb[b][0];break}d.match(Jb)&&(a._f+="Z"),P(a)}else ib.createFromInputFallback(a)}function U(b){var c=b._i,d=yb.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?T(b):n(c)?(b._a=c.slice(0),M(b)):o(c)?b._d=new Date(+c):"object"==typeof c?N(b):"number"==typeof c?b._d=new Date(c):ib.createFromInputFallback(b)}function V(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function W(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function X(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Y(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Z(a,b,c){var d=nb(Math.abs(a)/1e3),e=nb(d/60),f=nb(e/60),g=nb(f/24),h=nb(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",nb(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,Y.apply({},i)}function $(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=ib(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function _(a,b,c,d,e){var f,g,h=W(a,0,1).getUTCDay();return c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:w(a-1)+g}}function ab(b){var c=b._i,d=b._f;return null===c||d===a&&""===c?ib.invalid({nullInput:!0}):("string"==typeof c&&(b._i=c=E().preparse(c)),ib.isMoment(c)?(b=j(c),b._d=new Date(+c._d)):d?n(d)?S(b):P(b):U(b),new g(b))}function bb(a,b){var c;return"string"==typeof b&&(b=a.lang().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),u(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function cb(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function db(a,b,c){return"Month"===b?bb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function eb(a,b){return function(c){return null!=c?(db(this,a,c),ib.updateOffset(this,b),this):cb(this,a)}}function fb(a){ib.duration.fn[a]=function(){return this._data[a]}}function gb(a,b){ib.duration.fn["as"+a]=function(){return+this/b}}function hb(a){"undefined"==typeof ender&&(jb=mb.moment,mb.moment=a?c("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ib):ib)}for(var ib,jb,kb,lb="2.6.0",mb="undefined"!=typeof global?global:this,nb=Math.round,ob=0,pb=1,qb=2,rb=3,sb=4,tb=5,ub=6,vb={},wb={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},xb="undefined"!=typeof module&&module.exports,yb=/^\/?Date\((\-?\d+)/i,zb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ab=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Bb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Cb=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Db=/\d\d?/,Eb=/\d{1,3}/,Fb=/\d{1,4}/,Gb=/[+\-]?\d{1,6}/,Hb=/\d+/,Ib=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Jb=/Z|[\+\-]\d\d:?\d\d/gi,Kb=/T/i,Lb=/[\+\-]?\d+(\.\d{1,3})?/,Mb=/\d{1,2}/,Nb=/\d/,Ob=/\d\d/,Pb=/\d{3}/,Qb=/\d{4}/,Rb=/[+-]?\d{6}/,Sb=/[+-]?\d+/,Tb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ub="YYYY-MM-DDTHH:mm:ssZ",Vb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Wb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Xb=/([\+\-]|\d\d)/gi,Yb=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Zb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},$b={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},_b={},ac="DDD w W M D d".split(" "),bc="M D H h m s w W".split(" "),cc={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+l(Math.abs(a),6)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return l(this.weekYear(),4)},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return l(this.isoWeekYear(),4)},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return t(this.milliseconds()/100)},SS:function(){return l(t(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},SSSS:function(){return l(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+l(t(a/60),2)+":"+l(t(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+l(t(a/60),2)+l(t(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},dc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ac.length;)kb=ac.pop(),cc[kb+"o"]=e(cc[kb],kb);for(;bc.length;)kb=bc.pop(),cc[kb+kb]=d(cc[kb],2);for(cc.DDDD=d(cc.DDD,3),i(f.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=ib.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=ib([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return $(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ib=function(c,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=c,g._f=d,g._l=e,g._strict=f,g._isUTC=!1,g._pf=b(),ab(g)},ib.suppressDeprecationWarnings=!1,ib.createFromInputFallback=c("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)}),ib.utc=function(c,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=c,g._f=d,g._strict=f,g._pf=b(),ab(g).utc()},ib.unix=function(a){return ib(1e3*a)},ib.duration=function(a,b){var c,d,e,f=a,g=null;return ib.isDuration(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=zb.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:t(g[qb])*c,h:t(g[rb])*c,m:t(g[sb])*c,s:t(g[tb])*c,ms:t(g[ub])*c}):(g=Ab.exec(a))&&(c="-"===g[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},f={y:e(g[2]),M:e(g[3]),d:e(g[4]),h:e(g[5]),m:e(g[6]),s:e(g[7]),w:e(g[8])}),d=new h(f),ib.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},ib.version=lb,ib.defaultFormat=Ub,ib.momentProperties=wb,ib.updateOffset=function(){},ib.lang=function(a,b){var c;return a?(b?C(A(a),b):null===b?(D(a),a="en"):vb[a]||E(a),c=ib.duration.fn._lang=ib.fn._lang=E(a),c._abbr):ib.fn._lang._abbr},ib.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),E(a)},ib.isMoment=function(a){return a instanceof g||null!=a&&a.hasOwnProperty("_isAMomentObject")},ib.isDuration=function(a){return a instanceof h},kb=dc.length-1;kb>=0;--kb)s(dc[kb]);ib.normalizeUnits=function(a){return q(a)},ib.invalid=function(a){var b=ib.utc(0/0);return null!=a?i(b._pf,a):b._pf.userInvalidated=!0,b},ib.parseZone=function(){return ib.apply(null,arguments).parseZone()},ib.parseTwoDigitYear=function(a){return t(a)+(t(a)>68?1900:2e3)},i(ib.fn=g.prototype,{clone:function(){return ib(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=ib(this).utc();return 0<a.year()&&a.year()<=9999?H(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return z(this)},isDSTShifted:function(){return this._a?this.isValid()&&p(this._a,(this._isUTC?ib.utc(this._a):ib(this._a)).toArray())>0:!1},parsingFlags:function(){return i({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=H(this,a||ib.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?ib.duration(+b,a):ib.duration(a,b),m(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?ib.duration(+b,a):ib.duration(a,b),m(this,c,-1),this},diff:function(a,b,c){var d,e,f=B(a,this),g=6e4*(this.zone()-f.zone());return b=q(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-ib(this).startOf("month")-(f-ib(f).startOf("month")))/d,e-=6e4*(this.zone()-ib(this).startOf("month").zone()-(f.zone()-ib(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:k(e)},from:function(a,b){return ib.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(ib(),a)},calendar:function(){var a=B(ib(),this).startOf("day"),b=this.diff(a,"days",!0),c=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse";return this.format(this.lang().calendar(c,this))},isLeapYear:function(){return x(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=X(a,this.lang()),this.add({d:a-b})):b},month:eb("Month",!0),startOf:function(a){switch(a=q(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=q(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+ib(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+ib(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+B(a,this).startOf(b)},min:function(a){return a=ib.apply(null,arguments),this>a?this:a},max:function(a){return a=ib.apply(null,arguments),a>this?this:a},zone:function(a,b){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof a&&(a=K(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?m(this,ib.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ib.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?ib(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return u(this.year(),this.month())},dayOfYear:function(a){var b=nb((ib(this).startOf("day")-ib(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=$(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=$(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=$(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return v(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return v(this.year(),a.dow,a.doy)},get:function(a){return a=q(a),this[a]()},set:function(a,b){return a=q(a),"function"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=E(b),this)}}),ib.fn.millisecond=ib.fn.milliseconds=eb("Milliseconds",!1),ib.fn.second=ib.fn.seconds=eb("Seconds",!1),ib.fn.minute=ib.fn.minutes=eb("Minutes",!1),ib.fn.hour=ib.fn.hours=eb("Hours",!0),ib.fn.date=eb("Date",!0),ib.fn.dates=c("dates accessor is deprecated. Use date instead.",eb("Date",!0)),ib.fn.year=eb("FullYear",!0),ib.fn.years=c("years accessor is deprecated. Use year instead.",eb("FullYear",!0)),ib.fn.days=ib.fn.day,ib.fn.months=ib.fn.month,ib.fn.weeks=ib.fn.week,ib.fn.isoWeeks=ib.fn.isoWeek,ib.fn.quarters=ib.fn.quarter,ib.fn.toJSON=ib.fn.toISOString,i(ib.duration.fn=h.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;h.milliseconds=e%1e3,a=k(e/1e3),h.seconds=a%60,b=k(a/60),h.minutes=b%60,c=k(b/60),h.hours=c%24,f+=k(c/24),h.days=f%30,g+=k(f/30),h.months=g%12,d=k(g/12),h.years=d},weeks:function(){return k(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*t(this._months/12)},humanize:function(a){var b=+this,c=Z(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=ib.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=ib.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=q(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=q(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:ib.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(kb in Yb)Yb.hasOwnProperty(kb)&&(gb(kb,Yb[kb]),fb(kb.toLowerCase()));gb("Weeks",6048e5),ib.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ib.lang("en",{ordinal:function(a){var b=a%10,c=1===t(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),xb?module.exports=ib:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(mb.moment=jb),ib}),hb(!0)):hb()}.call(this),define("fm/helpers/feed.theme",["feedmagnet","jquery","underscore","spin","hbs!templates/common/master","hbs!templates/common/update","moment"],function(a,b,c,d,e,f,g){var h={append_viewer:b("body"),checkin_replacements:!1,clicktag_text:null,click_url:null,css_class:!1,featured_css_class:"fm-featured",highlight:!1,icon_style:"main",icon_path:!1,image_size:"600/600/exact",timestamp_language:"en",links:!0,name_char_limit:!1,preview_char_limit:!1,random_class:[],spinner:!0,text_char_limit:!1,update_attribute:"html",username_char_limit:!1,template:f,video_settings:{thumbnails:!1},reviewTextCharLimit:120},i=function(a,b){var d=this;b=b||{},d.feed=a;var f;f=a.themes?a.themes[0].timestamp_language:b.timestamp_language?b.timestamp_language:"en",b.timestamp_language=f,c.each(h,function(a,c){d[c]=b.hasOwnProperty(c)?b[c]:a}),d.highlight&&d.highlight.constructor===Object&&(d.highlight=[d.highlight]),d.master_template=e};i.prototype={generate_html:function(a){var b,d,e=this,f=a.data;"bazaarvoice"===f.channel&&f.productData&&f.product_id&&(f.bvProductInfo=f.productData[f.product_id.toLowerCase()]),"bazaarvoice"===f.channel&&f.rating&&(window.BV_WIDGET_CONFIG.GlobalConfigs.starImg?b=window.BV_WIDGET_CONFIG.GlobalConfigs.starImg.replace("%d",(""+f.rating.toFixed(2)).replace(".","_")).replace("%d","5"):d=(f.rating/5*100).toFixed(2));var h=e.set_css_class(a),i=e.process_text_values(a),j=e.process_highlights(a);j.css_class&&(h+=" "+j.css_class.join(" ")),e.random_class&&e.random_class.length&&(h+=" "+e.random_class[c.random(0,e.random_class.length-1)]);var k,l,m,n=e.process_video(a),o=f.photos.length>0,p=f.videos.length>0,q=null;o&&(q=f.photos[0].image_service_url,l=e.image_size.split("/"),k=f.photos[0].permalink||f.permalink||!1,m=f.links&&k,l[0]&&(q+="&width="+l[0]),l[1]&&(q+="&height="+l[1]),l[2]&&(q+="&exact="+!!l[2]));var r=e.template({udata:f,shareLabel:e.shareLabel,css_class:h,clicktag_text:e.clicktag_text,click_url:e.click_url,highlight:j,avatar:{udata:f},author:{udata:f,links:e.links,fullname:i.fullname,username:i.username,showProfileLink:f.author.profile&&e.links},praises:{praises:e.delimit_numbers(f.praises)},product_info:{udata:f},comment_count:{comments:f.comments?f.comments.length:""},channel_icon:{path:e.icon_path,links:e.links,style:e.icon_style,udata:f,channel:f.channel},ratingstars:{udata:f,starImgUrl:b,ratingPercentage:d,hasStars:b||d,fixedRating:f.rating?f.rating.toFixed(1):null},timestamp:{udata:f,showPermalink:m,timestamp:g.unix(f.timestamp).lang(e.timestamp_language).fromNow()},text:{udata:f,text:i.text,preview:i.preview,links:e.links,update:a,showText:""!==f.original_text,showPreview:i.preview&&""!==i.preview},media:{hasMedia:f.videos.length||f.photos.length,hasPhotos:o,hasVideos:p,udata:f,video_html:n,links:e.links,image_size:e.image_size,size_array:e.image_size.split("/"),imgSrc:q,spinner:e.spinner,permalink:k,showPermalink:m}});a[e.update_attribute]=e.master_template({css_class:h,outputHTML:r,highlightBefore:(j.before||[]).join(""),highlightPrepend:(j.prepend||[]).join(""),highlightAppend:(j.append||[]).join(""),highlightAfter:(j.after||[]).join("")})},delimit_numbers:function(a){return"number"==typeof a&&(a=a.toString()),"string"!=typeof a?!1:a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},set_css_class:function(a){var b=this,c=a.data,d="fm-update-wrapper";return b.css_class&&(d+=" "+b.css_class),d+=c.videos.length?" fm-has-video fm-has-media":c.photos.length?" fm-has-photo fm-has-media":" fm-no-media","bazaarvoice"===c.channel&&(d+=" fm-bv-channel-update"),b.feed.update_is_featured(a)&&(d+=" "+b.featured_css_class),d},process_text_values:function(a){var b=this,d=a.data;if("checkin"===d.classification&&""===d.original_text)if(b.checkin_replacements){var e=c.random(0,b.checkin_replacements.length-1),f=b.checkin_replacements[e];d.original_text=f.replace("|NAME|",d.author.alias),d.teaser=""}else""!==d.teaser&&(d.original_text=d.teaser,d.teaser="");var g=b.name_char_limit&&b.name_char_limit<d.author.alias.length?d.author.alias.substr(0,b.name_char_limit-2)+"...":d.author.alias,h=b.username_char_limit&&b.username_char_limit<d.author.token.length?d.author.token.substr(0,b.username_char_limit-2)+"...":d.author.token,i=d.original_text;d.original_text=b.text_char_limit&&b.text_char_limit<d.original_text.length?d.original_text.substr(0,b.text_char_limit-3)+"...":d.original_text;var j=c(a).format_text({strip_links:!1,add_markup:b.links});d.original_text=i;var k=b.preview_char_limit&&d.teaser&&b.preview_char_limit<d.teaser.length?d.teaser.substr(0,b.preview_char_limit-2)+"...":d.teaser;if("bazaarvoice"===d.channel&&j.length>this.reviewTextCharLimit){for(var l=j.substring(0,this.reviewTextCharLimit),m=this.reviewTextCharLimit-1;" "!==l.charAt(m)&&m>=this.reviewTextCharLimit/2;)m--;0>=m&&(m=this.reviewTextCharLimit),j=j.substring(0,m)+'<span class="bv-text-ellipsis">...</span><span class="bv-truncated-text">'+j.substring(m)+"</span>"}return{username:h,fullname:g,text:j,preview:k}},process_highlights:function(a){var b=this,d=a.data,e={};if(!b.highlight)return e;var f=[],g=!1;return c.each(b.highlight,function(a){if(!g){var b=[];if("string"==typeof a.groups&&(a.groups=[a.groups]),a.groups){var h=c.intersection(d.groups,a.groups);b.push(h.length>0)}return"string"==typeof a.classification&&(a.classification=[a.classification]),a.classification&&b.push(-1!==c.indexOf(a.classification,d.classification)),"string"==typeof a.channel&&(a.channel=[a.channel]),a.channel&&b.push(-1!==c.indexOf(a.channel,d.channel)),b.length&&-1===c.indexOf(b,!1)&&(a.exclusive===!0?(f=[a],g=!0):f.push(a)),e}}),c.each(f,function(a){c.defaults(d,{theme_highlights:{}}),c.each(c.omit(a,["groups","classification","channel","exclusive"]),function(a,b){e[b]||(e[b]=[]),e[b].push(a),d.theme_highlights[b]=e[b]})}),e},process_video:function(a){var b=this,d=a.data,e=d.videos[0];if(d.videos.length){var f,g;if(b.video_settings.thumbnails)return f='<div class="video-js vjs-default-skin vjs-big-play-centered fm-video-thumbnail">',e.image_url&&(f+='<div class="vjs-poster"><img src="'+e.image_url+'" class="fm-video-thumb" /></div>'),f+='<div style="font-size: 100% !important;" class="vjs-big-play-button"></div>',f+="</div>";var h={width:"100%"},i="video_"+d.id;return b.video_settings.use_vidjs||"youtube"!==e.origin?(f='<video class="fm-video video-js vjs-default-skin" id="'+i+'" ',f+=b.video_settings.preload?'preload="'+b.video_settings.preload+'" ':'preload="none" ',e.image_url&&(f+='poster="'+e.image_url+'" '),c.each(["html5","autoplay","loop","muted","controls","modest_branding","preload","showinfo"],function(a){h[a]=b.video_settings[a],b.video_settings[a]&&(f+=" "+a+" ")}),"youtube"===e.origin?(h.src="//www.youtube.com/watch?v="+e.token,h.token=e.token,h.techOrder=["youtube"],f+='data-setup="'+JSON.stringify(h).replace(/"/g,"&quot;")+'"',f+=" >"):"vimeo"===e.origin?(h.src="//vimeo.com/"+e.token,h.techOrder=["vimeo"],f+='data-setup="'+JSON.stringify(h).replace(/"/g,"&quot;")+'"',f+=" >"):(h.techOrder=["html5","flash"],h.nativeControlsForTouch=!1,h.usingNativeControls=!1,f+='data-setup="'+JSON.stringify(h).replace(/"/g,"&quot;")+'"',f+=' data-source="'+e.remote_url+'"',f+=' src="'+e.remote_url+'" type="video/mp4">'),f+="</video>"):(c.each(["html5","autoplay","loop","muted","controls","modest_branding","preload","showinfo"],function(a){h[a]=b.video_settings[a]}),f='<iframe class="fm-video" id="'+i+'" ',g="http://www.youtube.com/embed/"+e.token+"?",h.html5&&(g+="&amp;html5=1"),h.autoplay&&(g+="&amp;autoplay=1"),h.controls===!1&&(g+="&amp;controls=0"),h.loop&&(g+="&amp;loop=1"),h.modest_branding&&(g+="&amp;modestbranding=1"),h.showinfo===!1&&(g+="&amp;showinfo=0"),f+='src="'+g+'"></iframe>'),f}}},a.Feed.mixin({theme:function(a,b){var c=new i(a,b);return a.themes=a.themes||[],a.themes.push(c),a.connect("new_update",function(a,b){c.generate_html(b.update)}),a}});var j={img_loaded:function(a){return a.constructor===b&&(a=a.get(0)),!(!a.complete||"undefined"!=typeof a.natrualWidth&&0===a.naturalWidth)
},add_spinner:function(a,e){e=c.defaults(e||{},{color:"#333"}),a.hide();var f=a.data();f.spinner&&(f.spinner.stop(),delete f.spinner);var g;if(f.$spinner)g=f.$spinner;else{var h=a.parents(".fm-media").width();g=b("<div/>").css({width:h,height:h,background:"transparent",color:"black"}).addClass("fm-spinner"),a.after(g),a.data("$spinner",g),a.load(function(){j.remove_spinner(a)})}var i=g.get(0);f.spinner=new d(e).spin(i)},remove_spinner:function(a){var b=a.data("$spinner");b&&b.remove(),a.show()}};return b.fn.fm_spin=function(a){return this.each(function(){var c=b(this).find("[data-fm-spinner]");return 0===c.length?!1:void(j.img_loaded(c.get(0))||j.add_spinner(c,a))})},{UpdateToHTML:i,option_keys:c.keys(h),img_helpers:j}}),define("fm/templates/fm-carousel/Carousel",["require","jquery","underscore","transit","feedmagnet","../../helpers/feed.theme"],function(a){var b=a("jquery"),c=a("underscore");a("transit");var d=a("feedmagnet"),e=(a("../../helpers/feed.theme"),function(a,e){var f=this;e=e||{},f.$el=a.constructor===b?a:b(a),f.$el.addClass("fm-carousel"),c.each({$btn_left:"auto",$btn_right:"auto",cols:3,content_callback:!1,identifier:"Carousel",padding:10,sharing:{},theme:{},update_count:20},function(a,b){f[b]=e.hasOwnProperty(b)?e[b]:a}),f.groups=e.groups,c.defaults(f.theme,{template:'<div class="fm-content">{{ avatar }}<div class="fm-credits">{{ author }}{{ channel_icon }}</div>{{ text }}{% if (udata.channel === "twitter") { %}<div class="fm-twt-actions"></div>{% } %}</div>{{ media }}<div class="fm-bottombar"><div class="fm-sharing">Share: </div>{{ timestamp }}</div>'}),c.each({left:"&lsaquo;",right:"&rsaquo;"},function(a,c){"auto"===f["$btn_"+c]&&(f["$btn_"+c]=b("<a />").attr("href","#").addClass("fm-btn-"+c+" fm-btn").html(a).appendTo(f.$el))}),f.pos=0,f.slidepos=0,f.$wrapper=b("<div/>").addClass("fm-carousel-wrapper").appendTo(f.$el),f.$output=b("<div/>").addClass("fm-output").appendTo(f.$wrapper),f.width=f.$wrapper.outerWidth(),f.uwidth=(f.width-2*f.padding)/f.cols,f.feed=d.Feed(f.groups).theme(f.theme).get({limit:f.update_count,identifier:f.identifier}),f.element=d.Element(b("<div />")).display(f.feed).connect("updates_placed",c.bind(f.updates_placed,f)),f.sharing=new sharing.PostSharing(f.sharing)});return e.prototype={self_destruct:function(a){var b=this;b.destroyed||(b.destroyed=!0,c.each(d.signals._registry,function(a,e){d.signals._registry[e]=c.reject(a,function(a){return b.feed===a.sender||b.element===a.sender})}),b.$el.empty(),b.$el=null,"function"==typeof a&&a())},place_update:function(a){var b=this,c=b.get_x("left"===a?b.slidepos:b.slidepos+b.cols-1),d="left"===a?b.pos:b.pos+b.cols-1;if(d>=b.element.updates.length&&(d-=b.element.updates.length),b.element.updates[d]){var e=b.element.updates[d]._el.clone(!0).css({width:b.uwidth,left:c});b.sharing.add_buttons(b.element.updates[d],e),"left"===a?e.prependTo(b.$output):e.appendTo(b.$output),b.content_callback&&b.content_callback(b)}},updates_placed:function(a){var b=this;if(!b.destroyed){c.each(["left","right"],function(a){b["$btn_"+a]&&b["$btn_"+a].show().click(function(c){c.preventDefault(),b.slide("right"===a?1:-1)})});for(var d=0;d<b.cols;d++){var e=a.updates[b.pos+d]._el.clone(!0).css({width:b.uwidth,left:b.get_x(d)}).appendTo(b.$output);b.sharing.add_buttons(a.updates[b.pos+d],e)}}},get_x:function(a){var b=this;return a*(b.uwidth+b.padding)},slide:function(a){var b=this;b.pos+=a,b.slidepos+=a,b.pos<0&&(b.pos=b.element.updates.length-1),b.pos>=b.element.updates.length&&(b.pos=0),b.place_update(1>a?"left":"right"),b.$output.css({left:b.get_x(-1*b.slidepos)}),b.cleanup(a>0)},cleanup:c.throttle(function(a){var b=this,c=b.$output.find(".fm-update");c.length>b.update_count&&(a?c.first().remove():c.last().remove())},1e3)},b.fn.carousel=function(a,c){return this.each(function(){var d=b(this),f=d.data("fm_obj");f?"destroy"===a?(d.unbind("destroyed",f.self_destruct),d.removeData("fm_obj"),f.self_destruct(c)):"string"==typeof a&&f[a](c):(d.data("fm_obj",new e(this,a)),d.bind("destroyed",function(){b.proxy(f.self_destruct,f)}))})},b.fn.carousel.constructor=e,e}),function(a){var b="undefined";!function(a,b){"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=b():"function"==typeof define&&"object"==typeof define.amd?define("loglevel",b):this[a]=b()}("log",function(){function c(c){return typeof console===b?l:console[c]===a?console.log!==a?d(console,"log"):l:d(console,c)}function d(b,c){var d=b[c];if(d.bind!==a)return b[c].bind(b);if(Function.prototype.bind===a)return e(d,b);try{return Function.prototype.bind.call(b[c],b)}catch(f){return e(d,b)}}function e(a,b){return function(){Function.prototype.apply.apply(a,[b,arguments])}}function f(a){for(var b=0;b<m.length;b++)k[m[b]]=a(m[b])}function g(){return typeof window!==b&&window.document!==a&&window.document.cookie!==a}function h(){try{return typeof window!==b&&window.localStorage!==a&&null!==window.localStorage}catch(c){return!1}}function i(a){var b,c=!1;for(var d in k.levels)if(k.levels.hasOwnProperty(d)&&k.levels[d]===a){b=d;break}if(h())try{window.localStorage.loglevel=b}catch(e){c=!0}else c=!0;c&&g()&&(window.document.cookie="loglevel="+b+";")}function j(){var b;if(h()&&(b=window.localStorage.loglevel),b===a&&g()){var c=n.exec(window.document.cookie)||[];b=c[1]}k.levels[b]===a&&(b="SILENT"),k.setLevel(k.levels[b])}var k={},l=function(){},m=["trace","debug","info","warn","error"],n=/loglevel=([^;]+)/;k.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},k.setLevel=function(d){if("number"==typeof d&&d>=0&&d<=k.levels.SILENT){if(i(d),d===k.levels.SILENT)return void f(function(){return l});if(typeof console===b)return f(function(a){return function(){typeof console!==b&&(k.setLevel(d),k[a].apply(k,arguments))}}),"No console available for logging";f(function(a){return d<=k.levels[a.toUpperCase()]?c(a):l})}else{if("string"!=typeof d||k.levels[d.toUpperCase()]===a)throw"log.setLevel() called with invalid level: "+d;k.setLevel(k.levels[d.toUpperCase()])}},k.enableAll=function(){k.setLevel(k.levels.TRACE)},k.disableAll=function(){k.setLevel(k.levels.SILENT)};var o=typeof window!==b?window.log:a;return k.noConflict=function(){return typeof window!==b&&window.log===k&&(window.log=o),k},j(),k})}(),define("bv-widgets/BVAnalytics",["underscore","jquery","loglevel"],function(a,b,c){var d,e=function(a){var b=document.createElement("script"),c=document.getElementsByTagName("script")[0];b.type="text/javascript",b.async=!0,b.src=a,c.parentNode.insertBefore(b,c)},f=function(a,b){return b+a},g=function(){this._dedupeKeys=[];var a="",b="";if(""!==a){var d=function(){""!==b?(b=f(b,"scripts/custom/"),setTimeout(function(){c.info("Loading custom analytics preinit script:",b),e(b),setTimeout(function(){c.info("Loading custom analytics lib:",a),e(a)})})):e(a)};if(""!==a){var g="";d(),g&&(g=f(g,"scripts/custom/"),setTimeout(function(){c.info("Loading custom analytics init script:",g),e(g)},100))}}window._bvaq&&window._bva?c.info("Magpie detected on the page."):(c.info("Loading Magpie from Curations"),window._bvaq=window._bvaq||[],window._bvaq.push(["setSource","fm"]),window._bvaq.push(["setEnvironment",window.BV_WIDGET_CONFIG.GlobalConfigs.environment]),window._bvaq.push(["setStaging","production"!==window.BV_WIDGET_CONFIG.GlobalConfigs.environment]),window._bvaq.push(["setClient",window.BV_WIDGET_CONFIG.GlobalConfigs.client]),e("//magpie-static.ugc.bazaarvoice.com/magpiejs/2.4/magpie.js"))};if(g.prototype={dedupe:function(){var b=Array.prototype.slice.call(arguments).join("/");return a.contains(this._dedupeKeys,b)?(c.debug("Ignored duplicate analytics event:",b),!1):(this._dedupeKeys.push(b),!0)},used:function(a,b,d,e){c.debug("Firing used event",a,b,d,e);try{}catch(f){c.error("Error firing third party used listener.\n",f)}window._bvaq.push(["trackEvent","Feature",{type:"Used",contentId:""+d,name:a,component:b,bvProduct:"Curations",source:"fm",detail1:e,productId:window.BV_WIDGET_CONFIG.GlobalConfigs.productId,rootCategoryId:window.BV_WIDGET_CONFIG.GlobalConfigs.rootCategoryId,categoryId:window.BV_WIDGET_CONFIG.GlobalConfigs.categoryId,brand:window.BV_WIDGET_CONFIG.GlobalConfigs.brandName}])},shown:function(a,b){if(this.dedupe("shown",a,b)){c.debug("Firing shown event",a,b);try{}catch(d){c.error("Error firing third party shown listener.\n",d)}window._bvaq.push(["trackEvent","Feature",{type:"shown",name:a,component:b,bvProduct:"Curations",source:"fm",productId:window.BV_WIDGET_CONFIG.GlobalConfigs.productId,rootCategoryId:window.BV_WIDGET_CONFIG.GlobalConfigs.rootCategoryId,categoryId:window.BV_WIDGET_CONFIG.GlobalConfigs.categoryId,brand:window.BV_WIDGET_CONFIG.GlobalConfigs.brandName}])}},ugc:function(a){try{}catch(b){c.error("Error firing third party ugc listener.\n",b)}c.debug("Firing UGC event",a),window._bvaq.push(["addBatch",{type:"UGC",contentType:"socialPost",bvProduct:"Curations",source:"fm",productId:window.BV_WIDGET_CONFIG.GlobalConfigs.productId,rootCategoryId:window.BV_WIDGET_CONFIG.GlobalConfigs.rootCategoryId,categoryId:window.BV_WIDGET_CONFIG.GlobalConfigs.categoryId,brand:window.BV_WIDGET_CONFIG.GlobalConfigs.brandName,syndicated:!1,syndicationSource:""}]);for(var d=0;d<a.length;d++)this.dedupe("ugc",a[d].contentId)&&window._bvaq.push(["addBatchItem","Impression",a[d]]);window._bvaq.push(["flushBatch"])},pageView:function(a){if(this.dedupe("pageView")){c.debug("Firing pageview event",a);try{}catch(b){c.error("Error firing third party pageview listener.\n",b)}window._bvaq.push(["trackPageView",{type:"Product",bvProduct:"Curations",source:"fm",productId:window.BV_WIDGET_CONFIG.GlobalConfigs.productId,rootCategoryId:window.BV_WIDGET_CONFIG.GlobalConfigs.rootCategoryId,categoryId:window.BV_WIDGET_CONFIG.GlobalConfigs.categoryId,dc:a,brand:window.BV_WIDGET_CONFIG.GlobalConfigs.brandName}])}},resolveBrandData:function(d){var e=window.BV_WIDGET_CONFIG.GlobalConfigs.client;if(d&&!b.isEmptyObject(d)){c.debug("Brand data received from cap-proxy",d);var f=window.BV_WIDGET_CONFIG.GlobalConfigs.productId,g=d[f];if(g&&g.Brand)g.Brand.Name?e=g.Brand.Name:c.debug("Product found but has no brand data, defaulting brand name to client name");else{var h=a.first(a.keys(d));g=d[h],c.debug("Product",f," not found in response, grabbing from",h),g.Brand.Name?e=g.Brand.Name:c.debug("But, it doesn't have brand data. I give up. Defaulting brand name to client name")}this.waitingForBrandData=!1}else c.debug("Empty product data received, defaulting brand name to client name");window.BV_WIDGET_CONFIG.GlobalConfigs.brandName=e,c.debug("Brand successfully set to",e),window.BV_WIDGET_CONFIG.brandDataPromise&&(c.debug("Resolving brand data promise"),window.BV_WIDGET_CONFIG.brandDataPromise.resolve(),window.BV_WIDGET_CONFIG.brandDataPromise=void 0)}},window.BV_WIDGET_CONFIG.GlobalConfigs.productId){var h=b.Deferred();window.BV_WIDGET_CONFIG.brandDataPromise=h,g.prototype.waitingForBrandData=!0,a.each(["used","shown","ugc","pageView"],function(a){var b=g.prototype[a];g.prototype[a]=function(){var a=this,c=Array.prototype.slice.call(arguments);h.done(function(){b.apply(a,c)})}})}return{getInstance:function(){return d||(d=new g),d}}}),define("bv-widgets/helpers/BVSharing",["require","jquery","underscore","bv-widgets/BVAnalytics"],function(a,b,c,d){var e=d.getInstance(),f=function(a){var b=this;a=a||{},b.defaults={auto_apply:!0,base_url:window?window.location.href:!1,description:"Content shared via Bazaarvoice Curations Gallery",email_subject:"I thought you might like this...",facebook_app_id:null,label:"Share:",fb_encode:!1,hashtags:!1,icon_path:!1,icon_style:"main",networks:["twitter","facebook","linkedin","google_plus","pinterest","email"],query_parameter:"bvc_id",source:"Bazaarvoice Curations Gallery",twitter_icon_style:"main",social_text:{pinterest:"Pin it",facebook:"Share on Facebook",google:"Share on Google+",linkedin:"Share on LinkedIn",email:"Share via email",tweet:"Tweet",tw_reply:"Reply",tw_retweet:"Retweet",tw_favorite:"Favorite"}},c.each(b.defaults,function(c,d){b[d]=a.hasOwnProperty(d)?a[d]:c})};return f.prototype={addButtons:function(a,d){var e=this,f=a.data,g=d.find(".fm-sharing");if(e.label&&b("<span />").addClass("fm-share").html(e.label).appendTo(g),f){var h=f.author.profile||f.author.token;d.attr("data-permalink",f.permalink).attr("data-update-id",f.id).attr("data-channel",f.channel).attr("data-classification",f.classification).attr("data-author",h)}c.each(e.networks,function(b){"function"==typeof e[b+"Buttons"]&&e[b+"Buttons"](a,g)})},buildShareUrl:function(a){var b=this,c=a.data;if(b.base_url){if(b.base_url.indexOf(b.query_parameter)>=0){var d=new RegExp("("+b.query_parameter+"=)[0-9]+","ig"),e=b.base_url.replace(d,"$1"+c.id);return e}var f=b.query_parameter+"="+c.id;b.fb_encode&&(f="app_data="+encodeURIComponent(f));var g=b.base_url.indexOf("?")>=0?"&":"?";return b.base_url+g+f}return c.permalink?c.permalink:!1},emailButtons:function(a,c){var d=this,f=a.data,g="mailto:?subject="+encodeURIComponent(d.email_subject)+"&body="+encodeURIComponent(d.description+"\r\n \r\n"+f.original_text+"\r\n"+d.buildShareUrl(a));b('<a class="email-button fm-share-email fm-share-button" />').attr({alt:d.social_text.email,href:g,target:"_blank",title:d.social_text.email}).html(d.iconHtml("email")).click(function(){e.used("Share",null,f.id,"EMail")}).appendTo(c)},facebookButtons:function(c,d){var f=this,g=c.data;if(f.facebook_app_id){f.fbInitialized||(0===b("#fb-root").length&&b("<div/>").attr("id","fb-root").prependTo(b("body")),a(["facebook"],function(a){a.init({appId:f.facebook_app_id,status:!0,cookie:!0,xfbml:!0})}),f.fbInitialized=!0);var h="rss"===g.channel?g.teaser:g.original_text;h.length>500&&(h=h.substr(0,498)+"...");var i={method:"feed",name:h,description:f.description};f.base_url&&(i.redirect_uri=f.base_url);var j=f.buildShareUrl(c);if(j&&(i.link=j),g.photos.length){var k={width:"500",height:"500"},l="&width="+k.width;l+="&height="+k.height,i.picture=g.photos[0].image_service_url+l}b("<a />").addClass("fm-share-facebook").addClass("fm-share-button").attr({alt:f.social_text.facebook,href:"#",title:f.social_text.facebook}).append(f.iconHtml("facebook")).appendTo(d).click(function(a){a.preventDefault(),FB.ui(i,function(){e.used("Share",null,g.id,"Facebook")})})}},google_plusButtons:function(a,c){var d=this,f="https://plus.google.com/share?url="+encodeURIComponent(a.data.permalink);b("<a/>").addClass("fm-share-google").addClass("fm-share-button").attr({alt:d.social_text.google,href:f,title:d.social_text.google}).append(d.iconHtml("google")).click(function(b){b.preventDefault(),e.used("Share",null,a.data.id,"Google");var c="menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600";window.open(this.href,"",c)}).appendTo(c)},iconHtml:function(a){var b=this,c="";return c="image"===b.icon_style&&b.icon_path?'<img src="'+b.icon_path+"share-"+a+'.png" />':'<i class="fm-channel-'+a+"-"+b.icon_style+'"></i>'},linkedinButtons:function(a,c){var d=this,f=a.data,g="http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(d.buildShareUrl(a))+"&title="+encodeURIComponent(f.original_text)+"&summary="+encodeURIComponent(d.description)+"&source="+encodeURIComponent(d.source);b('<a class="linkedin-button fm-share-linkedin fm-share-button" />').attr({alt:d.social_text.linkedin,href:"#",title:d.social_text.linkedin}).html(d.iconHtml("linkedin")).click(function(b){b.preventDefault(),e.used("Share",null,a.data.id,"LinkedIn");var c="menubar=no,toolbar=no,location=no,width=520,height=570";window.open(g,"",c)}).appendTo(c)},pinterestButtons:function(a,c){var d=this,f=a.data,g=f.photos.length?f.photos[0].local_url+"500/500":d.default_pic;if(!g)return!1;var h=f.original_text;d.description&&(h+=" | "+d.description);var i="http://pinterest.com/pin/create/button/?url="+encodeURIComponent(d.buildShareUrl(a))+"&media="+encodeURIComponent(g)+"&description="+encodeURIComponent(h);b('<a class="pin-it-button fm-share-pinterest fm-share-button" />').attr({alt:d.social_text.pinterest,href:"#",title:d.social_text.pinterest}).html(d.iconHtml("pinterest")).click(function(b){b.preventDefault(),e.used("Share",null,a.data.id,"Pinterest");var c="menubar=no,toolbar=no,location=no,width=750,height=320";window.open(i,"",c)}).appendTo(c)},twitterButtons:function(a,d){var f=this,g=a.data,h={text:g.original_text},i=f.buildShareUrl(a);i&&(h.url=i),f.hashtags&&(h.hashtags=f.hashtags);var j=function(a,b){var c="image"===f.twitter_icon_style&&f.icon_path?'<img src="'+f.icon_path+"twt-"+a+'.png" />':'<i class="fm-channel-twitter-'+a+'"></i>';return b&&(c+=" <span>"+b+"</span>"),c},k=function(a,c){var d="https://twitter.com/intent/"+a+"?";return b.each(c,function(a,b){d+=a+"="+encodeURIComponent(b)+"&"}),d=d.substr(0,d.length-1)},l=k("tweet",h);if(b("<a/>").addClass("fm-share-twitter").addClass("fm-share-button").attr({alt:f.social_text.tweet,href:l,title:f.social_text.tweet}).append(f.iconHtml("twitter")).appendTo(d).click(function(a){a.preventDefault();var b="menubar=no,toolbar=no,location=no,width=550,height=500";window.open(l,"",b),e.used("Share",null,g.id,"Twitter")}),"twitter"===g.channel){var m=b("<div />").addClass("fm-twt-actions").appendTo(d);h={in_reply_to:g.token,tweet_id:g.token},f.hashtags&&(h.hashtags=f.hashtags);var n=["Reply","Retweet","Favorite"];c.each(n,function(a){var c="Reply"===a?"tweet":a.toLowerCase();b("<a/>").addClass("fm-twt-action").attr("data-uid",g.id).attr({alt:f.social_text["tw_"+a.toLowerCase()],href:k(c,h),title:f.social_text["tw_"+a.toLowerCase()]}).append(j(a.toLowerCase(),a)).appendTo(m).click(function(a){a.preventDefault();var b="menubar=no,toolbar=no,location=no,width=550,height=500";window.open(k(c,h),"",b),e.used("Share",null,g.id,"Twitter")})})}}},f}),define("videojs",[],function(){function createMethod(a){return function(){throw new Error('The "'+a+"\" method is not available on the playback technology's API")}}var console={log:function(){}};document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(a,b,c){var d;if("string"==typeof a){if(0===a.indexOf("#")&&(a=a.slice(1)),vjs.players[a])return vjs.players[a];d=vjs.el(a)}else d=a;if(!d||!d.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return d.player||new vjs.Player(d,b,c)},videojs=bvCarousel.videojs=vjs;vjs.CDN_VERSION="4.3",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}},notSupportedMessage:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.players={},vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(a){var b,c;a=a||{},b=a.init||a.init||this.prototype.init||this.prototype.init||function(){},c=function(){b.apply(this,arguments)},c.prototype=vjs.obj.create(this.prototype),c.prototype.constructor=c,c.extend=vjs.CoreObject.extend,c.create=vjs.CoreObject.create;for(var d in a)a.hasOwnProperty(d)&&(c.prototype[d]=a[d]);return c},vjs.CoreObject.create=function(){var a=vjs.obj.create(this.prototype);return this.apply(a,arguments),a},vjs.on=function(a,b,c){var d=vjs.getData(a);d.handlers||(d.handlers={}),d.handlers[b]||(d.handlers[b]=[]),c.guid||(c.guid=vjs.guid++),d.handlers[b].push(c),d.dispatcher||(d.disabled=!1,d.dispatcher=function(b){if(!d.disabled){b=vjs.fixEvent(b);var c=d.handlers[b.type];if(c)for(var e=c.slice(0),f=0,g=e.length;g>f&&!b.isImmediatePropagationStopped();f++)e[f].call(a,b)}}),1==d.handlers[b].length&&(document.addEventListener?a.addEventListener(b,d.dispatcher,!1):document.attachEvent&&a.attachEvent("on"+b,d.dispatcher))},vjs.off=function(a,b,c){if(vjs.hasData(a)){var d=vjs.getData(a);if(d.handlers){var e=function(b){d.handlers[b]=[],vjs.cleanUpEvents(a,b)};if(b){var f=d.handlers[b];if(f){if(!c)return void e(b);if(c.guid)for(var g=0;g<f.length;g++)f[g].guid===c.guid&&f.splice(g--,1);vjs.cleanUpEvents(a,b)}}else for(var h in d.handlers)e(h)}}},vjs.cleanUpEvents=function(a,b){var c=vjs.getData(a);0===c.handlers[b].length&&(delete c.handlers[b],document.removeEventListener?a.removeEventListener(b,c.dispatcher,!1):document.detachEvent&&a.detachEvent("on"+b,c.dispatcher)),vjs.isEmpty(c.handlers)&&(delete c.handlers,delete c.dispatcher,delete c.disabled),vjs.isEmpty(c)&&vjs.removeData(a)},vjs.fixEvent=function(a){function b(){return!0}function c(){return!1}if(!a||!a.isPropagationStopped){var d=a||window.event;a={};for(var e in d)"layerX"!==e&&"layerY"!==e&&(a[e]=d[e]);if(a.target||(a.target=a.srcElement||document),a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement,a.preventDefault=function(){d.preventDefault&&d.preventDefault(),a.returnValue=!1,a.isDefaultPrevented=b},a.isDefaultPrevented=c,a.stopPropagation=function(){d.stopPropagation&&d.stopPropagation(),a.cancelBubble=!0,a.isPropagationStopped=b},a.isPropagationStopped=c,a.stopImmediatePropagation=function(){d.stopImmediatePropagation&&d.stopImmediatePropagation(),a.isImmediatePropagationStopped=b,a.stopPropagation()},a.isImmediatePropagationStopped=c,null!=a.clientX){var f=document.documentElement,g=document.body;a.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}a.which=a.charCode||a.keyCode,null!=a.button&&(a.button=1&a.button?0:4&a.button?1:2&a.button?2:0)}return a},vjs.trigger=function(a,b){var c=vjs.hasData(a)?vjs.getData(a):{},d=a.parentNode||a.ownerDocument;if("string"==typeof b&&(b={type:b,target:a}),b=vjs.fixEvent(b),c.dispatcher&&c.dispatcher.call(a,b),d&&!b.isPropagationStopped()&&b.bubbles!==!1)vjs.trigger(d,b);else if(!d&&!b.isDefaultPrevented()){var e=vjs.getData(b.target);b.target[b.type]&&(e.disabled=!0,"function"==typeof b.target[b.type]&&b.target[b.type](),e.disabled=!1)}return!b.isDefaultPrevented()},vjs.one=function(a,b,c){var d=function(){vjs.off(a,b,d),c.apply(this,arguments)};d.guid=c.guid=c.guid||vjs.guid++,vjs.on(a,b,d)};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(a,b){var c,d;c=document.createElement(a||"div");for(d in b)hasOwnProp.call(b,d)&&(-1!==d.indexOf("aria-")||"role"==d?c.setAttribute(d,b[d]):c[d]=b[d]);return c},vjs.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(a){function b(){}return b.prototype=a,new b},vjs.obj.each=function(a,b,c){for(var d in a)hasOwnProp.call(a,d)&&b.call(c||this,d,a[d])},vjs.obj.merge=function(a,b){if(!b)return a;for(var c in b)hasOwnProp.call(b,c)&&(a[c]=b[c]);return a},vjs.obj.deepMerge=function(a,b){var c,d,e;a=vjs.obj.copy(a);for(c in b)hasOwnProp.call(b,c)&&(d=a[c],e=b[c],a[c]=vjs.obj.isPlain(d)&&vjs.obj.isPlain(e)?vjs.obj.deepMerge(d,e):b[c]);return a},vjs.obj.copy=function(a){return vjs.obj.merge({},a)},vjs.obj.isPlain=function(a){return!!a&&"object"==typeof a&&"[object Object]"===a.toString()&&a.constructor===Object},vjs.bind=function(a,b,c){b.guid||(b.guid=vjs.guid++);var d=function(){return b.apply(a,arguments)};return d.guid=c?c+"_"+b.guid:b.guid,d},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(a){var b=a[vjs.expando];return b||(b=a[vjs.expando]=vjs.guid++,vjs.cache[b]={}),vjs.cache[b]},vjs.hasData=function(a){var b=a[vjs.expando];return!(!b||vjs.isEmpty(vjs.cache[b]))},vjs.removeData=function(a){var b=a[vjs.expando];if(b){delete vjs.cache[b];try{delete a[vjs.expando]}catch(c){a.removeAttribute?a.removeAttribute(vjs.expando):a[vjs.expando]=null}}},vjs.isEmpty=function(a){for(var b in a)if(null!==a[b])return!1;return!0},vjs.addClass=function(a,b){-1==(" "+a.className+" ").indexOf(" "+b+" ")&&(a.className=""===a.className?b:a.className+" "+b)},vjs.removeClass=function(a,b){var c,d;if(-1!=a.className.indexOf(b)){for(c=a.className.split(" "),d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);a.className=c.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var a=vjs.USER_AGENT.match(/OS (\d+)_/i);return a&&a[1]?a[1]:void 0}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var a,b,c=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return c?(a=c[1]&&parseFloat(c[1]),b=c[2]&&parseFloat(c[2]),a&&b?parseFloat(c[1]+"."+c[2]):a?a:null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.getAttributeValues=function(a){var b,c,d,e,f;if(b={},c=",autoplay,controls,loop,muted,default,",a&&a.attributes&&a.attributes.length>0){d=a.attributes;for(var g=d.length-1;g>=0;g--)e=d[g].name,f=d[g].value,("boolean"==typeof a[e]||-1!==c.indexOf(","+e+","))&&(f=null!==f?!0:!1),b[e]=f}return b},vjs.getComputedDimension=function(a,b){var c="";return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(c=a["client"+b.substr(0,1).toUpperCase()+b.substr(1)]+"px"),c},vjs.insertFirst=function(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)},vjs.support={},vjs.el=function(a){return 0===a.indexOf("#")&&(a=a.slice(1)),document.getElementById(a)},vjs.formatTime=function(a,b){b=b||a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||1/0===a)&&(e=d=c="-"),e=e>0||g>0?e+":":"",d=((e||f>=10)&&10>d?"0"+d:d)+":",c=10>c?"0"+c:c,e+d+c},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(a){return(a+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(a,b){return b||(b=0),Math.round(a*Math.pow(10,b))/Math.pow(10,b)},vjs.createTimeRange=function(a,b){return{length:1,start:function(){return a},end:function(){return b}}},vjs.get=function(a,b,c){var d,e;"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw new Error("This browser does not support XMLHttpRequest.")}),e=new XMLHttpRequest;try{e.open("GET",a)}catch(f){c(f)}d=0===a.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===a.indexOf("http"),e.onreadystatechange=function(){4===e.readyState&&(200===e.status||d&&0===e.status?b(e.responseText):c&&c())};try{e.send()}catch(f){c&&c(f)}},vjs.setLocalStorage=function(a,b){try{var c=window.localStorage||!1;if(!c)return;c[a]=b}catch(d){22==d.code||1014==d.code?vjs.log("LocalStorage Full (VideoJS)",d):18==d.code?vjs.log("LocalStorage not allowed (VideoJS)",d):vjs.log("LocalStorage Error (VideoJS)",d)}},vjs.getAbsoluteURL=function(a){return a.match(/^https?:\/\//)||(a=vjs.createEl("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href),a},vjs.log=function(){vjs.log.history=vjs.log.history||[],vjs.log.history.push(arguments),window.console&&window.console.log(Array.prototype.slice.call(arguments))},vjs.findPosition=function(a){var b,c,d,e,f,g,h,i,j;return a.getBoundingClientRect&&a.parentNode&&(b=a.getBoundingClientRect()),b?(c=document.documentElement,d=document.body,e=c.clientLeft||d.clientLeft||0,f=window.pageXOffset||d.scrollLeft,g=b.left+f-e,h=c.clientTop||d.clientTop||0,i=window.pageYOffset||d.scrollTop,j=b.top+i-h,{left:g,top:j}):{left:0,top:0}},vjs.Component=vjs.CoreObject.extend({init:function(a,b,c){this.player_=a,this.options_=vjs.obj.copy(this.options_),b=this.options(b),this.id_=b.id||(b.el&&b.el.id?b.el.id:a.id()+"_component_"+vjs.guid++),this.name_=b.name||null,this.el_=b.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(c)}}),vjs.Component.prototype.dispose=function(){if(this.trigger("dispose"),this.children_)for(var a=this.children_.length-1;a>=0;a--)this.children_[a].dispose&&this.children_[a].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(a){return void 0===a?this.options_:this.options_=vjs.obj.deepMerge(this.options_,a)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(a,b){return vjs.createEl(a,b)},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(a){return this.childIndex_[a]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(a){return this.childNameIndex_[a]},vjs.Component.prototype.addChild=function(a,b){var c,d,e;return"string"==typeof a?(e=a,b=b||{},d=b.componentClass||vjs.capitalize(e),b.name=e,c=new vjs[d](this.player_||this,b)):c=a,this.children_.push(c),"function"==typeof c.id&&(this.childIndex_[c.id()]=c),e=e||c.name&&c.name(),e&&(this.childNameIndex_[e]=c),"function"==typeof c.el&&c.el()&&this.contentEl().appendChild(c.el()),c},vjs.Component.prototype.removeChild=function(a){if("string"==typeof a&&(a=this.getChild(a)),a&&this.children_){for(var b=!1,c=this.children_.length-1;c>=0;c--)if(this.children_[c]===a){b=!0,this.children_.splice(c,1);break}if(b){this.childIndex_[a.id]=null,this.childNameIndex_[a.name]=null;var d=a.el();d&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el())}}},vjs.Component.prototype.initChildren=function(){var a=this.options_;if(a&&a.children){var b=this;vjs.obj.each(a.children,function(a,c){if(c!==!1){var d=function(){b[a]=b.addChild(a,c)};c.loadEvent||d()}})}},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(a,b){return vjs.on(this.el_,a,vjs.bind(this,b)),this},vjs.Component.prototype.off=function(a,b){return vjs.off(this.el_,a,b),this},vjs.Component.prototype.one=function(a,b){return vjs.one(this.el_,a,vjs.bind(this,b)),this},vjs.Component.prototype.trigger=function(a,b){return vjs.trigger(this.el_,a,b),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(a){return a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;if(a&&a.length>0){for(var b=0,c=a.length;c>b;b++)a[b].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.addClass=function(a){return vjs.addClass(this.el_,a),this},vjs.Component.prototype.removeClass=function(a){return vjs.removeClass(this.el_,a),this
},vjs.Component.prototype.show=function(){return this.el_.style.display="block",this},vjs.Component.prototype.hide=function(){return this.el_.style.display="none",this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(a,b){return this.dimension("width",a,b)},vjs.Component.prototype.height=function(a,b){return this.dimension("height",a,b)},vjs.Component.prototype.dimensions=function(a,b){return this.width(a,!0).height(b)},vjs.Component.prototype.dimension=function(a,b,c){if(void 0!==b)return this.el_.style[a]=-1!==(""+b).indexOf("%")||-1!==(""+b).indexOf("px")?b:"auto"===b?"":b+"px",c||this.trigger("resize"),this;if(!this.el_)return 0;var d=this.el_.style[a],e=d.indexOf("px");return-1!==e?parseInt(d.slice(0,e),10):parseInt(this.el_["offset"+vjs.capitalize(a)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var a,b,c,d;a=0,this.on("touchstart",function(){a=(new Date).getTime(),c=!0}),d=function(){c=!1},this.on("touchmove",d),this.on("touchleave",d),this.on("touchcancel",d),this.on("touchend",function(){c===!0&&(b=(new Date).getTime()-a,250>b&&this.trigger("tap"))})},vjs.Button=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b);var c=!1;this.on("touchstart",function(a){a.preventDefault(),c=!0}),this.on("touchmove",function(){c=!1});var d=this;this.on("touchend",function(a){c&&d.onClick(a),a.preventDefault()}),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(a,b){return b=vjs.obj.merge({className:this.buildCSSClass(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},b),vjs.Component.prototype.createEl.call(this,a,b)},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(a){(32==a.which||13==a.which)&&(a.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),a.on(this.playerEvent,vjs.bind(this,this.update)),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.player_.on("controlsvisible",vjs.bind(this,this.update)),a.ready(vjs.bind(this,this.update)),this.boundEvents={}}}),vjs.Slider.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider",b=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},b),vjs.Component.prototype.createEl.call(this,a,b)},vjs.Slider.prototype.onMouseDown=function(a){a.preventDefault(),vjs.blockTextSelection(),this.boundEvents.move=vjs.bind(this,this.onMouseMove),this.boundEvents.end=vjs.bind(this,this.onMouseUp),vjs.on(document,"mousemove",this.boundEvents.move),vjs.on(document,"mouseup",this.boundEvents.end),vjs.on(document,"touchmove",this.boundEvents.move),vjs.on(document,"touchend",this.boundEvents.end),this.onMouseMove(a)},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var a,b=this.getPercent(),c=this.handle,d=this.bar;if(isNaN(b)&&(b=0),a=b,c){var e=this.el_,f=e.offsetWidth,g=c.el().offsetWidth,h=g?g/f:0,i=1-h,j=b*i;a=j+h/2,c.el().style.left=vjs.round(100*j,2)+"%"}d.el().style.width=vjs.round(100*a,2)+"%"}},vjs.Slider.prototype.calculateDistance=function(a){var b,c,d,e,f,g,h,i,j;if(b=this.el_,c=vjs.findPosition(b),f=g=b.offsetWidth,h=this.handle,this.options_.vertical){if(e=c.top,j=a.changedTouches?a.changedTouches[0].pageY:a.pageY,h){var k=h.el().offsetHeight;e+=k/2,g-=k}return Math.max(0,Math.min(1,(e-j+g)/g))}if(d=c.left,i=a.changedTouches?a.changedTouches[0].pageX:a.pageX,h){var l=h.el().offsetWidth;d+=l/2,f-=l}return Math.max(0,Math.min(1,(i-d)/f))},vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onKeyPress=function(a){37==a.which?(a.preventDefault(),this.stepBack()):39==a.which&&(a.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onClick=function(a){a.stopImmediatePropagation(),a.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider-handle",b=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},b),vjs.Component.prototype.createEl.call(this,"div",b)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(a){this.addChild(a),a.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var a=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(a,{className:"vjs-menu-content"});var b=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return b.appendChild(this.contentEl_),vjs.on(b,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),b},vjs.MenuItem=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.selected(b.selected)}}),vjs.MenuItem.prototype.createEl=function(a,b){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},b))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.menu=this.createMenu(),this.addChild(this.menu),this.items&&0===this.items.length&&this.hide(),this.on("keyup",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_);if(this.options().title&&a.el().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),this.items=this.createItems(),this.items)for(var b=0;b<this.items.length;b++)a.addItem(this.items[b]);return a},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(a){a.preventDefault(),32==a.which||13==a.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==a.which&&this.buttonPressed_&&this.unpressButton()},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.Player=vjs.Component.extend({init:function(a,b,c){this.tag=a,b=vjs.obj.merge(this.getTagSettings(a),b),this.cache_={},this.poster_=b.poster,this.controls_=b.controls,a.controls=!1,vjs.Component.call(this,this,b,c),console.log(b,this.controls()),this.addClass(this.controls()?"vjs-controls-enabled":"vjs-controls-disabled"),this.one("play",function(a){var b={type:"firstplay",target:this.el_},c=vjs.trigger(this.el_,b);c||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())}),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("error",this.onError),this.on("fullscreenchange",this.onFullscreenChange),vjs.players[this.id_]=this,b.plugins&&vjs.obj.each(b.plugins,function(a,b){this[a](b)},this),this.listenForUserActivity()}}),vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.stopTrackingProgress(),this.stopTrackingCurrentTime(),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(a){var b={sources:[],tracks:[]};if(vjs.obj.merge(b,vjs.getAttributeValues(a)),a.hasChildNodes()){var c,d,e,f,g;for(c=a.childNodes,f=0,g=c.length;g>f;f++)d=c[f],e=d.nodeName.toLowerCase(),"source"===e?b.sources.push(vjs.getAttributeValues(d)):"track"===e&&b.tracks.push(vjs.getAttributeValues(d))}return b},vjs.Player.prototype.createEl=function(){var a=this.el_=vjs.Component.prototype.createEl.call(this,"div"),b=this.tag;if(b.removeAttribute("width"),b.removeAttribute("height"),b.hasChildNodes()){var c,d,e,f,g,h;for(c=b.childNodes,d=c.length,h=[];d--;)f=c[d],g=f.nodeName.toLowerCase(),"track"===g&&h.push(f);for(e=0;e<h.length;e++)b.removeChild(h[e])}return b.id=b.id||"vjs_video_"+vjs.guid++,a.id=b.id,a.className=b.className,b.id+="_html5_api",b.className="vjs-tech",b.player=a.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),b.parentNode&&b.parentNode.insertBefore(a,b),vjs.insertFirst(b,a),a},vjs.Player.prototype.loadTech=function(a,b){this.tech?this.unloadTech():"Html5"!==a&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=a,this.isReady_=!1;var c=function(){this.player_.triggerReady(),this.features.progressEvents||this.player_.manualProgressOn(),this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()},d=vjs.obj.merge({source:b,parentEl:this.el_},this.options_[a.toLowerCase()]);b&&(b.src==this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime),this.cache_.src=b.src),this.tech=new vjs[a](this,d),this.tech.ready(c)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},vjs.Player.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress(),this.tech.one("progress",function(){this.features.progressEvents=!0,this.player_.manualProgressOff()})},vjs.Player.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)},vjs.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)},vjs.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime),this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0,this.player_.manualTimeUpdatesOff()})},vjs.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},vjs.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.trigger("timeupdate")}),250)},vjs.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval)},vjs.Player.prototype.onLoadStart,vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())},vjs.Player.prototype.onDurationChange=function(){this.duration(this.techGet("duration"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullScreen?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.onError=function(a){vjs.log("Video Error",a)},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(a,b){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[a](b)});else try{this.tech[a](b)}catch(c){throw vjs.log(c),c}},vjs.Player.prototype.techGet=function(a){if(this.tech&&this.tech.isReady_)try{return this.tech[a]()}catch(b){throw void 0===this.tech[a]?vjs.log("Video.js: "+a+" method not defined for "+this.techName+" playback technology.",b):"TypeError"==b.name?(vjs.log("Video.js: "+a+" unavailable on "+this.techName+" playback technology element.",b),this.tech.isReady_=!1):vjs.log(b),b}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return this.techGet("paused")===!1?!1:!0},vjs.Player.prototype.currentTime=function(a){return void 0!==a?(this.cache_.lastSetCurrentTime=a,this.techCall("setCurrentTime",a),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):(void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var a=this.techGet("buffered"),b=0,c=a.length-1,d=this.cache_.bufferEnd=this.cache_.bufferEnd||0;return a&&c>=0&&a.end(c)!==d&&(d=a.end(c),this.cache_.bufferEnd=d),vjs.createTimeRange(b,d)},vjs.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0},vjs.Player.prototype.volume=function(a){var b;return void 0!==a?(b=Math.max(0,Math.min(1,parseFloat(a))),this.cache_.volume=b,this.techCall("setVolume",b),vjs.setLocalStorage("volume",b),this):(b=parseFloat(this.techGet("volume")),isNaN(b)?1:b)},vjs.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.requestFullScreen=function(){var a=vjs.support.requestFullScreen;return this.isFullScreen=!0,a?(vjs.on(document,a.eventName,vjs.bind(this,function(){this.isFullScreen=document[a.isFullScreen],this.isFullScreen===!1&&vjs.off(document,a.eventName,arguments.callee),this.trigger("fullscreenchange")})),this.el_[a.requestFn]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){var a=vjs.support.requestFullScreen;return this.isFullScreen=!1,a?document[a.cancelFn]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(a){27===a.keyCode&&(this.isFullScreen===!0?this.cancelFullScreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(a){for(var b=0,c=this.options_.techOrder;b<c.length;b++){var d=vjs.capitalize(c[b]),e=vjs[d];if(e.isSupported())for(var f=0,g=a;f<g.length;f++){var h=g[f];if(e.canPlaySource(h))return{source:h,tech:d}}}return!1},vjs.Player.prototype.src=function(a){if(a instanceof Array){var b,c=this.selectSource(a);c?(a=c.source,b=c.tech,b==this.techName?this.src(a):this.loadTech(b,a)):this.el_.appendChild(vjs.createEl("p",{innerHTML:this.options().notSupportedMessage}))}else a instanceof Object?this.src(vjs[this.techName].canPlaySource(a)?a.src:[a]):(this.cache_.src=a,this.isReady_?(this.techCall("src",a),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(a)}));return this},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",a),this.options_.preload=a,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(a){return void 0!==a?(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)},vjs.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(a){return void 0!==a?(this.poster_=a,this):this.poster_},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(a){return void 0!==a?(a=!!a,this.controls_!==a&&(this.controls_=a,console.log("controls",a),a?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(a){return void 0!==a?(a=!!a,this.usingNativeControls_!==a&&(this.usingNativeControls_=a,a?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error=function(){return this.techGet("error")},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(a){return void 0!==a?(a=!!a,a!==this.userActive_&&(this.userActive_=a,a?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var a,b,c,d,e,f;a=this.reportUserActivity,b=function(){a(),clearInterval(c),c=setInterval(vjs.bind(this,a),250)},d=function(){a(),clearInterval(c)},this.on("mousedown",b),this.on("mousemove",a),this.on("mouseup",d),this.on("keydown",a),this.on("keyup",a),this.on("touchstart",b),this.on("touchmove",a),this.on("touchend",d),this.on("touchcancel",d),e=setInterval(vjs.bind(this,function(){this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),clearTimeout(f),f=setTimeout(vjs.bind(this,function(){this.userActivity_||this.userActive(!1)}),2e3))}),250),this.on("dispose",function(){clearInterval(e),clearTimeout(f)})},function(){var a,b,c;c=document.createElement("div"),b={},void 0!==c.cancelFullscreen?(b.requestFn="requestFullscreen",b.cancelFn="exitFullscreen",b.eventName="fullscreenchange",b.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(a="moz",b.isFullScreen=a+"FullScreen"):(a="webkit",b.isFullScreen=a+"IsFullScreen"),c[a+"RequestFullScreen"]&&(b.requestFn=a+"RequestFullScreen",b.cancelFn=a+"CancelFullScreen"),b.eventName=a+"fullscreenchange"),document[b.cancelFn]&&(vjs.support.requestFullScreen=b)}(),vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.PlayToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),a.on("play",vjs.bind(this,this.onPlay)),a.on("pause",vjs.bind(this,this.onPause))}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing"),this.el_.children[0].children[0].innerHTML="Pause"},vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused"),this.el_.children[0].children[0].innerHTML="Play"},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),a.appendChild(vjs.createEl("div").appendChild(this.content)),a},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.content.innerHTML='<span class="vjs-control-text">Current Time </span>'+vjs.formatTime(a,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.DurationDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),a.appendChild(vjs.createEl("div").appendChild(this.content)),a},vjs.DurationDisplay.prototype.updateContent=function(){var a=this.player_.duration();a&&(this.content.innerHTML='<span class="vjs-control-text">Duration Time </span>'+vjs.formatTime(a))},vjs.TimeDivider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.content=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),a.appendChild(vjs.createEl("div").appendChild(this.content)),a},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.content.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullScreen?(this.player_.cancelFullScreen(),this.el_.children[0].children[0].innerHTML="Fullscreen"):(this.player_.requestFullScreen(),this.el_.children[0].children[0].innerHTML="Non-Fullscreen")},vjs.ProgressControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateARIAAttributes)),a.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(a,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){var a;if("Flash"===this.player_.techName&&this.player_.seeking()){var b=this.player_.getCache();a=b.lastSetCurrentTime?b.lastSetCurrentTime:this.player_.currentTime()}else a=this.player_.currentTime();return a/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(a){vjs.Slider.prototype.onMouseDown.call(this,a),this.player_.scrubbing=!0,this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(a){var b=this.calculateDistance(a)*this.player_.duration();b==this.player_.duration()&&(b-=.1),this.player_.currentTime(b)},vjs.SeekBar.prototype.onMouseUp=function(a){vjs.Slider.prototype.onMouseUp.call(this,a),this.player_.scrubbing=!1,this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("progress",vjs.bind(this,this.update))}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},vjs.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=vjs.round(100*this.player_.bufferedPercent(),2)+"%")},vjs.PlayProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},vjs.SeekHandle=vjs.SliderHandle.extend(),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle"})},vjs.VolumeControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.tech&&a.tech.features&&a.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){a.tech.features&&a.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),a.on("volumechange",vjs.bind(this,this.updateARIAAttributes)),a.ready(vjs.bind(this,this.updateARIAAttributes)),setTimeout(vjs.bind(this,this.update),0)}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(a){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(a))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),a.on("volumechange",vjs.bind(this,this.update)),a.tech&&a.tech.features&&a.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){a.tech.features&&a.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})
},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},vjs.MuteToggle.prototype.update=function(){var a=this.player_.volume(),b=3;0===a||this.player_.muted()?b=0:.33>a?b=1:.67>a&&(b=2),this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Mute");for(var c=0;4>c;c++)vjs.removeClass(this.el_,"vjs-vol-"+c);vjs.addClass(this.el_,"vjs-vol-"+b)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),a.on("volumechange",vjs.bind(this,this.update)),a.tech&&a.tech.features&&a.tech.features.volumeControl===!1&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){a.tech.features&&a.tech.features.volumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_,{contentElType:"div"}),b=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:!0},this.options_.volumeBar));return a.addChild(b),a},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update,vjs.PosterImage=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),a.poster()&&a.controls()||this.hide(),a.on("play",vjs.bind(this,this.hide))}}),vjs.PosterImage.prototype.createEl=function(){var a=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1}),b=this.player_.poster();return b&&("backgroundSize"in a.style?a.style.setProperty("background-image",'url("'+b+'")',"important"):a.appendChild(vjs.createEl("img",{src:b}))),a},vjs.PosterImage.prototype.onClick=function(){this.player().controls()&&this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("canplay",vjs.bind(this,this.hide)),a.on("canplaythrough",vjs.bind(this,this.hide)),a.on("playing",vjs.bind(this,this.hide)),a.on("seeked",vjs.bind(this,this.hide)),a.on("seeking",vjs.bind(this,this.show)),a.on("seeked",vjs.bind(this,this.hide)),a.on("error",vjs.bind(this,this.show)),a.on("waiting",vjs.bind(this,this.show))}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.MediaTechController=vjs.Component.extend({init:function(a,b,c){vjs.Component.call(this,a,b,c),this.initControlsListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var a,b,c,d;b=this,a=this.player();var c=function(){a.controls()&&!a.usingNativeControls()&&b.addControlsListeners()};d=vjs.bind(b,b.removeControlsListeners),this.ready(c),a.on("controlsenabled",c),a.on("controlsdisabled",d)},vjs.MediaTechController.prototype.addControlsListeners=function(){var a,b;this.on("mousedown",this.onClick),this.on("touchstart",function(a){a.preventDefault(),a.stopPropagation(),b=this.player_.userActive()}),a=function(a){a.stopPropagation(),b&&this.player_.reportUserActivity()},this.on("touchmove",a),this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",a),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(a){0===a.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,progressEvents:!1,timeupdateEvents:!1},vjs.media={},vjs.media.ApiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(",");for(var i=vjs.media.ApiMethods.length-1;i>=0;i--){var methodName=vjs.media.ApiMethods[i];vjs.MediaTechController.prototype[vjs.media.ApiMethods[i]]=createMethod(methodName)}vjs.Html5=vjs.MediaTechController.extend({init:function(a,b,c){this.features.volumeControl=vjs.Html5.canControlVolume(),this.features.movingMediaElementInDOM=!vjs.IS_IOS,this.features.fullscreenResize=!0,vjs.MediaTechController.call(this,a,b,c);var d=b.source;d&&this.el_.currentSrc===d.src&&this.el_.networkState>0?a.trigger("loadstart"):d&&(this.el_.src=d.src),vjs.TOUCH_ENABLED&&a.options().nativeControlsForTouch!==!1&&this.useNativeControls(),a.ready(function(){this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),this.setupTriggers(),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var a,b=this.player_,c=b.tag;c&&this.features.movingMediaElementInDOM!==!1||(c?(a=c.cloneNode(!1),vjs.Html5.disposeMediaElement(c),c=a,b.tag=null):c=vjs.createEl("video",{id:b.id()+"_html5_api",className:"vjs-tech"}),c.player=b,vjs.insertFirst(c,b.el()));for(var d=["autoplay","preload","loop","muted"],e=d.length-1;e>=0;e--){var f=d[e];null!==b.options_[f]&&(c[f]=b.options_[f])}return c},vjs.Html5.prototype.setupTriggers=function(){for(var a=vjs.Html5.Events.length-1;a>=0;a--)vjs.on(this.el_,vjs.Html5.Events[a],vjs.bind(this.player_,this.eventHandler))},vjs.Html5.prototype.eventHandler=function(a){this.trigger(a),a.stopPropagation()},vjs.Html5.prototype.useNativeControls=function(){var a,b,c,d,e;a=this,b=this.player(),a.setControls(b.controls()),c=function(){a.setControls(!0)},d=function(){a.setControls(!1)},b.on("controlsenabled",c),b.on("controlsdisabled",d),e=function(){b.off("controlsenabled",c),b.off("controlsdisabled",d)},a.on("dispose",e),b.on("usingcustomcontrols",e),b.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(a){try{this.el_.currentTime=a}catch(b){vjs.log(b,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(a){this.el_.volume=a},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(a){this.el_.muted=a},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)?!1:!0},vjs.Html5.prototype.enterFullScreen=function(){var a=this.el_;a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),setTimeout(function(){a.pause(),a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(a){this.el_.src=a},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(a){this.el_.preload=a},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(a){this.el_.controls=!!a},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(a){this.el_.loop=a},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.isSupported=function(){return!!vjs.TEST_VID.canPlayType},vjs.Html5.canPlaySource=function(a){try{return!!vjs.TEST_VID.canPlayType(a.type)}catch(b){return""}},vjs.Html5.canControlVolume=function(){var a=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=a/2+.1,a!==vjs.TEST_VID.volume},vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(a){if(a){for(a.player=null,a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src"),"function"==typeof a.load&&a.load()}},vjs.IS_OLD_ANDROID&&(document.createElement("video").constructor.prototype.canPlayType=function(a){return a&&-1!=a.toLowerCase().indexOf("video/mp4")?"maybe":""}),vjs.Flash=vjs.MediaTechController.extend({init:function(a,b,c){vjs.MediaTechController.call(this,a,b,c);var d=b.source,e=b.parentEl,f=this.el_=vjs.createEl("div",{id:a.id()+"_temp_flash"}),g=a.id()+"_flash_api",h=a.options_,i=vjs.obj.merge({readyFunction:"bvCarousel.videojs.Flash.onReady",eventProxyFunction:"bvCarousel.videojs.Flash.onEvent",errorEventProxyFunction:"bvCarousel.videojs.Flash.onError",autoplay:h.autoplay,preload:h.preload,loop:h.loop,muted:h.muted},b.flashVars),j=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},b.params),k=vjs.obj.merge({id:g,name:g,"class":"vjs-tech"},b.attributes);if(d)if(d.type&&vjs.Flash.isStreamingType(d.type)){var l=vjs.Flash.streamToParts(d.src);i.rtmpConnection=encodeURIComponent(l.connection),i.rtmpStream=encodeURIComponent(l.stream)}else i.src=encodeURIComponent(vjs.getAbsoluteURL(d.src));if(vjs.insertFirst(f,e),b.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(b.startTime)}),b.iFrameMode!==!0||vjs.IS_FIREFOX)vjs.Flash.embed(b.swf,f,i,j,k);else{var m=vjs.createEl("iframe",{id:g+"_iframe",name:g+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});i.readyFunction="ready",i.eventProxyFunction="events",i.errorEventProxyFunction="errors",vjs.on(m,"load",vjs.bind(this,function(){var a,c=m.contentWindow;a=m.contentDocument?m.contentDocument:m.contentWindow.document,a.write(vjs.Flash.getEmbedCode(b.swf,i,j,k)),c.player=this.player_,c.ready=vjs.bind(this.player_,function(b){var c=a.getElementById(b),d=this,e=d.tech;e.el_=c,vjs.Flash.checkReady(e)}),c.events=vjs.bind(this.player_,function(a,b){var c=this;c&&"flash"===c.techName&&c.trigger(b)}),c.errors=vjs.bind(this.player_,function(a,b){vjs.log("Flash Error",b)})})),f.parentNode.replaceChild(m,f)}}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(a){if(vjs.Flash.isStreamingSrc(a)?(a=vjs.Flash.streamToParts(a),this.setRtmpConnection(a.connection),this.setRtmpStream(a.stream)):(a=vjs.getAbsoluteURL(a),this.el_.vjs_src(a)),this.player_.autoplay()){var b=this;setTimeout(function(){b.play()},0)}},vjs.Flash.prototype.currentSrc=function(){var a=this.el_.vjs_getProperty("currentSrc");if(null==a){var b=this.rtmpConnection(),c=this.rtmpStream();b&&c&&(a=vjs.Flash.streamFromParts(b,c))}return a},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1};var api=vjs.Flash.prototype,readWrite="rtmpConnection,rtmpStream,preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),createSetter=function(a){var b=a.charAt(0).toUpperCase()+a.slice(1);api["set"+b]=function(b){return this.el_.vjs_setProperty(a,b)}},createGetter=function(a){api[a]=function(){return this.el_.vjs_getProperty(a)}};if(function(){var a;for(a=0;a<readWrite.length;a++)createGetter(readWrite[a]),createSetter(readWrite[a]);for(a=0;a<readOnly.length;a++)createGetter(readOnly[a])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.Flash.canPlaySource=function(a){var b;return a.type?(b=a.type.replace(/;.*/,"").toLowerCase(),b in vjs.Flash.formats||b in vjs.Flash.streamingFormats?"maybe":void 0):""},vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.onReady=function(a){var b=vjs.el(a),c=b.player||b.parentNode.player,d=c.tech;b.player=c,d.el_=b,vjs.Flash.checkReady(d)},vjs.Flash.checkReady=function(a){a.el().vjs_getProperty?a.triggerReady():setTimeout(function(){vjs.Flash.checkReady(a)},50)},vjs.Flash.onEvent=function(a,b){var c=vjs.el(a).player;c.trigger(b)},vjs.Flash.onError=function(a,b){var c=vjs.el(a).player;c.trigger("error"),vjs.log("Flash Error",b,a)},vjs.Flash.version=function(){var a="0,0,0";try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(b){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(c){}}return a.split(",")},vjs.Flash.embed=function(a,b,c,d,e){var f=vjs.Flash.getEmbedCode(a,c,d,e),g=vjs.createEl("div",{innerHTML:f}).childNodes[0],h=b.parentNode;b.parentNode.replaceChild(g,b);var i=h.childNodes[0];return setTimeout(function(){i.style.display="block"},1e3),g},vjs.Flash.getEmbedCode=function(a,b,c,d){var e='<object type="application/x-shockwave-flash"',f="",g="",h="";return b&&vjs.obj.each(b,function(a,b){f+=a+"="+b+"&amp;"}),c=vjs.obj.merge({movie:a,flashvars:f,allowScriptAccess:"always",allowNetworking:"all"},c),vjs.obj.each(c,function(a,b){g+='<param name="'+a+'" value="'+b+'" />'}),d=vjs.obj.merge({data:a,width:"100%",height:"100%"},d),vjs.obj.each(d,function(a,b){h+=a+'="'+b+'" '}),e+h+">"+g+"</object>"},vjs.Flash.streamFromParts=function(a,b){return a+"&"+b},vjs.Flash.streamToParts=function(a){var b={connection:"",stream:""};if(!a)return b;var c,d=a.indexOf("&");return-1!==d?c=d+1:(d=c=a.lastIndexOf("/")+1,0===d&&(d=c=a.length)),b.connection=a.substring(0,d),b.stream=a.substring(c,a.length),b},vjs.Flash.isStreamingType=function(a){return a in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(a){return vjs.Flash.RTMP_RE.test(a)},vjs.MediaLoader=vjs.Component.extend({init:function(a,b,c){if(vjs.Component.call(this,a,b,c),a.options_.sources&&0!==a.options_.sources.length)a.src(a.options_.sources);else for(var d=0,e=a.options_.techOrder;d<e.length;d++){var f=vjs.capitalize(e[d]),g=vjs[f];if(g&&g.isSupported()){a.loadTech(f);break}}}}),vjs.Player.prototype.textTracks_,vjs.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[],this.textTracks_},vjs.Player.prototype.addTextTrack=function(a,b,c,d){var e=this.textTracks_=this.textTracks_||[];d=d||{},d.kind=a,d.label=b,d.language=c;var f=vjs.capitalize(a||"subtitles"),g=new vjs[f+"Track"](this,d);return e.push(g),g},vjs.Player.prototype.addTextTracks=function(a){for(var b,c=0;c<a.length;c++)b=a[c],this.addTextTrack(b.kind,b.label,b.language,b);return this},vjs.Player.prototype.showTextTrack=function(a,b){for(var c,d,e,f=this.textTracks_,g=0,h=f.length;h>g;g++)c=f[g],c.id()===a?(c.show(),d=c):b&&c.kind()==b&&c.mode()>0&&c.disable();return e=d?d.kind():b?b:!1,e&&this.trigger(e+"trackchange"),this},vjs.TextTrack=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.id_=b.id||"vjs_"+b.kind+"_"+b.language+"_"+vjs.guid++,this.src_=b.src,this.dflt_=b["default"]||b.dflt,this.title_=b.title,this.language_=b.srclang,this.label_=b.label,this.cues_=[],this.activeCues_=[],this.readyState_=0,this.mode_=0,this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}}),vjs.TextTrack.prototype.kind_,vjs.TextTrack.prototype.kind=function(){return this.kind_},vjs.TextTrack.prototype.src_,vjs.TextTrack.prototype.src=function(){return this.src_},vjs.TextTrack.prototype.dflt_,vjs.TextTrack.prototype.dflt=function(){return this.dflt_},vjs.TextTrack.prototype.title_,vjs.TextTrack.prototype.title=function(){return this.title_},vjs.TextTrack.prototype.language_,vjs.TextTrack.prototype.language=function(){return this.language_},vjs.TextTrack.prototype.label_,vjs.TextTrack.prototype.label=function(){return this.label_},vjs.TextTrack.prototype.cues_,vjs.TextTrack.prototype.cues=function(){return this.cues_},vjs.TextTrack.prototype.activeCues_,vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_},vjs.TextTrack.prototype.readyState_,vjs.TextTrack.prototype.readyState=function(){return this.readyState_},vjs.TextTrack.prototype.mode_,vjs.TextTrack.prototype.mode=function(){return this.mode_},vjs.TextTrack.prototype.adjustFontSize=function(){this.el_.style.fontSize=this.player_.isFullScreen?screen.width/this.player_.width()*1.4*100+"%":""},vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})},vjs.TextTrack.prototype.show=function(){this.activate(),this.mode_=2,vjs.Component.prototype.show.call(this)},vjs.TextTrack.prototype.hide=function(){this.activate(),this.mode_=1,vjs.Component.prototype.hide.call(this)},vjs.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide(),this.deactivate(),this.mode_=0},vjs.TextTrack.prototype.activate=function(){0===this.readyState_&&this.load(),0===this.mode_&&(this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.on("ended",vjs.bind(this,this.reset,this.id_)),("captions"===this.kind_||"subtitles"===this.kind_)&&this.player_.getChild("textTrackDisplay").addChild(this))},vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.off("ended",vjs.bind(this,this.reset,this.id_)),this.reset(),this.player_.getChild("textTrackDisplay").removeChild(this)},vjs.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError)))},vjs.TextTrack.prototype.onError=function(a){this.error=a,this.readyState_=3,this.trigger("error")},vjs.TextTrack.prototype.parseCues=function(a){for(var b,c,d,e,f=a.split("\n"),g="",h=1,i=f.length;i>h;h++)if(g=vjs.trim(f[h])){for(-1==g.indexOf("-->")?(e=g,g=vjs.trim(f[++h])):e=this.cues_.length,b={id:e,index:this.cues_.length},c=g.split(" --> "),b.startTime=this.parseCueTime(c[0]),b.endTime=this.parseCueTime(c[1]),d=[];f[++h]&&(g=vjs.trim(f[h]));)d.push(g);b.text=d.join("<br/>"),this.cues_.push(b)}this.readyState_=2,this.trigger("loaded")},vjs.TextTrack.prototype.parseCueTime=function(a){var b,c,d,e,f,g=a.split(":"),h=0;return 3==g.length?(b=g[0],c=g[1],d=g[2]):(b=0,c=g[0],d=g[1]),d=d.split(/\s+/),e=d.splice(0,1)[0],e=e.split(/\.|,/),f=parseFloat(e[1]),e=e[0],h+=3600*parseFloat(b),h+=60*parseFloat(c),h+=parseFloat(e),f&&(h+=f/1e3),h},vjs.TextTrack.prototype.update=function(){if(this.cues_.length>0){var a=this.player_.currentTime();if(void 0===this.prevChange||a<this.prevChange||this.nextChange<=a){var b,c,d,e,f=this.cues_,g=this.player_.duration(),h=0,i=!1,j=[];for(a>=this.nextChange||void 0===this.nextChange?e=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(i=!0,e=void 0!==this.lastActiveIndex?this.lastActiveIndex:f.length-1);;){if(d=f[e],d.endTime<=a)h=Math.max(h,d.endTime),d.active&&(d.active=!1);else if(a<d.startTime){if(g=Math.min(g,d.startTime),d.active&&(d.active=!1),!i)break}else i?(j.splice(0,0,d),void 0===c&&(c=e),b=e):(j.push(d),void 0===b&&(b=e),c=e),g=Math.min(g,d.endTime),h=Math.max(h,d.startTime),d.active=!0;if(i){if(0===e)break;e--}else{if(e===f.length-1)break;e++}}this.activeCues_=j,this.nextChange=g,this.prevChange=h,this.firstActiveIndex=b,this.lastActiveIndex=c,this.updateDisplay(),this.trigger("cuechange")}}},vjs.TextTrack.prototype.updateDisplay=function(){for(var a=this.activeCues_,b="",c=0,d=a.length;d>c;c++)b+='<span class="vjs-tt-cue">'+a[c].text+"</span>";this.el_.innerHTML=b},vjs.TextTrack.prototype.reset=function(){this.nextChange=0,this.prevChange=this.player_.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0},vjs.CaptionsTrack=vjs.TextTrack.extend(),vjs.CaptionsTrack.prototype.kind_="captions",vjs.SubtitlesTrack=vjs.TextTrack.extend(),vjs.SubtitlesTrack.prototype.kind_="subtitles",vjs.ChaptersTrack=vjs.TextTrack.extend(),vjs.ChaptersTrack.prototype.kind_="chapters",vjs.TextTrackDisplay=vjs.Component.extend({init:function(a,b,c){vjs.Component.call(this,a,b,c),a.options_.tracks&&a.options_.tracks.length>0&&this.player_.addTextTracks(a.options_.tracks)}}),vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c=this.track=b.track;b.label=c.label(),b.selected=c.dflt(),vjs.MenuItem.call(this,a,b),this.player_.on(c.kind()+"trackchange",vjs.bind(this,this.update))}}),vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.TextTrackMenuItem.prototype.update=function(){this.selected(2==this.track.mode())},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(a,b){b.track={kind:function(){return b.kind},player:a,label:function(){return b.kind+" off"},dflt:function(){return!1},mode:function(){return!1}},vjs.TextTrackMenuItem.call(this,a,b),this.selected(!0)}}),vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.OffTextTrackMenuItem.prototype.update=function(){for(var a,b=this.player_.textTracks(),c=0,d=b.length,e=!0;d>c;c++)a=b[c],a.kind()==this.track.kind()&&2==a.mode()&&(e=!1);this.selected(e)},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),this.items.length<=1&&this.hide()}}),vjs.TextTrackButton.prototype.createItems=function(){var a,b=[];b.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var c=0;c<this.player_.textTracks().length;c++)a=this.player_.textTracks()[c],a.kind()===this.kind_&&b.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return b},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){for(var a,b=[],c=0;c<this.player_.textTracks().length;c++)a=this.player_.textTracks()[c],a.kind()===this.kind_&&b.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return b},vjs.ChaptersButton.prototype.createMenu=function(){for(var a,b,c=this.player_.textTracks(),d=0,e=c.length,f=this.items=[];e>d;d++)if(a=c[d],a.kind()==this.kind_&&a.dflt()){if(a.readyState()<2)return this.chaptersTrack=a,void a.on("loaded",vjs.bind(this,this.createMenu));b=a;break}var g=this.menu=new vjs.Menu(this.player_);if(g.el_.appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),b){var h,i,j=b.cues_;for(d=0,e=j.length;e>d;d++)h=j[d],i=new vjs.ChaptersTrackMenuItem(this.player_,{track:b,cue:h}),f.push(i),g.addChild(i)}return this.items.length>0&&this.show(),g},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c=this.track=b.track,d=this.cue=b.cue,e=a.currentTime();b.label=d.text,b.selected=d.startTime<=e&&e<d.endTime,vjs.MenuItem.call(this,a,b),c.on("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var a=this.cue,b=this.player_.currentTime();this.selected(a.startTime<=b&&b<a.endTime)},vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),vjs.JSON,"undefined"!=typeof window.JSON&&"function"===window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}return vjs.autoSetup=function(){var a,b,c,d=document.getElementsByTagName("video");if(d&&d.length>0)for(var e=0,f=d.length;f>e;e++){if(b=d[e],!b||!b.getAttribute){vjs.autoSetupTimeout(1);break}void 0===b.player&&(a=b.getAttribute("data-setup"),null!==a&&(a=vjs.JSON.parse(a||"{}"),c=videojs(b,a)))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(a){setTimeout(vjs.autoSetup,a)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(a,b){vjs.Player.prototype[a]=b},videojs}),define("vjsyoutube",["videojs"],function(a){a.Youtube=a.MediaTechController.extend({init:function(b,c,d){if(a.MediaTechController.call(this,b,c,d),this.features.progressEvents=!1,this.features.timeupdateEvents=!1,"undefined"!=typeof c.source)for(var e in c.source)b.options()[e]=c.source[e];this.userQuality=a.Youtube.convertQualityName(b.options().quality),this.player_=b,this.player_el_=document.getElementById(b.id()),this.player_el_.className+=" vjs-youtube",(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/Android.*AppleWebKit/i))&&(b.options().ytcontrols=!0),this.qualityButton=document.createElement("div"),this.qualityButton.setAttribute("class","vjs-quality-button vjs-menu-button vjs-control"),this.qualityButton.setAttribute("tabindex",0);var f=document.createElement("div");this.qualityButton.appendChild(f),this.qualityTitle=document.createElement("span"),f.appendChild(this.qualityTitle);var g=document.createElement("div");g.setAttribute("class","vjs-menu"),this.qualityButton.appendChild(g),this.qualityMenuContent=document.createElement("ul"),this.qualityMenuContent.setAttribute("class","vjs-menu-content"),g.appendChild(this.qualityMenuContent),this.id_=this.player_.id()+"_youtube_api",this.el_=a.Component.prototype.createEl("iframe",{id:this.id_,className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0,webkitAllowFullScreen:"true",mozallowfullscreen:"true",allowFullScreen:"true"}),this.iframeblocker=a.Component.prototype.createEl("div",{className:"iframeblocker"});var h=this,i=function(){h.paused()?h.play():h.pause()};this.iframeblocker.addEventListener("click",i),this.iframeblocker.addEventListener("mousemove",function(a){h.player_.userActive()||h.player_.userActive(!0),a.stopPropagation(),a.preventDefault()}),this.player_.options().ytcontrols||(this.iframeblocker.style.display="block"),this.player_el_.insertBefore(this.iframeblocker,this.player_el_.firstChild),this.player_el_.insertBefore(this.el_,this.iframeblocker),this.parseSrc(b.options().src),this.playOnReady=this.player_.options().autoplay||!1;var j={enablejsapi:1,iv_load_policy:3,playerapiid:this.id(),disablekb:1,wmode:"transparent",controls:this.player_.options().ytcontrols?1:0,showinfo:0,modestbranding:1,rel:0,autoplay:this.playOnReady?1:0,loop:this.player_.options().loop?1:0,list:this.playlistId,vq:this.userQuality};"undefined"==typeof j.list&&delete j.list,"file:"!=window.location.protocol?(j.origin=window.location.protocol+"//"+window.location.host,this.el_.src=window.location.protocol+"//www.youtube.com/embed/"+this.videoId+"?"+a.Youtube.makeQueryString(j)):this.el_.src="https://www.youtube.com/embed/"+this.videoId+"?"+a.Youtube.makeQueryString(j);var h=this;if(b.ready(function(){var a=h.player_el_.getElementsByClassName("vjs-control-bar")[0];a.appendChild(h.qualityButton),h.playOnReady&&!h.player_.options().ytcontrols&&(h.player_.loadingSpinner.show(),h.player_.bigPlayButton.hide())}),this.player_.options().ytcontrols?this.player_.controls(!1):this.player_.poster()||(null==this.videoId?this.iframeblocker.style.backgroundColor="black":this.player_.poster("https://img.youtube.com/vi/"+this.videoId+"/0.jpg")),a.Youtube.apiReady)this.loadYoutube();else if(a.Youtube.loadingQueue.push(this),!a.Youtube.apiLoading){var k=document.createElement("script");k.src="//www.youtube.com/iframe_api";var l=document.getElementsByTagName("script")[0];l.parentNode.insertBefore(k,l),a.Youtube.apiLoading=!0}this.on("dispose",function(){this.el_.parentNode.removeChild(this.el_),this.iframeblocker.parentNode.removeChild(this.iframeblocker),this.qualityButton.parentNode.removeChild(this.qualityButton),this.player_.loadingSpinner.hide(),this.player_.bigPlayButton.hide()
})}}),a.Youtube.prototype.parseSrc=function(a){if(this.srcVal=a,a){var b=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,c=a.match(b);this.videoId=c&&11==c[2].length?c[2]:null;var d=/[?&]list=([^#\&\?]+)/;c=a.match(d),null!=c&&c.length>1?this.playlistId=c[1]:this.playlistId&&delete this.playlistId;var e=/[?&]vq=([^#\&\?]+)/;c=a.match(e),null!=c&&c.length>1&&(this.userQuality=c[1])}},a.Youtube.prototype.src=function(a){return a&&(this.parseSrc(a),null==this.videoId?(this.iframeblocker.style.backgroundColor="black",this.iframeblocker.style.display="block"):(this.ytplayer.loadVideoById({videoId:this.videoId,suggestedQuality:this.userQuality}),this.player_el_.getElementsByClassName("vjs-poster")[0].style.backgroundImage="url(https://img.youtube.com/vi/"+this.videoId+"/0.jpg)",this.iframeblocker.style.backgroundColor="",this.iframeblocker.style.display="",this.player_.poster("https://img.youtube.com/vi/"+this.videoId+"/0.jpg"))),this.srcVal},a.Youtube.prototype.load=function(){},a.Youtube.prototype.play=function(){null!=this.videoId&&(this.player_.options().ytcontrols||this.player_.trigger("waiting"),this.isReady_?this.ytplayer.playVideo():this.playOnReady=!0)},a.Youtube.prototype.pause=function(){this.ytplayer.pauseVideo()},a.Youtube.prototype.paused=function(){return this.ytplayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0},a.Youtube.prototype.currentTime=function(){return this.ytplayer&&this.ytplayer.getCurrentTime?this.ytplayer.getCurrentTime():0},a.Youtube.prototype.setCurrentTime=function(a){this.ytplayer.seekTo(a,!0),this.player_.trigger("timeupdate")},a.Youtube.prototype.duration=function(){return this.ytplayer&&this.ytplayer.getDuration?this.ytplayer.getDuration():0},a.Youtube.prototype.volume=function(){return this.ytplayer&&isNaN(this.volumeVal)&&(this.volumeVal=this.ytplayer.getVolume()/100),this.volumeVal},a.Youtube.prototype.setVolume=function(a){a&&a!=this.volumeVal&&(this.ytplayer.setVolume(100*a),this.volumeVal=a,this.player_.trigger("volumechange"))},a.Youtube.prototype.muted=function(){return this.mutedVal},a.Youtube.prototype.setMuted=function(a){a?this.ytplayer.mute():this.ytplayer.unMute(),this.mutedVal=a,this.player_.trigger("volumechange")},a.Youtube.prototype.buffered=function(){if(this.ytplayer&&this.ytplayer.getVideoBytesLoaded){var b=this.ytplayer.getVideoBytesLoaded(),c=this.ytplayer.getVideoBytesTotal();if(!b||!c)return 0;var d=this.ytplayer.getDuration(),e=b/c*d,f=this.ytplayer.getVideoStartBytes()/c*d;return a.createTimeRange(f,f+e)}return a.createTimeRange(0,0)},a.Youtube.prototype.supportsFullScreen=function(){return!0},a.Youtube.isSupported=function(){return!0},a.Youtube.canPlaySource=function(a){return"video/youtube"==a.type},a.Youtube.canControlVolume=function(){return!0},a.Youtube.loadingQueue=[],a.Youtube.prototype.loadYoutube=function(){this.ytplayer=new YT.Player(this.id_,{events:{onReady:function(a){a.target.vjsTech.onReady()},onStateChange:function(a){a.target.vjsTech.onStateChange(a.data)},onPlaybackQualityChange:function(a){a.target.vjsTech.onPlaybackQualityChange(a.data)},onError:function(a){a.target.vjsTech.onError(a.data)}}}),this.ytplayer.vjsTech=this},a.Youtube.makeQueryString=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},window.onYouTubeIframeAPIReady=function(){for(var b;b=a.Youtube.loadingQueue.shift();)b.loadYoutube();a.Youtube.loadingQueue=[],a.Youtube.apiReady=!0},a.Youtube.prototype.onReady=function(){this.isReady_=!0,this.triggerReady(),this.iframeblocker.style.display="",this.player_.loadingSpinner.hide(),this.player_.options().muted&&this.setMuted(!0),this.playOnReady&&(this.playOnReady=!1,this.play())},a.Youtube.prototype.updateQualities=function(){var b=this.ytplayer.getAvailableQualityLevels();if(0==b.length)this.qualityButton.style.display="none";else{for(this.qualityButton.style.display="";this.qualityMenuContent.hasChildNodes();)this.qualityMenuContent.removeChild(this.qualityMenuContent.lastChild);for(var c=0;c<b.length;++c){var d=document.createElement("li");d.setAttribute("class","vjs-menu-item"),d.innerText=a.Youtube.parseQualityName(b[c]),d.setAttribute("data-val",b[c]),b[c]==this.quality&&d.classList.add("vjs-selected");var e=this;d.addEventListener("click",function(){var b=this.getAttribute("data-val");e.ytplayer.setPlaybackQuality(b),e.qualityTitle.innerText=a.Youtube.parseQualityName(b);var c=e.qualityMenuContent.querySelector(".vjs-selected");c&&c.classList.remove("vjs-selected"),this.classList.add("vjs-selected")}),this.qualityMenuContent.appendChild(d)}}},a.Youtube.prototype.onStateChange=function(a){if(a!=this.lastState){switch(a){case-1:this.player_.trigger("durationchange");break;case YT.PlayerState.ENDED:this.player_.options().ytcontrols||(this.player_el_.getElementsByClassName("vjs-poster")[0].style.display="block",this.player_.bigPlayButton.show()),this.player_.trigger("ended");break;case YT.PlayerState.PLAYING:this.player_.bigPlayButton.hide(),this.updateQualities(),this.player_.trigger("timeupdate"),this.player_.trigger("durationchange"),this.player_.trigger("playing"),this.player_.trigger("play");break;case YT.PlayerState.PAUSED:this.player_.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.options().ytcontrols||this.player_.trigger("waiting");break;case YT.PlayerState.CUED:}this.lastState=a}},a.Youtube.convertQualityName=function(a){switch(a){case"144p":return"tiny";case"240p":return"small";case"360p":return"medium";case"480p":return"large";case"720p":return"hd720";case"1080p":return"hd1080"}return a},a.Youtube.parseQualityName=function(a){switch(a){case"tiny":return"144p";case"small":return"240p";case"medium":return"360p";case"large":return"480p";case"hd720":return"720p";case"hd1080":return"1080p"}return a},a.Youtube.prototype.onPlaybackQualityChange=function(b){switch(this.quality=b,this.qualityTitle.innerText=a.Youtube.parseQualityName(b),b){case"medium":this.player_.videoWidth=480,this.player_.videoHeight=360;break;case"large":this.player_.videoWidth=640,this.player_.videoHeight=480;break;case"hd720":this.player_.videoWidth=960,this.player_.videoHeight=720;break;case"hd1080":this.player_.videoWidth=1440,this.player_.videoHeight=1080;break;case"highres":this.player_.videoWidth=1920,this.player_.videoHeight=1080;break;case"small":this.player_.videoWidth=320,this.player_.videoHeight=240;break;case"tiny":this.player_.videoWidth=144,this.player_.videoHeight=108;break;default:this.player_.videoWidth=0,this.player_.videoHeight=0}this.player_.trigger("ratechange")},a.Youtube.prototype.onError=function(a){this.player_.error=a,this.player_.trigger("error")},function(){var a=document.createElement("style");a.text="   .vjs-youtube .vjs-poster { background-size: cover; }  .iframeblocker { display:none;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;z-index:2; }  .vjs-youtube.vjs-user-inactive .iframeblocker { display:block; }   .vjs-quality-button > div:first-child > span:first-child { position:relative;top:7px }  ",document.getElementsByTagName("head")[0].appendChild(a)}()}),define("vjsvimeo",["videojs"],function(a){var b={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3};a.Vimeo=a.MediaTechController.extend({init:function(b,c,d){a.MediaTechController.call(this,b,c,d),this.player_=b,this.player_el_=document.getElementById(this.player_.id()),this.player_.controls(!1),this.id_=this.player_.id()+"_vimeo_api",this.el_=a.Component.prototype.createEl("iframe",{id:this.id_,className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0,webkitAllowFullScreen:"true",mozallowfullscreen:"true",allowFullScreen:"true"}),this.player_el_.insertBefore(this.el_,this.player_el_.firstChild),this.baseUrl="https"==document.location.protocol?"https://secure.vimeo.com/video/":"http://player.vimeo.com/video/",this.vimeo={},this.vimeoInfo={};var e=this;this.el_.onload=function(){e.onLoad()},this.startMuted=b.options().muted,this.src(b.options().src)}}),a.Vimeo.prototype.dispose=function(){this.vimeo.api("unload"),delete this.vimeo,this.el_.parentNode.removeChild(this.el_),a.MediaTechController.prototype.dispose.call(this)},a.Vimeo.prototype.src=function(b){this.isReady_=!1;var c=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/,d=b.match(c);d&&(this.videoId=d[5]);var e={api:1,byline:0,portrait:0,show_title:0,show_byline:0,show_portait:0,fullscreen:1,player_id:this.id_,autoplay:this.player_.options().autoplay?1:0,loop:this.player_.options().loop?1:0};this.el_.src=this.baseUrl+this.videoId+"?"+a.Vimeo.makeQueryString(e)},a.Vimeo.prototype.load=function(){},a.Vimeo.prototype.play=function(){this.vimeo.api("play")},a.Vimeo.prototype.pause=function(){this.vimeo.api("pause")},a.Vimeo.prototype.paused=function(){return this.lastState!==b.PLAYING&&this.lastState!==b.BUFFERING},a.Vimeo.prototype.currentTime=function(){return this.vimeoInfo.time||0},a.Vimeo.prototype.setCurrentTime=function(a){this.vimeo.api("seekTo",a),this.player_.trigger("timeupdate")},a.Vimeo.prototype.duration=function(){return this.vimeoInfo.duration||0},a.Vimeo.prototype.buffered=function(){return a.createTimeRange(0,this.vimeoInfo.buffered||0)},a.Vimeo.prototype.volume=function(){return this.vimeoInfo.muted?this.vimeoInfo.muteVolume:this.vimeoInfo.volume},a.Vimeo.prototype.setVolume=function(a){this.vimeo.api("setvolume",a),this.vimeoInfo.volume=a,this.player_.trigger("volumechange")},a.Vimeo.prototype.muted=function(){return this.vimeoInfo.muted||!1},a.Vimeo.prototype.setMuted=function(a){a?(this.vimeoInfo.muteVolume=this.vimeoInfo.volume,this.setVolume(0)):this.setVolume(this.vimeoInfo.muteVolume),this.vimeoInfo.muted=a,this.player_.trigger("volumechange")},a.Vimeo.prototype.onReady=function(){this.isReady_=!0,this.triggerReady(),this.startMuted&&(this.setMuted(!0),this.startMuted=!1)},a.Vimeo.prototype.onLoad=function(){this.vimeo.api&&(this.vimeo.api("unload"),delete this.vimeo),this.vimeo=$f(this.el_),this.vimeoInfo={state:b.UNSTARTED,volume:1,muted:!1,muteVolume:1,time:0,duration:0,buffered:0,url:this.baseUrl+this.videoId,error:null};var a=this;this.vimeo.addEvent("ready",function(){a.onReady()}),this.vimeo.addEvent("loadProgress",function(b){a.onLoadProgress(b)}),this.vimeo.addEvent("playProgress",function(b){a.onPlayProgress(b)}),this.vimeo.addEvent("play",function(){a.onPlay()}),this.vimeo.addEvent("pause",function(){a.onPause()}),this.vimeo.addEvent("finish",function(){a.onFinish()}),this.vimeo.addEvent("seek",function(b){a.onSeek(b)})},a.Vimeo.prototype.onLoadProgress=function(a){var b=!this.vimeoInfo.duration;this.vimeoInfo.duration=a.duration,this.vimeoInfo.buffered=a.percent,this.player_.trigger("progress"),b&&this.player_.trigger("durationchange")},a.Vimeo.prototype.onPlayProgress=function(a){this.vimeoInfo.time=a.seconds,this.player_.trigger("timeupdate")},a.Vimeo.prototype.onPlay=function(){this.vimeoInfo.state=b.PLAYING,this.player_.trigger("play")},a.Vimeo.prototype.onPause=function(){this.vimeoInfo.state=b.PAUSED,this.player_.trigger("pause")},a.Vimeo.prototype.onFinish=function(){this.vimeoInfo.state=b.ENDED,this.player_.trigger("ended")},a.Vimeo.prototype.onSeek=function(a){this.vimeoInfo.time=a.seconds,this.player_.trigger("timeupdate"),this.player_.trigger("seeked")},a.Vimeo.prototype.onError=function(a){this.player_.error=a,this.player_.trigger("error")},a.Vimeo.isSupported=function(){return!0},a.Vimeo.prototype.supportsFullScreen=function(){return!1},a.Vimeo.canPlaySource=function(a){return"video/vimeo"==a.type},a.Vimeo.makeQueryString=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")};!function(){function a(b){return new a.fn.init(b)}function b(a,b,c){if(!c.contentWindow.postMessage)return!1;var d=c.getAttribute("src").split("?")[0],e=JSON.stringify({method:a,value:b});"//"===d.substr(0,2)&&(d=window.location.protocol+d),c.contentWindow.postMessage(e,d)}function c(a){var b,c;try{b=JSON.parse(a.data),c=b.event||b.method}catch(d){}if("ready"!=c||j||(j=!0),a.origin!=k)return!1;var f=b.value,g=b.data,h=""===h?null:b.player_id,i=e(c,h),l=[];return i?(void 0!==f&&l.push(f),g&&l.push(g),h&&l.push(h),l.length>0?i.apply(null,l):i.call()):!1}function d(a,b,c){c?(i[c]||(i[c]={}),i[c][a]=b):i[a]=b}function e(a,b){return b?i[b][a]:i[a]}function f(a,b){if(b&&i[b]){if(!i[b][a])return!1;i[b][a]=null}else{if(!i[a])return!1;i[a]=null}return!0}function g(a){"//"===a.substr(0,2)&&(a=window.location.protocol+a);for(var b=a.split("/"),c="",d=0,e=b.length;e>d&&3>d;d++)c+=b[d],2>d&&(c+="/");return c}function h(a){return!!(a&&a.constructor&&a.call&&a.apply)}var i={},j=!1,k=(Array.prototype.slice,"");return a.fn=a.prototype={element:null,init:function(a){return"string"==typeof a&&(a=document.getElementById(a)),this.element=a,k=g(this.element.getAttribute("src")),this},api:function(a,c){if(!this.element||!a)return!1;var e=this,f=e.element,g=""!==f.id?f.id:null,i=h(c)?null:c,j=h(c)?c:null;return j&&d(a,j,g),b(a,i,f),e},addEvent:function(a,c){if(!this.element)return!1;var e=this,f=e.element,g=""!==f.id?f.id:null;return d(a,c,g),"ready"!=a?b("addEventListener",a,f):"ready"==a&&j&&c.call(null,g),e},removeEvent:function(a){if(!this.element)return!1;var c=this,d=c.element,e=""!==d.id?d.id:null,g=f(a,e);"ready"!=a&&g&&b("removeEventListener",a,d)}},a.fn.init.prototype=a.fn,window.addEventListener?window.addEventListener("message",c,!1):window.attachEvent("onmessage",c),window.Froogaloop=window.$f=a}()}),define("bv-widgets/BVVidAssist",["jquery","videojs","vjsyoutube","vjsvimeo"],function(a,b){var c=function(){};return c.prototype={activate_vid:function(c){var d=c[0].id,e=c.attr("data-setup");e&&(e=a.parseJSON(e));var f=c.attr("data-source");if(f){var g=c.attr("type");c.append('<source src="'+f+'" type="'+g+'"/>')}if(d){if(e.height=c.width(),a.browser.msie&&"8.0"===a.browser.version&&a(".fm-lightbox").length>0){var h=a(".fm-lightbox .fm-update").width();e.height=h}c.vjsobj=b(d,e);var i=a("#"+d);i.width(c.width()),i.height(e.height),i.css("height","100%"),i.css("width","auto"),c.vjsobj.controls(!0)}},deactivate_vid:function(a){var c=a[0].id;c&&b(c,{}).dispose()}},c}),define("fm/helpers/urlparams",[],function(){for(var a=function(a){return decodeURIComponent(a.replace(/\+/g," "))},b=window.location.search.substring(1),c=/([^&=]+)=?([^&]*)/g,d={},e=c.exec(b);e;)d[a(e[1])]=a(e[2]),e=c.exec(b);return d}),define("clamp",[],function(){function a(a,b){function c(a,b){return k.getComputedStyle||(k.getComputedStyle=function(a){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle&&a.currentStyle[b]?a.currentStyle[b]:null},this}),k.getComputedStyle(a,null).getPropertyValue(b)}function d(b){var c=b||a.clientHeight,d=f(a);return Math.max(Math.floor(c/d),0)}function e(b){var c=f(a);return c*b}function f(a){var b=c(a,"line-height");return"normal"==b&&(b=1.2*parseInt(c(a,"font-size"))),parseInt(b)}function g(b){return b.lastChild.children&&b.lastChild.children.length>0?g(Array.prototype.slice.call(b.children).pop()):b.lastChild&&b.lastChild.nodeValue&&""!=b.lastChild.nodeValue&&b.lastChild.nodeValue!=l.truncationChar?b.lastChild:(b.lastChild.parentNode.removeChild(b.lastChild),g(a))}function h(b,c){function d(){t=l.splitOnChars.slice(0),u=t[0],r=null,s=null}if(c){var e=b.nodeValue.replace(l.truncationChar,"");if(r||(u=t.length>0?t.shift():"",r=e.split(u)),r.length>1?(s=r.pop(),i(b,r.join(u))):r=null,j&&(b.nodeValue=b.nodeValue.replace(l.truncationChar,""),a.innerHTML=b.nodeValue+" "+j.innerHTML+l.truncationChar),r){if(a.clientHeight<=c){if(!(t.length>=0&&""!=u))return a.innerHTML;i(b,r.join(u)+u+s),r=null}}else""==u&&(i(b,""),b=g(a),d());return l.animate?void setTimeout(function(){h(b,c)},l.animate===!0?10:l.animate):h(b,c)}}function i(a,b){a.nodeValue=b+l.truncationChar}b=b||{};var j,k=window,l={clamp:b.clamp||2,useNativeClamp:"undefined"!=typeof b.useNativeClamp?b.useNativeClamp:!0,splitOnChars:b.splitOnChars||[".","-","–","—"," "],animate:b.animate||!1,truncationChar:b.truncationChar||"…",truncationHTML:b.truncationHTML},m=a.style,n=a.innerHTML,o="undefined"!=typeof a.style.webkitLineClamp,p=l.clamp,q=p.indexOf&&(p.indexOf("px")>-1||p.indexOf("em")>-1);l.truncationHTML&&(j=document.createElement("span"),j.innerHTML=l.truncationHTML);var r,s,t=l.splitOnChars.slice(0),u=t[0];"auto"==p?p=d():q&&(p=d(parseInt(p)));var v;if(o&&l.useNativeClamp)m.overflow="hidden",m.textOverflow="ellipsis",m.webkitBoxOrient="vertical",m.display="-webkit-box",m.webkitLineClamp=p,q&&(m.height=l.clamp+"px");else{var w=e(p);w<=a.clientHeight&&(v=h(g(a),w))}return{original:n,clamped:v}}return a}),define("fm/helpers/Source",["require","feedmagnet","jquery","underscore"],function(a){var b=(a("feedmagnet"),a("jquery"),a("underscore")),c=function(a,c,d){if(c){var e=this;e.hub=a,d=d||e.hub.defaults||{},b.each(b.extend(b.clone(d),c),function(a,b){e[b]=a}),e.reset()}};return c.prototype={reset:function(){this.status={active:!0,inventory:0,placed:this.fixed?!1:0}},disable:function(){var a=this;a.status=b.extend(b.pick(a.status,["placed"]),{inventory:0,active:!1}),a.hub.active_sources=b.without(a.hub.active_sources,a)},self_destruct:function(){},get_content:function(){}},c}),define("fm/helpers/StaticSource",["require","feedmagnet","jquery","underscore","./Source"],function(a){var b=(a("feedmagnet"),a("jquery")),c=a("underscore"),d=a("./Source"),e=function(a,b,e){var f=this;b=b||{},e=c.extend(e||{},{loop:!0}),f.depleted=!1,d.call(this,a,b,e),c.each({content:[],random:!1},function(a,c){f[c]=b.hasOwnProperty(c)?b[c]:a}),"string"==typeof f.content&&(f.content=[f.content]),f.update_inventory()};return e.prototype=c.extend(new d,{constructor:e,get_next:function(a){var c=this;if(!c.status.active||c.available===!1)return void a({success:!1});var d=c.available.shift(),e="string"===d.content.constructor?b(d.content):b(d.content).clone();c.status.inventory-=1,0===c.available.length&&c.update_inventory(d),a({success:!0,$el:e,content:d.id})},reset:function(){var a=this;d.prototype.reset.call(a),delete a.available,a.update_inventory()},update_inventory:function(a){var b=this;return b.available&&!b.loop?(b.available=!1,b.disable(),!1):(b.available=c.map(b.content,function(a,b){return{id:b,content:a}}),c.isEqual([a],b.available)||(b.available=c.without(b.available,a)),b.random&&(b.available=c.shuffle(b.available)),0===b.available.length&&(b.available=!1),void(b.status.inventory=b.available?b.loop?1/0:b.available.length:0))}}),e}),define("fm/helpers/FeedSource",["require","feedmagnet","jquery","underscore","../helpers/feed.theme","./Source"],function(a){var b=a("feedmagnet"),c=a("jquery"),d=a("underscore"),e=a("../helpers/feed.theme"),f=a("./Source"),g=function(a,g){var h=this;f.call(h,a,g),h.groups=g.groups,d.each({client:"",auto_get:!0,externalId:"",extra_themes:[],featured:0,identifier:"FeedSource",loop:!1,max_updates:2e3,reverse_chron:!0,tags:!1},function(a,b){h[b]=void 0===g[b]?void 0===h[b]?a:h[b]:g[b]}),h.feed_options={};var i=function(a){return"boolean"==typeof a};d.each([["has_geotag",i],["has_link",i],["has_photo",i],["has_video",i],["featured_only",i],["include_comments",i],["per_group_limit",function(a){return"string"==typeof a&&(a=parseInt(a,10)),"number"==typeof a}],["tags",function(a){return void 0===a?!1:"string"==typeof a||a.constructor===Array}],["tag_scope",function(a){return void 0===a?!1:"string"==typeof a}]],function(a){a[1](g[a[0]])&&(h.feed_options[a[0]]=g[a[0]])});var j=a.defaults||{};h.feed=b.Feed(h.groups).options(d.extend(h.feed_options,{identifier:h.identifier})).theme(d.defaults(d.pick(g.theme||{},e.option_keys),j.theme||{})).connect("get_success",{callback:d.bind(h.get_success,h)}),d.each(h.extra_themes,function(a){h.feed.theme(d.extend(d.defaults(d.pick(g[a+"_theme"]||{},e.option_keys),j[a+"_theme"]||{}),{update_attribute:a+"_html"}))}),h.$el=c("<div/>"),h.element=b.Element(h.$el).display(h.feed).connect("updates_placed",{callback:d.bind(h.updates_placed,h)}).connect("broken_image",{strong:!0,callback:d.bind(h.broken_image,h)}),h.max_updates&&(h.element.MAXIMUM_UPDATES=h.max_updates),h.initial_content=!1,h.ready_queue=[],h.callback_queue=[],h.content_wanted=0,h.depleted=!1,h.polling=!1,h.hub.generic_group||(h.hub.generic_group=h.groups,h.hub.generic_feed=h.feed)};return g.prototype=d.extend(new f,{constructor:g,ready:function(a){var b=this;b.initial_content?a():b.ready_queue.push(a)},self_destruct:function(){var a=this;a.destroyed=!0,a.stop_polling(),d.each(b.signals._registry,function(c,e){b.signals._registry[e]=d.reject(c,function(b){return a.feed===b.sender||a.element===b.sender})}),a.$el.remove()},reset:function(){var a=this;if(f.prototype.reset.call(a),a.$el){a.$el.find(".fm-tracked").addClass("fm-incoming fm-queued")}a.content_wanted=0,a.status.inventory=a.depleted&&!a.loop?a.$el.find(".fm-tracked").length:1/0},start_polling:function(a){var b=this;a=a||{},b.poll_frequency=a.frequency||b.poll_frequency||30,b.poll_quantity=a.quantity||b.poll_quantity||20,b.polling||(b.polling=!0,b.get_content(b.poll_quantity,!0))},stop_polling:function(){var a=this;a.polling=!1,a.poll_timeout&&clearTimeout(a.poll_timeout)},get_next:function(a){var b=this;if(b.destroyed||!b.status.active)return a({success:!1});var c=b.next_available();if(c!==!1)return b.send_update(c,a);if(b.loop){var d=!1;if(b.depleted?d=!0:b.max_updates<=b.element.updates.length?d=!0:(b.callback_queue.push(a),b.get_content()),d)return b.$el.find(".fm-tracked").addClass("fm-queued"),b.send_update(b.next_available(),a)}else b.depleted?a({success:!1}):b.auto_get?(b.callback_queue.push(a),b.get_content()):b.getting_content?b.callback_queue.push(a):a({success:!1})},next_available:function(){var a=this,b=d.reduce([".fm-incoming",".fm-queued"],function(b,c){var d=b?[]:a.$el.find(c);if(0===d.length)return b;var e=a.reverse_chron?d.first():d.last();return e.removeClass("fm-incoming fm-queued")},!1);return b?b.clone(!0):!1},get_content:function(a,b){var c=this;if(a&&(c.content_wanted+=a),b&&c.polling&&(c.poll_timeout=setTimeout(function(){c.get_content(c.poll_quantity,!0)},1e3*c.poll_frequency)),!c.getting_content){c.getting_content=!0;var e=c.content_wanted;0===e&&(e=30),e=d.min([50,e]),c.content_wanted=d.max([c.content_wanted-e,0]),c.initial_content&&!b?c.feed.more({limit:e}):c.featured&&c.featured>0?c.feed.featured({limit:c.featured}):c.feed.get({limit:e})}},get_success:function(a,b){var c=this;c.destroyed||(c.getting_content=!1,b.response.results<b.response.options.limit&&(c.depleted=!0,c.content_wanted=0))},updates_placed:function(a,b){var e=this;if(!e.destroyed&&(e.initial_content||(e.initial_content=!0),d.each(b.$new_updates,function(a,d){c(a).data("fm_update",b.new_updates[d])}),b.$new_updates.addClass("fm-incoming fm-queued fm-tracked"),c(a.e).find(".fm-update img.fm-photo").error(function(a){c(a.target).parents(".fm-update").attr("data-badimg","photo")}),c(a.e).find(".fm-update .fm-avatar img").error(function(a){var b=c(a.target).parents(".fm-update");void 0===b.attr("data-badimg")&&b.attr("data-badimg","avatar")}),e.clear_callback_queue(b.new_updates.length),e.ready_queue.length))for(;e.ready_queue.length;)e.ready_queue.shift()()},clear_callback_queue:function(a){var b=this;if(a=a||1/0,0!==!b.callback_queue.length){for(var c=d.min([a,b.callback_queue.length]),e=0;c>e;e++){var f=b.next_available();if(!f)break;b.send_update(f,b.callback_queue.shift())}if(b.callback_queue.length)if(b.loop)if(b.depleted)b.$el.find(".fm-tracked").addClass("fm-queued"),b.clear_callback_queue();else if(b.max_updates<=b.element.updates.length)b.$el.find(".fm-tracked").addClass("fm-queued"),b.clear_callback_queue();else{var g=d.min([b.max_updates,b.callback_queue.length]);b.get_content(g)}else if(b.depleted)for(;b.callback_queue.length;)b.callback_queue.shift()({success:!1});else if(b.content_wanted)b.get_content();else if(b.auto_get)b.get_content();else for(;b.callback_queue.length;){var h=b.callback_queue.shift();h({success:!1})}else b.content_wanted>0&&b.get_content()}},broken_image:function(a,b){var d=this;if(!d.destroyed){var e=b.update,f=c(e._el);setTimeout(function(){var b=f.attr("data-badimg");if("photo"===b){d.$el.find("[data-id="+e.data.id+"]").removeClass("fm-tracked").removeClass("fm-queued"),a.remove(e);for(var c=0;c<a.feeds.length;c+=1){var g=a.feeds[c];g.remove_update(e)}}else"avatar"===b&&f.find(".fm-avatar").remove();d.hub&&"function"==typeof d.hub.bad_image&&d.hub.bad_image(e,b)},5)}},send_update:function(a,c){var e=this;e.depleted&&(e.status.inventory-=1);var f=a.data("fm_update"),g={success:!0,update:f,$el:a,content:a.attr("data-id")};d.each(e.extra_themes,function(a){g[a]={html:f[a+"_html"]},g[a].callback=function(a){setTimeout(function(){b.analytics.track(null,"Viewer Open",{"Viewer Open Permalink":a.attr("data-permalink")||"None","Viewer Open Update ID":a.attr("data-update-id")||"None","Viewer Open Channel":a.attr("data-channel")||"None","Viewer Open Classification":a.attr("data-classification")||"None","Viewer Open Author":a.attr("data-author")||"None"})})}}),c(g)}}),g}),define("bv-widgets/helpers/BVFeedSource",["feedmagnet","jquery","underscore","fm/helpers/feed.theme","fm/helpers/Source","fm/helpers/FeedSource","bv-widgets/BVAnalytics"],function(a,b,c,d,e,f,g){var h=g.getInstance(),i=function(f,g){var h=this;e.call(h,f,g),c.each({auto_get:!0,extra_themes:[],featured:0,groups:[],identifier:"FeedSource",loop:!1,max_updates:2e3,reverse_chron:!0,tags:[],tag_scope:null,shared_tags:[],shared_tag_scope:null},function(a,b){h[b]=void 0===g[b]?void 0===h[b]?a:h[b]:g[b]}),h.feed_options={};var i=function(a){return"boolean"==typeof a};c.each([["has_geotag",i],["has_link",i],["has_photo",i],["has_photo_or_video",i],["has_video",i],["featured_only",i],["include_comments",i],["per_group_limit",function(a){return"string"==typeof a&&(a=parseInt(a,10)),"number"==typeof a}],["tags",function(a){return void 0===a?!1:"string"==typeof a||a.constructor===Array}],["tag_scope",function(a){return void 0===a?!1:"string"==typeof a}],["shared_tags",function(a){return void 0===a?!1:"string"==typeof a||a.constructor===Array}],["shared_tag_scope",function(a){return void 0===a?!1:"string"==typeof a}],["client",function(a){return a?a:!1}],["externalId",function(a){return a?a:!1}],["passkey",function(a){return a?a:!1}]],function(a){a[1](g[a[0]])&&(h.feed_options[a[0]]=g[a[0]])});var j=f.defaults||{};h.feed=a.Feed(h.groups).options(c.extend(h.feed_options,{identifier:h.identifier})).theme(c.defaults(c.pick(g.theme||{},d.option_keys),j.theme||{})).connect("get_success",{callback:c.bind(h.get_success,h)}),c.each(h.extra_themes,function(a){h.feed.theme(c.extend(c.defaults(c.pick(g[a+"_theme"]||{},d.option_keys),j[a+"_theme"]||{}),{update_attribute:a+"_html"}))}),h.$el=b("<div/>"),h.element=a.Element(h.$el).display(h.feed).connect("updates_placed",{callback:c.bind(h.updates_placed,h)}).connect("broken_image",{strong:!0,callback:c.bind(h.broken_image,h)}),h.max_updates&&(h.element.MAXIMUM_UPDATES=h.max_updates),h.initial_content=!1,h.ready_queue=[],h.callback_queue=[],h.content_wanted=0,h.depleted=!1,h.polling=!1,h.hub=f,h.hub.generic_group||(h.hub.generic_group=h.groups,h.hub.generic_feed=h.feed)};return i.prototype=c.extend(new e,{constructor:i,ready:f.prototype.ready,self_destruct:f.prototype.self_destruct,reset:f.prototype.reset,start_polling:f.prototype.start_polling,stop_polling:f.prototype.stop_polling,get_next:f.prototype.get_next,next_available:f.prototype.next_available,get_content:function(a,b,d){var e=this;if(d=d||{},e.hub.shopnow.shopnow_enabled&&h.waitingForBrandData&&(d.withProductData=!0),a&&(e.content_wanted+=a),b&&e.polling&&(e.poll_timeout=setTimeout(function(){e.get_content(e.poll_quantity,!0)},1e3*e.poll_frequency)),!e.getting_content){e.getting_content=!0;var f=e.content_wanted;0===f&&(f=30),f=c.min([50,f]),e.content_wanted=c.max([e.content_wanted-f,0]),e.initial_content&&!b?e.feed.more(c(d).extend({limit:f})):e.featured&&e.featured>0?e.feed.featured(c(d).extend({limit:e.featured})):e.feed.get(c(d).extend({limit:f}))}},get_success:function(a,b){var d=this;if(h.waitingForBrandData&&h.resolveBrandData(b.response.productData),!d.destroyed){d.getting_content=!1;var e=b.response;if(d.loop){var f=["grid","columns"],g=c.indexOf(f,d.hub.type);g>-1&&e&&e.options&&e.results&&(e.options.limit=e.options.limit||20,e.results&&e.results<e.options.limit&&(d.depleted=!0,d.$el.find(".fm-tracked").addClass("fm-queued")))}else d.status.inventory=e.results||0,e.options&&(e.options.limit=e.options.limit||20,d.status.inventory<e.options.limit&&(d.depleted=0===d.status.inventory?!0:!1,d.content_wanted=0,d.depleted&&d.hub&&!d.hub.viewer&&"function"==typeof d.hub.update_shortage&&d.hub.update_shortage(d.status.inventory)))}},updates_placed:function(a,b){this.productData=b.productData;for(var c=[],d=0;d<b.updates.length;d++)c.push({contentId:b.updates[d].data.id,widgetIdentifier:this.hub.identifier});return h.ugc(c),f.prototype.updates_placed.call(this,a,b)},send_update:function(a,b){var d=this;if(a){d.depleted&&(d.status.inventory-=1);var e=a.data("fm_update"),f={success:!0,update:e,$el:a,content:a.attr("data-id")};c.each(d.extra_themes,function(a){f[a]={html:e[a+"_html"]},f[a].callback=function(a){setTimeout(function(){h.used("Share",null,a.attr("data-update-id")||"None","Twitter")})}}),b(f)}},clear_callback_queue:f.prototype.clear_callback_queue,broken_image:f.prototype.broken_image}),i}),define("loadThemes",["underscore"],function(a){return{load:function(b,c,d,e){var f=(e.clientConfig||window.BV_WIDGET_CONFIG).GlobalConfigs,g=f.widgetTypes,h={},i=[],j={};g&&g[b]?(a(g[b]).each(function(c){a(c).each(function(a,c){"styles"===c||!a||h[a]&&h[a][c]||(h[a]=h[a]||[],h[a].push(c),i.push("hbs!templates/"+b+"/themes/"+a+"/"+c))})}),c(i,function(){var b=Array.prototype.slice.call(arguments);a(h).each(function(c,d){a(c).each(function(a){j[d]=j[d]||{},j[d][a]=b.shift()})}),d(j)})):d({})}}}),define("hbs!templates/carousel/themes/social/theme",["hbs","hbs/handlebars.runtime","hbs!templates/common/media","hbs!templates/common/channel_icon"],function(a,b){var c=b.template(function(a,b,c,d){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials);var e,f="",g=this;return e=g.invokePartial(d["templates/common/media"],"templates/common/media",b,c,d),(e||0===e)&&(f+=e),f+='\n<div class="fm-info">\n    ',e=g.invokePartial(d["templates/common/channel_icon"],"templates/common/channel_icon",b,c,d),(e||0===e)&&(f+=e),f+="\n</div>\n"});return b.registerPartial("templates/carousel/themes/social/theme",c),c}),define("hbs!templates/common/ratingstars",["hbs","hbs/handlebars.runtime"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n",d=c["if"].call(a,a&&a.hasStars,{hash:{},inverse:o.noop,fn:o.program(2,g,b)}),(d||0===d)&&(e+=d),e+="\n"}function g(a,b){var d,e="";return e+='\n    <div class="bv-fm-ratingstars-container">\n        <div class="bv-fm-update-ratingstars">\n        ',d=c["if"].call(a,a&&a.starImgUrl,{hash:{},inverse:o.program(5,i,b),fn:o.program(3,h,b)}),(d||0===d)&&(e+=d),e+="\n        </div>\n        ",d=c["if"].call(a,(d=a&&a.udata,null==d||d===!1?d:d.totalReviews),{hash:{},inverse:o.noop,fn:o.program(7,j,b)}),(d||0===d)&&(e+=d),e+="\n    </div>\n"}function h(a){var b,d,e="";return e+='\n            <img class="bv-rating-stars" src="',(d=c.starImgUrl)?b=d.call(a,{hash:{}}):(d=a&&a.starImgUrl,b=typeof d===m?d.call(a,{hash:{}}):d),e+=n(b)+'">\n        '}function i(a){var b,d,e="";return e+='\n            <span class="bv-rating-stars bv-rating-stars-off" aria-hidden="true">★★★★★</span>\n            <span class="bv-rating-stars bv-rating-stars-on" style="width: ',(d=c.ratingPercentage)?b=d.call(a,{hash:{}}):(d=a&&a.ratingPercentage,b=typeof d===m?d.call(a,{hash:{}}):d),e+=n(b)+'% !important" aria-hidden="true">★★★★★</span>\n        '
}function j(a){var b,d,e="";return e+='\n        <div class="bv-fm-rating-statistics"><span style="font-weight: bold !important">',(d=c.fixedRating)?b=d.call(a,{hash:{}}):(d=a&&a.fixedRating,b=typeof d===m?d.call(a,{hash:{}}):d),e+=n(b)+"</span>&nbsp;("+n((b=a&&a.udata,b=null==b||b===!1?b:b.totalReviews,typeof b===m?b.apply(a):b))+")</div>\n        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers);var k,l="",m="function",n=this.escapeExpression,o=this;return k=c["with"].call(b,b&&b.ratingstars,{hash:{},inverse:o.noop,fn:o.program(1,f,e)}),(k||0===k)&&(l+=k),l+="\n"});return b.registerPartial("templates/common/ratingstars",c),b.registerPartial("templates/common/ratingstars",c),c}),define("hbs!templates/carousel/themes/social/viewer",["hbs","hbs/handlebars.runtime","hbs!templates/common/media","hbs!templates/common/avatar","hbs!templates/common/author","hbs!templates/common/timestamp","hbs!templates/common/channel_icon","hbs!templates/common/ratingstars","hbs!templates/common/text"],function(a,b){var c=b.template(function(a,b,c,d){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials);var e,f="",g=this;return f+='<div class="fm-standard-lightbox">\n    <div class="content-wrapper">\n        ',e=g.invokePartial(d["templates/common/media"],"templates/common/media",b,c,d),(e||0===e)&&(f+=e),f+='\n        <div class="fm-content">\n            <div class="fm-credits">\n                ',e=g.invokePartial(d["templates/common/avatar"],"templates/common/avatar",b,c,d),(e||0===e)&&(f+=e),e=g.invokePartial(d["templates/common/author"],"templates/common/author",b,c,d),(e||0===e)&&(f+=e),f+='\n                <div class="fm-timechannel">\n                    ',e=g.invokePartial(d["templates/common/timestamp"],"templates/common/timestamp",b,c,d),(e||0===e)&&(f+=e),e=g.invokePartial(d["templates/common/channel_icon"],"templates/common/channel_icon",b,c,d),(e||0===e)&&(f+=e),f+="\n                </div>\n            </div>\n            ",e=g.invokePartial(d["templates/common/ratingstars"],"templates/common/ratingstars",b,c,d),(e||0===e)&&(f+=e),f+="\n            ",e=g.invokePartial(d["templates/common/text"],"templates/common/text",b,c,d),(e||0===e)&&(f+=e),f+='\n        </div>\n    </div>\n    <div class="fm-sharing">\n    </div>\n</div>\n'});return b.registerPartial("templates/carousel/themes/social/viewer",c),c}),define("hbs!templates/carousel/themes/social/lightbox",["hbs","hbs/handlebars.runtime"],function(a,b){var c=b.template(function(a,b,c){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),'<div class="bv-content-wrapper">\n    <div id="bv-inner-carousel"></div>\n</div>\n'});return b.registerPartial("templates/carousel/themes/social/lightbox",c),c}),define("bv-widgets/BVCarousel",["fm/templates/fm-carousel/Carousel","jquery","underscore","feedmagnet","./helpers/BVSharing","./BVVidAssist","fm/helpers/feed.theme","fm/helpers/urlparams","clamp","fm/helpers/Source","fm/helpers/StaticSource","./helpers/BVFeedSource","bv-widgets/BVAnalytics","loglevel","loadThemes!carousel","util/importantizer","transit"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=m.getInstance(),q=function(a,d){var e=this;b(window).bind("resize."+e.namespace,c.bind(c.debounce(e.check_resize,300),e)),d=d||{},e.pos=0,e.updates_placed=0,e.slidepos=0,e.slide_count=1,e.sources=[],e.updates=[],e.updatesSeen={},e.active_sources=[],e.placement_queue=[],e.orig_el=a,e.vid_assist=new f,e.lightbox_settings=d.lightbox_settings||{},e.type=d.type||"carousel",e.load_settings(d,a)};return q.prototype={self_destruct:function(a){var e=this;e.destroyed||(e.destroyed=!0,c.each(d.signals._registry,function(a,b){d.signals._registry[b]=c.reject(a,function(a){return e.feed===a.sender||e.element===a.sender})}),b(".fm-lightbox-wrapper").length>0&&b(".fm-lightbox-wrapper").remove(),e.$el.empty(),e.$el=null,"function"==typeof a&&a())},get_x:a.prototype.get_x,cleanup:a.prototype.cleanup,defaults:{identifier:"Carousel",client:"",productId:"",tags:[],tag_scope:null,shared_tags:[],shared_tag_scope:null,groups:null,initial_blocks:50,ignore_inbound:!1,header_tagline:"Customer Photos",header_link:null,hashtag:"tag",timestamp_language:"en",loop:!0,cols:3,min_updates:1,clamp_lines:2,show_arrows:!0,show_static:!1,abtest:!1,forceCols:!1,coverage:!1,max_title_size:16,shopnow:{shopnow_enabled:!1,shopnow_text:{header:"Related Products",lightbox_button:"Shop Now"}},sharing:{description:"Content shared via Inspiration Gallery",email_subject:"I thought you might like this...",facebook_app_id:null,networks:["twitter","facebook","pinterest"],source:"Inspiration Gallery",label:"Share:"},carousel_classes:["MedCarousel"],theme_name:"classic",lightbox_classes:[],theme:{video_settings:{thumbnails:!0}},lightbox_theme:{update_attribute:"viewer_html"},lightbox_theme_name:"classic",viewer_theme:{},inner_carousel_theme:{video_settings:{thumbnails:!1,preload:"none"}},injected_callback:null,slide_page:!0,create_spacers:!1,lightbox_carousel:!0,content_callback:!1,padding:10,update_count:20,$btn_left:"auto",$btn_right:"auto",initial_pos:0,scan_for_id:void 0,inner_carousel:!1,extra_themes:["lightbox"],curations_passkey:"kuuqd395w5u7gv43987gxshh",has_content:!1,internalThemeNames:{theme:"classic"},internalLightboxThemeNames:{carousel:"classic"},carouselTheme:null},add_source:function(a){var b,c=this;a.hasOwnProperty("groups")&&a.groups?(c.inner_carousel&&(a.theme={},a.theme.template=c.defaults.inner_carousel_theme.template,a.theme.video_settings=c.defaults.inner_carousel_theme.video_settings),a.extra_themes=["viewer"],a.client=c.client,a.externalId=c.productId,c.tags&&c.tags.length&&(a.tags=c.tags),c.groups&&c.groups.length&&(a.groups=c.groups),c.inner_carousel||(a.has_photo_or_video=!0),a.limit=c.update_count,a.featured=c.featured,a.passkey=c.curations_passkey,b=new l(c,a,c.defaults)):(!c.inner_carousel||c.show_static)&&(b=new k(c,a,c.defaults)),b&&(c.sources.push(b),c.active_sources.push(b))},render:function(){var a=this;a.rendered=!0,a.place_blocks(a.initial_blocks),a.postSharing=new e(a.sharing),a.$el.hasClass("bv-carousel-theme-modern")&&(a.$el.width()<250&&a.$el.hasClass("bv-carousel-theme-modern")||a.$el.width()<350&&!a.$el.hasClass("bv-carousel-theme-modern")?a.$el.removeClass("fm-push-right"):a.$el.addClass("fm-push-right"));var c,d,f,g,i=!1;!a.inner_carousel&&a.$header&&(c=a.$header.find(".fm-title"),d=a.$header.find(".fm-float-left"),f=a.$header.find(".fm-float-right"),(parseInt(d.css("font-size"))>a.max_title_size||parseInt(f.css("font-size"))>a.max_title_size)&&(d.css("font-size",a.max_title_size),f.css("font-size",a.max_title_size),i=!0),g=parseInt(d.css("font-size")));var j=a.$el;if(!a.inner_carousel&&a.$header&&!j.hasClass("fm-push-right")){var k=4,l=d.width()+f.width(),m=j.innerHeight()-j.height(),o=.75;if(j.hasClass("BVTemplateSmallCarousel")?o=.8:j.hasClass("BVTemplateMedCarousel")&&(o=.76),f.css("float","right"),c.width()/(f.width()+d.width())<o)i?(d.css("font-size",.75*a.max_title_size),f.css("font-size",.75*a.max_title_size)):(d.css("font-size",.75*g),f.css("font-size",.75*g)),f.css("float","left"),a.$wrapper.css("top",m+d.height()+f.height());else{var q=1;if(c.width()-.88*l<k?q=.75:c.width()-l<k&&(q=.85),d.height()>1.5*f.height()){var r=q*f.height()*(Math.round(d.height()/f.height())-1),s=f.css("float"),t=f.css("font-size");f.css({marginTop:r,"float":s,fontSize:t})}i?(d.css("font-size",a.max_title_size*q),f.css("font-size",a.max_title_size*q)):(d.css("font-size",g*q),f.css("font-size",g*q)),a.$wrapper.css("top",m+d.height())}}if(a.carousel_height=a.inner_carousel?a.$el.closest(".fm-lightbox").height()<1?1.4*a.width:a.$el.closest(".fm-lightbox").height():a.$wrapper.position().top+a.uwidth,!a.inner_carousel&&a.$header&&j.hasClass("fm-push-right")){var u=d.width();f.width()>d.width()&&a.$header.width()>f.width()+1&&(u=f.width());var v=(a.$header.width()-u)/2;c.width(a.$header.width()-v);var w=0;0!==a.carousel_height&&(w=(a.carousel_height-d.height()-f.height())/2/a.carousel_height*100);var x=!1,y=20;if(y>w){var z=4,A=85,B=A-z*Math.sqrt(y-w);i?(d.css("font-size",a.max_title_size*(B/100)),f.css("font-size",a.max_title_size*(B/100))):(d.css("font-size",g*(B/100)),f.css("font-size",g*(B/100))),x=!0}x&&(w=(a.carousel_height-d.height()-f.height())/2/a.carousel_height*100);var C=a.carousel_height*(w/100);c.css({position:"relative",top:C+"px",left:v+"px"})}a.visible_check||(a.visible_check=window.setInterval(function(){var c=b(window).scrollTop(),d=c+b(window).height(),e=a.$wrapper.offset().top,f=e+.75*a.$wrapper.height();d>f&&e>c&&a.has_content&&(n.info(a.identifier,"is visible."),window.clearInterval(a.visible_check),p.shown("Carousel",a.identifier))},1e3)),a.theme_name&&a.$el.addClass("bv-carousel-theme-"+a.theme_name);for(var D=0;D<a.carousel_classes.length;D++)a.$el.addClass("BVTemplate"+a.carousel_classes[D]);a.$el.hasClass("BVTemplateFullHeightArrow")&&(a.resized||a.check_resize(),a.set_button_height(a.uwidth)),h[a.postSharing.query_parameter]&&!a.ignore_inbound&&a.open_viewer(h[a.postSharing.query_parameter],"inbound_viewer",!1)},balance_sources:function(){var a=this,b=c.reduce(a.active_sources,function(a,b){return a+b.coverage},0),d=b/c.reduce(a.active_sources,function(a,b){return a+(b.coverage?1:0)},0);b=c.reduce(a.active_sources,function(a,b){return b.status.coverage=b.coverage?b.coverage:d,a+b.status.coverage},0),c.each(a.active_sources,function(a){a.status.pcoverage=a.status.coverage/b})},close_viewer:function(){var a=this;a.viewer.close()},place_blocks:function(a){var b=this;if(!b.social_blocks||!b.social_blocks.length){b.balance_sources(),c.each(b.active_sources,function(c){c.get_content(Math.ceil(c.status.pcoverage*a),!1,{withProductData:b.shopnow.shopnow_enabled})});for(var d=[];d.length<a;){b.balance_sources();var e=c.sortBy(b.active_sources,function(a){var b=c.filter(d,function(b){return b===a}).length/d.length;return b-a.status.pcoverage})[0];b.placement_queue.push(e),d.push(e)}}b.placing||b.process_queue()},process_inner_queue:function(){var a=this;a.placing=!0,a.next_in_queue()},process_queue:function(){var a=this;return a.social_blocks&&a.social_blocks.length?void a.process_inner_queue():void(a.placing||0===a.placement_queue.length||(a.placing=!0,a.next_in_queue(),setTimeout(function(){a.has_content||(n.info("Only "+a.updates.length+" updates retrieved, needed "+a.min_updates+" to build carousel "+a.identifier),a.visible_check&&window.clearInterval(a.visible_check))},5e3)))},next_in_queue:function(){var a,c=this;if(c.social_blocks&&c.social_blocks.length){for(var d=[],e=0;e<c.social_blocks.length;e++){var f,g='<div class="fm-update fm-tracked"></div>',h=c.social_blocks[e],i=b(g).append(b(h.viewer_html));if(h.$wrapper){var j=b(h.$wrapper[0]);f=j.attr("data-fm-content")}else h.no_block&&(f=h.content,h.viewer_html=h.viewer.html,h.viewer_callback=h.viewer.callback);i=b(g).append(b(h.viewer_html));var k=c.inner_carousel?i:h.$el,l={content:f,success:!0,update:h.update,$el:k,viewer:{html:k.html(),callback:h.viewer_callback}};h.viewer_html&&(l.update.viewer_html=h.viewer_html,l.update.html=h.$el[0].innerHTML,l.update._el=k,l.source=h.source,d.push(l))}c.updates=d,a=c.social_blocks[0].source,c.built||c.trigger_build(a)}else a=c.placement_queue.shift(),a.get_next(function(b){c.placement_queue.length>0?(b.success&&(b.source=a,c.updates.length>0?c.updatesSeen[b.content]||(c.updatesSeen[b.content]=!0,c.updates.push(b)):(c.updatesSeen[b.content]=!0,c.updates.push(b))),c.next_in_queue()):c.placing=!1,!c.built&&c.updates.length>=c.min_updates&&c.trigger_build(a)})},trigger_build:function(a){var b=this;a.productData=a.productData||void 0,b.built=!0;var c=b.social_blocks&&b.social_blocks.length?100:600;setTimeout(function(){n.info("At least "+b.min_updates+" updates retrieved, building carousel"+b.identifier),b.build_carousel(b.updates,a.productData),b.has_content=!0},c)},load_settings:function(a,d){var e=this;a=a||{},e.$el=d.constructor===b?d:b(d).addClass("fm-carousel"),c.each(e.defaults,function(b,c){e[c]=a.hasOwnProperty(c)?a[c]:b}),a.social_blocks&&a.social_blocks.length&&(e.social_blocks=a.social_blocks),e.theme.template=e.carouselTheme||o[e.internalThemeNames.theme].theme,e.carouselTheme||(e.viewer_theme.template=o[e.internalThemeNames.viewer].viewer,e.lightbox_theme.template=o[e.internalThemeNames.lightbox].lightbox),e.theme_name&&e.$el.addClass("bv-carousel-theme-"+e.theme_name);for(var f=0;f<e.carousel_classes.length;f++)e.$el.addClass("BVTemplate"+e.carousel_classes[f]);if(e.orig_o=c.clone(a),e.show_arrows&&c.each({left:"",right:""},function(a,c){"auto"===e["$btn_"+c]&&(e["$btn_"+c]=b("<a />").attr("href","#").addClass("fm-btn-"+c).html(a).appendTo(e.$el))}),null!==e.header_tagline){null!==e.header_link&&(e.header_tagline='<a href="'+e.header_link+'">'+e.header_tagline+"</a>"),e.header_tagline='<span class="fm-float-left">'+e.header_tagline+"</span>",null!==e.hashtag&&(e.header_tagline+='<span class="fm-float-right"><i class="fm-channel-instagram-main"></i> #'+e.hashtag+"</span>");var g='<div class="fm-header"><span class="fm-title">'+e.header_tagline+"</span><div>";e.$header=b(g).appendTo(e.$el)}e.$wrapper=b("<div/>").addClass("fm-carousel-wrapper").appendTo(e.$el),e.$output=b("<div/>").addClass("fm-output").appendTo(e.$wrapper),e.$container=e.$wrapper,e.width=e.$wrapper.width(),e.orig_cols=c.clone(e.cols),e.orig_slide_count=c.clone(e.slide_count),e.orig_o=c.clone(a),e.set_cols(e.width),e.uwidth=a.force_image_width||(e.width+e.padding)/e.cols-e.padding,e.fixed_width=a.force_image_width||!1,e.orig_uwidth=c.clone(e.uwidth);var h=e.defaults.inner_carousel_theme;h.template=e.carouselTheme||o[e.internalThemeNames.theme].theme,c.defaults(e.theme,e.defaults.theme),e.lightbox_theme&&c.defaults(e.lightbox_theme,e.defaults.lightbox_theme),e.postSharing&&c.defaults(e.sharing,e.defaults.sharing),a.timestamp_language&&(e.theme.timestamp_language=a.timestamp_language,e.lightbox_theme.timestamp_language=a.timestamp_language),e.slide_page&&(e.slide_count=e.cols),e.social_blocks&&e.social_blocks.length||c.each(a.sources||[],function(a){e.add_source(a)}),e.render()},inbound_received:function(a){var b=this;b.destroyed||b.inner_carousel||b.open_viewer(a,"lightbox",!1)},create_feed_list:function(){var a=this,b=[];return c.each(a.updates,function(a){a.no_block=!0,b.push(a)}),b},open_viewer:function(a,c,d){var e=this;e.social_blocks=e.create_feed_list(),b.browser.msie&&b("#BVReviewsContainer").hide(),e.viewer&&e.close_viewer(),window.BVCurations.require(["secondary"],function(b){var f=b.BVLightbox,g=b.InboundViewer;e.viewer="inbound_viewer"===c?new g(e,{theme_prefix:"viewer",fmid:a}):(new f).init(e,a,a,d)})},bind_lightbox_click:function(a,b){var c=this;if(b.viewer_html&&!c.inner_carousel)a.viewer_html=b.viewer_html,a.lightbox_callback=b.lightbox_callback,a.click(function(a){a.preventDefault(),p.used("Lightbox",c.identifier,b.data.id),c.open_viewer(b,"lightbox",c.lightbox_carousel)}).css({cursor:"pointer"});else if(c.inner_carousel){var d=a.find("video");d.length>0&&c.vid_assist.activate_vid(d)}},bad_image:function(a,d){var e=this;c.each(c.filter(e.updates,function(b){return b.$el.attr("data-id")===a.data.id.toString()}),function(a){if("avatar"===d)a.$el.find(".fm-avatar").remove();else if("photo"===d){var f=a.$el.attr("data-id");if(e.$el.find("[data-id="+f+"]").remove(),e.updates=c.without(e.updates,a),!e.bad_image_rebuild){b(e.orig_el).find(".fm-carousel-wrapper > .fm-output").empty();var g=e.updates.shift();e.trigger_build(g),e.bad_image_rebuild=!0}}}),e.inner_carousel||e.cols>e.updates.length&&e.$el[0].remove()},place_fake_update:function(){var a=this,c=a.get_x(a.slidepos+a.cols-1);b("<div/>").css({width:a.uwidth,left:c}).addClass("fm-update").appendTo(a.$output)},place_update:function(a,b){var c=this,d=c.get_x("left"===a?c.slidepos:c.slidepos+c.cols-1),e="left"===a?c.pos+c.initial_pos:c.pos+c.cols-1+c.initial_pos;e>=c.updates.length&&(e-=c.updates.length);var f,g,h=c.updates[e].update||c.updates[e].$el;if(h._el){if(c.social_blocks&&!c.inner_carousel&&(h._el[0].innerHTML=h.html),f=c.$el.find('[data-id="'+h._el.data("id")+'"]').detach(),g=f.length,f=g?f:h._el.clone(!0),f.css({width:c.uwidth,left:d}),h.data.pos=e,!g&&c.postSharing.addButtons&&c.postSharing.addButtons(h,f),"left"===a?f.prependTo(c.$output):f.appendTo(c.$output),!g){var j=f.find(".fm-update-wrapper");if(j.hasClass("fm-has-media")){var k=f.find(".fm-text-main").first(),l=k[0];l&&""!==l.innerHTML&&i(l,{clamp:c.clamp_lines,useNativeClamp:!1,truncationChar:"..."})}c.bind_lightbox_click(f,h)}}else h.data.pos=e,f=c.$el.find('[data-id="'+h.data("id")+'"]').detach(),g=f.length,f=g?f:h.clone(!0),f.css({width:c.uwidth,left:d}).addClass("fm-update"),"left"===a?f.prependTo(c.$output):f.appendTo(c.$output);c.$el.trigger("bv.updateplaced",[b,h,f,c]),c.inner_carousel||(c.$el.find(".fm-update").css("height",c.uwidth),c.$el.find(".fm-carousel-wrapper").css("height",c.uwidth))},check_resize:function(){var a=this;a.resized=!0,a.$el.css("visibility","hidden"),a.outerwidth=a.$wrapper.outerWidth(),a.set_cols(a.outerwidth),a.social_blocks=[],a.uwidth=Math.floor(a.fixed_width||(a.outerwidth+a.padding)/a.cols-a.padding),b(a.orig_el).empty(),a.built=!1,a.placing=!1,a.sources=[],a.updates=[],a.updatesSeen={},a.active_sources=[],a.placement_queue=[],a.orig_soc_blocks&&(a.social_blocks=a.orig_soc_blocks),a.load_settings(a.orig_o,a.orig_el)},set_button_height:function(a){var b=this,c=b.$el.find(".fm-btn-right"),d=Math.floor(c.height()/2),e=b.$el.find(".fm-btn-left"),f=Math.floor(a/2);c.css({paddingTop:f-d,paddingBottom:f-d}),e.css({paddingTop:f-d,paddingBottom:f-d})},set_cols:function(a){var b=this;b.inner_carousel?(b.cols=1,b.slide_count=b.orig_slide_count):a>=300||b.forceCols?(b.cols=b.orig_cols,b.slide_count=b.orig_slide_count):a>=200?(b.cols=3,b.slide_count=3):a>=100?(b.cols=2,b.slide_count=2):(b.cols=1,b.slide_count=1)},build_carousel:function(a,d){var e=this;!e.built&&b("html").hasClass("ie1")&&e.check_resize();var f;if(e.show_arrows&&c.each(["left","right"],function(a){e["$btn_"+a]&&e["$btn_"+a].click(function(b){for(b.preventDefault(),p.used("CarouselNav",e.identifier),f=0;f<e.slide_count;f++)e.slide("right"===a?1:-1,d);return!1})}),b.support.opacity&&e.$el.find(".fm-output").addClass("fm-modern"),e.scan_for_id)for(f=0;f<a.length;f++){if(a[f].update&&a[f].update.data.id===e.scan_for_id){e.initial_pos=f;break}if(a[f].content&&parseInt(a[f].content,10)===e.scan_for_id){e.initial_pos=f;break}}for(f=0;f<e.cols;f++){var g=e.pos+f+e.initial_pos;if(g>=a.length)g-=a.length,e.place_fake_update();else{var h=a[g].update||a[g].$el;if(h.data.pos=g,h._el){var j=h._el.clone(!0).css({width:e.uwidth,left:e.get_x(f)}).appendTo(e.$output),k=j.find(".fm-text-main").first();if(e.clamp_lines&&k.length){var l=j.find(".fm-update-wrapper");if(l.hasClass("fm-has-media")){var m=k[0];m&&""!==m.innerHTML&&i(m,{clamp:e.clamp_lines,useNativeClamp:!1,truncationChar:"..."})}}e.postSharing&&e.postSharing.addButtons&&e.postSharing.addButtons(h,j),e.inner_carousel?e.$el.trigger("bv.carouselbuilt",[d,h,j,e]):(e.$el.find(".fm-update").css("height",e.uwidth),e.$el.find(".fm-carousel-wrapper").css("height",e.uwidth)),e.bind_lightbox_click(j,h)}else h.clone(!0).css({width:e.uwidth,left:e.get_x(f)}).addClass("fm-update").appendTo(e.$output)}}(e.inner_carousel||a.length>=e.min_updates)&&(e.$el.css({visibility:"visible",height:e.carousel_height}),e.$el.parent().css("height","inherit")),e.check_arrows(a),e.injected_callback&&setTimeout(function(){n.info("Carousel",e.identifier,"callback fired"),e.injected_callback(this)}),b("html").hasClass("android")&&!e.inner_carousel&&e.$el.find(".fm-update img").css("height","auto")},check_arrows:function(a){var b=this;if(b.show_arrows&&(c.each(["left","right"],function(a){if(b.$el.hasClass("bv-carousel-theme-modern")){var c=b.carousel_height,d=parseInt(b["$btn_"+a].css("padding-left"));b.$el.hasClass("fm-push-right")||(c-=parseInt(b.$wrapper.css("top")),b.$el.hasClass("BVTemplateLargeCarousel")?d=3:b.$el.hasClass("BVTemplateMedCarousel")?d=1:b.$el.hasClass("BVTemplateSmallCarousel")&&(d=0)),b["$btn_"+a].css({top:b.$wrapper.position().top,height:c,padding:"0px "+d+"px",lineHeight:c+"px"})}else b.inner_carousel?b["$btn_"+a].css("top",Math.floor(b.$wrapper.position().top+b.carousel_height/2-b["$btn_"+a].outerHeight()/2)):b["$btn_"+a].css("top",Math.floor(b.carousel_height/2-b["$btn_"+a].outerHeight()/2+b.$wrapper.position().top/2))}),b.loop||0!==b.initial_pos||b.$btn_left.addClass("bv-disabled"),!b.loop&&b.slidepos+b.slide_count+b.initial_pos>=b.updates.length&&b.$btn_right.addClass("bv-disabled"),this.inner_carousel||(a.length<=b.cols?(b.$btn_left.addClass("hidden-arrow"),b.$btn_right.addClass("hidden-arrow")):(b.$btn_left.removeClass("hidden-arrow"),b.$btn_right.removeClass("hidden-arrow"))),this.inner_carousel)){var d=b.$el.find(".fm-video-player").length||b.$el.find(".fm-photo-wrapper").length;d||b.$el.find(".fm-update-wrapper").addClass("fm-no-media")}},get_updates:function(){var a=this,b=[];return c.each(a.sources,function(a){a.feed&&(b=a.feed.updates)}),b},slide:function(a,c){var d=this;if(b("html").hasClass("android")&&(d.$el.find(".fm-output").attr("style","width: 100000px !important"),d.inner_carousel||d.$el.find(".fm-update img").attr("style","height: auto !important")),d.inner_carousel){var e=d.$el.find(".video-js");e.length>0&&(d.vid_assist.deactivate_vid(e),b(".fm-lightbox").find(".fm-update").each(function(){b(this).attr("data-id")===e[0].id.substr(6)&&b(this).remove()}))}var f=!1;if(!d.loop){if(d.slidepos+a+d.slide_count+d.initial_pos>d.updates.length&&a>0){if(!d.create_spacers)return;f=!0}if(d.slidepos+a+d.initial_pos<0)return}d.pos+=a,d.slidepos+=a,d.loop||(d.slidepos+a+d.slide_count+d.initial_pos>d.updates.length?d.$btn_right.addClass("bv-disabled"):d.$btn_right.removeClass("bv-disabled"),d.slidepos+a+d.initial_pos<0?d.$btn_left.addClass("bv-disabled"):d.$btn_left.removeClass("bv-disabled")),d.pos<0&&(d.pos=d.updates.length-1),d.pos>=d.updates.length&&(d.create_spacers?f=!0:d.pos=0),f?d.place_fake_update():d.place_update(1>a?"left":"right",c),d.$output.css({left:d.get_x(-1*d.slidepos)}),d.cleanup(a>0)}},b.fn.carousel=function(a,c){return this.each(function(){var d=b(this),e=d.data("fm_obj");e?"destroy"===a?(d.unbind("destroyed",e.self_destruct),d.removeData("fm_obj"),e.self_destruct(c)):"string"==typeof a&&e[a](c):(d.data("fm_obj",e=new q(this,a)),d.bind("destroyed",function(){b.proxy(e.self_destruct,e)}))})},b.fn.carousel.constructor=q,q}),define("fm/helpers/Xdomain",[],function(){var a=function(){this.connected=!1};return a.prototype={connect:function(a){var b=this;b.connected=!0,b.parent_domain=a||[],b.parent_domain.constructor!==Array&&(b.parent_domain=[b.parent_domain]),window.addEventListener?window.addEventListener("message",function(a){b.receive_message.call(b,a)},!1):window.attachEvent&&window.attachEvent("onmessage",function(){b.receive_message.call(b,message)}),require(["feedmagnet","underscore"],function(a){a.xdomain=b}),b.send_message({action:"setup"})},disconnect:function(){var a=this;a.connected=!1,a.parent_domain=null},receive_message:function(a){var b=this;require(["feedmagnet","underscore"],function(c,d){if(d.contains(b.parent_domain,a.origin)){try{var e=JSON.parse(a.data)}catch(f){return}if(e.method){var g=c.$(e.selector||"#feedmagnet"),h=g.data("fm_obj");e.args?h[e.method](e.args):h[e.method]()}}})},send_message:function(a){a=JSON.stringify(a),parent.postMessage(a,"*")}},new a}),define("fm/templates/fm-grid/Plan",["require","underscore"],function(a){var b=a("underscore"),c=function(a,c,d){var e=this;e.hub=a,e.start=d||0,e.grid=b.map(b.range(c),function(){return[]}),e.cols=e.hub.cols,e.rows=c,e.plan_distribution(),e.place_sources(),e.infill(),e.misalignment=b.reduce(e.source_map,function(a,b){if("boolean"==typeof b.placed)return b.placed?0:1;var c=b.placed*b.source.size[0]*b.source.size[1],d=e.non_fixed_area>0?c/e.non_fixed_area:1,f=Math.abs(d-b.pcoverage);return a+f},0)};return c.prototype={plan_distribution:function(){var a=this;a.source_map=b.map(a.hub.active_sources,function(a){return b.extend(b.clone(a.status),{source:a})}),a.source_map=b.sortBy(a.source_map,function(a){return a.source.fixed?-1/0:-(a.source.size[0]*a.source.size[1])}),a.non_fixed_area=b.reduce(a.source_map,function(b,c){var d=c.source.fixed&&a.test_opening(c.source.size,c.source.fixed)?c.source.size[0]*c.source.size[1]:0;return b-d},a.rows*a.cols);var c=function(d){var e=d.source.size[0]*d.source.size[1],f=a.non_fixed_area/e;if(d.count=Math.round(f*d.pcoverage),d.count>d.inventory){var g=d.count-d.inventory,h=d.source.size[0]*d.source.size[1]*g/a.non_fixed_area;d.empty=!0;var i=b.filter(a.source_map,function(a){return a===d?!1:a.empty||a.source.fixed?!1:!0}),j=b.reduce(i,function(a,b){return a+b.pcoverage},0);b.each(i,function(a){var b=a.pcoverage/j;a.pcoverage+=h*b,a.bumped_up=!0,a.hasOwnProperty("count")&&c(a)})}};b.each(a.source_map,b.bind(c,a)),b.each(a.source_map,b.bind(a.clump,a))},clump:function(a){var c=this;a.clumps=[];for(var d=1,e=1,f=1;f<a.count;f++)Math.random()<a.source.coherence/e?(d+=1,e+=3):(a.clumps.push({count:d}),d=1,e=1);a.clumps.push({count:d});var g=(c.grid.length-a.source.size[0])*c.cols+(c.cols-a.source.size[1]);b.each(a.clumps,function(d,e){var f=1===a.clumps.length?Math.random()*g:g*(e/(a.clumps.length-1));f=b.max([0,Math.floor(f)]),d.row=Math.floor(f/c.cols),d.col=f%c.cols})},place_sources:function(){var a=this;b.each(b.filter(a.source_map,function(a){return a.source.fixed}),function(b){b.placed=!1,b.source.fixed[0]-a.start<0||a.place_block(b,[b.source.fixed[0]-a.start,b.source.fixed[1]],!0)});var c=[];b.each(b.filter(a.source_map,function(a){return!a.source.fixed}),function(a){b.each(a.clumps,function(b){c.push({s:a,clump:b})})}),b.each(b.shuffle(c),function(c){var d=c.s.source.size;b.each(b.range(c.clump.count),function(){spot=a.closest_opening(d,[c.clump.row,c.clump.col]),spot&&(c.s.placed+=1,a.place_block(c.s,spot))})})},test_opening:function(a,b){for(var c=this,d=b[0];d<b[0]+a[0];d++){if(d>=c.grid.length)return!1;for(var e=b[1];e<b[1]+a[1];e++){if(e>=c.cols)return!1;if(c.grid[d][e])return!1}}return!0},scan_pos:function(a,b){var c=this;return a[1]+=b,a[1]<0?0===a[0]?a=!1:(a[1]=c.cols-1,a[0]-=1):a[1]>=c.cols&&(a[0]+1>=c.grid.length?a=!1:(a[1]=0,a[0]+=1)),a},closest_opening:function(a,c){var d=this,e=b.clone(c),f=b.clone(c);f=d.scan_pos(f,-1);for(var g=!1;!g&&(e||f);){if(e&&d.test_opening(a,e))return e;if(f&&d.test_opening(a,f))return f;e&&(e=d.scan_pos(e,1)),f&&(f=d.scan_pos(f,-1))}return!1},infill:function(){var a=this,c=b.filter(a.source_map,function(a){return!(a.source.fixed||a.empty||0===a.inventory)}).reverse();b.each(c,function(a){a.infill=0});for(var d=[0,-1];d&&(d=a.scan_pos(d,1));){var e=b.sortBy(b.first(c,4),function(a){return a.infill});if(b.reduce(e,function(b,c){if(b)return b;var e=a.place_block(c,d);return e&&(c.infill+=1),e},!1),c=b.filter(c,function(a){return a.inventory>0}),a.hub.hide_gaps&&0===c.length){a.hub.trigger_us||(a.hub.update_shortage(0,!0),a.hub.trigger_us=!0);break}}},place_block:function(a,c,d){var e=this,f=b.clone(a.source.size);if(f[1]>e.cols){if(!(a.source.min_cols&&a.source.min_cols<=e.cols))return!1;f[0]=Math.round(e.cols*f[0]/f[1]),f[0]<1&&(f[0]=1),f[1]=e.cols}if(d&&c[1]+f[1]>e.cols&&(c[1]=e.cols-f[1]),!e.test_opening(f,c))return!1;a.inventory-=1,e.grid[c[0]][c[1]]={source:a.source,size:f};for(var g=c[0];g<c[0]+f[0];g++)for(var h=c[1];h<c[1]+f[1];h++)(g!==c[0]||h!==c[1])&&(e.grid[g][h]=!0);return!0}},c}),define("fm/templates/fm-grid/GridHub",["jquery","underscore","feedmagnet","fm/helpers/feed.theme","fm/helpers/urlparams","fm/helpers/Xdomain","fm/templates/fm-grid/Plan","fm/helpers/Source","fm/helpers/StaticSource","fm/helpers/FeedSource","transit"],function(a,b,c,d,e,f,g,h,i,j,k){var l=function(c,d){var f=this;d=d||{},f.$el=c.constructor===a?c:a(c),b.each({col_width:120,content_callback:!1,ignore_inbound:!1,infinite_scroll:!0,initial_rows:16,min_cols:1,padding:10,row_height:120,scale_hub:!1,viewer_open_callback:!1},function(a,b){f[b]=d.hasOwnProperty(b)?d[b]:a});var g={coherence:.2,coverage:!1,fixed:!1,loop:!0,min_cols:!1,random:!1,size:[1,1],theme:{video_settings:{use_vidjs:!0,thumbnails:!0}},viewer:"inline_viewer",viewer_theme:{image_size:"400/400",video_settings:{use_vidjs:!0,thumbnails:!1,controls:!0}}};f.defaults=b.defaults(b.pick(d,b.keys(g)),g),b.defaults(f.defaults.theme,{template:'<div class="fm-info">{{ author }}{{ channel_icon }}{{ timestamp }}</div>{{ text }}'});var h=b.defaults({append_viewer:f.$el,template:'<div class="fm-sharing"></div><div class="fm-content-wrapper">{{ media }}<div class="fm-content"><div class="fm-credits">{{ avatar }}{{ author }}</div>{{ text }}<div class="fm-timechannel">{{ timestamp }}{{ channel_icon }}</div>{% if (udata.channel === "twitter") { %}<div class="fm-twt-actions"></div>{% } %}</div></div>'},f.defaults.theme);b.defaults(f.defaults.viewer_theme,h),a.support.transform||(f.scale_hub=!1),f.viewer_padding=f.viewer_padding||f.padding,f.viewer_height=500;var i=b.pick(d.sharing||{},sharing.option_keys);f.sharing=new sharing.PostSharing(i),f.$container=a("<div/>").addClass("fm-gridhub-container").css({position:"relative",margin:"0 auto"}).appendTo(f.$el),f.sources=[],f.active_sources=[],f.calculate_width(),f.namespace="fmgrid"+b.random(1e3,9999),a(window).bind("resize."+f.namespace,b.bind(b.debounce(f.calculate_width,300),f)),f.infinite_scroll&&a(window).bind("scroll."+f.namespace,b.bind(b.debounce(f.browser_scroll,50),f)),f.generic_group=!1,e[f.sharing.query_parameter]&&!f.ignore_inbound&&f.open_viewer(e[f.sharing.query_parameter],0,f.viewer_height,"inbound_viewer");var j=27;a(document).keyup(function(a){a.keyCode===j&&f.viewer&&f.close_viewer()})};return l.prototype={render:function(){var a=this;a.rendered=!0,a.reset(),a.place_rows(a.initial_rows)},self_destruct:function(c){var d=this;d.destroyed=!0,d.close_viewer(),b.each(d.sources,function(a){a.self_destruct()}),a(window).unbind("."+d.namespace);var e=function(c){if(a.support.transition){var e=0;b.each(d.blocks,function(a){var f=a.$wrapper,g=function(){h&&clearTimeout(h),e++,e>=d.blocks.length&&c()},h=setTimeout(g,500);setTimeout(function(){f.transition({scale:0},g)},b.random(0,200))})}else c()},f=!1;e(function(){f||(f=!0,d.$el.empty(),"function"==typeof c&&c())})},inbound_fmid:function(a){var b=this;b.inbound.show_update(a)},inbound_received:function(a){var b=this;b.open_viewer(a,0,b.viewer_height,b.sources[0].viewer,a)},browser_scroll:function(){var b=this,c=500,d=a(window),e=d.scrollTop()+d.outerHeight(),f=b.$container.offset().top+b.$container.outerHeight(),g=0>=f-e-c;g&&b.load_more()},calculate_width:function(){var a=this;a.outerwidth=a.$el.width();var c=Math.floor(a.outerwidth/a.col_width);c*(a.col_width+a.padding)-a.padding>a.outerwidth&&(c-=1);var d=b.max([a.min_cols,c]);if(a.width=d*(a.col_width+a.padding)-a.padding,a.scale_hub){a.scale=a.outerwidth/a.width;var e=a.scale>=1?"50% 0":"0 0";a.$container.transition({transformOrigin:e,scale:a.scale})}if(d!==a.cols&&(a.cols=d,a.close_viewer(),a.grid)){var f=a.grid.length*d,g=b.max([Math.floor(f/d),a.initial_rows]);a.replace_rows(g)}a.$container.css({width:a.width})},reset:function(){var a=this;a.source_map=b.map(a.sources,function(a){return a.reset(),{source:a}}),a.active_sources=a.sources,a.blocks=[],a.height=0,a.grid=[]},non_fixed_area:function(){return b.reduce(this.sources,function(a,b){return b.fixed&&b.status.placed?a-b.size[0]*b.size[1]:a},this.cols*this.grid.length)},balance_sources:function(){var a=this,c=b.reduce(a.active_sources,function(a,b){return a+b.coverage},0),d=c/b.reduce(a.active_sources,function(a,b){return a+(b.coverage!==!1?1:0)},0);c=b.reduce(a.active_sources,function(a,b){return b.status.coverage=b.coverage!==!1?b.coverage:d,a+b.status.coverage},0);var e=a.non_fixed_area();b.each(a.active_sources,function(a){a.status.pcoverage=a.status.coverage/c,a.status.poverage="boolean"==typeof a.status.placed?a.status.placed?0:-1:e>0?a.status.placed/e-a.status.pcoverage:0
})},get_x:function(a){return(this.col_width+this.padding)*a},get_y:function(a,b){var c=this,d=(c.row_height+c.padding)*a;return c.viewer&&c.viewer!==b&&c.viewer.row<=a&&(d+=c.viewer.height-c.padding+2*c.viewer_padding),b&&(d+=c.viewer_padding-c.padding),d},get_width:function(a){return this.col_width*a+this.padding*(a-1)},get_height:function(a){return this.row_height*a+this.padding*(a-1)},open_viewer:function(b,c,d,e,f){var g=this;g.viewer&&g.close_viewer(),window.BVCurations.require(["secondary"],function(h){var i=h.FMGridInlineViewer,j=h.FMLightbox,k=h.InboundViewer,l=h.ZenViewer,m={inline_viewer:function(){var e=new i(g,c,d,b,f);g.viewer=e,g.viewer.open(),a.each(g.blocks,function(a,b){b.reposition()}),g.update_height()},inbound_viewer:function(){var a=new k(g,{theme_prefix:"viewer",fmid:b});g.viewer=a},zen_viewer:function(){g.viewer&&g.viewer.close(),g.viewer=new l(g,b,f),g.viewer.open()},lightbox:function(){g.viewer=new j(g,b,f)}},n="string"==typeof e?e:b.source.viewer;"function"==typeof m[n]&&(m[n](),"function"==typeof g.viewer_open_callback&&g.viewer_open_callback())})},close_viewer:function(){var b=this;b.viewer&&(b.viewer.close(),b.viewer=void 0,a.each(b.blocks,function(a,b){b.reposition()}),b.update_height())},add_source:function(a){var b,c=this;a.hasOwnProperty("groups")?(a.extra_themes=["viewer"],b=new k(c,a,c.defaults)):b=new j(c,a,c.defaults),c.sources.push(b),c.active_sources.push(b)},place_rows:function(a,c){var d=this;c=c||0,d.balance_sources();var e=b.reduce(b.range(5),function(b){var e=new g(d,a,c);return b.misalignment>e.misalignment?e:b},{misalignment:1/0});b.each(b.range(a),function(){d.grid.push([])});var f=b.uniq(d.sources,function(a){return a.size});if(1===f.length){var h=b.reduce(e.source_map,function(a,b){for(var c in a)a[c]+=b[c]||0;return a},{count:0});h.count!==e.non_fixed_area&&(d.grid=[],a=Math.floor(h.count/e.cols)+1,e=b.reduce(b.range(5),function(b){var e=new g(d,a,c);return b.misalignment>e.misalignment?e:b},{misalignment:1/0}),b.each(b.range(a),function(){d.grid.push([])}))}b.each(e.source_map,function(a){a.source.get_content(a.count)});for(var i=0;i<e.grid.length;i++)for(var j=0;j<d.cols;j++)"object"==typeof e.grid[i][j]&&d.place_from_source(e.grid[i][j],[i+c,j]);d.update_height(),d.content_callback&&d.content_callback(d)},more_rows:function(a){this.place_rows(a,this.grid.length)},load_more:function(){this.more_rows(this.initial_rows)},replace_rows:function(a){var b=this;b.reset(),b.$container.find(".fm-block").addClass("fm-outgoing"),b.place_rows(a),b.$container.find(".fm-outgoing").remove()},replace_block:function(a,c){var d=this,e=b.filter(d.active_sources,function(a){return b.isEqual(a.size,c)&&!a.depleted});if(e.length){var f=b.shuffle(e)[0];d.place_from_source({source:f,size:c},a)}},bad_image:function(a,c){var d=this;b.each(b.filter(d.blocks,function(b){return b.$el.attr("data-id")===a.data.id.toString()}),function(a){"avatar"===c?a.$el.find(".fm-avatar").remove():"photo"===c&&(a.$el.remove(),d.blocks=b.without(d.blocks,a),d.replace_block([a.y,a.x],[a.h,a.w]))})},row_obstruction:function(a){var c=this,d=0;return b.each(c.blocks,function(b){b.y<a&&b.y+b.h>a&&(d+=b.w)}),d/c.cols},set_sharing_options:function(a){var b=this;b.sharing.set_options(a)}},a.fn.hub=function(b,c){return this.each(function(){var d=a(this),e=d.data("fm_obj");e?"destroy"===b?(d.unbind("destroyed",e.self_destruct),d.removeData("fm_obj"),e.self_destruct(c)):"string"==typeof b&&e[b](c):(d.data("fm_obj",e=new l(this,b)),d.bind("destroyed",function(){a.proxy(e.self_destruct,e)}))})},a.fn.hub.constructor=l,l}),define("fm/helpers/VidAssist",["jquery","videojs","vjsyoutube","vjsvimeo"],function(a,b){var c=function(){};return c.prototype={activate_vid:function(c){var d=c,e=d[0].id;this.settings=d.attr("data-setup"),this.settings&&(this.settings=a.parseJSON(this.settings));var f=d.attr("data-source");if(f){var g=d.attr("type");d.append('<source src="'+f+'" type="'+g+'"/>')}if(e){this.settings.height=d.height(),d.vjsobj=b(e,this.settings);var h=a("#"+e);h.hasClass("vjs-youtube")&&(h.find(".vjs-fullscreen-control").hide(),h.find(".vjs-volume-control").css("padding-right","10px"))}},deactivate_vid:function(a){var c=a[0].id;this.settings&&b(c,this.settings).dispose()}},c}),define("fm/templates/fm-grid/Block",["require","feedmagnet","jquery","underscore","../../helpers/VidAssist"],function(a){var b=(a("feedmagnet"),a("jquery")),c=a("underscore"),d=a("../../helpers/VidAssist"),e=function(a,e,f){var g=this;if(g.hub=a,e.hasOwnProperty("source_index")&&(g.source=e.source),g.$el=e.$el||b(e.el),g.$el.parent().get(0)!==g.hub.$container.get(0)){g.$el.appendTo(g.hub.$container);var h=g.$el.find("video");h.length>0&&(g.vid_assist=new d,g.vid_assist.activate_vid(h))}g.w=e.w,g.h=e.h,g.x=e.x,g.y=e.y,e.update&&(g.update=e.update),g.top=g.hub.get_y(g.y),g.left=g.hub.get_x(g.x),g.height=g.hub.get_height(g.h),g.width=g.hub.get_width(g.w),g.incoming=!0;var i=["top","right","bottom","left"][c.random(0,3)];if(g.$el.css({position:"absolute",overflow:"hidden",top:"top"===i?g.height:0,left:"left"===i?g.width:0,right:"right"===i?g.width:0,bottom:"bottom"===i?g.height:0}).wrap("<div/>"),g.$wrapper=g.$el.parent().addClass("fm-block").css({position:"absolute",overflow:"hidden",top:g.top,left:g.left,width:g.width,height:g.height,transformOrigin:"0 0"}),g.reposition(),g.$wrapper.data("fm_block",g),e.hasOwnProperty("source_index")&&g.$wrapper.attr("data-fm-source",e.source_index),e.hasOwnProperty("content")&&g.$wrapper.attr("data-fm-content",e.content),e.viewer_html){g.set_viewer_row(),g.viewer_html=e.viewer_html,g.viewer_callback=e.viewer_callback;var j=g;g.$wrapper.click(function(a){a.preventDefault(),g.hub.viewer&&j===g.hub.viewer.block||j.hub.open_viewer(j,g.viewer_row,g.hub.viewer_height,j.source.viewer,f)}).css({cursor:"pointer"})}};return e.prototype={move:function(a,b,c){var d=this;c&&(d.w=c[1],d.h=c[0]),d.x=a,d.y=b,d.set_viewer_row(),d.reposition()},set_viewer_row:function(){var a=this;a.viewer_row=c.min([a.y,a.y+a.h],function(b){return a.hub.row_obstruction(b)})},reposition:function(){var a=this,b=a.hub.get_y(a.y);a.squished=!1;var d;a.hub.viewer&&a.hub.viewer.row<a.y+a.h&&a.hub.viewer.row>a.y&&(d=a.hub.viewer.row-a.y,d/a.h<.5?b=a.hub.get_y(a.y+1):d=a.h-d,a.squished=!0);var e={};b!==a.top&&(a.top=b,e.top=a.top);var f=a.hub.get_x(a.x);f!==a.left&&(a.left=f,e.left=a.left);a.height,a.width;a.width=a.hub.get_width(a.w),a.height=a.hub.get_height(a.h),e.width=a.width,e.height=a.height,a.squished&&(e.height=a.hub.get_height(a.h-d)),a.hub.scale_blocks&&(e.scale=a.hub.scale),e!=={}&&a.$wrapper.transition(e),a.$wrapper.attr("data-fm-rows",a.h),a.$wrapper.attr("data-fm-cols",a.w),a.incoming&&(a.incoming=!1,setTimeout(function(){a.$el.transition({top:0,left:0,right:0,bottom:0})},c.random(0,800)))}},e}),define("hbs!templates/common/product_info",["hbs","hbs/handlebars.runtime"],function(a,b){var c=b.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n",d=c["if"].call(a,(d=a&&a.udata,null==d||d===!1?d:d.bvProductInfo),{hash:{},inverse:l.noop,fn:l.program(2,g,b)}),(d||0===d)&&(e+=d),e+="\n"}function g(a){var b,c="";return c+='\n<div class="bv-fm-update-product-data">\n    <img class="bv-fm-update-product-image" src="'+k((b=a&&a.udata,b=null==b||b===!1?b:b.bvProductInfo,b=null==b||b===!1?b:b.ImageUrl,typeof b===j?b.apply(a):b))+'">\n    <a class="bv-fm-update-product-label" href="'+k((b=a&&a.udata,b=null==b||b===!1?b:b.bvProductInfo,b=null==b||b===!1?b:b.ProductPageUrl,typeof b===j?b.apply(a):b))+'">'+k((b=a&&a.udata,b=null==b||b===!1?b:b.bvProductInfo,b=null==b||b===!1?b:b.Name,typeof b===j?b.apply(a):b))+"</a>\n</div>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers);var h,i="",j="function",k=this.escapeExpression,l=this;return h=c["with"].call(b,b&&b.product_info,{hash:{},inverse:l.noop,fn:l.program(1,f,e)}),(h||0===h)&&(i+=h),i+="\n"});return b.registerPartial("templates/common/product_info",c),b.registerPartial("templates/common/product_info",c),c}),define("hbs!templates/grid/themes/modern/theme",["hbs","hbs/handlebars.runtime","hbs!templates/common/avatar","hbs!templates/common/author","hbs!templates/common/timestamp","hbs!templates/common/channel_icon","hbs!templates/common/ratingstars","hbs!templates/common/media","hbs!templates/common/text","hbs!templates/common/product_info"],function(a,b){var c=b.template(function(a,b,c,d){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials);var e,f="",g=this;return f+='<div class="fm-info">\n    ',e=g.invokePartial(d["templates/common/avatar"],"templates/common/avatar",b,c,d),(e||0===e)&&(f+=e),f+='\n    <div class="fm-info-wrapper">\n        ',e=g.invokePartial(d["templates/common/author"],"templates/common/author",b,c,d),(e||0===e)&&(f+=e),e=g.invokePartial(d["templates/common/timestamp"],"templates/common/timestamp",b,c,d),(e||0===e)&&(f+=e),f+="\n    </div>\n    ",e=g.invokePartial(d["templates/common/channel_icon"],"templates/common/channel_icon",b,c,d),(e||0===e)&&(f+=e),f+="\n</div>\n",e=g.invokePartial(d["templates/common/ratingstars"],"templates/common/ratingstars",b,c,d),(e||0===e)&&(f+=e),f+="\n",e=g.invokePartial(d["templates/common/media"],"templates/common/media",b,c,d),(e||0===e)&&(f+=e),f+="\n",e=g.invokePartial(d["templates/common/text"],"templates/common/text",b,c,d),(e||0===e)&&(f+=e),f+="\n",e=g.invokePartial(d["templates/common/product_info"],"templates/common/product_info",b,c,d),(e||0===e)&&(f+=e),f+="\n"});return b.registerPartial("templates/grid/themes/modern/theme",c),c}),define("hbs!templates/grid/themes/classic/viewer",["hbs","hbs/handlebars.runtime","hbs!templates/common/avatar","hbs!templates/common/author","hbs!templates/common/timestamp","hbs!templates/common/channel_icon","hbs!templates/common/media","hbs!templates/common/ratingstars","hbs!templates/common/text"],function(a,b){var c=b.template(function(a,b,c,d){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials);var e,f="",g=this;return f+='<div class="fm-standard-lightbox">\n    <div class="content-wrapper">\n        <div class="fm-content">\n            <div class="fm-credits">\n                ',e=g.invokePartial(d["templates/common/avatar"],"templates/common/avatar",b,c,d),(e||0===e)&&(f+=e),e=g.invokePartial(d["templates/common/author"],"templates/common/author",b,c,d),(e||0===e)&&(f+=e),f+='\n                <div class="fm-timechannel">\n                    ',e=g.invokePartial(d["templates/common/timestamp"],"templates/common/timestamp",b,c,d),(e||0===e)&&(f+=e),e=g.invokePartial(d["templates/common/channel_icon"],"templates/common/channel_icon",b,c,d),(e||0===e)&&(f+=e),f+="\n                </div>\n            </div>\n            ",e=g.invokePartial(d["templates/common/media"],"templates/common/media",b,c,d),(e||0===e)&&(f+=e),f+="\n            ",e=g.invokePartial(d["templates/common/ratingstars"],"templates/common/ratingstars",b,c,d),(e||0===e)&&(f+=e),f+="\n            ",e=g.invokePartial(d["templates/common/text"],"templates/common/text",b,c,d),(e||0===e)&&(f+=e),f+='\n        </div>\n    </div>\n    <div class="fm-sharing">\n    </div>\n</div>\n'});return b.registerPartial("templates/grid/themes/classic/viewer",c),c}),define("hbs!templates/grid/themes/classic/lightbox",["hbs","hbs/handlebars.runtime"],function(a,b){var c=b.template(function(a,b,c){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers);var d="";return d});return b.registerPartial("templates/grid/themes/classic/lightbox",c),c}),define("bv-widgets/BVGridHub",["fm/templates/fm-grid/GridHub","fm/templates/fm-grid/Plan","fm/templates/fm-grid/Block","jquery","underscore","bv-widgets/helpers/BVSharing","fm/helpers/urlparams","fm/helpers/feed.theme","fm/helpers/Source","fm/helpers/StaticSource","fm/helpers/Xdomain","bv-widgets/helpers/BVFeedSource","bv-widgets/BVAnalytics","loadThemes!grid","transit"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=m.getInstance(),p=function(a,b){var c=this;b=b||{},c.$el=a.constructor===d?a:d(a),e.each({client:"",identifier:"",col_width:220,content_callback:!1,ignore_inbound:!1,hide_gaps:!1,lightbox_classes:[],lightbox_theme_name:"classic",lightbox_carousel:!0,inner_carousel_theme:{shareLabel:"Share: ",video_settings:{thumbnails:!1,preload:"none"}},productId:"",tags:[],groups:[],clamp_lines:2,shopnow:{shopnow_enabled:!1,shopnow_text:{header:"Related Products",lightbox_button:"Shop Now"}},infinite_scroll:!1,load_more_text:"Load More",initial_rows:5,min_rows:0,min_cols:1,padding:10,remove_gaps:!0,row_height:220,scale_hub:!0,viewer_open_callback:!1,curations_passkey:"kuuqd395w5u7gv43987gxshh"},function(a,d){c[d]=b.hasOwnProperty(d)?b[d]:a}),c.type=b.type;var h={coherence:.2,coverage:!1,fixed:!1,loop:!0,timestamp_language:"en",min_cols:!1,random:!1,size:[1,1],theme:{video_settings:{use_vidjs:!0,thumbnails:!0}},theme_name:"classic",grid_classes:[],internalThemeNames:{theme:"classic"},internalLightboxThemeNames:{carousel:"classic"},lightbox_classes:["StandardLightbox"],lightbox_theme_name:"classic",lightbox_theme:{update_attribute:"lightbox_html"},viewer:"lightbox",viewer_theme:{image_size:"600/600/exact",video_settings:{use_vidjs:!0,thumbnails:!1,controls:!0,preload:"none"}}};c.lightbox_settings=b.lightbox_settings||{},c.defaults=e.defaults(e.pick(b,e.keys(h)),h),c.postSharing=new f(b.sharing);var i=e.defaults({append_viewer:d("body"),video_settings:{thumbnails:!1,preload:"none"},shareLabel:c.postSharing.label},c.defaults.theme);e.defaults(c.defaults.viewer_theme,i),c.inner_carousel_theme=c.defaults.viewer_theme,d.support.transform||(c.scale_hub=!1),c.viewer_padding=c.viewer_padding||c.padding,c.viewer_height=500,c.shortage_calculated=0,c.$container=d("<div/>").addClass("fm-gridhub-container").css({position:"relative",margin:"0 auto"}).appendTo(c.$el),c.sources=[],c.active_sources=[],c.social_blocks=[],c.calculate_width(),c.namespace="fmgrid"+e.random(1e3,9999),d(window).bind("resize."+c.namespace,e.bind(e.debounce(function(){c.calculate_width(),c.update_height()},300),c)),c.infinite_scroll&&d(window).bind("scroll."+c.namespace,e.bind(e.debounce(c.browser_scroll,50),c)),c.generic_group=!1,g[c.postSharing.query_parameter]&&!c.ignore_inbound&&c.open_viewer(g[c.postSharing.query_parameter],0,c.viewer_height,"inbound_viewer"),c.load_settings(b);var j=27;d(document).keyup(function(a){a.keyCode===j&&c.viewer&&c.close_viewer()})};return p.prototype={self_destruct:a.prototype.self_destruct,inbound_fmid:a.prototype.inbound_fmid,inbound_received:a.prototype.inbound_received,browser_scroll:a.prototype.browser_scroll,calculate_width:a.prototype.calculate_width,reset:a.prototype.reset,non_fixed_area:a.prototype.non_fixed_area,balance_sources:a.prototype.balance_sources,get_x:a.prototype.get_x,get_y:a.prototype.get_y,get_width:a.prototype.get_width,get_height:a.prototype.get_height,close_viewer:a.prototype.close_viewer,place_from_source:function(a,b){var f=this,g=a.source,h=a.size;g.get_next(function(a){a.success||f.replace_block(b,h);var i={$el:a.$el,w:h[1],h:h[0],x:b[1],y:b[0],update:a.update,source:g,source_index:e.indexOf(f.sources,g),content:a.content};g.viewer&&a.viewer&&e.extend(i,{viewer_html:a.viewer.html,viewer_callback:a.viewer.callback}),!g.viewer&&a.update&&f.sharing.add_buttons(a.update,a.$el,a.update);var j=".fm-block.fm-outgoing[data-fm-source="+i.source_index+"][data-fm-content="+i.content+"]",k=f.$container.find(j),l=!1;e.reduce(k,function(a,b){var c=d(b);b=c.data("fm_block");var e=Math.abs(b.x-i.x),f=Math.abs(b.y-i.y),g=Math.sqrt(Math.pow(e,2),Math.pow(f,2));return a>g?(l=c,g):a},1/0);var m=l?l.data("fm_block"):new c(f,i,a.update);l&&(m.move(i.x,i.y,h),l.removeClass("fm-outgoing")),a&&a.success&&(f.grid[m.y][m.x]=m);for(var n=m.y;n<m.y+m.h;n++)for(var o=m.x;o<m.x+m.w;o++)(n!==m.y||o!==m.x)&&(f.grid[n][o]=!0);f.blocks.push(m),m.source&&"FeedSource"===m.source.identifier&&f.social_blocks.push(m),m.$el.hasClass("fm-inbound")&&f.open_viewer(m.viewer_row,f.viewer_height,m,"inbound_viewer")})},update_height:function(a){var b=this,c=b.get_y(b.grid.length);a=a||!0;var e=a?"css":"transition";b.$container[e]({height:c}),b.scale&&(c*=b.scale),b.$container.parent()[e]({height:c}),k.connected&&k.send_message({action:"resize",height:d(document).height()+2}),"object"==typeof FB&&FB.Canvas&&FB.Canvas.setSize({height:d(document).height()+2})},update_shortage:function(a,c){function d(){var c=f.initial_rows,d=f.grid.length,g=e.reduce(e.range(5),function(a){var e=new b(f,c,d);return a.misalignment>e.misalignment?e:a},{misalignment:1/0});f.shortage=0===a?g.non_fixed_area:g.non_fixed_area-a;var h=Math.floor(f.shortage/g.cols);f.remove_rows(h)}var f=this;1===f.sources.length?(d(),f.$loadmore&&f.$loadmore.remove()):((!f.shortage_calculated||f.shortage_calculated<=0)&&setTimeout(function(){var a,b=f.cols,c=f.grid.length*b;if(f.load_more_clicked)a=e.max([Math.floor(c/b),f.initial_rows]);else{var d=f.$el.find(".fm-block").length;a=Math.ceil(d/b)}f.shortage_calculated++;var g=[],h=[];e.each(f.sources,function(a){"FeedSource"===a.identifier&&(a.loop?h.push(a.loop):g.push(a.depleted))}),h.length&&0===g.length?f.looping||(f.looping=!0,f.replace_rows(a)):-1===e.indexOf(g,!1)&&f.$loadmore&&(f.remove_rows(f.initial_rows),f.$loadmore.remove(),f.replace_rows(a))},1e3),c&&f.$loadmore.remove())},remove_rows:function(a){var b,c=this;setTimeout(function(){for(var d=0;a>d;d++)c.remove_gaps&&c.grid.length>c.min_rows&&(b=!0,c.grid.pop());b&&c.update_height()})},place_rows:function(a,c){var d=this;c=c||0,d.balance_sources();var f=e.reduce(e.range(5),function(e){var f=new b(d,a,c);return e.misalignment>f.misalignment?f:e},{misalignment:1/0});e.each(e.range(a),function(){d.grid.push([])});var g=e.uniq(d.sources,function(a){return a.size});if(1===g.length){var h=e.reduce(f.source_map,function(a,b){for(var c in a)a[c]+=b[c]||0;return a},{count:0});h.count!==f.non_fixed_area&&(d.grid=[],a=Math.floor(h.count/f.cols)+1,f=e.reduce(e.range(5),function(e){var f=new b(d,a,c);return e.misalignment>f.misalignment?f:e},{misalignment:1/0}),e.each(e.range(a),function(){d.grid.push([])}))}e.each(f.source_map,function(a){a.source.get_content(a.count,!1,{withProductData:d.shopnow.shopnow_enabled})});for(var i=0;i<f.grid.length;i++){for(var j=0;j<d.cols;j++)"object"==typeof f.grid[i][j]&&d.place_from_source(f.grid[i][j],[i+c,j]);setTimeout(function(){var a=e.every(d.active_sources,function(a){return a.depleted}),b=e.every(d.active_sources,function(a){return a.loop});a&&!b&&d.$loadmore.remove()},1e3)}d.update_height(),d.content_callback&&d.content_callback(d)},more_rows:a.prototype.more_rows,load_more:function(){var a=this;a.load_more_clicked=!0,a.more_rows(a.initial_rows),a.shortage_calculated=0},replace_rows:a.prototype.replace_rows,replace_block:a.prototype.replace_block,bad_image:a.prototype.bad_image,row_obstruction:a.prototype.row_obstruction,set_sharing_options:a.prototype.set_sharing_options,add_source:function(a){var b,c=this;"feed"===a.type?(a.extra_themes=["viewer"],a.client=c.client,a.externalId=c.productId,a.passkey=c.curations_passkey,c.tags&&c.tags.length&&(a.tags=c.tags),c.groups&&c.groups.length&&(a.groups=c.groups),b=new l(c,a,c.defaults)):b=new j(c,a,c.defaults),c.sources.push(b),c.active_sources.push(b)},load_settings:function(a){var b=this;a=a||{},e.each(b.defaults,function(c,d){"viewer"!==d&&(b[d]=a.hasOwnProperty(d)?a[d]:c)}),b.lightbox_theme&&e.defaults(b.lightbox_theme,b.defaults.lightbox_theme),b.theme.template=n[b.internalThemeNames.theme].theme,b.viewer_theme.template=n[b.internalThemeNames.viewer].viewer,b.lightbox_theme.template=n[b.internalThemeNames.lightbox].lightbox,a.timestamp_language&&(b.theme.timestamp_language=a.timestamp_language,b.lightbox_theme.timestamp_language=a.timestamp_language),e.each(a.sources||[],function(a){b.add_source(a)}),b.render()},render:function(){var a=this;a.rendered=!0,a.reset(),a.place_rows(a.initial_rows),a.visible_check=window.setInterval(function(){var b=d(window).scrollTop(),c=b+d(window).height(),e=a.$container.offset().top,f=e+.75*a.$container.height();c>f&&e>b&&(window.clearInterval(a.visible_check),a.inner_carousel&&o.shown("Grid",a.identifier))},1e3),!a.infinite_scroll&&a.load_more_text&&(a.$loadmore=d("<a />").addClass("fm-gridhub-load-more clearfix").attr("href","#").html(a.load_more_text).click(function(b){b.preventDefault(),o.used("LoadMore",a.identifier),a.load_more(),a.update_height()}),a.$container.parent().css("overflow","hidden").after(a.$loadmore)),a.$container.addClass("bv-grid-theme-"+a.theme_name);for(var b=0;b<a.grid_classes.length;b++)a.$container.addClass("BVTemplate"+a.grid_classes[b])},create_feed_list:function(){var a=this,b=[];return e.each(a.grid,function(a){for(var c=0;c<a.length;c++){var d=a[c];"object"==typeof d&&d.source&&"FeedSource"===d.source.identifier&&b.push(d)}}),b},open_viewer:function(a,b,c,d,e){var f=this;f.social_blocks=f.create_feed_list(),f.viewer&&f.close_viewer(),window.BVCurations.require(["secondary"],function(b){var c=b.BVLightbox,g=b.InboundViewer;o.used("Lightbox",f.identifier,e.data.id),f.viewer="inbound_viewer"===d?new g(f,{theme_prefix:"viewer",fmid:a}):(new c).init(f,a,e,f.lightbox_carousel)})}},d.fn.gridhub=function(a,b){return this.each(function(){var c=d(this),e=c.data("fm_obj");e?"destroy"===a?(c.unbind("destroyed",e.self_destruct),c.removeData("fm_obj"),e.self_destruct(b)):"string"==typeof a&&e[a](b):(c.data("fm_obj",e=new p(this,a)),c.bind("destroyed",function(){d.proxy(e.self_destruct,e)}))})},d.fn.gridhub.Constructor=p,p}),css_browser_selector(navigator.userAgent),define("CSSBrowserSelector",function(){}),define("main",["loadIfConfigured!bv-widgets/BVCarousel","loadIfConfigured!bv-widgets/BVColumnsHub","loadIfConfigured!bv-widgets/BVGridHub","loadIfConfigured!bv-widgets/templates/photobox/BVPhotobox","fm/helpers/urlparams","bv-widgets/BVAnalytics","jquery","underscore","spin","feedmagnet","loglevel","CSSBrowserSelector","util/importantizer"],function(a,b,c,d,e,f,g,h,i,j,k){g.browser.msie&&8<=parseInt(g.browser.version,10)&&g(function(){var a=g("#BV-carousel-style");a[0].href=a[0].href}),j.ready(function(){function a(a){var b=g(a.container);if(!b.length&&a.inject&&a.inject.targets){k.info("Container",a.container,"not found, searching for zero-it injection targets...");for(var c=0;c<a.inject.targets.length;c++){var d=g(a.inject.targets[c]).first();if(d.length){var e=a.container;k.info("Found injection target:",d,"\nCreating container."),("."===a.container[0]||"#"===a.container[0])&&(e=a.container.substr(1)),""===e&&(e="BV-Container-"+Date.now()),b=g('<div id="'+e+'"></div>'),"before"===a.inject.position?d.before(b):d.after(b);break}}b.length||k.warn(a.container,"not found and no defined injection target was available.")}else b.length||(b=null,k.warn("Container",a.container,"not found and no zero-IT injection was defined."));if(n.push(b),b){var f=b.parent(".bv-curations-cleanslate");f.length||b.wrap('<div class="bv-curations-cleanslate bv-'+a.type+'-wrapper"></div>')}return b}function b(b){var c=a(b);c?g.importantizer.done(function(){"carousel"===b.type?(k.info("Creating carousel in container:",c),c.carousel(b)):"columns"===b.type?(k.info("Creating columns in container:",c),c.colhub(b)):"grid"===b.type?(k.info("Creating grid in container:",c),c.gridhub(b)):"photobox"===b.type&&(k.info("Creating photobox in container:",c),c.photobox(b)),k.info("With configuration:",b)}):k.info("No container available - this widget will not inject.")}function c(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}document.cookie=a+"="+b+d+"; path=/"}function d(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null}var i,j,l=window.BV_WIDGET_CONFIG,m={};for(j=0;j<l.WidgetConfigs.length;j++)i=l.WidgetConfigs[j],i.identifier&&(m[i.identifier]=i);for(var n=[],o=0;o<BVWidgets._log.length;o++)k.info.apply(k,BVWidgets._log[o]);BVWidgets.log=function(){k.info.apply(k,Array.prototype.slice.call(arguments))};var p=f.getInstance();window.BVWidgets.setLog=function(a){"SILENT"!==a?(k.setLevel(a),k.info("Logging is enabled. Use BVWidgets.setLog('SILENT') to turn off.\nYou will need to reload the page to view log messages during loading.")):(k.info("Logging is disabled. Use BVWidgets.setLog('INFO') to enable."),k.setLevel(a))};var q=e.bvcurationsversion,r=q?q:d("testVersion");if(null===r)if(window.BV_WIDGET_CONFIG.GlobalConfigs.abtest){var s=Math.random();r=s>.5?"versionA":"versionB",c("testVersion",r),k.info("A/B test version assigned to:",r)}else c("testVersion","versionA");else k.info("A/B test version:",r);"versionA"!==r&&window.BV_WIDGET_CONFIG.GlobalConfigs.abtest?k.info("A/B Test: Widgets are off. Add ?bvcurationsversion=versionA to force enable."):h(m).each(function(a){a.inherit&&h.defaults(a,m[a.inherit]),h.defaults(a,l.GlobalConfigs),a.groups&&a.sources&&a.sources.length&&(a.sources[0].groups=a.groups),b(a)}),p.pageView(window.BV_WIDGET_CONFIG.GlobalConfigs.abtest?r:"noAbTest")})});var reqCtx=require.config({baseUrl:"//curations-static.feedmagnet.com/gallery/nordstrom/prod/2014-11-14T18.47.09.319Z/scripts/",context:"bv-curations",paths:{facebook:"//connect.facebook.net/en_US/all"},shim:{CSSBrowserSelector:{exports:"browserSelector"},facebook:{exports:"FB"}},map:{"*":{jquery:"jquery-private"},"jquery-private":{jquery:"jquery"}}}),deps=["require","main"];/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent)&&(BVCurations.isMobile=!0,deps.push("mobile")),reqCtx(deps,function(a){BVCurations.require=a})}(BVCurations.requirejs,BVCurations.require,BVCurations.define);