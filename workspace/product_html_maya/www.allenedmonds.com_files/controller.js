var WDSMemberConfig={cd:{},ds:{1:{source:"im",groupId:1,cd:[null]},2:{source:"ia",groupId:1,cd:[null]},3:{source:"iw",groupId:1,cd:[null]},4:{source:"ix",groupId:1,cd:[null]},5:{source:"iy",groupId:1,cd:[null]},6:{source:"ae",groupId:2,cd:[null]},7:{source:"ar",groupId:2,cd:[null]},8:{source:"af",groupId:2,cd:[null]},9:{source:"am",groupId:2,cd:[null]},10:{source:"al",groupId:2,cd:[null]},11:{source:"au",groupId:2,cd:[null]},12:{source:"ai",groupId:2,cd:[null]},13:{source:"aa",groupId:2,cd:[null]},14:{source:"ab",groupId:2,cd:[null]},15:{source:"ac",groupId:2,cd:[null]},16:{source:"as",groupId:2,cd:[null]},17:{source:"az",groupId:2,cd:[null]},18:{source:"ax",groupId:2,cd:[null]},19:{source:"ay",groupId:2,cd:[null]},20:{source:"ao",groupId:2,cd:[null]},21:{source:"at",groupId:2,cd:[null]},22:{source:"ap",groupId:2,cd:[null]},23:{source:"oe",groupId:3,cd:[null]},24:{source:"oi",groupId:3,cd:[null]},25:{source:"oa",groupId:3,cd:[null]},26:{source:"oh",groupId:3,cd:[null]},27:{source:"os",groupId:3,cd:[null]},28:{source:"ob",groupId:3,cd:[null]},29:{source:"op",groupId:3,cd:[null]},30:{source:"ot",groupId:3,cd:[null]},31:{source:"od",groupId:3,cd:[null]},32:{source:"of",groupId:3,cd:[null]},33:{source:"ou",groupId:3,cd:[null]},34:{source:"xa",groupId:4,cd:[null]},35:{source:"xb",groupId:4,cd:[null]},36:{source:"xc",groupId:4,cd:[null]},37:{source:"xe",groupId:4,cd:[null]},38:{source:"pr",groupId:5,cd:[null]}},tugs:{75:{min:0,max:9},76:{min:10,max:99}},audience:{154:{url:["^allenedmonds.com^"],criteria:[]},155:{url:["^allenedmonds.com/aeonline/cati2_Shoes^"],criteria:[]},156:{url:["^allenedmonds.com/aeonline/cati2_Apparel^"],criteria:[]},157:{url:["^allenedmonds.com/aeonline/cati2_LeatherGoods^"],criteria:[]},158:{url:["^allenedmonds.com/aeonline/cati2_GolfShops^"],criteria:[]},159:{url:["^allenedmonds.com/aeonline/cati2_Accessories^"],criteria:[]},160:{url:["^allenedmonds.com/webapp/wcs/stores/servlet/RecraftingView^"],criteria:[]},161:{url:["^allenedmonds.com/aeonline/cati2_Clearance^"],criteria:[]},165:{url:["^OrderOKView^"],criteria:[]},166:{url:["^jerry.allenedmonds.com^","^newman.allenedmonds.com^","^localhost^"],criteria:[]}},tags:{217:{ttid:4,parm1_value:"kien8r8",parm2_value:"wt1mv8u5",parm3_value:null,parm4_value:null},218:{ttid:4,parm1_value:"kien8r8",parm2_value:"x6qpk4oz",parm3_value:null,parm4_value:null},219:{ttid:3,parm1_value:"kien8r8",parm2_value:"jcentwqg",parm3_value:null,parm4_value:null},220:{ttid:4,parm1_value:"kien8r8",parm2_value:"xvae9ctk",parm3_value:null,parm4_value:null},221:{ttid:4,parm1_value:"kien8r8",parm2_value:"7fcsi878",parm3_value:null,parm4_value:null},222:{ttid:4,parm1_value:"kien8r8",parm2_value:"esrc4ozi",parm3_value:null,parm4_value:null},223:{ttid:4,parm1_value:"kien8r8",parm2_value:"k5k3tlw6",parm3_value:null,parm4_value:null},224:{ttid:4,parm1_value:"kien8r8",parm2_value:"ehzkjr5h",parm3_value:null,parm4_value:null},225:{ttid:4,parm1_value:"kien8r8",parm2_value:"ls92bphe",parm3_value:null,parm4_value:null},226:{ttid:4,parm1_value:"kien8r8",parm2_value:"mzl2zrv2",parm3_value:null,parm4_value:null},227:{ttid:3,parm1_value:"kien8r8",parm2_value:"4p3787wh",parm3_value:null,parm4_value:null}},assign:{365:{aid:154,tagId:217,tugId:75},366:{aid:154,tagId:218,tugId:76},367:{aid:165,tagId:219,tugId:75},368:{aid:165,tagId:219,tugId:76},369:{aid:155,tagId:220,tugId:75},370:{aid:155,tagId:220,tugId:76},371:{aid:156,tagId:221,tugId:75},372:{aid:156,tagId:221,tugId:76},373:{aid:157,tagId:222,tugId:75},374:{aid:157,tagId:222,tugId:76},375:{aid:158,tagId:223,tugId:75},376:{aid:158,tagId:223,tugId:76},377:{aid:159,tagId:224,tugId:75},378:{aid:159,tagId:224,tugId:76},379:{aid:160,tagId:225,tugId:75},380:{aid:160,tagId:225,tugId:76},381:{aid:161,tagId:226,tugId:75},382:{aid:161,tagId:226,tugId:76},383:{aid:154,tagId:227,tugId:75},384:{aid:154,tagId:227,tugId:76}},plnCompliant:!0};var WDSConfig=new function WDSConfigObj($){function getCookie(e){var t=document.cookie;if(!t)return null;var o=new RegExp("[; ]"+e[0]+"=([^\\s;]*)","i"),a=(" "+t).match(o),n=new RegExp(e[1].replace(/^\//,"").replace(/\/$/,""));if(a){var r=a[1];return"object"==typeof n&&(a=r.match(n),r=a?a[Math.min(1,a.length-1)]:""),r}return null}function getJs(parms){try{var value=eval("window."+parms[0]);return"string"==typeof value||"number"==typeof value?value:null}catch(e){return null}}function getPageElement(e){return null!==document.getElementById(e[0])}function getReferrerQueryString(e){var t=document.referrer.split("?")[1]||"";t=t.split("&");for(var o=0;o<t.length;o++){var a=t[o].split("=");if(2===a.length&&a[0]===e[0]){var n=a[1],r=new RegExp(e[1].replace(/^\//,"").replace(/\/$/,""));if("object"==typeof r){var i=a[1].match(r);n=i?i[Math.min(1,i.length-1)]:null}return n}}return null}function getQueryString(e){for(var t=window.location.search.replace(/\?/,"").split("&"),o=0;o<t.length;o++){var a=t[o].split("=");if(2===a.length&&a[0]===e[0]){var n=a[1],r=new RegExp(e[1].replace(/^\//,"").replace(/\/$/,""));if("object"==typeof r){var i=a[1].match(r);n=i?i[Math.min(1,i.length-1)]:null}return n}}return null}function init(){collectEnv(),$.plnCompliant&&encodeEmail(),matchAudience(),setTug(),fireTags(),fireLiveRamp(),setWdsRandomCookie(),saveCookie(),postLog()}var wdsRandom="8422786223715344",wdsDomain="allenedmonds.com",insightDomain="insight.allenedmonds.com",currentServer="tags.wdsvc.net",t="1417580026272",div_id="5623",version="2.6",pendingRequest=!1,tagLog=[],tug={},collect={1:getCookie,2:getJs,3:getPageElement,4:getQueryString,5:null,6:getJs,7:getReferrerQueryString},tags={2:{src:"//pixel.mathtag.com/event/js?mt_id={parm1_value}&mt_adid={parm2_value}&v1={v1}&v2={v2}&v3={v3}&s1={s1}&s2={s2}&s3={s3}"},pln:{src:"//ei.rlcdn.com/378278.gif?xs={parm1_value}&c={parm2_value}&v={parm3_value}"},1:{src:"//www.googleadservices.com/pagead/conversion_async.js",post:function(e){var t={google_conversion_id:"{parm1_value}",google_conversion_language:"{parm2_value}",google_conversion_format:"3",google_conversion_color:"ffffff",google_conversion_label:"{parm3_value}",google_conversion_value:"{parm4_value}"};for(var o in t)t[o]=setToken(t[o],e);window.google_trackConversion(t),addTagLog(1,e)}},3:{type:"image",src:"//insight.adsrvr.org/track/conv/?adv={parm1_value}&ct=0:{parm2_value}&fmt=3&orderid={oi}&vf={ou}&v={oa}"},4:{type:"image",src:"//insight.adsrvr.org/track/evnt/?adv={parm1_value}&ct=0:{parm2_value}&fmt=3"},5:{source:"parm1_value"},6:{src:function(e){if(sourceMap.od.value&&-1!==sourceMap.od.value.indexOf("|"))var t=sourceMap.od.value.split("|");else var t=[sourceMap.od.value];for(var o=[],a=[],n=0;n<t.length;n++){if(t[n]&&-1!==t[n].indexOf("~"))var r=t[n].split("~");else var r=[];r[0]&&o.push(encodeURI(r[0].replace(/,/g,""))),r[6]&&a.push(encodeURI(r[6].replace(/,/g,"")))}var i="//pixel.adacado.com/{parm1_value}?segment={parm2_value}&sku="+o.join(",")+"&category="+a.join(",")+"&recommendedsku={parm3_value}";return i=setToken(i,e)},id:"adacadoPixel"}},sourceMap={},audiences=[],getCd=function(e){return $.cd[e]},getTag=function(e){return $.tags[e]},base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getbyte64:function(e,t){var o=this.ALPHA.indexOf(e.charAt(t));if(-1===o)throw"Cannot decode base64";return o},getbyte:function(e,t){var o=e.charCodeAt(t);if(o>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return o},encode:function(e){if(1!==arguments.length)throw"SyntaxError: Not enough arguments";var t,o,a=this.PADCHAR,n=this.ALPHA,r=this.getbyte,i=[];e=""+e;var s=e.length-e.length%3;if(0===e.length)return e;for(t=0;s>t;t+=3)o=r(e,t)<<16|r(e,t+1)<<8|r(e,t+2),i.push(n.charAt(o>>18)),i.push(n.charAt(o>>12&63)),i.push(n.charAt(o>>6&63)),i.push(n.charAt(63&o));switch(e.length-s){case 1:o=r(e,t)<<16,i.push(n.charAt(o>>18)+n.charAt(o>>12&63)+a+a);break;case 2:o=r(e,t)<<16|r(e,t+1)<<8,i.push(n.charAt(o>>18)+n.charAt(o>>12&63)+n.charAt(o>>6&63)+a)}return i.join("")}},encode64=function(e){return"function"==typeof btoa?btoa(e):base64.encode(e.toString())},WdsCookieObj=function(){var e=this,t="wds_random",o=94608e6;this.cookieExists=!1,this.cookieChange=!1,this.cookiePending=!1,this.cookieAccept=!1,this.cookieStruct={timestamp:{pos:0,value:""},wds_random:{pos:1,value:""},tug:{pos:2,value:""},email_address:{pos:3,value:""}},this.parseCookie=function(e){var t=e.split("|");for(var o in this.cookieStruct)this.cookieStruct[o].pos<=t.length&&(this.cookieStruct[o].value=t[this.cookieStruct[o].pos])},this.getField=function(e){return this.cookieStruct[e]?this.cookieStruct[e].value:""},this.addEmail=function(e){if(-1===this.getField("email_address").indexOf(e)){var t=e+(""!==this.getField("email_address")?"~"+this.getField("email_address"):"");this.setField("email_address",t)}},this.setField=function(e,t){this.cookieStruct[e]&&this.cookieStruct[e].value!==t.toString()&&(this.cookieStruct[e].value=t,this.cookieChange=!0)},this.saveCookie=function(){function a(e){var t=String(e);return 1===t.length&&(t="0"+t),t}if(this.cookiePending)return void setTimeout(function(){e.saveCookie()},100);if(this.cookieChange){var n=new Date,r=new Date;if(n.toISOString)var i=n.toISOString();else var i=n.getUTCFullYear()+"-"+a(n.getUTCMonth()+1)+"-"+a(n.getUTCDate())+"T"+a(n.getUTCHours())+":"+a(n.getUTCMinutes())+":"+a(n.getUTCSeconds())+"."+String((n.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z";r.setTime(r.getTime()+o);var s=this.getField("timestamp");s=-1!==s.indexOf("~")?s.split("~"):[],0===s.length?this.setField("timestamp",i+"~"+i):this.setField("timestamp",s[0]+"~"+i);var c=[];for(var u in this.cookieStruct)c.push(this.cookieStruct[u].value);document.cookie=t+"="+c.join("|")+"; expires="+r.toUTCString()+"; domain="+wdsDomain+";path=/"}return this},this.cookieTest=function(){if(document.cookie.length>0)this.cookieAccept=!0;else{document.cookie="test=1",this.cookieAccept=document.cookie.length>0;var e=new Date(1974,11,13);document.cookie="test=1; expires="+e.toUTCString()}},this.cookieTest();for(var a=document.cookie.split(";"),n=0;n<a.length;n++){var r=new RegExp("[; ]"+t+"=([^\\s;]*)","i"),i=(" "+a[n]).match(r);i&&(this.cookieExists=!0,this.parseCookie(i[1]),n=a.length)}},WdsCookie=new WdsCookieObj,collectEnv=function(){for(var e in $.ds){$.ds[e].value=null;for(var t=0;t<$.ds[e].cd.length&&null===$.ds[e].value;t++)null===$.ds[e].cd[t]?($.ds[e].value=getJs(["_wds_"+$.ds[e].source]),$.ds[e].log="Y"):($.ds[e].value=collect[getCd($.ds[e].cd[t]).dtid](getCd($.ds[e].cd[t]).parms),$.ds[e].log=getCd($.ds[e].cd[t]).log),"oa"!==$.ds[e].source&&"oh"!==$.ds[e].source||"string"!=typeof $.ds[e].value||($.ds[e].value=$.ds[e].value.replace(/[\$\,]/g,"")),sourceMap[$.ds[e].source]=$.ds[e]}sourceMap.pr.value=document.referrer},matchAudience=function(){var e=function(e){var t=location.host+location.pathname;if(0===e.length)return!0;for(var o=0;o<e.length;o++){var a=new RegExp("^(www.)*"+e[o].replace(/\//g,"\\/").replace(/[\*,\^]/g,"(.*)")+"$","i");if(t.match(a))return!0}return!1},t=function(e){for(var t=!0,o=0;o<e.length;o++){if(e[o].ds)var a=$.ds[e[o].ds].value;else var a=collect[getCd(e[o].cd).dtid](getCd(e[o].cd).parms);if(e[o].value=/^true$/i.test(e[o].value)?!0:e[o].value,e[o].value=/^false$/i.test(e[o].value)?!1:e[o].value,/^\//.test(e[o].value)&&/\/$/.test(e[o].value)){var n=new RegExp(e[o].value.replace(/^\//,"").replace(/\/$/,""));n.test(a)&&null!==a||(t=!1)}else"boolean"==typeof e[o].value?t=!!a===e[o].value:a!=e[o].value&&(t=!1)}return t};for(var o in $.audience){e($.audience[o].url)&&t($.audience[o].criteria)&&(audiences[o]=$.audience[o])}},getCentile=function(){if(""!==WdsCookie.getField("tug"))var e=WdsCookie.getField("tug");else{var e=Math.floor(wdsRandom/199933).toString();e=e.substr(e.length-3,2)}return WdsCookie.setField("tug",e),e},setTug=function(){var e=getCentile();for(var t in $.tugs)e>=$.tugs[t].min&&e<=$.tugs[t].max&&(tug[t]=$.tugs[t])},encodeEmail=function(){if(sourceMap.ae.value&&sourceMap.ae.value.length>5){WdsCookie.cookiePending=!0,pendingRequest=!0;var e=document.createElement("script"),t="//"+currentServer+"/email-encode/?email="+encode64(sourceMap.ae.value);e.src=t,e.async=!0,e.onload=function(){WdsCookie.addEmail(lrData.sha1),WdsCookie.cookiePending=!1,pendingRequest=!1},ieLoadBugFix(e,function(){WdsCookie.addEmail(lrData.sha1),WdsCookie.cookiePending=!1,pendingRequest=!1});var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}},ieLoadBugFix=function(e,t,o){"loaded"!==e.readyState&&"completed"!==e.readyState&&"complete"!==e.readyState||"object"!=typeof lrData?(o||(o=0),o++,5>o&&(timeout=setTimeout(function(){ieLoadBugFix(e,t,o)},100))):t()},fireTags=function(){for(var e in $.assign)audiences[$.assign[e].aid]&&tug[$.assign[e].tugId]&&(executeTag(tags[getTag($.assign[e].tagId).ttid],getTag($.assign[e].tagId)),addTagLog(getTag($.assign[e].tagId).ttid,getTag($.assign[e].tagId)))},clone=function(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t},getTokenValue=function(e){var t="";if(e&&/^\{.*\}$/.test(e)){var o=e.replace(/(\{|\})/g,"").replace(/_wds_/,"");t=sourceMap[o]&&sourceMap[o].value?encodeURI(sourceMap[o].value):""}else t=encodeURI(e);return t},setToken=function(e,t){for(var o=1;4>=o;o++){var a=getTokenValue(t["parm"+o+"_value"]);e=e.replace("{parm"+o+"_value}",a)}for(var n in sourceMap)e=e.replace("{"+sourceMap[n].source+"}",encodeURI(sourceMap[n].value?sourceMap[n].value:""));return e=e.replace(/{.*?}/g,"")},executeTag=function(e,t){var o=clone(e),a=null,n=["pre","src","post"];o.data=t;for(var r=0;r<n.length;r++){switch(typeof o[n[r]]){case"function":if("post"===n[r]){var i=o[n[r]];a.onload=function(){i(o.data)},ieLoadBugFix(a,function(){i(o.data)})}else o[n[r]]=o[n[r]](o.data);break;case"string":o[n[r]]=setToken(o[n[r]],o.data)}"src"===n[r]&&(a=o.type&&"image"===o.type?addImg(o[n[r]]):addScript(o[n[r]],o.id?o.id:null))}},addImg=function(e){var t=document.createElement("img");t.style.display="none",t.src=e;var o=document.getElementsByTagName("body");return o[0].appendChild(t),t},addScript=function(e,t){var o=document.createElement("script");o.src=e,o.async=!0,t&&(o.id=t);var a=document.getElementsByTagName("script")[0];return a.parentNode.insertBefore(o,a),o},addTagLog=function(e,t){var o={};o.id=e,o.parms=[];for(var a in t)t[a]&&a.match(/^parm\d_value$/)&&o.parms.push(getTokenValue(t[a]));tagLog.push(o)},fireLiveRamp=function(){if(sourceMap.ae&&sourceMap.ae.value&&sourceMap.ae.value.length>5&&$.plnCompliant){if("undefined"==typeof window.lrData)return void setTimeout(function(){fireLiveRamp()},100);var e=tags.pln.src,t={parm1_value:window.lrData.xs,parm2_value:window.lrData.c,parm3_value:window.lrData.v,parm4_value:window.lrData.sha1};e=setToken(e,t);var o=document.createElement("img"),a=e;o.style.display="none",o.src=a;var n=document.getElementsByTagName("body");n[0].appendChild(o),addTagLog("pln",t)}},setWdsRandomCookie=function(){WdsCookie.setField("wds_random",wdsRandom)},saveCookie=function(){WdsCookie.saveCookie()},createCORSRequest=function(){var e=new XMLHttpRequest,o=location.protocol+"//"+insightDomain+"/post-log?v="+version+"&amp;t="+t;return"withCredentials"in e?(e.open("POST",o,!0),e.withCredentials=!0):"undefined"!=typeof XDomainRequest?(e=new XDomainRequest,e.open("POST",o)):e=null,e},postLog=function(e){if(pendingRequest)return void setTimeout(function(){postLog(e)},100);var t=createCORSRequest(),o={div_id:div_id,version:version,url:location.host+location.pathname+location.search,tug_name:Object.keys(tug)[0],ts:WdsCookie.cookieAccept?WdsCookie.getField("timestamp"):"0",centile:getCentile()};o.audience=[];for(var a in audiences)audiences[a].url&&o.audience.push(a);for(var n in sourceMap)sourceMap[n].value&&"Y"===sourceMap[n].log&&(o[sourceMap[n].source]=sourceMap[n].value,o[sourceMap[n].source+"_group"]=sourceMap[n].groupId);o.tag_log=[];for(var r=0;r<tagLog.length;r++)o.tag_log.push({id:tagLog[r].id,p:tagLog[r].parms});if(t.setRequestHeader&&t.setRequestHeader("Content-type","text/plain"),t.onreadystatechange=function(){4===t.readyState&&"function"==typeof e&&e()},"function"==typeof Array.prototype.toJSON){var i=JSON.stringify;JSON.stringify=function(e){var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var o=i(e);return Array.prototype.toJSON=t,o}}t.send(encode64(JSON.stringify(o)))};this.runTags=function(e){tagLog=[],collectEnv(),$.plnCompliant&&encodeEmail(),matchAudience(),setTug(),fireTags(),fireLiveRamp(),setWdsRandomCookie(),saveCookie(),postLog(e)},Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=o.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var r,i,s=[];for(r in n)e.call(n,r)&&s.push(r);if(t)for(i=0;a>i;i++)e.call(n,o[i])&&s.push(o[i]);return s}}()),init()}(WDSMemberConfig);