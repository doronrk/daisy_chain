(function(a){var n,t,v,e,B,k,x,y,z,q=0,d={},r=[],p=0,b={},f=[],C=null,s=new Image,F=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,Q=/[^\.]\.(swf)\s*$/i,G,H=1,m,l,h=!1,w=a.extend(a("<div/>")[0],{prop:0}),u=0,N=!a.support.opacity&&!window.XMLHttpRequest,I=function(){t.hide();s.onerror=s.onload=null;C&&C.abort();n.empty()},O=function(){a.fancybox('<p id="fancybox_error">The requested content cannot be loaded.<br />Please try again later.</p>',{scrolling:"no",padding:20,transitionIn:"none",transitionOut:"none"})},
J=function(){return[a(window).width(),a(window).height(),a(document).scrollLeft(),a(document).scrollTop()]},R=function(){var c=J(),a={},D=b.margin,e=b.autoScale,h=2*(20+D),k=2*(20+D),f=2*b.padding;-1<b.width.toString().indexOf("%")?(a.width=c[0]*parseFloat(b.width)/100-40,e=!1):a.width=b.width+f;-1<b.height.toString().indexOf("%")?(a.height=c[1]*parseFloat(b.height)/100-40,e=!1):a.height=b.height+f;e&&(a.width>c[0]-h||a.height>c[1]-k)&&("image"==d.type||"swf"==d.type?(k+=f,e=Math.min(Math.min(c[0]-
(h+f),b.width)/b.width,Math.min(c[1]-k,b.height)/b.height),a.width=Math.round(e*(a.width-f))+f,a.height=Math.round(e*(a.height-f))+f):(a.width=Math.min(a.width,c[0]-h),a.height=Math.min(a.height,c[1]-k)));a.top=c[3]+0.5*(c[1]-(a.height+40));a.left=c[2]+0.5*(c[0]-(a.width+40));!1===b.autoScale&&(a.top=Math.max(c[3]+D,a.top),a.left=Math.max(c[2]+D,a.left));return a},S=function(a){if(a&&a.length)switch(b.titlePosition){case "inside":return a;case "over":return'<span id="fancybox-title-over">'+a+"</span>";
default:return'<span id="fancybox-title-wrap"><span id="fancybox-title-left"></span><span id="fancybox-title-main">'+a+'</span><span id="fancybox-title-right"></span></span>'}return!1},T=function(){var c=b.title,g=l.width-2*b.padding,d="fancybox-title-"+b.titlePosition;a("#fancybox-title").remove();u=0;if(!1!==b.titleShow&&(c=a.isFunction(b.titleFormat)?b.titleFormat(c,f,p,b):S(c))&&""!==c){a('<div id="fancybox-title" class="'+d+'" />').css({width:g,paddingLeft:b.padding,paddingRight:b.padding}).html(c).appendTo("body");
switch(b.titlePosition){case "inside":u=a("#fancybox-title").outerHeight(!0)-b.padding;l.height+=u;break;case "over":a("#fancybox-title").css("bottom",b.padding);break;default:a("#fancybox-title").css("bottom",-1*a("#fancybox-title").outerHeight(!0))}a("#fancybox-title").appendTo(B).hide()}},U=function(){a(document).unbind("keydown.fb").bind("keydown.fb",function(c){27==c.keyCode&&b.enableEscapeButton?(c.preventDefault(),a.fancybox.close()):37==c.keyCode?(c.preventDefault(),a.fancybox.prev()):39==
c.keyCode&&(c.preventDefault(),a.fancybox.next())});a.fn.mousewheel&&(e.unbind("mousewheel.fb"),1<f.length&&e.bind("mousewheel.fb",function(c,b){c.preventDefault();h||0===b||(0<b?a.fancybox.prev():a.fancybox.next())}));b.showNavArrows&&((b.cyclic&&1<f.length||0!==p)&&y.show(),(b.cyclic&&1<f.length||p!=f.length-1)&&z.show())},K=function(){k.css("overflow","auto"==b.scrolling?"image"==b.type||"iframe"==b.type||"swf"==b.type?"hidden":"auto":"yes"==b.scrolling?"auto":"visible");a.support.opacity||(k.get(0).style.removeAttribute("filter"),
e.get(0).style.removeAttribute("filter"));a("#fancybox-title").show();if(b.hideOnContentClick)k.one("click",a.fancybox.close);if(b.hideOnOverlayClick)v.one("click",a.fancybox.close);b.showCloseButton&&x.show();U();a(window).bind("resize.fb",a.fancybox.center);b.centerOnScroll?a(window).bind("scroll.fb",a.fancybox.center):a(window).unbind("scroll.fb");if(a.isFunction(b.onComplete))b.onComplete(f,p,b);h=!1;var c,g;f.length-1>p&&(c=f[p+1].href,"undefined"!==typeof c&&c.match(F)&&(g=new Image,g.src=c));
0<p&&(c=f[p-1].href,"undefined"!==typeof c&&c.match(F)&&(g=new Image,g.src=c));641>a("#fancybox-wrap").height()&&"no"==b.custom&&a("#fancybox-wrap").height(641)},L=function(a){var g=Math.round(m.width+(l.width-m.width)*a),d=Math.round(m.height+(l.height-m.height)*a),f=Math.round(m.top+(l.top-m.top+19)*a),h=Math.round(m.left+(l.left-m.left)*a);e.css({width:g+"px",height:d+"px",top:f+"px",left:h+"px"});g=Math.max(g-2*b.padding,0);d=Math.max(d-(2*b.padding+u*a),0);k.css({width:g+"px",height:d+"px"});
"undefined"!==typeof l.opacity&&e.css("opacity",0.5>a?0.5:a)},P=function(){var c=d.orig?a(d.orig):!1,g={};c&&c.length?(g=c.offset(),g.top+=parseFloat(c.css("paddingTop"))||0,g.left+=parseFloat(c.css("paddingLeft"))||0,g.top+=parseFloat(c.css("border-top-width"))||0,g.left+=parseFloat(c.css("border-left-width"))||0,g.width=c.width(),g.height=c.height(),g={width:g.width+2*b.padding,height:g.height+2*b.padding,top:g.top-b.padding-20,left:g.left-b.padding-20}):(c=J(),g={width:1,height:1,top:c[3]+0.5*
c[1],left:c[2]+0.5*c[0]});return g},M=function(){t.hide();if(e.is(":visible")&&a.isFunction(b.onCleanup)&&!1===b.onCleanup(f,p,b))a.event.trigger("fancybox-cancel"),h=!1;else{f=r;p=q;b=d;k.get(0).scrollTop=0;k.get(0).scrollLeft=0;if(b.overlayShow){if(N)a("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});v.css({"background-color":b.overlayColor,opacity:b.overlayOpacity}).unbind().show()}l=
R();T();if(e.is(":visible")){a(x.add(y).add(z)).hide();var c=e.position(),g;m={top:c.top,left:c.left,width:e.width(),height:e.height()};g=m.width==l.width&&m.height==l.height;k.fadeOut(b.changeFade,function(){var c=function(){k.html(n.contents()).fadeIn(b.changeFade,K)};a.event.trigger("fancybox-change");k.empty().css("overflow","hidden");g?(k.css({top:b.padding,left:b.padding,width:Math.max(l.width-2*b.padding,1),height:Math.max(l.height-2*b.padding-u,1)}),c()):(k.css({top:b.padding,left:b.padding,
width:Math.max(m.width-2*b.padding,1),height:Math.max(m.height-2*b.padding,1)}),w.prop=0,a(w).animate({prop:1},{duration:b.changeSpeed,easing:b.easingChange,step:L,complete:c}))})}else e.css("opacity",1),"elastic"==b.transitionIn?(m=P(),k.css({top:b.padding,left:b.padding,width:Math.max(m.width-2*b.padding,1),height:Math.max(m.height-2*b.padding,1)}).html(n.contents()),e.css(m).show(),b.opacity&&(l.opacity=0),w.prop=0,a(w).animate({prop:1},{duration:b.speedIn,easing:b.easingIn,step:L,complete:K})):
(k.css({top:b.padding,left:b.padding,width:Math.max(l.width-2*b.padding,1),height:Math.max(l.height-2*b.padding-u,1)}).html(n.contents()),e.css(l).fadeIn("none"==b.transitionIn?0:b.speedIn,K))}},E=function(){n.width(d.width);n.height(d.height);"auto"==d.width&&(d.width=n.width());"auto"==d.height&&(d.height=n.height());M()},A=function(){I();var c=r[q],b,e,f,l,m;d=a.extend({},a.fn.fancybox.defaults,"undefined"==typeof a(c).data("fancybox")?d:a(c).data("fancybox"));f=c.title||a(c).title||d.title||"";
c.nodeName&&!d.orig&&(d.orig=a(c).children("img:first").length?a(c).children("img:first"):a(c));""===f&&d.orig&&(f=d.orig.attr("alt"));b=c.nodeName&&/^(?:javascript|#)/i.test(c.href)?d.href||null:d.href||c.href||null;d.type?(e=d.type,b||(b=d.content)):d.content?e="html":b?b.match(F)?e="image":b.match(Q)?e="swf":a(c).hasClass("iframe")?e="iframe":b.match(/#/)?(c=b.substr(b.indexOf("#")),e=0<a(c).length?"inline":"ajax"):e="ajax":e="inline";d.type=e;d.href=b;d.title=f;d.autoDimensions&&"iframe"!==d.type&&
"swf"!==d.type&&(d.width="auto",d.height="auto");d.modal&&(d.overlayShow=!0,d.hideOnOverlayClick=!1,d.hideOnContentClick=!1,d.enableEscapeButton=!1,d.showCloseButton=!1);if(a.isFunction(d.onStart)&&!1===d.onStart(r,q,d))h=!1;else switch(n.css("padding",20+d.padding+d.margin),a(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){a(this).replaceWith(k.children())}),e){case "html":n.html(d.content);E();break;case "inline":a('<div class="fancybox-inline-tmp" />').hide().insertBefore(a(c)).bind("fancybox-cleanup",
function(){a(this).replaceWith(k.children())}).bind("fancybox-cancel",function(){a(this).replaceWith(n.children())});a(c).appendTo(n);E();break;case "image":h=!1;a.fancybox.showActivity();s=new Image;s.onerror=function(){O()};s.onload=function(){s.onerror=null;s.onload=null;h=!0;d.width=s.width;d.height=s.height;a("<img />").attr({id:"fancybox-img",src:s.src,alt:d.title}).appendTo(n);M()};s.src=b;break;case "swf":l='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+d.width+'" height="'+
d.height+'"><param name="movie" value="'+b+'"></param>';m="";a.each(d.swf,function(a,c){l+='<param name="'+a+'" value="'+c+'"></param>';m+=" "+a+'="'+c+'"'});l+='<embed src="'+b+'" type="application/x-shockwave-flash" width="'+d.width+'" height="'+d.height+'"'+m+"></embed></object>";n.html(l);E();break;case "ajax":c=b.split("#",2);e=d.ajax.data||{};1<c.length&&(b=c[0],"string"==typeof e?e+="&selector="+c[1]:e.selector=c[1]);h=!1;a.fancybox.showActivity();C=a.ajax(a.extend(d.ajax,{url:b,data:e,error:O,
success:function(a,c,b){200==C.status&&(n.html(a),E())}}));break;case "iframe":a('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" allowTransparency="true" scrolling="'+d.scrolling+'" src="'+d.href+'"></iframe>').appendTo(n),M()}},V=function(){t.is(":visible")?(a("div",t).css("top",-40*H+"px"),H=(H+1)%12):clearInterval(G)},W=function(){a("#fancybox-wrap").length||(a("body").append(n=a('<div id="fancybox-tmp"></div>'),t=a('<div id="fancybox-loading"><div></div></div>'),
v=a('<div id="fancybox-overlay"></div>'),e=a('<div id="fancybox-wrap"></div>')),a.support.opacity||(e.addClass("fancybox-ie"),t.addClass("fancybox-ie")),B=a('<div id="fancybox-outer"></div>').append('<div class="fancy-bg" id="fancy-bg-n"></div><div class="fancy-bg" id="fancy-bg-ne"></div><div class="fancy-bg" id="fancy-bg-e"></div><div class="fancy-bg" id="fancy-bg-se"></div><div class="fancy-bg" id="fancy-bg-s"></div><div class="fancy-bg" id="fancy-bg-sw"></div><div class="fancy-bg" id="fancy-bg-w"></div><div class="fancy-bg" id="fancy-bg-nw"></div>').appendTo(e),
B.append(k=a('<div id="fancybox-inner"></div>'),x=a('<a id="fancybox-close"></a>'),y=a('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),z=a('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),x.click(a.fancybox.close),t.click(a.fancybox.cancel),y.click(function(c){c.preventDefault();a.fancybox.prev()}),z.click(function(c){c.preventDefault();a.fancybox.next()}),N&&(v.get(0).style.setExpression("height",
"document.body.scrollHeight > document.body.offsetHeight ? document.body.scrollHeight : document.body.offsetHeight + 'px'"),t.get(0).style.setExpression("top","(-20 + (document.documentElement.clientHeight ? document.documentElement.clientHeight/2 : document.body.clientHeight/2 ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop )) + 'px'"),B.prepend('<iframe id="fancybox-hide-sel-frame" src="javascript:\'\';" scrolling="no" frameborder="0" ></iframe>')))};
a.fn.fancybox=function(c){a(this).data("fancybox",a.extend({},c,a.metadata?a(this).metadata():{})).unbind("click.fb").bind("click.fb",function(c){c.preventDefault();if(!h)return h=!0,a(this).blur(),r=[],q=0,(c=a(this).attr("rel")||"")&&""!=c&&"nofollow"!==c?(r=a("a[rel="+c+"], area[rel="+c+"]"),q=r.index(this)):r.push(this),A(),!1});return this};a.fancybox=function(c,b){if(!h){h=!0;var d="undefined"!==typeof b?b:{};r=[];q=d.index||0;if(a.isArray(c)){for(var e=0,f=c.length;e<f;e++)"object"==typeof c[e]?
a(c[e]).data("fancybox",a.extend({},d,c[e])):c[e]=a({}).data("fancybox",a.extend({content:c[e]},d));r=jQuery.merge(r,c)}else"object"==typeof c?a(c).data("fancybox",a.extend({},d,c)):c=a({}).data("fancybox",a.extend({content:c},d)),r.push(c);if(q>r.length||0>q)q=0;A()}};a.fancybox.showActivity=function(){clearInterval(G);t.show();G=setInterval(V,66)};a.fancybox.hideActivity=function(){t.hide()};a.fancybox.next=function(){return a.fancybox.pos(p+1)};a.fancybox.prev=function(){return a.fancybox.pos(p-
1)};a.fancybox.pos=function(a){h||(a=parseInt(a,10),-1<a&&f.length>a&&(q=a,A()),b.cyclic&&1<f.length&&0>a&&(q=f.length-1,A()),b.cyclic&&1<f.length&&a>=f.length&&(q=0,A()))};a.fancybox.cancel=function(){if(!h){h=!0;a.event.trigger("fancybox-cancel");I();if(d&&a.isFunction(d.onCancel))d.onCancel(r,q,d);h=!1}};a.fancybox.close=function(){function c(){v.fadeOut("fast");e.hide();a.event.trigger("fancybox-cleanup");k.empty();if(a.isFunction(b.onClosed))b.onClosed(f,p,b);f=d=[];p=q=0;b=d={};h=!1}if(!h&&
!e.is(":hidden"))if(h=!0,b&&a.isFunction(b.onCleanup)&&!1===b.onCleanup(f,p,b))h=!1;else if(I(),a(x.add(y).add(z)).hide(),a("#fancybox-title").remove(),e.add(k).add(v).unbind(),a(window).unbind("resize.fb scroll.fb"),a(document).unbind("keydown.fb"),k.css("overflow","hidden"),"elastic"==b.transitionOut){m=P();var g=e.position();l={top:g.top,left:g.left,width:e.width(),height:e.height()};b.opacity&&(l.opacity=1);w.prop=1;a(w).animate({prop:0},{duration:b.speedOut,easing:b.easingOut,step:L,complete:c})}else e.fadeOut("none"==
b.transitionOut?0:b.speedOut,c)};a.fancybox.resize=function(){var c,d;h||e.is(":hidden")||(h=!0,c=k.wrapInner("<div style='overflow:auto'></div>").children(),d=c.height(),e.css({height:d+2*b.padding+u}),k.css({height:d}),c.replaceWith(c.children()),a.fancybox.center())};a.fancybox.center=function(){h=!0;var a=J(),d=b.margin,f={};f.top=a[3]+0.5*(a[1]-(e.height()-u+40));f.left=a[2]+0.5*(a[0]-(e.width()+40));f.top=Math.max(a[3]+d,f.top);f.left=Math.max(a[2]+d,f.left);e.css(f);h=!1};a.fn.fancybox.defaults=
{padding:10,margin:20,opacity:!1,modal:!1,cyclic:!1,scrolling:"no",width:630,height:485,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,custom:"no",ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:0.5,overlayColor:"",titleShow:!0,titlePosition:"outside",titleFormat:null,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,
enableEscapeButton:!0,onStart:null,onCancel:null,onComplete:null,onCleanup:null,onClosed:null};a(document).ready(function(){W()})})(jQuery);