(function(a){var b={totalResults:"#hcReviewTotal",totalPerPage:5,pagesToShow:10,container:".reviewPagination",ajaxUrl:"/m123-complete/productDetailIncludes/jiveReviews.jsp",reqType:"GET",reviewContainer:"#hcReviewContainer",sku:1234,topPagination:"#hcTopPagination",bottomPagination:"#hcBtmPagination",currentPage:"#hcCurrentPage",errorMessage:"There was an error processing your request, please try again",type:"normal",loadingGIF:pageData.styleStaticContentUrl+"/img/brand/m123/cmn/new_lrg.gif",opacityClass:"ajaxOverlay",loadingClass:"lgLoaderGif",getReviewParams:function(){},beforeSendCallback:function(){return false},dataCallback:function(){return false},successCallback:function(){return false}};a.fn.paginationModule=function(c){c=a.extend({},b,c);a.each(this,function(){var f=a(this),e=f.find(c.totalResults),g=a(e).html(),i=Math.ceil(g/c.totalPerPage),j=c.pagesToShow;a(c.currentPage).val(1);function d(m,n){var l=a(c.reviewContainer);l.ajaxTransition({ajaxCallback:function(o){a.ajax({url:m,data:c.dataCallback.call(this,n),type:c.reqType,beforeSend:function(){c.beforeSendCallback.call(this,n);a(c.container+" a.previous_link").removeClass("previous_link").addClass("disablePrev");a(document).on("click",c.container+" a.disablePrev",function(p){p.preventDefault();return false});a(c.container+" a.next_link").removeClass("next_link").addClass("disableNext");a(document).on("click",c.container+" a.disableNext",function(p){p.preventDefault();return false})},success:function(p){o.html(p);o.removeClass(c.opacityClass);c.successCallback(n,c.totalPerPage,g);a.ajaxTransition.postAjaxCall(o)},complete:function(){a(c.container+" a.disablePrev").removeClass("disablePrev").addClass("previous_link");a(c.container+" a.disableNext").removeClass("disableNext").addClass("next_link")},error:function(p){o.html("<p>"+c.errorMessage+"</p>");a.ajaxTransition.postAjaxCall(o)}})}})}var h=0;loadNav=function(s,m){var v='<span>Page: </span><a class="previous_link" href="#">Prev</a>';if(i>j){var p=j/2,q=a(c.currentPage).val(),r=parseInt(q)-Math.floor(p),t=parseInt(q)+Math.floor(p);if(r<0){t+=Math.abs(r);r=0}if(t>i){r-=t-i;t=i}var o=1;while(o<=i){var w=o*c.totalPerPage-c.totalPerPage;if(r>1&&o==r){v+="..."}if(o==1||o==i||(o>r&&o<t)){v+='<a class="pageLink page'+o+'" href="'+c.ajaxUrl+"?"+c.sku+"&startIndex="+w+'">'+o+"</a> "}if(t<i-1&&o==t){v+=" of "}o++}}else{var u=0;while(i>u){var w=u*c.totalPerPage;v+='<a class="pageLink page'+(u+1)+'" href="'+c.ajaxUrl+"?"+c.sku+"&startIndex="+w+'">'+(u+1)+"</a> ";u++}}v+='<a class="next_link" href="#">Next</a>';a(c.container).html(v);a(c.container+" a.page"+s).addClass("pageSelected");a(c.container+" a.pageSelected").html()==i?a(c.container+" a.next_link").addClass("disabled"):a(c.container+" a.next_link").removeClass("disabled");a(c.container+" a.pageSelected").html()==1?a(c.container+" a.previous_link").addClass("disabled"):a(c.container+" a.previous_link").removeClass("disabled");var l=a(c.container+" a.pageSelected").attr("href");if(c.type=="reviews"){var n=c.getReviewParams();n!=undefined?l=l+"&akcache=true&"+n:l=l+"&akcache=true"}h++;if(h>1){d(l,s)}};loadNav(1);a(c.container+" a.pageLink").off();a(document).on("click",c.container+" a.pageLink",function(n){n.preventDefault();if(!a(this).hasClass("selected")){var l=a(this),m=parseInt(l.html());a(c.container+" a.selected").removeClass("selected");a(c.currentPage).val(m);loadNav(m,l)}return false});function k(o,n){o.preventDefault();var l=parseInt(a(c.currentPage).val())-1;if(a(c.container+" a.selected").prev(".pageLink").length){var m=a(this);a(c.currentPage).val(l);loadNav(l,m)}return false}a(c.container+" a.previous_link").off();a(document).on("click",c.container+" a.previous_link",function(n){n.preventDefault();var l=parseInt(a(c.currentPage).val())-1;if(a(c.container+" a.pageSelected").prev(".pageLink").length){var m=a(this);a(c.currentPage).val(l);loadNav(l,m)}return false});a(c.container+" a.next_link").off();a(document).on("click",c.container+" a.next_link",function(n){n.preventDefault();var l=parseInt(a(c.currentPage).val())+1;if(a(c.container+" a.pageSelected").next(".pageLink").length){var m=a(this);a(c.currentPage).val(l);loadNav(l,m)}return false})})}})(jQuery);(function(b){var a={container:"#someContainer",type:"GET",elType:"replaceContent",filter:"false",clickCallback:function(){},successCallback:function(){},dataCallback:function(){},loadingGIF:pageData.styleStaticContentUrl+"/img/brand/m123/cmn/new_lrg.gif"+pageData.versionParam,opacityClass:"ajaxOverlay",loadingClass:"lgLoaderGif",errorMessage:"This service is not currently available"};b.fn.reviewControls=function(e){e=b.extend({},a,e);var d=b(this);function h(i){if(e.elType=="replaceContent"){b(e.container).html(i);b(e.container).removeClass(e.opacityClass);b("."+e.loadingClass).remove()}e.successCallback()}function c(i){if(e.elType=="replaceContent"){b(e.container).html("<p>"+e.errorMessage+"</p>")}}function g(i,j){f(i,j)}function f(i,j){container=b(e.container);container.ajaxTransition({ajaxCallback:function(k){b.ajax({url:i,type:e.type,data:j,success:function(l){h(l);b.ajaxTransition.postAjaxCall(k)},error:function(l){c(l);b.ajaxTransition.postAjaxCall(k)}})}})}if(e.filter=="true"){b(document).on("change",d.selector,function(l){if(!b(e.container).hasClass(e.opacityClass)){var i=b(this),k=e.clickCallback(i),j=e.dataCallback(i);g(k,j)}return false})}else{b(document).on("click",d.selector,function(l){l.preventDefault();if(!b(e.container).hasClass(e.opacityClass)){var i=b(this),k=e.clickCallback(i),j=e.dataCallback(i);g(k,j)}return false})}}})(jQuery);function syncSorters(d){var c=$("#topSorter"),e=$("#bottomSorter"),b=$("#topSorter li"),a=$("#bottomSorter li");d.parent().parent().attr("id")=="topSorter"?e.empty().html(b.clone("true")):c.empty().html(a.clone("true"))}function syncFilters(c){var a=$("#btmFilterBy"),b=$("#topFilterBy");c.attr("id")=="topFilterBy"?a.val(c.val()):b.val(c.val())}function sortController(c,b){var d,a;if(c.hasClass("sortSelect")){if(c.hasClass("sortToggle")){c.removeClass("sortToggle");syncSorters(c);d=b+"&rankType=asc"}else{c.addClass("sortToggle");syncSorters(c);d=b+"&rankType=desc"}}else{$(".sortSelect").removeClass("sortSelect");$(".sortToggle").removeClass("sortToggle");c.addClass("sortSelect");syncSorters(c);d=b+"&rankType=asc"}if($("#topFilterBy :selected").val()!=="all"){var e=$("#topFilterBy :selected").val();a="&docType="+e;return d+a}else{return d}}(function(b){var a={elType:"h4",page:"default",clickCallback:function(){}};b.fn.accordion=function(d){d=b.extend({},a,d);var c=b(this);var e=d.page;function g(){}b(d.elType,this).each(function(){var h=b(this);if(h.attr("hasAccordian")){return false}h.attr("hasAccordian",1);h.bind("click",function(){var i=b(this);if(i.hasClass("active")){f()}else{f();i.next().removeClass("activeContainer").slideDown("fast",function(){g()});i.addClass("active");d.clickCallback()}})});switch(e){case"buildKit":if(b("#warrantyDecline").length){b("#warrantyDecline").removeAttr("checked")}b(".accordionContent .submit").bind("click",function(k){k.preventDefault();var n=b(this).html();var j=parseFloat(b.trim(b(this).parent().parent().prev().attr("class").replace("active","").replace("item","")));var h=j+1;var l=j-1;var o="h4.item"+h;var p="div.item"+h;var m="h4.item"+l;var i="div.item"+l;if(n=="Next"){f();b(o).addClass("active");b(p).slideDown("fast")}else{if(n=="Previous"){f();b(m).addClass("active");b(i).slideDown("fast")}else{f()}}});break;case"pdReviews":b(c).find("h2:eq(0)").addClass("active");b(c).find(d.elType+":not(.active)").next().hide();break}function f(){b(".active").next().slideUp("fast");b(d.elType+".active").removeClass("active")}}})(jQuery);(function(b){var a={className:".loadJive",processingFunction:function(){},errorMessage:"This service is not currently available"};b.fn.jiveLoader=function(e){e=b.extend({},a,e);var c=b(this),g=c.find(e.className),f=b(g),d=f.length-1;function i(j,l,k){j.html(l);if(k==d){g.show()}}function h(j,k,l){b.ajax({url:k,success:function(m){i(j,m,l);e.processingFunction.call(this)},error:function(m){j.html("<p>"+e.errorMessage+"</p>")}})}f.each(function(l){var j=b(this);if(j.find(".chromeContent").length){j=j.find(".chromeContent").eq(0)}if(j.children("a").length){var k=j.children("a").attr("href");h(j,k,l)}})}})(jQuery);function additionalSortParams(){var c,b,a;$("#topSorter a").each(function(){var e=$(this);if(e.hasClass("sortSelect")){var g=getUrlVars(e)["rankBy"],f;e.hasClass("sortToggle")?f="&rankType=desc":f="&rankType=asc";a=g+f}});if($("#topFilterBy :selected").val()!=="all"){var d=$("#topFilterBy :selected").val();b="docType="+d;if($("#topSorter a").hasClass("sortSelect")||$("#topSorter a").hasClass("sortSelect")){c="rankBy="+a+"&"+b}else{c=b}}else{if($("#topSorter a").hasClass("sortSelect")||$("#topSorter a").hasClass("sortSelect")){c="rankBy="+a}}return c}var staticpowerReviewsURL=pageData.powerReviewsUrl;var staticURLSiteFolder="";if(pageData.siteName=="/m123"){staticURLSiteFolder="m123pwr"}else{if(pageData.siteName=="/mf"){staticURLSiteFolder="mfpwr"}else{clog("No website")}}var fullURL=staticpowerReviewsURL+staticURLSiteFolder+"/engine/pr_styles_review.css";$("<link/>",{rel:"stylesheet",type:"text/css",href:fullURL}).appendTo("head");$("<link/>",{rel:"stylesheet",type:"text/css",href:pageData.styleStaticContentUrl+"/cmn/brand"+pageData.siteName+"/productionCss/pr_override.css"+pageData.versionParam}).appendTo("head");function convertStarRating(){var a=parseInt($("span.overallRatingNumber").html());$("span.overallRatingNumber").addClass("jiveStar_rating"+a).html("").show()}function processReviewForm(e){var d=e.closest(".productReviewBody").find("p.helpful span"),f=parseInt(d.eq(0).html()),c=parseInt(d.eq(1).html()),b=e.parent().children("var.reviewIdHidden").html(),a;if(e.html()=="yes"){a=1;d.eq(0).html(f+1);d.eq(1).html(c+1)}else{a=-1;d.eq(1).html(c+1)}e.parent().hide().html("Thank you for rating this review").fadeIn();$("#contentId").val(b);$("#vote").val(a)}$("p.rateReview a").reviewControls({elType:"markReview",container:"#reviewsContent",type:"POST",clickCallback:function(a){processReviewForm(a);path=$("#markHelpful").attr("action");return path},dataCallback:function(a){formData=$("#markHelpful").serialize();return formData}});$("#customerReviews .reviewOptionBar a, .customerReviews a").click(function(a){a.stopPropagation();$("li.customerReviews a").addClass("selected");$("li.hcReviews a").removeClass("selected");$("#reviewsContent").addClass("hidden");$("#reviewsContentPowerReviews").removeClass("hidden");return false});$(".hcReviews a").reviewControls({container:"#reviewsContent",clickCallback:function(b){var a=b.attr("href");return a},successCallback:function(){$("li.customerReviews a").removeClass("selected");$("li.hcReviews a").addClass("selected");$("#reviewsContent").removeClass("hidden");$("#reviewsContentPowerReviews").addClass("hidden")}});$("#hcReviews .reviewOptionBar a").reviewControls({container:"#hcReviewContainer",clickCallback:function(b){var a=b.attr("href");path=sortController(b,a);return path},successCallback:function(){prodDetailTabsCallbacks("hcReviews")}});