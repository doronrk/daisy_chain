function SliSpark(W,S){var H=undefined,L=W,O=S,w=H,c=H,U=H,z=H,B=H,a=H,r=H,l=H,I=[],v=window.location.protocol,M=H,K=H,q=H,o=1,X=0,V="",ab=0,ag=new Date().getTime(),P=H,u=0,A=H,k=[],f=H,ae=H,D=H,p="SLIBeacon",N="SLI1",J="SLI2",F="SLI4",m=false,R=63072000,Q=15552000,h=43200,i=1800,C=0,j=0,G="b.sli-spark.com/b.png?",t="SLIData",af=false,b=H;function e(ah){return encodeURIComponent(ah)}function T(ai,ak,aj,al){if(af){ak="";aj=0}var an=H,ah=";",am=H;if(aj>=0){an=new Date();an.setSeconds(aj);ah="; expires="+an.toGMTString()}am=ai+"="+ak+ah+"; path="+al+f;document.cookie=am;return am}function n(ah,aj,ai,ak){T(ah+ae,"",0,ak);ah+=D;return T(ah,aj,ai,ak)}function x(al,ah){al+=ah;var ak=H;var ai=new RegExp(al+"\\s*=\\s*([^\\s;$]*)\\s*(?:;|$)","g");var aj=ai.exec(document.cookie);if(aj===null){return ak}ak=aj[1];return ak}function s(ai){var ah=x(ai,D);if(ah){return ah}ah=x(ai,ae);if(ah){T(ai+ae,"",0,"/");return ah}return H}function ad(ai){var aj="";for(var ah=0;ah<9;ah++){aj+=String.fromCharCode(65+Math.round(Math.random()*25))}aj+=(ai);for(ah=0;ah<9;ah++){aj+=String.fromCharCode(65+Math.round(Math.random()*25))}return aj}var aa=function Y(am,ak,aj,ah,ai){this.transactionId=am;this.systemUserId=ak;this.orderTotal=aj;this.shippingTotal=ah;this.taxTotal=ai;this.items=[];var al=function(ap,ao,an){this.sku=ap;this.qty=ao;this.total=an;this.toString=function(){return"("+e(this.sku)+"|"+e(this.qty)+"|"+e(this.total)+")"}};this.addItem=function(aq,ap,ao){var an=new al(aq,ap,ao);this.items.push(an)}};function Z(){m=true;if(f===H){E()}b=x(t,"");if(b==="0"){af=true;n(p,"",0,"/");n(N,"",0,"/");n(J,"",0,"/");n(F,"",0,"/")}q=s(p);var ao=/\W/;if(q!==H&&ao.test(q)){q=ad(ag)}var al=s(J),ap=s(N),an,aj=H;if(ap&&al&&q){an=ap.split(".");if(an.length===3){V=an[0];o=parseInt(an[1],10)+1;ab=an[2]}else{if(an.length===4){aj=an[0];V=an[1];o=parseInt(an[2],10)+1;ab=an[3]}}if((ag-(h*1000))>V){V=ag;o=1;ab=0}}else{if(q&&ap){an=ap.split(".");if(an.length===4){aj=an[0]}V=ag;o=1;ab=0}else{if(q&&al){an=al.split(".");if(an.length===4){aj=an[0]}V=ag;o=1;ab=0}else{if(al){u|=2;an=al.split(".");if(an.length===3){V=an[0];o=parseInt(an[1],10)+1;ab=an[2]}else{if(an.length===4){aj=an[0];V=an[1];o=parseInt(an[2],10)+1;ab=an[3]}}if((ag-(h*1000))>V){V=ag;o=1;ab=0}}else{V=ag;o=1;ab=0}}}}if(q===H){q=ad(ag)}n(p,q,R,"/");A=q+"."+V+"."+o+"."+ab;n(N,A,i,"/");n(J,A,-1,"/");var ai=s(J),ak=s(N);if(ai===H){u|=1}if(ak===H){u|=2}P=s(F);if(P===H){P=0}try{M=top.document.referrer}catch(am){try{M=document.referrer}catch(ah){M=H}}}this.addTransaction=function(al,ak,aj,ah,ai){K=new aa(al,ak,aj,ah,ai)};this.addItem=function(aj,ai,ah){if(K!==H){K.addItem(aj,ai,ah)}};this.addSearch=function(ak,aj,ah,al,ai){if(!m){Z()}else{o+=1}U=ak;a=aj;B=ah;r=al;if(ai){l=ai}ab=parseInt(ab,10)+1;A=q+"."+V+"."+o+"."+ab;P=ag;n(N,A,i,"/");n(J,A,-1,"/");n(F,ag,Q,"/")};this.setPageType=function(ah){z=ah};this.setLocation=function(ah){w=ah};this.addPageSku=function(ah){I.push(e(ah))};this.setSystemUserId=function(ah){c=ah};this.setCookieDomain=function(ah){if(ah.substring(0,1)!=="."){ah="."+ah}f="; domain="+ah;ae=d(subDomain);D=g(subDomain)};this.addCustomField=function(ai,ah){var aj=[ai,ah];if(j){k=[];j=0}k.push(aj)};this.writeTrackCode=function(){ac("pageview")};this.writeEventCode=function(){ac("event")};function ac(aj){if(!m){Z()}X+=1;var ai=G,am,ak;am="logtype="+e(aj);am+="&custCode="+e(L);am+="&siteId="+e(O);am+="&sessionId="+e(A);am+="&eventCount="+e(X);am+="&lastVisit="+e(V);if(P){am+="&lastSearch="+e(P)}if(w){am+="&location="+e(w)}if(c){am+="&systemUserId="+e(c)}if(U){am+="&searchTerm="+e(U)}if(z){am+="&pageType="+e(z)}if(B){am+="&searchPageNumber="+e(B)}if(a){am+="&numberSearchResults="+e(a)}if(r){am+="&searchRefinements="+e(r)}if(l){am+="&sort="+e(l)}if(M){am+="&referrer="+e(M)}if(u){am+="&bcf="+e(u)}if(I.length){am+="&sku="+e(I.join(";"));I=[]}y();if(k.length){var al="";for(ak=0;ak<k.length;ak++){var ah="("+e(k[ak][0])+":"+e(k[ak][1])+")";al+=(ak>0)?";"+ah:ah}am+="&customFields=u"+e(al);j=1}if(b!==H){am+="&p="+e(b)}var an=new Image(1,1);an.src=v+"//"+ai+am;an.onload=function(){}}this.writeTransactionCode=function(){if(!m){Z()}X+=1;var ai=G,al="logtype=transaction";al+="&custCode="+e(L);al+="&siteId="+e(O);al+="&transactionId="+e(K.transactionId);al+="&systemUserId="+e(K.systemUserId);al+="&orderTotal="+e(K.orderTotal);al+="&shippingTotal="+e(K.shippingTotal);al+="&taxTotal="+e(K.taxTotal);al+="&sessionId="+e(A);al+="&eventCount="+e(X);al+="&lastVisit="+e(V);if(P){al+="&lastSearch="+e(P)}if(u){al+="&bcf="+e(u)}if(K.items.length){var an="";for(var aj=0;aj<K.items.length;aj++){an+=(aj>0)?";"+K.items[aj].toString():K.items[aj].toString()}al+="&items=u"+e(an)}if(k.length){var ak="";for(aj=0;aj<k.length;aj++){var ah="("+e(k[aj][0])+":"+e(k[aj][1])+")";ak+=(aj>0)?";"+ah:ah}al+="&customFields=u"+e(ak);j=1}if(b!==H){al+="&p="+e(b)}var am=new Image(1,1);am.src=v+"//"+ai+al;am.onload=function(){}};function d(ak){var ai=0;for(var ah=0,aj=ak.length;ah<aj;ah++){ai=(ai>>2)^ak.charCodeAt(ah)}return"_"+ai}function g(al){var aj=65535,ah=65535;for(var ai=0,ak=al.length;ai<ak;ai++){ah+=aj+=al.charCodeAt(ai)}aj=(aj&65535)+(aj>>16);ah=(ah&65535)+(ah>>16);return"_"+Math.abs(ah<<16|aj)}function E(){var ak=document.domain.split(".");var aj=ak[ak.length-1];var ai="sli_domain_locator";for(var ah=ak.length-2;ah>=0;ah--){aj=ak[ah]+"."+aj;ae=d(aj);D=g(aj);f="; domain="+aj;n(ai,"s",-1,"/");if(s(ai)!==H){n(ai,"s",0,"/");return f}}f="; domain="+document.domain;ae=d(aj);D=g(aj)}function y(){var ai=0,ah=0;if(typeof(window.innerWidth)=="number"){ah=window.innerHeight;ai=window.innerWidth}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){ah=document.documentElement.clientHeight;ai=document.documentElement.clientWidth}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){ah=document.body.clientHeight;ai=document.body.clientWidth}}}k.push(["_win",ai+"x"+ah]);if(window.screen){k.push(["_res",screen.width+"x"+screen.height])}}};