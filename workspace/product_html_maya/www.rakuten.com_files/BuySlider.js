/*
 BuySlider
 Copyright (c) 2011 Buy.com Inc.
*/
(function(b){b.fn.BuySlider=function(a){a=b.extend({},b.fn.BuySlider.defaultOpts,a||{});return this.each(function(){function u(){l&&clearTimeout(l);a.auto&&(l=setInterval(function(){m(c+d)},a.auto+a.speed))}function m(f){for(var b=0,e=r.length;b<e;b++)r[b].call(this,c);a.loop?0>f?f=0<c?0:g-d:f>g-d&&(f=c>=g-d?0:g-d):0>f?f=0:f>g-d&&(f=g-d);if(c!=f&&0==h.queue("fx").length)c=f,h.stop(!0,!1),a.moveType&&"scroll"==a.moveType?h.animate(!a.vertical?{left:-(c*j)}:{top:-(c*j)},a.speed,a.easing,function(){for(var a=
0,b=i.length;a<b;a++)i[a].call(this,c)}):h.hide().animate(!a.vertical?{left:-(c*j)}:{top:-(c*j)},1,a.easing,function(){h.fadeIn("slow");for(var a=0,b=i.length;a<b;a++)i[a].call(this,c)}),s();else{b=0;for(e=i.length;b<e;b++)i[b].call(this,c)}return!1}function s(){a.loop||(0==c?n.addClass("disabled"):n.removeClass("disabled"),c>=g-d?o.addClass("disabled"):o.removeClass("disabled"))}var r=[],i=[];a.beforeStart&&r.push(a.beforeStart);a.afterEnd&&i.push(a.afterEnd);var l=null,e=b(this),h=e.children("ul"),
k=h.children("li"),g=k.size(),d=a.numberSlidesVisible,c=a.start>=g?g-1:a.start,t=a.vertical?"height":"width",p=e.find(a.switcher);if(p.length){var q=p.children("ul").children("li");q.eq(c).addClass("active");i.push(function(a){q.filter(".active").removeClass("active");q.eq(a).addClass("active")});q.click(function(){m(b(this).index());return!1})}k.css({overflow:"hidden","float":a.vertical?"none":"left"});a.vertical||h.append('<div class="clear"></div>');h.css({margin:"0",padding:"0",position:"relative",
"list-style-type":"none","z-index":"1"});e.css({visibility:"visible",overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var j=a.vertical?k.outerHeight(!0):k.outerWidth(!0),p=j*g;k.css({width:k.width(),height:k.height()});h.css(t,p+"px").css(a.vertical?"top":"left",-(c*j));e.css(t,j*d+"px");var n=b(a.prev),o=b(a.next);1<n.length&&(n=e.find(a.prev));1<o.length&&(o=e.find(a.next));n.click(function(){m(c-d);return!1});o.click(function(){m(c+d);return!1});s();a.auto&&(l=setInterval(function(){m(c+
d)},a.auto+a.speed));a.pauseIn&&e.mouseenter(function(){l&&clearTimeout(l)}).mouseleave(function(){return u()})})};b.fn.BuySlider.defaultOpts={prev:null,next:null,auto:null,switcher:null,speed:200,easing:null,pauseIn:null,moveType:null,vertical:!1,loop:!0,numberSlidesVisible:3,start:0,beforeStart:null,afterEnd:null}})(jQuery);