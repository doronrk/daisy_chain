define(["logger"],function(e){var r=function(){return new Date};var t=function(e){return a(e,r())};var n=function(e,t,n){var i=n||r();i.setDate(i.getDate()+t);return a(e,i)};var a=function(e,r){var t=r||new Date;var n=t.getDate();var a=t.getMonth()+1;var o=t.getFullYear();var u=t.getHours();var v=i(u);var s=t.getMinutes();var c=u+":"+s;var m=f(c,"12");var l=m.substr(m.length-2).toUpperCase();return e.replace(/dd|m(m)?|yy(yy)?|h(h)?|a/g,function(e){switch(e){case"dd":return n<10?"0"+n:""+n;case"mm":return a<10?"0"+a:""+a;case"yy":return(""+o).substring(2,4);case"yyyy":return""+o;case"h":return""+v;case"hh":return""+u;case"m":return""+s;case"a":return""+l;default:return""}})};var i=function(e){return e.toString().replace(/^(\d{1,2})/,function(e){e=parseInt(e,10);if(e>12){return u(e-12)}return u(e)})};var o=function(e,r,t){var n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i="",o="",u="",v="",s="",c="";if(e){c=e.split("-");if(c[0].indexOf("*")!==-1){e="Closed";s=""}else{o=new Date(c[0],c[1]-1,c[2]);i=o.getDate();u=o.getDay();v=o.getMonth();if(r===""&&t===""||(r===""||t==="")){e="Not Available";s=""}else if(r.indexOf("*")!==-1&&t.indexOf("*")!==-1||(r.indexOf("*")!==-1||t.indexOf("*")!==-1)){e=n[u]+", "+a[v]+" "+i;s=": Closed"}else{e=n[u]+", "+a[v]+" "+i;s=": "+f(r,"12")+" - "+f(t,"12")}}}else{e="Not Available";s=""}return"<b>"+e+"</b>"+s};var f=function(e,r){var t=[];if(r==="12"){var n="",a="",i="",o="";if(typeof e!=="string"){throw new Error("convertTimeFormat called without proper time")}t=e.split(":");if(t.length<1){throw new Error("convertTimeFormat called without proper time")}n=t[0];a=t[1];if(n>=12){i="pm";n=n%12}else{i="am"}if(n===0||n==="0"||n==="00"){n=12}o=":"+a;a=a>0?o:":00";t=n+a+i}else{if(typeof e!=="string"||e.length&&e.length===0){return e}var f=e.match(/^(\d+)/);var u=e.match(/:(\d+)/);var v=e.match(/[a-zA-Z]*$/);if(f){f=Number(f[1])}else{f=12}if(u){u=Number(u[1])}else{u=0}if(v){v=v[0].toLowerCase()}else{v="am"}if(v==="pm"&&f<12){f=f+12}if(v==="am"&&f===12){f=f-12}var s=f.toString();var c=u.toString();if(f<10){s="0"+s}if(u<10){c="0"+c}t=s+":"+c}return t};var u=function(e){e=parseInt(e,10);return e<10?"0"+e:""+e};var v=function(e,r){var t=new Date(r);var n=t.getTime()+t.getTimezoneOffset()*6e4;var i=new Date(n+36e5*e);return a("yyyy-mm-dd",i)};var s=function(r,t,n,i){var o="";try{var f="";var u="";var v="";if(n&&!window.isNaN(t)){var s=window.Number(t);v=new Date(s);u=s+v.getTimezoneOffset()*6e4}else{v=new Date(t);u=v.getTime()+v.getTimezoneOffset()*6e4}if(!window.isNaN(u)){f=new Date(u+36e5*r);if(i){o=a(i,f)}else{o=a("mm/dd/yy h:m a",f)}}}catch(c){e.error("Error converting the timezone to given offset: ",c)}return o};return{getToday:t,getDayAfter:n,formatDate:a,formatHours:i,convertTimeFormat:f,padZero:u,convertDateFormat:o,convertTimeZone:v,convertToTimeZoneGivenOffset:s}});