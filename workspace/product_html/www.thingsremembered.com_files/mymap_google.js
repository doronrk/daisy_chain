var map = null;var geo = null;var overlayControl = null;var overlayMap = null;var infoWindow = null;var MYMODE_MAP = google.maps.MapTypeId.ROADMAP;var MYMODE_SATELLITE = google.maps.MapTypeId.SATELLITE;var MYMODE_MIXTE = google.maps.MapTypeId.HYBRID;var MYMARKER_TYPE1 = null;var MYMARKER_TYPE2 = null;var MYMARKER_SHADOW = null;function MyMapInitialize(mapname, lat, lng, zoom, mode) {	var latlng = new google.maps.LatLng(lat, lng);	var myOptions = {		zoom: zoom,		center: latlng,		mapTypeId: mode,		mapTypeControl: true,		navigationControl: true	};	map = new google.maps.Map(document.getElementById(mapname), myOptions);	geo = new google.maps.Geocoder();			infoWindow = new google.maps.InfoWindow();			google.maps.event.addListener(map, 'click', MyMapCloseWindow);		overlayMap = new google.maps.Map(		document.getElementById('overlay_map'), {		mapTypeId: google.maps.MapTypeId.ROADMAP,		center: latlng,		zoom: zoom -3,		mapTypeControl: false,		navigationControl: false	});			google.maps.event.addListener(map, 'zoom_changed', function() {		var newZoom = Math.max(map.getZoom() - 3, 0);		if (overlayMap.getZoom() != newZoom) {			overlayMap.setZoom(newZoom);		}	});	google.maps.event.addListener(overlayMap, 'zoom_changed', function() {		var newZoom = overlayMap.getZoom() + 3;		if (map.getZoom() != newZoom) {			map.setZoom(newZoom);		}	});		overlayMap.bindTo('center', map, 'center');		var overDiv = overlayMap.getDiv();	map.getDiv().appendChild(overDiv);	overlayMap.getDiv().style.display = 'block';	google.maps.event.addListener(overlayMap, 'idle', function() {	  overlayMap.getDiv().style.zIndex = 10;	});	MYMARKER_SHADOW = new google.maps.MarkerImage('http://www.google.com/intl/en_us/mapfiles/arrowshadow.png',		new google.maps.Size(37, 34),		new google.maps.Point(0, 0),		new google.maps.Point(9, 34)	);	MYMARKER_TYPE1 = new google.maps.MarkerImage('/assets/images/storelocator/pin.gif',		new google.maps.Size(34, 34),		new google.maps.Point(0, 0),		new google.maps.Point(9, 34)	);	MYMARKER_TYPE2 = new google.maps.MarkerImage('http://maps.google.com/mapfiles/arrow.png',		new google.maps.Size(20, 34),		new google.maps.Point(0, 0),		new google.maps.Point(9, 34)	);		MYMARKER_TYPE_SAVED = new google.maps.MarkerImage('http://www.google.com/mapfiles/dd-start.png',			new google.maps.Size(20, 34),			new google.maps.Point(0, 0),			new google.maps.Point(9, 34)		);}function MyMapTerminate() {}function MyMapAddMarker(lat, lng, markertype, info){	var newMarker = new google.maps.Marker({		position: new google.maps.LatLng(lat, lng),		shadow: MYMARKER_SHADOW,		icon: markertype,		animation: google.maps.Animation.DROP	});	newMarker.setMap(map);	if (info != null) {		google.maps.event.addListener(newMarker, 'click', function() {			MyMapOpenWindow(newMarker, info);		});	}	return newMarker;}function MyMapRemoveMarker(marker){	marker.setMap(null);}function MyMapOpenWindow(marker, info){	if (info != null) {		infoWindow.setContent(info);		infoWindow.open(map, marker);	}}function MyMapCloseWindow(){	infoWindow.close();}function MyMapGoto(lat, lng) {	map.panTo(new google.maps.LatLng(lat, lng));}function MyMapSetZoom(zoom) {	map.setZoom(zoom);}function MyMapPoint() {	this.lat = 0;	this.lng = 0;}function MyMapGeocode(address, callback) {	if (geo == null) {		geo = new google.maps.Geocoder();	}		geo.geocode({'address': address}, function(results, status) {		if (status == google.maps.GeocoderStatus.OK) {			var res = new MyMapPoint();			res.lat = results[0].geometry.location.lat();			res.lng = results[0].geometry.location.lng();			callback(res);		}		else {			callback(null);		}	});}