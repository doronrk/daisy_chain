/* Script imported from http://www.allenedmonds.com/wcsstore/AllenEdmonds/javascript/CatalogArea/AEProductDisplay.js */
function setAttributes(formName,elementName,selectedValue){var selectedControl=document.forms[formName].elements[elementName];if(selectedValue==""&&elementName!="attStyle"){for(i=0;i<selectedControl.length;i++){if(selectedControl.options[i].value==""){selectedControl.options[i].selected=true;break;}}return;}if(elementName=="attStyle"){if(dojo.byId("attStyle").type=="hidden"){dojo.forEach(dojo.query("#colorSwatchImage_*"),function(elementName){elementName.className="swatchSelect show";});}else{for(i=0;i<selectedControl.length;i++){if(selectedControl.options[i].value==selectedValue){selectedControl.options[i].selected=true;}}}}else{if(elementName=="attWidth"){for(i=0;i<selectedControl.length;i++){if(selectedControl.options[i].value==widthLookupByAliasMap.get(selectedValue)){selectedControl.options[i].selected=true;}}}else{for(i=0;i<selectedControl.length;i++){if(selectedControl.options[i].value==selectedValue){selectedControl.options[i].selected=true;}}}}}function getWidthAlias(widthValue){for(i=0;i<widthLookupByAliasMap.size();i++){var keyValue=widthLookupByAliasMap.keyAt(i);var entryValue=widthLookupByAliasMap.get(keyValue);if(entryValue==widthValue){return keyValue;}}}function reloadList(valueMap,selectList,selectedValue,isShoe){reloadList(valueMap,selectList,selectedValue,isShoe,"");}function reloadList(valueMap,selectList,selectedValue,isShoe,attributeIndicator){if(selectList.id=="attStyle"&&selectList.type=="hidden"){dojo.query(".swatchSelected",document).forEach(function(node){if(selectList.value!=undefined&&"swatchImage_"+selectList.value==node.id){node.className="swatchSelected swatchImg";}else{node.className="swatchUnSelected swatchImg";}});}var i;var colorSwatchLabelInfo=dojo.byId("colorSwatchLabelInfo");for(i=0;i<valueMap.size();i++){var keyValue=valueMap.keyAt(i);if(selectList.id=="attWidth"){selectList.options[i]=new Option(getWidthAlias(valueMap.get(keyValue)),keyValue,false,selectedValue==keyValue);}else{if(selectList.id=="attStyle"&&selectList.type=="hidden"){if(attributeIndicator=="4"){var tmpKyVal=keyValue;for(j=0;j<itemArray.length;j++){var itemData=itemArray[j];if(itemData.stysq==tmpKyVal){keyValue=itemData.sn;}}}colorSwatchLabelInfo.innerHTML=(styleInfoMap.get(selectList.value)).desc;dojo.byId("swatchImage_"+keyValue).title=(styleInfoMap.get(keyValue)).desc;dojo.byId("swatchImage_"+keyValue).alt=(styleInfoMap.get(keyValue)).desc;}else{selectList.options[i]=new Option(valueMap.get(keyValue),keyValue,false,selectedValue==keyValue);}}}if(!(selectList.id=="attStyle"&&selectList.type=="hidden")){for(i=selectList.options.length-1;i>=valueMap.size();i--){selectList.options[i]=null;}}if(isShoe||attributeIndicator=="7"||attributeIndicator=="2"||attributeIndicator=="9"||attributeIndicator=="6"||attributeIndicator=="3"||attributeIndicator=="4"||attributeIndicator=="8"){var label="";if(selectList.name=="attStyle"){label=MessageHelper.messages["STYLE"];}else{if(selectList.name=="attSize"){label=MessageHelper.messages["SIZE"];}else{label=MessageHelper.messages["WIDTH"];}}if(!(selectList.id=="attStyle"&&selectList.type=="hidden")&&(isShoe)){if(selectedValue==""){selectList.options[selectList.options.length]=new Option(label,"",false,true);}else{if(selectList.id!="attStyle"){selectList.options[selectList.options.length]=new Option(label,"",false,false);}}}else{if((selectList.id=="attStyle"&&attributeIndicator=="4")){var labelText="";if(selectList.type!="hidden"){selectedValue="";if(dojo.byId("styleLabel")!=null){labelText=dojo.byId("styleLabel").value;if(labelText!=null&&labelText!=undefined&&labelText!=""){label=labelText;}}}if(selectedValue==""){selectList.options[selectList.options.length]=new Option(label,"",false,true);}}else{if((selectList.id=="attSize"&&attributeIndicator=="2")){selectedValue="";if(selectedValue==""){selectList.options[selectList.options.length]=new Option(label,"",false,true);}}else{if(attributeIndicator=="7"){if(selectList.id!="attStyle"){if(selectList.id=="attSize"){label=dojo.byId("sizeLabel").value;selectList.options[selectList.options.length]=new Option(label,"",false,false);}else{label=dojo.byId("widthLabel").value;selectList.options[selectList.options.length]=new Option(label,"",false,false);}}}else{if(attributeIndicator=="8"){if(selectList.id!="attStyle"){if(selectList.id=="attSize"){label=dojo.byId("sizeLabel").value;selectList.options[selectList.options.length]=new Option(label,"",false,false);}else{label=dojo.byId("widthLabel").value;selectList.options[selectList.options.length]=new Option(label,"",false,false);}}}else{if(attributeIndicator=="9"){selectedValue="";if(selectList.id=="attSize"){label=dojo.byId("sizeLabel").value;selectList.options[selectList.options.length]=new Option(label,"",false,true);}}else{if((selectList.id=="attSize"&&attributeIndicator=="6")){selectedValue="";label=dojo.byId("sizeLabel").value;if(selectedValue==""){selectList.options[selectList.options.length]=new Option(label,"",false,true);}}}}}}}}}if(!(selectList.id=="attStyle"&&selectList.type=="hidden")){for(i=0;i<selectList.options.length;i++){if(selectList.options[i].value==selectedValue){selectList.options[i].selected=true;}else{selectList.options[i].selected=false;}}}}var previousSelected=new Array();function setPreviousSelected(listName){for(var i=0;i<previousSelected.length;i++){if(previousSelected[i]==listName){return;}}if(previousSelected.length>1){previousSelected.pop();}previousSelected.unshift(listName);}function wasPreviousSelected(listName){var results=false;for(var i=0;i<previousSelected.length;i++){if(previousSelected[i]==listName){results=true;break;}}return results;}function getSelectedItem(selectList){if(selectList.type=="hidden"&&selectList.id=="attStyle"){return selectList.value;}if(selectList.selectedIndex==undefined||selectList.selectedIndex==null||selectList.selectedIndex<0){return null;}var selectedValue=selectList.options[selectList.selectedIndex];if(selectedValue!=null&&selectedValue!=undefined){selectedValue=selectedValue.value;}else{selectedValue=null;}return selectedValue;}function selectSize(selectList){selectListItem(selectList);}function selectWidth(selectList){selectListItem(selectList);}function switchImg(i){document.images["itemFullImage"].src=i;}function listReset(){disableAccessories();initSelectLists();}function openSole(ID,storeid,langid,catalogid){var URL="SoleImageView?storeId="+storeid+"&langId="+langid+"&catalogId="+catalogid+"&soleId="+ID;window.open(URL,"_blank","height=350,width=200,directories=no,location=no,menubar=no,resizeable=no,scrollbars=no,status=no,toolbar=no");}function setCatEntry(field){var num=field.name.substring(field.name.indexOf("_")+1);var index=field.selectedIndex;var catEntry=field.options[index].value;var oc="acc_catEntryId_"+num;var fc=document.getElementById(oc);fc.value=catEntry;}function setQuantity(num){return true;}function confirmPersonalization(){document.getElementById("personalizationConfirm_1").style.display="none";var popUpElement=document.getElementById("personalizationAtts_1");document.getElementById("errorPATxt").innerHTML="";popUpElement.style.display="block";}function confirmText(missingInfoTxt){var text1=document.forms["attrSelect"].custom_attribute1.value;var text2=document.forms["attrSelect"].custom_attribute2.value;if(text1==""&&text2==""){document.getElementById("errorPATxt").innerHTML=missingInfoTxt;return;}document.getElementById("personalizationAtts_1").style.display="none";var popUpElement=document.getElementById("personalizationConfirm_1");document.getElementById("cst_txt1_display").innerHTML=text1;document.getElementById("cst_txt2_display").innerHTML=text2;popUpElement.style.display="block";}function closeCSTPopUp(){document.getElementById("personalizationAtts_1").style.display="none";}function confirmGiftCardPersonalization(){document.getElementById("personalizationConfirm_1").style.display="none";document.getElementById("personalizationAtts_1").style.display="block";document.forms["attrSelect"].action="GiftOrderItemAdd";document.getElementById("personalizationAtts_1").style.width=305+"px";document.getElementById("personalizationAtts_1").style.height=205+"px";if(document.forms["attrSelect"].giftCardType.value=="Virtual"){document.getElementById("personalizationAtts_1").style.top=205+"px";document.getElementById("personalizationAtts_1").style.height=460+"px";}}function confirmGiftCardFields(missingInfoTxt){var gcType=document.forms["attrSelect"].giftCardType.value;var giftcardvalue=document.forms["attrSelect"].custom_giftCardAmount.value;var giversname="";var recipientsname="";var pin="";var giftmessage="";var quantity="";if(gcType=="Physical"){quantity=document.forms["attrSelect"].quantity.value;}else{if(gcType=="Virtual"){giversname=document.forms["attrSelect"].custom_giftCardGiversName.value;recipientsname=document.forms["attrSelect"].custom_giftCardRecipientsName.value;pin=document.forms["attrSelect"].custom_giftCardGiversEmail.value;giftmessage=document.forms["attrSelect"].custom_giftCardMessage.value;quantity="1";}}var errorMessage="Please correct the following";var errorBoolean=false;if(gcType=="Virtual"&&giversname==""){errorMessage=errorMessage+"<br/> Givers Name";errorBoolean=true;}if(gcType=="Virtual"&&recipientsname==""){errorMessage=errorMessage+"<br/> Recipients Name";errorBoolean=true;}if(document.forms["attrSelect"].custom_giftCardRecipientsEmail!=null&&document.forms["attrSelect"].custom_giftCardRecipientsEmail!="undefined"){var recipientEmail=document.forms["attrSelect"].custom_giftCardRecipientsEmail.value;var recipientEmailConfirm=document.forms["attrSelect"].recipientEmailConfirm.value;if(recipientEmail==""||recipientEmail==null){errorMessage=errorMessage+"<br/> Recipients Email";errorBoolean=true;}else{if(!isValidEmail(recipientEmail)){errorMessage=errorMessage+"<br/> Valid Recipients EmailAddress";errorBoolean=true;}}if(recipientEmailConfirm==""||recipientEmailConfirm==null){errorMessage=errorMessage+"<br/> Recipients Email(confirm)";errorBoolean=true;}else{if(!isValidEmail(recipientEmailConfirm)){errorMessage=errorMessage+"<br/> Valid Recipients EmailAddress (confirm)";errorBoolean=true;}}if(recipientEmail!=recipientEmailConfirm){errorMessage=errorMessage+"<br/>Recipient Email and Recipients Email(confirm) should match";errorBoolean=true;}}if(quantity==""||quantity==null){errorMessage=errorMessage+"<br/> No Of Cards";errorBoolean=true;}else{if(!IsQuantity(quantity)){errorMessage=errorMessage+"<br/> Valid GiftCard Quantity";errorBoolean=true;}else{if(quantity>99){errorMessage=errorMessage+"<br/> GiftCard Quantity less than 100";errorBoolean=true;}else{if(quantity<1){errorMessage=errorMessage+"<br/> GiftCard Quantity 1 or greater";errorBoolean=true;}}}}if(giftcardvalue==""||giftcardvalue==null){errorMessage=errorMessage+"<br/> GiftCard Amount";errorBoolean=true;}else{if(!IsNumeric(giftcardvalue)){errorMessage=errorMessage+"<br/> Valid GiftCard Amount.";errorBoolean=true;}else{if(giftcardvalue>3000){errorMessage=errorMessage+"<br/> Valid GiftCard Amount ($3,000 or less)";errorBoolean=true;}else{if(giftcardvalue<1){errorMessage=errorMessage+"<br/> Valid GiftCard Amount ($1 or more)";errorBoolean=true;}}}}if(gcType=="Virtual"){if(giftmessage==""){errorMessage=errorMessage+"<br/>Gift Message ";}else{giftmessage=createWrappingGiftMessage(giftmessage);}}if(errorBoolean){document.getElementById("errorPATxt").innerHTML=errorMessage;return;}else{errorMessage="";document.getElementById("errorPATxt").innerHTML=errorMessage;}document.getElementById("personalizationAtts_1").style.display="none";if(gcType=="Virtual"){document.getElementById("giversName").innerHTML=giversname;document.getElementById("recipientsName").innerHTML=recipientsname;document.getElementById("pin").innerHTML=pin;document.getElementById("giftCardMessage").innerHTML=giftmessage;}if(gcType=="Physical"){document.getElementById("noOfCards").innerHTML=quantity;}document.getElementById("giftAmount").innerHTML=giftcardvalue;document.getElementById("giftCardAmount").value=giftcardvalue;if(document.forms["attrSelect"].custom_giftCardRecipientsEmail!=null){document.getElementById("recipientsEmail").innerHTML=recipientEmail;document.getElementById("recipientsEmailConfirm").innerHTML=recipientEmailConfirm;}document.getElementById("personalizationConfirm_1").style.display="block";document.getElementById("personalizationConfirm_1").style.height=205+"px";if(document.forms["attrSelect"].giftCardType.value=="Virtual"){document.getElementById("personalizationConfirm_1").style.top=205+"px";document.getElementById("personalizationConfirm_1").style.width=305+"px";document.getElementById("personalizationConfirm_1").style.height=380+"px";}}function createWrappingGiftMessage(giftMessage){var wrappingGiftMessage="";var messageTokenList=giftMessage.split(" ");for(i=0;i<messageTokenList.length;i++){var messageToken=messageTokenList[i];if(messageToken.length>25){wrappingGiftMessage+=splitToken(messageToken);}else{wrappingGiftMessage+=messageToken;}if(i!=messageTokenList.length-1){wrappingGiftMessage+=" ";}}return wrappingGiftMessage;}function splitToken(token){var wordBreak="";if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){wordBreak="<wbr/>";}else{if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){wordBreak="<wbr/>";}else{wordBreak="-";}}var finalString=token.substring(0,25);var tokenTail=token.substring(25);if(tokenTail.length>25){finalString=finalString+wordBreak+splitToken(tokenTail);}else{finalString=finalString+wordBreak+tokenTail;}return finalString;}function IsQuantity(sText){var ValidChars="0123456789";var IsNumber=true;var Char;for(i=0;i<sText.length&&IsNumber==true;i++){Char=sText.charAt(i);if(ValidChars.indexOf(Char)==-1){IsNumber=false;}}return IsNumber;}function IsNumeric(sText){var ValidChars="0123456789.";var IsNumber=true;var Char;for(i=0;i<sText.length&&IsNumber==true;i++){Char=sText.charAt(i);if(ValidChars.indexOf(Char)==-1){IsNumber=false;}}return IsNumber;}function isValidEmail(strEmail){var userPattern="([\\w\\$\\-\\.\\+\\!\\*'\\(\\),\\%&=~]+)";var hostNamePattern="(([a-zA-Z\\d]|([a-zA-Z\\d][a-zA-Z\\d\\-]*[a-zA-Z\\d]))\\.)+([a-zA-Z]|([a-zA-Z][a-zA-Z\\d\\-]*[a-zA-Z\\d]))";var ipHostPattern="(\\d{1,3})[\\.](\\d{1,3})[\\.](\\d{1,3})[\\.](\\d{1,3})";var portPattern=":\\d+";var singleEmailPattern=userPattern+"[@](("+hostNamePattern+")|("+ipHostPattern+"))("+portPattern+")?";var emailRegExp=new RegExp("^\\s*"+singleEmailPattern+"\\s*(,\\s*"+singleEmailPattern+")*\\s*$");return emailRegExp.test(strEmail);}function switchDetailedImg(i){document.images["itemDetailedImage"].src=i;}var pantLegZIndex=20;var shoeZIndex=18;var showOneOfManyShoes=new ShowOneOfMany(shoeZIndex);var showOneOfManyPantLegs=new ShowOneOfManyVertTransition();var setShoeStyleClass=new SetClassOneAtATime("seeWithPantsThumbSelected");var setPantLegThumbClass=new SetClassOneAtATime("seeWithPantsThumbSelected");var setPantLegSelectedStyleName=null;var setPantLegPantName=null;var seeWithPantStyleLookup={};var pantLegIdLastSelected=null;var pantLegLoaded=false;function changeSeeWithPantsStyle(swatchElement,style,styleName){setPantLegSelectedStyleName=styleName;showOneOfManyShoes.show("seeWithPantsShoeHolder_"+style,function(){setShoeStyleClass.setClass(swatchElement);changeSeeWithPantsPantName();});}function changeSeeWithPantsPant(pantSwatchElement,style,pantName){pantLegIdLastSelected=style;setPantLegPantName=pantName;showOneOfManyPantLegs.show("seeWithPantsPantLegImage_"+style,function(){setPantLegThumbClass.setClass(pantSwatchElement);changeSeeWithPantsPantName();});}function changeSeeWithPantsPantName(){var pantsName=setPantLegPantName;var styleName=setPantLegSelectedStyleName;var seeWithPantsNameShownWith=dojo.byId("seeWithPantsNameShownWith");var seeWithPantsPantsName=dojo.byId("seeWithPantsNameShownWithPantsName");var seeWithPantsStyleName=dojo.byId("seeWithPantsNameShownWithStyleName");if(pantsName!=null&&typeof pantsName!="undefined"&&pantsName.trim().length>0){dojo.style(seeWithPantsNameShownWith,"display","inline");seeWithPantsPantsName.innerHTML=pantsName.toLowerCase();if(setPantLegSelectedStyleName!=null&&typeof setPantLegSelectedStyleName!="undefined"&&setPantLegSelectedStyleName.trim().length>0){seeWithPantsStyleName.innerHTML=" "+setPantLegSelectedStyleName.toLowerCase()+" <br/>";}}else{dojo.style(seeWithPantsNameShownWith,"display","none");}}function initSeeWithPants(){var defaultShoeStyleId=getSelectedItem(dojo.byId("attStyle"));var defaultPantLegIdDiv=dojo.byId("defaultStyleId");var pantsLegDataDiv=dojo.byId("pantsLegData");if(!(defaultPantLegIdDiv&&defaultPantLegIdDiv)){return;}var defaultPantLegId=defaultPantLegIdDiv.innerHTML;if(pantLegIdLastSelected!=null){defaultPantLegId=pantLegIdLastSelected;}var seeWithPantStyleLookup=JSON.parse(pantsLegDataDiv.innerHTML);var styleLookupObject=seeWithPantStyleLookup[defaultShoeStyleId];var defaultStyleName=null;if(typeof styleLookupObject!="undefined"){setPantLegSelectedStyleName=styleLookupObject.styleName;}showOneOfManyShoes.show("seeWithPantsShoeHolder_"+defaultShoeStyleId,function(){var defaultThumb=dojo.byId("seeWithPantsStyleTumbImage_"+defaultShoeStyleId);if(defaultThumb!=null&&typeof defaultThumb!="undefined"){setShoeStyleClass.setClass(defaultThumb);}});showOneOfManyPantLegs.show("seeWithPantsPantLegImage_"+defaultPantLegId,function(){var defaultPantLegThumb=dojo.byId("seeWithPantsPantLegThumbImage_"+defaultPantLegId);if(defaultPantLegThumb!=null&&typeof defaultPantLegThumb!="undefined"){setPantLegThumbClass.setClass(defaultPantLegThumb);}});setPantLegPantName=dojo.byId("defaultPantLegName").innerHTML;changeSeeWithPantsPantName();}