var _fs_hash="c8d9ce75f438af9c4e051e7717dcca7e";
try{"undefined"===typeof WeakMap&&function(){var l=Object.defineProperty,u=Date.now()%1E9,a=function(){this.name="__st"+(1E9*Math.random()>>>0)+(u++ +"__")};a.prototype={set:function(a,n){var d=a[this.name];d&&d[0]===a?d[1]=n:l(a,this.name,{value:[a,n],writable:!0})},get:function(a){var n;return(n=a[this.name])&&n[0]===a?n[1]:void 0}};window.WeakMap=a}()}catch(e$$12){};try{(function(l){function u(){m=!1;var b=x;x=[];b.sort(function(a,b){return a.uid_-b.uid_});var c=!1;b.forEach(function(b){var k=b.takeRecords();a(b);k.length&&(b.callback_(k,b),c=!0)});c&&u()}function a(a){a.nodes_.forEach(function(b){(b=f.get(b))&&b.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function h(a,b){for(var c=a;c;c=c.parentNode){var k=f.get(c);if(k)for(var e=0;e<k.length;e++){var g=k[e],d=g.options;(c===a||d.subtree)&&(d=b(d))&&g.enqueue(d)}}}function n(a){this.callback_=
a;this.nodes_=[];this.records_=[];this.uid_=++ca}function d(a,b){this.type=a;this.target=b;this.addedNodes=[];this.removedNodes=[];this.oldValue=this.attributeNamespace=this.attributeName=this.nextSibling=this.previousSibling=null}function c(a,b){return t=new d(a,b)}function b(a){if(r)return r;var b=t,c=new d(b.type,b.target);c.addedNodes=b.addedNodes.slice();c.removedNodes=b.removedNodes.slice();c.previousSibling=b.previousSibling;c.nextSibling=b.nextSibling;c.attributeName=b.attributeName;c.attributeNamespace=
b.attributeNamespace;c.oldValue=b.oldValue;r=c;r.oldValue=a;return r}function k(a,b,c){this.observer=a;this.target=b;this.options=c;this.transientObservedNodes=[]}var f=new WeakMap,e=window.msSetImmediate;if(!e){var g=[],q=String(Math.random());window.addEventListener("message",function(a){a.data===q&&(a=g,g=[],a.forEach(function(a){a()}))});e=function(a){g.push(a);window.postMessage(q,"*")}}var m=!1,x=[],ca=0;n.prototype={observe:function(a,b){a=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||
a;if(!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var c=f.get(a);c||f.set(a,c=[]);for(var e,g=0;g<c.length;g++)if(c[g].observer===this){e=c[g];e.removeListeners();e.options=b;break}e||(e=new k(this,a,b),c.push(e),this.nodes_.push(a));e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){a=f.get(a);for(var b=0;b<a.length;b++){var c=
a[b];if(c.observer===this){c.removeListeners();a.splice(b,1);break}}},this);this.records_=[]},takeRecords:function(){var a=this.records_;this.records_=[];return a}};var t,r;k.prototype={enqueue:function(a){var b=this.observer.records_,c=b.length;if(0<b.length){var k=b[c-1];k=k===a?k:!r||k!==r&&k!==t?null:r;if(k){b[c-1]=k;return}}else x.push(this.observer),m||(m=!0,e(u));b[c]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",
this,!0);b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0);b.childList&&a.addEventListener("DOMNodeInserted",this,!0);(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0);b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0);b.childList&&a.removeEventListener("DOMNodeInserted",
this,!0);(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a);this.transientObservedNodes.push(a);var b=f.get(a);b||f.set(a,b=[]);b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[];a.forEach(function(a){this.removeListeners_(a);a=f.get(a);for(var b=0;b<a.length;b++)if(a[b]===this){a.splice(b,1);break}},this)},handleEvent:function(a){a.stopImmediatePropagation();
switch(a.type){case "DOMAttrModified":var k=a.attrName,e=a.relatedNode.namespaceURI,f=a.target,g=new c("attributes",f);g.attributeName=k;g.attributeNamespace=e;var d=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;h(f,function(a){if(a.attributes&&(!a.attributeFilter||!a.attributeFilter.length||-1!==a.attributeFilter.indexOf(k)||-1!==a.attributeFilter.indexOf(e)))return a.attributeOldValue?b(d):g});break;case "DOMCharacterDataModified":f=a.target;g=c("characterData",f);d=a.prevValue;h(f,function(a){if(a.characterData)return a.characterDataOldValue?
b(d):g});break;case "DOMNodeRemoved":this.addTransientObserver(a.target);case "DOMNodeInserted":var f=a.relatedNode,q=a.target,m;"DOMNodeInserted"===a.type?(a=[q],m=[]):(a=[],m=[q]);var n=q.previousSibling,q=q.nextSibling,g=c("childList",f);g.addedNodes=a;g.removedNodes=m;g.previousSibling=n;g.nextSibling=q;h(f,function(a){if(a.childList)return g})}t=r=void 0}};l.JsMutationObserver=n;!l.MutationObserver&&l.WebKitMutationObserver&&(l.MutationObserver=l.WebKitMutationObserver);l.MutationObserver||(l.MutationObserver=
n)})(this)}catch(e$$15){};(function(){var l;(function(a){a.EVENT_MUT_INSERT=2;a.EVENT_MUT_REMOVE=3;a.EVENT_MUT_ATTR=4;a.EVENT_MUT_ATTR_CURVE=5;a.EVENT_MUT_TEXT=6;a.EVENT_MUT_SKIPIDS=7;a.EVENT_MOUSEMOVE=8;a.EVENT_MOUSEMOVE_CURVE=9;a.EVENT_SCROLL=10;a.EVENT_SCROLL_CURVE=11;a.EVENT_MOUSEDOWN=12;a.EVENT_MOUSEUP=13;a.EVENT_KEYDOWN=14;a.EVENT_KEYUP=15;a.EVENT_CLICK=16;a.EVENT_FOCUS=17;a.EVENT_VALUECHANGE=18;a.EVENT_RESIZE=19;a.EVENT_DOMLOADED=20;a.EVENT_LOAD=21;a.EVENT_PLACEHOLDER_SIZE=22;a.EVENT_UNLOAD=23;a.EVENT_BLUR=24;a.EVENT_SET_FRAME_BASE=
25;a.EVENT_TOUCHSTART=32;a.EVENT_TOUCHEND=33;a.EVENT_TOUCHCANCEL=34;a.EVENT_TOUCHMOVE=35;a.EVENT_TOUCHMOVE_CURVE=36;a.EVENT_NAVIGATE=37;a.EVENT_PLAY=38;a.EVENT_PAUSE=39;a.EVENT_SYS_SETMETA=8192;a.EVENT_SYS_SETVAR=8193;a.EVENT_COOKED_LOAD="load";a.EVENT_COOKED_UNLOAD="unload";a.EVENT_COOKED_NAVIGATE="navigate";a.EVENT_COOKED_CLICK="click";a.EVENT_COOKED_FOCUS="focus";a.EVENT_COOKED_CHANGE="change";a.isUserActionEvent=function(h){switch(h){case a.EVENT_MOUSEDOWN:case a.EVENT_MOUSEMOVE:case a.EVENT_MOUSEMOVE_CURVE:case a.EVENT_MOUSEUP:case a.EVENT_KEYDOWN:case a.EVENT_KEYUP:case a.EVENT_TOUCHSTART:case a.EVENT_TOUCHEND:case a.EVENT_TOUCHMOVE:case a.EVENT_TOUCHMOVE_CURVE:case a.EVENT_TOUCHCANCEL:case a.EVENT_CLICK:case a.EVENT_SCROLL:case a.EVENT_SCROLL_CURVE:case a.EVENT_NAVIGATE:return!0}return!1}})(l||
(l={}));(function(a){function h(a){var c={};if(!a)return c;if(a.classList)for(var f=0;f<a.classList.length;++f)c[a.classList[f]]=!0;else for(a=(null!=a.className.animVal?a.className.animVal:a.className).split(" "),f=0;f<a.length;++f)c[a[f].trim()]=!0;return c}a.NYI_KIND="nyi";a.BLOCKED_KIND="blocked";a.HIDE_KIND="hide";var n=function(){function a(b,c){var e=this;this._parent=b;this._classes={};this._attrs={};for(var g=0,d=0,m=0,h=function(){if(0!=m-d)switch(g){case 0:e._tag=c.slice(d,m);break;case 1:e._id=
c.slice(d+1,m);break;case 2:e._classes[c.slice(d+1,m)]=!0;break;case 3:var a=c.slice(d,m).slice(1).split("="),b=a[0].trim(),a=a[1].trim();if("]"!=a[a.length-1])throw"Unsupported selector";a=a.slice(0,a.length-1);if("'"==a[0]||'"'==a[0]){if(a[a.length-1]!=a[0])throw"Unsupported selector";a=a.slice(1,a.length-1)}e._attrs[b]=a}},m=0;m<c.length;++m)switch(c[m]){case "#":h();g=1;d=m;break;case ".":h();g=2;d=m;break;case "[":h(),g=3,d=m}h()}a.prototype.parent=function(){return this._parent};a.prototype.serialize=
function(){var a="";this._tag&&(a+=this._tag);this._id&&(a+="#"+this._id);for(var b in this._classes)a+="."+b;for(var c in this._attrs)a+="["+c+"="+this._attrs[c]+"]";return a};a.prototype.matches=function(a,b){if(!a||this._tag&&a.tagName.toLowerCase()!=this._tag||this._id&&a.id!=this._id)return!1;for(var c in this._classes)if(!(c in b))return!1;for(var g in this._attrs)if(a.getAttribute(g)!=this._attrs[g])return!1;return this._parent?this._parent.matches(a.parentElement,h(a.parentElement)):!0};return a}();
a.BlockRuleElem=n;var d=function(){function a(b){this.kind=b.Kind;b=b.Selector.split(">");for(var c=null,e=0;e<b.length;)var g=b[e++].trim(),c=new n(c,g);this.rules=c}a.prototype.serialize=function(){for(var a=null,b=this.rules;b;b=b.parent())a=a?b.serialize()+">"+a:b.serialize();return a};return a}();a.BlockRule=d;var c=function(){function a(){this._rules=[];this._isIdBlocked={};this.rawRules=[]}a.prototype.isBlocked=function(a){for(var b=h(a),c=0;c<this._rules.length;++c)if(this._rules[c].rules.matches(a,
b))return this._isIdBlocked[a._fsid]=a,this._rules[c].kind;return null};a.prototype.wasIdBlocked=function(a){return this._isIdBlocked[a+""]};a.prototype.addRule=function(a){this.rawRules.push(a);this._rules.push(new d(a))};a.prototype.mungeBlockedStyle=function(a,b){var c=a.getBoundingClientRect(),g=Math.floor(c.width),c=Math.floor(c.height);if("object"==a.tagName.toLowerCase())for(var d=a.children,m=0;m<d.length;m++){var h=d[m];if("embed"==h.tagName.toLowerCase()){d=h.getBoundingClientRect();g=Math.max(g,
Math.floor(d.width));c=Math.max(c,Math.floor(d.height));break}}d="";null!=b&&(d=b.trim());0<d.length&&";"!=d.charAt(d.length-1)&&(d+=";");m=a.style.getPropertyValue("display");"inline"==(m?m:window.getComputedStyle(a).getPropertyValue("display")).toLowerCase()&&(d+="display: inline-block !important;");if(0!=g||0!=c)d+="width:"+g+"px;height:"+c+"px;";return d};return a}();a.Blocker=c})(l||(l={}));(function(a){function h(a,b){b.parent=a;a.child&&(a.child.prev=b,b.next=a.child);a.child=b}function n(a){a.parent.child==
a&&(a.parent.child=a.next);a.prev&&(a.prev.next=a.next);a.next&&(a.next.prev=a.prev);a.parent=a.prev=a.next=null}var d=function(){function a(){this._root={parent:null,child:null,prev:null,next:null,fromId:-1,toId:-1,parentIds:[]};this._ranges=[this._root]}a.prototype.insert=function(a,c,d){var e=this.find(d[0]);a={parent:e,child:null,prev:null,next:null,fromId:a,toId:c,parentIds:d};h(e,a);this._ranges.push(a);return a};a.prototype.remove=function(a){var c=this._find(a);if(0>c)return null;var d=this._ranges[c];
if(a==d.fromId)return n(d),this._removeNodeFromRanges(d),d;var e=d.fromId,g=d.parentIds;d.parentIds=g.slice(0,a-e);d.toId=a-1;for(var q=[];a<e+g.length;){for(var m=a+1;g[m-e]>g[a-e];)++m;--m;q.push({parent:d,child:null,prev:null,next:null,fromId:a,toId:m,parentIds:g.slice(a-e,m-e+1)});a=m+1}for(e=d.child;e;){g=e.next;m=e.parentIds[0];if(m>d.toId)for(a=0;a<q.length;++a)if(m<=q[a].toId){n(e);h(q[a],e);break}e=g}e=q.shift();e.parentIds[0]=-1;n(e);g=d.child;for(a=0;a<q.length;++a)m=q[a],m.next=g,d.child=
m,g&&(g.prev=m),g=m;c=[c+1,0].concat(q);this._ranges.splice.apply(this._ranges,c);this._removeNodeFromRanges(e);return e};a.prototype.find=function(a){a=this._find(a);return 0<=a?this._ranges[a]:null};a.prototype._getRoot=function(){return this._root};a.prototype._getRanges=function(){return this._ranges};a.prototype._removeNodeFromRanges=function(a){var c=this._find(a.fromId);0<=c&&this._ranges.splice(c,1);for(a=a.child;a;a=a.next)this._removeNodeFromRanges(a)};a.prototype._find=function(a){if(isNaN(a))return-1;
for(var c=0,d=this._ranges.length-1;c<=d;){var e=Math.floor((c+d)/2),g=this._ranges[e];if(a>g.toId)c=e+1;else if(a<g.fromId)d=e-1;else{if(a>=g.fromId&&a<=g.toId)return e;break}}return-1};return a}();a.IdTree=d})(l||(l={}));(function(a){a.Node_ELEMENT_NODE=1;a.Node_ATTRIBUTE_NODE=2;a.Node_TEXT_NODE=3;a.Node_CDATA_SECTION_NODE=4;a.Node_ENTITY_REFERENCE_NODE=5;a.Node_ENTITY_NODE=6;a.Node_PROCESSING_INSTRUCTION_NODE=7;a.Node_COMMENT_NODE=8;a.Node_DOCUMENT_NODE=9;a.Node_DOCUMENT_TYPE_NODE=10;a.Node_DOCUMENT_FRAGMENT_NODE=
11;a.Node_NOTATION_NODE=12;a.XHR_UNSENT=0;a.XHR_OPENED=1;a.XHR_HEADERS_RECEIVED=2;a.XHR_LOADING=3;a.XHR_DONE=4})(l||(l={}));(function(a){function h(a){return"_fsblocked"in a}function n(a){a._fsblocked=!0}function d(a){return parseInt(a._fsid)}function c(a,b){return a._fsid=b}function b(a,b){if(a.attributes&&0<a.attributes.length)for(var c=0;c<a.attributes.length;c++){var d=a.attributes[c];b(d.name,d.value)}}var k={};a._isWebKitIsh=-1!=navigator.userAgent.indexOf("WebKit");a.hasFsid=function(a){return"_fsid"in
a};a.isBlocked=h;a.setBlocked=n;a.removeFsid=function(a){delete a._fsid};a.fsid=d;a.setFsid=c;a.fsidIfNotBlocked=function(a){return h(a)?NaN:d(a)};var f=function(){function d(a,b){this._ctx=a;this._blocker=b;this._curId=1}d.prototype.curId=function(){return this._curId};d.prototype.unpinNodes=function(b){if(b&&a._isWebKitIsh){for(var c=b.fromId;c<=b.toId;++c)delete k[c];for(b=b.child;b;b=b.next)this.unpinNodes(b)}};d.prototype.tokenizeNode=function(a,b,c){var d=this._curId;try{var k=[],e=[];this.tokeNode(a,
b,k,e,c);return{stream:k,parents:e,fromId:d,toId:this._curId-1}}catch(f){return this._curId=d,{stream:[],parents:[],fromId:this._curId,toId:this._curId-1}}};d.prototype.tokeNode=function(d,e,f,h,n){var l=0;if("SCRIPT"==e.nodeName||e.nodeType==a.Node_COMMENT_NODE)return 0;var r=this._curId++;h.push(d);d=e.nodeName;"http://www.w3.org/2000/svg"==e.namespaceURI&&(d="svg:"+d);f.push("<"+d);c(e,r);a._isWebKitIsh&&(k[r]=e);++l;if(this.processBlockedElem(e,f))return 1;n&&n(e);b(e,function(a,b){f.push(":"+
a);f.push(b)});if(e.firstChild){f.push("[");for(d=e.firstChild;d;d=d.nextSibling)l+=this.tokeNode(r,d,f,h,n);f.push("]")}e.nodeType==a.Node_TEXT_NODE&&f.push(e.textContent);return l};d.prototype.processBlockedElem=function(c,d){var k=this;if(c.nodeType==a.Node_ELEMENT_NODE&&this._blocker){var e=this._blocker.isBlocked(c);if(e){n(c);var f,h=!1;b(c,function(a,b){if("class"==a)b+=" _fs_block_"+e,f=!0;else if("style"==a)b=k._blocker.mungeBlockedStyle(c,b),h=!0;else if("value"==a||"checked"==a)return;
d.push(":"+a);d.push(b)});f||(d.push(":class"),d.push("_fs_block_"+e));h||(d.push(":style"),d.push(this._blocker.mungeBlockedStyle(c,"")));return!0}}return!1};return d}();a.NodeEncoder=f})(l||(l={}));(function(a){function h(a,b,d){var f=Object.getOwnPropertyDescriptor(a.prototype,b);Object.defineProperty(a.prototype,b,{set:function(a){var b=this;setTimeout(function(){d(b)},0);return f.set.call(this,a)},get:function(){return f.get.call(this)}})}function n(a){switch(a.type){case "checkbox":case "radio":return""+
a.checked;default:return a.value}}var d=function(){function a(b,c){this._onchange=b;this._checkElem=c;this._fallback=!1;this._elems={};this._values={}}a.prototype.hookEvents=function(){this.shimPrototypes()||(this._fallback=!0)};a.prototype.addInput=function(a,c){this._fallback&&(this._elems[a]=c,this._values[a]=n(c),this._values[a]&&this._onchange(c))};a.prototype.tick=function(){if(this._fallback)for(var a in this._elems)if(this._checkElem(a)){var c=this._elems[a],d=n(c);d!=this._values[a]&&(this._onchange(c),
this._values[a]=d)}else delete this._elems[a],delete this._values[a]};a.prototype._usingFallback=function(){return this._fallback};a.prototype._trackingElem=function(a){return!!this._elems[a]};a.prototype.shimPrototypes=function(){var a=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");if(!a||!a.set)return!1;h(HTMLInputElement,"value",this._onchange);h(HTMLInputElement,"checked",this._onchange);h(HTMLSelectElement,"value",this._onchange);h(HTMLTextAreaElement,"value",this._onchange);
return!0};return a}();a.InputWatcher=d;a.valueOfInputishElem=n})(l||(l={}));(function(a){var h=function(){function a(){this.dict={idx:-1,map:{}};this.startIdx=0}a.prototype.encode=function(a){function c(){k?1<g.length?f.push([k.idx,g.length]):f.push(k.idx):f.push(g[0])}if(0==a.length)return[];var b,k=null,f=[],e,g=[a[0]];for(b=1;b<a.length;b++)if(e=a[b],k&&k.map.hasOwnProperty(e))g.push(e),k=k.map[e];else{c();var h=this.startIdx+b-g.length;null==k&&(k={idx:h,map:{}},this.dict.map[g[g.length-1]]=k);
k.map[e]={idx:h,map:{}};g=[e];k=this.dict.map.hasOwnProperty(e)?this.dict.map[e]:null}c();this.startIdx+=a.length;return f};return a}();a.LZJGWEncoder=h;h=function(){function a(){this._seq=[]}a.prototype.sequence=function(){return this._seq};a.prototype.decode=function(a){for(var c=this._seq.length,b=0;b<a.length;++b){var k=a[b];switch(typeof k){case "string":this._seq.push(k);break;case "number":this._seq.push(this._seq[k]);break;case "object":for(var f=0;f<k[1];f++)this._seq.push(this._seq[k[0]+
f])}}return c};return a}();a.LZJGWDecoder=h})(l||(l={}));(function(a){a.EVENT_PROCESSING_INTERVAL=250;a.UPLOAD_INTERVAL=5E3;a.USER_INACTIVITY_TIMEOUT=1E4;var h=function(){function a(c){this._interval=c;this._handle=-1}a.prototype.oneShot=function(a){setTimeout(a,this._interval)};a.prototype.start=function(a){-1==this._handle&&(this._handle=setInterval(a,this._interval))};a.prototype.stop=function(){-1!=this._handle&&(clearInterval(this._handle),this._handle=-1)};return a}(),n=function(){function d(c,
b,d,f,e,g){"undefined"===typeof f&&(f=function(){});"undefined"===typeof e&&(e=new h(a.EVENT_PROCESSING_INTERVAL));"undefined"===typeof g&&(g=new h(a.UPLOAD_INTERVAL));this._ctx=c;this._processor=b;this._mutProvider=d;this._beforeProcessEvents=f;this._processEventsTicker=e;this._uploadTicker=g;this._eventQueue=[];this._outgoingQueue=[];this._bundleQueue=[];this._recordingDisabled=!1;this._bundleSeq=1;this._lastWhenTime=this._lastPostTime=0;this._lastWhen=-1;this._lastUserAction=0;this._lastBundleTime=
c.wallTime()}d.prototype.rawQueue=function(){return this._eventQueue};d.prototype.startPipeline=function(){var a=this;this._recordingDisabled||this._pipelineStarted||(this.processEvents(),this._processEventsTicker.start(function(){a.processEvents()}),this._ctx.amInsideIFrame()||this._uploadTicker.start(function(){a.enqueueNextBundle()}),this._pipelineStarted=!0)};d.prototype.enqueue=function(a,b){this.enqueueAt(this._ctx.now(),a,b)};d.prototype.enqueueAt=function(c,b,d){this._recordingDisabled||(c<=
this._lastWhen&&(c=this._lastWhen+1),this._lastWhen=c,this._eventQueue.push({When:c,Kind:b,Args:d}),a.isUserActionEvent(b)&&(this._lastUserAction=c))};d.prototype.disableRecording=function(){this._recordingDisabled=!0;this.stopPipeline()};d.prototype.prequeue=function(a,b){this._recordingDisabled||this._eventQueue.unshift({When:0,Kind:a,Args:b})};d.prototype.appendToOutgoingQueue=function(a){this._outgoingQueue=this._outgoingQueue.concat(a)};d.prototype.lastSentEventTime=function(){return this._lastWhenTime};
d.prototype.swanSong=function(){if(!this._recordingDisabled&&!this._ctx.amInsideIFrame()&&(this.processEvents(),this.enqueueNextBundle(),0<this._bundleQueue.length||this._pendingBundle)){var c=this._bundleQueue.concat();this._pendingBundle&&c.unshift(this._pendingBundle);a.log("Saving "+c.length+" bundles in swan-song.");c={UserId:this._ctx.userId(),SessionId:this._ctx.sessionId(),PageId:this._ctx.pageId(),Bundles:c,PageStartTime:this._ctx.startTime(),LastBundleTime:this._lastBundleTime};try{localStorage.swanSong=
a.stringify(c)}catch(b){}}};d.prototype.recoverSwanSong=function(){if(!this._ctx.amInsideIFrame())try{if("swanSong"in localStorage){var c=localStorage.swanSong;delete localStorage.swanSong;var b=JSON.parse(c);if(b.Bundles)if(b.Bundles&&b.UserId&&b.SessionId&&b.PageId)for(c=0;c<b.Bundles.length;++c)this.sendSwanSongBundle(b.UserId,b.SessionId,b.PageId,b.PageStartTime,b.LastBundleTime,b.Bundles[c]);else a.log("Malformed swan song found. Ignoring it.");else b.Bundle&&b.UserId&&b.SessionId&&b.PageId?
this.sendSwanSongBundle(b.UserId,b.SessionId,b.PageId,b.PageStartTime||0,b.LastBundleTime||0,b.Bundle):a.log("Malformed swan song found. Ignoring it.")}}catch(d){a.log("Error recovering swan-song: "+d)}};d.prototype.sendSwanSongBundle=function(c,b,d,f,e,g){c="/rec/bundle?OrgId="+this._ctx.orgId()+"&UserId="+c+"&SessionId="+b+"&PageId="+d+"&Seq="+g.Seq;0!=f&&(c+="&PageStartTime="+f);0!=e&&(c+="&DeltaT="+(this._ctx.wallTime()-e));this._ctx.post(c,g,function(b){a.log("Sent "+g.Evts.length+" trailing events from last session as Seq "+
g.Seq)},function(){a.log("Failed to send events from last session")})};d.prototype.rebaseIframe=function(c){var b=this._ctx.baseUri();0<this._eventQueue.length?this._eventQueue.unshift({When:this._eventQueue[0].When,Kind:a.EVENT_SET_FRAME_BASE,Args:[b]}):this.enqueue(a.EVENT_SET_FRAME_BASE,[b]);for(var b=0,d=this._eventQueue.length;b<d;b++){var f=this._eventQueue[b],e=f.When+this._ctx.startTime()-c;0>e&&(e=0);f.When=e}};d.prototype.processEvents=function(){this._beforeProcessEvents();if((this._eventQueue.length||
this._mutProvider.hasMutations())&&!(this._ctx.now()-this._lastUserAction>a.USER_INACTIVITY_TIMEOUT)){var c=this._processor.processQueue(this._eventQueue).concat(this._mutProvider.processMutations());this.ensureFrameIds(c);if(this._ctx.amInsideIFrame())parent.postMessage(a.FS_IFRAME_EVENTS+a.FS_DELIMITER+a.stringify(c),"*");else{if(void 0===this._ctx.pageId())return;this._outgoingQueue=this._outgoingQueue.concat(c)}this._eventQueue=[]}};d.prototype.ensureFrameIds=function(a){var b=this._ctx.frameId();
if(b)for(var d=0;d<a.length;++d)a[d].FId=b};d.prototype.enqueueNextBundle=function(){if(0==this._outgoingQueue.length)return this.maybeSendNextBundle(),null;var a={When:this._outgoingQueue[0].When,Seq:this._bundleSeq++,Evts:this._outgoingQueue};this._outgoingQueue=[];this._bundleQueue.push(a);this.maybeSendNextBundle()};d.prototype.maybeSendNextBundle=function(){var c=this;if(!this._pendingBundle&&0!=this._bundleQueue.length){var b=this._pendingBundle=this._bundleQueue.shift(),d=this._ctx.wallTime(),
f="/rec/bundle?OrgId="+this._ctx.orgId()+"&UserId="+this._ctx.userId()+"&SessionId="+this._ctx.sessionId()+"&PageId="+this._ctx.pageId()+"&Seq="+b.Seq+"&DeltaT="+(d-this._lastBundleTime);this._lastPostTime=this._lastBundleTime=d;this._lastWhenTime=b.Evts[b.Evts.length-1].When;var e=function(){c._ctx.post(f,b,function(d){a.log("Sent bundle "+b.Seq+" with "+b.Evts.length+" events");c._pendingBundle=null;c._ctx.wallTime()-c._lastPostTime>a.UPLOAD_INTERVAL&&c.maybeSendNextBundle()},function(){a.log("Failed to send events.");
c._uploadTicker.oneShot(e)})};e()}};d.prototype.stopPipeline=function(){this._pipelineStarted&&(this._processEventsTicker.stop(),this._uploadTicker.stop())};return d}();a.EventQueue=n})(l||(l={}));(function(a){var h=function(){function h(d,c,b,k){"undefined"===typeof k&&(k=function(a,b){});this._ctx=d;this._blocker=c;this._idTree=b;this._visitor=k;this._sentDomSnapshot=!1;this._records=[];this._lz=new a.LZJGWEncoder;this._encoder=new a.NodeEncoder(d,c)}h.prototype.hasMutations=function(){return!this._sentDomSnapshot||
0<this._records.length};h.prototype.hookMutations=function(a){var c=this;"undefined"===typeof a&&(a=document.documentElement);this._root=a;this._sentDomSnapshot=!1;(new window.MutationObserver(function(a){c._records=c._records.concat(a)})).observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0})};h.prototype.processMutations=function(){this._now=this._ctx.now();this._watermark=this._encoder.curId();this._textValues={};this._attrValues={};var d=
[];this._sentDomSnapshot||(d.push(this.insertEvent(-1,-1,this._root)),this._sentDomSnapshot=!0);for(var c=0,b=0;b<this._records.length;++b)"childList"==this._records[b].type&&0<this._records[b].addedNodes.length&&(this.processMutationChunk(d,this._records.slice(c,b+1)),c=b);c<this._records.length&&this.processMutationChunk(d,this._records.slice(c,this._records.length));for(var k in this._attrValues)c=k.split(":"),d.push({Kind:a.EVENT_MUT_ATTR,When:this._now,Args:[parseInt(c[0]),c[1],this._attrValues[k]]});
for(k in this._textValues)d.push({Kind:a.EVENT_MUT_TEXT,When:this._now,Args:[parseInt(k),this._textValues[k]]});this._records=[];return d};h.prototype.processMutationChunk=function(d,c){for(var b=[],k=0;k<c.length;++k){var f=c[k],e={target:f.target?a.fsid(f.target):0,next:f.nextSibling?a.fsid(f.nextSibling):0,removes:[]};b.push(e);if("childList"==f.type)for(var g=0;g<f.removedNodes.length;++g){var h=a.fsid(f.removedNodes[g]);e.removes.push(h)}}for(k=0;k<c.length;++k){f=c[k];(e=b[k].target)||(e=a.fsid(f.target));
if(e&&e<this._watermark)switch(f.type){case "characterData":g=f.target.textContent;f.oldValue!=g&&(a.isBlocked(f.target)||this.addTextMutation(d,e,g));break;case "attributes":h=f.attributeName;g=f.target.getAttribute(h);f.oldValue!=g&&this.addAttributeMutation(d,e,h,g);break;case "childList":0<f.addedNodes.length&&!a.isBlocked(f.target)&&((g=b[k].next)||(g=f.nextSibling?a.fsid(f.nextSibling):-1),this.addInsertNodesMutation(d,e,g||-1,f.addedNodes)),this.addRemoveNodesMutation(d,f.removedNodes,b[k].removes)}this.maybeAddPlaceholderResize(d,
f.target)}};h.prototype.maybeAddPlaceholderResize=function(d,c){for(;c&&!a.hasFsid(c);)c=c.parentNode;if(c&&a.isBlocked(c)){var b=c.getBoundingClientRect(),k=Math.floor(b.width),b=Math.floor(b.height);d.push({When:this._now,Kind:a.EVENT_PLACEHOLDER_SIZE,Args:[a.fsid(c),k,b]})}};h.prototype.addRemoveNodesMutation=function(d,c,b){for(var k=[],f=0;f<b.length;++f){var e=b[f];e||(e=a.fsid(c[f]));this._idTree.find(e)&&(k.push(e),this._encoder.unpinNodes(this._idTree.remove(e)))}0<k.length&&d.push({When:this._now,
Kind:a.EVENT_MUT_REMOVE,Args:k})};h.prototype.addTextMutation=function(a,c,b){this._textValues[c]=b};h.prototype.addAttributeMutation=function(a,c,b,k){k=this.rewriteAttr(c,b,k);null!==k&&(this._attrValues[c+":"+b]=k)};h.prototype.addInsertNodesMutation=function(d,c,b,k){for(var f=0;f<k.length;++f)if(!this._idTree.find(a.fsid(k[f]))&&this._idTree.find(c)){var e=this.insertEvent(c,b,k[f]);e&&d.push(e)}};h.prototype.insertEvent=function(d,c,b){var k=this;b=this._encoder.tokenizeNode(d,b,function(a){k._visitor(k._now,
a)});return 0<b.parents.length?(this._idTree.insert(b.fromId,b.toId,b.parents),{When:this._now,Kind:a.EVENT_MUT_INSERT,Args:[d,c,this._lz.encode(b.stream)]}):null};h.prototype.rewriteAttr=function(a,c,b){switch(c){case "style":(a=this._blocker.wasIdBlocked(a))&&(b=this._blocker.mungeBlockedStyle(a,b));break;case "class":(a=this._blocker.wasIdBlocked(a))&&0>b.indexOf("_fs_block_")&&(a=this._blocker.isBlocked(a),b+=" _fs_block_"+a);break;case "value":this._blocker.wasIdBlocked(a)&&(b=null)}return b};
return h}();a.MutationHandler=h})(l||(l={}));(function(a){var h=function(){function a(c,b,d){this._ctx=c;this._q=b;this._valueIndices=d;this._evts=[]}a.prototype.add=function(a){0==this._evts.length&&this._q.push(a);this._evts.push(a)};a.prototype.finish=function(a,b){var d=this._evts.length;if(1>=d)return!1;for(var f=this._evts[0].When,e=this._evts[d-1].When,g=0;g<this._valueIndices.length;++g){var h=this._valueIndices[g],m=this._evts[0].Args[h],n=(this._evts[1].When-f)/(e-f),l=(this._evts[1].Args[h]-
m)/n,t=this._evts[d-1].Args[h],n=(e-this._evts[d-2].When)/(e-f);b.push(m,t,l,(t-this._evts[d-2].Args[h])/n)}this._evts[0].Kind=a;this._evts[0].Args=b;return!0};a.prototype.evts=function(){return this._evts};return a}(),n=function(){function d(a,b,d){this._ctx=a;this._idTree=b;this._blocker=d;this._gotInitialScroll=!1}d.prototype.processQueue=function(c){if(0==c.length)return c;this.maybeAddInitialScroll();for(var b=this._ctx.now(),d=[],f=new h(this._ctx,d,[0,1]),e={},g={},n=0;n<c.length;++n){var m=
c[n];switch(m.Kind){case a.EVENT_MOUSEMOVE:f.add(m);break;case a.EVENT_TOUCHMOVE:var l=m.Args[0];l in e||(e[l]=new h(this._ctx,d,[1,2]));e[l].add(m);break;case a.EVENT_SCROLL:l=m.Args[0];l in g||(g[l]=new h(this._ctx,d,[1,2]));g[l].add(m);break;default:d.push(m)}}f.finish(a.EVENT_MOUSEMOVE_CURVE,[b])&&(c=f.evts(),f=c[c.length-1].Args,2<f.length&&f[2]&&c[0].Args.push(f[2]));for(l in g)c=parseInt(l),g[c].finish(a.EVENT_SCROLL_CURVE,[b,c]);for(l in e)c=parseInt(l),e[c].finish(a.EVENT_TOUCHMOVE_CURVE,
[b,c]);return d};d.prototype.maybeAddInitialScroll=function(){!this._gotInitialScroll&&document.body&&(this._ctx.addWindowScroll(),this._gotInitialScroll=!0)};return d}();a.EventProcessor=n})(l||(l={}));(function(a){function h(a){C&&console&&console.log(a)}function l(a){var b=Array.prototype.toJSON,c=String.prototype.toJSON;b&&delete Array.prototype.toJSON;c&&delete String.prototype.toJSON;a=JSON.stringify(a);b&&(Array.prototype.toJSON=b);c&&(String.prototype.toJSON=c);return a}function d(){return(new Date).getTime()}
function c(){return window!=top&&!R}function b(b,c,d,e){"undefined"===typeof e&&(e=null);b="//"+y+b;var f=null;null!=c&&(f=l(c),F+=f.length,h("total bytes written: "+F));var g=new XMLHttpRequest;if("withCredentials"in g)g.onreadystatechange=function(){g.readyState==a.XHR_DONE&&(200==g.status?d(g.responseText):e())},g.open("POST",b),g.withCredentials=!0,g.setRequestHeader("Content-Type","text/plain"),g.send(f);else{var k=new XDomainRequest;k.onload=function(){d(k.responseText)};k.onerror=function(){e()};
k.onprogress=function(){};k.open("POST",b);k.send(f)}}function k(){if("baseURI"in document)return document.baseURI;var a=document.getElementsByTagName("base")[0];return a&&a.href?a.href:location.href}function f(a){(a=a.target.tagName)&&(a=a.toLowerCase());return a}function e(a,b){return a.tagName&&a.tagName.toLowerCase()in b?!0:a.parentNode?e(a.parentNode,b):!1}function g(a,b){for(var c=0;c<a.changedTouches.length;++c){var d=a.changedTouches[c];p.enqueue(b,[d.identifier,d.clientX,d.clientY])}}function q(){var b=
document.activeElement;if(b&&"value"in b){var c=a.fsidIfNotBlocked(b);c&&p.enqueue(a.EVENT_VALUECHANGE,[c,b.value])}}function m(){var b=a.fsid(document.body);if(b){var c,d;"pageXOffset"in window?(c=window.pageXOffset,d=pageYOffset):(c=document.body.scrollLeft,d=document.body.scrollTop);p.enqueue(a.EVENT_SCROLL,[b,c,d])}}function x(){p.enqueue(a.EVENT_RESIZE,[document.documentElement.clientWidth,document.documentElement.clientHeight])}function u(){var b=location.href;G!=b&&(G=b,p.enqueue(a.EVENT_NAVIGATE,
[location.href,document.title]))}function t(b){var c=a.fsidIfNotBlocked(b);c&&p.enqueue(a.EVENT_VALUECHANGE,[c,a.valueOfInputishElem(b)])}function r(){S||(S=!0,p.enqueue(a.EVENT_UNLOAD,[]),p.swanSong())}function Z(){for(var a={},b=document.cookie.split(";"),c=0;c<b.length;c++){var d=b[c].replace(/^\s+|\s+$/g,"").split("=");a[d[0]]=d[1]}return a.fs_uid}function N(a){v=a.UserIntId;D=a.SessionIntId;H=a.PageIntId;T=a.CookieDomain;document.cookie="fs_uid="+v+"; domain=."+encodeURIComponent(T)+"; expires=expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";
h("/User,"+v+"/Session,"+D+"/Page,"+H)}function M(){var a=document.doctype;if(!a)return null;var b;b="<!DOCTYPE "+a.name;a.publicId&&(b+=' PUBLIC "'+a.publicId+'"');a.systemId&&(b+=' "'+a.systemId+'"');return b+">"}function $(){(v=Z())||(v="");var c=document.documentElement,d=window._fs_hash;G=location.href;if(E)c={OrgId:w,UserId:v,Url:location.href,Base:k(),ScreenWidth:window.screen.width,ScreenHeight:window.screen.height,Width:c.clientWidth,Height:c.clientHeight,Referrer:document.referrer,Doctype:M(),
Hash:d},b("/rec/page",c,function(b){b=JSON.parse(b);N(b);p.prequeue(a.EVENT_SYS_SETVAR,["user",l(b.InitSetUserVars),!0]);window._fs_ready&&window._fs_ready();for(var c=0;c<b.Blocks.length;++c)s.addRule(b.Blocks[c]);p.startPipeline()},function(){p.disableRecording();P();h("Disabling FS.");window._fs_ready&&window._fs_ready(!0)});else{h("Unable to record playback stream.");var e=document.createElement("script");window.__fs_startResponse=function(a){N(a);document.body.removeChild(e)};e.src="//"+y+"/rec/page?OrgId="+
w+"&UserId="+v+"&Url="+encodeURIComponent(location.href)+"&Base="+encodeURIComponent(k())+"&ScreenWidth="+window.screen.width+"&ScreenHeight="+window.screen.height+"&Width="+c.clientWidth+"&Height="+c.clientHeight+"&Referrer="+encodeURIComponent(document.referrer)+"&Doctype="+encodeURIComponent(M())+"&Fallback=true"+(d?"&Hash="+d:"");document.body.appendChild(e)}}function aa(){U.hookMutations();document.documentElement.addEventListener("scroll",function(b){b=b.target;var c=a.fsid(b);c&&p.enqueue(a.EVENT_SCROLL,
[c,b.scrollLeft,b.scrollTop])},!0);window.addEventListener("mousemove",function(b){b=a.hasFsid(b.target)?[b.clientX,b.clientY,a.fsid(b.target)]:[b.clientX,b.clientY];p.enqueue(a.EVENT_MOUSEMOVE,b)},!0);window.addEventListener("mousedown",function(b){p.enqueue(a.EVENT_MOUSEDOWN,[b.clientX,b.clientY]);!e(b.target,{button:!0,a:!0,input:!0})||"input"==f(b)&&"submit"!=b.target.type||p.swanSong()},!0);window.addEventListener("mouseup",function(b){p.enqueue(a.EVENT_MOUSEUP,[b.clientX,b.clientY])},!0);window.addEventListener("keydown",
function(b){q();var c=document.activeElement;c&&!a.fsidIfNotBlocked(c)||p.enqueue(a.EVENT_KEYDOWN,[b.keyCode]);switch(f(b)){case "button":13!=b.keyCode&&32!=b.keyCode||p.swanSong();break;case "a":13==b.keyCode&&p.swanSong();break;case "input":"submit"==b.target.type&&13==b.keyCode&&p.swanSong()}},!0);window.addEventListener("keyup",function(b){q();var c=document.activeElement;c&&!a.fsidIfNotBlocked(c)||p.enqueue(a.EVENT_KEYUP,[b.keyCode])},!0);window.addEventListener("scroll",function(a){m()});window.addEventListener("resize",
function(a){x()});document.body.addEventListener("click",function(b){(b=a.fsid(b.target))&&p.enqueue(a.EVENT_CLICK,[b])},!0);document.body.addEventListener("focus",function(b){(b=a.fsid(b.target))&&p.enqueue(a.EVENT_FOCUS,[b])},!0);document.body.addEventListener("blur",function(b){(b=a.fsid(b.target))&&p.enqueue(a.EVENT_BLUR,[b])},!0);document.body.addEventListener("change",function(a){t(a.target)},!0);window.addEventListener("touchstart",function(b){g(b,a.EVENT_TOUCHSTART)},!0);window.addEventListener("touchend",
function(b){g(b,a.EVENT_TOUCHEND)},!0);window.addEventListener("touchmove",function(b){g(b,a.EVENT_TOUCHMOVE);m()},!0);window.addEventListener("touchcancel",function(b){g(b,a.EVENT_TOUCHCANCEL)},!0);window.addEventListener("play",function(b){var c=a.EVENT_PLAY;(b=a.fsid(b.target))&&p.enqueue(c,[b])},!0);window.addEventListener("pause",function(b){var c=a.EVENT_PAUSE;(b=a.fsid(b.target))&&p.enqueue(c,[b])},!0);I.hookEvents();if(history.pushState){window.addEventListener("popstate",function(){u()});
var b=history.pushState;history.pushState=function(a,c,d){b.call(this,a,c,d);u()};var c=history.replaceState;history.replaceState=function(a,b,d){c.call(this,a,b,d);u()}}}function ba(){var b=!1,d=function(){b||(b=!0,p.enqueue(a.EVENT_DOMLOADED,[]),aa(),x())},e=!1,f=function(){e||(e=!0,p.enqueue(a.EVENT_LOAD,[]))};switch(document.readyState){case "interactive":document.attachEvent||d();break;case "complete":d(),f()}b||document.addEventListener("DOMContentLoaded",function(a){d()});e||window.addEventListener("load",
function(a){d();f()});c()||(window.addEventListener("beforeunload",function(a){r()}),window.addEventListener("unload",function(a){r()}))}function O(b,c){var d={},e;for(e in c)if(c.hasOwnProperty(e)){var f=c[e];h("set-var("+b+'): "'+e+'" = '+l(f));"user"!=b&&h('invalid scope "'+b+'"; only "user" is supported at present');var g;if(e in V)g=V[e];else{g=e.split("_");if(2!=g.length){h('variables must be of the form "name_type", where "type" is one of [str, bool, int, real, date]');continue}g=g[1]}g in
W?W[g](f)?("date"==g&&(f=(f.constructor===Date?f:new Date(f)).toISOString()),d[e]=f):h("illegal value "+l(f)+" for type "+g):h('invalid type "'+g+'"')}p.enqueue(a.EVENT_SYS_SETVAR,[b,l(d)])}function Q(){return v+":"+D}function da(){window.addEventListener("message",function(b){if("string"==typeof b.data&&0==b.data.indexOf(a.FS_MESSAGE_PREFIX)){var c=b.data.split(a.FS_DELIMITER);if(c[0]==a.FS_SET_FRAME_ID_CMD)try{var d=parseInt(c[1]),e=parseInt(c[2]);var f=JSON.parse(c[3]);if(d){h("iframe recording. FrameId: "+
d);B=d;for(c=0;c<f.length;++c)s.addRule(f[c]);p.rebaseIframe(e);z=e;p.startPipeline()}else h("Outer page gave us a bogus frame Id! Iframe: "+location.href)}catch(g){h("Failed to parse frameId from message"+b.data)}else c[0]==a.FS_DISABLE_RECORDING?(p.disableRecording(),P()):h("Invalid _fs postmessage command"+c[0])}});B||(0==B?h("For some reason the outer window attempted to request a frameId"):parent.postMessage(a.FS_REQUEST_FRAME_ID+a.FS_DELIMITER,"*"))}function P(){for(var b=0;b<A.length;b++){var c=
A[b];c.contentWindow&&c.contentWindow.postMessage&&c.contentWindow.postMessage(a.FS_DISABLE_RECORDING,"*")}}function ea(){window.addEventListener("message",function(b){if("string"==typeof b.data&&0==b.data.indexOf(a.FS_MESSAGE_PREFIX)){var c=b.data.split(a.FS_DELIMITER);if(c[0]==a.FS_IFRAME_EVENTS){b=JSON.parse(c[1]);var c=p.lastSentEventTime(),d=X[b[0].FId];c<d&&(c=d);if(b[0].When<c)for(var c=c-b[0].When,d=0,e=b.length;d<e;d++)b[d].When+=c;p.appendToOutgoingQueue(b)}else if(c[0]==a.FS_REQUEST_FRAME_ID){a:{c=
b.source;for(d=0;d<A.length;d++)if(A[d].contentWindow==c){c=a.fsid(A[d]);break a}h("Unable to locate frame for window");c=NaN}c?(d=l(s.rawRules),b.source.postMessage(a.FS_SET_FRAME_ID_CMD+a.FS_DELIMITER+c+a.FS_DELIMITER+z+a.FS_DELIMITER+d,"*")):h("No FrameId found. Hoping to send one later.")}else h("Invalid _fs postmessage command"+c[0])}})}function J(a){try{if("FS"in a.contentWindow)h("'FS' already defined in iframe. Aborting injection.");else{var b="if (!('FS' in window)) { var _fs_org='"+w+"', _fs_host='"+
y+"', _fs_run_in_iframe=true, _fs_debug="+C+"; (function(w,a,t){a=w.createElement('script');a.async=1;a.src='https://'+_fs_host+'/s/fs.js';w.head.appendChild(a)})(document); }",c=a.contentDocument,d=c.createElement("script");d.innerText=b;c.head.appendChild(d)}}catch(e){h("iFrame no injecty. Probably not same origin.")}}function fa(b,c){A.push(c);if(c.hasAttribute("src")&&("javascript:;"!=c.src&&"about:blank"!=c.src&&"javascript:false;"!=c.src&&0!=c.src.indexOf(ga)||"FS"in c.contentWindow))h("Frame Doesn't need injecting ["+
c.src+"]");else if(h("Attempting to setup Frame ["+c.src+"]"),J(c),c.onload&&"function"==typeof c.onload){var d=c.onload;c.onload=function(a){d.call(this,a);J(c)}}else c.onload=function(){J(c)};if(c.contentWindow.postMessage){var e=l(s.rawRules);c.contentWindow.postMessage(a.FS_SET_FRAME_ID_CMD+a.FS_DELIMITER+b+a.FS_DELIMITER+z+a.FS_DELIMITER+e,"*")}}var C=!1,F=0,w,v,D,H,B,y,T,ga=window.location.protocol+"//"+window.location.host,R,E,z=d(),G,X={},Y,K={startTime:function(){return z},now:function(){return d()-
z},wallTime:d,orgId:function(){return w},userId:function(){return v},sessionId:function(){return D},pageId:function(){return H},baseUri:k,amInsideIFrame:c,frameId:function(){return B},post:b,addWindowScroll:m},s=new a.Blocker,L=new a.IdTree,I=new a.InputWatcher(function(a){t(a)},function(a){return!!L.find(a)}),U=new a.MutationHandler(K,s,L,function(b,c){switch(c.nodeName){case "INPUT":case "TEXTAREA":case "SELECT":I.addInput(a.fsid(c),c);break;case "IFRAME":var d=a.fsid(c);if(!d){h("fsid missing or invalid for iFrame."+
c.src);break}Y||(ea(),Y=!0);X[d]=b;fa(d,c);break;case "VIDEO":case "AUDIO":c.paused||(d=a.fsid(c),p.enqueue(a.EVENT_PLAY,[d]))}}),ha=new a.EventProcessor(K,L,s),p=new a.EventQueue(K,ha,U,function(){I.tick()});a.log=h;a.stringify=l;var S=!1;a._init=function(){if("_fs_host"in window||"_fs_ext_host"in window)if("_fs_org"in window||"_fs_ext_org"in window)if("_fs_ext_debug"in window?C=!!window._fs_ext_debug:"_fs_debug"in window&&(C=!!window._fs_debug),y=window._fs_ext_host||window._fs_host,w=window._fs_ext_org||
window._fs_org,R=!!window._fs_is_outer_script,B=c()?null:0,h("host: "+y),h("orgid: "+w),E=!!window.MutationEvent,c())window._fs_run_in_iframe?parent.postMessage?da():(E=!1,h("postMessage not supported")):h("Fullstory recording for this page is NOT allowed within an iFrame.");else{s.addRule({Selector:"object",Kind:a.NYI_KIND});s.addRule({Selector:"embed",Kind:a.NYI_KIND});s.addRule({Selector:"canvas",Kind:a.NYI_KIND});s.addRule({Selector:"noscript",Kind:a.BLOCKED_KIND});s.addRule({Selector:".fs-hide",
Kind:a.HIDE_KIND});var b=window.FS.q;if(b){for(var d=0;d<b.length;d++)O(b[d][0],b[d][1]);delete window.FS.q}$()}else h("Missing global _fs_org. Recording disabled.");else h("Missing global _fs_host. Recording disabled.")};a._record=function(){E&&(p.recoverSwanSong(),z=d(),ba())};var V={uid:"str",displayName:"str",email:"str"},W={str:function(a){return"string"==typeof a},bool:function(a){return"boolean"==typeof a},"int":function(a){return"number"==typeof a&&0==a-Math.floor(a)},real:function(a){return"number"==
typeof a},date:function(a){return!isNaN(a.constructor===Date?a:new Date(a))}};a._api=O;a.setUid=function(b,c,d){b&&"string"==typeof b?c&&"string"!=typeof c?h("setUid(): second argument (display name) must be a string"):(c||(c=b),d&&"object"!=typeof d?h('setUid(): third argument (metadata) must be of the form {name0: "value0", name1: "value1", ...}'):(d=d?l(d):"",h("setting uid: "+b+", meta: "+d),p.enqueue(a.EVENT_SYS_SETMETA,[b,c,d]))):h("setUid(): first argument (user id) is required and must be a string")};
a.getCurrentSessionURL=function(){return"https://"+y+"/ui/"+w+"/discover/session/"+Q()};a.getCurrentSession=Q;a.FS_MESSAGE_PREFIX="_fs";a.FS_DELIMITER="\u2603";a.FS_REQUEST_FRAME_ID=a.FS_MESSAGE_PREFIX+"RequestFrameId";a.FS_SET_FRAME_ID_CMD=a.FS_MESSAGE_PREFIX+"SetFrameId";a.FS_IFRAME_EVENTS=a.FS_MESSAGE_PREFIX+"EvtBundle";a.FS_DISABLE_RECORDING=a.FS_MESSAGE_PREFIX+"DisableRecording";var A=[]})(l||(l={}));try{"FS"in window||(window.FS={}),window.FS.setUid=l.setUid,window.FS.getCurrentSessionURL=l.getCurrentSessionURL,
window.FS.getCurrentSession=l.getCurrentSession,window.FS._api=l._api,l._init(),l._record()}catch(u){window.console&&console.log&&console.log("Failed to initialize FullStory.")}})();
