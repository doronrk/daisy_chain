LocalizedStrings={Convert:function(a){return a}};LocalizedNumbers={Convert:function(a){return a}};
/*!
 * jQuery JavaScript Library v1.7.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Nov 21 21:11:03 2011 -0500
 */
(function(bc,M){var aw=bc.document,bv=bc.navigator,bm=bc.location;var b=(function(){var bG=function(b1,b2){return new bG.fn.init(b1,b2,bE)},bV=bc.jQuery,bI=bc.$,bE,bZ=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bN=/\S/,bJ=/^\s+/,bF=/\s+$/,bB=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bO=/^[\],:{}\s]*$/,bX=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,bQ=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bK=/(?:^|:|,)(?:\s*\[)+/g,bz=/(webkit)[ \/]([\w.]+)/,bS=/(opera)(?:.*version)?[ \/]([\w.]+)/,bR=/(msie) ([\w.]+)/,bT=/(mozilla)(?:.*? rv:([\w.]+))?/,bC=/-([a-z]|[0-9])/ig,b0=/^-ms-/,bU=function(b1,b2){return(b2+"").toUpperCase()},bY=bv.userAgent,bW,bD,e,bM=Object.prototype.toString,bH=Object.prototype.hasOwnProperty,bA=Array.prototype.push,bL=Array.prototype.slice,bP=String.prototype.trim,bw=Array.prototype.indexOf,by={};bG.fn=bG.prototype={constructor:bG,init:function(b1,b5,b4){var b3,b6,b2,b7;if(!b1){return this}if(b1.nodeType){this.context=this[0]=b1;this.length=1;return this}if(b1==="body"&&!b5&&aw.body){this.context=aw;this[0]=aw.body;this.selector=b1;this.length=1;return this}if(typeof b1==="string"){if(b1.charAt(0)==="<"&&b1.charAt(b1.length-1)===">"&&b1.length>=3){b3=[null,b1,null]}else{b3=bZ.exec(b1)}if(b3&&(b3[1]||!b5)){if(b3[1]){b5=b5 instanceof bG?b5[0]:b5;b7=(b5?b5.ownerDocument||b5:aw);b2=bB.exec(b1);if(b2){if(bG.isPlainObject(b5)){b1=[aw.createElement(b2[1])];bG.fn.attr.call(b1,b5,true)}else{b1=[b7.createElement(b2[1])]}}else{b2=bG.buildFragment([b3[1]],[b7]);b1=(b2.cacheable?bG.clone(b2.fragment):b2.fragment).childNodes}return bG.merge(this,b1)}else{b6=aw.getElementById(b3[2]);if(b6&&b6.parentNode){if(b6.id!==b3[2]){return b4.find(b1)}this.length=1;this[0]=b6}this.context=aw;this.selector=b1;return this}}else{if(!b5||b5.jquery){return(b5||b4).find(b1)}else{return this.constructor(b5).find(b1)}}}else{if(bG.isFunction(b1)){return b4.ready(b1)}}if(b1.selector!==M){this.selector=b1.selector;this.context=b1.context}return bG.makeArray(b1,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return bL.call(this,0)},get:function(b1){return b1==null?this.toArray():(b1<0?this[this.length+b1]:this[b1])},pushStack:function(b2,b4,b1){var b3=this.constructor();if(bG.isArray(b2)){bA.apply(b3,b2)}else{bG.merge(b3,b2)}b3.prevObject=this;b3.context=this.context;if(b4==="find"){b3.selector=this.selector+(this.selector?" ":"")+b1}else{if(b4){b3.selector=this.selector+"."+b4+"("+b1+")"}}return b3},each:function(b2,b1){return bG.each(this,b2,b1)},ready:function(b1){bG.bindReady();bD.add(b1);return this},eq:function(b1){b1=+b1;return b1===-1?this.slice(b1):this.slice(b1,b1+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bL.apply(this,arguments),"slice",bL.call(arguments).join(","))},map:function(b1){return this.pushStack(bG.map(this,function(b3,b2){return b1.call(b3,b2,b3)}))},end:function(){return this.prevObject||this.constructor(null)},push:bA,sort:[].sort,splice:[].splice};bG.fn.init.prototype=bG.fn;bG.extend=bG.fn.extend=function(){var ca,b3,b1,b2,b7,b8,b6=arguments[0]||{},b5=1,b4=arguments.length,b9=false;if(typeof b6==="boolean"){b9=b6;b6=arguments[1]||{};b5=2}if(typeof b6!=="object"&&!bG.isFunction(b6)){b6={}}if(b4===b5){b6=this;--b5}for(;b5<b4;b5++){if((ca=arguments[b5])!=null){for(b3 in ca){b1=b6[b3];b2=ca[b3];if(b6===b2){continue}if(b9&&b2&&(bG.isPlainObject(b2)||(b7=bG.isArray(b2)))){if(b7){b7=false;b8=b1&&bG.isArray(b1)?b1:[]}else{b8=b1&&bG.isPlainObject(b1)?b1:{}}b6[b3]=bG.extend(b9,b8,b2)}else{if(b2!==M){b6[b3]=b2}}}}}return b6};bG.extend({noConflict:function(b1){if(bc.$===bG){bc.$=bI}if(b1&&bc.jQuery===bG){bc.jQuery=bV}return bG},isReady:false,readyWait:1,holdReady:function(b1){if(b1){bG.readyWait++}else{bG.ready(true)}},ready:function(b1){if((b1===true&&!--bG.readyWait)||(b1!==true&&!bG.isReady)){if(!aw.body){return setTimeout(bG.ready,1)}bG.isReady=true;if(b1!==true&&--bG.readyWait>0){return}bD.fireWith(aw,[bG]);if(bG.fn.trigger){bG(aw).trigger("ready").off("ready")}}},bindReady:function(){if(bD){return}bD=bG.Callbacks("once memory");if(aw.readyState==="complete"){return setTimeout(bG.ready,1)}if(aw.addEventListener){aw.addEventListener("DOMContentLoaded",e,false);bc.addEventListener("load",bG.ready,false)}else{if(aw.attachEvent){aw.attachEvent("onreadystatechange",e);bc.attachEvent("onload",bG.ready);var b1=false;try{b1=bc.frameElement==null}catch(b2){}if(aw.documentElement.doScroll&&b1){bx()}}}},isFunction:function(b1){return bG.type(b1)==="function"},isArray:Array.isArray||function(b1){return bG.type(b1)==="array"},isWindow:function(b1){return b1&&typeof b1==="object"&&"setInterval" in b1},isNumeric:function(b1){return !isNaN(parseFloat(b1))&&isFinite(b1)},type:function(b1){return b1==null?String(b1):by[bM.call(b1)]||"object"},isPlainObject:function(b3){if(!b3||bG.type(b3)!=="object"||b3.nodeType||bG.isWindow(b3)){return false}try{if(b3.constructor&&!bH.call(b3,"constructor")&&!bH.call(b3.constructor.prototype,"isPrototypeOf")){return false}}catch(b2){return false}var b1;for(b1 in b3){}return b1===M||bH.call(b3,b1)},isEmptyObject:function(b2){for(var b1 in b2){return false}return true},error:function(b1){throw new Error(b1)},parseJSON:function(b1){if(typeof b1!=="string"||!b1){return null}b1=bG.trim(b1);if(bc.JSON&&bc.JSON.parse){return bc.JSON.parse(b1)}if(bO.test(b1.replace(bX,"@").replace(bQ,"]").replace(bK,""))){return(new Function("return "+b1))()}bG.error("Invalid JSON: "+b1)},parseXML:function(b3){var b1,b2;try{if(bc.DOMParser){b2=new DOMParser();b1=b2.parseFromString(b3,"text/xml")}else{b1=new ActiveXObject("Microsoft.XMLDOM");b1.async="false";b1.loadXML(b3)}}catch(b4){b1=M}if(!b1||!b1.documentElement||b1.getElementsByTagName("parsererror").length){bG.error("Invalid XML: "+b3)}return b1},noop:function(){},globalEval:function(b1){if(b1&&bN.test(b1)){(bc.execScript||function(b2){bc["eval"].call(bc,b2)})(b1)}},camelCase:function(b1){return b1.replace(b0,"ms-").replace(bC,bU)},nodeName:function(b2,b1){return b2.nodeName&&b2.nodeName.toUpperCase()===b1.toUpperCase()},each:function(b4,b7,b3){var b2,b5=0,b6=b4.length,b1=b6===M||bG.isFunction(b4);if(b3){if(b1){for(b2 in b4){if(b7.apply(b4[b2],b3)===false){break}}}else{for(;b5<b6;){if(b7.apply(b4[b5++],b3)===false){break}}}}else{if(b1){for(b2 in b4){if(b7.call(b4[b2],b2,b4[b2])===false){break}}}else{for(;b5<b6;){if(b7.call(b4[b5],b5,b4[b5++])===false){break}}}}return b4},trim:bP?function(b1){return b1==null?"":bP.call(b1)}:function(b1){return b1==null?"":b1.toString().replace(bJ,"").replace(bF,"")},makeArray:function(b4,b2){var b1=b2||[];if(b4!=null){var b3=bG.type(b4);if(b4.length==null||b3==="string"||b3==="function"||b3==="regexp"||bG.isWindow(b4)){bA.call(b1,b4)}else{bG.merge(b1,b4)}}return b1},inArray:function(b3,b4,b2){var b1;if(b4){if(bw){return bw.call(b4,b3,b2)}b1=b4.length;b2=b2?b2<0?Math.max(0,b1+b2):b2:0;for(;b2<b1;b2++){if(b2 in b4&&b4[b2]===b3){return b2}}}return -1},merge:function(b5,b3){var b4=b5.length,b2=0;if(typeof b3.length==="number"){for(var b1=b3.length;b2<b1;b2++){b5[b4++]=b3[b2]}}else{while(b3[b2]!==M){b5[b4++]=b3[b2++]}}b5.length=b4;return b5},grep:function(b2,b7,b1){var b3=[],b6;b1=!!b1;for(var b4=0,b5=b2.length;b4<b5;b4++){b6=!!b7(b2[b4],b4);if(b1!==b6){b3.push(b2[b4])}}return b3},map:function(b1,b8,b9){var b6,b7,b5=[],b3=0,b2=b1.length,b4=b1 instanceof bG||b2!==M&&typeof b2==="number"&&((b2>0&&b1[0]&&b1[b2-1])||b2===0||bG.isArray(b1));if(b4){for(;b3<b2;b3++){b6=b8(b1[b3],b3,b9);if(b6!=null){b5[b5.length]=b6}}}else{for(b7 in b1){b6=b8(b1[b7],b7,b9);if(b6!=null){b5[b5.length]=b6}}}return b5.concat.apply([],b5)},guid:1,proxy:function(b5,b4){if(typeof b4==="string"){var b3=b5[b4];b4=b5;b5=b3}if(!bG.isFunction(b5)){return M}var b1=bL.call(arguments,2),b2=function(){return b5.apply(b4,b1.concat(bL.call(arguments)))};b2.guid=b5.guid=b5.guid||b2.guid||bG.guid++;return b2},access:function(b1,b9,b7,b3,b6,b8){var b2=b1.length;if(typeof b9==="object"){for(var b4 in b9){bG.access(b1,b4,b9[b4],b3,b6,b7)}return b1}if(b7!==M){b3=!b8&&b3&&bG.isFunction(b7);for(var b5=0;b5<b2;b5++){b6(b1[b5],b9,b3?b7.call(b1[b5],b5,b6(b1[b5],b9)):b7,b8)}return b1}return b2?b6(b1[0],b9):M},now:function(){return(new Date()).getTime()},uaMatch:function(b2){b2=b2.toLowerCase();var b1=bz.exec(b2)||bS.exec(b2)||bR.exec(b2)||b2.indexOf("compatible")<0&&bT.exec(b2)||[];return{browser:b1[1]||"",version:b1[2]||"0"}},sub:function(){function b1(b4,b5){return new b1.fn.init(b4,b5)}bG.extend(true,b1,this);b1.superclass=this;b1.fn=b1.prototype=this();b1.fn.constructor=b1;b1.sub=this.sub;b1.fn.init=function b3(b4,b5){if(b5&&b5 instanceof bG&&!(b5 instanceof b1)){b5=b1(b5)}return bG.fn.init.call(this,b4,b5,b2)};b1.fn.init.prototype=b1.fn;var b2=b1(aw);return b1},browser:{}});bG.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b2,b1){by["[object "+b1+"]"]=b1.toLowerCase()});bW=bG.uaMatch(bY);if(bW.browser){bG.browser[bW.browser]=true;bG.browser.version=bW.version}if(bG.browser.webkit){bG.browser.safari=true}if(bN.test("\xA0")){bJ=/^[\s\xA0]+/;bF=/[\s\xA0]+$/}bE=bG(aw);if(aw.addEventListener){e=function(){aw.removeEventListener("DOMContentLoaded",e,false);bG.ready()}}else{if(aw.attachEvent){e=function(){if(aw.readyState==="complete"){aw.detachEvent("onreadystatechange",e);bG.ready()}}}}function bx(){if(bG.isReady){return}try{aw.documentElement.doScroll("left")}catch(b1){setTimeout(bx,1);return}bG.ready()}return bG})();var a3={};function Y(e){var bw=a3[e]={},bx,by;e=e.split(/\s+/);for(bx=0,by=e.length;bx<by;bx++){bw[e[bx]]=true}return bw}b.Callbacks=function(bx){bx=bx?(a3[bx]||Y(bx)):{};var bC=[],bD=[],by,bz,bw,bA,bB,bF=function(bG){var bH,bK,bJ,bI,bL;for(bH=0,bK=bG.length;bH<bK;bH++){bJ=bG[bH];bI=b.type(bJ);if(bI==="array"){bF(bJ)}else{if(bI==="function"){if(!bx.unique||!bE.has(bJ)){bC.push(bJ)}}}}},e=function(bH,bG){bG=bG||[];by=!bx.memory||[bH,bG];bz=true;bB=bw||0;bw=0;bA=bC.length;for(;bC&&bB<bA;bB++){if(bC[bB].apply(bH,bG)===false&&bx.stopOnFalse){by=true;break}}bz=false;if(bC){if(!bx.once){if(bD&&bD.length){by=bD.shift();bE.fireWith(by[0],by[1])}}else{if(by===true){bE.disable()}else{bC=[]}}}},bE={add:function(){if(bC){var bG=bC.length;bF(arguments);if(bz){bA=bC.length}else{if(by&&by!==true){bw=bG;e(by[0],by[1])}}}return this},remove:function(){if(bC){var bG=arguments,bI=0,bJ=bG.length;for(;bI<bJ;bI++){for(var bH=0;bH<bC.length;bH++){if(bG[bI]===bC[bH]){if(bz){if(bH<=bA){bA--;if(bH<=bB){bB--}}}bC.splice(bH--,1);if(bx.unique){break}}}}}return this},has:function(bH){if(bC){var bG=0,bI=bC.length;for(;bG<bI;bG++){if(bH===bC[bG]){return true}}}return false},empty:function(){bC=[];return this},disable:function(){bC=bD=by=M;return this},disabled:function(){return !bC},lock:function(){bD=M;if(!by||by===true){bE.disable()}return this},locked:function(){return !bD},fireWith:function(bH,bG){if(bD){if(bz){if(!bx.once){bD.push([bH,bG])}}else{if(!(bx.once&&by)){e(bH,bG)}}}return this},fire:function(){bE.fireWith(this,arguments);return this},fired:function(){return !!by}};return bE};var aK=[].slice;b.extend({Deferred:function(bz){var by=b.Callbacks("once memory"),bx=b.Callbacks("once memory"),bw=b.Callbacks("memory"),e="pending",bB={resolve:by,reject:bx,notify:bw},bD={done:by.add,fail:bx.add,progress:bw.add,state:function(){return e},isResolved:by.fired,isRejected:bx.fired,then:function(bF,bE,bG){bC.done(bF).fail(bE).progress(bG);return this},always:function(){bC.done.apply(bC,arguments).fail.apply(bC,arguments);return this},pipe:function(bG,bF,bE){return b.Deferred(function(bH){b.each({done:[bG,"resolve"],fail:[bF,"reject"],progress:[bE,"notify"]},function(bJ,bM){var bI=bM[0],bL=bM[1],bK;if(b.isFunction(bI)){bC[bJ](function(){bK=bI.apply(this,arguments);if(bK&&b.isFunction(bK.promise)){bK.promise().then(bH.resolve,bH.reject,bH.notify)}else{bH[bL+"With"](this===bC?bH:this,[bK])}})}else{bC[bJ](bH[bL])}})}).promise()},promise:function(bF){if(bF==null){bF=bD}else{for(var bE in bD){bF[bE]=bD[bE]}}return bF}},bC=bD.promise({}),bA;for(bA in bB){bC[bA]=bB[bA].fire;bC[bA+"With"]=bB[bA].fireWith}bC.done(function(){e="resolved"},bx.disable,bw.lock).fail(function(){e="rejected"},by.disable,bw.lock);if(bz){bz.call(bC,bC)}return bC},when:function(bB){var by=aK.call(arguments,0),bw=0,e=by.length,bC=new Array(e),bx=e,bz=e,bD=e<=1&&bB&&b.isFunction(bB.promise)?bB:b.Deferred(),bF=bD.promise();function bE(bG){return function(bH){by[bG]=arguments.length>1?aK.call(arguments,0):bH;if(!(--bx)){bD.resolveWith(bD,by)}}}function bA(bG){return function(bH){bC[bG]=arguments.length>1?aK.call(arguments,0):bH;bD.notifyWith(bF,bC)}}if(e>1){for(;bw<e;bw++){if(by[bw]&&by[bw].promise&&b.isFunction(by[bw].promise)){by[bw].promise().then(bE(bw),bD.reject,bA(bw))}else{--bx}}if(!bx){bD.resolveWith(bD,by)}}else{if(bD!==bB){bD.resolveWith(bD,e?[bB]:[])}}return bF}});b.support=(function(){var bK,bJ,bG,bH,by,bF,bB,bE,bA,bL,bC,bz,bx,bw=aw.createElement("div"),bI=aw.documentElement;bw.setAttribute("className","t");bw.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";bJ=bw.getElementsByTagName("*");bG=bw.getElementsByTagName("a")[0];if(!bJ||!bJ.length||!bG){return{}}bH=aw.createElement("select");by=bH.appendChild(aw.createElement("option"));bF=bw.getElementsByTagName("input")[0];bK={leadingWhitespace:(bw.firstChild.nodeType===3),tbody:!bw.getElementsByTagName("tbody").length,htmlSerialize:!!bw.getElementsByTagName("link").length,style:/top/.test(bG.getAttribute("style")),hrefNormalized:(bG.getAttribute("href")==="/a"),opacity:/^0.55/.test(bG.style.opacity),cssFloat:!!bG.style.cssFloat,checkOn:(bF.value==="on"),optSelected:by.selected,getSetAttribute:bw.className!=="t",enctype:!!aw.createElement("form").enctype,html5Clone:aw.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};bF.checked=true;bK.noCloneChecked=bF.cloneNode(true).checked;bH.disabled=true;bK.optDisabled=!by.disabled;try{delete bw.test}catch(bD){bK.deleteExpando=false}if(!bw.addEventListener&&bw.attachEvent&&bw.fireEvent){bw.attachEvent("onclick",function(){bK.noCloneEvent=false});bw.cloneNode(true).fireEvent("onclick")}bF=aw.createElement("input");bF.value="t";bF.setAttribute("type","radio");bK.radioValue=bF.value==="t";bF.setAttribute("checked","checked");bw.appendChild(bF);bE=aw.createDocumentFragment();bE.appendChild(bw.lastChild);bK.checkClone=bE.cloneNode(true).cloneNode(true).lastChild.checked;bK.appendChecked=bF.checked;bE.removeChild(bF);bE.appendChild(bw);bw.innerHTML="";if(bc.getComputedStyle){bB=aw.createElement("div");bB.style.width="0";bB.style.marginRight="0";bw.style.width="2px";bw.appendChild(bB);bK.reliableMarginRight=(parseInt((bc.getComputedStyle(bB,null)||{marginRight:0}).marginRight,10)||0)===0}if(bw.attachEvent){for(bz in {submit:1,change:1,focusin:1}){bC="on"+bz;bx=(bC in bw);if(!bx){bw.setAttribute(bC,"return;");bx=(typeof bw[bC]==="function")}bK[bz+"Bubbles"]=bx}}bE.removeChild(bw);bE=bH=by=bB=bw=bF=null;b(function(){var bN,bV,bW,bU,bO,bP,bM,bT,bS,e,bQ,bR=aw.getElementsByTagName("body")[0];if(!bR){return}bM=1;bT="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;";bS="visibility:hidden;border:0;";e="style='"+bT+"border:5px solid #000;padding:0;'";bQ="<div "+e+"><div></div></div><table "+e+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";bN=aw.createElement("div");bN.style.cssText=bS+"width:0;height:0;position:static;top:0;margin-top:"+bM+"px";bR.insertBefore(bN,bR.firstChild);bw=aw.createElement("div");bN.appendChild(bw);bw.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";bA=bw.getElementsByTagName("td");bx=(bA[0].offsetHeight===0);bA[0].style.display="";bA[1].style.display="none";bK.reliableHiddenOffsets=bx&&(bA[0].offsetHeight===0);bw.innerHTML="";bw.style.width=bw.style.paddingLeft="1px";b.boxModel=bK.boxModel=bw.offsetWidth===2;if(typeof bw.style.zoom!=="undefined"){bw.style.display="inline";bw.style.zoom=1;bK.inlineBlockNeedsLayout=(bw.offsetWidth===2);bw.style.display="";bw.innerHTML="<div style='width:4px;'></div>";bK.shrinkWrapBlocks=(bw.offsetWidth!==2)}bw.style.cssText=bT+bS;bw.innerHTML=bQ;bV=bw.firstChild;bW=bV.firstChild;bO=bV.nextSibling.firstChild.firstChild;bP={doesNotAddBorder:(bW.offsetTop!==5),doesAddBorderForTableAndCells:(bO.offsetTop===5)};bW.style.position="fixed";bW.style.top="20px";bP.fixedPosition=(bW.offsetTop===20||bW.offsetTop===15);bW.style.position=bW.style.top="";bV.style.overflow="hidden";bV.style.position="relative";bP.subtractsBorderForOverflowNotVisible=(bW.offsetTop===-5);bP.doesNotIncludeMarginInBodyOffset=(bR.offsetTop!==bM);bR.removeChild(bN);bw=bN=null;b.extend(bK,bP)});return bK})();var aT=/^(?:\{.*\}|\[.*\])$/,aB=/([A-Z])/g;b.extend({cache:{},uuid:0,expando:"jQuery"+(b.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?b.cache[e[b.expando]]:e[b.expando];return !!e&&!T(e)},data:function(by,bw,bA,bz){if(!b.acceptData(by)){return}var bH,bB,bE,bF=b.expando,bD=typeof bw==="string",bG=by.nodeType,e=bG?b.cache:by,bx=bG?by[bF]:by[bF]&&bF,bC=bw==="events";if((!bx||!e[bx]||(!bC&&!bz&&!e[bx].data))&&bD&&bA===M){return}if(!bx){if(bG){by[bF]=bx=++b.uuid}else{bx=bF}}if(!e[bx]){e[bx]={};if(!bG){e[bx].toJSON=b.noop}}if(typeof bw==="object"||typeof bw==="function"){if(bz){e[bx]=b.extend(e[bx],bw)}else{e[bx].data=b.extend(e[bx].data,bw)}}bH=bB=e[bx];if(!bz){if(!bB.data){bB.data={}}bB=bB.data}if(bA!==M){bB[b.camelCase(bw)]=bA}if(bC&&!bB[bw]){return bH.events}if(bD){bE=bB[bw];if(bE==null){bE=bB[b.camelCase(bw)]}}else{bE=bB}return bE},removeData:function(by,bw,bz){if(!b.acceptData(by)){return}var bC,bB,bA,bD=b.expando,bE=by.nodeType,e=bE?b.cache:by,bx=bE?by[bD]:bD;if(!e[bx]){return}if(bw){bC=bz?e[bx]:e[bx].data;if(bC){if(!b.isArray(bw)){if(bw in bC){bw=[bw]}else{bw=b.camelCase(bw);if(bw in bC){bw=[bw]}else{bw=bw.split(" ")}}}for(bB=0,bA=bw.length;bB<bA;bB++){delete bC[bw[bB]]}if(!(bz?T:b.isEmptyObject)(bC)){return}}}if(!bz){delete e[bx].data;if(!T(e[bx])){return}}if(b.support.deleteExpando||!e.setInterval){delete e[bx]}else{e[bx]=null}if(bE){if(b.support.deleteExpando){delete by[bD]}else{if(by.removeAttribute){by.removeAttribute(bD)}else{by[bD]=null}}}},_data:function(bw,e,bx){return b.data(bw,e,bx,true)},acceptData:function(bw){if(bw.nodeName){var e=b.noData[bw.nodeName.toLowerCase()];if(e){return !(e===true||bw.getAttribute("classid")!==e)}}return true}});b.fn.extend({data:function(bz,bB){var bC,e,bx,bA=null;if(typeof bz==="undefined"){if(this.length){bA=b.data(this[0]);if(this[0].nodeType===1&&!b._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var by=0,bw=e.length;by<bw;by++){bx=e[by].name;if(bx.indexOf("data-")===0){bx=b.camelCase(bx.substring(5));a6(this[0],bx,bA[bx])}}b._data(this[0],"parsedAttrs",true)}}return bA}else{if(typeof bz==="object"){return this.each(function(){b.data(this,bz)})}}bC=bz.split(".");bC[1]=bC[1]?"."+bC[1]:"";if(bB===M){bA=this.triggerHandler("getData"+bC[1]+"!",[bC[0]]);if(bA===M&&this.length){bA=b.data(this[0],bz);bA=a6(this[0],bz,bA)}return bA===M&&bC[1]?this.data(bC[0]):bA}else{return this.each(function(){var bD=b(this),bE=[bC[0],bB];bD.triggerHandler("setData"+bC[1]+"!",bE);b.data(this,bz,bB);bD.triggerHandler("changeData"+bC[1]+"!",bE)})}},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function a6(by,bx,bz){if(bz===M&&by.nodeType===1){var bw="data-"+bx.replace(aB,"-$1").toLowerCase();bz=by.getAttribute(bw);if(typeof bz==="string"){try{bz=bz==="true"?true:bz==="false"?false:bz==="null"?null:b.isNumeric(bz)?parseFloat(bz):aT.test(bz)?b.parseJSON(bz):bz}catch(bA){}b.data(by,bx,bz)}else{bz=M}}return bz}function T(bw){for(var e in bw){if(e==="data"&&b.isEmptyObject(bw[e])){continue}if(e!=="toJSON"){return false}}return true}function bj(bz,by,bB){var bx=by+"defer",bw=by+"queue",e=by+"mark",bA=b._data(bz,bx);if(bA&&(bB==="queue"||!b._data(bz,bw))&&(bB==="mark"||!b._data(bz,e))){setTimeout(function(){if(!b._data(bz,bw)&&!b._data(bz,e)){b.removeData(bz,bx,true);bA.fire()}},0)}}b.extend({_mark:function(bw,e){if(bw){e=(e||"fx")+"mark";b._data(bw,e,(b._data(bw,e)||0)+1)}},_unmark:function(bz,by,bw){if(bz!==true){bw=by;by=bz;bz=false}if(by){bw=bw||"fx";var e=bw+"mark",bx=bz?0:((b._data(by,e)||1)-1);if(bx){b._data(by,e,bx)}else{b.removeData(by,e,true);bj(by,bw,"mark")}}},queue:function(bw,e,by){var bx;if(bw){e=(e||"fx")+"queue";bx=b._data(bw,e);if(by){if(!bx||b.isArray(by)){bx=b._data(bw,e,b.makeArray(by))}else{bx.push(by)}}return bx||[]}},dequeue:function(bz,by){by=by||"fx";var bw=b.queue(bz,by),bx=bw.shift(),e={};if(bx==="inprogress"){bx=bw.shift()}if(bx){if(by==="fx"){bw.unshift("inprogress")}b._data(bz,by+".run",e);bx.call(bz,function(){b.dequeue(bz,by)},e)}if(!bw.length){b.removeData(bz,by+"queue "+by+".run",true);bj(bz,by,"queue")}}});b.fn.extend({queue:function(e,bw){if(typeof e!=="string"){bw=e;e="fx"}if(bw===M){return b.queue(this[0],e)}return this.each(function(){var bx=b.queue(this,e,bw);if(e==="fx"&&bx[0]!=="inprogress"){b.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(bw,e){bw=b.fx?b.fx.speeds[bw]||bw:bw;e=e||"fx";return this.queue(e,function(by,bx){var bz=setTimeout(by,bw);bx.stop=function(){clearTimeout(bz)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(bE,bx){if(typeof bE!=="string"){bx=bE;bE=M}bE=bE||"fx";var e=b.Deferred(),bw=this,bz=bw.length,bC=1,bA=bE+"defer",bB=bE+"queue",bD=bE+"mark",by;function bF(){if(!(--bC)){e.resolveWith(bw,[bw])}}while(bz--){if((by=b.data(bw[bz],bA,M,true)||(b.data(bw[bz],bB,M,true)||b.data(bw[bz],bD,M,true))&&b.data(bw[bz],bA,b.Callbacks("once memory"),true))){bC++;by.add(bF)}}bF();return e.promise()}});var aQ=/[\n\t\r]/g,ag=/\s+/,aV=/\r/g,g=/^(?:button|input)$/i,E=/^(?:button|input|object|select|textarea)$/i,m=/^a(?:rea)?$/i,ap=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,G=b.support.getSetAttribute,bf,aZ,aG;b.fn.extend({attr:function(e,bw){return b.access(this,e,bw,true,b.attr)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,bw){return b.access(this,e,bw,true,b.prop)},removeProp:function(e){e=b.propFix[e]||e;return this.each(function(){try{this[e]=M;delete this[e]}catch(bw){}})},addClass:function(bz){var bB,bx,bw,by,bA,bC,e;if(b.isFunction(bz)){return this.each(function(bD){b(this).addClass(bz.call(this,bD,this.className))})}if(bz&&typeof bz==="string"){bB=bz.split(ag);for(bx=0,bw=this.length;bx<bw;bx++){by=this[bx];if(by.nodeType===1){if(!by.className&&bB.length===1){by.className=bz}else{bA=" "+by.className+" ";for(bC=0,e=bB.length;bC<e;bC++){if(!~bA.indexOf(" "+bB[bC]+" ")){bA+=bB[bC]+" "}}by.className=b.trim(bA)}}}}return this},removeClass:function(bA){var bB,bx,bw,bz,by,bC,e;if(b.isFunction(bA)){return this.each(function(bD){b(this).removeClass(bA.call(this,bD,this.className))})}if((bA&&typeof bA==="string")||bA===M){bB=(bA||"").split(ag);for(bx=0,bw=this.length;bx<bw;bx++){bz=this[bx];if(bz.nodeType===1&&bz.className){if(bA){by=(" "+bz.className+" ").replace(aQ," ");for(bC=0,e=bB.length;bC<e;bC++){by=by.replace(" "+bB[bC]+" "," ")}bz.className=b.trim(by)}else{bz.className=""}}}}return this},toggleClass:function(by,bw){var bx=typeof by,e=typeof bw==="boolean";if(b.isFunction(by)){return this.each(function(bz){b(this).toggleClass(by.call(this,bz,this.className,bw),bw)})}return this.each(function(){if(bx==="string"){var bB,bA=0,bz=b(this),bC=bw,bD=by.split(ag);while((bB=bD[bA++])){bC=e?bC:!bz.hasClass(bB);bz[bC?"addClass":"removeClass"](bB)}}else{if(bx==="undefined"||bx==="boolean"){if(this.className){b._data(this,"__className__",this.className)}this.className=this.className||by===false?"":b._data(this,"__className__")||""}}})},hasClass:function(e){var by=" "+e+" ",bx=0,bw=this.length;for(;bx<bw;bx++){if(this[bx].nodeType===1&&(" "+this[bx].className+" ").replace(aQ," ").indexOf(by)>-1){return true}}return false},val:function(by){var e,bw,bz,bx=this[0];if(!arguments.length){if(bx){e=b.valHooks[bx.nodeName.toLowerCase()]||b.valHooks[bx.type];if(e&&"get" in e&&(bw=e.get(bx,"value"))!==M){return bw}bw=bx.value;return typeof bw==="string"?bw.replace(aV,""):bw==null?"":bw}return}bz=b.isFunction(by);return this.each(function(bB){var bA=b(this),bC;if(this.nodeType!==1){return}if(bz){bC=by.call(this,bB,bA.val())}else{bC=by}if(bC==null){bC=""}else{if(typeof bC==="number"){bC+=""}else{if(b.isArray(bC)){bC=b.map(bC,function(bD){return bD==null?"":bD+""})}}}e=b.valHooks[this.nodeName.toLowerCase()]||b.valHooks[this.type];if(!e||!("set" in e)||e.set(this,bC,"value")===M){this.value=bC}})}});b.extend({valHooks:{option:{get:function(e){var bw=e.attributes.value;return !bw||bw.specified?e.value:e.text}},select:{get:function(e){var bB,bw,bA,by,bz=e.selectedIndex,bC=[],bD=e.options,bx=e.type==="select-one";if(bz<0){return null}bw=bx?bz:0;bA=bx?bz+1:bD.length;for(;bw<bA;bw++){by=bD[bw];if(by.selected&&(b.support.optDisabled?!by.disabled:by.getAttribute("disabled")===null)&&(!by.parentNode.disabled||!b.nodeName(by.parentNode,"optgroup"))){bB=b(by).val();if(bx){return bB}bC.push(bB)}}if(bx&&!bC.length&&bD.length){return b(bD[bz]).val()}return bC},set:function(bw,bx){var e=b.makeArray(bx);b(bw).find("option").each(function(){this.selected=b.inArray(b(this).val(),e)>=0});if(!e.length){bw.selectedIndex=-1}return e}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(bB,by,bC,bA){var bx,e,bz,bw=bB.nodeType;if(!bB||bw===3||bw===8||bw===2){return}if(bA&&by in b.attrFn){return b(bB)[by](bC)}if(typeof bB.getAttribute==="undefined"){return b.prop(bB,by,bC)}bz=bw!==1||!b.isXMLDoc(bB);if(bz){by=by.toLowerCase();e=b.attrHooks[by]||(ap.test(by)?aZ:bf)}if(bC!==M){if(bC===null){b.removeAttr(bB,by);return}else{if(e&&"set" in e&&bz&&(bx=e.set(bB,bC,by))!==M){return bx}else{bB.setAttribute(by,""+bC);return bC}}}else{if(e&&"get" in e&&bz&&(bx=e.get(bB,by))!==null){return bx}else{bx=bB.getAttribute(by);return bx===null?M:bx}}},removeAttr:function(by,bA){var bz,bB,bw,e,bx=0;if(bA&&by.nodeType===1){bB=bA.toLowerCase().split(ag);e=bB.length;for(;bx<e;bx++){bw=bB[bx];if(bw){bz=b.propFix[bw]||bw;b.attr(by,bw,"");by.removeAttribute(G?bw:bz);if(ap.test(bw)&&bz in by){by[bz]=false}}}}},attrHooks:{type:{set:function(e,bw){if(g.test(e.nodeName)&&e.parentNode){b.error("type property can't be changed")}else{if(!b.support.radioValue&&bw==="radio"&&b.nodeName(e,"input")){var bx=e.value;e.setAttribute("type",bw);if(bx){e.value=bx}return bw}}}},value:{get:function(bw,e){if(bf&&b.nodeName(bw,"button")){return bf.get(bw,e)}return e in bw?bw.value:null},set:function(bw,bx,e){if(bf&&b.nodeName(bw,"button")){return bf.set(bw,bx,e)}bw.value=bx}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(bA,by,bB){var bx,e,bz,bw=bA.nodeType;if(!bA||bw===3||bw===8||bw===2){return}bz=bw!==1||!b.isXMLDoc(bA);if(bz){by=b.propFix[by]||by;e=b.propHooks[by]}if(bB!==M){if(e&&"set" in e&&(bx=e.set(bA,bB,by))!==M){return bx}else{return(bA[by]=bB)}}else{if(e&&"get" in e&&(bx=e.get(bA,by))!==null){return bx}else{return bA[by]}}},propHooks:{tabIndex:{get:function(bw){var e=bw.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):E.test(bw.nodeName)||m.test(bw.nodeName)&&bw.href?0:M}}}});b.attrHooks.tabindex=b.propHooks.tabIndex;aZ={get:function(bw,e){var by,bx=b.prop(bw,e);return bx===true||typeof bx!=="boolean"&&(by=bw.getAttributeNode(e))&&by.nodeValue!==false?e.toLowerCase():M},set:function(bw,by,e){var bx;if(by===false){b.removeAttr(bw,e)}else{bx=b.propFix[e]||e;if(bx in bw){bw[bx]=true}bw.setAttribute(e,e.toLowerCase())}return e}};if(!G){aG={name:true,id:true};bf=b.valHooks.button={get:function(bx,bw){var e;e=bx.getAttributeNode(bw);return e&&(aG[bw]?e.nodeValue!=="":e.specified)?e.nodeValue:M},set:function(bx,by,bw){var e=bx.getAttributeNode(bw);if(!e){e=aw.createAttribute(bw);bx.setAttributeNode(e)}return(e.nodeValue=by+"")}};b.attrHooks.tabindex.set=bf.set;b.each(["width","height"],function(bw,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{set:function(bx,by){if(by===""){bx.setAttribute(e,"auto");return by}}})});b.attrHooks.contenteditable={get:bf.get,set:function(bw,bx,e){if(bx===""){bx="false"}bf.set(bw,bx,e)}}}if(!b.support.hrefNormalized){b.each(["href","src","width","height"],function(bw,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{get:function(by){var bx=by.getAttribute(e,2);return bx===null?M:bx}})})}if(!b.support.style){b.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||M},set:function(e,bw){return(e.style.cssText=""+bw)}}}if(!b.support.optSelected){b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(bw){var e=bw.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!b.support.enctype){b.propFix.enctype="encoding"}if(!b.support.checkOn){b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,bw){if(b.isArray(bw)){return(e.checked=b.inArray(b(e).val(),bw)>=0)}}})});var be=/^(?:textarea|input|select)$/i,o=/^([^\.]*)?(?:\.(.+))?$/,K=/\bhover(\.\S+)?\b/,aP=/^key/,bg=/^(?:mouse|contextmenu)|click/,U=/^(?:focusinfocus|focusoutblur)$/,V=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,Z=function(e){var bw=V.exec(e);if(bw){bw[1]=(bw[1]||"").toLowerCase();bw[3]=bw[3]&&new RegExp("(?:^|\\s)"+bw[3]+"(?:\\s|$)")}return bw},k=function(bx,e){var bw=bx.attributes||{};return((!e[1]||bx.nodeName.toLowerCase()===e[1])&&(!e[2]||(bw.id||{}).value===e[2])&&(!e[3]||e[3].test((bw["class"]||{}).value)))},bu=function(e){return b.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};b.event={add:function(by,bD,bK,bB,bz){var bE,bC,bL,bJ,bI,bG,e,bH,bw,bA,bx,bF;if(by.nodeType===3||by.nodeType===8||!bD||!bK||!(bE=b._data(by))){return}if(bK.handler){bw=bK;bK=bw.handler}if(!bK.guid){bK.guid=b.guid++}bL=bE.events;if(!bL){bE.events=bL={}}bC=bE.handle;if(!bC){bE.handle=bC=function(bM){return typeof b!=="undefined"&&(!bM||b.event.triggered!==bM.type)?b.event.dispatch.apply(bC.elem,arguments):M};bC.elem=by}bD=b.trim(bu(bD)).split(" ");for(bJ=0;bJ<bD.length;bJ++){bI=o.exec(bD[bJ])||[];bG=bI[1];e=(bI[2]||"").split(".").sort();bF=b.event.special[bG]||{};bG=(bz?bF.delegateType:bF.bindType)||bG;bF=b.event.special[bG]||{};bH=b.extend({type:bG,origType:bI[1],data:bB,handler:bK,guid:bK.guid,selector:bz,quick:Z(bz),namespace:e.join(".")},bw);bx=bL[bG];if(!bx){bx=bL[bG]=[];bx.delegateCount=0;if(!bF.setup||bF.setup.call(by,bB,e,bC)===false){if(by.addEventListener){by.addEventListener(bG,bC,false)}else{if(by.attachEvent){by.attachEvent("on"+bG,bC)}}}}if(bF.add){bF.add.call(by,bH);if(!bH.handler.guid){bH.handler.guid=bK.guid}}if(bz){bx.splice(bx.delegateCount++,0,bH)}else{bx.push(bH)}b.event.global[bG]=true}by=null},global:{},remove:function(bK,bF,bw,bI,bC){var bJ=b.hasData(bK)&&b._data(bK),bG,by,bA,bM,bD,bB,bH,bx,bz,bL,bE,e;if(!bJ||!(bx=bJ.events)){return}bF=b.trim(bu(bF||"")).split(" ");for(bG=0;bG<bF.length;bG++){by=o.exec(bF[bG])||[];bA=bM=by[1];bD=by[2];if(!bA){for(bA in bx){b.event.remove(bK,bA+bF[bG],bw,bI,true)}continue}bz=b.event.special[bA]||{};bA=(bI?bz.delegateType:bz.bindType)||bA;bE=bx[bA]||[];bB=bE.length;bD=bD?new RegExp("(^|\\.)"+bD.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(bH=0;bH<bE.length;bH++){e=bE[bH];if((bC||bM===e.origType)&&(!bw||bw.guid===e.guid)&&(!bD||bD.test(e.namespace))&&(!bI||bI===e.selector||bI==="**"&&e.selector)){bE.splice(bH--,1);if(e.selector){bE.delegateCount--}if(bz.remove){bz.remove.call(bK,e)}}}if(bE.length===0&&bB!==bE.length){if(!bz.teardown||bz.teardown.call(bK,bD)===false){b.removeEvent(bK,bA,bJ.handle)}delete bx[bA]}}if(b.isEmptyObject(bx)){bL=bJ.handle;if(bL){bL.elem=null}b.removeData(bK,["events","handle"],true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(bw,bE,bB,bK){if(bB&&(bB.nodeType===3||bB.nodeType===8)){return}var bH=bw.type||bw,by=[],e,bx,bD,bI,bA,bz,bG,bF,bC,bJ;if(U.test(bH+b.event.triggered)){return}if(bH.indexOf("!")>=0){bH=bH.slice(0,-1);bx=true}if(bH.indexOf(".")>=0){by=bH.split(".");bH=by.shift();by.sort()}if((!bB||b.event.customEvent[bH])&&!b.event.global[bH]){return}bw=typeof bw==="object"?bw[b.expando]?bw:new b.Event(bH,bw):new b.Event(bH);bw.type=bH;bw.isTrigger=true;bw.exclusive=bx;bw.namespace=by.join(".");bw.namespace_re=bw.namespace?new RegExp("(^|\\.)"+by.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;bz=bH.indexOf(":")<0?"on"+bH:"";if(!bB){e=b.cache;for(bD in e){if(e[bD].events&&e[bD].events[bH]){b.event.trigger(bw,bE,e[bD].handle.elem,true)}}return}bw.result=M;if(!bw.target){bw.target=bB}bE=bE!=null?b.makeArray(bE):[];bE.unshift(bw);bG=b.event.special[bH]||{};if(bG.trigger&&bG.trigger.apply(bB,bE)===false){return}bC=[[bB,bG.bindType||bH]];if(!bK&&!bG.noBubble&&!b.isWindow(bB)){bJ=bG.delegateType||bH;bI=U.test(bJ+bH)?bB:bB.parentNode;bA=null;for(;bI;bI=bI.parentNode){bC.push([bI,bJ]);bA=bI}if(bA&&bA===bB.ownerDocument){bC.push([bA.defaultView||bA.parentWindow||bc,bJ])}}for(bD=0;bD<bC.length&&!bw.isPropagationStopped();bD++){bI=bC[bD][0];bw.type=bC[bD][1];bF=(b._data(bI,"events")||{})[bw.type]&&b._data(bI,"handle");if(bF){bF.apply(bI,bE)}bF=bz&&bI[bz];if(bF&&b.acceptData(bI)&&bF.apply(bI,bE)===false){bw.preventDefault()}}bw.type=bH;if(!bK&&!bw.isDefaultPrevented()){if((!bG._default||bG._default.apply(bB.ownerDocument,bE)===false)&&!(bH==="click"&&b.nodeName(bB,"a"))&&b.acceptData(bB)){if(bz&&bB[bH]&&((bH!=="focus"&&bH!=="blur")||bw.target.offsetWidth!==0)&&!b.isWindow(bB)){bA=bB[bz];if(bA){bB[bz]=null}b.event.triggered=bH;bB[bH]();b.event.triggered=M;if(bA){bB[bz]=bA}}}}return bw.result},dispatch:function(e){e=b.event.fix(e||bc.event);var bA=((b._data(this,"events")||{})[e.type]||[]),bB=bA.delegateCount,bH=[].slice.call(arguments,0),bz=!e.exclusive&&!e.namespace,bI=[],bD,bC,bL,by,bG,bF,bw,bE,bJ,bx,bK;bH[0]=e;e.delegateTarget=this;if(bB&&!e.target.disabled&&!(e.button&&e.type==="click")){by=b(this);by.context=this.ownerDocument||this;for(bL=e.target;bL!=this;bL=bL.parentNode||this){bF={};bE=[];by[0]=bL;for(bD=0;bD<bB;bD++){bJ=bA[bD];bx=bJ.selector;if(bF[bx]===M){bF[bx]=(bJ.quick?k(bL,bJ.quick):by.is(bx))}if(bF[bx]){bE.push(bJ)}}if(bE.length){bI.push({elem:bL,matches:bE})}}}if(bA.length>bB){bI.push({elem:this,matches:bA.slice(bB)})}for(bD=0;bD<bI.length&&!e.isPropagationStopped();bD++){bw=bI[bD];e.currentTarget=bw.elem;for(bC=0;bC<bw.matches.length&&!e.isImmediatePropagationStopped();bC++){bJ=bw.matches[bC];if(bz||(!e.namespace&&!bJ.namespace)||e.namespace_re&&e.namespace_re.test(bJ.namespace)){e.data=bJ.data;e.handleObj=bJ;bG=((b.event.special[bJ.origType]||{}).handle||bJ.handler).apply(bw.elem,bH);if(bG!==M){e.result=bG;if(bG===false){e.preventDefault();e.stopPropagation()}}}}}return e.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(bw,e){if(bw.which==null){bw.which=e.charCode!=null?e.charCode:e.keyCode}return bw}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(by,bx){var bz,bA,e,bw=bx.button,bB=bx.fromElement;if(by.pageX==null&&bx.clientX!=null){bz=by.target.ownerDocument||aw;bA=bz.documentElement;e=bz.body;by.pageX=bx.clientX+(bA&&bA.scrollLeft||e&&e.scrollLeft||0)-(bA&&bA.clientLeft||e&&e.clientLeft||0);by.pageY=bx.clientY+(bA&&bA.scrollTop||e&&e.scrollTop||0)-(bA&&bA.clientTop||e&&e.clientTop||0)}if(!by.relatedTarget&&bB){by.relatedTarget=bB===by.target?bx.toElement:bB}if(!by.which&&bw!==M){by.which=(bw&1?1:(bw&2?3:(bw&4?2:0)))}return by}},fix:function(bx){if(bx[b.expando]){return bx}var bw,bA,e=bx,by=b.event.fixHooks[bx.type]||{},bz=by.props?this.props.concat(by.props):this.props;bx=b.Event(e);for(bw=bz.length;bw;){bA=bz[--bw];bx[bA]=e[bA]}if(!bx.target){bx.target=e.srcElement||aw}if(bx.target.nodeType===3){bx.target=bx.target.parentNode}if(bx.metaKey===M){bx.metaKey=bx.ctrlKey}return by.filter?by.filter(bx,e):bx},special:{ready:{setup:b.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(bx,bw,e){if(b.isWindow(this)){this.onbeforeunload=e}},teardown:function(bw,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}},simulate:function(bx,bz,by,bw){var bA=b.extend(new b.Event(),by,{type:bx,isSimulated:true,originalEvent:{}});if(bw){b.event.trigger(bA,null,bz)}else{b.event.dispatch.call(bz,bA)}if(bA.isDefaultPrevented()){by.preventDefault()}}};b.event.handle=b.event.dispatch;b.removeEvent=aw.removeEventListener?function(bw,e,bx){if(bw.removeEventListener){bw.removeEventListener(e,bx,false)}}:function(bw,e,bx){if(bw.detachEvent){bw.detachEvent("on"+e,bx)}};b.Event=function(bw,e){if(!(this instanceof b.Event)){return new b.Event(bw,e)}if(bw&&bw.type){this.originalEvent=bw;this.type=bw.type;this.isDefaultPrevented=(bw.defaultPrevented||bw.returnValue===false||bw.getPreventDefault&&bw.getPreventDefault())?j:bl}else{this.type=bw}if(e){b.extend(this,e)}this.timeStamp=bw&&bw.timeStamp||b.now();this[b.expando]=true};function bl(){return false}function j(){return true}b.Event.prototype={preventDefault:function(){this.isDefaultPrevented=j;var bw=this.originalEvent;if(!bw){return}if(bw.preventDefault){bw.preventDefault()}else{bw.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=j;var bw=this.originalEvent;if(!bw){return}if(bw.stopPropagation){bw.stopPropagation()}bw.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j;this.stopPropagation()},isDefaultPrevented:bl,isPropagationStopped:bl,isImmediatePropagationStopped:bl};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(bw,e){b.event.special[bw]={delegateType:e,bindType:e,handle:function(bA){var bC=this,bB=bA.relatedTarget,bz=bA.handleObj,bx=bz.selector,by;if(!bB||(bB!==bC&&!b.contains(bC,bB))){bA.type=bz.origType;by=bz.handler.apply(this,arguments);bA.type=e}return by}}});if(!b.support.submitBubbles){b.event.special.submit={setup:function(){if(b.nodeName(this,"form")){return false}b.event.add(this,"click._submit keypress._submit",function(by){var bx=by.target,bw=b.nodeName(bx,"input")||b.nodeName(bx,"button")?bx.form:M;if(bw&&!bw._submit_attached){b.event.add(bw,"submit._submit",function(e){if(this.parentNode&&!e.isTrigger){b.event.simulate("submit",this.parentNode,e,true)}});bw._submit_attached=true}})},teardown:function(){if(b.nodeName(this,"form")){return false}b.event.remove(this,"._submit")}}}if(!b.support.changeBubbles){b.event.special.change={setup:function(){if(be.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){b.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});b.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false;b.event.simulate("change",this,e,true)}})}return false}b.event.add(this,"beforeactivate._change",function(bx){var bw=bx.target;if(be.test(bw.nodeName)&&!bw._change_attached){b.event.add(bw,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){b.event.simulate("change",this.parentNode,e,true)}});bw._change_attached=true}})},handle:function(bw){var e=bw.target;if(this!==e||bw.isSimulated||bw.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return bw.handleObj.handler.apply(this,arguments)}},teardown:function(){b.event.remove(this,"._change");return be.test(this.nodeName)}}}if(!b.support.focusinBubbles){b.each({focus:"focusin",blur:"focusout"},function(by,e){var bw=0,bx=function(bz){b.event.simulate(e,bz.target,b.event.fix(bz),true)};b.event.special[e]={setup:function(){if(bw++===0){aw.addEventListener(by,bx,true)}},teardown:function(){if(--bw===0){aw.removeEventListener(by,bx,true)}}}})}b.fn.extend({on:function(bx,e,bA,bz,bw){var bB,by;if(typeof bx==="object"){if(typeof e!=="string"){bA=e;e=M}for(by in bx){this.on(by,e,bA,bx[by],bw)}return this}if(bA==null&&bz==null){bz=e;bA=e=M}else{if(bz==null){if(typeof e==="string"){bz=bA;bA=M}else{bz=bA;bA=e;e=M}}}if(bz===false){bz=bl}else{if(!bz){return this}}if(bw===1){bB=bz;bz=function(bC){b().off(bC);return bB.apply(this,arguments)};bz.guid=bB.guid||(bB.guid=b.guid++)}return this.each(function(){b.event.add(this,bx,bz,bA,e)})},one:function(bw,e,by,bx){return this.on.call(this,bw,e,by,bx,1)},off:function(bx,e,bz){if(bx&&bx.preventDefault&&bx.handleObj){var bw=bx.handleObj;b(bx.delegateTarget).off(bw.namespace?bw.type+"."+bw.namespace:bw.type,bw.selector,bw.handler);return this}if(typeof bx==="object"){for(var by in bx){this.off(by,e,bx[by])}return this}if(e===false||typeof e==="function"){bz=e;e=M}if(bz===false){bz=bl}return this.each(function(){b.event.remove(this,bx,bz,e)})},bind:function(e,bx,bw){return this.on(e,null,bx,bw)},unbind:function(e,bw){return this.off(e,null,bw)},live:function(e,bx,bw){b(this.context).on(e,this.selector,bx,bw);return this},die:function(e,bw){b(this.context).off(e,this.selector||"**",bw);return this},delegate:function(e,bw,by,bx){return this.on(bw,e,by,bx)},undelegate:function(e,bw,bx){return arguments.length==1?this.off(e,"**"):this.off(bw,e,bx)},trigger:function(e,bw){return this.each(function(){b.event.trigger(e,bw,this)})},triggerHandler:function(e,bw){if(this[0]){return b.event.trigger(e,bw,this[0],true)}},toggle:function(by){var bw=arguments,e=by.guid||b.guid++,bx=0,bz=function(bA){var bB=(b._data(this,"lastToggle"+by.guid)||0)%bx;b._data(this,"lastToggle"+by.guid,bB+1);bA.preventDefault();return bw[bB].apply(this,arguments)||false};bz.guid=e;while(bx<bw.length){bw[bx++].guid=e}return this.click(bz)},hover:function(e,bw){return this.mouseenter(e).mouseleave(bw||e)}});b.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(bw,e){b.fn[e]=function(by,bx){if(bx==null){bx=by;by=null}return arguments.length>0?this.on(e,null,by,bx):this.trigger(e)};if(b.attrFn){b.attrFn[e]=true}if(aP.test(e)){b.event.fixHooks[e]=b.event.keyHooks}if(bg.test(e)){b.event.fixHooks[e]=b.event.mouseHooks}});
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var bI=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bD="sizcache"+(Math.random()+"").replace(".",""),bJ=0,bM=Object.prototype.toString,bC=false,bB=true,bL=/\\/g,bP=/\r\n/g,bR=/\W/;[0,0].sort(function(){bB=false;return 0});var bz=function(bW,e,bZ,b0){bZ=bZ||[];e=e||aw;var b2=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!bW||typeof bW!=="string"){return bZ}var bT,b4,b7,bS,b3,b6,b5,bY,bV=true,bU=bz.isXML(e),bX=[],b1=bW;do{bI.exec("");bT=bI.exec(b1);if(bT){b1=bT[3];bX.push(bT[1]);if(bT[2]){bS=bT[3];break}}}while(bT);if(bX.length>1&&bE.exec(bW)){if(bX.length===2&&bF.relative[bX[0]]){b4=bN(bX[0]+bX[1],e,b0)}else{b4=bF.relative[bX[0]]?[e]:bz(bX.shift(),e);while(bX.length){bW=bX.shift();if(bF.relative[bW]){bW+=bX.shift()}b4=bN(bW,b4,b0)}}}else{if(!b0&&bX.length>1&&e.nodeType===9&&!bU&&bF.match.ID.test(bX[0])&&!bF.match.ID.test(bX[bX.length-1])){b3=bz.find(bX.shift(),e,bU);e=b3.expr?bz.filter(b3.expr,b3.set)[0]:b3.set[0]}if(e){b3=b0?{expr:bX.pop(),set:bG(b0)}:bz.find(bX.pop(),bX.length===1&&(bX[0]==="~"||bX[0]==="+")&&e.parentNode?e.parentNode:e,bU);b4=b3.expr?bz.filter(b3.expr,b3.set):b3.set;if(bX.length>0){b7=bG(b4)}else{bV=false}while(bX.length){b6=bX.pop();b5=b6;if(!bF.relative[b6]){b6=""}else{b5=bX.pop()}if(b5==null){b5=e}bF.relative[b6](b7,b5,bU)}}else{b7=bX=[]}}if(!b7){b7=b4}if(!b7){bz.error(b6||bW)}if(bM.call(b7)==="[object Array]"){if(!bV){bZ.push.apply(bZ,b7)}else{if(e&&e.nodeType===1){for(bY=0;b7[bY]!=null;bY++){if(b7[bY]&&(b7[bY]===true||b7[bY].nodeType===1&&bz.contains(e,b7[bY]))){bZ.push(b4[bY])}}}else{for(bY=0;b7[bY]!=null;bY++){if(b7[bY]&&b7[bY].nodeType===1){bZ.push(b4[bY])}}}}}else{bG(b7,bZ)}if(bS){bz(bS,b2,bZ,b0);bz.uniqueSort(bZ)}return bZ};bz.uniqueSort=function(bS){if(bK){bC=bB;bS.sort(bK);if(bC){for(var e=1;e<bS.length;e++){if(bS[e]===bS[e-1]){bS.splice(e--,1)}}}}return bS};bz.matches=function(e,bS){return bz(e,null,null,bS)};bz.matchesSelector=function(e,bS){return bz(bS,null,null,[e]).length>0};bz.find=function(bY,e,bZ){var bX,bT,bV,bU,bW,bS;if(!bY){return[]}for(bT=0,bV=bF.order.length;bT<bV;bT++){bW=bF.order[bT];if((bU=bF.leftMatch[bW].exec(bY))){bS=bU[1];bU.splice(1,1);if(bS.substr(bS.length-1)!=="\\"){bU[1]=(bU[1]||"").replace(bL,"");bX=bF.find[bW](bU,e,bZ);if(bX!=null){bY=bY.replace(bF.match[bW],"");break}}}}if(!bX){bX=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:bX,expr:bY}};bz.filter=function(b2,b1,b5,bV){var bX,e,b0,b7,b4,bS,bU,bW,b3,bT=b2,b6=[],bZ=b1,bY=b1&&b1[0]&&bz.isXML(b1[0]);while(b2&&b1.length){for(b0 in bF.filter){if((bX=bF.leftMatch[b0].exec(b2))!=null&&bX[2]){bS=bF.filter[b0];bU=bX[1];e=false;bX.splice(1,1);if(bU.substr(bU.length-1)==="\\"){continue}if(bZ===b6){b6=[]}if(bF.preFilter[b0]){bX=bF.preFilter[b0](bX,bZ,b5,b6,bV,bY);if(!bX){e=b7=true}else{if(bX===true){continue}}}if(bX){for(bW=0;(b4=bZ[bW])!=null;bW++){if(b4){b7=bS(b4,bX,bW,bZ);b3=bV^b7;if(b5&&b7!=null){if(b3){e=true}else{bZ[bW]=false}}else{if(b3){b6.push(b4);e=true}}}}}if(b7!==M){if(!b5){bZ=b6}b2=b2.replace(bF.match[b0],"");if(!e){return[]}break}}}if(b2===bT){if(e==null){bz.error(b2)}else{break}}bT=b2}return bZ};bz.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var bx=bz.getText=function(bV){var bT,bU,e=bV.nodeType,bS="";if(e){if(e===1||e===9){if(typeof bV.textContent==="string"){return bV.textContent}else{if(typeof bV.innerText==="string"){return bV.innerText.replace(bP,"")}else{for(bV=bV.firstChild;bV;bV=bV.nextSibling){bS+=bx(bV)}}}}else{if(e===3||e===4){return bV.nodeValue}}}else{for(bT=0;(bU=bV[bT]);bT++){if(bU.nodeType!==8){bS+=bx(bU)}}}return bS};var bF=bz.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(bX,bS){var bU=typeof bS==="string",bW=bU&&!bR.test(bS),bY=bU&&!bW;if(bW){bS=bS.toLowerCase()}for(var bT=0,e=bX.length,bV;bT<e;bT++){if((bV=bX[bT])){while((bV=bV.previousSibling)&&bV.nodeType!==1){}bX[bT]=bY||bV&&bV.nodeName.toLowerCase()===bS?bV||false:bV===bS}}if(bY){bz.filter(bS,bX,true)}},">":function(bX,bS){var bW,bV=typeof bS==="string",bT=0,e=bX.length;if(bV&&!bR.test(bS)){bS=bS.toLowerCase();for(;bT<e;bT++){bW=bX[bT];if(bW){var bU=bW.parentNode;bX[bT]=bU.nodeName.toLowerCase()===bS?bU:false}}}else{for(;bT<e;bT++){bW=bX[bT];if(bW){bX[bT]=bV?bW.parentNode:bW.parentNode===bS}}if(bV){bz.filter(bS,bX,true)}}},"":function(bU,bS,bW){var bV,bT=bJ++,e=bO;if(typeof bS==="string"&&!bR.test(bS)){bS=bS.toLowerCase();bV=bS;e=bw}e("parentNode",bS,bT,bU,bV,bW)},"~":function(bU,bS,bW){var bV,bT=bJ++,e=bO;if(typeof bS==="string"&&!bR.test(bS)){bS=bS.toLowerCase();bV=bS;e=bw}e("previousSibling",bS,bT,bU,bV,bW)}},find:{ID:function(bS,bT,bU){if(typeof bT.getElementById!=="undefined"&&!bU){var e=bT.getElementById(bS[1]);return e&&e.parentNode?[e]:[]}},NAME:function(bT,bW){if(typeof bW.getElementsByName!=="undefined"){var bS=[],bV=bW.getElementsByName(bT[1]);for(var bU=0,e=bV.length;bU<e;bU++){if(bV[bU].getAttribute("name")===bT[1]){bS.push(bV[bU])}}return bS.length===0?null:bS}},TAG:function(e,bS){if(typeof bS.getElementsByTagName!=="undefined"){return bS.getElementsByTagName(e[1])}}},preFilter:{CLASS:function(bU,bS,bT,e,bX,bY){bU=" "+bU[1].replace(bL,"")+" ";if(bY){return bU}for(var bV=0,bW;(bW=bS[bV])!=null;bV++){if(bW){if(bX^(bW.className&&(" "+bW.className+" ").replace(/[\t\n\r]/g," ").indexOf(bU)>=0)){if(!bT){e.push(bW)}}else{if(bT){bS[bV]=false}}}}return false},ID:function(e){return e[1].replace(bL,"")},TAG:function(bS,e){return bS[1].replace(bL,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){bz.error(e[0])}e[2]=e[2].replace(/^\+|\s*/g,"");var bS=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(bS[1]+(bS[2]||1))-0;e[3]=bS[3]-0}else{if(e[2]){bz.error(e[0])}}e[0]=bJ++;return e},ATTR:function(bV,bS,bT,e,bW,bX){var bU=bV[1]=bV[1].replace(bL,"");if(!bX&&bF.attrMap[bU]){bV[1]=bF.attrMap[bU]}bV[4]=(bV[4]||bV[5]||"").replace(bL,"");if(bV[2]==="~="){bV[4]=" "+bV[4]+" "}return bV},PSEUDO:function(bV,bS,bT,e,bW){if(bV[1]==="not"){if((bI.exec(bV[3])||"").length>1||/^\w/.test(bV[3])){bV[3]=bz(bV[3],null,null,bS)}else{var bU=bz.filter(bV[3],bS,bT,true^bW);if(!bT){e.push.apply(e,bU)}return false}}else{if(bF.match.POS.test(bV[0])||bF.match.CHILD.test(bV[0])){return true}}return bV},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(bT,bS,e){return !!bz(e[3],bT).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(bT){var e=bT.getAttribute("type"),bS=bT.type;return bT.nodeName.toLowerCase()==="input"&&"text"===bS&&(e===bS||e===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(bS){var e=bS.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===bS.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(bS){var e=bS.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===bS.type},button:function(bS){var e=bS.nodeName.toLowerCase();return e==="input"&&"button"===bS.type||e==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(bS,e){return e===0},last:function(bT,bS,e,bU){return bS===bU.length-1},even:function(bS,e){return e%2===0},odd:function(bS,e){return e%2===1},lt:function(bT,bS,e){return bS<e[3]-0},gt:function(bT,bS,e){return bS>e[3]-0},nth:function(bT,bS,e){return e[3]-0===bS},eq:function(bT,bS,e){return e[3]-0===bS}},filter:{PSEUDO:function(bT,bY,bX,bZ){var e=bY[1],bS=bF.filters[e];if(bS){return bS(bT,bX,bY,bZ)}else{if(e==="contains"){return(bT.textContent||bT.innerText||bx([bT])||"").indexOf(bY[3])>=0}else{if(e==="not"){var bU=bY[3];for(var bW=0,bV=bU.length;bW<bV;bW++){if(bU[bW]===bT){return false}}return true}else{bz.error(e)}}}},CHILD:function(bT,bV){var bU,b1,bX,b0,e,bW,bZ,bY=bV[1],bS=bT;switch(bY){case"only":case"first":while((bS=bS.previousSibling)){if(bS.nodeType===1){return false}}if(bY==="first"){return true}bS=bT;case"last":while((bS=bS.nextSibling)){if(bS.nodeType===1){return false}}return true;case"nth":bU=bV[2];b1=bV[3];if(bU===1&&b1===0){return true}bX=bV[0];b0=bT.parentNode;if(b0&&(b0[bD]!==bX||!bT.nodeIndex)){bW=0;for(bS=b0.firstChild;bS;bS=bS.nextSibling){if(bS.nodeType===1){bS.nodeIndex=++bW}}b0[bD]=bX}bZ=bT.nodeIndex-b1;if(bU===0){return bZ===0}else{return(bZ%bU===0&&bZ/bU>=0)}}},ID:function(bS,e){return bS.nodeType===1&&bS.getAttribute("id")===e},TAG:function(bS,e){return(e==="*"&&bS.nodeType===1)||!!bS.nodeName&&bS.nodeName.toLowerCase()===e},CLASS:function(bS,e){return(" "+(bS.className||bS.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(bW,bU){var bT=bU[1],e=bz.attr?bz.attr(bW,bT):bF.attrHandle[bT]?bF.attrHandle[bT](bW):bW[bT]!=null?bW[bT]:bW.getAttribute(bT),bX=e+"",bV=bU[2],bS=bU[4];return e==null?bV==="!=":!bV&&bz.attr?e!=null:bV==="="?bX===bS:bV==="*="?bX.indexOf(bS)>=0:bV==="~="?(" "+bX+" ").indexOf(bS)>=0:!bS?bX&&e!==false:bV==="!="?bX!==bS:bV==="^="?bX.indexOf(bS)===0:bV==="$="?bX.substr(bX.length-bS.length)===bS:bV==="|="?bX===bS||bX.substr(0,bS.length+1)===bS+"-":false},POS:function(bV,bS,bT,bW){var e=bS[2],bU=bF.setFilters[e];if(bU){return bU(bV,bT,bS,bW)}}}};var bE=bF.match.POS,by=function(bS,e){return"\\"+(e-0+1)};for(var bA in bF.match){bF.match[bA]=new RegExp(bF.match[bA].source+(/(?![^\[]*\])(?![^\(]*\))/.source));bF.leftMatch[bA]=new RegExp(/(^(?:.|\r|\n)*?)/.source+bF.match[bA].source.replace(/\\(\d+)/g,by))}var bG=function(bS,e){bS=Array.prototype.slice.call(bS,0);if(e){e.push.apply(e,bS);return e}return bS};try{Array.prototype.slice.call(aw.documentElement.childNodes,0)[0].nodeType}catch(bQ){bG=function(bV,bU){var bT=0,bS=bU||[];if(bM.call(bV)==="[object Array]"){Array.prototype.push.apply(bS,bV)}else{if(typeof bV.length==="number"){for(var e=bV.length;bT<e;bT++){bS.push(bV[bT])}}else{for(;bV[bT];bT++){bS.push(bV[bT])}}}return bS}}var bK,bH;if(aw.documentElement.compareDocumentPosition){bK=function(bS,e){if(bS===e){bC=true;return 0}if(!bS.compareDocumentPosition||!e.compareDocumentPosition){return bS.compareDocumentPosition?-1:1}return bS.compareDocumentPosition(e)&4?-1:1}}else{bK=function(bZ,bY){if(bZ===bY){bC=true;return 0}else{if(bZ.sourceIndex&&bY.sourceIndex){return bZ.sourceIndex-bY.sourceIndex}}var bW,bS,bT=[],e=[],bV=bZ.parentNode,bX=bY.parentNode,b0=bV;if(bV===bX){return bH(bZ,bY)}else{if(!bV){return -1}else{if(!bX){return 1}}}while(b0){bT.unshift(b0);b0=b0.parentNode}b0=bX;while(b0){e.unshift(b0);b0=b0.parentNode}bW=bT.length;bS=e.length;for(var bU=0;bU<bW&&bU<bS;bU++){if(bT[bU]!==e[bU]){return bH(bT[bU],e[bU])}}return bU===bW?bH(bZ,e[bU],-1):bH(bT[bU],bY,1)};bH=function(bS,e,bT){if(bS===e){return bT}var bU=bS.nextSibling;while(bU){if(bU===e){return -1}bU=bU.nextSibling}return 1}}(function(){var bS=aw.createElement("div"),bT="script"+(new Date()).getTime(),e=aw.documentElement;bS.innerHTML="<a name='"+bT+"'/>";e.insertBefore(bS,e.firstChild);if(aw.getElementById(bT)){bF.find.ID=function(bV,bW,bX){if(typeof bW.getElementById!=="undefined"&&!bX){var bU=bW.getElementById(bV[1]);return bU?bU.id===bV[1]||typeof bU.getAttributeNode!=="undefined"&&bU.getAttributeNode("id").nodeValue===bV[1]?[bU]:M:[]}};bF.filter.ID=function(bW,bU){var bV=typeof bW.getAttributeNode!=="undefined"&&bW.getAttributeNode("id");return bW.nodeType===1&&bV&&bV.nodeValue===bU}}e.removeChild(bS);e=bS=null})();(function(){var e=aw.createElement("div");e.appendChild(aw.createComment(""));if(e.getElementsByTagName("*").length>0){bF.find.TAG=function(bS,bW){var bV=bW.getElementsByTagName(bS[1]);if(bS[1]==="*"){var bU=[];for(var bT=0;bV[bT];bT++){if(bV[bT].nodeType===1){bU.push(bV[bT])}}bV=bU}return bV}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){bF.attrHandle.href=function(bS){return bS.getAttribute("href",2)}}e=null})();if(aw.querySelectorAll){(function(){var e=bz,bU=aw.createElement("div"),bT="__sizzle__";bU.innerHTML="<p class='TEST'></p>";if(bU.querySelectorAll&&bU.querySelectorAll(".TEST").length===0){return}bz=function(b5,bW,b0,b4){bW=bW||aw;if(!b4&&!bz.isXML(bW)){var b3=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b5);if(b3&&(bW.nodeType===1||bW.nodeType===9)){if(b3[1]){return bG(bW.getElementsByTagName(b5),b0)}else{if(b3[2]&&bF.find.CLASS&&bW.getElementsByClassName){return bG(bW.getElementsByClassName(b3[2]),b0)}}}if(bW.nodeType===9){if(b5==="body"&&bW.body){return bG([bW.body],b0)}else{if(b3&&b3[3]){var bZ=bW.getElementById(b3[3]);if(bZ&&bZ.parentNode){if(bZ.id===b3[3]){return bG([bZ],b0)}}else{return bG([],b0)}}}try{return bG(bW.querySelectorAll(b5),b0)}catch(b1){}}else{if(bW.nodeType===1&&bW.nodeName.toLowerCase()!=="object"){var bX=bW,bY=bW.getAttribute("id"),bV=bY||bT,b7=bW.parentNode,b6=/^\s*[+~]/.test(b5);if(!bY){bW.setAttribute("id",bV)}else{bV=bV.replace(/'/g,"\\$&")}if(b6&&b7){bW=bW.parentNode}try{if(!b6||b7){return bG(bW.querySelectorAll("[id='"+bV+"'] "+b5),b0)}}catch(b2){}finally{if(!bY){bX.removeAttribute("id")}}}}}return e(b5,bW,b0,b4)};for(var bS in e){bz[bS]=e[bS]}bU=null})()}(function(){var e=aw.documentElement,bT=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(bT){var bV=!bT.call(aw.createElement("div"),"div"),bS=false;try{bT.call(aw.documentElement,"[test!='']:sizzle")}catch(bU){bS=true}bz.matchesSelector=function(bX,bZ){bZ=bZ.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!bz.isXML(bX)){try{if(bS||!bF.match.PSEUDO.test(bZ)&&!/!=/.test(bZ)){var bW=bT.call(bX,bZ);if(bW||!bV||bX.document&&bX.document.nodeType!==11){return bW}}}catch(bY){}}return bz(bZ,null,null,[bX]).length>0}}})();(function(){var e=aw.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}bF.order.splice(1,0,"CLASS");bF.find.CLASS=function(bS,bT,bU){if(typeof bT.getElementsByClassName!=="undefined"&&!bU){return bT.getElementsByClassName(bS[1])}};e=null})();function bw(bS,bX,bW,b0,bY,bZ){for(var bU=0,bT=b0.length;bU<bT;bU++){var e=b0[bU];if(e){var bV=false;e=e[bS];while(e){if(e[bD]===bW){bV=b0[e.sizset];break}if(e.nodeType===1&&!bZ){e[bD]=bW;e.sizset=bU}if(e.nodeName.toLowerCase()===bX){bV=e;break}e=e[bS]}b0[bU]=bV}}}function bO(bS,bX,bW,b0,bY,bZ){for(var bU=0,bT=b0.length;bU<bT;bU++){var e=b0[bU];if(e){var bV=false;e=e[bS];while(e){if(e[bD]===bW){bV=b0[e.sizset];break}if(e.nodeType===1){if(!bZ){e[bD]=bW;e.sizset=bU}if(typeof bX!=="string"){if(e===bX){bV=true;break}}else{if(bz.filter(bX,[e]).length>0){bV=e;break}}}e=e[bS]}b0[bU]=bV}}}if(aw.documentElement.contains){bz.contains=function(bS,e){return bS!==e&&(bS.contains?bS.contains(e):true)}}else{if(aw.documentElement.compareDocumentPosition){bz.contains=function(bS,e){return !!(bS.compareDocumentPosition(e)&16)}}else{bz.contains=function(){return false}}}bz.isXML=function(e){var bS=(e?e.ownerDocument||e:0).documentElement;return bS?bS.nodeName!=="HTML":false};var bN=function(bT,e,bX){var bW,bY=[],bV="",bZ=e.nodeType?[e]:e;while((bW=bF.match.PSEUDO.exec(bT))){bV+=bW[0];bT=bT.replace(bF.match.PSEUDO,"")}bT=bF.relative[bT]?bT+"*":bT;for(var bU=0,bS=bZ.length;bU<bS;bU++){bz(bT,bZ[bU],bY,bX)}return bz.filter(bV,bY)};bz.attr=b.attr;bz.selectors.attrMap={};b.find=bz;b.expr=bz.selectors;b.expr[":"]=b.expr.filters;b.unique=bz.uniqueSort;b.text=bz.getText;b.isXMLDoc=bz.isXML;b.contains=bz.contains})();var ac=/Until$/,ar=/^(?:parents|prevUntil|prevAll)/,ba=/,/,bq=/^.[^:#\[\.,]*$/,Q=Array.prototype.slice,I=b.expr.match.POS,az={children:true,contents:true,next:true,prev:true};b.fn.extend({find:function(e){var bx=this,bz,bw;if(typeof e!=="string"){return b(e).filter(function(){for(bz=0,bw=bx.length;bz<bw;bz++){if(b.contains(bx[bz],this)){return true}}})}var by=this.pushStack("","find",e),bB,bC,bA;for(bz=0,bw=this.length;bz<bw;bz++){bB=by.length;b.find(e,this[bz],by);if(bz>0){for(bC=bB;bC<by.length;bC++){for(bA=0;bA<bB;bA++){if(by[bA]===by[bC]){by.splice(bC--,1);break}}}}}return by},has:function(bw){var e=b(bw);return this.filter(function(){for(var by=0,bx=e.length;by<bx;by++){if(b.contains(this,e[by])){return true}}})},not:function(e){return this.pushStack(aH(this,e,false),"not",e)},filter:function(e){return this.pushStack(aH(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?I.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(bz,by){var bw=[],bx,e,bA=this[0];if(b.isArray(bz)){var bC=1;while(bA&&bA.ownerDocument&&bA!==by){for(bx=0;bx<bz.length;bx++){if(b(bA).is(bz[bx])){bw.push({selector:bz[bx],elem:bA,level:bC})}}bA=bA.parentNode;bC++}return bw}var bB=I.test(bz)||typeof bz!=="string"?b(bz,by||this.context):0;for(bx=0,e=this.length;bx<e;bx++){bA=this[bx];while(bA){if(bB?bB.index(bA)>-1:b.find.matchesSelector(bA,bz)){bw.push(bA);break}else{bA=bA.parentNode;if(!bA||!bA.ownerDocument||bA===by||bA.nodeType===11){break}}}}bw=bw.length>1?b.unique(bw):bw;return this.pushStack(bw,"closest",bz)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return b.inArray(this[0],b(e))}return b.inArray(e.jquery?e[0]:e,this)},add:function(e,bw){var by=typeof e==="string"?b(e,bw):b.makeArray(e&&e.nodeType?[e]:e),bx=b.merge(this.get(),by);return this.pushStack(D(by[0])||D(bx[0])?bx:b.unique(bx))},andSelf:function(){return this.add(this.prevObject)}});function D(e){return !e||!e.parentNode||e.parentNode.nodeType===11}b.each({parent:function(bw){var e=bw.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(bw,e,bx){return b.dir(bw,"parentNode",bx)},next:function(e){return b.nth(e,2,"nextSibling")},prev:function(e){return b.nth(e,2,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(bw,e,bx){return b.dir(bw,"nextSibling",bx)},prevUntil:function(bw,e,bx){return b.dir(bw,"previousSibling",bx)},siblings:function(e){return b.sibling(e.parentNode.firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.makeArray(e.childNodes)}},function(e,bw){b.fn[e]=function(bz,bx){var by=b.map(this,bw,bz);if(!ac.test(e)){bx=bz}if(bx&&typeof bx==="string"){by=b.filter(bx,by)}by=this.length>1&&!az[e]?b.unique(by):by;if((this.length>1||ba.test(bx))&&ar.test(e)){by=by.reverse()}return this.pushStack(by,e,Q.call(arguments).join(","))}});b.extend({filter:function(bx,e,bw){if(bw){bx=":not("+bx+")"}return e.length===1?b.find.matchesSelector(e[0],bx)?[e[0]]:[]:b.find.matches(bx,e)},dir:function(bx,bw,bz){var e=[],by=bx[bw];while(by&&by.nodeType!==9&&(bz===M||by.nodeType!==1||!b(by).is(bz))){if(by.nodeType===1){e.push(by)}by=by[bw]}return e},nth:function(bz,e,bx,by){e=e||1;var bw=0;for(;bz;bz=bz[bx]){if(bz.nodeType===1&&++bw===e){break}}return bz},sibling:function(bx,bw){var e=[];for(;bx;bx=bx.nextSibling){if(bx.nodeType===1&&bx!==bw){e.push(bx)}}return e}});function aH(by,bx,e){bx=bx||0;if(b.isFunction(bx)){return b.grep(by,function(bA,bz){var bB=!!bx.call(bA,bz,bA);return bB===e})}else{if(bx.nodeType){return b.grep(by,function(bA,bz){return(bA===bx)===e})}else{if(typeof bx==="string"){var bw=b.grep(by,function(bz){return bz.nodeType===1});if(bq.test(bx)){return b.filter(bx,bw,!e)}else{bx=b.filter(bx,bw)}}}}return b.grep(by,function(bA,bz){return(b.inArray(bA,bx)>=0)===e})}function a(e){var bx=aS.split("|"),bw=e.createDocumentFragment();if(bw.createElement){while(bx.length){bw.createElement(bx.pop())}}return bw}var aS="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ah=/ jQuery\d+="(?:\d+|null)"/g,at=/^\s+/,S=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,d=/<([\w:]+)/,x=/<tbody/i,X=/<|&#?\w+;/,af=/<(?:script|style)/i,P=/<(?:script|object|embed|option|style)/i,ai=new RegExp("<(?:"+aS+")","i"),p=/checked\s*(?:[^=]|=\s*.checked.)/i,bn=/\/(java|ecma)script/i,aO=/^\s*<!(?:\[CDATA\[|\-\-)/,ay={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ad=a(aw);ay.optgroup=ay.option;ay.tbody=ay.tfoot=ay.colgroup=ay.caption=ay.thead;ay.th=ay.td;if(!b.support.htmlSerialize){ay._default=[1,"div<div>","</div>"]}b.fn.extend({text:function(e){if(b.isFunction(e)){return this.each(function(bx){var bw=b(this);bw.text(e.call(this,bx,bw.text()))})}if(typeof e!=="object"&&e!==M){return this.empty().append((this[0]&&this[0].ownerDocument||aw).createTextNode(e))}return b.text(this)},wrapAll:function(e){if(b.isFunction(e)){return this.each(function(bx){b(this).wrapAll(e.call(this,bx))})}if(this[0]){var bw=b(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){bw.insertBefore(this[0])}bw.map(function(){var bx=this;while(bx.firstChild&&bx.firstChild.nodeType===1){bx=bx.firstChild}return bx}).append(this)}return this},wrapInner:function(e){if(b.isFunction(e)){return this.each(function(bw){b(this).wrapInner(e.call(this,bw))})}return this.each(function(){var bw=b(this),bx=bw.contents();if(bx.length){bx.wrapAll(e)}else{bw.append(e)}})},wrap:function(e){var bw=b.isFunction(e);return this.each(function(bx){b(this).wrapAll(bw?e.call(this,bx):e)})},unwrap:function(){return this.parent().each(function(){if(!b.nodeName(this,"body")){b(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bw){this.parentNode.insertBefore(bw,this)})}else{if(arguments.length){var e=b.clean(arguments);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bw){this.parentNode.insertBefore(bw,this.nextSibling)})}else{if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,b.clean(arguments));return e}}},remove:function(e,by){for(var bw=0,bx;(bx=this[bw])!=null;bw++){if(!e||b.filter(e,[bx]).length){if(!by&&bx.nodeType===1){b.cleanData(bx.getElementsByTagName("*"));b.cleanData([bx])}if(bx.parentNode){bx.parentNode.removeChild(bx)}}}return this},empty:function(){for(var e=0,bw;(bw=this[e])!=null;e++){if(bw.nodeType===1){b.cleanData(bw.getElementsByTagName("*"))}while(bw.firstChild){bw.removeChild(bw.firstChild)}}return this},clone:function(bw,e){bw=bw==null?false:bw;e=e==null?bw:e;return this.map(function(){return b.clone(this,bw,e)})},html:function(by){if(by===M){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ah,""):null}else{if(typeof by==="string"&&!af.test(by)&&(b.support.leadingWhitespace||!at.test(by))&&!ay[(d.exec(by)||["",""])[1].toLowerCase()]){by=by.replace(S,"<$1></$2>");try{for(var bx=0,bw=this.length;bx<bw;bx++){if(this[bx].nodeType===1){b.cleanData(this[bx].getElementsByTagName("*"));this[bx].innerHTML=by}}}catch(bz){this.empty().append(by)}}else{if(b.isFunction(by)){this.each(function(bA){var e=b(this);e.html(by.call(this,bA,e.html()))})}else{this.empty().append(by)}}}return this},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(b.isFunction(e)){return this.each(function(by){var bx=b(this),bw=bx.html();bx.replaceWith(e.call(this,by,bw))})}if(typeof e!=="string"){e=b(e).detach()}return this.each(function(){var bx=this.nextSibling,bw=this.parentNode;b(this).remove();if(bx){b(bx).before(e)}else{b(bw).append(e)}})}else{return this.length?this.pushStack(b(b.isFunction(e)?e():e),"replaceWith",e):this}},detach:function(e){return this.remove(e,true)},domManip:function(bC,bG,bF){var by,bz,bB,bE,bD=bC[0],bw=[];if(!b.support.checkClone&&arguments.length===3&&typeof bD==="string"&&p.test(bD)){return this.each(function(){b(this).domManip(bC,bG,bF,true)})}if(b.isFunction(bD)){return this.each(function(bI){var bH=b(this);bC[0]=bD.call(this,bI,bG?bH.html():M);bH.domManip(bC,bG,bF)})}if(this[0]){bE=bD&&bD.parentNode;if(b.support.parentNode&&bE&&bE.nodeType===11&&bE.childNodes.length===this.length){by={fragment:bE}}else{by=b.buildFragment(bC,this,bw)}bB=by.fragment;if(bB.childNodes.length===1){bz=bB=bB.firstChild}else{bz=bB.firstChild}if(bz){bG=bG&&b.nodeName(bz,"tr");for(var bx=0,e=this.length,bA=e-1;bx<e;bx++){bF.call(bG?bb(this[bx],bz):this[bx],by.cacheable||(e>1&&bx<bA)?b.clone(bB,true,true):bB)}}if(bw.length){b.each(bw,bp)}}return this}});function bb(e,bw){return b.nodeName(e,"table")?(e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody"))):e}function u(bC,bw){if(bw.nodeType!==1||!b.hasData(bC)){return}var bz,by,e,bB=b._data(bC),bA=b._data(bw,bB),bx=bB.events;if(bx){delete bA.handle;bA.events={};for(bz in bx){for(by=0,e=bx[bz].length;by<e;by++){b.event.add(bw,bz+(bx[bz][by].namespace?".":"")+bx[bz][by].namespace,bx[bz][by],bx[bz][by].data)}}}if(bA.data){bA.data=b.extend({},bA.data)}}function aj(bw,e){var bx;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(bw)}bx=e.nodeName.toLowerCase();if(bx==="object"){e.outerHTML=bw.outerHTML}else{if(bx==="input"&&(bw.type==="checkbox"||bw.type==="radio")){if(bw.checked){e.defaultChecked=e.checked=bw.checked}if(e.value!==bw.value){e.value=bw.value}}else{if(bx==="option"){e.selected=bw.defaultSelected}else{if(bx==="input"||bx==="textarea"){e.defaultValue=bw.defaultValue}}}}e.removeAttribute(b.expando)}b.buildFragment=function(bA,by,bw){var bz,e,bx,bB,bC=bA[0];if(by&&by[0]){bB=by[0].ownerDocument||by[0]}if(!bB.createDocumentFragment){bB=aw}if(bA.length===1&&typeof bC==="string"&&bC.length<512&&bB===aw&&bC.charAt(0)==="<"&&!P.test(bC)&&(b.support.checkClone||!p.test(bC))&&(b.support.html5Clone||!ai.test(bC))){e=true;bx=b.fragments[bC];if(bx&&bx!==1){bz=bx}}if(!bz){bz=bB.createDocumentFragment();b.clean(bA,bB,bz,bw)}if(e){b.fragments[bC]=bx?bz:1}return{fragment:bz,cacheable:e}};b.fragments={};b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,bw){b.fn[e]=function(bx){var bA=[],bD=b(bx),bC=this.length===1&&this[0].parentNode;if(bC&&bC.nodeType===11&&bC.childNodes.length===1&&bD.length===1){bD[bw](this[0]);return this}else{for(var bB=0,by=bD.length;bB<by;bB++){var bz=(bB>0?this.clone(true):this).get();b(bD[bB])[bw](bz);bA=bA.concat(bz)}return this.pushStack(bA,e,bD.selector)}}});function bh(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*")}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*")}else{return[]}}}function aA(e){if(e.type==="checkbox"||e.type==="radio"){e.defaultChecked=e.checked}}function F(e){var bw=(e.nodeName||"").toLowerCase();if(bw==="input"){aA(e)}else{if(bw!=="script"&&typeof e.getElementsByTagName!=="undefined"){b.grep(e.getElementsByTagName("input"),aA)}}}function am(e){var bw=aw.createElement("div");ad.appendChild(bw);bw.innerHTML=e.outerHTML;return bw.firstChild}b.extend({clone:function(bz,bB,bx){var e,bw,by,bA=b.support.html5Clone||!ai.test("<"+bz.nodeName)?bz.cloneNode(true):am(bz);if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(bz.nodeType===1||bz.nodeType===11)&&!b.isXMLDoc(bz)){aj(bz,bA);e=bh(bz);bw=bh(bA);for(by=0;e[by];++by){if(bw[by]){aj(e[by],bw[by])}}}if(bB){u(bz,bA);if(bx){e=bh(bz);bw=bh(bA);for(by=0;e[by];++by){u(e[by],bw[by])}}}e=bw=null;return bA},clean:function(bx,bz,bI,bB){var bG;bz=bz||aw;if(typeof bz.createElement==="undefined"){bz=bz.ownerDocument||bz[0]&&bz[0].ownerDocument||aw}var bJ=[],bC;for(var bF=0,bA;(bA=bx[bF])!=null;bF++){if(typeof bA==="number"){bA+=""}if(!bA){continue}if(typeof bA==="string"){if(!X.test(bA)){bA=bz.createTextNode(bA)}else{bA=bA.replace(S,"<$1></$2>");var bL=(d.exec(bA)||["",""])[1].toLowerCase(),by=ay[bL]||ay._default,bE=by[0],bw=bz.createElement("div");if(bz===aw){ad.appendChild(bw)}else{a(bz).appendChild(bw)}bw.innerHTML=by[1]+bA+by[2];while(bE--){bw=bw.lastChild}if(!b.support.tbody){var e=x.test(bA),bD=bL==="table"&&!e?bw.firstChild&&bw.firstChild.childNodes:by[1]==="<table>"&&!e?bw.childNodes:[];for(bC=bD.length-1;bC>=0;--bC){if(b.nodeName(bD[bC],"tbody")&&!bD[bC].childNodes.length){bD[bC].parentNode.removeChild(bD[bC])}}}if(!b.support.leadingWhitespace&&at.test(bA)){bw.insertBefore(bz.createTextNode(at.exec(bA)[0]),bw.firstChild)}bA=bw.childNodes}}var bH;if(!b.support.appendChecked){if(bA[0]&&typeof(bH=bA.length)==="number"){for(bC=0;bC<bH;bC++){F(bA[bC])}}else{F(bA)}}if(bA.nodeType){bJ.push(bA)}else{bJ=b.merge(bJ,bA)}}if(bI){bG=function(bM){return !bM.type||bn.test(bM.type)};for(bF=0;bJ[bF];bF++){if(bB&&b.nodeName(bJ[bF],"script")&&(!bJ[bF].type||bJ[bF].type.toLowerCase()==="text/javascript")){bB.push(bJ[bF].parentNode?bJ[bF].parentNode.removeChild(bJ[bF]):bJ[bF])}else{if(bJ[bF].nodeType===1){var bK=b.grep(bJ[bF].getElementsByTagName("script"),bG);bJ.splice.apply(bJ,[bF+1,0].concat(bK))}bI.appendChild(bJ[bF])}}}return bJ},cleanData:function(bw){var bz,bx,e=b.cache,bC=b.event.special,bB=b.support.deleteExpando;for(var bA=0,by;(by=bw[bA])!=null;bA++){if(by.nodeName&&b.noData[by.nodeName.toLowerCase()]){continue}bx=by[b.expando];if(bx){bz=e[bx];if(bz&&bz.events){for(var bD in bz.events){if(bC[bD]){b.event.remove(by,bD)}else{b.removeEvent(by,bD,bz.handle)}}if(bz.handle){bz.handle.elem=null}}if(bB){delete by[b.expando]}else{if(by.removeAttribute){by.removeAttribute(b.expando)}}delete e[bx]}}}});function bp(e,bw){if(bw.src){b.ajax({url:bw.src,async:false,dataType:"script"})}else{b.globalEval((bw.text||bw.textContent||bw.innerHTML||"").replace(aO,"/*$0*/"))}if(bw.parentNode){bw.parentNode.removeChild(bw)}}var al=/alpha\([^)]*\)/i,av=/opacity=([^)]*)/,A=/([A-Z]|^ms)/g,bd=/^-?\d+(?:px)?$/i,bo=/^-?\d/,J=/^([\-+])=([\-+.\de]+)/,a8={position:"absolute",visibility:"hidden",display:"block"},ao=["Left","Right"],a2=["Top","Bottom"],aa,aJ,aY;b.fn.css=function(e,bw){if(arguments.length===2&&bw===M){return this}return b.access(this,e,bw,true,function(by,bx,bz){return bz!==M?b.style(by,bx,bz):b.css(by,bx)})};b.extend({cssHooks:{opacity:{get:function(bx,bw){if(bw){var e=aa(bx,"opacity","opacity");return e===""?"1":e}else{return bx.style.opacity}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(by,bx,bE,bz){if(!by||by.nodeType===3||by.nodeType===8||!by.style){return}var bC,bD,bA=b.camelCase(bx),bw=by.style,bF=b.cssHooks[bA];bx=b.cssProps[bA]||bA;if(bE!==M){bD=typeof bE;if(bD==="string"&&(bC=J.exec(bE))){bE=(+(bC[1]+1)*+bC[2])+parseFloat(b.css(by,bx));bD="number"}if(bE==null||bD==="number"&&isNaN(bE)){return}if(bD==="number"&&!b.cssNumber[bA]){bE+="px"}if(!bF||!("set" in bF)||(bE=bF.set(by,bE))!==M){try{bw[bx]=bE}catch(bB){}}}else{if(bF&&"get" in bF&&(bC=bF.get(by,false,bz))!==M){return bC}return bw[bx]}},css:function(bz,by,bw){var bx,e;by=b.camelCase(by);e=b.cssHooks[by];by=b.cssProps[by]||by;if(by==="cssFloat"){by="float"}if(e&&"get" in e&&(bx=e.get(bz,true,bw))!==M){return bx}else{if(aa){return aa(bz,by)}}},swap:function(by,bx,bz){var e={};for(var bw in bx){e[bw]=by.style[bw];by.style[bw]=bx[bw]}bz.call(by);for(bw in bx){by.style[bw]=e[bw]}}});b.curCSS=b.css;b.each(["height","width"],function(bw,e){b.cssHooks[e]={get:function(bz,by,bx){var bA;if(by){if(bz.offsetWidth!==0){return q(bz,e,bx)}else{b.swap(bz,a8,function(){bA=q(bz,e,bx)})}return bA}},set:function(bx,by){if(bd.test(by)){by=parseFloat(by);if(by>=0){return by+"px"}}else{return by}}}});if(!b.support.opacity){b.cssHooks.opacity={get:function(bw,e){return av.test((e&&bw.currentStyle?bw.currentStyle.filter:bw.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":e?"1":""},set:function(bz,bA){var by=bz.style,bw=bz.currentStyle,e=b.isNumeric(bA)?"alpha(opacity="+bA*100+")":"",bx=bw&&bw.filter||by.filter||"";by.zoom=1;if(bA>=1&&b.trim(bx.replace(al,""))===""){by.removeAttribute("filter");if(bw&&!bw.filter){return}}by.filter=al.test(bx)?bx.replace(al,e):bx+" "+e}}}b(function(){if(!b.support.reliableMarginRight){b.cssHooks.marginRight={get:function(bx,bw){var e;b.swap(bx,{display:"inline-block"},function(){if(bw){e=aa(bx,"margin-right","marginRight")}else{e=bx.style.marginRight}});return e}}}});if(aw.defaultView&&aw.defaultView.getComputedStyle){aJ=function(bz,bx){var bw,by,e;bx=bx.replace(A,"-$1").toLowerCase();if((by=bz.ownerDocument.defaultView)&&(e=by.getComputedStyle(bz,null))){bw=e.getPropertyValue(bx);if(bw===""&&!b.contains(bz.ownerDocument.documentElement,bz)){bw=b.style(bz,bx)}}return bw}}if(aw.documentElement.currentStyle){aY=function(bA,bx){var bB,e,bz,bw=bA.currentStyle&&bA.currentStyle[bx],by=bA.style;if(bw===null&&by&&(bz=by[bx])){bw=bz}if(!bd.test(bw)&&bo.test(bw)){bB=by.left;e=bA.runtimeStyle&&bA.runtimeStyle.left;if(e){bA.runtimeStyle.left=bA.currentStyle.left}by.left=bx==="fontSize"?"1em":(bw||0);bw=by.pixelLeft+"px";by.left=bB;if(e){bA.runtimeStyle.left=e}}return bw===""?"auto":bw}}aa=aJ||aY;function q(bz,bx,bw){var bB=bx==="width"?bz.offsetWidth:bz.offsetHeight,bA=bx==="width"?ao:a2,by=0,e=bA.length;if(bB>0){if(bw!=="border"){for(;by<e;by++){if(!bw){bB-=parseFloat(b.css(bz,"padding"+bA[by]))||0}if(bw==="margin"){bB+=parseFloat(b.css(bz,bw+bA[by]))||0}else{bB-=parseFloat(b.css(bz,"border"+bA[by]+"Width"))||0}}}return bB+"px"}bB=aa(bz,bx,bx);if(bB<0||bB==null){bB=bz.style[bx]||0}bB=parseFloat(bB)||0;if(bw){for(;by<e;by++){bB+=parseFloat(b.css(bz,"padding"+bA[by]))||0;if(bw!=="padding"){bB+=parseFloat(b.css(bz,"border"+bA[by]+"Width"))||0}if(bw==="margin"){bB+=parseFloat(b.css(bz,bw+bA[by]))||0}}}return bB+"px"}if(b.expr&&b.expr.filters){b.expr.filters.hidden=function(bx){var bw=bx.offsetWidth,e=bx.offsetHeight;return(bw===0&&e===0)||(!b.support.reliableHiddenOffsets&&((bx.style&&bx.style.display)||b.css(bx,"display"))==="none")};b.expr.filters.visible=function(e){return !b.expr.filters.hidden(e)}}var l=/%20/g,aq=/\[\]$/,bt=/\r?\n/g,br=/#.*$/,aE=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,a0=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aN=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,aR=/^(?:GET|HEAD)$/,c=/^\/\//,N=/\?/,a7=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,r=/^(?:select|textarea)/i,h=/\s+/,bs=/([?&])_=[^&]*/,L=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,B=b.fn.load,ab={},s={},aF,t,aW=["*/"]+["*"];try{aF=bm.href}catch(ax){aF=aw.createElement("a");aF.href="";aF=aF.href}t=L.exec(aF.toLowerCase())||[];function f(e){return function(bz,bB){if(typeof bz!=="string"){bB=bz;bz="*"}if(b.isFunction(bB)){var by=bz.toLowerCase().split(h),bx=0,bA=by.length,bw,bC,bD;for(;bx<bA;bx++){bw=by[bx];bD=/^\+/.test(bw);if(bD){bw=bw.substr(1)||"*"}bC=e[bw]=e[bw]||[];bC[bD?"unshift":"push"](bB)}}}}function aX(bw,bF,bA,bE,bC,by){bC=bC||bF.dataTypes[0];by=by||{};by[bC]=true;var bB=bw[bC],bx=0,e=bB?bB.length:0,bz=(bw===ab),bD;for(;bx<e&&(bz||!bD);bx++){bD=bB[bx](bF,bA,bE);if(typeof bD==="string"){if(!bz||by[bD]){bD=M}else{bF.dataTypes.unshift(bD);bD=aX(bw,bF,bA,bE,bD,by)}}}if((bz||!bD)&&!by["*"]){bD=aX(bw,bF,bA,bE,"*",by)}return bD}function an(bx,by){var bw,e,bz=b.ajaxSettings.flatOptions||{};for(bw in by){if(by[bw]!==M){(bz[bw]?bx:(e||(e={})))[bw]=by[bw]}}if(e){b.extend(true,bx,e)}}b.fn.extend({load:function(bx,bA,bB){if(typeof bx!=="string"&&B){return B.apply(this,arguments)}else{if(!this.length){return this}}var bz=bx.indexOf(" ");if(bz>=0){var e=bx.slice(bz,bx.length);bx=bx.slice(0,bz)}var by="GET";if(bA){if(b.isFunction(bA)){bB=bA;bA=M}else{if(typeof bA==="object"){bA=b.param(bA,b.ajaxSettings.traditional);by="POST"}}}var bw=this;b.ajax({url:bx,type:by,dataType:"html",data:bA,complete:function(bD,bC,bE){bE=bD.responseText;if(bD.isResolved()){bD.done(function(bF){bE=bF});bw.html(e?b("<div>").append(bE.replace(a7,"")).find(e):bE)}if(bB){bw.each(bB,[bE,bC,bD])}}});return this},serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?b.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||r.test(this.nodeName)||a0.test(this.type))}).map(function(e,bw){var bx=b(this).val();return bx==null?null:b.isArray(bx)?b.map(bx,function(bz,by){return{name:bw.name,value:bz.replace(bt,"\r\n")}}):{name:bw.name,value:bx.replace(bt,"\r\n")}}).get()}});b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,bw){b.fn[bw]=function(bx){return this.on(bw,bx)}});b.each(["get","post"],function(e,bw){b[bw]=function(bx,bz,bA,by){if(b.isFunction(bz)){by=by||bA;bA=bz;bz=M}return b.ajax({type:bw,url:bx,data:bz,success:bA,dataType:by})}});b.extend({getScript:function(e,bw){return b.get(e,M,bw,"script")},getJSON:function(e,bw,bx){return b.get(e,bw,bx,"json")},ajaxSetup:function(bw,e){if(e){an(bw,b.ajaxSettings)}else{e=bw;bw=b.ajaxSettings}an(bw,e);return bw},ajaxSettings:{url:aF,isLocal:aN.test(t[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":aW},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":bc.String,"text html":true,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:f(ab),ajaxTransport:f(s),ajax:function(bA,by){if(typeof bA==="object"){by=bA;bA=M}by=by||{};var bE=b.ajaxSetup({},by),bT=bE.context||bE,bH=bT!==bE&&(bT.nodeType||bT instanceof b)?b(bT):b.event,bS=b.Deferred(),bO=b.Callbacks("once memory"),bC=bE.statusCode||{},bD,bI={},bP={},bR,bz,bM,bF,bJ,bB=0,bx,bL,bK={readyState:0,setRequestHeader:function(bU,bV){if(!bB){var e=bU.toLowerCase();bU=bP[e]=bP[e]||bU;bI[bU]=bV}return this},getAllResponseHeaders:function(){return bB===2?bR:null},getResponseHeader:function(bU){var e;if(bB===2){if(!bz){bz={};while((e=aE.exec(bR))){bz[e[1].toLowerCase()]=e[2]}}e=bz[bU.toLowerCase()]}return e===M?null:e},overrideMimeType:function(e){if(!bB){bE.mimeType=e}return this},abort:function(e){e=e||"abort";if(bM){bM.abort(e)}bG(0,e);return this}};function bG(b0,bV,b1,bX){if(bB===2){return}bB=2;if(bF){clearTimeout(bF)}bM=M;bR=bX||"";bK.readyState=b0>0?4:0;var bU,b5,b4,bY=bV,bZ=b1?bk(bE,bK,b1):M,bW,b3;if(b0>=200&&b0<300||b0===304){if(bE.ifModified){if((bW=bK.getResponseHeader("Last-Modified"))){b.lastModified[bD]=bW}if((b3=bK.getResponseHeader("Etag"))){b.etag[bD]=b3}}if(b0===304){bY="notmodified";bU=true}else{try{b5=H(bE,bZ);bY="success";bU=true}catch(b2){bY="parsererror";b4=b2}}}else{b4=bY;if(!bY||b0){bY="error";if(b0<0){b0=0}}}bK.status=b0;bK.statusText=""+(bV||bY);if(bU){bS.resolveWith(bT,[b5,bY,bK])}else{bS.rejectWith(bT,[bK,bY,b4])}bK.statusCode(bC);bC=M;if(bx){bH.trigger("ajax"+(bU?"Success":"Error"),[bK,bE,bU?b5:b4])}bO.fireWith(bT,[bK,bY]);if(bx){bH.trigger("ajaxComplete",[bK,bE]);if(!(--b.active)){b.event.trigger("ajaxStop")}}}bS.promise(bK);bK.success=bK.done;bK.error=bK.fail;bK.complete=bO.add;bK.statusCode=function(bU){if(bU){var e;if(bB<2){for(e in bU){bC[e]=[bC[e],bU[e]]}}else{e=bU[bK.status];bK.then(e,e)}}return this};bE.url=((bA||bE.url)+"").replace(br,"").replace(c,t[1]+"//");bE.dataTypes=b.trim(bE.dataType||"*").toLowerCase().split(h);if(bE.crossDomain==null){bJ=L.exec(bE.url.toLowerCase());bE.crossDomain=!!(bJ&&(bJ[1]!=t[1]||bJ[2]!=t[2]||(bJ[3]||(bJ[1]==="http:"?80:443))!=(t[3]||(t[1]==="http:"?80:443))))}if(bE.data&&bE.processData&&typeof bE.data!=="string"){bE.data=b.param(bE.data,bE.traditional)}aX(ab,bE,by,bK);if(bB===2){return false}bx=bE.global;bE.type=bE.type.toUpperCase();bE.hasContent=!aR.test(bE.type);if(bx&&b.active++===0){b.event.trigger("ajaxStart")}if(!bE.hasContent){if(bE.data){bE.url+=(N.test(bE.url)?"&":"?")+bE.data;delete bE.data}bD=bE.url;if(bE.cache===false){var bw=b.now(),bQ=bE.url.replace(bs,"$1_="+bw);bE.url=bQ+((bQ===bE.url)?(N.test(bE.url)?"&":"?")+"_="+bw:"")}}if(bE.data&&bE.hasContent&&bE.contentType!==false||by.contentType){bK.setRequestHeader("Content-Type",bE.contentType)}if(bE.ifModified){bD=bD||bE.url;if(b.lastModified[bD]){bK.setRequestHeader("If-Modified-Since",b.lastModified[bD])}if(b.etag[bD]){bK.setRequestHeader("If-None-Match",b.etag[bD])}}bK.setRequestHeader("Accept",bE.dataTypes[0]&&bE.accepts[bE.dataTypes[0]]?bE.accepts[bE.dataTypes[0]]+(bE.dataTypes[0]!=="*"?", "+aW+"; q=0.01":""):bE.accepts["*"]);for(bL in bE.headers){bK.setRequestHeader(bL,bE.headers[bL])}if(bE.beforeSend&&(bE.beforeSend.call(bT,bK,bE)===false||bB===2)){bK.abort();return false}for(bL in {success:1,error:1,complete:1}){bK[bL](bE[bL])}bM=aX(s,bE,by,bK);if(!bM){bG(-1,"No Transport")}else{bK.readyState=1;if(bx){bH.trigger("ajaxSend",[bK,bE])}if(bE.async&&bE.timeout>0){bF=setTimeout(function(){bK.abort("timeout")},bE.timeout)}try{bB=1;bM.send(bI,bG)}catch(bN){if(bB<2){bG(-1,bN)}else{throw bN}}}return bK},param:function(e,bx){var bw=[],bz=function(bA,bB){bB=b.isFunction(bB)?bB():bB;bw[bw.length]=encodeURIComponent(bA)+"="+encodeURIComponent(bB)};if(bx===M){bx=b.ajaxSettings.traditional}if(b.isArray(e)||(e.jquery&&!b.isPlainObject(e))){b.each(e,function(){bz(this.name,this.value)})}else{for(var by in e){w(by,e[by],bx,bz)}}return bw.join("&").replace(l,"+")}});function w(bx,bz,bw,by){if(b.isArray(bz)){b.each(bz,function(bB,bA){if(bw||aq.test(bx)){by(bx,bA)}else{w(bx+"["+(typeof bA==="object"||b.isArray(bA)?bB:"")+"]",bA,bw,by)}})}else{if(!bw&&bz!=null&&typeof bz==="object"){for(var e in bz){w(bx+"["+e+"]",bz[e],bw,by)}}else{by(bx,bz)}}}b.extend({active:0,lastModified:{},etag:{}});function bk(bE,bD,bA){var bw=bE.contents,bC=bE.dataTypes,bx=bE.responseFields,bz,bB,by,e;for(bB in bx){if(bB in bA){bD[bx[bB]]=bA[bB]}}while(bC[0]==="*"){bC.shift();if(bz===M){bz=bE.mimeType||bD.getResponseHeader("content-type")}}if(bz){for(bB in bw){if(bw[bB]&&bw[bB].test(bz)){bC.unshift(bB);break}}}if(bC[0] in bA){by=bC[0]}else{for(bB in bA){if(!bC[0]||bE.converters[bB+" "+bC[0]]){by=bB;break}if(!e){e=bB}}by=by||e}if(by){if(by!==bC[0]){bC.unshift(by)}return bA[by]}}function H(bI,bA){if(bI.dataFilter){bA=bI.dataFilter(bA,bI.dataType)}var bE=bI.dataTypes,bH={},bB,bF,bx=bE.length,bC,bD=bE[0],by,bz,bG,bw,e;for(bB=1;bB<bx;bB++){if(bB===1){for(bF in bI.converters){if(typeof bF==="string"){bH[bF.toLowerCase()]=bI.converters[bF]}}}by=bD;bD=bE[bB];if(bD==="*"){bD=by}else{if(by!=="*"&&by!==bD){bz=by+" "+bD;bG=bH[bz]||bH["* "+bD];if(!bG){e=M;for(bw in bH){bC=bw.split(" ");if(bC[0]===by||bC[0]==="*"){e=bH[bC[1]+" "+bD];if(e){bw=bH[bw];if(bw===true){bG=e}else{if(e===true){bG=bw}}break}}}}if(!(bG||e)){b.error("No conversion from "+bz.replace(" "," to "))}if(bG!==true){bA=bG?bG(bA):e(bw(bA))}}}}return bA}var aD=b.now(),v=/(\=)\?(&|$)|\?\?/i;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return b.expando+"_"+(aD++)}});b.ajaxPrefilter("json jsonp",function(bE,bB,bD){var by=bE.contentType==="application/x-www-form-urlencoded"&&(typeof bE.data==="string");if(bE.dataTypes[0]==="jsonp"||bE.jsonp!==false&&(v.test(bE.url)||by&&v.test(bE.data))){var bC,bx=bE.jsonpCallback=b.isFunction(bE.jsonpCallback)?bE.jsonpCallback():bE.jsonpCallback,bA=bc[bx],e=bE.url,bz=bE.data,bw="$1"+bx+"$2";if(bE.jsonp!==false){e=e.replace(v,bw);if(bE.url===e){if(by){bz=bz.replace(v,bw)}if(bE.data===bz){e+=(/\?/.test(e)?"&":"?")+bE.jsonp+"="+bx}}}bE.url=e;bE.data=bz;bc[bx]=function(bF){bC=[bF]};bD.always(function(){bc[bx]=bA;if(bC&&b.isFunction(bA)){bc[bx](bC[0])}});bE.converters["script json"]=function(){if(!bC){b.error(bx+" was not called")}return bC[0]};bE.dataTypes[0]="json";return"script"}});b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){b.globalEval(e);return e}}});b.ajaxPrefilter("script",function(e){if(e.cache===M){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});b.ajaxTransport("script",function(bx){if(bx.crossDomain){var e,bw=aw.head||aw.getElementsByTagName("head")[0]||aw.documentElement;return{send:function(by,bz){e=aw.createElement("script");e.async="async";if(bx.scriptCharset){e.charset=bx.scriptCharset}e.src=bx.url;e.onload=e.onreadystatechange=function(bB,bA){if(bA||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(bw&&e.parentNode){bw.removeChild(e)}e=M;if(!bA){bz(200,"success")}}};bw.insertBefore(e,bw.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var C=bc.ActiveXObject?function(){for(var e in O){O[e](0,1)}}:false,z=0,O;function aM(){try{return new bc.XMLHttpRequest()}catch(bw){}}function ak(){try{return new bc.ActiveXObject("Microsoft.XMLHTTP")}catch(bw){}}b.ajaxSettings.xhr=bc.ActiveXObject?function(){return !this.isLocal&&aM()||ak()}:aM;(function(e){b.extend(b.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(b.ajaxSettings.xhr());if(b.support.ajax){b.ajaxTransport(function(e){if(!e.crossDomain||b.support.cors){var bw;return{send:function(bC,bx){var bB=e.xhr(),bA,bz;if(e.username){bB.open(e.type,e.url,e.async,e.username,e.password)}else{bB.open(e.type,e.url,e.async)}if(e.xhrFields){for(bz in e.xhrFields){bB[bz]=e.xhrFields[bz]}}if(e.mimeType&&bB.overrideMimeType){bB.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!bC["X-Requested-With"]){bC["X-Requested-With"]="XMLHttpRequest"}try{for(bz in bC){bB.setRequestHeader(bz,bC[bz])}}catch(by){}bB.send((e.hasContent&&e.data)||null);bw=function(bL,bF){var bG,bE,bD,bJ,bI;try{if(bw&&(bF||bB.readyState===4)){bw=M;if(bA){bB.onreadystatechange=b.noop;if(C){delete O[bA]}}if(bF){if(bB.readyState!==4){bB.abort()}}else{bG=bB.status;bD=bB.getAllResponseHeaders();bJ={};bI=bB.responseXML;if(bI&&bI.documentElement){bJ.xml=bI}bJ.text=bB.responseText;try{bE=bB.statusText}catch(bK){bE=""}if(!bG&&e.isLocal&&!e.crossDomain){bG=bJ.text?200:404}else{if(bG===1223){bG=204}}}}}catch(bH){if(!bF){bx(-1,bH)}}if(bJ){bx(bG,bE,bJ,bD)}};if(!e.async||bB.readyState===4){bw()}else{bA=++z;if(C){if(!O){O={};b(bc).unload(C)}O[bA]=bw}bB.onreadystatechange=bw}},abort:function(){if(bw){bw(0,1)}}}}})}var R={},a9,n,aC=/^(?:toggle|show|hide)$/,aU=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,a4,aI=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],a5;b.fn.extend({show:function(by,bB,bA){var bx,bz;if(by||by===0){return this.animate(a1("show",3),by,bB,bA)}else{for(var bw=0,e=this.length;bw<e;bw++){bx=this[bw];if(bx.style){bz=bx.style.display;if(!b._data(bx,"olddisplay")&&bz==="none"){bz=bx.style.display=""}if(bz===""&&b.css(bx,"display")==="none"){b._data(bx,"olddisplay",y(bx.nodeName))}}}for(bw=0;bw<e;bw++){bx=this[bw];if(bx.style){bz=bx.style.display;if(bz===""||bz==="none"){bx.style.display=b._data(bx,"olddisplay")||""}}}return this}},hide:function(by,bB,bA){if(by||by===0){return this.animate(a1("hide",3),by,bB,bA)}else{var bx,bz,bw=0,e=this.length;for(;bw<e;bw++){bx=this[bw];if(bx.style){bz=b.css(bx,"display");if(bz!=="none"&&!b._data(bx,"olddisplay")){b._data(bx,"olddisplay",bz)}}}for(bw=0;bw<e;bw++){if(this[bw].style){this[bw].style.display="none"}}return this}},_toggle:b.fn.toggle,toggle:function(bx,bw,by){var e=typeof bx==="boolean";if(b.isFunction(bx)&&b.isFunction(bw)){this._toggle.apply(this,arguments)}else{if(bx==null||e){this.each(function(){var bz=e?bx:b(this).is(":hidden");b(this)[bz?"show":"hide"]()})}else{this.animate(a1("toggle",3),bx,bw,by)}}return this},fadeTo:function(e,by,bx,bw){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:by},e,bx,bw)},animate:function(bA,bx,bz,by){var e=b.speed(bx,bz,by);if(b.isEmptyObject(bA)){return this.each(e.complete,[false])}bA=b.extend({},bA);function bw(){if(e.queue===false){b._mark(this)}var bF=b.extend({},e),bL=this.nodeType===1,bJ=bL&&b(this).is(":hidden"),bC,bG,bE,bK,bI,bD,bH,bM,bB;bF.animatedProperties={};for(bE in bA){bC=b.camelCase(bE);if(bE!==bC){bA[bC]=bA[bE];delete bA[bE]}bG=bA[bC];if(b.isArray(bG)){bF.animatedProperties[bC]=bG[1];bG=bA[bC]=bG[0]}else{bF.animatedProperties[bC]=bF.specialEasing&&bF.specialEasing[bC]||bF.easing||"swing"}if(bG==="hide"&&bJ||bG==="show"&&!bJ){return bF.complete.call(this)}if(bL&&(bC==="height"||bC==="width")){bF.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(b.css(this,"display")==="inline"&&b.css(this,"float")==="none"){if(!b.support.inlineBlockNeedsLayout||y(this.nodeName)==="inline"){this.style.display="inline-block"}else{this.style.zoom=1}}}}if(bF.overflow!=null){this.style.overflow="hidden"}for(bE in bA){bK=new b.fx(this,bF,bE);bG=bA[bE];if(aC.test(bG)){bB=b._data(this,"toggle"+bE)||(bG==="toggle"?bJ?"show":"hide":0);if(bB){b._data(this,"toggle"+bE,bB==="show"?"hide":"show");bK[bB]()}else{bK[bG]()}}else{bI=aU.exec(bG);bD=bK.cur();if(bI){bH=parseFloat(bI[2]);bM=bI[3]||(b.cssNumber[bE]?"":"px");if(bM!=="px"){b.style(this,bE,(bH||1)+bM);bD=((bH||1)/bK.cur())*bD;b.style(this,bE,bD+bM)}if(bI[1]){bH=((bI[1]==="-="?-1:1)*bH)+bD}bK.custom(bD,bH,bM)}else{bK.custom(bD,bG,"")}}}return true}return e.queue===false?this.each(bw):this.queue(e.queue,bw)},stop:function(bx,bw,e){if(typeof bx!=="string"){e=bw;bw=bx;bx=M}if(bw&&bx!==false){this.queue(bx||"fx",[])}return this.each(function(){var by,bz=false,bB=b.timers,bA=b._data(this);if(!e){b._unmark(true,this)}function bC(bF,bG,bE){var bD=bG[bE];b.removeData(bF,bE,true);bD.stop(e)}if(bx==null){for(by in bA){if(bA[by]&&bA[by].stop&&by.indexOf(".run")===by.length-4){bC(this,bA,by)}}}else{if(bA[by=bx+".run"]&&bA[by].stop){bC(this,bA,by)}}for(by=bB.length;by--;){if(bB[by].elem===this&&(bx==null||bB[by].queue===bx)){if(e){bB[by](true)}else{bB[by].saveState()}bz=true;bB.splice(by,1)}}if(!(e&&bz)){b.dequeue(this,bx)}})}});function bi(){setTimeout(au,0);return(a5=b.now())}function au(){a5=M}function a1(bw,e){var bx={};b.each(aI.concat.apply([],aI.slice(0,e)),function(){bx[this]=bw});return bx}b.each({slideDown:a1("show",1),slideUp:a1("hide",1),slideToggle:a1("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,bw){b.fn[e]=function(bx,bz,by){return this.animate(bw,bx,bz,by)}});b.extend({speed:function(bx,by,bw){var e=bx&&typeof bx==="object"?b.extend({},bx):{complete:bw||!bw&&by||b.isFunction(bx)&&bx,duration:bx,easing:bw&&by||by&&!b.isFunction(by)&&by};e.duration=b.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in b.fx.speeds?b.fx.speeds[e.duration]:b.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(bz){if(b.isFunction(e.old)){e.old.call(this)}if(e.queue){b.dequeue(this,e.queue)}else{if(bz!==false){b._unmark(this)}}};return e},easing:{linear:function(bx,by,e,bw){return e+bw*bx},swing:function(bx,by,e,bw){return((-Math.cos(bx*Math.PI)/2)+0.5)*bw+e}},timers:[],fx:function(bw,e,bx){this.options=e;this.elem=bw;this.prop=bx;e.orig=e.orig||{}}});b.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(b.fx.step[this.prop]||b.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var e,bw=b.css(this.elem,this.prop);return isNaN(e=parseFloat(bw))?!bw||bw==="auto"?0:bw:e},custom:function(bA,bz,by){var e=this,bx=b.fx;this.startTime=a5||bi();this.end=bz;this.now=this.start=bA;this.pos=this.state=0;this.unit=by||this.unit||(b.cssNumber[this.prop]?"":"px");function bw(bB){return e.step(bB)}bw.queue=this.options.queue;bw.elem=this.elem;bw.saveState=function(){if(e.options.hide&&b._data(e.elem,"fxshow"+e.prop)===M){b._data(e.elem,"fxshow"+e.prop,e.start)}};if(bw()&&b.timers.push(bw)&&!a4){a4=setInterval(bx.tick,bx.interval)}},show:function(){var e=b._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||b.style(this.elem,this.prop);this.options.show=true;if(e!==M){this.custom(this.cur(),e)}else{this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur())}b(this.elem).show()},hide:function(){this.options.orig[this.prop]=b._data(this.elem,"fxshow"+this.prop)||b.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(bz){var bB,bC,bw,by=a5||bi(),e=true,bA=this.elem,bx=this.options;if(bz||by>=bx.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();bx.animatedProperties[this.prop]=true;for(bB in bx.animatedProperties){if(bx.animatedProperties[bB]!==true){e=false}}if(e){if(bx.overflow!=null&&!b.support.shrinkWrapBlocks){b.each(["","X","Y"],function(bD,bE){bA.style["overflow"+bE]=bx.overflow[bD]})}if(bx.hide){b(bA).hide()}if(bx.hide||bx.show){for(bB in bx.animatedProperties){b.style(bA,bB,bx.orig[bB]);b.removeData(bA,"fxshow"+bB,true);b.removeData(bA,"toggle"+bB,true)}}bw=bx.complete;if(bw){bx.complete=false;bw.call(bA)}}return false}else{if(bx.duration==Infinity){this.now=by}else{bC=by-this.startTime;this.state=bC/bx.duration;this.pos=b.easing[bx.animatedProperties[this.prop]](this.state,bC,0,1,bx.duration);this.now=this.start+((this.end-this.start)*this.pos)}this.update()}return true}};b.extend(b.fx,{tick:function(){var bx,bw=b.timers,e=0;for(;e<bw.length;e++){bx=bw[e];if(!bx()&&bw[e]===bx){bw.splice(e--,1)}}if(!bw.length){b.fx.stop()}},interval:13,stop:function(){clearInterval(a4);a4=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){b.style(e.elem,"opacity",e.now)},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null){e.elem.style[e.prop]=e.now+e.unit}else{e.elem[e.prop]=e.now}}}});b.each(["width","height"],function(e,bw){b.fx.step[bw]=function(bx){b.style(bx.elem,bw,Math.max(0,bx.now)+bx.unit)}});if(b.expr&&b.expr.filters){b.expr.filters.animated=function(e){return b.grep(b.timers,function(bw){return e===bw.elem}).length}}function y(by){if(!R[by]){var e=aw.body,bw=b("<"+by+">").appendTo(e),bx=bw.css("display");bw.remove();if(bx==="none"||bx===""){if(!a9){a9=aw.createElement("iframe");a9.frameBorder=a9.width=a9.height=0}e.appendChild(a9);if(!n||!a9.createElement){n=(a9.contentWindow||a9.contentDocument).document;n.write((aw.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");n.close()}bw=n.createElement(by);n.body.appendChild(bw);bx=b.css(bw,"display");e.removeChild(a9)}R[by]=bx}return R[by]}var W=/^t(?:able|d|h)$/i,ae=/^(?:body|html)$/i;if("getBoundingClientRect" in aw.documentElement){b.fn.offset=function(bJ){var bz=this[0],bC;if(bJ){return this.each(function(e){b.offset.setOffset(this,bJ,e)})}if(!bz||!bz.ownerDocument){return null}if(bz===bz.ownerDocument.body){return b.offset.bodyOffset(bz)}try{bC=bz.getBoundingClientRect()}catch(bG){}var bI=bz.ownerDocument,bx=bI.documentElement;if(!bC||!b.contains(bx,bz)){return bC?{top:bC.top,left:bC.left}:{top:0,left:0}}var bD=bI.body,bE=aL(bI),bB=bx.clientTop||bD.clientTop||0,bF=bx.clientLeft||bD.clientLeft||0,bw=bE.pageYOffset||b.support.boxModel&&bx.scrollTop||bD.scrollTop,bA=bE.pageXOffset||b.support.boxModel&&bx.scrollLeft||bD.scrollLeft,bH=bC.top+bw-bB,by=bC.left+bA-bF;return{top:bH,left:by}}}else{b.fn.offset=function(bG){var bA=this[0];if(bG){return this.each(function(bH){b.offset.setOffset(this,bG,bH)})}if(!bA||!bA.ownerDocument){return null}if(bA===bA.ownerDocument.body){return b.offset.bodyOffset(bA)}var bD,bx=bA.offsetParent,bw=bA,bF=bA.ownerDocument,by=bF.documentElement,bB=bF.body,bC=bF.defaultView,e=bC?bC.getComputedStyle(bA,null):bA.currentStyle,bE=bA.offsetTop,bz=bA.offsetLeft;while((bA=bA.parentNode)&&bA!==bB&&bA!==by){if(b.support.fixedPosition&&e.position==="fixed"){break}bD=bC?bC.getComputedStyle(bA,null):bA.currentStyle;bE-=bA.scrollTop;bz-=bA.scrollLeft;if(bA===bx){bE+=bA.offsetTop;bz+=bA.offsetLeft;if(b.support.doesNotAddBorder&&!(b.support.doesAddBorderForTableAndCells&&W.test(bA.nodeName))){bE+=parseFloat(bD.borderTopWidth)||0;bz+=parseFloat(bD.borderLeftWidth)||0}bw=bx;bx=bA.offsetParent}if(b.support.subtractsBorderForOverflowNotVisible&&bD.overflow!=="visible"){bE+=parseFloat(bD.borderTopWidth)||0;bz+=parseFloat(bD.borderLeftWidth)||0}e=bD}if(e.position==="relative"||e.position==="static"){bE+=bB.offsetTop;bz+=bB.offsetLeft}if(b.support.fixedPosition&&e.position==="fixed"){bE+=Math.max(by.scrollTop,bB.scrollTop);bz+=Math.max(by.scrollLeft,bB.scrollLeft)}return{top:bE,left:bz}}}b.offset={bodyOffset:function(e){var bx=e.offsetTop,bw=e.offsetLeft;if(b.support.doesNotIncludeMarginInBodyOffset){bx+=parseFloat(b.css(e,"marginTop"))||0;bw+=parseFloat(b.css(e,"marginLeft"))||0}return{top:bx,left:bw}},setOffset:function(by,bH,bB){var bC=b.css(by,"position");if(bC==="static"){by.style.position="relative"}var bA=b(by),bw=bA.offset(),e=b.css(by,"top"),bF=b.css(by,"left"),bG=(bC==="absolute"||bC==="fixed")&&b.inArray("auto",[e,bF])>-1,bE={},bD={},bx,bz;if(bG){bD=bA.position();bx=bD.top;bz=bD.left}else{bx=parseFloat(e)||0;bz=parseFloat(bF)||0}if(b.isFunction(bH)){bH=bH.call(by,bB,bw)}if(bH.top!=null){bE.top=(bH.top-bw.top)+bx}if(bH.left!=null){bE.left=(bH.left-bw.left)+bz}if("using" in bH){bH.using.call(by,bE)}else{bA.css(bE)}}};b.fn.extend({position:function(){if(!this[0]){return null}var bx=this[0],bw=this.offsetParent(),by=this.offset(),e=ae.test(bw[0].nodeName)?{top:0,left:0}:bw.offset();by.top-=parseFloat(b.css(bx,"marginTop"))||0;by.left-=parseFloat(b.css(bx,"marginLeft"))||0;e.top+=parseFloat(b.css(bw[0],"borderTopWidth"))||0;e.left+=parseFloat(b.css(bw[0],"borderLeftWidth"))||0;return{top:by.top-e.top,left:by.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||aw.body;while(e&&(!ae.test(e.nodeName)&&b.css(e,"position")==="static")){e=e.offsetParent}return e})}});b.each(["Left","Top"],function(bw,e){var bx="scroll"+e;b.fn[bx]=function(bA){var by,bz;if(bA===M){by=this[0];if(!by){return null}bz=aL(by);return bz?("pageXOffset" in bz)?bz[bw?"pageYOffset":"pageXOffset"]:b.support.boxModel&&bz.document.documentElement[bx]||bz.document.body[bx]:by[bx]}return this.each(function(){bz=aL(this);if(bz){bz.scrollTo(!bw?bA:b(bz).scrollLeft(),bw?bA:b(bz).scrollTop())}else{this[bx]=bA}})}});function aL(e){return b.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}b.each(["Height","Width"],function(bw,e){var bx=e.toLowerCase();b.fn["inner"+e]=function(){var by=this[0];return by?by.style?parseFloat(b.css(by,bx,"padding")):this[bx]():null};b.fn["outer"+e]=function(bz){var by=this[0];return by?by.style?parseFloat(b.css(by,bx,bz?"margin":"border")):this[bx]():null};b.fn[bx]=function(bA){var bB=this[0];if(!bB){return bA==null?null:this}if(b.isFunction(bA)){return this.each(function(bF){var bE=b(this);bE[bx](bA.call(this,bF,bE[bx]()))})}if(b.isWindow(bB)){var bC=bB.document.documentElement["client"+e],by=bB.document.body;return bB.document.compatMode==="CSS1Compat"&&bC||by&&by["client"+e]||bC}else{if(bB.nodeType===9){return Math.max(bB.documentElement["client"+e],bB.body["scroll"+e],bB.documentElement["scroll"+e],bB.body["offset"+e],bB.documentElement["offset"+e])}else{if(bA===M){var bD=b.css(bB,bx),bz=parseFloat(bD);return b.isNumeric(bz)?bz:bD}else{return this.css(bx,typeof bA==="string"?bA:bA+"px")}}}}});bc.jQuery=bc.$=b;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return b})}})(window);(function(a){a.extend(a.easing,{def:"easeOutQuad",swing:function(f,g,e,j,h){return a.easing[a.easing.def](f,g,e,j,h)},easeInQuad:function(f,g,e,j,h){return j*(g/=h)*g+e},easeOutQuad:function(f,g,e,j,h){return -j*(g/=h)*(g-2)+e},easeInOutQuad:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g+e}return -j/2*((--g)*(g-2)-1)+e},easeInCubic:function(f,g,e,j,h){return j*(g/=h)*g*g+e},easeOutCubic:function(f,g,e,j,h){return j*((g=g/h-1)*g*g+1)+e},easeInOutCubic:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g*g+e}return j/2*((g-=2)*g*g+2)+e},easeInQuart:function(f,g,e,j,h){return j*(g/=h)*g*g*g+e},easeOutQuart:function(f,g,e,j,h){return -j*((g=g/h-1)*g*g*g-1)+e},easeInOutQuart:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g*g*g+e}return -j/2*((g-=2)*g*g*g-2)+e},easeInQuint:function(f,g,e,j,h){return j*(g/=h)*g*g*g*g+e},easeOutQuint:function(f,g,e,j,h){return j*((g=g/h-1)*g*g*g*g+1)+e},easeInOutQuint:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g*g*g*g+e}return j/2*((g-=2)*g*g*g*g+2)+e},easeInSine:function(f,g,e,j,h){return -j*Math.cos(g/h*(Math.PI/2))+j+e},easeOutSine:function(f,g,e,j,h){return j*Math.sin(g/h*(Math.PI/2))+e},easeInOutSine:function(f,g,e,j,h){return -j/2*(Math.cos(Math.PI*g/h)-1)+e},easeInExpo:function(f,g,e,j,h){return(g==0)?e:j*Math.pow(2,10*(g/h-1))+e},easeOutExpo:function(f,g,e,j,h){return(g==h)?e+j:j*(-Math.pow(2,-10*g/h)+1)+e},easeInOutExpo:function(f,g,e,j,h){if(g==0){return e}if(g==h){return e+j}if((g/=h/2)<1){return j/2*Math.pow(2,10*(g-1))+e}return j/2*(-Math.pow(2,-10*--g)+2)+e},easeInCirc:function(f,g,e,j,h){return -j*(Math.sqrt(1-(g/=h)*g)-1)+e},easeOutCirc:function(f,g,e,j,h){return j*Math.sqrt(1-(g=g/h-1)*g)+e},easeInOutCirc:function(f,g,e,j,h){if((g/=h/2)<1){return -j/2*(Math.sqrt(1-g*g)-1)+e}return j/2*(Math.sqrt(1-(g-=2)*g)+1)+e},easeInElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e},easeOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return g*Math.pow(2,-10*h)*Math.sin((h*l-j)*(2*Math.PI)/k)+m+e},easeInOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l/2)==2){return e+m}if(!k){k=l*(0.3*1.5)}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k)*0.5+m+e},easeInBack:function(f,g,e,k,j,h){if(h==undefined){h=1.70158}return k*(g/=j)*g*((h+1)*g-h)+e},easeOutBack:function(f,g,e,k,j,h){if(h==undefined){h=1.70158}return k*((g=g/j-1)*g*((h+1)*g+h)+1)+e},easeInOutBack:function(f,g,e,k,j,h){if(h==undefined){h=1.70158}if((g/=j/2)<1){return k/2*(g*g*(((h*=(1.525))+1)*g-h))+e}return k/2*((g-=2)*g*(((h*=(1.525))+1)*g+h)+2)+e},easeInBounce:function(f,g,e,j,h){return j-a.easing.easeOutBounce(f,h-g,0,j,h)+e},easeOutBounce:function(f,g,e,j,h){if((g/=h)<(1/2.75)){return j*(7.5625*g*g)+e}else{if(g<(2/2.75)){return j*(7.5625*(g-=(1.5/2.75))*g+0.75)+e}else{if(g<(2.5/2.75)){return j*(7.5625*(g-=(2.25/2.75))*g+0.9375)+e}else{return j*(7.5625*(g-=(2.625/2.75))*g+0.984375)+e}}}},easeInOutBounce:function(f,g,e,j,h){if(g<h/2){return a.easing.easeInBounce(f,g*2,0,j,h)*0.5+e}return a.easing.easeOutBounce(f,g*2-h,0,j,h)*0.5+j*0.5+e}})}(jQuery));var $sf=$.noConflict(true);(function(){var w=this;var k=w._;var E={};var D=Array.prototype,f=Object.prototype,r=Function.prototype;var n=D.slice,A=D.unshift,c=f.toString,h=f.hasOwnProperty;var M=D.forEach,q=D.map,F=D.reduce,b=D.reduceRight,a=D.filter,B=D.every,o=D.some,m=D.indexOf,l=D.lastIndexOf,t=Array.isArray,e=Object.keys,G=r.bind;F=undefined;var N=function(p){return new u(p)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=N}exports._=N}else{w._=N}N.VERSION="1.3.3";var J=N.each=N.forEach=function(S,R,Q){if(S==null){return}if(M&&S.forEach===M){S.forEach(R,Q)}else{if(S.length===+S.length){for(var P=0,p=S.length;P<p;P++){if(P in S&&R.call(Q,S[P],P,S)===E){return}}}else{for(var O in S){if(N.has(S,O)){if(R.call(Q,S[O],O,S)===E){return}}}}}};N.map=N.collect=function(Q,P,O){var p=[];if(Q==null){return p}if(q&&Q.map===q){return Q.map(P,O)}J(Q,function(T,R,S){p[p.length]=P.call(O,T,R,S)});if(Q.length===+Q.length){p.length=Q.length}return p};N.reduce=N.foldl=N.inject=function(R,Q,p,P){var O=arguments.length>2;if(R==null){R=[]}if(F&&R.reduce===F){if(P){Q=N.bind(Q,P)}return O?R.reduce(Q,p):R.reduce(Q)}J(R,function(U,S,T){if(!O){p=U;O=true}else{p=Q.call(P,p,U,S,T)}});if(!O){throw new TypeError("Reduce of empty array with no initial value")}return p};N.reduceRight=N.foldr=function(R,Q,p,P){var O=arguments.length>2;if(R==null){R=[]}if(b&&R.reduceRight===b){if(P){Q=N.bind(Q,P)}return O?R.reduceRight(Q,p):R.reduceRight(Q)}var S=N.toArray(R).reverse();if(P&&!O){Q=N.bind(Q,P)}return O?N.reduce(S,Q,p,P):N.reduce(S,Q)};N.find=N.detect=function(Q,P,O){var p;z(Q,function(T,R,S){if(P.call(O,T,R,S)){p=T;return true}});return p};N.filter=N.select=function(Q,P,O){var p=[];if(Q==null){return p}if(a&&Q.filter===a){return Q.filter(P,O)}J(Q,function(T,R,S){if(P.call(O,T,R,S)){p[p.length]=T}});return p};N.reject=function(Q,P,O){var p=[];if(Q==null){return p}J(Q,function(T,R,S){if(!P.call(O,T,R,S)){p[p.length]=T}});return p};N.every=N.all=function(Q,P,O){var p=true;if(Q==null){return p}if(B&&Q.every===B){return Q.every(P,O)}J(Q,function(T,R,S){if(!(p=p&&P.call(O,T,R,S))){return E}});return !!p};var z=N.some=N.any=function(Q,P,O){P||(P=N.identity);var p=false;if(Q==null){return p}if(o&&Q.some===o){return Q.some(P,O)}J(Q,function(T,R,S){if(p||(p=P.call(O,T,R,S))){return E}});return !!p};N.include=N.contains=function(P,O){var p=false;if(P==null){return p}if(m&&P.indexOf===m){return P.indexOf(O)!=-1}p=z(P,function(Q){return Q===O});return p};N.invoke=function(O,P){var p=n.call(arguments,2);return N.map(O,function(Q){return(N.isFunction(P)?P||Q:Q[P]).apply(Q,p)})};N.pluck=function(O,p){return N.map(O,function(P){return P[p]})};N.max=function(Q,P,O){if(!P&&N.isArray(Q)&&Q[0]===+Q[0]){return Math.max.apply(Math,Q)}if(!P&&N.isEmpty(Q)){return -Infinity}var p={computed:-Infinity};J(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S>=p.computed&&(p={value:U,computed:S})});return p.value};N.min=function(Q,P,O){if(!P&&N.isArray(Q)&&Q[0]===+Q[0]){return Math.min.apply(Math,Q)}if(!P&&N.isEmpty(Q)){return Infinity}var p={computed:Infinity};J(Q,function(U,R,T){var S=P?P.call(O,U,R,T):U;S<p.computed&&(p={value:U,computed:S})});return p.value};N.shuffle=function(P){var p=[],O;J(P,function(S,Q,R){O=Math.floor(Math.random()*(Q+1));p[Q]=p[O];p[O]=S});return p};N.sortBy=function(P,Q,p){var O=N.isFunction(Q)?Q:function(R){return R[Q]};return N.pluck(N.map(P,function(T,R,S){return{value:T,criteria:O.call(p,T,R,S)}}).sort(function(U,T){var S=U.criteria,R=T.criteria;if(S===void 0){return 1}if(R===void 0){return -1}return S<R?-1:S>R?1:0}),"value")};N.groupBy=function(P,Q){var p={};var O=N.isFunction(Q)?Q:function(R){return R[Q]};J(P,function(T,R){var S=O(T,R);(p[S]||(p[S]=[])).push(T)});return p};N.sortedIndex=function(S,R,P){P||(P=N.identity);var p=0,Q=S.length;while(p<Q){var O=(p+Q)>>1;P(S[O])<P(R)?p=O+1:Q=O}return p};N.toArray=function(p){if(!p){return[]}if(N.isArray(p)){return n.call(p)}if(N.isArguments(p)){return n.call(p)}if(p.toArray&&N.isFunction(p.toArray)){return p.toArray()}return N.values(p)};N.size=function(p){return N.isArray(p)?p.length:N.keys(p).length};N.first=N.head=N.take=function(P,O,p){return(O!=null)&&!p?n.call(P,0,O):P[0]};N.initial=function(P,O,p){return n.call(P,0,P.length-((O==null)||p?1:O))};N.last=function(P,O,p){if((O!=null)&&!p){return n.call(P,Math.max(P.length-O,0))}else{return P[P.length-1]}};N.rest=N.tail=function(P,p,O){return n.call(P,(p==null)||O?1:p)};N.compact=function(p){return N.filter(p,function(O){return !!O})};N.flatten=function(O,p){return N.reduce(O,function(P,Q){if(N.isArray(Q)){return P.concat(p?Q:N.flatten(Q))}P[P.length]=Q;return P},[])};N.without=function(p){return N.difference(p,n.call(arguments,1))};N.uniq=N.unique=function(R,Q,P){var p=P?N.map(R,P):R;var O=[];if(R.length<3){Q=true}N.reduce(p,function(S,U,T){if(Q?N.last(S)!==U||!S.length:!N.include(S,U)){S.push(U);O.push(R[T])}return S},[]);return O};N.union=function(){return N.uniq(N.flatten(arguments,true))};N.intersection=N.intersect=function(O){var p=n.call(arguments,1);return N.filter(N.uniq(O),function(P){return N.every(p,function(Q){return N.indexOf(Q,P)>=0})})};N.difference=function(O){var p=N.flatten(n.call(arguments,1),true);return N.filter(O,function(P){return !N.include(p,P)})};N.zip=function(){var p=n.call(arguments);var Q=N.max(N.pluck(p,"length"));var P=new Array(Q);for(var O=0;O<Q;O++){P[O]=N.pluck(p,""+O)}return P};N.indexOf=function(R,P,Q){if(R==null){return -1}var O,p;if(Q){O=N.sortedIndex(R,P);return R[O]===P?O:-1}if(m&&R.indexOf===m){return R.indexOf(P)}for(O=0,p=R.length;O<p;O++){if(O in R&&R[O]===P){return O}}return -1};N.lastIndexOf=function(P,O){if(P==null){return -1}if(l&&P.lastIndexOf===l){return P.lastIndexOf(O)}var p=P.length;while(p--){if(p in P&&P[p]===O){return p}}return -1};N.range=function(S,Q,R){if(arguments.length<=1){Q=S||0;S=0}R=arguments[2]||1;var O=Math.max(Math.ceil((Q-S)/R),0);var p=0;var P=new Array(O);while(p<O){P[p++]=S;S+=R}return P};var H=function(){};N.bind=function d(Q,O){var P,p;if(Q.bind===G&&G){return G.apply(Q,n.call(arguments,1))}if(!N.isFunction(Q)){throw new TypeError}p=n.call(arguments,2);return P=function(){if(!(this instanceof P)){return Q.apply(O,p.concat(n.call(arguments)))}H.prototype=Q.prototype;var S=new H;var R=Q.apply(S,p.concat(n.call(arguments)));if(Object(R)===R){return R}return S}};N.bindAll=function(O){var p=n.call(arguments,1);if(p.length==0){p=N.functions(O)}J(p,function(P){O[P]=N.bind(O[P],O)});return O};N.memoize=function(P,O){var p={};O||(O=N.identity);return function(){var Q=O.apply(this,arguments);return N.has(p,Q)?p[Q]:(p[Q]=P.apply(this,arguments))}};N.delay=function(O,P){var p=n.call(arguments,2);return setTimeout(function(){return O.apply(null,p)},P)};N.defer=function(p){return N.delay.apply(N,[p,1].concat(n.call(arguments,1)))};N.throttle=function(P,Q){var O,S,T,U,R,V;var p=N.debounce(function(){R=U=false},Q);return function(){O=this;S=arguments;var W=function(){T=null;if(R){P.apply(O,S)}p()};if(!T){T=setTimeout(W,Q)}if(U){R=true}else{V=P.apply(O,S)}p();U=true;return V}};N.debounce=function(O,Q,p){var P;return function(){var T=this,S=arguments;var R=function(){P=null;if(!p){O.apply(T,S)}};if(p&&!P){O.apply(T,S)}clearTimeout(P);P=setTimeout(R,Q)}};N.once=function(P){var p=false,O;return function(){if(p){return O}p=true;return O=P.apply(this,arguments)}};N.wrap=function(p,O){return function(){var P=[p].concat(n.call(arguments,0));return O.apply(this,P)}};N.compose=function(){var p=arguments;return function(){var O=arguments;for(var P=p.length-1;P>=0;P--){O=[p[P].apply(this,O)]}return O[0]}};N.after=function(O,p){if(O<=0){return p()}return function(){if(--O<1){return p.apply(this,arguments)}}};N.keys=e||function(P){if(P!==Object(P)){throw new TypeError("Invalid object")}var O=[];for(var p in P){if(N.has(P,p)){O[O.length]=p}}return O};N.values=function(p){return N.map(p,N.identity)};N.functions=N.methods=function(P){var O=[];for(var p in P){if(N.isFunction(P[p])){O.push(p)}}return O.sort()};N.extend=function(p){J(n.call(arguments,1),function(O){for(var P in O){p[P]=O[P]}});return p};N.pick=function(O){var p={};J(N.flatten(n.call(arguments,1)),function(P){if(P in O){p[P]=O[P]}});return p};N.defaults=function(p){J(n.call(arguments,1),function(O){for(var P in O){if(p[P]==null){p[P]=O[P]}}});return p};N.clone=function(p){if(!N.isObject(p)){return p}return N.isArray(p)?p.slice():N.extend({},p)};N.tap=function(O,p){p(O);return O};function K(Q,P,O){if(Q===P){return Q!==0||1/Q==1/P}if(Q==null||P==null){return Q===P}if(Q._chain){Q=Q._wrapped}if(P._chain){P=P._wrapped}if(Q.isEqual&&N.isFunction(Q.isEqual)){return Q.isEqual(P)}if(P.isEqual&&N.isFunction(P.isEqual)){return P.isEqual(Q)}var T=c.call(Q);if(T!=c.call(P)){return false}switch(T){case"[object String]":return Q==String(P);case"[object Number]":return Q!=+Q?P!=+P:(Q==0?1/Q==1/P:Q==+P);case"[object Date]":case"[object Boolean]":return +Q==+P;case"[object RegExp]":return Q.source==P.source&&Q.global==P.global&&Q.multiline==P.multiline&&Q.ignoreCase==P.ignoreCase}if(typeof Q!="object"||typeof P!="object"){return false}var U=O.length;while(U--){if(O[U]==Q){return true}}O.push(Q);var S=0,p=true;if(T=="[object Array]"){S=Q.length;p=S==P.length;if(p){while(S--){if(!(p=S in Q==S in P&&K(Q[S],P[S],O))){break}}}}else{if("constructor" in Q!="constructor" in P||Q.constructor!=P.constructor){return false}for(var R in Q){if(N.has(Q,R)){S++;if(!(p=N.has(P,R)&&K(Q[R],P[R],O))){break}}}if(p){for(R in P){if(N.has(P,R)&&!(S--)){break}}p=!S}}O.pop();return p}N.isEqual=function(O,p){return K(O,p,[])};N.isEmpty=function(O){if(O==null){return true}if(N.isArray(O)||N.isString(O)){return O.length===0}for(var p in O){if(N.has(O,p)){return false}}return true};N.isElement=function(p){return !!(p&&p.nodeType==1)};N.isArray=t||function(p){return c.call(p)=="[object Array]"};N.isObject=function(p){return p===Object(p)};N.isArguments=function(p){return c.call(p)=="[object Arguments]"};if(!N.isArguments(arguments)){N.isArguments=function(p){return !!(p&&N.has(p,"callee"))}}N.isFunction=function(p){return c.call(p)=="[object Function]"};N.isString=function(p){return c.call(p)=="[object String]"};N.isNumber=function(p){return c.call(p)=="[object Number]"};N.isFinite=function(p){return N.isNumber(p)&&isFinite(p)};N.isNaN=function(p){return p!==p};N.isBoolean=function(p){return p===true||p===false||c.call(p)=="[object Boolean]"};N.isDate=function(p){return c.call(p)=="[object Date]"};N.isRegExp=function(p){return c.call(p)=="[object RegExp]"};N.isNull=function(p){return p===null};N.isUndefined=function(p){return p===void 0};N.has=function(O,p){return h.call(O,p)};N.noConflict=function(){w._=k;return this};N.identity=function(p){return p};N.times=function(Q,P,O){for(var p=0;p<Q;p++){P.call(O,p)}};N.escape=function(p){return(""+p).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};N.result=function(p,P){if(p==null){return null}var O=p[P];return N.isFunction(O)?O.call(p):O};N.mixin=function(p){J(N.functions(p),function(O){x(O,N[O]=p[O])})};var y=0;N.uniqueId=function(p){var O=y++;return p?p+O:O};N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var v=/.^/;var g={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var I in g){g[g[I]]=I}var j=/\\|'|\r|\n|\t|\u2028|\u2029/g;var C=/\\(\\|'|r|n|t|u2028|u2029)/g;var L=function(p){return p.replace(C,function(O,P){return g[P]})};N.template=function(S,R,P){P=N.defaults(P||{},N.templateSettings);var Q="__p+='"+S.replace(j,function(T){return"\\"+g[T]}).replace(P.escape||v,function(T,U){return"'+\n_.escape("+L(U)+")+\n'"}).replace(P.interpolate||v,function(T,U){return"'+\n("+L(U)+")+\n'"}).replace(P.evaluate||v,function(T,U){return"';\n"+L(U)+"\n;__p+='"})+"';\n";if(!P.variable){Q="with(obj||{}){\n"+Q+"}\n"}Q="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+Q+"return __p;\n";var O=new Function(P.variable||"obj","_",Q);if(R){return O(R,N)}var p=function(T){return O.call(this,T,N)};p.source="function("+(P.variable||"obj")+"){\n"+Q+"}";return p};N.chain=function(p){return N(p).chain()};var u=function(p){this._wrapped=p};N.prototype=u.prototype;var s=function(O,p){return p?N(O).chain():O};var x=function(p,O){u.prototype[p]=function(){var P=n.call(arguments);A.call(P,this._wrapped);return s(O.apply(N,P),this._chain)}};N.mixin(N);J(["pop","push","reverse","shift","sort","splice","unshift"],function(p){var O=D[p];u.prototype[p]=function(){var P=this._wrapped;O.apply(P,arguments);var Q=P.length;if((p=="shift"||p=="splice")&&Q===0){delete P[0]}return s(P,this._chain)}});J(["concat","join","slice"],function(p){var O=D[p];u.prototype[p]=function(){return s(O.apply(this._wrapped,arguments),this._chain)}});u.prototype.chain=function(){this._chain=true;return this};u.prototype.value=function(){return this._wrapped}}).call(this);var _sf=_.noConflict();var SFJSON;if(!SFJSON){SFJSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toSFJSON!=="function"){Date.prototype.toSFJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toSFJSON=Number.prototype.toSFJSON=Boolean.prototype.toSFJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toSFJSON==="function"){value=value.toSFJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof SFJSON.stringify!=="function"){SFJSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("SFJSON.stringify")}return str("",{"":value})}}if(typeof SFJSON.parse!=="function"){SFJSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("SFJSON.parse")}}}());var createJsonpRouter=function(){function d(h){var g=0;window.shoefitr=window.shoefitr||{};while(true){if(!_sf.has(window.shoefitr,"_i"+g)){break}g++}window.shoefitr["_i"+g]=h;return"shoefitr._i"+g}var b={},f={},e=0,c;function a(g,h){var j=b[h];delete b[h];if(j){j(g)}$sf(f[h]).remove()}c=d(a);return{Load:function(h,k){var j=e++;b[j]=k;var g=document.createElement("script");g.setAttribute("src",h+"&callback="+c+"&echo="+j);document.body.appendChild(g);f[j]=g}}};SFMetrics.sTrackingCookieKey="shoefitrUserId";SFMetrics.iTrackingCookieLifetimeInDays=10*365;function SFMetrics(d,b,a,c){this.urlApiRoot=b;this.iApplicationId=d;this.bAnonymizeMetrics=a;this.aMetricsToRecord=[];this.bIsKnownUser=false;this.iSequenceNumber=0;this.fReadyCallback=c;this.requestTrackingId()}SFMetrics.prototype.requestTrackingId=function(){var c=this;var a=this.tryGetTrackingCookie();if(a!==null){c.bIsKnownUser=true;c.setTrackingCookie(a);return}var b=this.urlApiRoot+"/GetTrackingId?fpc="+encodeURIComponent(a)+"&sid="+Math.random();SFUtil.LoadJSONP(b,function(d){if(d.Success){a=c.tryGetTrackingCookie();c.bIsKnownUser=(d.Id===a);if(a!==null){c.setTrackingCookie(a)}else{c.setTrackingCookie(d.Id)}}})};SFMetrics.prototype.tryGetTrackingCookie=function(){var a=SFUtil.GetCookie(SFMetrics.sTrackingCookieKey);if(/^[a-zA-Z0-9-_]{23}$/.test(a)){return a}else{return null}};SFMetrics.prototype.setTrackingCookie=function(a){SFUtil.SetCookie(SFMetrics.sTrackingCookieKey,a,SFMetrics.iTrackingCookieLifetimeInDays);if(this.fReadyCallback&&_sf.isFunction(this.fReadyCallback)){this.fReadyCallback(a,this.bIsKnownUser)}this.sTrackingId=a;this.reportMetrics()};SFMetrics.prototype.RecordMetric=function(c,a){a=a||{};function b(d){if(Object.prototype.hasOwnProperty.call(a,d)){throw new Error('invalid parameter: "'+d+'" is reserved')}}b("userId");b("applicationId");b("aip");b("sq");this.aMetricsToRecord.push({sEventName:c,oParams:a});if(this.sTrackingId){this.reportMetrics()}};SFMetrics.prototype.reportMetrics=function(){for(var d=0;d<this.aMetricsToRecord.length;d++){var f=this.aMetricsToRecord[d].sEventName;var a=_sf.clone(this.aMetricsToRecord[d].oParams);this.iSequenceNumber++;a.sq=this.iSequenceNumber;a.userId=this.sTrackingId;a.applicationId=this.iApplicationId;if(this.bAnonymizeMetrics){a.aip=1}var b="";for(var e in a){var c=a[e];if(_sf.isUndefined(c)||_sf.isNull(c)){c=""}b+="&"+e+"="+encodeURIComponent(c)}new Image().src=this.urlApiRoot+"/Register/"+f+"?rnd="+Math.random()+b}this.aMetricsToRecord=[]};SFMetrics.prototype.IsKnownUser=function(){return this.bIsKnownUser};var SFSplitTest={GetBucket:function(b){var a=SFSplitTest._computeCookieKey(b);return SFUtil.GetCookie(a)},GetOrAssignBucket:function(b,d){var a=SFSplitTest._computeCookieKey(b);var c=SFUtil.GetCookie(a);if(!c){c=SFSplitTest._computeRandomBucket(d);SFUtil.SetCookie(a,c,365)}return c},OverrideBucket:function(b,c){var a=SFSplitTest._computeCookieKey(b);SFUtil.SetCookie(a,c,365)},ClearBucket:function(b){var a=SFSplitTest._computeCookieKey(b);SFUtil.DeleteCookie(a)},_computeCookieKey:function(a){return"SFSplitTest_"+a},_computeRandomBucket:function(e){var d=SFSplitTest._getTotalBucketWeights(e);var a=Math.random()*d;for(var c=0,b=0;c<e.length;c++){b+=e[c].fWeight;if(b>a){return e[c].sBucketName}}throw"Failed to assign bucket for split test."},_getTotalBucketWeights:function(c){var b=0;for(var a=0;a<c.length;a++){b+=c[a].fWeight}return b}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){if(this==null){throw new TypeError()}var d=Object(this);var a=d.length>>>0;if(a===0){return -1}var e=0;if(arguments.length>0){e=Number(arguments[1]);if(e!=e){e=0}else{if(e!=0&&e!=Infinity&&e!=-Infinity){e=(e>0||-1)*Math.floor(Math.abs(e))}}}if(e>=a){return -1}var b=e>=0?e:Math.max(a-Math.abs(e),0);for(;b<a;b++){if(b in d&&d[b]===c){return b}}return -1}}if(!Math.sign){Math.sign=function(a){if(a<0){return -1}if(a>0){return 1}return 0}}if(!Math.clamp){Math.clamp=function(c,b,a){if(c<b){return b}if(c>a){return a}return c}}var SFUtil={Get:function(b){var a=null;if(_sf.isString(b)){a=document.getElementById(b)}else{if((b instanceof $sf)||(b!==null&&b.jquery)){a=b[0]}else{if(_sf.isElement(b)){a=b}else{if(b===window){a=b}}}}if(!a){throw new Error("Unable to SFUtil.Get "+b)}return a},_oJsonpRouter:createJsonpRouter(),LoadJSONP:function(a,b){SFUtil._oJsonpRouter.Load(a,b)},AddEvent:function(a,c,b){a=SFUtil.Get(a);if(a.addEventListener){a.addEventListener(c,b,true);return true}else{if(a.attachEvent){return a.attachEvent("on"+c,b)}else{return false}}},SetOpacity:function(a,b){a=SFUtil.Get(a);a.style.opacity=(b/100);a.style.MozOpacity=(b/100);a.style.KhtmlOpacity=(b/100);a.style.filter="alpha(opacity="+b+")"},GetViewportHeight:function(){if(document.compatMode=="CSS1Compat"){return document.body.parentNode.clientHeight}return document.body.clientHeight},GetViewportWidth:function(){if(document.compatMode=="CSS1Compat"){return document.body.parentNode.clientWidth}return document.body.clientWidth},DisableSelection:function(a){a=SFUtil.Get(a);a.style.outline="none";a.style.MozUserSelect="none";a.style.KhtmlUserSelect="none";a.style.cursor="default";a.onselectstart=function(b){if(!b){b=window.event}b.cancelBubble=true;if(b.stopPropagation){b.stopPropagation()}return false}},EnableSelection:function(a){a=SFUtil.Get(a);a.style.MozUserSelect="text";a.style.KhtmlUserSelect="auto";a.onselectstart=function(b){if(!b){b=window.event}b.cancelBubble=true;if(b.stopPropagation){b.stopPropagation()}return true}},HideDropDowns:function(){if(document.all&&parseFloat(navigator.appVersion.split("MSIE")[1])<7){var a=document.body.getElementsByTagName("select");for(i=0;i<a.length;i++){a[i].style.visibility="hidden"}}},ShowDropDowns:function(){var a=document.body.getElementsByTagName("select");for(i=0;i<a.length;i++){a[i].style.visibility="visible"}},CreateImage:function(b){var a=document.createElement("img");a.setAttribute("src",b);return a},CreateTextbox:function(){var a=document.createElement("input");a.setAttribute("type","text");return a},ClearChildren:function(a){a=SFUtil.Get(a);while(a.firstChild){a.removeChild(a.firstChild)}},SetCookie:function(c,e,b,a){var d=new Date();d.setDate(d.getDate()+b);if(encodeURIComponent(e)===""){throw new Error("blank cookie values are not allowed")}if(!a){a=document.domain}if(a==="localhost"||a===".localhost"){a=null}document.cookie=encodeURIComponent(c)+"="+encodeURIComponent(e)+";path=/"+(!_sf.isFinite(b)?"":";expires="+d.toUTCString())+(!a?"":";domain="+a)},GetCookie:function(c){if(document.cookie.length==0){return""}var b=document.cookie.indexOf(encodeURIComponent(c)+"=");if(b==-1){return""}b=b+encodeURIComponent(c).length+1;var a=document.cookie.indexOf(";",b);if(a==-1){a=document.cookie.length}return decodeURIComponent(document.cookie.substring(b,a))},DeleteCookie:function(b,a){SFUtil.SetCookie(b,"DELETED",0,a)},Join:function(d,a){if(d.length==0){return""}var c="";for(var b=0;b<d.length-1;b++){c+=d[b].toString()+a}return c+d[d.length-1].toString()},OnKey:function(a){return function(d){if(!d){d=window.event}var b=(window.event)?d.keyCode:d.which;for(var c in a){if(b==c){return a[c](d,b)||true}}if(a._){return a._(d,b)||true}return true}},CreateImageRollover:function(a,c){var b=SFUtil.CreateImage(a);b.onmouseover=function(){b.src=c};b.onmouseout=function(){b.src=a};new Image().src=c;return b},WrapWithDelay:function(d,c){var a=false;var b=null;setTimeout(function(){a=true;if(b){b()}},d);return function(){var e=this;var f=arguments;if(b){throw new Error("cannot call WrapWithDelay wrapper twice")}b=function(){c.apply(e,f)};if(a){b()}}},FlashSupported:function(){return swfobject.getFlashPlayerVersion().major>=6},EmbedFlash:function(g,j,b,a,f,c){var d={allowscriptaccess:"always",wmode:"opaque"};var e={};for(var h in f){f[h]=encodeURIComponent(f[h])}swfobject.embedSWF(g,j,b,a,"10.2.0","",f,d,e,function(k){if(k&&k.ref){k.ref.style.width=b+"px";k.ref.style.height=a+"px";c(k.ref)}})},_iPreloadFlashCount:0,PreloadFlashFile:function(b,a){var d="divShoefitrTempFlash"+this._iPreloadFlashCount;this._iPreloadFlashCount++;var c=document.createElement("div");c.setAttribute("id",d);document.body.appendChild(c);this.EmbedFlash(b,d,1,1,a,function(e){e.style.visibility="hidden"})},CanvasSupported:function(){var a=document.createElement("canvas");return a.getContext!=undefined},_bCanvasVizLoaded:false,PreloadCanvasViz:function(a,b){if(!SFUtil._bCanvasVizLoaded){SFUtil.LoadScript(a,function(){SFUtil._bCanvasVizLoaded=true;if(b){b()}})}else{if(b){b()}}},LoadScript:function(b,c){var a=document.createElement("script");a.type="text/"+(b.type||"javascript");a.src=b.src||b;a.async=false;a.onreadystatechange=a.onload=function(){var d=a.readyState;if(!c.done&&(!d||/loaded|complete/.test(d))){c.done=true;c()}};(document.body||head).appendChild(a)},_viewportProps:undefined,GetViewportProperties:function(){var a=this;if(_sf.isUndefined(a._viewportProps)){var b=$sf("meta[name=viewport]");a._viewportProps={};function c(d,f){var h=$sf.trim(f).split(" ");if(h.length>1){$sf.each(h,c)}else{h=h[0].split("=");var e=$sf.trim(h[0]);var g=$sf.trim(h[1]);g=_sf.isNumber(g)?parseFloat(g):g;if(e!==""){a._viewportProps[e]=g}}}b.each(function(){var d=$sf(this).attr("content").split(/;|,|\s/);$sf.each(d,c)})}return a._viewportProps},IsMobile:{MatchUserAgent:function(a){return navigator.userAgent.match(a)},Android:function(){return SFUtil.IsMobile.MatchUserAgent(/Android/i)},Blackberry:function(){return SFUtil.IsMobile.MatchUserAgent(/Blackberry/i)},iPad:function(){return SFUtil.IsMobile.MatchUserAgent(/iPad/i)},iPhone:function(){return SFUtil.IsMobile.MatchUserAgent(/iPhone/i)},iOS:function(){return SFUtil.IsMobile.iPhone()||SFUtil.IsMobile.iPad()},Opera:function(){return SFUtil.IsMobile.MatchUserAgent(/Opera Mini/i)},Windows:function(){return SFUtil.IsMobile.MatchUserAgent(/IEMobile/i)},AnyMobile:function(){return(SFUtil.IsMobile.Android()||SFUtil.IsMobile.Blackberry()||SFUtil.IsMobile.iOS()||SFUtil.IsMobile.Opera()||SFUtil.IsMobile.Windows())},AnyTablet:function(){var a=Math.max(window.screen.width,window.screen.height)/Math.min(window.screen.width,window.screen.height);return SFUtil.IsMobile.iPad()||(SFUtil.IsMobile.AnyMobile()&&a<=1.6)}}};function SFState(a){var b=this;b._state=a||{};b._listeners=[]}SFState.prototype.Get=function(b){var a=this;return _sf.has(a._state,b)?a._state[b]:undefined};SFState.prototype.Set=function(c,b){var a=this;var d={};d[c]=b;a.SetAll(d)};SFState.prototype.SetAll=function(c){var b=this,a=[];_sf.each(c,function(f,e){var d=b._state[e];if(d!==f){b._state[e]=f;a.push({sKey:e,value:f,oldValue:d})}});_sf.each(a,function(d){_sf.each(b._listeners,function(e){if(e.sKey===d.sKey){if(e.bPassKey){e.fCallback(d.sKey,d.value,d.oldValue)}else{e.fCallback(d.value,d.oldValue)}}})})};SFState.prototype.Clear=function(b){var a=this;a.Set(b,undefined)};SFState.prototype.OnStateChanged=function(b,c){var a=this;if(!_sf.isString(b)){throw new Error("first parameter: string expected")}a._listeners.push({sKey:b,fCallback:c,bPassKey:false});c(a.Get(b))};SFState.prototype.OnStatesChanged=function(b,c){var a=this;if(!_sf.isArray(b)||!_sf.all(b,function(d){return _sf.isString(d)})){throw new Error("first parameter: string array expected")}_sf.each(b,function(d){a._listeners.push({sKey:d,fCallback:c,bPassKey:true})});c()};SFState.prototype.registerEventCallback=function(b,d,c){var a=this;a.OnStatesChanged(b,function(){var f=[];var e=false;_sf.each(b,function(h){var g=a.Get(h);if(_sf.isUndefined(g)){e=true}f.push(g)});if(c!==false||!e){d.apply(null,f)}})};var createEventFence=function(){var a,c,b;a=0;c=function(){var d;d=a;a++;return d};b=function(d){if(d<a-1){return false}return true};return{startNewEvent:function(){var d;d=c();return{isMostRecent:function(){return b(d)}}},flushAll:function(){c()}}};var swfobject=function(){var aq="undefined",aD="object",ab="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",aE="application/x-shockwave-flash",ac="SWFObjectExprInst",ax="onreadystatechange",af=window,aL=document,aB=navigator,aa=false,Z=[aN],aG=[],ag=[],al=[],aJ,ad,ap,at,ak=false,aU=false,aH,an,aI=true,ah=function(){var a=typeof aL.getElementById!=aq&&typeof aL.getElementsByTagName!=aq&&typeof aL.createElement!=aq,e=aB.userAgent.toLowerCase(),c=aB.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(e),k=c?/mac/.test(c):/mac/.test(e),g=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,d=!+"\v1",f=[0,0,0],l=null;if(typeof aB.plugins!=aq&&typeof aB.plugins[ab]==aD){l=aB.plugins[ab].description;if(l&&!(typeof aB.mimeTypes!=aq&&aB.mimeTypes[aE]&&!aB.mimeTypes[aE].enabledPlugin)){aa=true;d=false;l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1");f[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10);f[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10);f[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof af.ActiveXObject!=aq){try{var j=new ActiveXObject(X);if(j){l=j.GetVariable("$version");if(l){d=true;l=l.split(" ")[1].split(",");f=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]}}}catch(b){}}}return{w3:a,pv:f,wk:g,ie:d,win:h,mac:k}}(),aK=function(){if(!ah.w3){return}if((typeof aL.readyState!=aq&&aL.readyState=="complete")||(typeof aL.readyState==aq&&(aL.getElementsByTagName("body")[0]||aL.body))){aP()}if(!ak){if(typeof aL.addEventListener!=aq){aL.addEventListener("DOMContentLoaded",aP,false)}if(ah.ie&&ah.win){aL.attachEvent(ax,function(){if(aL.readyState=="complete"){aL.detachEvent(ax,arguments.callee);aP()}});if(af==top){(function(){if(ak){return}try{aL.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}aP()})()}}if(ah.wk){(function(){if(ak){return}if(!/loaded|complete/.test(aL.readyState)){setTimeout(arguments.callee,0);return}aP()})()}aC(aP)}}();function aP(){if(ak){return}try{var b=aL.getElementsByTagName("body")[0].appendChild(ar("span"));b.parentNode.removeChild(b)}catch(a){return}ak=true;var d=Z.length;for(var c=0;c<d;c++){Z[c]()}}function aj(a){if(ak){a()}else{Z[Z.length]=a}}function aC(a){if(typeof af.addEventListener!=aq){af.addEventListener("load",a,false)}else{if(typeof aL.addEventListener!=aq){aL.addEventListener("load",a,false)}else{if(typeof af.attachEvent!=aq){aM(af,"onload",a)}else{if(typeof af.onload=="function"){var b=af.onload;af.onload=function(){b();a()}}else{af.onload=a}}}}}function aN(){if(aa){Y()}else{am()}}function Y(){var d=aL.getElementsByTagName("body")[0];var b=ar(aD);b.setAttribute("type",aE);var a=d.appendChild(b);if(a){var c=0;(function(){if(typeof a.GetVariable!=aq){var e=a.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");ah.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}}else{if(c<10){c++;setTimeout(arguments.callee,10);return}}d.removeChild(b);a=null;am()})()}else{am()}}function am(){var g=aG.length;if(g>0){for(var h=0;h<g;h++){var c=aG[h].id;var m=aG[h].callbackFn;var a={success:false,id:c};if(ah.pv[0]>0){var j=aS(c);if(j){if(ao(aG[h].swfVersion)&&!(ah.wk&&ah.wk<312)){ay(c,true);if(m){a.success=true;a.ref=av(c);m(a)}}else{if(aG[h].expressInstall&&au()){var e={};e.data=aG[h].expressInstall;e.width=j.getAttribute("width")||"0";e.height=j.getAttribute("height")||"0";if(j.getAttribute("class")){e.styleclass=j.getAttribute("class")}if(j.getAttribute("align")){e.align=j.getAttribute("align")}var f={};var d=j.getElementsByTagName("param");var l=d.length;for(var k=0;k<l;k++){if(d[k].getAttribute("name").toLowerCase()!="movie"){f[d[k].getAttribute("name")]=d[k].getAttribute("value")}}ae(e,f,c,m)}else{aF(j);if(m){m(a)}}}}}else{ay(c,true);if(m){var b=av(c);if(b&&typeof b.SetVariable!=aq){a.success=true;a.ref=b}m(a)}}}}}function av(b){var d=null;var c=aS(b);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=aq){d=c}else{var a=c.getElementsByTagName(aD)[0];if(a){d=a}}}return d}function au(){return !aU&&ao("6.0.65")&&(ah.win||ah.mac)&&!(ah.wk&&ah.wk<312)}function ae(f,d,h,e){aU=true;ap=e||null;at={success:false,id:h};var a=aS(h);if(a){if(a.nodeName=="OBJECT"){aJ=aO(a);ad=null}else{aJ=a;ad=h}f.id=ac;if(typeof f.width==aq||(!/%$/.test(f.width)&&parseInt(f.width,10)<310)){f.width="310"}if(typeof f.height==aq||(!/%$/.test(f.height)&&parseInt(f.height,10)<137)){f.height="137"}aL.title=aL.title.slice(0,47)+" - Flash Player Installation";var b=ah.ie&&ah.win?"ActiveX":"PlugIn",c="MMredirectURL="+af.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aL.title;if(typeof d.flashvars!=aq){d.flashvars+="&"+c}else{d.flashvars=c}if(ah.ie&&ah.win&&a.readyState!=4){var g=ar("div");h+="SWFObjectNew";g.setAttribute("id",h);a.parentNode.insertBefore(g,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}aA(f,d,h)}}function aF(a){if(ah.ie&&ah.win&&a.readyState!=4){var b=ar("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(aO(a),b);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}else{a.parentNode.replaceChild(aO(a),a)}}function aO(b){var d=ar("div");if(ah.win&&ah.ie){d.innerHTML=b.innerHTML}else{var e=b.getElementsByTagName(aD)[0];if(e){var a=e.childNodes;if(a){var f=a.length;for(var c=0;c<f;c++){if(!(a[c].nodeType==1&&a[c].nodeName=="PARAM")&&!(a[c].nodeType==8)){d.appendChild(a[c].cloneNode(true))}}}}}return d}function aA(e,g,c){var d,a=aS(c);if(ah.wk&&ah.wk<312){return d}if(a){if(typeof e.id==aq){e.id=c}if(ah.ie&&ah.win){var f="";for(var j in e){if(e[j]!=Object.prototype[j]){if(j.toLowerCase()=="data"){g.movie=e[j]}else{if(j.toLowerCase()=="styleclass"){f+=' class="'+e[j]+'"'}else{if(j.toLowerCase()!="classid"){f+=" "+j+'="'+e[j]+'"'}}}}}var h="";for(var k in g){if(g[k]!=Object.prototype[k]){h+='<param name="'+k+'" value="'+g[k]+'" />'}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>";ag[ag.length]=e.id;d=aS(e.id)}else{var b=ar(aD);b.setAttribute("type",aE);for(var l in e){if(e[l]!=Object.prototype[l]){if(l.toLowerCase()=="styleclass"){b.setAttribute("class",e[l])}else{if(l.toLowerCase()!="classid"){b.setAttribute(l,e[l])}}}}for(var m in g){if(g[m]!=Object.prototype[m]&&m.toLowerCase()!="movie"){aQ(b,m,g[m])}}a.parentNode.replaceChild(b,a);d=b}}return d}function aQ(b,d,c){var a=ar("param");a.setAttribute("name",d);a.setAttribute("value",c);b.appendChild(a)}function aw(a){var b=aS(a);if(b&&b.nodeName=="OBJECT"){if(ah.ie&&ah.win){b.style.display="none";(function(){if(b.readyState==4){aT(a)}else{setTimeout(arguments.callee,10)}})()}else{b.parentNode.removeChild(b)}}}function aT(a){var b=aS(a);if(b){for(var c in b){if(typeof b[c]=="function"){b[c]=null}}b.parentNode.removeChild(b)}}function aS(a){var c=null;try{c=aL.getElementById(a)}catch(b){}return c}function ar(a){return aL.createElement(a)}function aM(a,c,b){a.attachEvent(c,b);al[al.length]=[a,c,b]}function ao(a){var b=ah.pv,c=a.split(".");c[0]=parseInt(c[0],10);c[1]=parseInt(c[1],10)||0;c[2]=parseInt(c[2],10)||0;return(b[0]>c[0]||(b[0]==c[0]&&b[1]>c[1])||(b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]))?true:false}function az(b,f,a,c){if(ah.ie&&ah.mac){return}var e=aL.getElementsByTagName("head")[0];if(!e){return}var g=(a&&typeof a=="string")?a:"screen";if(c){aH=null;an=null}if(!aH||an!=g){var d=ar("style");d.setAttribute("type","text/css");d.setAttribute("media",g);aH=e.appendChild(d);if(ah.ie&&ah.win&&typeof aL.styleSheets!=aq&&aL.styleSheets.length>0){aH=aL.styleSheets[aL.styleSheets.length-1]}an=g}if(ah.ie&&ah.win){if(aH&&typeof aH.addRule==aD){aH.addRule(b,f)}}else{if(aH&&typeof aL.createTextNode!=aq){aH.appendChild(aL.createTextNode(b+" {"+f+"}"))}}}function ay(a,c){if(!aI){return}var b=c?"visible":"hidden";if(ak&&aS(a)){aS(a).style.visibility=b}else{az("#"+a,"visibility:"+b)}}function ai(b){var a=/[\\\"<>\.;]/;var c=a.exec(b)!=null;return c&&typeof encodeURIComponent!=aq?encodeURIComponent(b):b}var aR=function(){if(ah.ie&&ah.win){window.attachEvent("onunload",function(){var a=al.length;for(var b=0;b<a;b++){al[b][0].detachEvent(al[b][1],al[b][2])}var d=ag.length;for(var c=0;c<d;c++){aw(ag[c])}for(var e in ah){ah[e]=null}ah=null;for(var f in swfobject){swfobject[f]=null}swfobject=null})}}();return{registerObject:function(a,e,c,b){if(ah.w3&&a&&e){var d={};d.id=a;d.swfVersion=e;d.expressInstall=c;d.callbackFn=b;aG[aG.length]=d;ay(a,false)}else{if(b){b({success:false,id:a})}}},getObjectById:function(a){if(ah.w3){return av(a)}},embedSWF:function(l,e,h,f,c,a,b,j,g,k){var d={success:false,id:e};if(ah.w3&&!(ah.wk&&ah.wk<312)&&l&&e&&h&&f&&c){ay(e,false);aj(function(){h+="";f+="";var r={};if(g&&typeof g===aD){for(var p in g){r[p]=g[p]}}r.data=l;r.width=h;r.height=f;var o={};if(j&&typeof j===aD){for(var q in j){o[q]=j[q]}}if(b&&typeof b===aD){for(var m in b){if(typeof o.flashvars!=aq){o.flashvars+="&"+m+"="+b[m]}else{o.flashvars=m+"="+b[m]}}}if(ao(c)){var n=aA(r,o,e);if(r.id==e){ay(e,true)}d.success=true;d.ref=n}else{if(a&&au()){r.data=a;ae(r,o,e,k);return}else{ay(e,true)}}if(k){k(d)}})}else{if(k){k(d)}}},switchOffAutoHideShow:function(){aI=false},ua:ah,getFlashPlayerVersion:function(){return{major:ah.pv[0],minor:ah.pv[1],release:ah.pv[2]}},hasFlashPlayerVersion:ao,createSWF:function(a,b,c){if(ah.w3){return aA(a,b,c)}else{return undefined}},showExpressInstall:function(b,a,d,c){if(ah.w3&&au()){ae(b,a,d,c)}},removeSWF:function(a){if(ah.w3){aw(a)}},createCSS:function(b,a,c,d){if(ah.w3){az(b,a,c,d)}},addDomLoadEvent:aj,addLoadEvent:aC,getQueryParamValue:function(b){var a=aL.location.search||aL.location.hash;if(a){if(/\?/.test(a)){a=a.split("?")[1]}if(b==null){return ai(a)}var c=a.split("&");for(var d=0;d<c.length;d++){if(c[d].substring(0,c[d].indexOf("="))==b){return ai(c[d].substring((c[d].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(aU){var a=aS(ac);if(a&&aJ){a.parentNode.replaceChild(aJ,a);if(ad){ay(ad,true);if(ah.ie&&ah.win){aJ.style.display="block"}}if(ap){ap(at)}}aU=false}}}}();var SFLibUtil={GetModelSuggestionTextbox:function(e,d,b,a){var g=function(h,k){var j=d(h);if(!(j instanceof InternalFilterModelsRequest)){throw"ModelSuggestionTextbox requires a InternalFilterModelsRequest"}j.Submit(function(l){k(l.Result)})};var c=function(h){return h.GenderAbbr+" "+h.BrandName+" "+h.ModelName};var f=function(h){return'<table cellspacing="0" cellpadding="0" style="margin: 0px; padding: 0px;">	<tr style="padding: 0; margin: 0;">		<td style="vertical-align: middle; margin: 0; padding: 0; width: 50px;">			<img src="'+h.BrandThumbnailUri+'" />		</td>		<td class="sf_medium_text" style="margin: 0; padding: 0 0 0 10px; vertical-align: middle;">           <div>			    <div style="color: #333; margin-top: 2px;">'+h.ModelName+'</div>			    <div class="sf_small_text" style="color: #333; margin: 5px 0 3px;">'+h.BrandName+", "+h.GenderName+"</div>		    </div>		</td>	<tr></table>"};return new SuggestionTextbox(e,g,c,f,b).WatermarkText(a||"Search by model").HeaderText("Suggestions").InstructionText("Type to search for a model").NoSuggestionsText("We couldn't find that model.<br />Please check for typos.").MinCharCount(2).MaxSuggestions(10).init()},GetModelSeriesSuggestionTextbox:function(e,d,b,a){var g=function(h,k){var j=d(h);if(!(j instanceof InternalFilterModelSeriesRequest)){throw"ModelSeriesSuggestionTextbox requires an InternalFilterModelSeriesRequest"}j.Submit(function(l){k(l.Result)})};var c=function(h){return h.GenderAbbr+" "+h.BrandName+" "+h.ModelSeriesName};var f=function(h){return'<table cellspacing="0" cellpadding="0" style="margin: 0px; padding: 0px;">	<tr style="padding: 0; margin: 0;">		<td style="vertical-align: middle; margin: 0; padding: 0; width: 50px;">			<img src="'+h.BrandThumbnailUri+'" />		</td>		<td class="sf_medium_text" style="margin: 0; padding: 0 0 0 10px; vertical-align: middle;">           <div>			    <div style="color: #333; margin-top: 2px;">'+h.ModelSeriesName+'</div>			    <div class="sf_small_text" style="color: #333; margin: 5px 0 3px;">'+h.BrandName+", "+h.GenderName+"</div>		    </div>		</td>	<tr></table>"};return new SuggestionTextbox(e,g,c,f,b).WatermarkText(a||"Search by Model Series").HeaderText("Suggestions").InstructionText("Type to Search").NoSuggestionsText("We couldn't find that model.<br />Please check for typos.").MinCharCount(2).MaxSuggestions(10).init()},GetBrandSuggestionTextbox:function(e,d,b,a){var g=function(h,k){var j=d(h);if(!(j instanceof FilterBrandsRequest)){throw"BrandSuggestionTextbox requires a FilterBrandsRequest"}j.Submit(function(l){k(l.Result)})};var c=function(h){return h.BrandName};var f=function(h){return'<table cellspacing="0" cellpadding="0" style="margin: 0px; padding: 0px;">	<tr>		<td valign="middle">			<img src="'+h.LogoThumbnailUri+'" style="width: 50px; height: 26px;" />		</td>		<td class="plain_text" style="vertical-align: middle; padding-left: 15px; color: #333;" valign="middle">			<span class="sf_medium_text">'+h.BrandName+"</span>		</td>	<tr></table>"};return new SuggestionTextbox(e,g,c,f,b).WatermarkText(a||"Search by brand").InstructionText("Type to search for a brand").NoSuggestionsText("We couldn't find that brand.<br />Please check for typos.").MinCharCount(2).MaxSuggestions(10).init()},GetOperatorSuggestionTextbox:function(e,d,b,a){var g=function(h,k){var j=d(h);if(!(j instanceof FilterOperatorsRequest)){throw"OperatorSuggestionTextbox requires a FilterOperatorsRequest"}j.Submit(function(l){k(l.Result)})};var c=function(h){return h.FirstName+" "+h.LastName};var f=function(h){return'<div class="sf_medium_text" style="padding: 2px 0;">'+h.FirstName+" "+h.LastName+"</div>"};return new SuggestionTextbox(e,g,c,f,b).WatermarkText(a||"Search by operator").InstructionText("Type to search for an operator").NoSuggestionsText("We couldn't find that operator.<br />Please check for typos.").MinCharCount(2).MaxSuggestions(10).init()},GetGridView:function(e,b,c,d,a){function f(g,j,l,k){var h=c(g,j,l);h.SubmitExpectingSuccess(function(m){k(new GridViewResult(m.SearchResults,m.TotalRows,m.TooManyRowsToCount))})}return new GridView(e,b,f,d,a)},fBindSizeAndWidthDropDowns:function(d,e,a,c,b){d.attr("disabled",true).empty();e.attr("disabled",true).empty();if(!a){d.append($sf("<option/>").val("").html("- Select size -"));e.append($sf("<option/>").val("-").html("- Select width -"));return}d.append($sf("<option/>").val("0").html("Loading..."));e.append($sf("<option/>").val("0").html("Loading..."));new LoadPossibleSizesAndWidthsRequest(a).Submit(function(h){d.attr("disabled",false).empty().append($sf("<option/>").val("").html("- Select size -"));e.attr("disabled",false).empty().append($sf("<option/>").val("-").html("- Select width -"));var l=h.Result.Sizes;var g=h.Result.Widths;var k=h.Result.DisplaySizes[h.Result.NativeDisplayConvention];for(var j=0;j<l.length;j++){var n=l[j];var o=k.Sizes[n];var m=o[1]?o[0]+" ("+o[1]+")":o[0];d.append($sf("<option/>").val(n).html(m))}if(_sf.isArray(c)){d.each(function(p){if(!_sf.isUndefined(c[p])){$sf(this).val(c[p])}})}else{if(!_sf.isUndefined(c)){d.val(c)}}for(var j=0;j<g.length;j++){var f=g[j];e.append($sf("<option/>").val(f).html(f))}if(_sf.isArray(b)){e.each(function(p){if(!_sf.isUndefined(b[p])){$sf(this).val(b[p])}})}else{if(!_sf.isUndefined(b)){e.val(b)}}})}};function SuggestionTextbox(d,e,c,b,a){this.oDiv=$sf("<div />").appendTo(SFUtil.Get(d))[0];this.fRequestUpdate=e;this.fToSuggestionString=c;this.fToSuggestionTextboxHTML=b;this.fOnSelect=a;this.oCss={ST:"ST",Textbox:"ST_Textbox",Textbox_Loading:"ST_Textbox_Loading",Suggestions:"ST_Suggestions",SuggestionHeader:"ST_SuggestionHeader",Instructions:"ST_Instructions",Suggestion:"ST_Suggestion",Suggestion_Alternating:"ST_Suggestion_Alternating",Suggestion_Selected:"ST_Suggestion_Selected",Textbox_Selected:"ST_Textbox_Selected",Watermark:"ST_Watermark"};this.iRequestId=0;this.iMaxRequestIdProcessedSoFar=0;this.bInputDirectionForward=true;this.fRegisterInput=null;this.sWatermarkText="Enter search term...";this.sInstructionText="Type to search.";this.sNoSuggestionsText="No suggestions available.";this.sHeaderText="Suggestions";this.iDelayUpdate=125;this.iMaxSuggestions=5;this.iMinCharCount=3;this.fGetFilters=null;this.bEnableTabSelect=false;this.iSelectedSuggestion=-1;this.previousSearchFilter="";this.lastResult="";this.aSearchResults=new Array();this.aSearchResults_DIVs=new Array();this.bHideSelectsOnFocus=false;if(document.all&&parseFloat((navigator.appVersion.split("MSIE"))[1])<7){this.bHideSelectsOnFocus=true}this.oSuggestions=document.createElement("div");this.oSuggestionHeader=document.createElement("div");this.oSearchResults=document.createElement("div");this.oInstructions=document.createElement("div");this.oTextbox=document.createElement("input")}SuggestionTextbox.prototype.init=function(){this.initializeHTMLElements();this.showWatermark();return this};SuggestionTextbox.prototype.WatermarkText=function(a){this.sWatermarkText=a;this.showWatermark();return this};SuggestionTextbox.prototype.InstructionText=function(a){this.sInstructionText=a;return this};SuggestionTextbox.prototype.NoSuggestionsText=function(a){this.sNoSuggestionsText=a;return this};SuggestionTextbox.prototype.HeaderText=function(a){this.sHeaderText=a;return this};SuggestionTextbox.prototype.DelayUpdate=function(a){this.iDelayUpdate=a;return this};SuggestionTextbox.prototype.MaxSuggestions=function(a){this.iMaxSuggestions=a;return this};SuggestionTextbox.prototype.MinCharCount=function(a){this.iMinCharCount=a;return this};SuggestionTextbox.prototype.RegisterInputFunction=function(a){this.fRegisterInput=a;return this};SuggestionTextbox.prototype.WithTabSelection=function(a){if(_sf.isUndefined(a)){a=true}this.bEnableTabSelect=a;return this};SuggestionTextbox.prototype.initializeHTMLElements=function(){var a=this;this.oDiv.className=this.oCss.ST;this.oSuggestions.className=this.oCss.Suggestions;this.oSuggestionHeader.className=this.oCss.SuggestionHeader;this.oInstructions.className=this.oCss.Instructions;this.oSuggestionHeader.innerHTML=this.sHeaderText;this.oInstructions.innerHTML=this.sInstructionText;this.oTextbox.setAttribute("type","text");this.oTextbox.setAttribute("autocomplete","off");this.oTextbox.onfocus=function(){a.clearWatermark();a.showSearchBar()};this.oTextbox.onclick=function(){a.showSearchBar()};this.oTextbox.onblur=function(){a.showWatermark();a.hideSearchBar()};this.oTextbox.onkeyup=SFUtil.OnKey({_:function(c,b){a.updateSuggestions(c,b)}});this.oTextbox.onkeydown=SFUtil.OnKey({_:function(c,b){a.arrowSuggestions(c,b)}});this.oTextbox.onkeypress=SFUtil.OnKey({13:function(){return false}});this.oSuggestions.appendChild(this.oSuggestionHeader);this.oSuggestions.appendChild(this.oSearchResults);this.oSuggestions.appendChild(this.oInstructions);this.oDiv.appendChild(this.oSuggestions);this.oDiv.appendChild(this.oTextbox);this.hideSearchBar()};SuggestionTextbox.prototype.Blur=function(){this.oTextbox.blur()};SuggestionTextbox.prototype.showWatermark=function(){if(this.oTextbox.value!=""){return}this.oTextbox.className=this.oCss.Textbox+" "+this.oCss.Watermark;this.oTextbox.value=this.sWatermarkText};SuggestionTextbox.prototype.clearWatermark=function(){if(this.oTextbox.value!=this.sWatermarkText){return}this.oTextbox.className=this.oCss.Textbox;this.oTextbox.value=""};SuggestionTextbox.prototype.showSearchBar=function(){this.oSuggestions.style.visibility="visible";if(this.bHideSelectsOnFocus){var a=document.body.getElementsByTagName("select");for(i=0;i<a.length;i++){a[i].style.visibility="hidden"}}};SuggestionTextbox.prototype.hideSearchBar=function(){this.oSuggestions.style.visibility="hidden";if(this.bHideSelectsOnFocus){var a=document.body.getElementsByTagName("select");for(i=0;i<a.length;i++){a[i].style.visibility="visible"}}};SuggestionTextbox.prototype.arrowSuggestions=function(b,a){switch(a){case 8:case 46:if(this.bInputDirectionForward){if(this.fRegisterInput&&this.oTextbox.value){this.fRegisterInput(this.oTextbox.value)}this.bInputDirectionForward=false}this.lastResult="";this.oTextbox.className=this.oCss.Textbox;if(this.fOnSelect){this.fOnSelect(null,this.oTextbox.value)}break;case 9:if(this.bEnableTabSelect&&!b.shiftKey){this.itemSelected()}break;case 13:this.itemSelected();break;case 38:this.changeHighlighting(this.iSelectedSuggestion-1);break;case 40:this.changeHighlighting(this.iSelectedSuggestion+1);break;default:if(!this.bInputDirectionForward){if(this.fRegisterInput&&this.oTextbox.value){this.fRegisterInput(this.oTextbox.value)}this.bInputDirectionForward=true}break}};SuggestionTextbox.prototype.updateSuggestions=function(d,a){var c=a<32||(a>=33&&a<=46)||(a>=112&&a<=123);var f=a==8||a==46;if(this.oTextbox.value.length<this.iMinCharCount){this.clearSuggestions();this.showInstructions()}else{if(!c||f){this.showSearchBar();if(this.iDelayUpdate<=0){this.UpdateSuggestionsNow()}else{var b=this;var g=b.oTextbox.value;setTimeout(function(){b.updateSuggestionsAfterTyping(g)},this.iDelayUpdate)}}}};SuggestionTextbox.prototype.attachSuggestionEvents=function(a,c){var b=this;SFUtil.AddEvent(a,"mouseover",function(){b.changeHighlighting(c)});SFUtil.AddEvent(a,"mousedown",function(){b.itemSelected()})};SuggestionTextbox.prototype.updateSuggestionsAfterTyping=function(a){if(this.oTextbox.value==a){this.UpdateSuggestionsNow()}};SuggestionTextbox.prototype.UpdateSuggestionsNow=function(){if(this.oTextbox.value==this.sWatermarkText){return}this.previousSearchFilter=this.oTextbox.value;this.oTextbox.className=this.oCss.Textbox+" "+this.oCss.Textbox_Loading;if(this.fOnSelect){this.fOnSelect(null,this.oTextbox.value)}var a=this;var b=this.iRequestId;this.iRequestId++;this.fRequestUpdate(this.oTextbox.value,function(c){if(b<a.iMaxRequestIdProcessedSoFar){return}a.iMaxRequestIdProcessedSoFar=b;a.oTextbox.className=a.oCss.Textbox;a.clearSuggestions();a.aSearchResults=_sf.isArray(c)?c:[];a.updateSuggestionsNow_UI()})};SuggestionTextbox.prototype.updateSuggestionsNow_UI=function(){for(var b=0;b<this.aSearchResults.length&&(b<this.iMaxSuggestions||this.iMaxSuggestions==0);b++){var a=this.aSearchResults[b];var c=document.createElement("div");c.className=(b%2==0)?this.oCss.Suggestion:this.oCss.Suggestion+" "+this.oCss.Suggestion_Alternating;c.innerHTML=this.fToSuggestionTextboxHTML(a);this.aSearchResults_DIVs[b]=c;this.attachSuggestionEvents(c,b);this.oSearchResults.appendChild(c)}if(this.aSearchResults.length==0){this.showInstructions()}else{this.displaySuggestions()}};SuggestionTextbox.prototype.clearSuggestions=function(){while(this.oSearchResults.hasChildNodes()){this.oSearchResults.removeChild(this.oSearchResults.firstChild)}this.aSearchResults.splice(0,this.aSearchResults.length);this.aSearchResults_DIVs.splice(0,this.aSearchResults_DIVs.length)};SuggestionTextbox.prototype.showInstructions=function(){if(this.oTextbox.value.length<this.iMinCharCount){this.previousSearchFilter="";this.oInstructions.innerHTML=this.sInstructionText}else{this.oInstructions.innerHTML=this.sNoSuggestionsText}this.oInstructions.style.display="block";this.oSearchResults.style.display="none"};SuggestionTextbox.prototype.displaySuggestions=function(){this.changeHighlighting(0);this.oInstructions.style.display="none";this.oSearchResults.style.display="block"};SuggestionTextbox.prototype.changeHighlighting=function(a){var c=this.aSearchResults_DIVs[a];var b=this.aSearchResults_DIVs[this.iSelectedSuggestion];if(c){if(b){b.className=(this.iSelectedSuggestion%2==0)?this.oCss.Suggestion:this.oCss.Suggestion+" "+this.oCss.Suggestion_Alternating}c.className=this.oCss.Suggestion+" "+this.oCss.Suggestion_Selected;this.iSelectedSuggestion=a}};SuggestionTextbox.prototype.itemSelected=function(){var a=this.aSearchResults[this.iSelectedSuggestion];if(this.fRegisterInput&&this.oTextbox.value){this.fRegisterInput(this.oTextbox.value)}if(a){this.SetSelectedItem(a);this.hideSearchBar();if(this.fOnSelect){this.fOnSelect(a,this.oTextbox.value)}}};SuggestionTextbox.prototype.selectRange=function(a,b){if(this.oTextbox.createTextRange){var c=this.oTextbox.createTextRange();c.moveStart("character",a);c.moveEnd("character",b-this.oTextbox.value.length);c.select()}else{if(this.oTextbox.setSelectionRange){this.oTextbox.setSelectionRange(a,b)}}this.oTextbox.focus()};SuggestionTextbox.prototype.SetSelected=function(a){this.oTextbox.value=a;this.oTextbox.className=this.oCss.Textbox+" "+this.oCss.Textbox_Selected};SuggestionTextbox.prototype.SetSelectedItem=function(a){this.SetSelected(this.fToSuggestionString(a))};SuggestionTextbox.prototype.Reset=function(){this.oTextbox.className=this.oCss.Textbox;this.lastResult="";this.oTextbox.value="";this.showInstructions();this.showWatermark();this.clearSuggestions();this.fOnSelect(null,"")};SuggestionTextbox.prototype.GetWatermark=function(){return this.sWatermarkText};function Watermark(a,b,d){var c=this;this.textbox=SFUtil.Get(a);if(this.textbox.getAttribute("type")=="password"){this.fake_password=document.createElement("input");this.fake_password.setAttribute("type","text");this.fake_password.className=this.textbox.className;this.fake_password.style.color=d.blur_color;this.fake_password.style.width=this.textbox.style.width;this.fake_password.value=b;this.fake_password.tabIndex=parseInt(c.textbox.getAttribute("tabindex"))+1;SFUtil.AddEvent(this.fake_password,"focus",function(){c.fake_password.style.display="none";c.textbox.style.display="";c.textbox.focus()});this.textbox.parentNode.insertBefore(this.fake_password,this.textbox);this.textbox.style.display="none";SFUtil.AddEvent(this.textbox,"blur",function(){if(c.textbox.value==""){c.fake_password.style.display="";c.textbox.style.display="none"}})}else{this.text=b;this.css=d;SFUtil.AddEvent(this.textbox,"focus",function(){c.focus()});SFUtil.AddEvent(this.textbox,"blur",function(){c.blur()});this.blur()}}Watermark.prototype.Reset=function(){this.textbox.value="";this.blur()};Watermark.prototype.GetWatermark=function(){return this.text};Watermark.prototype.SetValue=function(a){this.focus();this.textbox.value=a;this.blur()};Watermark.prototype.GetValue=function(){if(this.textbox.value==this.text){return null}return this.textbox.value};Watermark.prototype.focus=function(){if(this.textbox.value==this.text){this.textbox.style.color=this.css.focus_color;this.textbox.value=""}};Watermark.prototype.blur=function(){if(this.textbox.value==""){this.textbox.value=this.text;this.textbox.style.color=this.css.blur_color}};Overlay.Z_INDEX=1000000;function Overlay(d,a,c,h,f,b,g){var e=this;b=b||"#333";g=g||75;d=SFUtil.Get(d);this.bHosted=false;if(f){f=SFUtil.Get(f);this.bHosted=true}this.oDiv=d.parentNode?d.parentNode.removeChild(d):d;this.fOnShow=a;this.fOnHide=c;this.iPadAsHeight=h;if(this.bHosted){this.oDiv.style.position="relative";this.oDiv.style.margin="auto";SFUtil.ClearChildren(f);f.appendChild(d)}else{this.oDiv.style.position="absolute";this.oBG=document.createElement("div");this.oBG.style.position="fixed";this.oBG.style.left="0";this.oBG.style.top="0";this.oBG.style.zIndex=Overlay.Z_INDEX;this.oBG.style.backgroundColor=b;this.oBG.style.display="none";SFUtil.SetOpacity(this.oBG,g);this.oDiv.style.zIndex=Overlay.Z_INDEX+1;this.oDiv.style.visibility="hidden";this.oDiv.style.position="fixed";this.oDiv.style.top="0";document.body.insertBefore(this.oDiv,document.body.firstChild);document.body.insertBefore(this.oBG,document.body.firstChild);if(!SFUtil.IsMobile.AnyMobile()){SFUtil.AddEvent(window,"resize",function(){e.positionDivAndBG()})}else{this.oDiv.style.position="absolute";SFUtil.AddEvent(window,"orientationchange",function(){e.positionDivAndBG()})}}}Overlay.prototype.Show=function(b){b=b||0;SFUtil.HideDropDowns();var a=this;if(!this.bHosted){this.showBackgroundOverlay(b,function(){$sf(a.oDiv).show();a.positionDivAndBG();a.oDiv.style.visibility="visible";if(a.fOnShow){this.fOnShow()}})}else{$sf(this.oDiv).show();this.oDiv.style.visibility="visible";if(this.fOnShow){this.fOnShow()}}};Overlay.prototype.Hide=function(a){a=a||0;SFUtil.ShowDropDowns();$sf(this.oDiv).hide();if(!this.bHosted){this.hideBackgroundOverlay(a)}this.oDiv.style.visibility="hidden";if(this.fOnHide){this.fOnHide()}};Overlay.prototype.positionDivAndBG=function(){if(!this.bHosted){this.oBG.style.top="0px";this.oBG.style.left="0px";this.oBG.style.height=document.body.scrollHeight+"px";this.oBG.style.width=SFUtil.GetViewportWidth()+"px";var b=this.iPadAsHeight?this.iPadAsHeight:this.oDiv.clientHeight;var a=Math.max(0,(SFUtil.GetViewportHeight()-b)/2);var d=a;var c=((SFUtil.GetViewportWidth()-this.oDiv.clientWidth)/2);this.oDiv.style.top=d+"px";this.oDiv.style.left=c+"px"}};Overlay.prototype.showBackgroundOverlay=function(b,a){b=b||0;if(!this.bHosted){this.positionDivAndBG();if(b){$sf(this.oBG).fadeIn(b,a)}else{$sf(this.oBG).show();a()}}};Overlay.prototype.hideBackgroundOverlay=function(a){a=a||0;if(!this.bHosted){if(a){$sf(this.oBG).fadeOut(a)}else{$sf(this.oBG).hide()}}};Overlay.prototype.on=function(b,a){$sf(this.oBG).on(b,a)};var createHeatMapViewModel=function(){var a=[{value:0,r:255,g:0,b:0},{value:0.1,r:255,g:128,b:0},{value:0.4,r:255,g:255,b:0},{value:0.5,r:100,g:240,b:20},{value:0.6,r:0,g:255,b:255},{value:1,r:0,g:0,b:255}];var b=new SFState({visualizations:undefined,"target-size":undefined,"target-width":undefined,visible:false});return{aoFeelGradientPhases:a,updateRecommendationData:function(e,c,d){b.SetAll({visualizations:e.Visualizations,"target-size":c.nNativeSize,"target-width":d})},updateTargetSize:function(c,d){b.SetAll({"target-size":c.nNativeSize,"target-width":d})},show:function(){b.Set("visible",true)},hide:function(){b.Set("visible",false)},onVisibilityAndVisualsAndTargetSelectionSet:function(c){b.registerEventCallback(["visible","visualizations","target-size","target-width"],c,false)},onVisibilitySet:function(c){b.registerEventCallback(["visible"],c,false)}}};var createPathVizViewModel=function(){function b(d){var e,c;_sf.chain(d).map(function(g){var f,j,k,h;_sf.each(g,function(l){f=_sf.isUndefined(f)?l.X:Math.min(f,l.X);j=_sf.isUndefined(j)?l.X:Math.max(j,l.X);k=_sf.isUndefined(k)?l.Y:Math.min(k,l.Y);h=_sf.isUndefined(h)?l.Y:Math.max(h,l.Y)});return{w:j-f,h:h-k}}).each(function(f){e=_sf.isUndefined(e)?f.w:Math.max(e,f.w);c=_sf.isUndefined(c)?f.h:Math.max(c,f.h)});return{width:e,height:c}}var a=new SFState({"input-viz-data":undefined,"target-viz-data":undefined,"scale-width":undefined,"scale-height":undefined});return{update:function(j,d,e){if(!_sf.contains(j,d)){throw new Error("An unexpected vizualization data object was provided.")}if(!_sf.contains(j,e)){throw new Error("An unexpected vizualization data object was provided.")}var h=_sf.map(j,function(k){return k.AnchorPoints});var c=b(h);var g=c.width;var f=c.height;a.SetAll({"input-viz-data":d,"target-viz-data":e,"scale-width":g,"scale-height":f})},onInputSet:function(c){a.registerEventCallback(["input-viz-data","scale-width","scale-height"],c,false)},onTargetSet:function(c){a.registerEventCallback(["target-viz-data","scale-width","scale-height"],c,false)}}};var createFeedbackViewModel=function(c,a,b,e){var d=new SFState({step:"helpful?"});return{saidYes:function(){if(d.Get("step")!=="helpful?"){throw new Error("invalid call")}a(true);d.Set("step","yes-why?")},saidNo:function(){if(d.Get("step")!=="helpful?"){throw new Error("invalid call")}a(false);d.Set("step","no-why?")},typedResponse:function(f){if((d.Get("step")!=="yes-why?"&&d.Get("step")!=="no-why?")||!_sf.isString(f)){throw new Error("invalid call")}b(f);if(c){d.Set("step","email?")}else{d.Set("step","thankyou")}},typedEmail:function(f){if(d.Get("step")!=="email?"||!_sf.isString(f)){throw new Error("invalid call")}e(f);d.Set("step","thankyou")},reset:function(){d.Set("step","helpful?")},onStepChanged:function(f){d.registerEventCallback(["step"],f,true)}}};var createDelayedFeedbackViewModel=function(j,e,c,f,b,h){var g=createFeedbackViewModel(j,e,c,f);var d=createEventFence();var a=new SFState({hidden:true});g.onStepChanged(function(k){if(k==="thankyou"){var l=d.startNewEvent();setTimeout(function(){if(l.isMostRecent()){a.Set("hidden",true)}},Math.max(0,h))}});return{saidYes:function(){g.saidYes()},saidNo:function(){g.saidNo()},typedResponse:function(k){g.typedResponse(k)},typedEmail:function(k){g.typedEmail(k)},start:function(){var k=d.startNewEvent();g.reset();setTimeout(function(){if(k.isMostRecent()){a.Set("hidden",false)}},Math.max(0,b))},reset:function(){d.flushAll();a.Set("hidden",true)},onStepChanged:function(k){g.onStepChanged(k)},onHiddenChanged:function(k){a.registerEventCallback(["hidden"],k,true)}}};var createCanvasHeatMapView=function(f,b,h,g){var e=510,a=200,c=null,d=true;SFUtil.PreloadCanvasViz(b,function(){c=new shoefitr.CanvasViz(f,{bForceCanvas:true,sInteractionMode:h,nBackgroundColor:g?16382457:16777215});c.SetSize(e,a)});return{update:function(k,j,l,m){if(k){if(c!==null){var n=_sf.find(j,function(o){return o.Size===l&&o.Width===m}).Feel;c.TextureShoe(n);if(d){c.SetSize(e,a)}d=false}}else{d=true}}}};var createFlashHeatMapView=function(j,e,h,c,a,f){var b=510,g=200,d=null;SFUtil.PreloadFlashFile(e,{preloading:true});return{update:function(m,k,o,p){if(m){if(d===null){var l={preloading:false,remoting_prefix:f.prefix,use_gray_background:h,target_size:o,target_width:p,visualizations:SFJSON.stringify(k)};f.callbacks.RecordMetric=a;var n=$sf('<div id="sfFlashContainer"></div>');n.append($sf('<div class="sfFlashInstall">'+c("You need the latest Adobe Flash Player installed to view our 3D shoe.")+"<br />"+c("Click #(here)# to download it from Adobe.",{},[['<a href="https://get.adobe.com/flashplayer/" target="_blank">',"</a>"]])+"</div>"));j.append(n);SFUtil.EmbedFlash(e,"sfFlashContainer",b,g,l,function(r){SFUtil.DisableSelection(r);n.show();d=r})}else{if(d.setTargetSize&&d.setTargetWidth){try{d.setTargetSize(o);d.setTargetWidth(p)}catch(q){_sf.defer(function(){throw q})}}}}else{d=null;j.empty()}}}};var createHeatMapLegendView=function(d,b,c){var a=function(h){var f=h.height()>h.width();var g=$sf(h)[0];if(_sf.isUndefined(g.getContext)){return}var k=g.getContext("2d");var l=k.createLinearGradient(0,0,f?0:g.width,f?g.height:0);for(var j=0;j<b.length;j++){var e=b[j];l.addColorStop(e.value,"rgba("+[e.r,e.g,e.b].join(",")+",0.8)")}k.fillStyle=l;k.fillRect(0,0,g.width,g.height)};$sf('<div class="sfVizLegend"></div>').append($sf('<div class="sfVizLegendScaleWrapper"></div>').append($sf('<div class="sfFallbackVizLegend"></div>').append("<canvas></canvas>"))).append($sf('<span class="sfVizLegendTightLabel"/>').html(c("Tighter"))).append($sf('<span class="sfVizLegendSameLabel"/>').html(c("Same"))).append($sf('<span class="sfVizLegendLooseLabel"/>').html(c("Looser"))).appendTo(d);a(d.find("div.sfVizLegend canvas"));return{update:function(e){d.toggleClass("sfHide",!e)}}};var createOutlineView=function(d,j,c,e,a,h,b,f){function g(l,n,m){var k=function(o){return SFUtil.Join(_sf.map(o,function(p){return p.X+";"+p.Y}),";")};if(b){return new LoadFillImageRequest(a,h,n,m,j,c,e,k(l.AnchorPoints),k(l.FirstControlPoints),k(l.SecondControlPoints)).GetRequestUrl(true)}else{return new LoadOutlineImageRequest(a,h,n,m,j,c,e,k(l.AnchorPoints),k(l.FirstControlPoints),k(l.SecondControlPoints)).WithDashed(f===true).GetRequestUrl(true)}}return{update:function(k,m,l){d.attr("src",g(k,m,l))}}};var createProfileView=function(h,f,e,b,d,g,a){function c(k,m,l){var j=function(n){return SFUtil.Join(_sf.map(n,function(o){return o.X+";"+o.Y}),";")};return new LoadProfileImageRequest(d,g,m,l,f,e,b,j(k.AnchorPoints),j(k.FirstControlPoints),j(k.SecondControlPoints)).WithDashed(a===true).GetRequestUrl(true)}return{update:function(j,l,k){h.attr("src",c(j,l,k))}}};var createCircleKeyView=function(d,j,c,e,a,h,b,f){function g(){if(b){return new LoadKeyFillImageRequest(a,h,j,c,e).GetRequestUrl(true)}else{return new LoadKeyOutlineImageRequest(a,h,j,c,e).WithDashed(f===true).GetRequestUrl(true)}}d.attr("src",g())};var createBrandSuggestionTextbox=function(k,b,e,d,l,j){var f=function(m,o){if(!m){return}var n=d(m);if(!(n instanceof FilterBrandsRequest)){throw"brand suggestion textbox requires a FilterBrandsRequest"}n.SubmitExpectingSuccess(o)};var a=function(m){return m.BrandName};var c=function(m){return m.BrandName};var h=function(m){if(!m){return}l(m)};SFUtil.EnableSelection(k);var g=new SuggestionTextbox(k,f,a,c,h).WatermarkText(b).InstructionText(b).HeaderText(e("Suggestions")).NoSuggestionsText(e("We couldn't find that brand.<br />Please check for typos.")).MinCharCount(2).RegisterInputFunction(j).WithTabSelection().init();return{reset:function(){if(g.oTextbox!==document.activeElement){g.Reset();g.Blur()}},setSelected:function(m){g.SetSelected(a(m));g.UpdateSuggestionsNow()}}};var createModelSeriesSuggestionTextbox=function(m,d,g,f,c,l,b){b=(b!==false);var h=function(n,p){if(!n){return}var o=f(n);if(!(o instanceof FilterModelSeriesRequest)){throw"model series suggestion textbox requires a FilterModelSeriesRequest"}o.SubmitExpectingSuccess(p)};var a=function(n){return(b?"":n.GenderName+" ")+n.BrandName+" "+n.ModelSeriesName};var e=function(n){return"<div>"+(b?"":'<span class="weak">'+n.GenderName+"</span> ")+n.BrandName+" "+n.ModelSeriesName+"</div>"};var k=function(n){if(!n){return}c(n)};SFUtil.EnableSelection(m);var j=new SuggestionTextbox(m,h,a,e,k).WatermarkText(d).InstructionText(d).HeaderText(g("Suggestions")).NoSuggestionsText(g("We couldn't find that model.<br />Please check for typos.")).MinCharCount(2).RegisterInputFunction(l).WithTabSelection().init();return{blur:function(){j.Blur()},reset:function(){if(j.oTextbox!==document.activeElement){j.Reset();j.Blur()}},refresh:function(){j.UpdateSuggestionsNow()},setSelected:function(n){j.SetSelected(a(n));j.UpdateSuggestionsNow()}}};var createButtonSizeSelector=function(e,c,a,f,b){b=(b!==false);var d=new SFState({sizes:undefined,size:undefined});d.registerEventCallback(["sizes","size"],function(g,h){if(b&&!_sf.contains(g,h)){throw new Error("invalid size data for selection")}},false);d.registerEventCallback(["sizes"],function(g){var k=_sf.any(g,function(l){return l.oSizeObject[2]!=""});e.empty();var j=null;var h=0;_sf.each(g,function(q){var p=q.oSizeObject;var l=q.oAlternateSizeObject;var n=ShoefitrApi.GetSizeString(p[1]);var r=k?c(p[2]):null;var m=(r!==j);var o=$sf('<div class="choice"></div>').text(n);o.click(function(s){s.preventDefault();f(q)});if(q.bHasAlternate){o.attr("title",a(p)+(p[2]?", ":" ")+c(q.sSizingScheme)+"\n"+a(l)+(l[2]?", ":" ")+c(q.sAlternateSizingScheme))}else{o.attr("title",a(p)+(p[2]?", ":" ")+c(q.sSizingScheme))}if(h>0&&h%8===0||m){$sf('<div style="clear: both"></div>').appendTo(e);h=0}if(m){$sf('<div class="sf-choice-label"></div>').text(r).appendTo(e);$sf('<div style="clear: both"></div>').appendTo(e);j=r;h=0}d.registerEventCallback(["size"],function(s){o.toggleClass("selected",s===q)},true);o.appendTo(e);h++});$sf('<div style="clear: both"></div>').appendTo(e)},false);return{updateSizeChoices:function(g){d.Set("sizes",g)},updateSelectedSize:function(g){d.Set("size",g)}}};var createDropDownSizeSelector=function(d,b,a,e){var c=new SFState({sizes:undefined,size:undefined});c.registerEventCallback(["sizes","size"],function(f,g){if(!_sf.contains(f,g)){throw new Error("invalid size data for selection")}},false);c.registerEventCallback(["sizes"],function(g){d.empty();var f=$sf("<select/>");f.append($sf('<option value="-1">'+b("Choose Size")+"</option>"));_sf.each(g,function(l,h){var j=l.oSizeObject;var k=a(j);f.append($sf('<option value="'+h+'">'+k+"</option>"))});f.appendTo(d);c.registerEventCallback(["size"],function(j){var h=_sf.indexOf(g,j);f.val(h)},true);f.change(function(){var h=$sf(this).find("option:selected").val();var j=h==="-1"?null:g[h];e(j)})},false);return{updateSizeChoices:function(f){c.Set("sizes",f)},updateSelectedSize:function(f){c.Set("size",f)}}};var createDelayedFeedbackView=function(d,b,c){d.empty();d.hide();function a(f,e){var g=$sf("<div/>").append($sf("<span/>").html(f)).addClass("feedback-button").click(e);SFUtil.DisableSelection(g[0]);g.css("cursor","pointer");return g[0]}b.onHiddenChanged(function(e){if(!e){d.fadeIn(400)}else{d.fadeOut(400)}});b.onStepChanged(function(l){d.empty();switch(l){case"helpful?":d.html(c("Was this helpful?"));var k=a(c("Yes"),function(){b.saidYes()});var f=a(c("No"),function(){b.saidNo()});k.style.marginLeft="12px";f.style.marginLeft="8px";d.append(k);d.append(f);break;case"yes-why?":case"no-why?":var n=(l==="yes-why?")?c("Thanks! Please tell us why."):c("We're sorry. Please tell us why.");var j=SFUtil.CreateTextbox();j.className="sf_feedback_textbox";j.setAttribute("autocomplete","off");var g=new Watermark(j,n,{blur_color:"#888",focus_color:"#333"});function m(){if(j.value&&j.value!=g.text){b.typedResponse(j.value)}}j.onkeydown=SFUtil.OnKey({13:m});var e=a(c("Submit"),m);e.style.marginLeft="10px";d.append(j);d.append(e);break;case"email?":var n=c("Can we contact you? (type your email)");var j=SFUtil.CreateTextbox();j.className="sf_feedback_textbox";j.setAttribute("autocomplete","off");var g=new Watermark(j,n,{blur_color:"#888",focus_color:"#333"});function h(){if(j.value&&j.value!=g.text){b.typedEmail(j.value)}}j.onkeydown=SFUtil.OnKey({13:h});var e=a(c("Submit"),h);e.style.marginLeft="10px";d.append(j);d.append(e);break;case"thankyou":d.html("<p>"+c("Thank you!")+"</p>");break}})};var ShoefitrApi={urlApiRoot:"//app.shoefitr.com/api",Gender:{Men:{GenderId:1,GenderAbbr:"M",GenderName:"Men's"},Women:{GenderId:2,GenderAbbr:"W",GenderName:"Women's"},Unisex:{GenderId:3,GenderAbbr:"U",GenderName:"Unisex"},Boys:{GenderId:4,GenderAbbr:"B",GenderName:"Boys'"},Girls:{GenderId:5,GenderAbbr:"G",GenderName:"Girls'"},Kids:{GenderId:6,GenderAbbr:"K",GenderName:"Kids'"},Toddler:{GenderId:7,GenderAbbr:"T",GenderName:"Toddler"},ToddlerBoys:{GenderId:8,GenderAbbr:"Y",GenderName:"Toddler Boys"},ToddlerGirls:{GenderId:9,GenderAbbr:"X",GenderName:"Toddler Girls"}},GetGenderName:function(b){var a=_sf.find(_sf.values(ShoefitrApi.Gender),function(c){return c.GenderId===b});return a.GenderName},GetSearchGenderIds:function(b,a){switch(b){case"A":if(a==="M"){return[1,3]}else{if(a==="F"){return[2,3]}else{return[1,2,3]}}case"Y":if(a==="M"){return[4,6]}else{if(a==="F"){return[5,6]}else{return[4,5,6]}}case"T":if(a==="M"){return[7,8]}else{if(a==="F"){return[7,9]}else{return[7,8,9]}}default:return[]}},NormalizedWidth:{Narrow:{NormalizedWidthId:1,NormalizedWidthName:"Narrow"},Standard:{NormalizedWidthId:2,NormalizedWidthName:"Standard"},Wide:{NormalizedWidthId:3,NormalizedWidthName:"Wide"},ExtraWide:{NormalizedWidthId:4,NormalizedWidthName:"Extra Wide"}},GetSizeString:function(a){var b=Math.floor(a);var c=(a-b).toFixed(2);if(c==="0.50"){return b+"½"}else{if(c==="0.33"){return b+"⅓"}else{if(c==="0.67"){return b+"⅔"}else{return a+""}}}},GetNormalizedWidthString:function(a){return _sf.chain(ShoefitrApi.NormalizedWidth).values().find(function(b){return b.NormalizedWidthId==a}).value().NormalizedWidthName},ValidationSizeRating:{VeryTight:{SizeRatingId:1,SizeRatingName:"Too tight",Direction:-2},Tight:{SizeRatingId:2,SizeRatingName:"A little bit tight",Direction:-1},Good:{SizeRatingId:3,SizeRatingName:"Good",Direction:0},Loose:{SizeRatingId:4,SizeRatingName:"A little bit loose",Direction:1},VeryLoose:{SizeRatingId:5,SizeRatingName:"Too loose",Direction:2}},ValidationOverallRating:{Bad:{OverallRatingId:1,OverallRatingName:"Bad",Quality:-1},Ok:{OverallRatingId:2,OverallRatingName:"Ok",Quality:0},Good:{OverallRatingId:3,OverallRatingName:"Good",Quality:1},Great:{OverallRatingId:4,OverallRatingName:"Great",Quality:2}},ExtractSizeDataHelper:function(f,g){var c=f.DisplaySizes;var d=f.NativeDisplayConvention;if(!c||!d){throw new Error("invalid result object")}if(!g||!_sf.has(c,g)){g=d}var b=c[g];var a={sSizingScheme:b.Name,sSizeDisplayConvention:g,OrderedDisplaySizes:[],IndexedDisplaySizes:{}};var e=_sf.chain(b.Sizes).map(function(j,h){return parseFloat(h)}).sortBy(_sf.identity).value();_sf.each(e,function(k){var j=b.Sizes[k];var h=[k,j[0],j[1]];a.OrderedDisplaySizes.push(h);a.IndexedDisplaySizes[k]=h});return a},ExtractSizeData:function(e,h){var f=ShoefitrApi.ExtractSizeDataHelper(e,h);var a=ShoefitrApi.ExtractSizeDataHelper(e);var b=f.sSizingScheme;var c=a.sSizingScheme;var g=f.sSizeDisplayConvention;var d=a.sSizeDisplayConvention;if(f.OrderedDisplaySizes.length!==a.OrderedDisplaySizes.length){throw new Error("broken size data")}return _sf.map(f.OrderedDisplaySizes,function(j,k){var l=a.OrderedDisplaySizes[k];if(l[0]!==j[0]){throw new Error("broken size data")}return{bHasAlternate:c!==b,nNativeSize:j[0],sSizingScheme:b,sSizeDisplayConvention:g,oSizeObject:j,sAlternateSizingScheme:c,sAlternateSizeDisplayConvention:d,oAlternateSizeObject:l}})}};function ApiRequest(){}ApiRequest.prototype.GetRequestUrl=function(a){var b;this.params=this.params||{};if(!this.url||!this.params){throw new Error("invalid request object")}b=ShoefitrApi.urlApiRoot+this.url+"?apiKey="+ShoefitrApi.sApiKey;if(a!==true){b+="&rnd="+Math.random()}_sf.each(this.params,function(c,d){if(_sf.isUndefined(c)||_sf.isNull(c)){c=""}b+="&"+d+"="+encodeURIComponent(c)});return b};ApiRequest.prototype.Submit=function(a){SFUtil.LoadJSONP(this.GetRequestUrl(),a)};ApiRequest.prototype.SubmitExpectingSuccess=function(b){var a=this;a.Submit(function(d){var c;if(d.Status!=="OK"){c=(d.Status==="Warning")?"had warnings":"failed";throw new Error(a.url+" "+c+": "+SFUtil.Join(d.Details,"; "))}b(d.Result)})};function FilterBrandsRequest(a){this.url="/Brand/Filter";this.params={filter:a}}FilterBrandsRequest.prototype=new ApiRequest();FilterBrandsRequest.prototype.WithInputUniverseFilter=function(a){this.params.inputUniverseIdFilter=a;return this};function FilterModelsRequest(a){this.url="/Model/Filter";this.params={filter:a}}FilterModelsRequest.prototype=new ApiRequest();FilterModelsRequest.prototype.WithBrandFilter=function(a){this.params.brandFilter=SFUtil.Join(a,";");return this};FilterModelsRequest.prototype.WithGenderFilter=function(a){this.params.genderFilter=SFUtil.Join(a,";");return this};FilterModelsRequest.prototype.WithInputUniverseFilter=function(a){this.params.inputUniverseFilter=a;return this};function LoadAvailableSizesAndWidthsRequest(a){this.url="/Model/LoadAvailableSizesAndWidths";this.params={modelId:a}}LoadAvailableSizesAndWidthsRequest.prototype=new ApiRequest();LoadAvailableSizesAndWidthsRequest.prototype.WithSizeDisplayConvention=function(a){this.params.sizeDisplayConvention=a;return this};function FilterModelSeriesRequest(a){this.url="/ModelSeries/Filter";this.params={filter:a}}FilterModelSeriesRequest.prototype=new ApiRequest();FilterModelSeriesRequest.prototype.WithBrandFilter=function(a){this.params.brandFilter=SFUtil.Join(a,";");return this};FilterModelSeriesRequest.prototype.WithGenderFilter=function(a){this.params.genderFilter=SFUtil.Join(a,";");return this};FilterModelSeriesRequest.prototype.WithInputUniverseFilter=function(a){this.params.inputUniverseFilter=a;return this};function SizeRecommendationRequest(a,d,c,b,e,f){this.url="/Recommendation/GetRecommendation";this.params={currentModelId:a,currentSize:d,currentSizeDisplayConvention:c,currentGenderBinary:b,currentWidth:e,targetModelId:f}}SizeRecommendationRequest.prototype=new ApiRequest();SizeRecommendationRequest.prototype.WithSizeDisplayConvention=function(a){this.params.sizeDisplayConvention=a;return this};SizeRecommendationRequest.prototype.WithGenderBinary=function(a){this.params.genderBinary=a;return this};SizeRecommendationRequest.prototype.WithExcludeLocalizedHalfSizes=function(a){this.params.excludeLocalizedHalfSizes=a?"true":"false";return this};SizeRecommendationRequest.prototype.WithRespectEnabledFlag=function(a){this.params.respectEnabledFlag=a?"true":"false";return this};SizeRecommendationRequest.prototype.WithSizeOffset=function(a){this.params.sizeOffset=a;return this};SizeRecommendationRequest.prototype.WithRespectSameSizeWeight=function(a){this.params.respectSameSizeWeight=a?"true":"false";return this};SizeRecommendationRequest.prototype.WithRespectOffsetFromAnyForcedRecommendations=function(a){this.params.respectOffsetFromAnyForcedRecommendations=a?"true":"false";return this};function LoadOutlineImageRequest(b,a,c,h,k,d,g,j,f,e){this.url="/Image/DrawOutline";this.params={w:b,h:a,scaleWidth:c,scaleHeight:h,r:k,g:d,b:g,anchorData:j,cp1Data:f,cp2Data:e}}LoadOutlineImageRequest.prototype=new ApiRequest();LoadOutlineImageRequest.prototype.WithDashed=function(a){this.params.dashed=a;return this};function LoadFillImageRequest(b,a,c,h,k,d,g,j,f,e){this.url="/Image/DrawFill";this.params={w:b,h:a,scaleWidth:c,scaleHeight:h,r:k,g:d,b:g,anchorData:j,cp1Data:f,cp2Data:e}}LoadFillImageRequest.prototype=new ApiRequest();function LoadProfileImageRequest(b,a,c,h,k,d,g,j,f,e){this.url="/Image/DrawProfile";this.params={w:b,h:a,scaleWidth:c,scaleHeight:h,r:k,g:d,b:g,anchorData:j,cp1Data:f,cp2Data:e}}LoadProfileImageRequest.prototype=new ApiRequest();LoadProfileImageRequest.prototype.WithDashed=function(a){this.params.dashed=a;return this};function LoadKeyFillImageRequest(d,e,c,b,a){this.url="/Image/DrawKeyFill";this.params={w:d,h:e,r:c,g:b,b:a}}LoadKeyFillImageRequest.prototype=new ApiRequest();function LoadKeyOutlineImageRequest(d,e,c,b,a){this.url="/Image/DrawKeyOutline";this.params={w:d,h:e,r:c,g:b,b:a}}LoadKeyOutlineImageRequest.prototype=new ApiRequest();LoadKeyOutlineImageRequest.prototype.WithDashed=function(a){this.params.dashed=a;return this};function LoadPossibleSizesForAverageRequest(c,a,b){this.url="/Model/LoadPossibleSizesForAverage";this.params={sizeDisplayConvention:c,inputUniverseId:a,gender:b}}LoadPossibleSizesForAverageRequest.prototype=new ApiRequest();function SearchByAttributesRequest(a){this.url="/Search/SearchByAttributes";this.params={maxResults:a}}SearchByAttributesRequest.prototype=new ApiRequest();SearchByAttributesRequest.prototype.WithBrandFilter=function(a){this.params.brandFilter=SFUtil.Join(a,";");return this};SearchByAttributesRequest.prototype.WithGenderFilter=function(a){this.params.genderFilter=SFUtil.Join(a,";");return this};SearchByAttributesRequest.prototype.WithInputUniverseFilter=function(a){this.params.inputUniverseFilter=a;return this};SearchByAttributesRequest.prototype.WithColorFilter=function(a){this.params.colorFilter=SFUtil.Join(a,";");return this};SearchByAttributesRequest.prototype.WithStyleFilter=function(a){this.params.styleFilter=SFUtil.Join(a,";");return this};SearchByAttributesRequest.prototype.WithMaterialFilter=function(a){this.params.materialFilter=SFUtil.Join(a,";");return this};SearchByAttributesRequest.prototype.WithPatternFilter=function(a){this.params.patternFilter=SFUtil.Join(a,";");return this};SearchByAttributesRequest.prototype.WithAccentFilter=function(a){this.params.accentFilter=SFUtil.Join(a,";");return this};SearchByAttributesRequest.prototype.WithSoccerSurfaceFilter=function(a){this.params.soccerSurfaceFilter=SFUtil.Join(a,";");return this};SearchByAttributesRequest.prototype.WithSkuFilter=function(a){this.params.skuFilter=a;return this};function SearchByModelSeriesRequest(a){this.url="/Search/SearchByModelSeries";this.params={maxResults:a}}SearchByModelSeriesRequest.prototype=new ApiRequest();SearchByModelSeriesRequest.prototype.WithModelId=function(a){this.params.modelId=a;return this};SearchByModelSeriesRequest.prototype.WithModelSeriesId=function(a){this.params.modelSeriesId=a;return this};function GetRecommendationFromAverageRequest(c,e,b,a,d){this.url="/Recommendation/GetRecommendationFromAverage";this.params={currentSize:c,currentSizingScheme:e,currentGenderBinary:b,currentInputUniverseId:a,targetModelId:d}}GetRecommendationFromAverageRequest.prototype=new ApiRequest();GetRecommendationFromAverageRequest.prototype.WithCurrentNormalizedWidthId=function(a){this.params.currentNormalizedWidthId=a;return this};GetRecommendationFromAverageRequest.prototype.WithSizeDisplayConvention=function(a){this.params.targetSizeDisplayConvention=a;return this};GetRecommendationFromAverageRequest.prototype.WithGenderBinary=function(a){this.params.targetGenderBinary=a;return this};GetRecommendationFromAverageRequest.prototype.WithExcludeLocalizedHalfSizes=function(a){this.params.excludeLocalizedHalfSizes=a?"true":"false";return this};GetRecommendationFromAverageRequest.prototype.WithRespectEnabledFlag=function(a){this.params.respectEnabledFlag=a?"true":"false";return this};GetRecommendationFromAverageRequest.prototype.WithSizeOffset=function(a){this.params.sizeOffset=a;return this};GetRecommendationFromAverageRequest.prototype.WithRespectSameSizeWeight=function(a){this.params.respectSameSizeWeight=a?"true":"false";return this};GetRecommendationFromAverageRequest.prototype.WithRespectOffsetFromAnyForcedRecommendations=function(a){this.params.respectOffsetFromAnyForcedRecommendations=a?"true":"false";return this};GetRecommendationFromAverageRequest.prototype.WithNormalizeArchViewHeelHeights=function(a){this.params.normalizeArchViewHeelHeights=a?"true":"false";return this};GetRecommendationFromAverageRequest.prototype.WithCurrentBrand=function(b,c,a){this.params.currentBrandId=b;this.params.currentBrandSize=c;this.params.currentBrandNormalizedWidthId=a;return this};(function(av,V,Y,au,G){var t=function(){return'<div class="sfRoot sfHide"><div class="sfMinimalInput no-touch sfHide"><div class="sfPrivacyPolicy"></div><div class="sfFeedbackBar"></div><div class="sfWindow"><div class="sfHeaderAndContentWrap"><div class="sfHeader"></div><div class="sfError1 sfTopPane sfHide"><div class="sfContentBox"><p class="sfH1"></p><p class="sfH2"></p><div class="sfButton"></div></div></div><div class="sfProfile"><div class="sfContentBox"><p class="sfH1"></p><p class="sfH2"></p><div class="sfForm"><input type="text" class="sfName" placeholder="First Name"></input><input type="text" class="sfEmail" placeholder="Email Address"></input><div class="sfSaveButton"></div></div><div class="sfButton"></div></div></div><div class="sfStep1 sfTopPane sfHide"><div class="sfImgBox"><img /><div><p class="sfBrandName"></p><p class="sfModelName"></p></div></div><div class="sfContentBox"><p class="sfH1"></p><p class="sfH2"></p><div class="sfSizeSelector"></div><div class="sfWidthSelector"></div><div class="sfSizingSchemeInfo"><div class="sfSizeCaption"></div><div class="sfSizingSchemeSelector"></div></div><p class="sfH3"></p></div></div><div class="sfStep2 sfTopPane sfHide"><div class="sfImgBox"><img /><div><p class="sfBrandName"></p><p class="sfModelName"></p></div></div><div class="sfContentBox"><p class="sfH1"></p><p class="sfH2"></p><div><div class="sfButtonWrapper"><div class="sfB1 sfButton"></div></div><div class="sfButtonWrapper"><div class="sfB2 sfButton"></div></div><div class="sfButtonWrapper"><div class="sfB3 sfButton"></div></div></div></div></div><div class="sfLoading3 sfTopPane sfHide"><div class="sfContentBox"><p></p></div></div><div class="sfError3 sfTopPane sfHide"><div class="sfContentBox"><p class="sfH1"></p><p class="sfH2"></p><div class="sfButton"></div></div></div><div class="sfStep3 sfRecScreen sfTopPane sfHide"><div class="sfLeftPane"><p class="sfH1"></p><p class="sfH2"></p><div class="sfViz1Legend"></div><div><div class="sfViz1 sfFlashViz sfHide"></div><div class="sfViz2 sfImageViz sfHide"><img class="sfVizImage sfInputModel" /><img class="sfVizImage sfTargetModel" /></div><div class="sfViz3 sfImageViz sfHide"><img class="sfVizImage sfInputModel" /><img class="sfVizImage sfTargetModel" /></div></div><p class="sfH3"></p><div class="sfTargetSizeSelectors"><div class="sfSizeSelector"></div></div></div><div class="sfRightPane"><div class="sfLegend sfInputModel"><div class="sfImageWrapper"><img class="sfVizImage2 sfVizImage sfHide" /><img class="sfVizImage3 sfVizImage sfHide" /><img class="sfThumbImage" /></div><p class="sfH1"></p><p class="sfH2"></p></div><div class="sfDivider"><span></span></div><div class="sfLegend sfTargetModel"><div class="sfImageWrapper"><img class="sfVizImage2 sfVizImage sfHide" /><img class="sfVizImage3 sfVizImage sfHide" /><img class="sfThumbImage" /></div><p class="sfH1"></p><p class="sfH2"></p></div></div><div class="sfFooter"><ul><li class="sfVizChoice1 sfVizChoice sfHide"></li><li class="sfVizChoice2 sfVizChoice sfHide"></li><li class="sfVizChoice3 sfVizChoice sfHide"></li></ul><div class="sfOkClose"><div></div><span></span></div></div><div class="sfInputVizColor sfHide"></div><div class="sfTargetVizColor sfHide"></div></div><div class="sfRecAppRoot sfTopPane sfHide"></div></div></div></div><div class="sfShoeVsShoe no-touch sfHide"><div id="sf-privacy-policy"></div><div id="sf-rec-feedback"></div><div id="sf-box"><div id="sf-scanned-error" class="top-pane sorry-pane"><div class="sorry-box"><p id="sf-error-heading" class="sorry-heading"></p><p id="sf-error-caption" class="caption"></p><div id="sf-restart-button" class="sf-button"></div></div></div><div id="sf-title-3" class="top-pane"><div class="by-shoefitr"></div><h1 class="sf-title-heading"></h1><p class="sf-title-heading-caption"></p><div class="backdrop"></div><div class="sf-title-input-wrapper"><table><tr><td><img id="sf-title-3-target-image" /></td><td><div id="sf-title-3-vs-text"></div></td><td><div id="sf-title-3-input-image"></div></td><td><div id="sf-title-3-bracket-image-wrapper"><div id="sf-title-3-bracket-image"></div></div></td><td><div class="sf-title-input-wrapper-s0"><div class="sf-title-input-wrapper-s1"><div class="sf-title-brand-typeahead"></div></div><div class="sf-title-input-wrapper-s2"><div class="sf-title-gender-select-wrapper"><table class="sf-title-gender-select"><tr><td class="sf-title-female-toggle"></td><td class="sf-title-male-toggle"></td></tr></table></div><div class="sf-title-typeahead"></div><p class="sf-title-search-button-caption"></p><div class="sf-title-search-button sf-button"></div></div></div></td></tr><tr><td class="target-model"><div class="shoe-label-wrapper-outer"><div class="shoe-label-wrapper"><p class="brand"></p><p class="model"></p></div></div></td><td></td><td class="input-model"><div class="shoe-label-wrapper-outer"><div class="shoe-label-wrapper"><p class="brand"></p><p class="model"></p></div></div></td><td></td><td></td></tr></table></div></div><div id="sf-flow" class="top-pane"><div id="sf-flow-header"><div class="sf-back-button"><div class="sf-back-image"></div><span></span></div><ul><li id="sf-step-1" class="step"><p class="number"></p><p class="caption"></p></li><li class="separator"></li><li id="sf-step-2" class="step"><p class="number"></p><p class="caption"></p></li><li class="separator"></li><li id="sf-step-3" class="step"><p class="number"></p><p class="caption"></p></li></ul><div class="by-shoefitr-mini"></div></div><div id="sf-flow-box"><div id="sf-text-search" class="flow-pane"><div class="search-side-box"><p id="sf-text-search-caption" class="caption"></p><p id="sf-text-search-brand" class="name-heading"></p><p id="sf-text-search-series" class="name-heading"></p></div><div class="search-results-box"><div class="results-empty"></div><div class="results"></div><div class="results-count"></div><div class="results-loading"></div></div></div><div id="sf-filter-search" class="flow-pane"><div class="search-side-box"><ul><li id="sf-filter-1" class="filter"><p><span class="filter-name"></span>&nbsp;&nbsp;<span class="filter-value"></span><span class="filter-clear"></span></p></li><li id="sf-filter-2" class="filter"><p><span class="filter-name"></span>&nbsp;&nbsp;<span class="filter-value"></span><span class="filter-clear"></span></p></li><li id="sf-filter-3" class="filter"><p><span class="filter-name"></span>&nbsp;&nbsp;<span class="filter-value"></span><span class="filter-clear"></span></p></li><li id="sf-filter-4" class="filter"><p><span class="filter-name"></span>&nbsp;&nbsp;<span class="filter-value"></span><span class="filter-clear"></span></p></li><li id="sf-filter-5" class="filter"><p><span class="filter-name"></span>&nbsp;&nbsp;<span class="filter-value"></span><span class="filter-clear"></span></p></li><li id="sf-filter-6" class="filter"><p><span class="filter-name"></span>&nbsp;&nbsp;<span class="filter-value"></span><span class="filter-clear"></span></p></li><li id="sf-filter-7" class="filter"><p><span class="filter-name"></span>&nbsp;&nbsp;<span class="filter-value"></span><span class="filter-clear"></span></p></li><li id="sf-filter-8" class="filter"><p><span class="filter-name"></span>&nbsp;&nbsp;<span class="filter-value"></span><span class="filter-clear"></span></p></li><li id="sf-filter-9" class="filter"><p><span class="filter-name"></span>&nbsp;&nbsp;<span class="filter-value"></span><span class="filter-clear"></span></p></li><li id="sf-filter-reset" class="filter"><div id="sf-filter-reset-link" class="sf-button"></div></li></ul></div><div class="search-results-box"><div class="results-waiting"></div><div class="results-empty"></div><div class="results"></div><div class="results-count"></div><div class="results-loading"></div></div><div class="search-screens"><div id="sf-search-screen-mask"></div><div id="sf-search-screen-carrot"></div><div id="sf-search-screen-1" class="search-screen"><div class="sf-search-screen-header"><span></span><div class="close"></div></div><div class="sf-search-filter-options"></div></div><div id="sf-search-screen-2" class="search-screen"><div class="sf-search-screen-header"><span></span><div class="close"></div></div><div class="sf-search-filter-options"></div></div><div id="sf-search-screen-3" class="search-screen"><div class="sf-search-screen-header"><span></span><div class="close"></div></div><div class="sf-search-filter-options"></div></div><div id="sf-search-screen-4" class="search-screen"><div class="sf-search-screen-header"><span></span><div class="close"></div></div><div class="sf-search-filter-options"></div></div><div id="sf-search-screen-5" class="search-screen"><div class="sf-search-screen-header"><span></span><div class="close"></div></div><div class="sf-search-filter-options"></div></div><div id="sf-search-screen-6" class="search-screen"><div class="sf-search-screen-header"><span></span><div class="close"></div></div><div class="sf-search-filter-options"></div></div><div id="sf-search-screen-7" class="search-screen"><div class="sf-search-screen-header"><span></span><div class="close"></div></div><div class="sf-search-filter-options"></div></div><div id="sf-search-screen-8" class="search-screen"><div class="sf-search-screen-header"><span></span><div class="close"></div></div><div class="sf-search-filter-options"></div></div><div id="sf-search-screen-9" class="search-screen"><div class="sf-search-screen-header"><span></span><div class="close"></div></div><div class="sf-search-filter-options"></div></div></div></div><div id="sf-shoe-scanned-error" class="flow-pane"><div class="sorry-box"><div class="sf-error-wrapper-1"><p id="sf-shoe-error-heading" class="caption"></p></div><div class="sf-error-wrapper-2"><p class="sf-error-heading sorry-heading"></p><p class="sf-error-caption caption"></p></div><div class="sf-button-wrapper"><div class="sf-restart-button sf-button"></div></div><div class="sf-size-wrapper"><p id="sf-shoe-error-size-caption" class="caption"></p><p id="sf-shoe-error-size-caption-2" class="subcaption"></p><div id="sf-shoe-error-size-selection"></div></div><div class="sf-size-loading"></div></div><div class="sorry-img-box"><img id="sf-shoe-img" /><div id="sf-shoe-escape"></div></div></div><div id="sf-avg-bias" class="flow-pane"><div class="sf-content-wrapper"><p class="sf-heading"></p><p class="sf-subheading"></p><div><div class="sf-button-wrapper"><div class="sf-button-1 sf-button"></div></div><div class="sf-button-wrapper"><div class="sf-button-2 sf-button"></div></div><div class="sf-button-wrapper"><div class="sf-button-3 sf-button"></div></div></div></div></div><div id="sf-shoe-same-error" class="flow-pane sorry-pane"><div class="sorry-box"><p id="sf-same-error-heading" class="sorry-heading"></p><p id="sf-same-error-caption-1" class="caption"></p><p id="sf-same-error-caption-2" class="caption"></p><div class="sf-button-wrapper"><div id="sf-same-restart" class="sf-button"></div><a id="sf-same-goback"></a></div></div><div class="sorry-img-box"><img id="sf-same-img" /></div></div><div id="sf-size" class="flow-pane"><h1 class="sf-size-prompt"></h1><div class="sf-size-img-box"><img class="sf-size-img" /><div class="sf-size-escape"></div><div class="sf-brand-model-caption"><p class="sf-brand-name"></p><p class="sf-model-name"></p></div></div><div class="sf-size-box"><p class="sf-size-name-caption caption"></p><div class="sf-size-wrapper"><p id="sf-size-caption" class="caption"></p><div id="sf-size-selection"></div><p class="sfSizeCaption"></p><div id="sf-size-width-wrapper"><p id="sf-width-caption" class="caption"></p><div id="sf-width-selection"></div></div></div><div class="sf-size-loading"></div></div></div><div id="sf-size-bias" class="flow-pane"><h1 class="sf-size-prompt"></h1><div class="sf-size-img-box"><img class="sf-size-img" /><div class="sf-size-escape"></div><div class="sf-brand-model-caption"><p class="sf-brand-name"></p><p class="sf-model-name"></p></div></div><div class="sf-size-box"><p class="sf-size-name-caption caption"></p><p class="sf-fit-preference-caption caption"></p><div><div class="sf-choice-1 choice"></div><div class="sf-choice-2 choice"></div><div class="sf-choice-3 choice"></div></div></div></div><div id="sf-size-scanned-error" class="flow-pane sorry-pane"><div class="sorry-box"><p class="sf-error-heading sorry-heading"></p><p class="sf-error-caption caption"></p><div class="sf-button-wrapper"><div class="sf-error-close sf-button"></div></div></div></div><div id="sf-avg-size-scanned-error" class="flow-pane sorry-pane"><div class="sorry-box"><p class="sf-error-heading sorry-heading"></p><p class="sf-error-caption caption"></p><div class="sf-button-wrapper"><div class="sf-error-close sf-button"></div></div></div></div><div id="sf-rec-loading" class="flow-pane"><div class="sfContentBox"><p></p></div></div><div id="sf-rec-app-root" class="flow-pane"></div><div id="sf-rec" class="flow-pane"><div id="sf-rec-side-box"><div id="sf-rec-side-tag"><div class="tag-image"></div><p class="tag-title"></p><p class="tag-caption"></p><p class="tag-size"></p><p class="tag-scheme"></p></div><img/><p id="sf-rec-side-brand" class="name-heading"></p><p id="sf-rec-side-model" class="name-heading"></p><div class="sf-rec-ok-close-button-wrapper"><div class="sf-rec-ok-close-button sf-button"></div></div></div><div id="sf-rec-shadow"></div><div id="sf-rec-results-box"><div id="sf-rec-results-header"><div id="sf-target-model" class="model"><img/><div class="sf-model-box"><div class="heading"></div><p class="caption"></p></div><div id="sf-target-size-selector"><div class="size"><div class="caption"></div><div class="sf-button down">-</div><div class="sf-button up">+</div></div><div class="width"><div class="caption"></div><div class="sf-button down">-</div><div class="sf-button up">+</div></div><div class="reset"><a id="sf-target-size-reset"></a></div></div></div><div id="sf-input-model" class="model"><img/><div class="sf-model-box"><div class="heading"></div><p class="caption"></p></div></div></div><div id="sf-rec-results-viz-box"><div id="sf-viz-pane-1" class="viz-pane"></div><div id="sf-viz-pane-2" class="viz-pane"></div><div id="sf-viz-pane-3" class="viz-pane"></div><div id="sf-viz-pane-4" class="viz-pane"></div><div id="sf-viz-pane-5" class="viz-pane"></div></div><div id="sf-rec-results-footer"><div><ul><li id="sf-viz-choice-1" class="viz-choice"></li><li id="sf-viz-choice-2" class="viz-choice"></li><li id="sf-viz-choice-3" class="viz-choice"></li><li id="sf-viz-choice-4" class="viz-choice"></li><li id="sf-viz-choice-5" class="viz-choice"></li></ul></div></div></div><div class="sf-rec-loading"><p class="sf-message"></p></div></div><div id="sf-avg-rec" class="flow-pane"><div class="sf-rec-side-box"><div class="sf-rec-side-tag"><div class="tag-image"></div><p class="tag-title"></p><p class="tag-caption"></p><p class="tag-size"></p><p class="tag-scheme"></p></div><img/><p class="sf-rec-side-brand name-heading"></p><p class="sf-rec-side-model name-heading"></p><div class="sf-rec-ok-close-button-wrapper"><div class="sf-rec-ok-close-button sf-button"></div></div></div><div class="sf-rec-shadow"></div><div class="sf-rec-results-box"><div class="sf-rec-results-viz-box"><div class="sf-viz-pane-1 viz-pane"></div><div class="sf-viz-pane-2 viz-pane"></div><div class="sf-viz-pane-3 viz-pane"></div><div class="sf-viz-pane-4 viz-pane"></div><div class="sf-viz-pane-5 viz-pane"></div></div><div class="sf-rec-results-footer"><div><ul><li class="sf-viz-choice-1 viz-choice"></li><li class="sf-viz-choice-2 viz-choice"></li><li class="sf-viz-choice-3 viz-choice"></li><li class="sf-viz-choice-4 viz-choice"></li><li class="sf-viz-choice-5 viz-choice"></li></ul></div></div></div><div class="sf-rec-loading"><p class="sf-message"></p></div></div></div></div><div id="sf-close"></div></div><div id="sf-switch-version"></div></div></div>'};var aD=function(){return'<div class="sfRecApp"><div class="sfLeftPane"><p class="sfH1"></p><p class="sfH2"></p><div><div class="sfViz1 sfFlashViz sfHide"></div><div class="sfViz2 sfImageViz sfHide"><img class="sfVizImage sfInputModel" /><img class="sfVizImage sfTargetModel" /></div><div class="sfViz3 sfImageViz sfHide"><img class="sfVizImage sfInputModel" /><img class="sfVizImage sfTargetModel" /></div></div><div class="sfPaneFooter"><div class="sfColorLegend"></div><div class="sfFootbedArchLegend"><div class="sfTargetLegendIcon"><img /></div><div class="sfTargetLegend"><span><span class="sfModelName"></span> <span class="sfSizeWidth"></span></span></div><div class="sfAverageLegendIcon"><img /></div><div class="sfAverageLegend"><span><span class="sfSizeWidth"></span></span></div></div><div class="sfVizChooser"><ul><li class="sfVizChoice1 sfVizChoice sfHide"></li><li class="sfVizChoice2 sfVizChoice sfHide"></li><li class="sfVizChoice3 sfVizChoice sfHide"></li></ul></div></div></div><div class="sfRightPane"><div class="sfInfoBox"><p class="sfH1 sfComparisonInformation"></p><div class="sfLegend sfTargetModel"><div class="sfImageWrapper"><img class="sfThumbImage" /></div></div><div class="sfFeelDescription"><p class="sfH2 sfFeelHeading"></p><p class="sfH2 sfFeelToes"></p><p class="sfH2 sfFeelNearBall"></p><p class="sfH2 sfFeelHeel"></p></div><div class="sfTargetSizeSelectors"><div class="sfSizeSelectorWrapper"><div class="sfSizeSelector"></div></div><div class="sfSizeSelectorWrapper"><div class="sfWidthSelector"></div></div></div></div><div class="sfOkClose sfButton"><div></div><span></span></div></div><div class="sfInputVizColor sfHide"></div><div class="sfTargetVizColor sfHide"></div></div>'};var s=function(){return'<div class="sfNewFlowRoot sfHide"><div class="sfContainer sfSplash sfLogo"></div><div class="sfContainer sfQuestionnaire"></div><div class="sfContainer sfQuestion sfHide"><div class="sfContent"><h3></h3><div class="sfQuestions"><h4 class="sfBrandQuestion"></h4><div class="sfBrandSelect"></div><h4 class="sfSizeQuestion sfDisabled"></h4><div class="sfSizeSelect sfDisabled"></div></div><div class="sfButtonsContainer"><div class="sfAddDetails sfNextStep"></div><div class="sfButton sfNextStep sfNotReady"></div></div></div></div><div class="sfContainer sfAdditionalDetails sfHide"><div class="sfContent"><div class="sfButtonsContainer"><div class="sfNextStep sfButton"></div></div><h4 class="sfHead"></h4><p class="sfDesc"></p><div class="sfWidthQuestion"></div><div class="sfModelQuestion"></div></div></div><div class="sfContainer sfLoading sfLogo sfHide"><div class="sfContent"><img class="sfProductImg"><h4></h4><div class="sfLoadingDots"></div><div class="sfNextStep sfButton sfHide"></div></div></div><div class="sfContainer sfRecommendation sfHide"><div class="sfContent"><div class="sfQuickRec"><h1></h1><p></p></div><img class="sfProductImg"><h3></h3><p class="sfRecDesc"></p><h4></h4><div class="sfNextStep sfFitDataLink"></div><div class="sfFeedback"></div><div class="sfRecControlsContainer"><div class="sfClose sfButton proceed">Done</div></div></div></div><div class="sfContainer sfRecDetails sfHide"><div class="sfContent"><div class="sfHead"><img class="sfProductImg"><p class="sfDetailsDesc"></p></div><div class="sf3DScans"><div class="sfScanOne sfScanCol"><div class="sfScanTitle"><p>Too tight</p><h2 class="sfSmallSize">10</h2><div class="sfTightShoe"></div></div></div><div class="sfScanTwo sfScanCol"><div class="sfScanTitle"><p>Best fit</p><h2 class="sfBestSize">10</h2><div class="sfBestShoe"></div></div></div><div class="sfScanThree sfScanCol"><div class="sfScanTitle"><p>Too loose</p><h2 class="sfLargeSize">10</h2><div class="sfLooseShoe"></div></div></div></div><div class="sfFeedback"></div><div class="sfRecControlsContainer"><div class="sfClose sfButton proceed">Done</div></div></div></div><div class="sfContainer sfNewFlowFeedback sfHide"><div class="sfClose sfButton proceed">Done</div></div></div>'};var L=(function(){var aQ="?";return{LocalizeString:function(aW,a4,a5){try{var aS=LocalizedStrings.Convert(aW)}catch(a2){return aQ}if(V.isUndefined(aS)||aS===null){return aQ}var a0=aS;a4=a4||{};for(var aX in a4){if(a4.hasOwnProperty(aX)){var aV=a4[aX];if(V.isUndefined(aV)){aV=aQ}var aR=new RegExp("{"+aX+"}");a0=a0.replace(aR,aV)}}a0=a0.replace(/{[^}]*}/g,aQ);a5=a5||[];for(var aY=0;aY<a5.length;aY++){var a1=a5[aY][0];if(!a1){a1=""}var aZ=a5[aY][1];if(!aZ){aZ=""}if(aY>9){throw Error("implementation does not support more than nine tags")}var aU=new RegExp("\\#"+(aY>0?aY:"0?")+"\\(");var a3=a0.search(aU);var aT=a0.search(/\)\#/);if(a3!=-1&&aT!=-1){a0=a0.substring(0,a3)+a1+a0.substring(a3+(a0.substr(a3,2)==="#("?2:3),a0.length);aT=a0.search(/\)\#/);a0=a0.substring(0,aT)+aZ+a0.substring(aT+2,a0.length)}}a0=a0.replace(/\#\d?\(/g,aQ+"(");a0=a0.replace(/\)\#/g,")"+aQ);return a0},LocalizeNumber:function(aS){var aR=aS.toString();try{return LocalizedNumbers.Convert(aR)}catch(aT){return aQ}}}})();var Q=(function(){if(!Y){throw new Error("SizeGuideInit not found")}if(!au){throw new Error("SizeGuideConfig not found")}G.sApiKey=au.sApiKey;G.urlApiRoot=au.urlApiRoot;window.SizeGuide={};var aR={callbacks:window.SizeGuide,prefix:"window.SizeGuide"};var aQ=function(aV,aU){if(Y.fTrackEvent&&V.isFunction(Y.fTrackEvent)){V.defer(function(){Y.fTrackEvent(aV,aU||{})})}};var aS=new SFMetrics(5,au.urlMetricsRoot,au.bAnonymizeMetrics,function(aV,aU){if(au.iClientId===52&&_sf.isString(aV)&&aV.length===23){aQ("UserIdentified",{id:aV.substring(0,6)})}});var aT=function(aV,aU){aU=V.clone(aU||{});if(V.has(aU,"sgr_id")){throw'invalid parameter: "sgr_id" is reserved'}aU.sgr_id=au.sSizeGuideRequestId;aS.RecordMetric(aV,aU)};return{RemotingContext:aR,iMaxSearchResults:200,urlImageRoot:au.urlStaticContentRoot+"/images",RecordMetric:aT,ReportEvent:aQ,LocalizedString:L.LocalizeString,LocalizedNumber:L.LocalizeNumber,GetBrand:function(aU){return V.find(au.aBrands,function(aV){return aV.BrandId==aU})},recommendationEventFence:createEventFence(),searchEventFence:createEventFence(),state:new SFState({open:false,show:"title",gender:"F","input-model":undefined,"input-size":undefined,"input-size-fit-offset":undefined,"input-width":undefined,"avg-input-scheme":undefined,"avg-input-size":undefined,"avg-input-size-fit-offset":undefined,"target-model":au.oTargetModel,"target-size":undefined,"target-width":undefined,"search-brand-name":undefined,"search-model-name":undefined,"text-search-results":undefined,"search-gender":undefined,"search-brand":undefined,"search-tag":undefined,"search-colors":[],"search-styles":[],"search-materials":[],"search-patterns":[],"search-accents":[],"search-soccer-surface":undefined,"search-filter-index":undefined,"filter-search-results":undefined,"recommendation-data":undefined,"recommendation-metrics-data":undefined,recommendation:undefined,"recommended-size":undefined,"recommended-width":undefined,"avg-recommendation-data":undefined,"avg-recommendation-metrics-data":undefined,"avg-recommendation":undefined,"avg-recommended-size":undefined,"avg-recommended-width":undefined,"viz-index":1,"avg-viz-index":1,"rec-hover":undefined,"show-width-rec":undefined}),ClearState:(function(){var aU={"search-styles":[],"search-materials":[],"search-patterns":[],"search-accents":[],"search-colors":[]};return function(aV){if(V.has(aU,aV)){Q.state.Set(aV,aU[aV])}else{Q.state.Clear(aV)}}}()),GetLocalizedSizeText:function(aU){return G.GetSizeString(aU[1])+(aU[2]?" "+Q.LocalizedString(aU[2]):"")},GetLocalizedWidthText:function(aU){return Q.LocalizedString(G.GetNormalizedWidthString(aU))},metrics:aS}})();var r=function(aS,aR,aQ){return V.contains(aS.Get(aR),aQ)};var U=function(aS,aR,aQ){var aT=V.unique(aS.Get(aR));aT.push(aQ);aT.sort();aS.Set(aR,aT)};var aA=function(aS,aR,aQ){var aT=V.unique(aS.Get(aR));aT=V.without(aT,aQ);aS.Set(aR,aT)};var aO=function(aS,aR,aQ){if(r(aS,aR,aQ)){aA(aS,aR,aQ)}else{U(aS,aR,aQ)}};Q.InitializeThreeTwo=function(){return Q.InitializeWithCustomEntryPoint(Q.urlImageRoot+"/entryPoints/soccerPro-20111125.png",Q.urlImageRoot+"/entryPoints/soccerPro_over-20111125.png")};Q.InitializeAdidas=function(){var aQ=Q.urlImageRoot+"/entryPoints/adidas-20140601.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeAltraDropZero=function(){return Q.InitializeWithCustomEntryPointFunction(l)};var l=function(aU){aU.empty();var aW=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"12px","padding-left":"17px","padding-top":"8px","padding-bottom":"5px","padding-right":"72px","font-weight":"bold",color:"#2d2d2d"});if((av.browser.msie)){aW.css({"padding-right":"71px"})}var aT=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/altraDropZeroFlag-20140618.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aQ=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/altraDropZeroShoe-20140618.png").attr("alt","Shoefitr Icon").css({"float":"right","padding-top":"2px",border:"0"});var aR=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aQ).append(aW);var aV=av("<div/>").css({"padding-top":"3px","padding-bottom":"7px","padding-left":"7px","padding-right":"7px"}).append(aR);if((av.browser.msie&&av.browser.version==7)){aV.css({"padding-top":"1px"})}var aS=av("<div/>").css({position:"relative",display:"inline-block",height:"36px",background:"#eeeeee"});if((av.browser.msie&&av.browser.version==7)){aU.css({zoom:"1","*display":"inline","max-width":"212px"})}aS.append(aT).append(aV);aS.hover(function(){aR.css("text-decoration","none");aS.css("background","#c9c8c8")},function(){aR.css("text-decoration","none");aS.css("background","#eeeeee")});aU.append(av("<div/>").css("clear","both")).append(aS).append(av("<div/>").css("clear","both"));return{jEntryPoint:aU,jClickPoint:aS,fOnInlineRecommendation:function(a3,aY,a1){var a2=Q.GetLocalizedSizeText(a3.oSizeObject);var aX=Q.LocalizedString(a3.sSizingScheme);var aZ;if(a3.bHasAlternate){var a0=Q.GetLocalizedSizeText(a3.oAlternateSizeObject);var a4=Q.LocalizedString(a3.sAlternateSizeDisplayConvention);aZ=a0+(a1?" "+aY:"")+" "+a4+" ("+a2+(a1?" "+aY:"")+" "+aX+")"}else{aZ=a2+(a1?" "+aY:"")+" "+aX}aW.css({"padding-top":"6px","padding-left":"32px","padding-right":"75px"}).html("Your best fit is size<br/>"+aZ+".");aS.css({height:"36px"});aV.css({padding:"1px"});aQ.css({"padding-top":"4px","padding-right":"4px"})}}};Q.InitializeArtsCyclery=function(){return Q.InitializeWithCustomEntryPoint(Q.urlImageRoot+"/entryPoints/arts-20120627.png",Q.urlImageRoot+"/entryPoints/arts-hover-20120627.png")};Q.InitializeBaseballSavingsEntryPoints=function(){return Q.InitializeWithCustomEntryPointFunction(am)};var am=function(aV){aV.empty();var aX=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"12px","padding-left":"19px","padding-top":"8px","padding-bottom":"5px","padding-right":"65px","font-weight":"bold",color:"#565656"});var aU=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/baseballSavingsFlag-20140616.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aQ=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/baseballSavingsShoe-20140616.png").attr("alt","Shoefitr Icon").css({"float":"right","padding-top":"1px",border:"0px"});var aR=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aQ).append(aX);var aW=av("<div/>").css({"padding-top":"3px","padding-bottom":"7px","padding-left":"7px","padding-right":"7px"}).append(aR);if((av.browser.msie&&av.browser.version==7)){aW.css({"padding-top":"1px"})}var aT=av("<div/>").css({position:"relative",display:"inline-block",height:"32px","border-radius":"5px",background:"#e3e3e3"});if((av.browser.msie&&av.browser.version==7)){aV.css({zoom:"1","*display":"inline","max-width":"212px"})}aT.append(aU).append(aW);aT.hover(function(){aR.css("text-decoration","none");aT.css("background","#c9c8c8")},function(){aR.css("text-decoration","none");aT.css("background","#e3e3e3")});var aS=av("<div/>").css({"padding-bottom":"6px"});aS.append(aT);aV.append(av("<div/>").css("clear","both")).append(aS).append(av("<div/>").css("clear","both"));return{jEntryPoint:aV,jClickPoint:aT,fOnInlineRecommendation:function(a4,aZ,a2){var a3=Q.GetLocalizedSizeText(a4.oSizeObject);var aY=Q.LocalizedString(a4.sSizingScheme);var a0;if(a4.bHasAlternate){var a1=Q.GetLocalizedSizeText(a4.oAlternateSizeObject);var a5=Q.LocalizedString(a4.sAlternateSizeDisplayConvention);a0=a1+(a2?" "+aZ:"")+" "+a5+" ("+a3+(a2?" "+aZ:"")+" "+aY+")"}else{a0=a3+(a2?" "+aZ:"")+" "+aY}aX.css({"padding-top":"6px","padding-left":"34px","padding-right":"70px"}).html("Your best fit is size<br/>"+a0+".");aT.css({height:"36px"});aW.css({padding:"1px"});aQ.css({"padding-top":"7px","padding-right":"4px"})}}};Q.InitializeBassProShops=function(){var aQ=Q.urlImageRoot+"/entryPoints/bassProShops-20140210.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeBootBarn=function(){var aQ=Q.urlImageRoot+"/entryPoints/bootBarn-20140306.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeChineseLaundry=function(){var aQ=Q.urlImageRoot+"/entryPoints/chineseLaundry-20140408.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeClarks=function(){var aQ=Q.urlImageRoot+"/entryPoints/clarks-20140204.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeColeHaan=function(){return Q.InitializeWithCustomEntryPointFunction(p)};var p=function(aY){aY.empty();var aU=av("<span/>").html("Show me<br/>how it fits!").css({display:"block","font-family":"SophiaPro, sans-serif","text-align":"left","text-transform":"none","font-size":"12px","line-height":"12px","padding-right":"108px",color:"#565656"});var aV=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/coleHaanBlackWhiteShoe-20140626.png").attr("alt","Shoefitr Icon").css({position:"absolute",top:"0",right:"0","padding-top":"7px","padding-right":"17px",border:"0"});var aW=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/coleHaanColorShoe-20140626.png").attr("alt","Shoefitr Icon").css({position:"absolute",top:"0",right:"0","padding-top":"7px","padding-right":"17px",border:"0",opacity:"0"});var aX=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aV).append(aW).append(aU);var aR=av("<div/>").css({position:"relative",height:"25px",border:"1px solid #e6e9ec","padding-top":"2px","padding-left":"9px","padding-bottom":"2px"}).append(aX);aR.css("border-color","rgba(5, 43, 72, 0.1)");var aS=av("<div/>").css({position:"absolute",width:"100%",height:"31px",background:"#efefef",opacity:"0"});var aQ=av("<div/>").css({position:"relative",display:"inline-block"});aQ.append(aS).append(aR);aQ.hover(function(){aX.css("text-decoration","none");aW.stop().fadeTo(300,1);aS.stop().fadeTo(250,1)},function(){aX.css("text-decoration","none");aW.stop().fadeTo(300,0);aS.stop().fadeTo(300,0)});var aT=av("<div/>").css({"padding-top":"6px"});aT.append(aQ);aY.append(av("<div/>").css("clear","both")).append(aT).append(av("<div/>").css("clear","both"));return{jEntryPoint:aY,jClickPoint:aQ,fOnInlineRecommendation:function(a5,a0,a3){var a4=Q.GetLocalizedSizeText(a5.oSizeObject);var aZ=Q.LocalizedString(a5.sSizingScheme);var a1;if(a5.bHasAlternate){var a2=Q.GetLocalizedSizeText(a5.oAlternateSizeObject);var a6=Q.LocalizedString(a5.sAlternateSizeDisplayConvention);a1=a2+(a3?" "+a0:"")+" "+a6+" ("+a4+(a3?" "+a0:"")+" "+aZ+")"}else{a1=a4+(a3?" "+a0:"")+" "+aZ}aU.css({"padding-right":"64px"}).html("Your best fit is size<br/>"+a1+".")}}};Q.InitializeConstructionGear=function(){return Q.InitializeWithCustomEntryPointFunction(aN)};var aN=function(a0){a0.empty();var aU=av("<span/>").html("Show me how it fits").css({"font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"12px","font-weight":"bold",color:"#434343"});var aZ=av("<span/>").text("").css({"font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","font-weight":"bold",color:"#434343"});var aY=av("<span/>").text("Get a size recommendation").css({"font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","font-weight":"normal",color:"#777777"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/constructionGearShoe-20141022.png").attr("alt","Shoefitr Icon").css({"float":"right",border:"0",position:"relative",top:"4px"});var aW=av("<span/>").css({display:"block",padding:"0 59px 0 0","line-height":"15px"}).append(aU);var aV=av("<span/>").css({display:"block",padding:"0 59px 0 0","line-height":"15px"}).append(aZ).append(aY);var aX=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aS).append(aW).append(aV);var aR=av("<div/>").css({padding:"7px"}).append(aX);var aQ=av("<div/>").css({position:"relative","float":"left",border:"solid 1px #bbbbbb","border-radius":"3px",background:"#F4F4F1"});aQ.append(aR);aQ.hover(function(){aX.css("text-decoration","none");aY.css("text-decoration","underline");aQ.css("background","#E9E9E2")},function(){aX.css("text-decoration","none");aY.css("text-decoration","none");aQ.css("background","#F4F4F4")});var aT=av("<div/>").css({"padding-top":"6px"});aT.append(aQ);a0.append(av("<div/>").css("clear","both")).append(aT).append(av("<div/>").css("clear","both"));return{jEntryPoint:a0,jClickPoint:aQ,fOnInlineRecommendation:function(a7,a2,a5){var a6=Q.GetLocalizedSizeText(a7.oSizeObject);var a1=Q.LocalizedString(a7.sSizingScheme);var a3;if(a7.bHasAlternate){var a4=Q.GetLocalizedSizeText(a7.oAlternateSizeObject);var a8=Q.LocalizedString(a7.sAlternateSizeDisplayConvention);a3=a4+(a5?" "+a2:"")+" "+a8+" ("+a6+(a5?" "+a2:"")+" "+a1+")"}else{a3=a6+(a5?" "+a2:"")+" "+a1}aU.css({"font-weight":"normal"});aU.text("The best size for you is");aZ.text(a3+" ");aY.text("See details.")}}};Q.InitializeCrocs=function(){return Q.InitializeWithCustomEntryPointFunction(q)};var q=function(a0){a0.empty();var aU=av("<span/>").html("Show me how it fits").css({"font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"14px","font-weight":"bold",color:"#222"});var aZ=av("<span/>").text("").css({"font-family":"Arial, sans-serif","font-size":"12px","line-height":"14px","font-weight":"bold",color:"#222"});var aY=av("<span/>").text("Get a size recommendation").css({"font-family":"Arial, sans-serif","font-size":"12px","line-height":"14px","font-weight":"normal",color:"#777777"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/crocsShoe-20141023.png").attr("alt","Shoefitr Icon").css({"float":"right",border:"0",position:"relative",top:"4px"});var aW=av("<span/>").css({display:"block",padding:"0 75px 0 0"}).append(aU);var aV=av("<span/>").css({display:"block",padding:"0 75px 0 0"}).append(aZ).append(aY);var aX=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aS).append(aW).append(aV);var aR=av("<div/>").css({padding:"7px"}).append(aX);var aQ=av("<div/>").css({position:"relative","float":"left",border:"solid 1px #A3A3A3","border-radius":"0",background:"#FFF"});aQ.append(aR);aQ.hover(function(){aX.css("text-decoration","none");aY.css("text-decoration","underline");aQ.css("background","#f0f0f0")},function(){aX.css("text-decoration","none");aY.css("text-decoration","none");aQ.css("background","#FFF")});var aT=av("<div/>").css({"padding-top":"16px"});aT.append(aQ);a0.append(av("<div/>").css("clear","both")).append(aT).append(av("<div/>").css("clear","both"));return{jEntryPoint:a0,jClickPoint:aQ,fOnInlineRecommendation:function(a7,a2,a5){var a6=Q.GetLocalizedSizeText(a7.oSizeObject);var a1=Q.LocalizedString(a7.sSizingScheme);var a3;if(a7.bHasAlternate){var a4=Q.GetLocalizedSizeText(a7.oAlternateSizeObject);var a8=Q.LocalizedString(a7.sAlternateSizeDisplayConvention);a3=a4+(a5?" "+a2:"")+" "+a8+" ("+a6+(a5?" "+a2:"")+" "+a1+")"}else{a3=a6+(a5?" "+a2:"")+" "+a1}aU.css({"font-weight":"normal"});aU.text("The best size for you is");aZ.text(a3+" ");aY.text("See details.")}}};Q.InitializeDanner=function(){return Q.InitializeWithCustomEntryPointFunction(b)};var b=function(aR){aR.empty();var aV=av("<span/>").text("SEE HOW IT FITS").css({display:"block","font-family":"Arial, sans-serif","font-size":"13px","line-height":"13px","padding-left":"45px","padding-top":"6px","font-weight":"bold",color:"#000",top:"0"});var aU=av("<span/>").text("Get a size recommendation").css({display:"block","font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","padding-left":"46px","font-weight":"normal",color:"#96938E",top:"0px"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/dannerShoe-20141125.png").attr("alt","Shoefitr Icon").css({"float":"left"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aS).append(aV).append(aU);var aT=av("<div/>").css({"float":"left",background:"white","padding-top":"6px","padding-bottom":"10px","border-radius":"4px"}).append(aQ);aT.hover(function(){aU.css("text-decoration","underline")},function(){aU.css("text-decoration","none")});aR.append(aT);return{jEntryPoint:aR,jClickPoint:aT,fOnInlineRecommendation:function(a1,aX,aZ){var a0=Q.GetLocalizedSizeText(a1.oSizeObject);var aW=Q.LocalizedString(a1.sSizingScheme);var aY=a0+(aZ?" "+aX:"")+"  "+aW;aU.css("font-weight","normal").html('Size <span style="font-weight: bold; top: 0px; padding: 0px;">'+aY+"</span> will fit you best")}}};Q.InitializeDrMarten=function(){return Q.InitializeWithCustomEntryPointFunction(B)};var B=function(aU){aU.empty();var aW=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Helvetica, Arial, sans-serif","font-size":"11px","line-height":"11px","padding-left":"10px","padding-top":"9px","padding-right":"39px","font-weight":"bold",color:"#2d2d2d"});var aT=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/drMartensFlag-20140604.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aR=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/drMartensShoe-20140604.png").attr("alt","Shoefitr Icon").css({"float":"right","padding-top":"6px","padding-right":"3px",position:"static"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aR).append(aW);var aV=av("<div/>").css({padding:"3px"}).append(aQ);var aS=av("<div/>").css({position:"relative","float":"left","min-height":"33px","border-radius":"5px",background:"#e5e5e5","max-width":"338px"}).append(aT).append(aV);aS.hover(function(){aQ.css("text-decoration","none");aS.css("background","#C9C8C8")},function(){aQ.css("text-decoration","none");aS.css("background","#e5e5e5")});aU.append(av("<div/>").css("clear","both")).append(aS).append(av("<div/>").css("clear","both"));return{jEntryPoint:aU,jClickPoint:aS,fOnInlineRecommendation:function(a3,aY,a1){var a2=Q.GetLocalizedSizeText(a3.oSizeObject);var aX=Q.LocalizedString(a3.sSizingScheme);var aZ;if(a3.bHasAlternate){var a0=Q.GetLocalizedSizeText(a3.oAlternateSizeObject);var a4=Q.LocalizedString(a3.sAlternateSizeDisplayConvention);aZ=a0+(a1?" "+aY:"")+" "+a4+" ("+a2+(a1?" "+aY:"")+" "+aX+")"}else{aZ=a2+(a1?" "+aY:"")+" "+aX}aW.css({"padding-top":"3px","padding-left":"15px"}).html("The best size for<br />you is "+aZ+".");aR.css("padding-top","6px")}}};Q.InitializeFatalObsessions=function(){return Q.InitializeWithCustomEntryPointFunction(aM)};var aM=function(aZ){aZ.empty();var aV=av("<span/>").html("Show me<br/>how it fits!").css({display:"block","font-family":"Glober, sans-serif","text-align":"left","text-transform":"none","font-size":"12px","line-height":"12px","padding-right":"75px","padding-left":"40px","padding-top":"1px",color:"#0d0d0d"});var aT=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/fatalObsessionsFlag-20140730.png").attr("alt","").css({position:"absolute"});var aW=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/fatalObsessionsBlackWhiteShoe-20140730.png").attr("alt","Shoefitr Icon").css({position:"absolute",top:"0",right:"0","padding-top":"7px","padding-right":"7px",border:"0"});var aX=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/fatalObsessionsColorShoe-20140730.png").attr("alt","Shoefitr Icon").css({position:"absolute",top:"0",right:"0","padding-top":"7px","padding-right":"7px",border:"0",opacity:"0"});var aY=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aW).append(aX).append(aV);var aR=av("<div/>").css({position:"relative",height:"25px",border:"1px solid #a3a3a3","padding-top":"2px","padding-left":"9px","padding-bottom":"2px"}).append(aY);aR.css("border-color","rgba(5, 43, 72, 0.1)");var aS=av("<div/>").css({position:"absolute",width:"100%",height:"31px",background:"#efefef",opacity:"0"});var aQ=av("<div/>").css({position:"relative",display:"inline-block"});aQ.append(aS).append(aT).append(aR);aQ.hover(function(){aY.css("text-decoration","none");aX.stop().fadeTo(300,1);aS.stop().fadeTo(250,1)},function(){aY.css("text-decoration","none");aX.stop().fadeTo(300,0);aS.stop().fadeTo(300,0)});var aU=av("<div/>").css({"padding-top":"6px"});aU.append(aQ);aZ.append(av("<div/>").css("clear","both")).append(aU).append(av("<div/>").css("clear","both"));return{jEntryPoint:aZ,jClickPoint:aQ,fOnInlineRecommendation:function(a6,a1,a4){var a5=Q.GetLocalizedSizeText(a6.oSizeObject);var a0=Q.LocalizedString(a6.sSizingScheme);var a2;if(a6.bHasAlternate){var a3=Q.GetLocalizedSizeText(a6.oAlternateSizeObject);var a7=Q.LocalizedString(a6.sAlternateSizeDisplayConvention);a2=a3+(a4?" "+a1:"")+" "+a7+" ("+a5+(a4?" "+a1:"")+" "+a0+")"}else{a2=a5+(a4?" "+a1:"")+" "+a0}aV.css({"padding-right":"60px","padding-left":"30px","padding-top":"1px"}).html("The best size for you is<br/>"+a2+".")}}};Q.InitializeFootJoy=function(){return Q.InitializeWithCustomEntryPointFunction(f)};var f=function(aU){aU.empty();var aX=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Arial, Helvetica, sans-serif","font-size":"12px","line-height":"12px","padding-left":"18px","padding-top":"7px","padding-right":"64px","font-weight":"bold",color:"#565656"});var aT=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/footJoyFlag-20140530.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aR=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/footJoyShoe-20140530.png").attr("alt","Shoefitr Icon").css({"float":"right"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aR).append(aX);var aV=av("<div/>").css({padding:"3px"}).append(aQ);var aS=av("<div/>").css({position:"relative","float":"left",right:"50%",height:"32px","border-radius":"5px",background:"#fffbf6","max-width":"338px"}).append(aT).append(aV);aS.hover(function(){aQ.css("text-decoration","none");aS.css("background","#fbe6d0")},function(){aQ.css("text-decoration","none");aS.css("background","#fffbf6")});var aW=av("<div/>").css({position:"relative","float":"left",left:"50%"}).append(aS).append(av("<div/>").css("clear","both"));aU.append(av("<div/>").css("clear","both")).append(aW).append(av("<div/>").css("clear","both"));return{jEntryPoint:aU,jClickPoint:aS,fOnInlineRecommendation:function(a4,aZ,a2){var a3=Q.GetLocalizedSizeText(a4.oSizeObject);var aY=Q.LocalizedString(a4.sSizingScheme);var a0;if(a4.bHasAlternate){var a1=Q.GetLocalizedSizeText(a4.oAlternateSizeObject);var a5=Q.LocalizedString(a4.sAlternateSizeDisplayConvention);a0=a1+(a2?" "+aZ:"")+" "+a5+" ("+a3+(a2?" "+aZ:"")+" "+aY+")"}else{a0=a3+(a2?" "+aZ:"")+" "+aY}aS.css({height:"36px"});aX.css({"padding-top":"3px","padding-left":"25px"}).html("The best size for<br />you is "+a0+".");aR.css("padding-top","2px")}}};Q.InitializeFootSmart=function(){return Q.InitializeWithCustomEntryPointFunction(aF)};var aF=function(aT){aT.empty();var aW=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Helvetica, Arial, sans-serif","font-size":"13px","line-height":"13px","text-align":"left","padding-left":"18px","padding-top":"7px","padding-right":"64px","font-weight":"bold",color:"#0a0301"});var aR=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/footSmartShoe-20140603.png").attr("alt","Shoefitr Icon").css({"float":"right"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aR).append(aW);var aU=av("<div/>").css({padding:"3px"}).append(aQ);var aS=av("<div/>").css({position:"relative","float":"left",right:"50%",height:"33px",background:"#eeeeee","max-width":"240px"}).append(aU);aS.hover(function(){aQ.css("text-decoration","none");aS.css("background","#eeeeee")},function(){aQ.css("text-decoration","none");aS.css("background","#eeeeee")});var aV=av("<div/>").css({position:"relative",left:"50%","padding-bottom":"3px","padding-top":"6px"}).append(aS).append(av("<div/>").css("clear","both"));aT.append(av("<div/>").css("clear","both")).append(aV).append(av("<div/>").css("clear","both"));return{jEntryPoint:aT,jClickPoint:aS,fOnInlineRecommendation:function(a3,aY,a1){var a2=Q.GetLocalizedSizeText(a3.oSizeObject);var aX=Q.LocalizedString(a3.sSizingScheme);var aZ;if(a3.bHasAlternate){var a0=Q.GetLocalizedSizeText(a3.oAlternateSizeObject);var a4=Q.LocalizedString(a3.sAlternateSizeDisplayConvention);aZ=a0+(a1?" "+aY:"")+" "+a4+" ("+a2+(a1?" "+aY:"")+" "+aX+")"}else{aZ=a2+(a1?" "+aY:"")+" "+aX}aS.css({height:"36px"});aW.css({"padding-top":"3px","padding-left":"5px","padding-right":"65px"}).html("The best size for<br />you is "+aZ+".");aR.css("padding-top","2px")}}};Q.InitializeHeels=function(){var aR="heels-20121026.png";var aQ="heels-over-20121026.png";if(window.location.toString().indexOf("beta4")!=-1){aR=aQ="heels-20130131.png"}return Q.InitializeWithCustomEntryPoint(Q.urlImageRoot+"/entryPoints/"+aR,Q.urlImageRoot+"/entryPoints/"+aQ)};Q.InitializeHokaOneOne=function(){var aQ=Q.urlImageRoot+"/entryPoints/hokaOneOne-20140210.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeHolabirdSportsEntryPoints=function(){return Q.InitializeWithCustomEntryPointFunction(aE)};var aE=function(aV){aV.empty();var aX=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"12px","padding-left":"19px","padding-top":"3px","padding-bottom":"5px","padding-right":"50px","font-weight":"bold",color:"#6e6e6e"});var aU=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/holabirdSportsFlag-20140612.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aQ=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/holabirdSportsShoe-20140612.png").attr("alt","Shoefitr Icon").css({"float":"right"});var aR=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aQ).append(aX);var aW=av("<div/>").css({padding:"7px"}).append(aR);if((av.browser.msie&&av.browser.version==7)){aW.css({"padding-top":"1px"})}var aT=av("<div/>").css({"padding-bottom":"10px"});var aS=av("<div/>").css({position:"relative",display:"inline-block",height:"32px","border-radius":"5px",background:"#eeeeee"});aT.append(aS);if((av.browser.msie&&av.browser.version==7)){aV.css({zoom:"1","*display":"inline","max-width":"212px"})}aS.append(aU).append(aW);aS.hover(function(){aR.css("text-decoration","none");aS.css("background","#c9c8c8")},function(){aR.css("text-decoration","none");aS.css("background","#eeeeee")});aV.append(av("<div/>").css("clear","both")).append(aT).append(av("<div/>").css("clear","both"));return{jEntryPoint:aV,jClickPoint:aS,fOnInlineRecommendation:function(a4,aZ,a2){var a3=Q.GetLocalizedSizeText(a4.oSizeObject);var aY=Q.LocalizedString(a4.sSizingScheme);var a0;if(a4.bHasAlternate){var a1=Q.GetLocalizedSizeText(a4.oAlternateSizeObject);var a5=Q.LocalizedString(a4.sAlternateSizeDisplayConvention);a0=a1+(a2?" "+aZ:"")+" "+a5+" ("+a3+(a2?" "+aZ:"")+" "+aY+")"}else{a0=a3+(a2?" "+aZ:"")+" "+aY}aX.css({"padding-left":"35px","padding-right":"50px"}).html("Your best fit is size<br/>"+a0+".");aW.css({padding:"1px"});aQ.css({"padding-top":"7px","padding-right":"4px"})}}};Q.InitializeJabong=function(){var aQ=Q.urlImageRoot+"/entryPoints/jabong-20140213.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeJackErwin=function(){return Q.InitializeWithCustomEntryPointFunction(ah)};var ah=function(aU){aU.empty();var aX=av("<span/>").html("WHAT'S MY SIZE?").css({display:"block","font-family":"BrandonText, Helvetica, Arial, sans-serif","text-align":"center","text-transform":"none","font-weight":"bold","font-size":"12px","line-height":"12px","padding-top":"12px","padding-left":"25px","padding-right":"25px",color:"#c22424"});var aV=av("<br/>");var aW=av("<span/>").css({"font-family":"BrandonText, Helvetica, Arial, sans-serif","text-align":"left","text-transform":"none","font-weight":"bold","font-size":"12px","line-height":"12px","padding-left":"7px",color:"#c22424"});var aT=av("<span/>").css({"font-family":"BrandonText, Helvetica, Arial, sans-serif","text-transform":"none","text-decoration":"underline","font-weight":"bold","font-size":"12px","line-height":"12px",color:"#082e58"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aX).append(aV).append(aW).append(aT);if(navigator.userAgent.toLowerCase().indexOf("firefox")!=-1){av("form.product-toolbar-form").css({width:"auto"})}var aS=av("<div/>").css({height:"40px","line-height":"12px",display:"inline-block",border:"3px solid #c22424"});aS.append(aQ);aS.hover(function(){aQ.css("text-decoration","none");aS.css("background","#c22424");aX.css("color","#fffbf6");aW.css("color","#fffbf6");aT.css("color","#fffbf6")},function(){aQ.css("text-decoration","none");aS.css("background","#fffbf6");aX.css("color","#c22424");aW.css("color","#c22424");aT.css("color","#082e58")});var aR=av("<div/>").css({position:"relative",height:"40px","padding-top":"1px"});aR.append(aS);aU.append(av("<div/>").css("clear","both")).append(aR).append(av("<div/>").css("clear","both"));return{jEntryPoint:aU,jClickPoint:aS,fOnInlineRecommendation:function(a4,aZ,a2){var a3=Q.GetLocalizedSizeText(a4.oSizeObject);var aY=Q.LocalizedString(a4.sSizingScheme);var a0;if(a4.bHasAlternate){var a1=Q.GetLocalizedSizeText(a4.oAlternateSizeObject);var a5=Q.LocalizedString(a4.sAlternateSizeDisplayConvention);a0=a1+(a2?" "+aZ:"")+" "+a5+" ("+a3+(a2?" "+aZ:"")+" "+aY+")"}else{a0=a3+(a2?" "+aZ:"")+" "+aY}aX.css({display:"inline-block","text-align":"left","line-height":"12px","padding-top":"5px","padding-left":"7px","padding-right":"7px"}).html("THE BEST SIZE FOR YOU IS");aW.html(a0+" ");aT.css({"padding-right":"7px"}).html("See details")}}};Q.InitializeKellerSports=function(aR,aS,aQ){return Q.InitializeWithCustomEntryPointFunction(d(aR,aS,aQ))};var d=function(aR,aS,aQ){return function(aU){aU.empty();var aT=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none","font-family":"Arial, sans-serif","font-size":"12px","font-weight":"bold",color:"white","line-height":"12px"}).append(av("<span/>").css({display:"block"}).text(aR));var aV=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/icon.png").attr("alt","Shoefitr Icon").css({position:"absolute",right:"5px",top:aQ?"-2px":"5px"});var aW=av("<div/>").css({position:"relative",padding:"6px 69px 5px 6px",margin:"2px 0","float":"left",background:"#808080","border-radius":"3px",width:"105px"}).append(aV).append(aT);aW.hover(function(){aT.css("text-decoration","none");aW.css("background","#707070")},function(){aT.css("text-decoration","none");aW.css("background","#808080")});aU.append(av('<div style="clear: both;"></div>')).append(aW).append(av('<div style="clear: both;"></div>'));return{jEntryPoint:aU,jClickPoint:aW,fOnInlineRecommendation:function(a3,aY,a1){var a2=Q.GetLocalizedSizeText(a3.oSizeObject);var aX=Q.LocalizedString(a3.sSizingScheme);var aZ;if(a3.bHasAlternate){var a0=Q.GetLocalizedSizeText(a3.oAlternateSizeObject);var a4=Q.LocalizedString(a3.sAlternateSizeDisplayConvention);aZ=a0+(a1?" "+aY:"")+" "+a4+" ("+a2+(a1?" "+aY:"")+" "+aX+")"}else{aZ=a2+(a1?" "+aY:"")+" "+aX}aT.css({"font-size":"11px","line-height":"11px"}).html(aS+"\n"+aZ+".");if((window.navigator.userAgent.indexOf("MSIE ")>0&&av.browser.version==7)){aV.css({"padding-top":"1px",top:"5px"});aW.css({"padding-top":"4px"})}else{aV.css({"padding-top":"12px",top:"5px"});aW.css({"padding-top":"2px"})}}}}};Q.InitializeMizuno=function(){return Q.InitializeWithCustomEntryPointFunction(A)};var A=function(aU){aU.empty();var aW=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"11px","line-height":"11px","padding-left":"20px","padding-top":"7px","padding-bottom":"5px","padding-right":"45px","font-weight":"bold",color:"#565656"});var aT=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/mizunoFlag-201400702.png").attr("alt","").css({position:"absolute",left:"0",top:"0"});var aQ=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/mizunoShoe-20140702.png").attr("alt","Shoefitr Icon").css({"float":"right","padding-top":"2px",border:"0"});var aR=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aQ).append(aW);var aV=av("<div/>").css({"padding-top":"3px","padding-bottom":"7px","padding-left":"2px","padding-right":"2px"}).append(aR);var aS=av("<div/>").css({position:"relative",display:"inline-block",height:"30px","margin-bottom":"5px",background:"rgb(255, 251, 246)"});aS.css({background:"rgba(255, 251, 246, 0.75)"});if((av.browser.msie&&av.browser.version==7)){aU.css({zoom:"1","*display":"inline","max-width":"212px"})}aS.append(aT).append(aV);aS.hover(function(){aR.css("text-decoration","none");aS.css("background","rgb(249, 245, 240)");aS.css("background","rgba(255, 251, 246, 1.00)")},function(){aR.css("text-decoration","none");aS.css("background","rgb(255, 251, 246)");aS.css("background","rgba(255, 251, 246, 0.75)")});aU.append(av("<div/>").css("clear","both")).append(aS).append(av("<div/>").css("clear","both"));return{jEntryPoint:aU,jClickPoint:aS,fOnInlineRecommendation:function(a3,aY,a1){var a2=Q.GetLocalizedSizeText(a3.oSizeObject);var aX=Q.LocalizedString(a3.sSizingScheme);var aZ;if(a3.bHasAlternate){var a0=Q.GetLocalizedSizeText(a3.oAlternateSizeObject);var a4=Q.LocalizedString(a3.sAlternateSizeDisplayConvention);aZ=a0+(a1?" "+aY:"")+" "+a4+" ("+a2+(a1?" "+aY:"")+" "+aX+")"}else{aZ=a2+(a1?" "+aY:"")+" "+aX}aW.css({"padding-top":"4px","padding-left":"22px","padding-right":"40px"}).html("The best size for you<br/>is "+aZ+".");aQ.attr("src",Q.urlImageRoot+"/entryPoints/mizunoShoeRecommendation-20140702.png").css({"padding-top":"8px"});aS.css({height:"36px"});aV.css({padding:"1px"});aV.css({"padding-top":"4px","padding-bottom":"4px","padding-left":"3px","padding-right":"3px"})}}};Q.InitializeNewBalance=function(){return Q.InitializeWithCustomEntryPointFunction(k)};var k=function(aS){aS.empty();var aU=av("<span/>").addClass("longlabel").text("${Resource.msg('product.shoefitr,'product',null)}");var aT=av("<span/>").addClass("icon-shoefitr");var aR=av("<span/>").text("Shoefitr");aT.append(aR);var aQ=av("<a/>").attr("href","javascript:void(0);").append(aT).append(aU);aS.append(aQ);return{jEntryPoint:aS,jClickPoint:aQ}};Q.InitializeNordstrom=function(){var aQ;switch(Q.settings.iWhichNordstomTestEntryPoint){case 0:aQ=aK;break;case 1:aQ=T;break;case 2:aQ=S;break;case 3:aQ=R;break;default:aQ=aK;break}return Q.InitializeWithCustomEntryPointFunction(aQ)};var T=function(aR){aR.empty();var aV=av("<span/>").text("What size fits best?").css({display:"block","font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","padding-left":"28px","font-weight":"bold",color:"#393939",top:"0px"});var aU=av("<span/>").text("Get a size recommendation.").css({display:"block","font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","padding-left":"28px","font-weight":"normal",color:"#900",top:"0px"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/nordstrom-icon-test1.png").attr("alt","Shoefitr Icon").css({"float":"left"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aS).append(aV).append(aU);var aT=av("<div/>").css({"float":"left",background:"white",padding:"2px","border-radius":"3px"}).append(aQ);aT.hover(function(){aU.css("text-decoration","underline")},function(){aU.css("text-decoration","none")});aR.append(aT);return{jEntryPoint:aR,jClickPoint:aT,fOnInlineRecommendation:function(a1,aX,aZ){var a0=Q.GetLocalizedSizeText(a1.oSizeObject);var aW=Q.LocalizedString(a1.sSizingScheme);var aY=a0+(aZ?" "+aX:"")+"  "+aW;aV.css("font-weight","normal").html('The best size for you is <span style="font-weight: bold; top: 0px; padding: 0px;">'+aY+"</span>.");aU.text("See Details")}}};var aK=function(aR){aR.empty();var aV=av("<span/>").text("What size fits best?").css({display:"block","font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","padding-left":"66px","font-weight":"bold",color:"#333",top:"0px"});var aU=av("<span/>").text("Get a size recommendation.").css({display:"block","font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","padding-left":"66px","font-weight":"normal",color:"#900",top:"0px"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/nordstrom-icon-new.png").attr("alt","Shoefitr Icon").css({"float":"left"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aS).append(aV).append(aU);var aT=av("<div/>").css({"float":"left",background:"white",padding:"4px","border-radius":"4px"}).append(aQ);aT.hover(function(){aU.css("text-decoration","underline")},function(){aU.css("text-decoration","none")});aR.append(aT);return{jEntryPoint:aR,jClickPoint:aT,fOnInlineRecommendation:function(a1,aX,aZ){var a0=Q.GetLocalizedSizeText(a1.oSizeObject);var aW=Q.LocalizedString(a1.sSizingScheme);var aY=a0+(aZ?" "+aX:"")+"  "+aW;aV.css("font-weight","normal").html('The best size for you is <span style="font-weight: bold; top: 0px; padding: 0px;">'+aY+"</span>.");aU.text("See Details")}}};var R=function(aR){aR.empty();var aW=av("<span/>").text("What size fits you best?").css({display:"block","font-family":"Arial, sans-serif","font-size":"12px","line-height":"12px","padding-right":"42px","font-weight":"bold",color:"black",top:"0px"});var aV=av("<span/>").text("Get a size recommendation.").css({display:"block","font-family":"Arial, sans-serif","font-size":"12px","line-height":"12px","padding-right":"42px","font-weight":"normal",color:"black",top:"0px"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/nordstrom-icon-test3.png").attr("alt","Shoefitr Icon").css({position:"absolute",top:"4px",right:"7px"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aS).append(aW).append(aV);var aT=av("<div/>").css({position:"relative","float":"left",background:"white",padding:"6px 8px 5px",border:"1px solid #c6c6c6","margin-right":"12px",left:"-1px"}).append(aQ);aT.hover(function(){aV.css("text-decoration","none");aT.css("background","#d6d6d6")},function(){aV.css("text-decoration","none");aT.css("background","none")});var aU=av("<div/>").css("max-width","none");aR.append(aU.append(aT));return{jEntryPoint:aR,jClickPoint:aT,fOnInlineRecommendation:function(a2,aY,a0){var a1=Q.GetLocalizedSizeText(a2.oSizeObject);var aX=Q.LocalizedString(a2.sSizingScheme);var aZ=a1+(a0?" "+aY:"")+"  "+aX;aW.css("font-weight","bold").html("The best size for you is "+aZ+".");aV.text("See details.")}}};var S=function(aR){aR.empty();var aV=av("<span/>").text("What size fits best?").css({display:"block","font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","padding-left":"28px","font-weight":"bold",color:"#393939",top:"0px"});var aU=av("<span/>").text("Get a size recommendation.").css({display:"block","font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","padding-left":"28px","font-weight":"normal",color:"#900",top:"0px"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/nordstrom-icon-test2.png").attr("alt","Shoefitr Icon").css({"float":"left"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aS).append(aV).append(aU);var aT=av("<div/>").css({"float":"left",background:"white",padding:"2px","border-radius":"3px"}).append(aQ);aT.hover(function(){aU.css("text-decoration","underline")},function(){aU.css("text-decoration","none")});aR.append(aT);return{jEntryPoint:aR,jClickPoint:aT,fOnInlineRecommendation:function(a1,aX,aZ){var a0=Q.GetLocalizedSizeText(a1.oSizeObject);var aW=Q.LocalizedString(a1.sSizingScheme);var aY=a0+(aZ?" "+aX:"")+"  "+aW;aV.css("font-weight","normal").html('The best size for you is <span style="font-weight: bold; top: 0px; padding: 0px;">'+aY+"</span>.");aU.text("See Details")}}};Q.InitializeNordstromPopup=function(){return{horizontalAnchor:"center",horizontalAnchorPosition:"left",horizontalOffset:21,verticalAnchor:"bottom",verticalAnchorPosition:"top",verticalOffset:0,render:function(aR,aQ){aR.html(Q.LocalizedString("This shoe doesn't run true to size. #(Get a size recommendation.)#",{},[['<a href="">',"</a>"]]));aR.find("a").click(aQ)}}};Q.InitializeOnlineShoes=function(){if(Q.settings.bEnableNewEntryPoint){return Q.InitializeWithCustomEntryPointFunction(al)}else{return Q.InitializeWithCustomEntryPointFunction(at)}};var at=function(aU){aU.empty();var aW=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Arial, Helvetica, sans-serif","font-size":"12px","line-height":"12px","padding-left":"15px","padding-top":"3px","padding-right":"47px","font-weight":"bold",color:"#565656"});var aT=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/onlineShoesFlag-20140522.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aR=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/onlineShoesShoe-20140522.png").attr("alt","Shoefitr Icon").css({"float":"right"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aR).append(aW);var aV=av("<div/>").css({padding:"7px"}).append(aQ);var aS=av("<div/>").css({position:"relative","float":"left",height:"30px",border:"solid 1px #e6c18f","border-radius":"5px",background:"#fffbf6","max-width":"338px"}).append(aT).append(aV);aS.hover(function(){aQ.css("text-decoration","none");aS.css("background","#fbe6d0")},function(){aQ.css("text-decoration","none");aS.css("background","#fffbf6")});aU.append(aS);return{jEntryPoint:aU,jClickPoint:aS,fOnInlineRecommendation:function(a3,aY,a1){var a2=Q.GetLocalizedSizeText(a3.oSizeObject);var aX=Q.LocalizedString(a3.sSizingScheme);var aZ;if(a3.bHasAlternate){var a0=Q.GetLocalizedSizeText(a3.oAlternateSizeObject);var a4=Q.LocalizedString(a3.sAlternateSizeDisplayConvention);aZ=a0+(a1?" "+aY:"")+" "+a4+" ("+a2+(a1?" "+aY:"")+" "+aX+")"}else{aZ=a2+(a1?" "+aY:"")+" "+aX}aS.css({height:"36px"});aW.css({"padding-top":"0px","padding-left":"20px"}).html("The best size for<br />you is "+aZ+".");aR.css("padding-top","2px")}}};var al=function(aT){aT.empty();var aV=av("<span/>").text("Show me how it fits").css({display:"block","font-family":"'Trebuchet MS', Arial, Helvetica, sans-serif","font-size":"12px","line-height":"12px","padding-left":"0px","padding-top":"3px","padding-right":"50px","font-weight":"bold",color:"#6c6d71","text-transform":"uppercase","letter-spacing":"1px"});var aR=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/onlineShoesShoe-20140522.png").attr("alt","Shoefitr Icon").css({"float":"right"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aR).append(aV);var aU=av("<div/>").css({padding:"7px","padding-left":"0px"}).append(aQ);var aS=av("<div/>").css({position:"relative","float":"left",height:"30px","max-width":"338px"}).append(aU);aS.hover(function(){aV.css("text-decoration","underline")},function(){aV.css("text-decoration","none")});aT.append(aS);return{jEntryPoint:aT,jClickPoint:aS,fOnInlineRecommendation:function(a2,aX,a0){var a1=Q.GetLocalizedSizeText(a2.oSizeObject);var aW=Q.LocalizedString(a2.sSizingScheme);var aY;if(a2.bHasAlternate){var aZ=Q.GetLocalizedSizeText(a2.oAlternateSizeObject);var a3=Q.LocalizedString(a2.sAlternateSizeDisplayConvention);aY=aZ+(a0?" "+aX:"")+" "+a3+" ("+a1+(a0?" "+aX:"")+" "+aW+")"}else{aY=a1+(a0?" "+aX:"")+" "+aW}aV.css({"text-transform":"none","font-weight":"normal","letter-spacing":"0px"}).html('The best size for you is <span style="font-weight: bold">'+aY+"</span>.")}}};Q.InitializeReebok=function(){return Q.InitializeWithCustomEntryPointFunction(aL)};var aL=function(aU){aU.empty();var aW=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Helvetica, Arial, sans-serif","font-size":"14px","line-height":"14px","padding-left":"19px","padding-top":"3px","padding-bottom":"5px","padding-right":"50px","font-weight":"bold",color:"#6e6e6e"});var aT=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/reebokFlag-20140605.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aR=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/reebokShoe-20140605.png").attr("alt","Shoefitr Icon").css({"float":"right","padding-top":"2px"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aR).append(aW);var aV=av("<div/>").css({padding:"7px"}).append(aQ);var aS=av("<div/>").css({position:"relative","float":"left",height:"36px","border-radius":"5px",background:"#f2f2f2","max-width":"338px"}).append(aT).append(aV);aS.hover(function(){aQ.css("text-decoration","none");aS.css("background","#c9c8c8")},function(){aQ.css("text-decoration","none");aS.css("background","#f2f2f2")});aU.append(av("<div/>").css("clear","both")).append(aS).append(av("<div/>").css("clear","both"));return{jEntryPoint:aU,jClickPoint:aS,fOnInlineRecommendation:function(a3,aY,a1){var a2=Q.GetLocalizedSizeText(a3.oSizeObject);var aX=Q.LocalizedString(a3.sSizingScheme);var aZ;if(a3.bHasAlternate){var a0=Q.GetLocalizedSizeText(a3.oAlternateSizeObject);var a4=Q.LocalizedString(a3.sAlternateSizeDisplayConvention);aZ=a0+(a1?" "+aY:"")+" "+a4+" ("+a2+(a1?" "+aY:"")+" "+aX+")"}else{aZ=a2+(a1?" "+aY:"")+" "+aX}aW.css({"padding-left":"35px","padding-right":"50px"}).html("Your best fit is size<br/>"+aZ+".");aV.css({padding:"1px"});aR.css({"padding-top":"9px","padding-right":"4px"})}}};Q.InitializeRei=function(){return Q.InitializeWithCustomEntryPointFunction(aP)};var aP=function(a0){a0.empty();var aU=av("<span/>").html("Show me how it fits").css({"font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"12px","font-weight":"bold",color:"#333"});var aZ=av("<span/>").text("").css({"font-family":"Arial, sans-serif","font-size":"12px","line-height":"12px","font-weight":"bold",color:"#333"});var aY=av("<span/>").text("Get a size recommendation").css({"font-family":"Arial, sans-serif","font-size":"12px","line-height":"12px","font-weight":"normal",color:"#777777"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/reiShoe-20141024.png").attr("alt","Shoefitr Icon").css({"float":"right",border:"0",position:"relative",top:"4px"});var aW=av("<span/>").css({display:"block",padding:"0 75px 0 0"}).append(aU);var aV=av("<span/>").css({display:"block",padding:"0 75px 0 0"}).append(aZ).append(aY);var aX=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aS).append(aW).append(aV);var aR=av("<div/>").css({padding:"7px","font-size":"12px"}).append(aX);var aQ=av("<div/>").css({position:"relative","float":"left",border:"solid 1px #c8cbcf","border-radius":"5px",background:"#f8f8f8"});aQ.append(aR);aQ.hover(function(){aY.css("text-decoration","underline")},function(){aY.css("text-decoration","none")});var aT=av("<div/>").css({"padding-top":"16px"});aT.append(aQ);a0.append(av("<div/>").css("clear","both")).append(aT).append(av("<div/>").css("clear","both"));return{jEntryPoint:a0,jClickPoint:aQ,fOnInlineRecommendation:function(a7,a2,a5){var a6=Q.GetLocalizedSizeText(a7.oSizeObject);var a1=Q.LocalizedString(a7.sSizingScheme);var a3;if(a7.bHasAlternate){var a4=Q.GetLocalizedSizeText(a7.oAlternateSizeObject);var a8=Q.LocalizedString(a7.sAlternateSizeDisplayConvention);a3=a4+(a5?" "+a2:"")+" "+a8+" ("+a6+(a5?" "+a2:"")+" "+a1+")"}else{a3=a6+(a5?" "+a2:"")+" "+a1}aU.css({"font-weight":"normal"});aU.text("The best size for you is");aZ.text(a3+" ");aY.text("See details.")}}};Q.InitializeRunningWarehouse=function(){if(!Q.settings.bShowSizeGuide){var aU=Y.entryPoints;var aS=Q.PickEntryPoints(aU);var aT=Y.touchPoints||aU;var aQ=Q.PickTouchPoints(aT);V.each(aS,O);Q.RevealEntryPoints(aQ);return[]}else{var aR=av('#ordering table table select[name="pcode"]');aR.change(function(){var aW=aR.find(":selected").text();var aV=/Size +([^ ]+) +Width +([^ ]+) +.*/.exec(aW);setTimeout(function(){if(window.SizeGuide&&window.SizeGuide.NotifyHook){window.SizeGuide.NotifyHook("sizeSelected",{anchorElement:aR[0],size:aV?aV[1]:null,width:aV?aV[2]:null})}},0)});return Q.InitializeWithCustomEntryPointFunction(N)}};Q.InitializeRunningWarehousePopup=function(){return{horizontalAnchor:"left",horizontalAnchorPosition:"left",horizontalOffset:0,verticalAnchor:"bottom",verticalAnchorPosition:"top",verticalOffset:-3,render:function(aR,aQ){aR.html(Q.LocalizedString("This shoe doesn't run true to size. #(Get a size recommendation.)#",{},[['<a href="">',"</a>"]]));aR.find("a").click(aQ)}}};var O=function(aR){aR.empty();var aU=av("<span/>").html("Sorry, Shoefitr hasn't<br/>measured this shoe yet.").css({display:"block","font-family":"Arial, sans-serif","font-size":"12px","line-height":"12px","padding-left":"66px",color:"#393939",top:"0"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/runningWarehouseShoe-20141016.png").attr("alt","Shoefitr Icon").css({"float":"left"});var aQ=av("<span/>").append(aS).append(aU);var aT=av("<div/>").css({"float":"left",background:"white",padding:"4px","border-radius":"4px"}).append(aQ);aR.append(aT);return{jEntryPoint:aR,jClickPoint:aT}};var N=function(aR){aR.empty();var aV=av("<span/>").text("What size fits best?").css({display:"block","font-family":"Arial, sans-serif","font-size":"12px","line-height":"12px","padding-left":"66px","font-weight":"bold",color:"#393939",top:"0"});var aU=av("<span/>").text("Get a size recommendation.").css({display:"block","font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","padding-left":"66px","font-weight":"normal",color:"#6DB100",top:"0px"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/runningWarehouseShoe-20141016.png").attr("alt","Shoefitr Icon").css({"float":"left"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aS).append(aV).append(aU);var aT=av("<div/>").css({"float":"left",background:"white",padding:"4px","border-radius":"4px"}).append(aQ);aT.hover(function(){aU.css("text-decoration","underline")},function(){aU.css("text-decoration","none")});aR.append(aT);return{jEntryPoint:aR,jClickPoint:aT,fOnInlineRecommendation:function(a1,aX,aZ){var a0=Q.GetLocalizedSizeText(a1.oSizeObject);var aW=Q.LocalizedString(a1.sSizingScheme);var aY=a0+(aZ?" "+aX:"")+"  "+aW;aS.css({"padding-top":"5px"});aV.css("font-weight","normal").html('The best size for you is<br/><span style="font-weight: bold; top: 0px; padding: 0px;">'+aY+"</span>.");aU.text("See Details")}}};Q.InitializeSafetyGirl=function(){return Q.InitializeWithCustomEntryPointFunction(I)};var I=function(a0){a0.empty();var aU=av("<span/>").html("Show me how it fits").css({"font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"12px","font-weight":"bold",color:"#434343"});var aZ=av("<span/>").text("").css({"font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","font-weight":"bold",color:"#434343"});var aY=av("<span/>").text("Get a size recommendation").css({"font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","font-weight":"normal",color:"#777777"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/safetyGirlShoe-20141021.png").attr("alt","Shoefitr Icon").css({"float":"right",border:"0",position:"relative",top:"4px"});var aW=av("<span/>").css({display:"block",padding:"0 59px 0 0"}).append(aU);var aV=av("<span/>").css({display:"block",padding:"0 59px 0 0"}).append(aZ).append(aY);var aX=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aS).append(aW).append(aV);var aR=av("<div/>").css({padding:"7px"}).append(aX);var aQ=av("<div/>").css({position:"relative","float":"left",border:"solid 1px #bbbbbb","border-radius":"3px",background:"linear-gradient(#FFF,#F4F4F4)"});aQ.append(aR);aQ.hover(function(){aX.css("text-decoration","none");aY.css("text-decoration","underline");aQ.css("background","#f0f0f0")},function(){aX.css("text-decoration","none");aY.css("text-decoration","none");aQ.css("background","linear-gradient(#FFF,#F4F4F4)")});var aT=av("<div/>").css({"padding-top":"6px"});aT.append(aQ);a0.append(av("<div/>").css("clear","both")).append(aT).append(av("<div/>").css("clear","both"));return{jEntryPoint:a0,jClickPoint:aQ,fOnInlineRecommendation:function(a7,a2,a5){var a6=Q.GetLocalizedSizeText(a7.oSizeObject);var a1=Q.LocalizedString(a7.sSizingScheme);var a3;if(a7.bHasAlternate){var a4=Q.GetLocalizedSizeText(a7.oAlternateSizeObject);var a8=Q.LocalizedString(a7.sAlternateSizeDisplayConvention);a3=a4+(a5?" "+a2:"")+" "+a8+" ("+a6+(a5?" "+a2:"")+" "+a1+")"}else{a3=a6+(a5?" "+a2:"")+" "+a1}aU.css({"font-weight":"normal"});aU.text("The best size for you is");aZ.text(a3+" ");aY.text("See details.")}}};Q.InitializeSaucony=function(){var aQ=Q.urlImageRoot+"/entryPoints/saucony-20120226.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeShoebuy=function(){return Q.InitializeWithCustomEntryPointFunction(aJ)};var aJ=function(aS){aS.empty();var aU=av("<span/>").text("Find My Fit").css({display:"block","font-family":'"Droid Sans", Arial, sans-serif',"font-size":"18px","line-height":"20px",padding:"4px",color:"#222"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aU);var aT=av("<div/>").css({padding:"9px 60px 9px 11px"}).append(aQ);var aR=av("<div/>").css({position:"relative","float":"left",width:"220px",height:"56px",background:'url("'+Q.urlImageRoot+'/entryPoints/shoebuy-20141103.jpg") no-repeat'}).append(aT);aS.append(av("<div/>").css("clear","both")).append(aR).append(av("<div/>").css("clear","both"));return{jEntryPoint:aS,jClickPoint:aR,fOnInlineRecommendation:function(aZ,aV,aX){var aY=Q.GetLocalizedSizeText(aZ.oSizeObject);var aW=aY+(aX?" "+aV:"");aU.css({padding:"0","font-size":"12px","line-height":"14px"}).html('The best size for you<br />is <span style="font-weight: bold;">'+aW+'</span>. <span style="color: #666;">view details</span>')}}};Q.InitializeShoeMint=function(){return Q.InitializeWithCustomEntryPointFunction(j)};var j=function(aR){aR.empty();var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none","font-family":"'brandon-grotesque', Arial, sans-serif","font-size":"10px","font-weight":"bold",color:"#8a8a8a","line-height":"12px","text-transform":"uppercase","letter-spacing":"0.15em"}).append(av("<span/>").css({display:"block"}).text("Show me")).append(av("<span/>").css({display:"block","margin-left":"15px"}).text("how it fits!"));var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/shoemint-20131021.png").attr("alt","Shoefitr Icon").css({position:"absolute",top:"5px",left:"5px",width:"22px"});var aT=av("<div/>").css({position:"relative",padding:"3px 3px 2px 22px","float":"left",height:"30px"}).append(aS).append(aQ);aT.hover(function(){aQ.css("text-decoration","none");aQ.css("color","#464646")},function(){aQ.css("text-decoration","none");aQ.css("color","#8a8a8a")});aR.append(av('<div style="clear: both;"></div>')).append(aT).append(av('<div style="clear: both;"></div>'));return{jEntryPoint:aR,jClickPoint:aT}};Q.InitializeShoesForCrews=function(){return Q.InitializeWithCustomEntryPointFunction(ai)};var ai=function(aV){aV.empty();var aX=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"12px","padding-left":"28px","padding-top":"8px","padding-bottom":"5px","padding-right":"72px","font-weight":"bold",color:"#6e6e6e"});if((av.browser.msie)){aX.css({"padding-right":"71px"})}var aU=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/shoesForCrewsFlag-20140623.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aQ=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/shoesForCrewsShoe-20140623.png").attr("alt","Shoefitr Icon").css({"float":"right","padding-top":"2px",border:"0"});var aR=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aQ).append(aX);var aW=av("<div/>").css({"padding-top":"3px","padding-bottom":"7px","padding-left":"7px","padding-right":"7px"}).append(aR);if((av.browser.msie&&av.browser.version==7)){aW.css({"padding-top":"1px"})}var aT=av("<div/>").css({position:"relative",display:"inline-block",height:"34px",background:"#ffffff"});if((av.browser.msie&&av.browser.version==7)){aV.css({zoom:"1","*display":"inline","max-width":"212px"})}aT.append(aU).append(aW);aT.hover(function(){aR.css("text-decoration","none");aT.css("background","#ded9e2")},function(){aR.css("text-decoration","none");aT.css("background","#ffffff")});var aS=av("<div/>").css({"padding-top":"6px"});aS.append(aT);aV.append(av("<div/>").css("clear","both")).append(aS).append(av("<div/>").css("clear","both"));return{jEntryPoint:aV,jClickPoint:aT,fOnInlineRecommendation:function(a4,aZ,a2){var a3=Q.GetLocalizedSizeText(a4.oSizeObject);var aY=Q.LocalizedString(a4.sSizingScheme);var a0;if(a4.bHasAlternate){var a1=Q.GetLocalizedSizeText(a4.oAlternateSizeObject);var a5=Q.LocalizedString(a4.sAlternateSizeDisplayConvention);a0=a1+(a2?" "+aZ:"")+" "+a5+" ("+a3+(a2?" "+aZ:"")+" "+aY+")"}else{a0=a3+(a2?" "+aZ:"")+" "+aY}aX.css({"padding-top":"6px","padding-left":"45px","padding-right":"75px"}).html("Your best fit is size<br/>"+a0+".");aT.css({height:"36px"});aW.css({padding:"1px"});aQ.css({"padding-top":"4px","padding-right":"4px"})}}};Q.InitializeShoesForCrewsEuro=function(aQ,aR){return Q.InitializeWithCustomEntryPointFunction(ad(aQ,aR))};var ad=function(aQ,aR){return function(aX){aX.empty();var aZ=av("<span/>").text(aQ).css({display:"block","font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"12px","padding-left":"50px","padding-top":"11px","padding-bottom":"5px","padding-right":"52px","font-weight":"bold",color:"#6e6e6e","max-width":"220px"});var aW=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/shoesForCrewsFlag-20140623.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aS=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/shoesForCrewsShoe-20140623.png").attr("alt","Shoefitr Icon").css({"float":"right","padding-top":"4px",border:"0"});var aT=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aS).append(aZ);var aY=av("<div/>").css({"max-width":"265px"}).append(aT);var aV=av("<div/>").css({position:"relative",display:"inline-block",height:"32px",background:"#dee0dd","max-width":"288px"});aV.append(aW).append(aY);aV.hover(function(){aT.css("text-decoration","none");aV.css("background","#ded9e2")},function(){aT.css("text-decoration","none");aV.css("background","#dee0dd")});var aU=av("<div/>").css({"padding-top":"2px","padding-left":"12px"});aU.append(aV);aX.append(av("<div/>").css("clear","both")).append(aU).append(av("<div/>").css("clear","both"));return{jEntryPoint:aX,jClickPoint:aV,fOnInlineRecommendation:function(a6,a1,a4){var a5=Q.GetLocalizedSizeText(a6.oSizeObject);var a0=Q.LocalizedString(a6.sSizingScheme);var a2;if(a6.bHasAlternate){var a3=Q.GetLocalizedSizeText(a6.oAlternateSizeObject);var a7=Q.LocalizedString(a6.sAlternateSizeDisplayConvention);a2=a3+(a4?" "+a1:"")+" "+a7+" ("+a5+(a4?" "+a1:"")+" "+a0+")"}else{a2=a5+(a4?" "+a1:"")+" "+a0}aZ.css({"padding-top":"7px"}).html(aR+a2+".");aV.css({height:"36px"});aY.css({"max-width":"270px"});aS.css({"padding-top":"6px"})}}}};Q.InitializeSkoraEntryPoints=function(){return Q.InitializeWithCustomEntryPointFunction(g)};var g=function(aU){aU.empty();var aW=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"12px","padding-left":"28px","padding-top":"8px","padding-bottom":"5px","padding-right":"72px","font-weight":"bold",color:"#2d2d2d"});var aT=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/skoraFlag-20140619.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aQ=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/skoraShoe-20140619.png").attr("alt","Shoefitr Icon").css({"float":"right","padding-top":"2px",border:"0"});var aR=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aQ).append(aW);var aV=av("<div/>").css({"padding-top":"3px","padding-bottom":"7px","padding-left":"7px","padding-right":"7px"}).append(aR);if((av.browser.msie&&av.browser.version==7)){aV.css({"padding-top":"1px"})}var aS=av("<div/>").css({position:"relative",display:"inline-block",height:"36px",background:"#eeeeee"});if((av.browser.msie&&av.browser.version==7)){aU.css({zoom:"1","*display":"inline","max-width":"212px"})}aS.append(aT).append(aV);aS.hover(function(){aR.css("text-decoration","none");aS.css("background","#c9c8c8")},function(){aR.css("text-decoration","none");aS.css("background","#eeeeee")});aU.append(av("<div/>").css("clear","both")).append(aS).append(av("<div/>").css("clear","both"));return{jEntryPoint:aU,jClickPoint:aS,fOnInlineRecommendation:function(a3,aY,a1){var a2=Q.GetLocalizedSizeText(a3.oSizeObject);var aX=Q.LocalizedString(a3.sSizingScheme);var aZ;if(a3.bHasAlternate){var a0=Q.GetLocalizedSizeText(a3.oAlternateSizeObject);var a4=Q.LocalizedString(a3.sAlternateSizeDisplayConvention);aZ=a0+(a1?" "+aY:"")+" "+a4+" ("+a2+(a1?" "+aY:"")+" "+aX+")"}else{aZ=a2+(a1?" "+aY:"")+" "+aX}aW.css({"padding-top":"6px","padding-left":"39px","padding-right":"79px"}).html("Your best fit is size<br/>"+aZ+".");aS.css({height:"36px"});aV.css({padding:"1px"});aQ.css({"padding-top":"4px","padding-right":"4px"})}}};Q.InitializeSoccerloco=function(){return Q.InitializeWithCustomEntryPointFunction(a)};var a=function(aS){aS.empty();var aT=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/soccerloco-20141124.png").attr("alt","").css({display:"block","padding-top":"10px"});var aV=av("<span/>").text("").css({display:"block","padding-top":"2px","font-family":"Arial, sans-serif","font-size":"12px","line-height":"12px","font-weight":"bold",color:"#888"});var aQ=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aT).append(aV);var aU=av("<div/>").css({padding:"3px"}).append(aQ);var aR=av("<div/>").css({position:"relative","min-height":"33px","max-width":"338px"}).append(aU);aS.append(av("<div/>").css("clear","both")).append(aR).append(av("<div/>").css("clear","both"));return{jEntryPoint:aS,jClickPoint:aR,fOnInlineRecommendation:function(a1,aX,aZ){var a0=Q.GetLocalizedSizeText(a1.oSizeObject);var aW=Q.LocalizedString(a1.sSizingScheme);var aY=a0+(aZ?" "+aX:"")+" "+aW;aV.html(Q.LocalizedString("Size {SizeRec} will fit you best.",{SizeRec:aY}))}}};Q.InitializeSoccerPro=function(){var aQ=Q.urlImageRoot+"/entryPoints/soccerPro-20111125.png";var aR=Q.urlImageRoot+"/entryPoints/soccerPro_over-20111125.png";new Image().src=aR;return Q.InitializeWithCustomEntryPointFunction(function(aS){aS.attr("src",aQ);aS[0].onmouseover=function(){aS.attr("src",aR)};aS[0].onmouseout=function(){aS.attr("src",aQ)};return{jEntryPoint:aS,jClickPoint:aS}})};Q.InitializeSoccerSavings=function(){return Q.InitializeWithCustomEntryPointFunction(P)};var P=function(aV){aV.empty();var aX=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"12px","padding-left":"19px","padding-top":"8px","padding-bottom":"5px","padding-right":"65px","font-weight":"bold",color:"#565656"});var aU=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/soccerSavingsFlag-20140617.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aQ=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/soccerSavingsShoe-20140617.png").attr("alt","Shoefitr Icon").css({"float":"right","padding-top":"1px",border:"0px"});var aR=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aQ).append(aX);var aW=av("<div/>").css({"padding-top":"3px","padding-bottom":"7px","padding-left":"7px","padding-right":"7px"}).append(aR);if((av.browser.msie&&av.browser.version==7)){aW.css({"padding-top":"1px"})}var aT=av("<div/>").css({position:"relative",display:"inline-block",height:"32px","border-radius":"5px",background:"#e3e3e3"});if((av.browser.msie&&av.browser.version==7)){aV.css({zoom:"1","*display":"inline","max-width":"212px"})}aT.append(aU).append(aW);aT.hover(function(){aR.css("text-decoration","none");aT.css("background","#c9c8c8")},function(){aR.css("text-decoration","none");aT.css("background","#e3e3e3")});var aS=av("<div/>").css({"padding-bottom":"6px"});aS.append(aT);aV.append(av("<div/>").css("clear","both")).append(aS).append(av("<div/>").css("clear","both"));return{jEntryPoint:aV,jClickPoint:aT,fOnInlineRecommendation:function(a4,aZ,a2){var a3=Q.GetLocalizedSizeText(a4.oSizeObject);var aY=Q.LocalizedString(a4.sSizingScheme);var a0;if(a4.bHasAlternate){var a1=Q.GetLocalizedSizeText(a4.oAlternateSizeObject);var a5=Q.LocalizedString(a4.sAlternateSizeDisplayConvention);a0=a1+(a2?" "+aZ:"")+" "+a5+" ("+a3+(a2?" "+aZ:"")+" "+aY+")"}else{a0=a3+(a2?" "+aZ:"")+" "+aY}aX.css({"padding-top":"6px","padding-left":"34px","padding-right":"70px"}).html("Your best fit is size<br/>"+a0+".");aT.css({height:"36px"});aW.css({padding:"1px"});aQ.css({"padding-top":"7px","padding-right":"4px"})}}};Q.InitializeSportsAuthority=function(){var aQ=Q.urlImageRoot+"/entryPoints/sportsAuthority-20140707.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeSeSoccerEn=function(){var aQ=Q.urlImageRoot+"/entryPoints/SportsEndeavors-SOCCER-en.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeSeTfm=function(){var aQ=Q.urlImageRoot+"/entryPoints/SportsEndeavors-TFM.jpg";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeSeWss=function(){var aQ=Q.urlImageRoot+"/entryPoints/SportsEndeavors-WSS.jpg";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeSeWrs=function(){var aQ=Q.urlImageRoot+"/entryPoints/SportsEndeavors-WRS.jpg";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeSeLacrosse=function(){var aQ=Q.urlImageRoot+"/entryPoints/SportsEndeavors-LAX.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeSeWls=function(){var aQ=Q.urlImageRoot+"/entryPoints/SportsEndeavors-WLS.jpg";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeTheGolfWarehouseEntryPoints=function(){return Q.InitializeWithCustomEntryPointFunction(m)};var m=function(aV){aV.empty();var aX=av("<span/>").text("Show me how it fits!").css({display:"block","font-family":"Helvetica, Arial, sans-serif","text-align":"left","font-size":"12px","line-height":"12px","padding-left":"19px","padding-top":"8px","padding-bottom":"5px","padding-right":"65px","font-weight":"bold",color:"#565656"});var aU=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/TheGolfWarehouseFlag-20140616.png").attr("alt","").css({position:"absolute",left:"-1px",top:"-1px"});var aQ=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/TheGolfWarehouseShoe-20140616.png").attr("alt","Shoefitr Icon").css({"float":"right","padding-top":"1px",border:"0px"});var aR=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aQ).append(aX);var aW=av("<div/>").css({"padding-top":"3px","padding-bottom":"7px","padding-left":"7px","padding-right":"7px"}).append(aR);if((av.browser.msie&&av.browser.version==7)){aW.css({"padding-top":"1px"})}var aT=av("<div/>").css({position:"relative",display:"inline-block",height:"32px","border-radius":"5px",background:"#e3e3e3"});if((av.browser.msie&&av.browser.version==7)){aV.css({zoom:"1","*display":"inline","max-width":"212px"})}aT.append(aU).append(aW);aT.hover(function(){aR.css("text-decoration","none");aT.css("background","#c9c8c8")},function(){aR.css("text-decoration","none");aT.css("background","#e3e3e3")});var aS=av("<div/>").css({"padding-bottom":"6px"});aS.append(aT);aV.append(av("<div/>").css("clear","both")).append(aS).append(av("<div/>").css("clear","both"));return{jEntryPoint:aV,jClickPoint:aT,fOnInlineRecommendation:function(a4,aZ,a2){var a3=Q.GetLocalizedSizeText(a4.oSizeObject);var aY=Q.LocalizedString(a4.sSizingScheme);var a0;if(a4.bHasAlternate){var a1=Q.GetLocalizedSizeText(a4.oAlternateSizeObject);var a5=Q.LocalizedString(a4.sAlternateSizeDisplayConvention);a0=a1+(a2?" "+aZ:"")+" "+a5+" ("+a3+(a2?" "+aZ:"")+" "+aY+")"}else{a0=a3+(a2?" "+aZ:"")+" "+aY}aX.css({"padding-top":"6px","padding-left":"34px","padding-right":"70px"}).html("Your best fit is size<br/>"+a0+".");aT.css({height:"36px"});aW.css({padding:"1px"});aQ.css({"padding-top":"7px","padding-right":"4px"})}}};Q.InitializeToryBurch=function(){var aQ=Q.urlImageRoot+"/entryPoints/toryBurch-20140204.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeUnivers=function(){var aQ=Q.urlImageRoot+"/entryPoints/univers-20130118.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeVivoBarefootEntryPoints=function(aS,aV,aQ,aU){var aW=Y.entryPoints;var aR=Q.PickEntryPoints(aW);var aT=true;V.each(aR,function(aX){if(aX.hasClass("size-guide")){aT=false}});if(aT){return Q.InitializeWithCustomEntryPointFunction(u(aS,aV,aQ,aU))}else{return Q.InitializeWithOriginalEntryPoints()}};var u=function(aR,aT,aQ,aS){return function(aY){aY.empty();var a0=av("<span/>").html(aR).css({display:"block","font-family":"Ubuntu,Verdana,Helvetica Neue,Helvetica,Arial,sans-serif","text-align":"left","font-size":aQ+"px","line-height":"14px","padding-left":"28px","padding-top":"3px","padding-bottom":"5px","padding-right":"65px","font-weight":"bold",color:"#6a7c82"});if(av.browser.msie&&av.browser.version<=8){a0.css({"font-size":"11px"})}var aX=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/"+aS).attr("alt","").css({position:"absolute"});var aU=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/vivoBarefootShoe-20140819.png").attr("alt","Shoefitr Icon").css({"float":"right","padding-top":"4px",border:"0"});var aV=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aU).append(a0);var aZ=av("<div/>").css({"padding-top":"3px","padding-bottom":"7px","padding-left":"7px","padding-right":"7px"}).append(aV);var aW=av("<div/>").css({position:"relative",display:"inline-block",height:"40px",background:"#ededed","float":"right","border-radius":"5px"});aW.append(aX).append(aZ);aW.hover(function(){aV.css("text-decoration","none");aW.css("background","#d9d9d9")},function(){aV.css("text-decoration","none");aW.css("background","#ededed")});aY.append(aW);return{jEntryPoint:aY,jClickPoint:aW,fOnInlineRecommendation:function(a6,a2,a4){var a5=Q.GetLocalizedSizeText(a6.oSizeObject);var a1=Q.LocalizedString(a6.sSizingScheme);var a3=a5+(a4?" "+a2:"")+" "+a1;if(a1=="US Women"||a1=="UK Women"){a0.css({"font-size":"11px"})}else{if(a1=="US Men"||a1=="UK Men"){a0.css({"font-size":"12px"})}}a0.css({"padding-right":"45px","padding-left":"21px"}).html(aT+a3+".");aU.attr("src",Q.urlImageRoot+"/entryPoints/vivoBarefootShoeRec-20140819.png").css({"padding-top":"11px"})}}}};Q.InitializeWestMarine=function(){var aQ=Q.urlImageRoot+"/entryPoints/westMarine-20140430.png";return Q.InitializeWithCustomEntryPoint(aQ,aQ)};Q.InitializeZalando=function(){return Q.InitializeWithCustomEntryPointFunction(H)};var H=function(aS){aS.empty().css("display","none");var aR=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none","font-weight":"bold"}).text("Welche Größe passt mir?");var aQ=av("<div/>").css({background:"url('"+Q.urlImageRoot+"/entryPoints/zalando-20130813.png') left 0px no-repeat",height:"19px",padding:"7px 0px 7px 53px","float":"left"}).append(aR);var aT=av("<div/>").css({background:"url('"+Q.urlImageRoot+"/entryPoints/zalando-20130813.png') right 0px no-repeat",padding:"0px 7px 0px 0px","float":"left"}).append(aQ);aT.hover(function(){aR.css("text-decoration","none");aQ.css("background-position","left -33px");aT.css("background-position","right -33px")},function(){aR.css("text-decoration","none");aQ.css("background-position","left 0px");aT.css("background-position","right 0px")});aS.append(av('<div style="clear: both;"></div>')).append(aT).append(av('<div style="clear: both;"></div>'));return{jEntryPoint:aS,jClickPoint:aT,fOnInlineRecommendation:function(aY,aV,aW){var aX=Q.GetLocalizedSizeText(aY.oSizeObject);var aU=Q.LocalizedString(aY.sSizingScheme);aR.html("Shoefitr empfiehlt Größe "+aX+(aW?" "+aV:"")+" "+aU+".<br />Zeig mir wie es passt.");aR.css({"font-size":"11px","line-height":"11px",position:"relative",top:"-1px"})}}};Q.InitializeZara=function(aQ,aT,aR,aS){return Q.InitializeWithCustomEntryPointFunction(ao(aQ,aT,aR,aS))};var ao=function(aQ,aT,aR,aS){return function(a2){a2.empty();var aX=av("<span/>").html(aQ).css({display:"block","font-family":"arial, sans-serif","text-align":"left","text-transform":"none","font-size":"11px","line-height":"11px","padding-right":"109px",color:"#434343"});var a1=av("<span/>").html(aT).css({"font-family":"Arial, sans-serif","font-size":"11px","line-height":"11px","font-weight":"normal",color:"#434343"});var aY=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/zaraBlackWhiteShoe-20141111.png").attr("alt","Shoefitr Icon").css({position:"absolute",top:"0",right:"0","padding-top":"11px","padding-right":"2px",border:"0"});var aZ=av("<img/>").attr("src",Q.urlImageRoot+"/entryPoints/zaraColorShoe-20141111.png").attr("alt","Shoefitr Icon").css({position:"absolute",top:"0",right:"0","padding-top":"11px","padding-right":"2px",border:"0",opacity:"0"});var a0=av("<a/>").attr("href","javascript:void(0);").css({"text-decoration":"none"}).append(aY).append(aZ).append(aX).append(a1);var aV=av("<div/>").css({position:"relative","padding-top":"12px","padding-bottom":"12px"}).append(a0);if((av.browser.msie&&av.browser.version==7)){aV.css({"max-width":"205px"})}var aU=av("<div/>").css({position:"relative",display:"inline-block"});aU.append(aV);aU.hover(function(){a0.css("text-decoration","none");a1.css("text-decoration","underline");aZ.stop().fadeTo(300,1)},function(){a0.css("text-decoration","none");a1.css("text-decoration","none");aZ.stop().fadeTo(300,0)});var aW=av("<div/>").css({"padding-bottom":"20px"});aW.append(aU);a2.append(av("<div/>").css("clear","both")).append(aW).append(av("<div/>").css("clear","both"));return{jEntryPoint:a2,jClickPoint:aU,fOnInlineRecommendation:function(a7,a3,a5){var a6=Q.GetLocalizedSizeText(a7.oSizeObject);var a4=a6+(a5?" "+a3:"");aY.css({opacity:"0"});aZ.css({opacity:"100"});aU.hover(function(){a0.css("text-decoration","none");aZ.stop().fadeTo(300,1)},function(){a0.css("text-decoration","none");aZ.stop().fadeTo(300,1)});aX.css({"padding-right":"80px"}).html(Q.LocalizedString(aR,{SizeRec:a4}));a1.html(aS)}}}};Q.BindApplication=(function(){var aQ=Q.state;return function(aS,a4,aT,a3){if(Q.settings.bEnableNewFlow){var a1=aS;a1.removeClass("sfHide");var a0=Q.createCookieStorage("sf_save_data");var aV=function(a9){return a0.Get("newflow-"+a9)};var a7=function(ba,a9){a0.Set("newflow-"+ba,a9)};var a8=new ak(au.oTargetModel,au,Q.settings,a7,aT,a3);a8.TryLoadSavedInputs(aV);aQ.registerEventCallback(["open"],function(a9){a8.setVisibility(a9)},false);Q.BindNewFlowApplication(a8,a1);return}var aY=Q.BindInterruptingRec(a4);var aW=aS.find(".sfShoeVsShoe");var aZ=null;var aR=Q.createCookieStorage("sf_save_data");var a2=function(a9){return aR.Get(a9)};var aU=function(bd){var bc=aS.find(".sfMinimalInput");bc.toggleClass("sfHide",!bd);if(aR.Get("sInputUniverseDisplayKey")&&bd){SFUtil.DeleteCookie("sf_save_data")}if(aR.HasPrefixedData("mi-")||aR.HasPrefixedData("newflow-")){SFUtil.DeleteCookie("sf_save_data")}var a9=function(bf,be){if(!bd){SFUtil.DeleteCookie("sf_save_data")}aR.Set(bf,be)};var bb=null;if(!bd){bb=function(){aQ.Clear("search-brand");aQ.Set("show","title")}}var ba=new ac(au.oTargetModel,au,Q.settings,aQ,a9,aT,a3,aY,bb);Q.BindMinimalInputApplication(ba,bc);if(!bd){Q.BindFallbackMinimalInput(aW,bc)}return ba};if(Q.settings.bEnableMinimalInputOnly){aZ=aU(true);aZ.TryLoadSavedInputs(a2);return}if(!Q.settings.bShowSizeGuide){Q.state.Clear("target-model")}Q.state.OnStateChanged("recommendation-data",function(a9){if(V.isUndefined(a9)){Q.state.Clear("recommendation-metrics-data");Q.state.Clear("recommendation")}else{Q.state.Set("recommendation-metrics-data",a9[1]);Q.state.Set("recommendation",a9[0])}});Q.state.OnStateChanged("avg-recommendation-data",function(a9){if(V.isUndefined(a9)){Q.state.Clear("avg-recommendation-metrics-data");Q.state.Clear("avg-recommendation")}else{Q.state.Set("avg-recommendation-metrics-data",a9[1]);Q.state.Set("avg-recommendation",a9[0])}});aW.removeClass("sfHide");if(Q.settings.bEnableSvS2_2){aW.addClass("sfNewSvS");aW.find("#sf-flow-header").addClass("sfHide");var aX=av('<div class="sfHeader"></div>');aW.find("#sf-box").prepend(aX);Q.BindSvSHeader(aX,aT);Q.BindRecLoadingPane(aW);Q.BindSvSRecScreen(aW,aT);aZ=aU(false)}else{Q.BindRecPane(aW,aT);Q.BindHeader(aW);Q.BindBackButton(aW);Q.BindClose(aW,aT);Q.BindAvgBiasPane(aW);Q.BindAvgSizeErrorPane(aW,aT);Q.BindAvgRecPane(aW,aT);Q.BindFilterSearchPane(aW)}Q.BindErrorPane(aW,aT);Q.BindTitlePane(aW);Q.BindTextSearchPane(aW);Q.BindSameErrorPane(aW);Q.BindShoeErrorPane(aW);Q.BindSizePane(aW);Q.BindSizeBiasPane(aW);Q.BindSizeErrorPane(aW,aT);Q.BindFeedback(aW);Q.BindPrivacy(aW.find("#sf-privacy-policy"),Q.settings.bEnableNordstromPrivacyPolicy);Q.BindTransitions(aW);Q.BindInlineRecommendations(aQ,a3);aQ.OnStatesChanged(["open"],function(){var a9=aQ.Get("open");if(a9){aY.onAppShown()}});aQ.OnStatesChanged(["recommendation","avg-recommendation","open"],function(){var bb=aQ.Get("recommendation");var a9=aQ.Get("avg-recommendation");var ba=aQ.Get("open");if(ba&&((bb&&bb!=="loading")||(a9&&a9!=="loading"))){aY.onRecShown()}});aQ.OnStateChanged("recommendation",function(bc){if(!V.isUndefined(bc)&&bc!=="loading"){var a9=G.ExtractSizeData(bc,au.sRecommendationSizeDisplayConvention);var bb=V.find(a9,function(bd){return bd.nNativeSize===bc.RecommendedSize});var ba=bc.RecommendedWidth;aQ.Set("recommended-size",bb);aQ.Set("recommended-width",ba)}});if(au.oTargetModel){aQ.Set("gender",au.sGenderBinary)}Q.Reset();var a6=false;var a5=null;if(au.bModelScanned){if(Q.LoadSavedModelInputs(aQ)){Q.RecordMetric("CurrentModelLoadedFromCookies",{mdl_id:aQ.Get("input-model").ModelId,size:aQ.Get("input-size").nNativeSize,sizeFitOffset:aQ.Get("input-size-fit-offset"),width:aQ.Get("input-width")});Q.GetRecommendation(aQ);a6=true;a5=aQ.Get("input-model")}else{if(Q.settings.bEnableSvS2_2&&aZ.TryLoadSavedInputs(a2)){Q.state.Set("show","fallback-minimal-input")}else{if(Q.LoadSavedAverageInputs(aQ)){Q.RecordMetric("CurrentAverageLoadedFromCookies",{sizingScheme:aQ.Get("avg-input-scheme"),currentSize:aQ.Get("avg-input-size").nNativeSize,currentSizeFitOffset:aQ.Get("avg-input-size-fit-offset"),gender:aQ.Get("gender")});Q.GetAverageRecommendation(aQ)}}}}aQ.OnStatesChanged(["open","input-model"],function(){var a9=aQ.Get("open");var ba=aQ.Get("input-model");if(ba!==a5){a6=false}if(Q.settings.bEnableNordstromExtendedReporting){if(a9&&a6){Q.ReportEvent("SavedModelSelected")}}});aQ.registerEventCallback(["open","recommendation"],function(bb,bf){if(bf==="loading"){return}var ba={};var a9=G.ExtractSizeData(bf,au.sRecommendationSizeDisplayConvention);var bd=V.find(a9,function(bg){return bg.nNativeSize===bf.RecommendedSize});var bc=bf.RecommendedWidth;if(bb){if(Q.settings.bEnableNordstromExtendedReporting){ba={size:Q.GetLocalizedSizeText(bd.oSizeObject)+" "+Q.LocalizedString(bd.sSizingScheme),width:bc}}if(Q.settings.bEnableZalandoExtendedReporting){ba={size:bd.oSizeObject[1],width:bc}}var be=aQ.Get("recommendation-metrics-data");Q.RecordMetric("RecommendationReceived",be);Q.ReportEvent("RecommendationReceived",ba)}},false);aQ.registerEventCallback(["open","avg-recommendation"],function(bb,bf){if(bf==="loading"){return}var ba={};var a9=G.ExtractSizeData(bf,au.sRecommendationSizeDisplayConvention);var bd=V.find(a9,function(bg){return bg.nNativeSize===bf.RecommendedSize});var bc=bf.RecommendedWidth;if(bb){if(Q.settings.bEnableNordstromExtendedReporting){ba={size:Q.GetLocalizedSizeText(bd.oSizeObject)+" "+Q.LocalizedString(bd.sSizingScheme),width:bc}}if(Q.settings.bEnableZalandoExtendedReporting){ba={size:bd.oSizeObject[1],width:bc}}var be=aQ.Get("avg-recommendation-metrics-data");Q.RecordMetric("AverageRecommendationReceived",be);Q.ReportEvent("RecommendationReceived",ba)}},false)}})();Q.BindAvgBiasPane=(function(){var aQ=Q.state;return function(aT){var aW=aT.find("#sf-avg-bias");var aX=aW.find(".sf-heading");var aR=aW.find(".sf-subheading");var aV=aW.find(".sf-button-1");var aU=aW.find(".sf-button-2");var aS=aW.find(".sf-button-3");aQ.registerEventCallback(["avg-input-size"],function(aY){var aZ=Q.GetLocalizedSizeText(aY.oSizeObject);aX.html(Q.LocalizedString("Shoe sizes often vary."));aR.html(Q.LocalizedString("When you don't wear {Size}, what size are you?",{Size:aZ}));aV.html(Q.LocalizedString("Sometimes smaller than {Size}",{Size:aZ}));aU.html(Q.LocalizedString("Sometimes larger than {Size}",{Size:aZ}));aS.html(Q.LocalizedString("Almost always {Size}",{Size:aZ}))},false);aV.click(function(){aQ.Set("avg-input-size-fit-offset",1);Q.GetAverageRecommendation(aQ);Q.RecordMetric("AverageOffsetButtonClicked",{offset:"1",label:"smaller"});return false});aU.click(function(){aQ.Set("avg-input-size-fit-offset",-1);Q.GetAverageRecommendation(aQ);Q.RecordMetric("AverageOffsetButtonClicked",{offset:"-1",label:"larger"});return false});aS.click(function(){aQ.Set("avg-input-size-fit-offset",0);Q.GetAverageRecommendation(aQ);Q.RecordMetric("AverageOffsetButtonClicked",{offset:"0",label:"neutral"});return false})}})();Q.BindAvgRecPane=(function(){var aV=Q.state,aS,aR,aU,aT,aQ;aS=function(aZ,aY,aX,aW,a0){aR(aZ,aY,aX,aW,function(a1){return{fOnBind:function(){a0(a1)}}})};aR=function(a2,aZ,aY,aX,a1){var a0=a2.find(".sf-viz-choice-"+aZ);var aW=a2.find(".sf-viz-pane-"+aZ);if(a0.length===0||aW.length===0){throw new Error("invalid visualization index: "+aZ)}var a3=a1(aW);a0.click(function(){aV.Set("avg-viz-index",aZ);Q.RecordMetric("AverageVizChanged",{viz:aY});return false});aV.OnStatesChanged(["avg-viz-index","show","avg-recommendation","open"],function(){var a6=aV.Get("avg-viz-index");var a5=aV.Get("show");var a7=aV.Get("avg-recommendation");var a4=aV.Get("open");aW.toggle(a6===aZ);a0.toggleClass("selected",a6===aZ);if(a4&&a6===aZ&&a5==="avg-rec"&&a7&&a7!=="loading"){if(a3.fOnShow&&V.isFunction(a3.fOnShow)){a3.fOnShow()}}else{if(a3.fOnHide&&V.isFunction(a3.fOnHide)){a3.fOnHide()}}});a0.html(aX);aW.empty();a3.fOnBind();a0.show()};aT=function(aZ,aX,a0,aW,aY){if(aX===a0){if(aZ<=-13/12){return Q.LocalizedString("The #({Model})# runs smaller than most.",aW,aY)}else{if(-13/12<aZ&&aZ<=-11/12){return Q.LocalizedString("The #({Model})# runs a whole size smaller than most.",aW,aY)}else{if(-11/12<aZ&&aZ<=-7/12){return Q.LocalizedString("The #({Model})# runs smaller than most.",aW,aY)}else{if(-7/12<aZ&&aZ<=-5/12){return Q.LocalizedString("The #({Model})# runs a half-size smaller than most.",aW,aY)}else{if(-5/12<aZ&&aZ<=-1/12){return Q.LocalizedString("The #({Model})# runs a little smaller than most.",aW,aY)}else{if(-1/12<aZ&&aZ<1/12){return Q.LocalizedString("The #({Model})# runs true to size.",aW,aY)}else{if(1/12<=aZ&&aZ<5/12){return Q.LocalizedString("The #({Model})# runs a little larger than most.",aW,aY)}else{if(5/12<=aZ&&aZ<7/12){return Q.LocalizedString("The #({Model})# runs a half-size larger than most.",aW,aY)}else{if(7/12<=aZ&&aZ<11/12){return Q.LocalizedString("The #({Model})# runs larger than most.",aW,aY)}else{if(11/12<=aZ&&aZ<13/12){return Q.LocalizedString("The #({Model})# runs a whole size larger than most.",aW,aY)}else{if(13/12<=aZ){return Q.LocalizedString("The #({Model})# runs larger than most.",aW,aY)}}}}}}}}}}}}aW.TargetSizingScheme=a0;return Q.LocalizedString("The #({Model})# comes in {TargetSizingScheme} sizes.",aW,aY)};aQ=function(aZ,aW,aY,a0,aX){if(aY===a0){if(aW===0){return Q.LocalizedString("We recommend you stick with size {RecommendedSize} in this shoe.",aX)}else{if(aZ===0||Math.sign(aZ)===Math.sign(aW)){return Q.LocalizedString("Even though you're usually size {InputSize}, we recommend you get size {RecommendedSize} in this shoe.",aX)}else{return Q.LocalizedString("We recommend you get size {RecommendedSize} in this shoe.",aX)}}}else{aX.InputSizingScheme=aY;aX.TargetSizingScheme=a0;return Q.LocalizedString("Since you usually wear a size {InputSize} ({InputSizingScheme}), we recommend you get size {RecommendedSize} ({TargetSizingScheme}).",aX)}};aU=function(aY,aX,aW,a2,a4,a3,a0,a1){var a5=aT(a4,aW.sSizingScheme,a0.sSizingScheme,{Brand:a1.BrandName,Model:a1.ModelDisplayName},[['<span class="model-name">',"</span>"]]);var aZ=aQ(a2,a3,aW.sSizingScheme,a0.sSizingScheme,{InputSize:Q.GetLocalizedSizeText(aW.oSizeObject),RecommendedSize:Q.GetLocalizedSizeText(a0.oSizeObject)});aY.html(a5);aX.html(aZ)};return function(aY,aW){var a6=aY.find("#sf-avg-rec");var a5=a6.find(".sf-rec-ok-close-button");a5.html(Q.LocalizedString("Okay, done."));a5.hide();if(aW&&V.isFunction(aW)){a5.click(function(){Q.RecordMetric("OkCloseClicked");aW();return false});a5.show()}var a2=a6.find(".sf-rec-side-brand");var a7=a6.find(".sf-rec-side-model");var a0=a6.find(".sf-rec-side-tag");var aZ=a0.find("p.tag-title");var a4=a0.find("p.tag-caption");var aX=a0.find("p.tag-size");var a8=a0.find("p.tag-scheme");var a1=a6.find(".sf-rec-side-box img");aZ.html(Q.LocalizedString("Shoefitr<br />Recommends"));a4.html(Q.LocalizedString("Size"));var a3=a6.find(".sf-rec-loading");a3.find(".sf-message").html(Q.LocalizedString("Building Recommendation"));aV.OnStateChanged("target-model",function(a9){if(!V.isUndefined(a9)){a1.attr("src",Q.urlImageRoot+"/blank.png");if(a9.Image6Url){a1.attr("src",a9.Image6Url)}}});aV.OnStateChanged("target-model",function(a9){if(!V.isUndefined(a9)){a2.text(a9.BrandName);a7.text(a9.ModelDisplayName)}});aV.OnStateChanged("avg-recommendation",function(a9){if(a9==="loading"){a0.hide();a1.hide();a3.show()}else{if(!V.isUndefined(a9)){a3.hide();a1.show();a0.show()}}});aV.registerEventCallback(["avg-recommended-size"],function(bb){var ba=bb.oSizeObject;var a9=bb.oAlternateSizeObject;aX.html(G.GetSizeString(ba[1]));aX.toggleClass("shrink1",aX.text().length>2&&aX.text().length<4);aX.toggleClass("shrink2",aX.text().length>=4);if(bb.bHasAlternate){aX.attr("title",Q.GetLocalizedSizeText(ba)+(ba[2]?", ":" ")+Q.LocalizedString(bb.sSizingScheme)+"\n"+Q.GetLocalizedSizeText(a9)+(a9[2]?", ":" ")+Q.LocalizedString(bb.sAlternateSizingScheme))}a8.text(Q.LocalizedString(ba[2]?ba[2]:bb.sSizingScheme))},false);aV.registerEventCallback(["avg-recommendation"],function(bc){if(bc!=="loading"){var a9=G.ExtractSizeData(bc,au.sRecommendationSizeDisplayConvention);var bb=V.find(a9,function(bd){return bd.nNativeSize===bc.RecommendedSize});var ba=bc.RecommendedWidth;aV.Set("avg-recommended-size",bb);aV.Set("avg-recommended-width",ba)}},false);aS(a6,1,"Summary","Summary",function(bc){var be=av("<img/>");var bf=av('<p class="brand-name"></p>');var bb=av('<p class="model-name"></p>');av('<div class="sf-image-wrapper"></div>').append(be).append(av('<div class="sf-image-caption-wrapper"></div>').append(bf).append(bb)).appendTo(bc);var ba=av("<p/>");var a9=av("<p/>");av('<div class="sf-summary-wrapper"></div>').append(ba).append(a9).appendTo(bc);bc.append(av('<div style="clear: both;"></div>'));var bd=av('<p class="sf-scan-count"></p>').appendTo(bc);aV.OnStateChanged("target-model",function(bg){if(!V.isUndefined(bg)){be.attr("src",Q.urlImageRoot+"/blank.png");if(bg.Image5Url){be.attr("src",bg.Image5Url)}bf.text(bg.BrandName);bb.text(bg.ModelDisplayName)}});aV.registerEventCallback(["avg-recommendation","avg-input-size","avg-input-size-fit-offset","target-model","avg-recommended-size"],function(bl,bh,bj,bg,bi){if(bl!=="loading"){var bk=Math.floor((bl.ModelsCounted-2)/10)*10;aU(ba,a9,bh,bj,bl.TargetModelSizeDelta,bl.RecommendationSizeDelta,bi,bg);bd.html(Q.LocalizedString("We've measured this shoe and over {N} similiar shoes.",{N:Q.LocalizedNumber(aH(bk))}))}},false)});aV.Set("avg-viz-index",1)}})();function aH(aU){aU+="";var aQ=aU.split(".");var aT=aQ[0];var aR=aQ.length>1?"."+aQ[1]:"";var aS=/(\d+)(\d{3})/;while(aS.test(aT)){aT=aT.replace(aS,"$1,$2")}return aT+aR}Q.BindAvgSizeErrorPane=(function(){var aQ=Q.state;return function(aU,aR){var aV=aU.find("#sf-avg-size-scanned-error");aV.find(".sf-error-heading").html(Q.LocalizedString("Sorry!"));var aT=aV.find(".sf-error-caption");var aS=aV.find(".sf-error-close");aS.html(Q.LocalizedString("Close"));aS.click(function(){if(aR&&V.isFunction(aR)){aR()}return false});aQ.OnStateChanged("target-model",function(aW){if(!V.isUndefined(aW)){aT.html(Q.LocalizedString("We haven't measured the {Brand} {Model} in your size.",{Brand:aW.BrandName,Model:aW.ModelDisplayName}))}})}})();Q.BindBackButton=(function(){var aS=Q.state;var aR=["size","same-shoe-warning","shoe-not-scanned"];var aQ={rec:{destinationState:"size-bias",statesToClear:["input-size-fit-offset","recommendation-data"],eventsToFlush:[Q.recommendationEventFence]},"size-not-scanned":{destinationState:"size-bias",statesToClear:["input-size-fit-offset"],eventsToFlush:[Q.recommendationEventFence]},"size-bias":{destinationState:"size",statesToClear:["input-size","input-width"]},"avg-rec":{destinationState:"avg-bias",statesToClear:["avg-input-size-fit-offset","avg-recommendation-data"],eventsToFlush:[Q.recommendationEventFence]},"avg-size-not-scanned":{destinationState:"avg-bias",statesToClear:["avg-input-size-fit-offset"],eventsToFlush:[Q.recommendationEventFence]},"avg-bias":{destinationState:"shoe-not-scanned",statesToClear:["avg-input-size"]},"text-search":{destinationState:"title",statesToClear:["search-brand","input-model","search-brand-name","search-model-name"]},"filter-search":{destinationState:"title",statesToClear:["search-brand","input-model","search-tag","search-colors","search-styles","search-materials","search-patterns","search-accents","search-soccer-surface"],eventsToFlush:[Q.searchEventFence]},size:{destinationState:null,statesToClear:[]},"same-shoe-warning":{destinationState:null,statesToClear:[]},"shoe-not-scanned":{destinationState:null,statesToClear:[]}};return function(aU){var aT=aU.find("div.sf-back-button");aT.find("span").html(Q.LocalizedString("Go Back"));aT.click(function(){var aW=aS.Get("show");if(V.has(aQ,aW)&&!V.isUndefined(aQ[aW])){var aV=aQ[aW];V.each(aV.statesToClear,function(aX){if(aX!=="search-brand"||!Q.settings.bDisableBrandSelection){Q.ClearState(aX)}});if(aV.eventsToFlush){V.each(aV.eventsToFlush,function(aX){aX.flushAll()})}Q.RecordMetric("BackClicked",{from:aS.Get("show"),to:aV.destinationState});if(aV.destinationState!==null){aS.Set("show",aV.destinationState)}}});aS.OnStateChanged("show",function(aV){if(aV==="filter-search"||aV==="text-search"){for(var aW=0;aW<aR.length;aW++){var aX=aR[aW];if(V.has(aQ,aX)){aQ[aX].destinationState=aV}}}if(!aQ[aV]||!aQ[aV].destinationState){aT.hide()}else{aT.show()}})}})();Q.BindClose=(function(){return function(aR,aQ){if(aQ&&V.isFunction(aQ)){aR.find("#sf-close").click(function(){aQ();return false})}}})();Q.BindErrorPane=(function(){return function(aR,aQ){var aS=aR.find("#sf-restart-button");aR.find("#sf-error-heading").html(Q.LocalizedString("Sorry!"));aR.find("#sf-error-caption").html(Q.LocalizedString("We haven't measured this shoe yet."));aS.html(Q.LocalizedString("Close"));if(aQ&&V.isFunction(aQ)){aS.click(function(){aQ();return false})}else{aS.hide()}}})();Q.BindFallbackMinimalInput=(function(){var aQ=Q.state;return function(aS,aR){aQ.OnStateChanged("show",function(aU){var aT=aU==="fallback-minimal-input";aR.toggleClass("sfHide",!aT);aS.toggleClass("sfHide",aT)})}})();Q.BindFeedback=(function(){var aQ=Q.state;return function(aS){var aR=createDelayedFeedbackViewModel(!Q.settings.bDisableEmailCollection,function(aT){Q.RecordMetric("FeedbackClicked",{helpful:aT})},function(aT){Q.RecordMetric("FeedbackWritten",{message:aT})},function(aT){Q.RecordMetric("FeedbackEmailGiven",{email:aT})},5000,2000);aQ.OnStateChanged("show",function(aT){if(aT==="rec"||aT==="avg-rec"){aR.start()}else{aR.reset()}});createDelayedFeedbackView(aS.find("#sf-rec-feedback"),aR,Q.LocalizedString)}}());Q.BindFilterSearchPane=(function(){var aQ=Q.state;aQ.OnStateChanged("gender",function(aR){aQ.Set("search-gender",aR)});aQ.OnStateChanged("search-gender",function(aR){if(aR){aQ.Set("gender",aR)}});return function(aS){var aR=aS.find("#sf-filter-search");var aV=aS.find("#sf-filter-search .results-empty");var aW=aS.find("#sf-filter-search .results-waiting");var aU=aS.find("#sf-filter-reset-link");aV.html(Q.LocalizedString("Sorry, we couldn't find any shoes like that."));aW.html(Q.LocalizedString("Select at least one additional filter to narrow your search."));aU.html(Q.LocalizedString("Reset Filters"));Q.BindSearchResults(aQ,"filter-search-results",true,aR,true);aU.click(function(){if(!Q.settings.bDisableBrandSelection){Q.ClearState("search-brand")}var aY=["search-styles","search-materials","search-patterns","search-accents","search-tag","search-colors","search-filter-index","search-soccer-surface"];V.each(aY,function(a0,aZ,a1){Q.ClearState(a0)});return false});function aX(aY){return V.contains(au.asAllowableFilters,aY)}if(aX("Gender")){if(!Q.settings.sForcedGenderBinary){ab(aS,1,Q.LocalizedString("Gender"),aQ,"search-gender",false,[{value:"M",caption:Q.LocalizedString("Male")},{value:"F",caption:Q.LocalizedString("Female")}])}}if(Q.settings.bDisableBrandSelection){aQ.Set("search-brand",au.aBrands[0])}if(aX("Brand")){var aT=V.chain(au.aBrands).sortBy(function(aY){return aY.BrandName}).map(function(aY){return{value:aY,caption:aY.BrandName}}).value();ab(aS,2,Q.LocalizedString("Brand"),aQ,"search-brand",false,aT,Q.settings.bDisableBrandSelection)}if(aX("Style")){ab(aS,3,Q.LocalizedString("Style"),aQ,"search-styles",true,[{value:"flat",caption:Q.LocalizedString("flat")},{value:"pump",caption:Q.LocalizedString("pump")},{value:"sandal",caption:Q.LocalizedString("sandal")},{value:"wedge",caption:Q.LocalizedString("wedge")},{value:"t-strap",caption:Q.LocalizedString("t-strap")},{value:"mary jane",caption:Q.LocalizedString("mary jane")},{value:"peep toe/open toe",caption:Q.LocalizedString("peep toe/open toe")},{value:"closed toe",caption:Q.LocalizedString("closed toe")},{value:"pointed toe",caption:Q.LocalizedString("pointed toe")},{value:"sling back",caption:Q.LocalizedString("sling back")},{value:"platform",caption:Q.LocalizedString("platform")},{value:"ankle boot",caption:Q.LocalizedString("ankle boot")},{value:"kitten heel",caption:Q.LocalizedString("kitten heel")},{value:"ankle strap",caption:Q.LocalizedString("ankle strap")},{value:"lace-up",caption:Q.LocalizedString("lace-up")}])}if(aX("Material")){ab(aS,4,Q.LocalizedString("Material"),aQ,"search-materials",true,[{value:"leather",caption:Q.LocalizedString("leather")},{value:"patent leather",caption:Q.LocalizedString("patent leather")},{value:"suede",caption:Q.LocalizedString("suede")},{value:"synthetic",caption:Q.LocalizedString("synthetic")},{value:"satin",caption:Q.LocalizedString("satin")},{value:"fabric/canvas/denim",caption:Q.LocalizedString("fabric/canvas/denim")},{value:"rubber",caption:Q.LocalizedString("rubber")},{value:"animal fur/animal skin",caption:Q.LocalizedString("animal fur/animal skin")},{value:"mesh",caption:Q.LocalizedString("mesh")},{value:"cork/wood",caption:Q.LocalizedString("cork/wood")},{value:"metal",caption:Q.LocalizedString("metal")}])}if(aX("Pattern")){ab(aS,5,Q.LocalizedString("Pattern"),aQ,"search-patterns",true,[{value:"metallic",caption:Q.LocalizedString("metallic")},{value:"animal print/animal skin",caption:Q.LocalizedString("animal print/animal skin")},{value:"floral print",caption:Q.LocalizedString("floral print")},{value:"stripes",caption:Q.LocalizedString("stripes")},{value:"polka dots",caption:Q.LocalizedString("polka dots")},{value:"diamonds/criss-cross",caption:Q.LocalizedString("diamonds/criss-cross")},{value:"mesh/perforated",caption:Q.LocalizedString("mesh/perforated")}])}if(aX("Accents")){ab(aS,6,Q.LocalizedString("Accents"),aQ,"search-accents",true,[{value:"bow",caption:Q.LocalizedString("bow")},{value:"buckle",caption:Q.LocalizedString("buckle")},{value:"button",caption:Q.LocalizedString("button")},{value:"braiding",caption:Q.LocalizedString("braiding")},{value:"pleats",caption:Q.LocalizedString("pleats")},{value:"cut-outs",caption:Q.LocalizedString("cut-outs")},{value:"bedazzled/glittered/studded",caption:Q.LocalizedString("glittered/studded")},{value:"contrast stitching",caption:Q.LocalizedString("contrast stitching")},{value:"flowers",caption:Q.LocalizedString("flowers")},{value:"ruffles",caption:Q.LocalizedString("ruffles")},{value:"zipper",caption:Q.LocalizedString("zipper")},{value:"ribbon",caption:Q.LocalizedString("ribbon")},{value:"laces",caption:Q.LocalizedString("laces")},{value:"tassels",caption:Q.LocalizedString("tassels")},{value:"mesh/perforated",caption:Q.LocalizedString("mesh/perforated")}])}if(aX("Surface")){ab(aS,7,Q.LocalizedString("Surface"),aQ,"search-soccer-surface",false,[{value:"firm ground",caption:Q.LocalizedString("Firm Ground (normal)")},{value:"soft ground",caption:Q.LocalizedString("Soft Ground")},{value:"hard ground/artificial ground",caption:Q.LocalizedString("Hard Ground / Artificial")},{value:"indoor/futsal",caption:Q.LocalizedString("Indoor / Futsal")}])}if(aX("Tag")){ax(aS,8,aQ,"search-tag",Q.LocalizedString("Tag Code"),function(a5,a8,a9,a3){var a7,ba,a0,aY,a6,a4,a2,a1;a5.html(Q.LocalizedString("Tag Code"));aY=av('<img id="sf-sample-tag" />');a6=av('<input id="sf-tag-input" type="text" />');a4=av("<div/>").addClass("sf-button").html(Q.LocalizedString("Search"));a2=av("<a/>").html(Q.LocalizedString("Clear"));a7=av("<div/>").append(av("<p/>").html(Q.LocalizedString("What code is on the tag?"))).append(av("<div/>").append(a6).append(a4).append(a2)).append(av('<div id="sf-sample-tag-box"></div>').append('<img id="sf-sample-tag-shoe" src="'+Q.urlImageRoot+'/tag_shoe.png" />').append(aY)).append(av("<div/>").css("clear","both"));ba=av("<div/>").append(av("<p/>").html(Q.LocalizedString("Please pick a brand first.")));a0=av("<div/>");a9.addClass("tag-search").append(a7).append(ba).append(a0);a1=new Watermark(a6.get(0),Q.LocalizedString("Type Tag Code"),{blur_color:"#999",focus_color:"#333"});function aZ(){aQ.Set("search-tag",a1.GetValue());a3()}a6.get(0).onkeypress=SFUtil.OnKey({13:aZ});a4.click(function(){aZ();return false});a2.click(function(){Q.ClearState("search-tag");a3();return false});aQ.OnStateChanged("search-brand",function(bc){var bb=!V.isUndefined(bc);var bd=bb&&!!bc.TagThumbnailUri;a7.toggle(bb&&bd);ba.toggle(!bb);a0.toggle(bb&&!bd);if(bb){aY.attr("src",bc.TagThumbnailUri);aY.attr("title",Q.LocalizedString("Sample {Brand} Tag",{Brand:bc.BrandName}));a0.html("<p>"+Q.LocalizedString("Sorry, {Brand} shoes don't have tags.",{Brand:bc.BrandName})+"</p><p>"+Q.LocalizedString("Try using other filters.")+"</p>");Q.ClearState("search-tag")}else{aY.attr("src","");aY.attr("title","")}});aQ.OnStateChanged("search-tag",function(bb){a8.text(bb||"");a1.SetValue(bb||"")})})}if(aX("Color")){ax(aS,9,aQ,"search-colors",Q.LocalizedString("Color"),function(aY,a1,a0){var aZ;aY.html(Q.LocalizedString("Color"));aZ=[{value:"white",caption:Q.LocalizedString("White")},{value:"grey-black-silver",caption:Q.LocalizedString("Black, Gray or Silver")},{value:"blue",caption:Q.LocalizedString("Blue")},{value:"green",caption:Q.LocalizedString("Green")},{value:"red",caption:Q.LocalizedString("Red")},{value:"yellow-gold",caption:Q.LocalizedString("Yellow or Gold")},{value:"orange",caption:Q.LocalizedString("Orange")},{value:"beige-brown",caption:Q.LocalizedString("Beige or Brown")},{value:"pink-purple",caption:Q.LocalizedString("Pink or Purple")}];V.each(aZ,function(a3){var a2;a2=av("<div/>").addClass("color-swatch").addClass(a3.value).appendTo(a1);aQ.OnStateChanged("search-colors",function(){a2.toggle(r(aQ,"search-colors",a3.value))})});a0.addClass("color-box");a0.parent().addClass("color-box-parent");V.each(aZ,function(a3){var a2;a2=av("<div/>").addClass("color-bar").addClass(a3.value).attr("title",a3.caption).appendTo(a0);aQ.OnStateChanged("search-colors",function(){a2.toggleClass("selected",r(aQ,"search-colors",a3.value))});a2.click(function(){aO(aQ,"search-colors",a3.value);Q.RecordMetric("FilterChanged",{filter:"Color",value:SFUtil.Join(aQ.Get("search-colors"),";")});return false})})})}aQ.OnStatesChanged(["search-gender","search-brand","search-colors","search-tag","search-styles","search-materials","search-patterns","search-accents","search-soccer-surface"],function(){v(aQ)});aQ.OnStateChanged("show",function(aZ,aY){if(aY==="filter-search"){Q.ClearState("search-filter-index")}})}}());var ax=function(a0,aY,aR,a1,a3,aS){var aU=a0.find("#sf-search-screen-mask");var a2=a0.find("#sf-search-screen-carrot");var aX=a0.find("#sf-filter-"+aY);var aZ=a0.find("#sf-search-screen-"+aY);var aV=aX.find(".filter-clear");var aQ=aZ.find("div.sf-search-screen-header");var aW=a0.find("div.results-waiting");var aT=aQ.find("div.close");if(aX.length===0||aZ.length===0){throw new Error("invalid filter index: "+aY)}aX.click(function(){var a5;a5=aR.Get("search-filter-index");if(a5===aY){a2.hide();aR.Clear("search-filter-index")}else{var a4=a2.is(":visible")?400:0;a2.animate({top:(aX.position().top+aX.height()/2)+"px"},a4);aR.Set("search-filter-index",aY)}return false});aQ.find("span").html(a3);aV.click(function(a4){Q.ClearState(a1);aR.Clear("search-filter-index");return false});aT.click(function(){aR.Clear("search-filter-index");return false});aR.OnStateChanged("search-filter-index",function(a6){aZ.toggle(a6===aY);aX.toggleClass("selected",a6===aY);var a5=!V.isUndefined(a6);aU.toggle(a5);a2.toggle(a5);var a4=aR.Get("filter-search-results");if(a5){aW.fadeOut()}else{if(a4==="waiting"){aW.fadeIn()}}});aR.OnStateChanged(a1,function(a4){if(V.isUndefined(a4)||(V.isArray(a4)&&a4.length===0)){aV.hide()}else{aV.css("display","inline-block")}});aU.click(function(){aR.Clear("search-filter-index");return false});aS(aX.find("span.filter-name"),aX.find("span.filter-value"),aZ.find("div.sf-search-filter-options"),function(){aR.Clear("search-filter-index")});aX.show()};var ab=function(aW,aV,aY,aQ,aX,aT,aU,aR){var aS=function(aZ){var a0=V.find(aU,function(a1){return a1.value===aZ});return a0?a0.caption:null};ax(aW,aV,aQ,aX,aY,function(aZ,a3,a2,a1){aZ.html(aY);aQ.OnStateChanged(aX,function(a4){if(!V.isUndefined(a4)&&(!aT||a4.length>0)){if(aT){a3.text(aS(a4[0])+((a4.length>1)?(" +"+(a4.length-1)):""))}else{a3.text(aS(a4))}}else{a3.empty()}});a2.empty();var a0=av("<ul/>");V.each(aU,function(a7){var a6=a7.value;var a5=a7.caption;var a4=av('<li class="choice"></li>').text(a5);if(aR){a4.click(function(){a1()})}else{a4.click(function(){if(aT){aO(aQ,aX,a6);Q.RecordMetric("FilterChanged",{filter:aY,value:SFUtil.Join(V.map(aQ.Get(aX),aS),";")})}else{if(aQ.Get(aX)!==a6){aQ.Set(aX,a6);a1()}else{aQ.Clear(aX)}Q.RecordMetric("FilterChanged",{filter:aY,value:aS(aQ.Get(aX))})}return false})}aQ.OnStateChanged(aX,function(a8){if(aT){a4.toggleClass("selected",V.contains(a8,a6))}else{a4.toggleClass("selected",a8===a6)}});a0.append(a4)});a2.append(a0);a2.append(av("<div/>").css("clear","both"))})};var v=function(aT){var aQ=aT.Get("search-brand");var aR=aT.Get("search-tag");var aS=aT.Get("search-colors");var aY=aT.Get("search-styles");var aU=aT.Get("search-materials");var a2=aT.Get("search-patterns");var aV=aT.Get("search-accents");var aX=aT.Get("search-soccer-surface");var aW=aT.Get("search-gender");var a1=V.isUndefined(aX)?[]:[aX];var a4=function(a5){return !a5||!a5.length};if(!aQ&&a4(aS)&&a4(aY)&&a4(aU)&&a4(a2)&&a4(aV)&&a4(a1)&&!aR){Q.searchEventFence.flushAll();aT.Set("filter-search-results","waiting");return}var a0=G.GetSearchGenderIds(au.oTargetModel.AgeKey,aW);var aZ=new SearchByAttributesRequest(Q.iMaxSearchResults);if(aR){aZ.WithSkuFilter(aR)}else{aZ.WithGenderFilter(a0);aZ.WithInputUniverseFilter(au.oTargetModel.InputUniverseId);aZ.WithColorFilter(aS);aZ.WithStyleFilter(aY);aZ.WithMaterialFilter(aU);aZ.WithPatternFilter(a2);aZ.WithAccentFilter(aV);aZ.WithSoccerSurfaceFilter(a1)}if(!V.isUndefined(aQ)){aZ.WithBrandFilter([aQ.BrandId])}aT.Set("filter-search-results","loading");var a3=Q.searchEventFence.startNewEvent();aZ.SubmitExpectingSuccess(SFUtil.WrapWithDelay(250,function(a5){if(a3.isMostRecent()){aT.Set("filter-search-results",a5)}}))};Q.BindHeader=(function(){var aQ=Q.state;return function(aU){var aR=aU.find("#sf-flow-header");var a1=aU.find("#sf-step-1");var aY=aU.find("#sf-step-2");var aX=aU.find("#sf-step-3");var aZ=[new SFState({enabled:false,hover:false}),new SFState({enabled:false,hover:false}),new SFState({enabled:false,hover:false})];var aW;a1.find("p.caption").html(Q.LocalizedString("Current shoe?"));aY.find("p.caption").html(Q.LocalizedString("Current size?"));aX.find("p.caption").html(Q.LocalizedString("Find your fit!"));aR.click(function(a2){Q.ClearState("search-filter-index")});var a0;aQ.OnStateChanged("show",function(a3){if(a3==="size"||a3==="shoe-not-scanned"){a0=a3}if(a3==="rec"){a0="size"}if(a3==="avg-rec"){a0="shoe-not-scanned"}if(a3==="title"){aW=1}else{if(a3==="not-scanned"||a3==="text-search"||a3==="filter-search"||a3==="same-shoe-warning"){aW=1.1}else{if(a3==="size"||a3==="shoe-not-scanned"){aW=2}else{if(a3==="avg-bias"||a3==="size-bias"){aW=2.1}else{if(a3==="size-not-scanned"||a3==="rec"||a3==="avg-size-not-scanned"||a3==="avg-rec"){aW=3}else{V.defer(function(){throw new Error("unexpected view: "+a3)});aW=1.1}}}}}var a2=function(a4,a5){a4.toggleClass("enabled",a5<aW);aZ[a5-1].Set("enabled",a5<aW);a4.toggleClass("selected",a5===Math.round(aW));a4.toggleClass("disabled",a5>aW)};a2(a1,1);a2(aY,2);a2(aX,3)});var aT=function(a2,a3){a2.hover(function(){aZ[a3-1].Set("hover",true)},function(){aZ[a3-1].Set("hover",false)})};aT(a1,1);aT(aY,2);var aV=function(a3,a5,a7){var a2=aZ[a5-1];var a4=a3.find("p.caption");var a6=a4.html();a2.OnStatesChanged(["enabled","hover"],function(){var a9=a2.Get("enabled");var a8=a2.Get("hover");if(a8&&a9){a4.html(a7)}else{a4.html(a6)}})};aV(a1,1,Q.LocalizedString("Start Over"));aV(aY,2,Q.LocalizedString("Change Size"));var aS=function(a3,a2){return function(){if(aW>a3){a2()}}};a1.click(aS(1,function(){Q.RecordMetric("Step1Clicked");Q.Reset()}));aY.click(aS(2,function(){Q.RecordMetric("Step2Clicked");aQ.Set("show",a0);Q.recommendationEventFence.flushAll();Q.ClearState("input-size");Q.ClearState("input-width");Q.ClearState("input-size-fit-offset");Q.ClearState("avg-input-size");Q.ClearState("avg-input-size-fit-offset")}))}})();Q.BindInlineRecommendations=function(aT,aU){var aQ=false;aT.OnStateChanged("open",function(aV){if(aV){aQ=true}});function aS(aX,aW,aV){var aY=false;if(aU&&V.isFunction(aU)){aY=aU(aX,aW,aV)}return aY}function aR(aX,aW){if(Q.settings.bEnableNordstromExtendedReporting&&!aQ){var aV={size:Q.GetLocalizedSizeText(aX.oSizeObject)+" "+aX.sSizingScheme,width:aW};Q.ReportEvent("ApplicationShownWithRec",aV)}}aT.registerEventCallback(["recommended-size","recommended-width","show-width-rec"],function(aX,aW,aV){var aY=aS(aX,aW,aV);if(aY){var aZ=aT.Get("recommendation-metrics-data");Q.RecordMetric("InlineRecommendationReceived",aZ);aR(aX,aW)}},false);aT.registerEventCallback(["avg-recommended-size","avg-recommended-width","show-width-rec"],function(aX,aW,aV){var aY=aS(aX,aW,aV);if(aY){var aZ=aT.Get("avg-recommendation-metrics-data");Q.RecordMetric("InlineRecommendationReceived",aZ);aR(aX,aW)}},false)};Q.BindInterruptingRec=function(aX){var aQ=Q.settings.aiInterruptingRecModelIds;if(!V.isArray(aQ)){aQ=[]}var aY=Q.InitializePopupSettings();var aW=au.oTargetModel&&V.contains(aQ,au.oTargetModel.ModelId);if(Q.settings.bEnableInterruptingRecommendations&&Q.settings.bShowSizeGuide){if(!document.getElementById("sf-popup-test")){av(document.body).append('<div id="sf-popup-test"></div>')}}var aU=av("#sf-popup-test");if(au.sSkin){aU.addClass(au.sSkin)}if(au.sLocale){aU.addClass("locale-"+au.sLocale)}var aT=false;var aV=false;aU.hover(function(){aT=true},function(){aT=false;if(aV){aU.fadeOut()}});var aR=false;var aS=createEventFence();Q.CheckAndShowInterruptingRec=function(a0,a3,a4,a2){aU.hide().empty();Q.RecordMetric("InterruptingRecNotify",{size:a3,width:a4});if(aW){Q.RecordMetric("InterruptingRecEligible",{mdl_id:au.oTargetModel.ModelId})}var aZ=false;if(a3&&a4&&a2!==false){aZ=(Q.settings.bEnableInterruptingRecommendations&&Q.settings.bShowSizeGuide&&!aR&&aW)}if(!aZ){return}Q.RecordMetric("InterruptingRecShown",{mdl_id:au.oTargetModel.ModelId});if(aY&&V.isFunction(aY.render)){aY.render(aU,function(a6){a6.preventDefault();aU.fadeOut();if(aX&&V.isFunction(aX)){aX()}Q.RecordMetric("InterruptingRecOpenClicked")})}var a5=c(aY,a0,aU);aU.css({left:a5.left+"px",top:a5.top+"px"}).fadeIn(500);aT=false;aV=false;var a1=aS.startNewEvent();setTimeout(function(){if(a1.isMostRecent()){if(!aT){aU.fadeOut()}aV=true}},7000);if(Q.settings.bEnableNordstromExtendedReporting){Q.ReportEvent("InterjectingRecommendationReceived")}};return{onAppShown:function(){aU.fadeOut()},onRecShown:function(){aR=true}}};function c(aU,a1,aV){var aT=a1.offset(),aS=aT.left,aX=aT.top,aW=a1.outerWidth(),a0=a1.outerHeight(),aQ=aV.outerWidth(),aZ=aV.outerHeight(),aR=0,aY=0;if(!V.isObject(aU)){aU={}}switch(aU.horizontalAnchor){case"right":aR-=aQ;break;case"center":aR-=aQ/2;break;case"left":default:aR-=0;break}switch(aU.horizontalAnchorPosition){case"right":aR+=aS+aW;break;case"center":aR+=aS+aW/2;break;case"left":default:aR+=aS;break}if(V.isFinite(aU.horizontalOffset)){aR+=aU.horizontalOffset}switch(aU.verticalAnchor){case"top":aY-=0;break;case"middle":aY-=aZ/2;break;case"bottom":default:aY-=aZ;break}switch(aU.verticalAnchorPosition){case"top":aY+=aX;break;case"middle":aY+=aX+a0/2;break;case"bottom":default:aY+=aX+a0;break}if(V.isFinite(aU.verticalOffset)){aY+=aU.verticalOffset}return{left:aR,top:aY}}Q.BindMinimalInputApplication=function(aT,aY){var aS=aY.find(".sfError1"),a1=aY.find(".sfStep1"),aZ=aY.find(".sfStep2"),a0=aY.find(".sfLoading3"),aR=aY.find(".sfError3"),aX=aY.find(".sfStep3"),aW=aY.find(".sfFeedbackBar"),aV=aY.find(".sfPrivacyPolicy"),aQ=aY.find(".sfHeader");jProfile=aY.find(".sfProfile");Q.BindMinimalInputError1(aT,aS);Q.BindMinimalInputStep1(aT,a1);Q.BindMinimalInputStep2(aT,aZ);Q.BindMinimalInputLoading3(aT,a0);Q.BindMinimalInputError3(aT,aR);if(aT.bShowRecScreenV2){aX=aY.find(".sfRecAppRoot");Q.BindMinimalInputRecScreen(aT,aX)}else{Q.BindMinimalInputStep3(aT,aX)}if(aT.sizeGuideSettings.bEnableProfile){Q.BindMinimalInputProfile(aT,jProfile)}Q.BindPrivacy(aV,aT.sizeGuideSettings.bEnableNordstromPrivacyPolicy);Q.BindMinimalInputFeedback(aT,aW);aT.onStepChanged(function(a2){aS.toggleClass("sfHide",a2!=="step1-error");a1.toggleClass("sfHide",a2!=="step1");aZ.toggleClass("sfHide",a2!=="step2");a0.toggleClass("sfHide",a2!=="step3-loading");aR.toggleClass("sfHide",a2!=="step3-error");aX.toggleClass("sfHide",a2!=="step3");jProfile.toggleClass("sfHide",a2!=="profile")});var aU=new SFState({showGoBack:false});aT.onCanGoBackChanged(function(a2){aU.Set("showGoBack",a2)});Q.BindSGHeader(aU,aQ,function(){aT.close()},function(){aT.goBack()})};Q.BindMinimalInputError1=function(aT,aS){var aU=aS.find(".sfH1"),aQ=aS.find(".sfH2"),aR=aS.find(".sfButton");aU.html(Q.LocalizedString("Sorry!"));aQ.html(Q.LocalizedString("We haven't measured this shoe yet."));aR.html(Q.LocalizedString("Close"));aR.click(function(){aT.close()})};Q.BindMinimalInputError3=function(aT,aS){var aU=aS.find(".sfH1"),aQ=aS.find(".sfH2"),aR=aS.find(".sfButton");aU.html(Q.LocalizedString("Sorry!"));aT.onTargetModelSet(function(aV){aQ.html(Q.LocalizedString("We haven't measured the {Brand} {Model} in your size.",{Brand:aV.BrandName,Model:aV.ModelDisplayName}))});aR.html(Q.LocalizedString("Close"));aR.click(function(){aT.close()})};Q.BindMinimalInputFeedback=(function(){return function(aS,aQ){var aR=createDelayedFeedbackViewModel(!Q.settings.bDisableEmailCollection,function(aT){Q.RecordMetric("FeedbackClicked",{helpful:aT})},function(aT){Q.RecordMetric("FeedbackWritten",{message:aT})},function(aT){Q.RecordMetric("FeedbackEmailGiven",{email:aT})},5000,2000);aS.onStepChanged(function(aT){if(aT==="step3"){aR.start()}else{aR.reset()}});createDelayedFeedbackView(aQ,aR,Q.LocalizedString)}}());Q.BindMinimalInputLoading3=function(aS,aQ){var aR=aQ.find(".sfContentBox p");aR.html(Q.LocalizedString("Building Recommendation"))};Q.BindMinimalInputProfile=function(aT,aX){Q.BindMinimalInputTargetModelImage(aT,aX.find(".sfImgBox"));var aW=aX.find(".sfContentBox .sfH1");var aY=aX.find(".sfContentBox .sfH2");var aR=aX.find(".sfContentBox .sfName");var aZ=aX.find(".sfContentBox .sfEmail");var aS=aX.find(".sfContentBox .sfForm");var aU=aX.find(".sfContentBox .sfSaveButton");var aQ=aX.find(".sfContentBox .sfButton");var aV=av('<div class="sfWarningMessage sfHide"></div>');aS.prepend(aV);aW.html(Q.LocalizedString("Save Your Shoefitr Profile"));aY.html(Q.LocalizedString("Get recommendations on every shoe you are about to buy by saving your Shoefitr profile."));aU.html(Q.LocalizedString("Save Shoefitr Profile"));aQ.html(Q.LocalizedString("Close"));aU.click(function(){if(aR.val()&&aZ.val()){Q.RecordMetric("ProfileSaved",{name:aR.val(),email:aZ.val()});aS.html(Q.LocalizedString("Thank you!"))}else{aV.html(Q.LocalizedString("Please enter both your name and email address."));aV.removeClass("sfHide")}});aQ.click(function(){Q.RecordMetric("OkCloseClicked");aT.close();return false})};Q.BindMinimalInputRecScreen=function(aV,aS){var aU=SFUtil.IsMobile.AnyMobile()&&(!SFUtil.IsMobile.AnyTablet());var aT=new Z(aV.sizeGuideConfig,aV.sizeGuideSettings,aU,function(){aV.close()},function(){aV.goBack()},aV.sizeGuideConfig.asAllowableMiVisuals,function(){aV.goToProfileCreation()});var aQ=aG(aT,Q.LocalizedString("<strong>True</strong> in the toes"),Q.LocalizedString("<strong>Typical</strong> width"),Q.LocalizedString("<strong>True</strong> in the heel"));Q.BindRecScreenApplication(aT,aS,aq(aT),x(aT),M(aT),aQ);aV.onTargetModelSet(function(aW){aT.setTargetModel(aW)});aV.onInputsAndRecommendationSet(function(a0,aW,aZ,aY){aT.setRecommendationDetails(a0,aW,a0.InputWidth,aY);var aX=V.chain(G.NormalizedWidth).values().filter(function(a1){return a1.NormalizedWidthId===aZ}).map(function(a1){return a1.NormalizedWidthName}).value();aT.setInputDisplayWidth(aX)});aV.onShowWidthRecSet(function(aW){aT.setShowWidthRec(aW)});var aR=new SFState({isOpen:false,isRightStep:false});aV.onStepChanged(function(aW){aR.Set("isRightStep",aW==="step3")});aV.onOpenCloseChanged(function(aW){aR.Set("isOpen",aW)});aR.registerEventCallback(["isOpen","isRightStep"],function(aX,aW){aT.setRecScreenVisible(aX&&aW)})};Q.BindMinimalInputSizeSelector=function(aR,aQ){aR.onInputSizeChoicesSet(function(aV){if(aR.sizeGuideSettings.bShowInputWholeSizesOnly){aV=V.filter(aV,function(a0){return Math.floor(a0.nNativeSize)===a0.nNativeSize})}var aY=V.any(aV,function(a0){return a0.oSizeObject[2]!=""});var aX=null,aU=8,aW=3,aT=aU*aW,aS=aT<V.size(aV),aZ=new SFState({"min-index":undefined,"max-index":undefined});aZ.registerEventCallback(["min-index","max-index"],function(a4,a3){aQ.empty();var a2=av('<div class="sfChoice sfChoicesShifter">...</div>').click(function(){aR.clearInputSize();Q.RecordMetric("ViewedSmallerSizes");aZ.Set("min-index",0);aZ.Set("max-index",(aS?aT-1:aT)-1)});if(aR.sizeGuideSettings.bEnableNotYetLocalized){a2.attr("title",Q.LocalizedString("Show smaller sizes"))}var a0=av('<div class="sfChoice sfChoicesShifter">...</div>').click(function(){aR.clearInputSize();Q.RecordMetric("ViewedLargerSizes");aZ.Set("min-index",aS?V.size(aV)-aT+1:0);aZ.Set("max-index",V.size(aV))});if(aR.sizeGuideSettings.bEnableNotYetLocalized){a0.attr("title",Q.LocalizedString("Show larger sizes"))}var a1=0;if(a4>0){aQ.append(a2);a1=1}V.each(aV,function(bb,a6){if(a6<a4||a6>a3){return}var ba=bb.oSizeObject;var a5=bb.oAlternateSizeObject;var a8=G.GetSizeString(ba[1]);var bc=aY?Q.LocalizedString(ba[2]):null;var a7=(bc!==aX);var a9=av('<div class="sfChoice"></div>').text(a8);a9.click(function(){aR.setInputSize(bb)});if(a1>0&&a1%aU===0||a7){av('<div style="clear: both;height:0px;"></div>').appendTo(aQ);a1=0}if(a7){av('<div class="sf-choice-label"></div>').text(bc).appendTo(aQ);av('<div style="clear: both"></div>').appendTo(aQ);aX=bc;a1=0}if(bb.bHasAlternate){a9.attr("title",Q.GetLocalizedSizeText(ba)+(ba[2]?", ":" ")+Q.LocalizedString(bb.sSizingScheme)+"\n"+Q.GetLocalizedSizeText(a5)+(a5[2]?", ":" ")+Q.LocalizedString(bb.sAlternateSizingScheme))}else{a9.attr("title",Q.GetLocalizedSizeText(ba)+(ba[2]?", ":" ")+Q.LocalizedString(bb.sSizingScheme))}aR.onInputSizeChanged(function(bd){a9.toggleClass("sfSelected",bd===bb)});a9.appendTo(aQ);a1++});if(a3+1<V.size(aV)){aQ.append(a0)}av('<div style="clear: both"></div>').appendTo(aQ)},false);aZ.Set("min-index",0);aZ.Set("max-index",(aS?aT-1:aT)-1);av('<div style="clear: both"></div>').appendTo(aQ)})};Q.BindMinimalInputSizingSchemeCaption=function(aR,aQ){aR.onAvailableInputSizeChoicesAndGenderChanged(function(aS,aV){aQ.empty();var aU=aS[aV].NativeDisplayConvention;var aT=aV=="M"?Q.LocalizedString("men's"):Q.LocalizedString("women's");if(aR.sizeGuideSettings.bEnableNotYetLocalized){aQ.html(Q.LocalizedString("Showing #({SizeDisplayConvention} {PossessiveGender})# sizes.",{SizeDisplayConvention:Q.LocalizedString(aU),PossessiveGender:aT},[['<span class="sfSizingScheme">',"</span>"]]));aR.onInputSizeChanged(function(aW){aQ.toggleClass("sfHide",!V.isUndefined(aW))})}})};Q.BindMinimalInputSizingSchemeSelector=function(aR,aQ){aR.onAvailableInputSizeChoicesAndGenderChanged(function(aS,aW){aQ.empty();if(V.size(aS)<2||!aR.sizeGuideSettings.bEnableNotYetLocalized){return}var aU=aW=="M"?"F":"M";var aV=aU=="M"?Q.LocalizedString("men's"):Q.LocalizedString("women's");var aT=av("<a/>").html(Q.LocalizedString("Switch to {PossessiveGender} sizes.",{PossessiveGender:aV})).click(function(){aR.setInputSizeGender(aU)});aR.onInputSizeChanged(function(aX){aQ.toggleClass("sfHide",!V.isUndefined(aX))});aQ.append(aT)})};Q.BindMinimalInputStep1=function(aW,aU){Q.BindMinimalInputTargetModelImage(aW,aU.find(".sfImgBox"));var aQ=aU.find(".sfContentBox .sfH1"),aV=aU.find(".sfContentBox .sfH2"),aX=aU.find(".sfContentBox .sfSizeSelector"),aT=aU.find(".sfContentBox .sfSizeCaption"),aS=aU.find(".sfContentBox .sfSizingSchemeSelector"),aR=aU.find(".sfContentBox .sfWidthSelector");aQ.html(Q.GetLocalizedInputUniverseMarkup1(aW.sizeGuideConfig.sInputUniverseDisplayKey));aV.html(Q.GetLocalizedInputUniverseMarkup2(aW.sizeGuideConfig.sInputUniverseDisplayKey));Q.BindMinimalInputSizeSelector(aW,aX);if(aW.bAskWidthQuestion){Q.BindMinimalInputWidthSelector(aW,aR)}Q.BindMinimalInputSizingSchemeCaption(aW,aT);Q.BindMinimalInputSizingSchemeSelector(aW,aS)};Q.BindMinimalInputStep2=function(aV,aU){Q.BindMinimalInputTargetModelImage(aV,aU.find(".sfImgBox"));var aW=aU.find(".sfContentBox .sfH1");var aQ=aU.find(".sfContentBox .sfH2");var aT=aU.find(".sfContentBox .sfB1");var aS=aU.find(".sfContentBox .sfB2");var aR=aU.find(".sfContentBox .sfB3");aV.onInputSizeAndNormalizedWidthSet(function(aX,a2,a1){var aY=Q.GetLocalizedSizeText(aX.oSizeObject);var a0=V.find(G.NormalizedWidth,function(a3){return a3.NormalizedWidthId===a2});var aZ=Q.LocalizedString(a0.NormalizedWidthName);aW.html(Q.LocalizedString("Shoe sizes often vary."));if(a1){aQ.html(Q.LocalizedString("When you don't wear {Size} {Width}, what size are you?",{Size:aY,Width:aZ}))}else{aQ.html(Q.LocalizedString("When you don't wear {Size}, what size are you?",{Size:aY}))}aT.html(Q.LocalizedString("Sometimes smaller than {Size}",{Size:aY}));aS.html(Q.LocalizedString("Sometimes larger than {Size}",{Size:aY}));aR.html(Q.LocalizedString("Almost always {Size}",{Size:aY}))});aT.click(function(){aV.setInputSizeBias(1,"smaller")});aS.click(function(){aV.setInputSizeBias(-1,"larger")});aR.click(function(){aV.setInputSizeBias(0,"neutral")})};Q.BindMinimalInputStep3=function(aS,a1){var a0=SFUtil.IsMobile.AnyMobile()&&(!SFUtil.IsMobile.AnyTablet());var aX=new y(aS,au,Q.settings,a0);var aY=[51,51,51];var aT=[136,136,136];var aZ=/rgb\(([0-9]+), ?([0-9]+), ?([0-9]+)\)/;var aU=a1.find(".sfInputVizColor").css("background-color");var aQ=aU.match(aZ);if(aQ){aY=[aQ[1],aQ[2],aQ[3]]}var a2=a1.find(".sfTargetVizColor").css("background-color");var aW=a2.match(aZ);if(aW){aT=[aW[1],aW[2],aW[3]]}var aV=createPathVizViewModel();aX.onArchProfileSet(function(a5,a3,a4){aV.update(a4,a5,a3)});var aR=createPathVizViewModel();aX.onOutlineSet(function(a5,a3,a4){aR.update(a4,a5,a3)});Q.BindMinimalInputStep3_LeftPane(aX,a1.find(".sfLeftPane"),aY,aT,aR,aV);Q.BindMinimalInputStep3_RightPane(aX,a1.find(".sfRightPane"),aY,aT,aR,aV);Q.BindMinimalInputStep3_Footer(aX,a1.find(".sfFooter"))};Q.BindMinimalInputStep3_Footer=function(aW,aV){var aS=aV.find(".sfOkClose");aS.find("span").html(Q.LocalizedString("Okay, done."));aS.click(function(){Q.RecordMetric("OkCloseClicked");aW.close();return false});var aQ=[{sVisKey:"3D",sClassName:".sfVizChoice1",sDisplayString:Q.LocalizedString("3D")},{sVisKey:"2D",sClassName:".sfVizChoice2",sDisplayString:Q.LocalizedString("Fit")},{sVisKey:"Arch",sClassName:".sfVizChoice3",sDisplayString:Q.LocalizedString("Arch")}];for(var aR=0;aR<aQ.length;aR++){var aT=aQ[aR];Q.BindMinimalInputStep3_Footer_Choice(aW,aV.find(aT.sClassName),aT.sVisKey,aT.sDisplayString)}var aU=V.intersect(V.map(aQ,function(aX){return aX.sVisKey}),aW.state.Get("viz-choices"));if(aU&&aU.length){aW.state.Set("viz",aU[0])}};Q.BindMinimalInputStep3_Footer_Choice=function(aT,aR,aS,aQ){aR.html(aQ);aT.onVizChoicesSet(function(aU){aR.toggleClass("sfHide",!V.contains(aU,aS))});aT.onVizSet(function(aU){aR.toggleClass("sfSelected",aU===aS)});aR.click(function(){aT.setViz(aS)})};function D(aY,aX,aZ,aQ,aU,aT,aW){var aR=Q.GetLocalizedSizeText(aQ.oSizeObject);var aS=Q.GetLocalizedSizeText(aU.oSizeObject);var aV={InputSize:aR,RecommendedSize:aS,InputSizingScheme:Q.LocalizedString(aT)};if(aT===aW){if(aR!==aS&&(aX===0||Math.sign(aX)===Math.sign(aY))){if(aZ<=-13/12){return Q.LocalizedString("Although you usually wear size {InputSize}, this shoe runs smaller than most.",aV)}else{if(-13/12<aZ&&aZ<=-11/12){return Q.LocalizedString("Although you usually wear size {InputSize}, this shoe runs a whole size smaller than most.",aV)}else{if(-11/12<aZ&&aZ<=-7/12){return Q.LocalizedString("Although you usually wear size {InputSize}, this shoe runs smaller than most.",aV)}else{if(-7/12<aZ&&aZ<=-5/12){return Q.LocalizedString("Although you usually wear size {InputSize}, this shoe runs a half size smaller than most.",aV)}else{if(-5/12<aZ&&aZ<=-1/12){return Q.LocalizedString("Although you usually wear size {InputSize}, this shoe runs a little small.",aV)}else{if(-1/12<aZ&&aZ<1/12){return Q.LocalizedString("Although you usually wear size {InputSize}, this shoe runs true to size.",aV)}else{if(1/12<=aZ&&aZ<5/12){return Q.LocalizedString("Although you usually wear size {InputSize}, this shoe runs a little large.",aV)}else{if(5/12<=aZ&&aZ<7/12){return Q.LocalizedString("Although you usually wear size {InputSize}, this shoe runs a half size larger than most.",aV)}else{if(7/12<=aZ&&aZ<11/12){return Q.LocalizedString("Although you usually wear size {InputSize}, this shoe runs larger than most.",aV)}else{if(11/12<=aZ&&aZ<13/12){return Q.LocalizedString("Although you usually wear size {InputSize}, this shoe runs a whole size larger than most.",aV)}else{if(13/12<=aZ){return Q.LocalizedString("Although you usually wear size {InputSize}, this shoe runs larger than most.",aV)}}}}}}}}}}}}else{if(aZ<=-13/12){return Q.LocalizedString("Compared to most shoes, it runs smaller.",aV)}else{if(-13/12<aZ&&aZ<=-11/12){return Q.LocalizedString("Compared to most shoes, it runs a whole size smaller.",aV)}else{if(-11/12<aZ&&aZ<=-7/12){return Q.LocalizedString("Compared to most shoes, it runs smaller.",aV)}else{if(-7/12<aZ&&aZ<=-5/12){return Q.LocalizedString("Compared to most shoes, it runs a half size smaller.",aV)}else{if(-5/12<aZ&&aZ<=-1/12){return Q.LocalizedString("Compared to most shoes, it runs a little small.",aV)}else{if(-1/12<aZ&&aZ<1/12){return Q.LocalizedString("Compared to most shoes, it runs true to size.",aV)}else{if(1/12<=aZ&&aZ<5/12){return Q.LocalizedString("Compared to most shoes, it runs a little large.",aV)}else{if(5/12<=aZ&&aZ<7/12){return Q.LocalizedString("Compared to most shoes, it runs a half size larger.",aV)}else{if(7/12<=aZ&&aZ<11/12){return Q.LocalizedString("Compared to most shoes, it runs larger.",aV)}else{if(11/12<=aZ&&aZ<13/12){return Q.LocalizedString("Compared to most shoes, it runs a whole size larger.",aV)}else{if(13/12<=aZ){return Q.LocalizedString("Compared to most shoes, it runs larger.",aV)}}}}}}}}}}}}}return Q.LocalizedString("It will fit most closely to a typical size {InputSize} ({InputSizingScheme}).",aV)}function W(aT,aQ,aS,aV,aU){var aR={RecommendedSize:Q.GetLocalizedSizeText(aT.oSizeObject),TargetSizingScheme:Q.LocalizedString(aV)};if(aS===aV&&!aU){return Q.LocalizedString("We suggest a size {RecommendedSize} in this shoe.",aR)}else{return Q.LocalizedString("We suggest a size {RecommendedSize} ({TargetSizingScheme}) in this shoe.",aR)}}Q.BindMinimalInputStep3_LeftPane=function(aX,a0,aZ,aV,aQ,aY){var aW=a0.find(".sfH1"),a1=a0.find(".sfH2"),aU=a0.find(".sfH3");aX.onRecommendationDetailsSet(function(a2,a4,a5,a8){var a3=a2.sSizingScheme;var a6=a5.sSizingScheme;var a7=a8.RecommendationSizeDelta;var a9=a8.TargetModelSizeDelta;var ba=au.bUnisexMerchandise&&au.oTargetModel.GenderBinaryKeys.length>1;aW.html(W(a5,a7,a3,a6));a1.html(D(a7,a4,a9,a2,a5,a3,a6))});aX.onInputOrTargetSizeOrWidthSet(function(a2,a4,a5,a7,a6){var a3={InputSize:Q.GetLocalizedSizeText(a2.oSizeObject)+(a6?" "+a4:""),TargetSize:Q.GetLocalizedSizeText(a5.oSizeObject)+(a6?" "+a7:""),InputSizingScheme:a2.sSizingScheme};if(a2.sSizingScheme!==a5.sSizingScheme){aU.html(Q.LocalizedString("Now viewing size {TargetSize} compared to a typical size {InputSize} ({InputSizingScheme}).",a3))}else{aU.html(Q.LocalizedString("Now viewing size {TargetSize} compared to a typical size {InputSize}.",a3))}});var aT=a0.find(".sfViz1");var aS=a0.find(".sfViz2");var aR=a0.find(".sfViz3");aX.onVizSet(function(a2){aT.toggleClass("sfHide",a2!=="3D");aS.toggleClass("sfHide",a2!=="2D");aR.toggleClass("sfHide",a2!=="Arch")});Q.BindMinimalInput3dViz(aX,a0.find(".sfViz1"),a0.find(".sfViz1Legend"));Q.BindMinimalInputStep3_LeftPane_OutlineViz(a0.find(".sfViz2"),aZ,aV,aQ);Q.BindMinimalInputStep3_LeftPane_ProfileViz(a0.find(".sfViz3"),aZ,aV,aY);Q.BindMinimalInputTargetSizeSelector(aX,a0.find(".sfSizeSelector"))};Q.BindMinimalInput3dViz=function(aU,aT,aS){var aR=createHeatMapViewModel();var aQ=ay(aT);var aV=createHeatMapLegendView(aS,aR.aoFeelGradientPhases,Q.LocalizedString);aU.onFlashDataSet(function(aY,aW,aX){aR.updateRecommendationData(aY,aW,aX)});aU.onTargetSizeAndWidthSet(function(aW,aY,aX){aR.updateTargetSize(aW,aY)});aR.onVisibilityAndVisualsAndTargetSelectionSet(function(aX,aW,aY,aZ){aQ.update(aX,aW,aY,aZ)});aR.onVisibilitySet(function(aW){aV.update(aW)});aU.on3DVisibleChanged(function(aW){if(aW){aR.show()}else{aR.hide()}})};Q.BindMinimalInputStep3_LeftPane_OutlineViz=function(aT,aW,aX,aR){var aU=aT.find(".sfInputModel"),aS=aT.find(".sfTargetModel"),aV=createOutlineView(aU,aW[0],aW[1],aW[2],470,200,false,true),aQ=createOutlineView(aS,aX[0],aX[1],aX[2],470,200,true);aR.onInputSet(function(a0,aZ,aY){aV.update(a0,aZ,aY)});aR.onTargetSet(function(aY,a0,aZ){aQ.update(aY,a0,aZ)})};Q.BindMinimalInputStep3_LeftPane_ProfileViz=function(aU,aW,aX,aQ){var aV=aU.find(".sfInputModel"),aT=aU.find(".sfTargetModel"),aS=createProfileView(aV,aW[0],aW[1],aW[2],470,200,true),aR=createProfileView(aT,aX[0],aX[1],aX[2],470,200,false);aQ.onInputSet(function(a0,aZ,aY){aS.update(a0,aZ,aY)});aQ.onTargetSet(function(aY,a0,aZ){aR.update(aY,a0,aZ)})};Q.BindMinimalInputStep3_RightPane=function(aU,aS,aT,aV,aR,aQ){aS.find(".sfDivider span").html(Q.LocalizedString("VS"));Q.BindMinimalInputStep3_RightPane_Input(aU,aS.find(".sfInputModel"),aT,aR,aQ);Q.BindMinimalInputStep3_RightPane_Target(aU,aS.find(".sfTargetModel"),aV,aR,aQ)};Q.BindMinimalInputStep3_RightPane_Input=function(aW,a0,aY,aR,aX){var aU=a0.find(".sfH1"),a1=a0.find(".sfH2"),aQ=a0.find(".sfThumbImage"),aS=a0.find(".sfVizImage2"),aT=a0.find(".sfVizImage3"),aZ=createOutlineView(aS,aY[0],aY[1],aY[2],470,200,false,true),aV=createProfileView(aT,aY[0],aY[1],aY[2],470,200,true);aQ.attr("src",Q.urlImageRoot+"/blank.png");aW.onInputSizeAndWidthSet(function(a2,a4,a3){aU.html(Q.LocalizedString("Typical Size {Size}",{Size:Q.GetLocalizedSizeText(a2.oSizeObject)+(a3?" "+a4:"")}))});aW.onRecommendationSet(function(a3){var a2=Math.floor((a3.ModelsCounted-2)/10)*10;a1.html(Q.LocalizedString("Based on {N} similar shoes",{N:Q.LocalizedNumber(aH(a2))}))});aR.onInputSet(function(a4,a3,a2){aZ.update(a4,a3,a2)});aX.onInputSet(function(a4,a3,a2){aV.update(a4,a3,a2)});aW.onVizSet(function(a2){aS.toggleClass("sfHide",a2!=="2D");aT.toggleClass("sfHide",a2!=="Arch")})};Q.BindMinimalInputStep3_RightPane_Target=function(aX,a0,aU,aR,aY){var aV=a0.find(".sfH1"),a1=a0.find(".sfH2"),aQ=a0.find(".sfThumbImage"),aS=a0.find(".sfVizImage2"),aT=a0.find(".sfVizImage3"),aZ=createOutlineView(aS,aU[0],aU[1],aU[2],470,200,true),aW=createProfileView(aT,aU[0],aU[1],aU[2],470,200);aX.onTargetSizeAndWidthSet(function(a3,a5,a4){var a2={Size:Q.GetLocalizedSizeText(a3.oSizeObject),Width:a4?a5:""};aV.html(Q.LocalizedString("Size {Size} {Width}",a2))});aX.onTargetModelSet(function(a2){a1.text(a2.BrandName+" "+a2.ModelDisplayName);aQ.attr("src",a2.Image4Url)});aR.onTargetSet(function(a2,a4,a3){aZ.update(a2,a4,a3)});aY.onTargetSet(function(a2,a4,a3){aW.update(a2,a4,a3)});aX.onVizSet(function(a2){aS.toggleClass("sfHide",a2!=="2D");aT.toggleClass("sfHide",a2!=="Arch")})};Q.BindMinimalInputTargetModelImage=function(aU,aR){var aT=aR.find("img");var aQ=aR.find(".sfBrandName");var aS=aR.find(".sfModelName");aU.onTargetModelChanged(function(aV){aT.attr("src",Q.urlImageRoot+"/blank.png");if(!V.isUndefined(aV)){aQ.text(aV.BrandName);aS.text(aV.ModelDisplayName);if(aV.Image5Url){aT.attr("src",aV.Image5Url)}}})};Q.BindMinimalInputTargetSizeSelector=function(aR,aQ){aR.onTargetSizeChoicesSet(function(aS){var aV=V.any(aS,function(aW){return aW.oSizeObject[2]!=""});var aU=null;var aT=0;aQ.empty();V.each(aS,function(a1){var a0=a1.oSizeObject;var aW=a1.oAlternateSizeObject;var aY=G.GetSizeString(a0[1]);var a2=aV?Q.LocalizedString(a0[2]):null;var aX=(a2!==aU);var aZ=av('<div class="sfChoice"></div>').text(aY);aZ.click(function(){aR.setTargetSize(a1)});if(a1.bHasAlternate){aZ.attr("title",Q.GetLocalizedSizeText(a0)+(a0[2]?", ":" ")+Q.LocalizedString(a1.sSizingScheme)+"\n"+Q.GetLocalizedSizeText(aW)+(aW[2]?", ":" ")+Q.LocalizedString(a1.sAlternateSizingScheme))}else{aZ.attr("title",Q.GetLocalizedSizeText(a0)+(a0[2]?", ":" ")+Q.LocalizedString(a1.sSizingScheme))}if(aT>0&&aT%8===0||aX){av('<div style="clear: both"></div>').appendTo(aQ);aT=0}if(aX){av('<div class="sf-choice-label"></div>').text(a2).appendTo(aQ);av('<div style="clear: both"></div>').appendTo(aQ);aU=a2;aT=0}aR.onTargetSizeChanged(function(a3){aZ.toggleClass("sfSelected",a3===a1)});aZ.appendTo(aQ);aT++});av('<div style="clear: both"></div>').appendTo(aQ)})};Q.BindMinimalInputWidthSelector=function(aR,aQ){aQ.empty();aQ.addClass("sfHide");aQ.append(av('<p class="sfH1"></p>').html(Q.LocalizedString("What width do you usually wear?")));V.each(V.values(G.NormalizedWidth),function(aS){var aT=av('<div class="sfChoice"></div>');aT.text(Q.LocalizedString(aS.NormalizedWidthName));aT.click(function(){aR.setInputNormalizedWidth(aS.NormalizedWidthId)});aR.onInputNormalizedWidthChanged(function(aU){aT.toggleClass("sfSelected",aS.NormalizedWidthId===aU)});aQ.append(aT)});aR.onInputSizeChanged(function(aS){aQ.toggleClass("sfHide",V.isUndefined(aS))});aQ.append(av('<div style="clear:both"></div>'))};Q.BindPrivacy=function(aR,aQ){aR.html('<a href="http://shoefitr.com/privacypolicy.php" target="_blank" tabindex="-1">'+Q.LocalizedString("Shoefitr Privacy Policy")+"</a>").toggle(aQ===true);aR.find("a").click(function(){Q.RecordMetric("PrivacyPolicyClicked")})};Q.BindRecAppTargetWidthSelector=function(aQ,aR){aQ.onTargetWidthChoicesSet(function(aS,aT){aR.empty();if(!aT){aR.hide();return}aR.show();V.chain(aS).each(function(aU){var aV=av('<div class="sfChoice"></div>').text(aU.Name);if(aU.IsScanned){aV.click(function(){aQ.setTargetWidth(aU.Name)})}else{aV.addClass("sfNotScanned").attr("title",Q.LocalizedString("Sorry, we haven't measured this width yet!"));aV.click(function(){Q.RecordMetric("UnscannedWidthClicked",{modelId:aQ.state.Get("target-model").ModelId,width:aU.Name})})}aQ.onTargetWidthChanged(function(aY){aV.toggleClass("sfSelected",aY===aU.Name)});if(aU.IsStandard){var aX=av('<div class="standardWidthChoice"></div>');aX.append(aV);var aW=Q.LocalizedString("standard");aX.append(av('<div class="standardWidthLabel"></div>').text(aW));aX.appendTo(aR)}else{aV.appendTo(aR)}});av('<div style="clear: both"></div>').appendTo(aR)})};Q.BindRecLoadingPane=function(aQ){var aR=aQ.find("#sf-rec-loading");var aS=aR.find(".sfContentBox p");aS.html(Q.LocalizedString("Building Recommendation"))};Q.BindRecPane=(function(){var aQ=Q.state;return function(aZ,a7){var a6=aZ.find("#sf-rec .sf-rec-ok-close-button");a6.html(Q.LocalizedString("Okay, done."));a6.hide();if(a7&&V.isFunction(a7)){a6.click(function(){Q.RecordMetric("OkCloseClicked");a7();return false});a6.show()}var aY=aZ.find("#sf-rec-side-brand");var bm=aZ.find("#sf-rec-side-model");var aU=aZ.find("#sf-rec-side-tag");var aS=aZ.find("#sf-rec-side-tag p.tag-title");var aV=aZ.find("#sf-rec-side-tag p.tag-caption");var bi=aZ.find("#sf-rec-side-tag p.tag-size");var ba=aZ.find("#sf-rec-side-tag p.tag-scheme");var bd=aZ.find("#sf-rec-side-box img");aS.html(Q.LocalizedString("Shoefitr<br />Recommends"));aV.html(Q.LocalizedString("Size"));var a4=aZ.find("#sf-rec .sf-rec-loading");a4.find(".sf-message").html(Q.LocalizedString("Building Recommendation"));var aX=aZ.find("#sf-input-model img");var bo=aZ.find("#sf-input-model div.heading");var a9=aZ.find("#sf-input-model p.caption");var bg=aZ.find("#sf-target-model img");var bc=aZ.find("#sf-target-model div.heading");var bl=aZ.find("#sf-target-model p.caption");var bj=aZ.find("#sf-target-size-selector .size .caption");var bf=aZ.find("#sf-target-size-selector .width .caption");var aR=aZ.find("#sf-target-size-selector .size .sf-button.up");var be=aZ.find("#sf-target-size-selector .size .sf-button.down");var bk=aZ.find("#sf-target-size-selector .width .sf-button.up");var aW=aZ.find("#sf-target-size-selector .width .sf-button.down");var a8=aZ.find("#sf-target-size-reset");w(aQ,be,aR,aW,bk);a8.html(Q.LocalizedString("reset"));a8.click(function(){aQ.Set("target-size",aQ.Get("recommended-size"));aQ.Set("target-width",aQ.Get("recommended-width"));return false});aQ.OnStatesChanged(["target-size","target-width","recommended-size","recommended-width"],function(){var bp=aQ.Get("target-size");var bs=aQ.Get("target-width");var br=aQ.Get("recommended-size");var bq=aQ.Get("recommended-width");a8.toggle(!(V.isEqual(bp,br)&&bs===bq))});aZ.find("#sf-target-model").hover(function(){aQ.Set("rec-hover","target")},function(){aQ.Clear("rec-hover")});aZ.find("#sf-input-model").hover(function(){aQ.Set("rec-hover","input")},function(){aQ.Clear("rec-hover")});aQ.OnStateChanged("input-model",function(bp){if(!V.isUndefined(bp)){aX.attr("src",Q.urlImageRoot+"/blank.png");if(bp.Image6Url){aX.attr("src",bp.Image6Url)}a9.text(bp.BrandName+" "+bp.ModelDisplayName)}});aQ.registerEventCallback(["input-size","input-width","show-width-rec"],function(bp,br,bs){var bq={Size:Q.GetLocalizedSizeText(bp.oSizeObject),Width:br};if(bs){bo.html(Q.LocalizedString("Size {Size} {Width}",bq))}else{bo.html(Q.LocalizedString("Size {Size}",bq))}},false);aQ.OnStateChanged("target-model",function(bp){if(!V.isUndefined(bp)){bg.attr("src",Q.urlImageRoot+"/blank.png");bd.attr("src",Q.urlImageRoot+"/blank.png");if(bp.Image6Url){bg.attr("src",bp.Image6Url);bd.attr("src",bp.Image6Url)}bl.text(bp.BrandName+" "+bp.ModelDisplayName)}});aQ.OnStateChanged("show-width-rec",function(bp){aZ.find("#sf-rec-results-header").toggleClass("nowidth",!bp)});aQ.registerEventCallback(["target-size","target-width","show-width-rec"],function(bq,bs,br){var bp={Size:Q.GetLocalizedSizeText(bq.oSizeObject),Width:bs};if(br){bc.html(Q.LocalizedString("Size {Size} {Width}",bp))}else{bc.html(Q.LocalizedString("Size {Size}",bp))}},false);aQ.registerEventCallback(["target-size"],function(bp){bj.html(G.GetSizeString(bp.oSizeObject[1]))},false);aQ.OnStateChanged("target-width",function(bp){if(!V.isUndefined(bp)){bf.empty();bf.html(bp)}});aQ.OnStateChanged("target-model",function(bp){if(!V.isUndefined(bp)){aY.text(bp.BrandName);bm.text(bp.ModelDisplayName)}});aQ.OnStateChanged("recommendation",function(bp){if(bp==="loading"){aU.hide();bd.hide();a4.show()}else{if(!V.isUndefined(bp)){a4.hide();bd.show();aU.show()}}});aQ.registerEventCallback(["recommended-size","recommended-width","show-width-rec"],function(bt,bs,br){var bq=bt.oSizeObject;var bp=bt.oAlternateSizeObject;bi.html(G.GetSizeString(bq[1])+(br?'<span class="width">'+bs+"</span>":""));bi.toggleClass("shrink1",bi.text().length>2&&bi.text().length<4);bi.toggleClass("shrink2",bi.text().length>=4);if(bt.bHasAlternate){bi.attr("title",Q.GetLocalizedSizeText(bq)+(bq[2]?", ":" ")+Q.LocalizedString(bt.sSizingScheme)+"\n"+Q.GetLocalizedSizeText(bp)+(bp[2]?", ":" ")+Q.LocalizedString(bt.sAlternateSizingScheme))}ba.text(Q.LocalizedString(bq[2]?bq[2]:bt.sSizingScheme))},false);aQ.OnStateChanged("recommendation",function(bs){if(!V.isUndefined(bs)&&bs!=="loading"){var bp=G.ExtractSizeData(bs,au.sRecommendationSizeDisplayConvention);var br=V.find(bp,function(bt){return bt.nNativeSize===bs.RecommendedSize});var bq=bs.RecommendedWidth;aQ.Set("target-size",br);aQ.Set("target-width",bq)}});var bh=[51,51,51];var aT=[136,136,136];var a0=/rgb\(([0-9]+), ?([0-9]+), ?([0-9]+)\)/;var bn=aZ.find("#sf-input-model div.heading").css("background-color");var a5=bn.match(a0);if(a5){bh=[a5[1],a5[2],a5[3]]}var a3=aZ.find("#sf-target-model div.heading").css("background-color");var a1=a3.match(a0);if(a1){aT=[a1[1],a1[2],a1[3]]}function bb(bp){return V.contains(au.asAllowableVisuals,bp)}var a2=100;if(bb("2D")){a2=Math.min(a2,2);K(aZ,2,aQ,"Fit",Q.LocalizedString("Fit"),function(bs){var bq=av('<img class="backup-image" />').appendTo(bs);var bt=av('<img class="backup-image" />').appendTo(bs);var br=createPathVizViewModel();var bu=createOutlineView(bq,bh[0],bh[1],bh[2],500,200,false,true);var bp=createOutlineView(bt,aT[0],aT[1],aT[2],500,200,true);aQ.registerEventCallback(["recommendation","input-size","target-size","input-width","target-width"],function(bD,bw,by,bz,bC){if(bD==="loading"){return}var bA=by.nNativeSize;var bx=bD.CurrentOutline;var bv=V.find(bD.Visualizations,function(bE){return bE.Size===bA&&bE.Width===bC}).Outline;var bB=V.map(bD.Visualizations,function(bE){return bE.Outline}).concat([bD.CurrentOutline]);br.update(bB,bx,bv)},false);br.onInputSet(function(bx,bw,bv){bu.update(bx,bw,bv)});br.onTargetSet(function(bv,bx,bw){bp.update(bv,bx,bw)});aQ.OnStateChanged("rec-hover",function(bv){if(bv==="input"){bt.insertBefore(bq)}if(bv==="target"){bq.insertBefore(bt)}})})}if(bb("Arch")){a2=Math.min(a2,3);K(aZ,3,aQ,"Arch",Q.LocalizedString("Arch"),function(br){var bq=av('<img class="backup-image" />').appendTo(br);var bs=av('<img class="backup-image" />').appendTo(br);var bp=createPathVizViewModel();var bu=createProfileView(bq,bh[0],bh[1],bh[2],500,200,false);var bt=createProfileView(bs,aT[0],aT[1],aT[2],500,200,false);aQ.registerEventCallback(["recommendation","input-size","target-size","input-width","target-width"],function(bC,bv,bw,bx,bB){if(bC==="loading"){return}var by=bw.nNativeSize;var bD=bC.CurrentProfile;var bz=V.find(bC.Visualizations,function(bE){return bE.Size===by}).Profile;var bA=V.map(bC.Visualizations,function(bE){return bE.Profile}).concat([bC.CurrentProfile]);bp.update(bA,bD,bz)},false);bp.onInputSet(function(bx,bw,bv){bu.update(bx,bw,bv)});bp.onTargetSet(function(bv,bx,bw){bt.update(bv,bx,bw)});aQ.OnStateChanged("rec-hover",function(bv){if(bv==="input"){bs.insertBefore(bq)}if(bv==="target"){bq.insertBefore(bs)}})})}if(bb("3D")){a2=Math.min(a2,1);h(aZ,1,aQ,"3D",Q.LocalizedString("3D"),Q.Create3dViz())}aQ.Set("viz-index",a2)}})();var K=function(aS,aT,aU,aR,aQ,aV){h(aS,aT,aU,aR,aQ,function(aW){return{fOnBind:function(){aV(aW)}}})};var h=function(aS,aV,aQ,aR,aW,aX){var aY=aS.find("#sf-viz-choice-"+aV);var aU=aS.find("#sf-viz-pane-"+aV);if(aY.length===0||aU.length===0){throw new Error("invalid visualization index: "+aV)}var aT=aX(aU);aY.click(function(){aQ.Set("viz-index",aV);Q.RecordMetric("VizChanged",{viz:aR});return false});aQ.OnStatesChanged(["viz-index","show","recommendation","open"],function(){var a1=aQ.Get("viz-index");var a0=aQ.Get("show");var a2=aQ.Get("recommendation");var aZ=aQ.Get("open");aU.toggle(a1===aV);aY.toggleClass("selected",a1===aV);if(aZ&&a1===aV&&a0==="rec"&&a2&&a2!=="loading"){if(aT.fOnShow&&V.isFunction(aT.fOnShow)){aT.fOnShow()}}else{if(aT.fOnHide&&V.isFunction(aT.fOnHide)){aT.fOnHide()}}});aY.html(aW);aU.empty();aT.fOnBind();aY.show()};var ae=function(aR){var aS,aQ;V.chain(aR).map(function(aU){var aT,aW,aX,aV;V.each(aU,function(aY){aT=V.isUndefined(aT)?aY.X:Math.min(aT,aY.X);aW=V.isUndefined(aW)?aY.X:Math.max(aW,aY.X);aX=V.isUndefined(aX)?aY.Y:Math.min(aX,aY.Y);aV=V.isUndefined(aV)?aY.Y:Math.max(aV,aY.Y)});return{w:aW-aT,h:aV-aX}}).each(function(aT){aS=V.isUndefined(aS)?aT.w:Math.max(aS,aT.w);aQ=V.isUndefined(aQ)?aT.h:Math.max(aQ,aT.h)});return{width:aS,height:aQ}};var C=function(aX,aR,aQ,aS,aW,aY,aU,aV){var aT=function(aZ){return SFUtil.Join(V.map(aZ,function(a0){return a0.X+";"+a0.Y}),";")};return new LoadOutlineImageRequest(aR,aQ,aS,aW,aY,aU,aV,aT(aX.AnchorPoints),aT(aX.FirstControlPoints),aT(aX.SecondControlPoints))};var aC=function(aX,aR,aQ,aS,aW,aY,aU,aV){var aT=function(aZ){return SFUtil.Join(V.map(aZ,function(a0){return a0.X+";"+a0.Y}),";")};return new LoadFillImageRequest(aR,aQ,aS,aW,aY,aU,aV,aT(aX.AnchorPoints),aT(aX.FirstControlPoints),aT(aX.SecondControlPoints))};var an=function(aY,aR,aQ,aS,aW,aX,aU,aV){var aT=function(aZ){return SFUtil.Join(V.map(aZ,function(a0){return a0.X+";"+a0.Y}),";")};return new LoadProfileImageRequest(aR,aQ,aS,aW,aX,aU,aV,aT(aY.AnchorPoints),aT(aY.FirstControlPoints),aT(aY.SecondControlPoints))};var w=function(aR,aW,a2,aY,aV){var aT,aX,a0,aZ,aQ;function a4(){var a5=V.indexOf(aZ,V.find(aZ,function(a7){return a7===aT}));if(a5===-1||a5===0){return aT}var a6=aZ[a5-1];if(!V.find(aQ,function(a7){return a7[0]===a6.nNativeSize&&a7[1]===aX})){return aT}return a6}function a3(){var a5=V.indexOf(aZ,V.find(aZ,function(a7){return a7===aT}));if(a5===-1||a5===aZ.length-1){return aT}var a6=aZ[a5+1];if(!V.find(aQ,function(a7){return a7[0]===a6.nNativeSize&&a7[1]===aX})){return aT}return a6}function a1(){var a5=V.indexOf(a0,aX);if(a5===-1||a5===0){return aX}var a6=a0[a5-1];if(!V.find(aQ,function(a7){return a7[0]===aT.nNativeSize&&a7[1]===a6})){return aX}return a6}function aU(){var a5=V.indexOf(a0,aX);if(a5===-1||a5===a0.length-1){return aX}var a6=a0[a5+1];if(!V.find(aQ,function(a7){return a7[0]===aT.nNativeSize&&a7[1]===a6})){return aX}return a6}function aS(){aW.toggleClass("disabled",a4()===aT);a2.toggleClass("disabled",a3()===aT);aY.toggleClass("disabled",a1()==aX);aV.toggleClass("disabled",aU()==aX)}aR.OnStateChanged("recommendation",function(a5){if(!V.isUndefined(a5)&&a5!=="loading"){aQ=V.chain(a5.Visualizations).map(function(a6){return[parseFloat(a6.Size),a6.Width]}).value();aZ=V.chain(G.ExtractSizeData(a5,au.sRecommendationSizeDisplayConvention)).filter(function(a6){return V.find(aQ,function(a7){return a7[0]===a6.nNativeSize})}).value();a0=V.chain(a5.DisplayWidths).filter(function(a6){return V.find(aQ,function(a7){return a7[1]===a6.Name})}).sortBy(function(a6){return a6.Rank}).map(function(a6){return a6.Name}).value()}aS()});aR.OnStateChanged("target-size",function(a6){var a5=V.find(aZ,function(a7){return a7.nNativeSize===a6.nNativeSize});aT=a5;aS()});aR.OnStateChanged("target-width",function(a5){aX=a5;aS()});aW.click(function(){if(!aW.hasClass("disabled")){aR.Set("target-size",a4())}return false});a2.click(function(){if(!a2.hasClass("disabled")){aR.Set("target-size",a3())}return false});aY.click(function(){if(!aY.hasClass("disabled")){aR.Set("target-width",a1())}return false});aV.click(function(){if(!aV.hasClass("disabled")){aR.Set("target-width",aU())}return false})};(function(){Q.BindRecScreenApplication=function(a1,be,a7,aZ,a2,a3){var bc=av(aD());be.html(bc[0]);var bb=[51,51,51];var a6=[136,136,136];var ba=/rgb\(([0-9]+), ?([0-9]+), ?([0-9]+)\)/;var a5=bc.find(".sfInputVizColor").css("background-color");var a0=a5.match(ba);if(a0){bb=[a0[1],a0[2],a0[3]]}var bd=bc.find(".sfTargetVizColor").css("background-color");var a9=bd.match(ba);if(a9){a6=[a9[1],a9[2],a9[3]]}var a8=createPathVizViewModel();a1.onArchProfileSet(function(bh,bf,bg){a8.update(bg,bh,bf)});var a4=createPathVizViewModel();a1.onOutlineSet(function(bh,bf,bg){a4.update(bg,bh,bf)});aW(a1,bc.find(".sfLeftPane"),bb,a6,a4,a8,a7,aZ);aY(a1,bc.find(".sfRightPane"),a2,a3);a1.onShowWidthRecChanged(function(bf){bc.toggleClass("sfRecAppNoWidths",!bf)})};function aT(a4,a6,a1,a7,aZ,a0,a8){var a9=a4.oAlternateSizeObject;var a5={RecommendedSize:Q.GetLocalizedSizeText(a4.oSizeObject),TargetSizingScheme:Q.LocalizedString(a7),RecommendedWidth:a6,AlternateSize:Q.GetLocalizedSizeText(a9)+(a9[2]?", ":" ")+Q.LocalizedString(a4.sAlternateSizingScheme)};var a2=['<span class="sfTextGroup">',"</span>"];var a3=['<span class="sfHidableWidthLabel">',"</span>"];if(a1===a7&&!a8){if(a4.bHasAlternate){return Q.LocalizedString("We suggest a size {RecommendedSize} #0({RecommendedWidth})# #1(({AlternateSize}))# #2(in this shoe.)#",a5,[a3,a2,a2])}else{return Q.LocalizedString("We suggest a size {RecommendedSize} #0({RecommendedWidth})# #1(in this shoe.)#",a5,[a3,a2])}}else{if(a4.bHasAlternate){return Q.LocalizedString("We suggest a size {RecommendedSize} #0({RecommendedWidth})# ({TargetSizingScheme}) #1(({AlternateSize}))# #2(in this shoe.)#",a5,[a3,a2,a2])}else{return Q.LocalizedString("We suggest a size {RecommendedSize} #0({RecommendedWidth})# ({TargetSizingScheme}) #1(in this shoe.)#",a5,[a3,a2])}}}var aW=function(a0,bc,ba,a6,a2,a9,a7,aZ){var a8=bc.find(".sfH1"),bb=bc.find(".sfH2");a0.onRecommendationDetailsSet(function(be,bh,bg,bl){var bf=be.sSizingScheme;var bk=bg.sSizingScheme;var bj=bl.RecommendedWidth!==bl.StandardWidth;var bi=au.bUnisexMerchandise&&au.oTargetModel.GenderBinaryKeys.length>1;a8.html(aT(bg,bl.RecommendedWidth,bf,bk,bj,bl.RecommendationSizeDelta,bi))});a7(bb);var a5=bc.find(".sfViz1");var a4=bc.find(".sfViz2");var a3=bc.find(".sfViz3");a0.onVizSet(function(be){a5.toggleClass("sfHide",be!=="3D");a4.toggleClass("sfHide",be!=="2D");a3.toggleClass("sfHide",be!=="Arch")});aS(a0,bc.find(".sfViz1"),bc.find(".sfColorLegend"));aX(bc.find(".sfViz2"),ba,a6,a2);aV(bc.find(".sfViz3"),ba,a6,a9);aQ(a0,bc.find(".sfFootbedArchLegend"),ba,a6,aZ);var a1=[{sVisKey:"3D",sClassName:"sfVizChoice1",sDisplayString:Q.LocalizedString("3D View")},{sVisKey:"2D",sClassName:"sfVizChoice2",sDisplayString:Q.LocalizedString("Footbed")},{sVisKey:"Arch",sClassName:"sfVizChoice3",sDisplayString:Q.LocalizedString("Arch")}];aU(a0,bc.find(".sfVizChooser"),a1);var bd=V.intersect(V.map(a1,function(be){return be.sVisKey}),a0.state.Get("viz-choices"));if(bd&&bd.length){a0.state.Set("viz",bd[0])}};var aS=function(a0,a3,a2){var a1=createHeatMapViewModel();var aZ=ay(a3);var a4=createHeatMapLegendView(a2,a1.aoFeelGradientPhases,Q.LocalizedString);a0.onFlashDataSet(function(a7,a5,a6){a1.updateRecommendationData(a7,a5,a6)});a0.onTargetSizeAndWidthSet(function(a5,a7,a6){a1.updateTargetSize(a5,a7)});a1.onVisibilityAndVisualsAndTargetSelectionSet(function(a6,a5,a7,a8){aZ.update(a6,a5,a7,a8)});a1.onVisibilitySet(function(a5){a4.update(a5)});a0.on3DVisibleChanged(function(a5){if(a5){a1.show()}else{a1.hide()}})};var aX=function(a2,a5,a6,a0){var a3=a2.find(".sfInputModel"),a1=a2.find(".sfTargetModel"),a4=createOutlineView(a3,a5[0],a5[1],a5[2],470,200,false,true),aZ=createOutlineView(a1,a6[0],a6[1],a6[2],470,200,true);a0.onInputSet(function(a9,a8,a7){a4.update(a9,a8,a7)});a0.onTargetSet(function(a7,a9,a8){aZ.update(a7,a9,a8)})};var aV=function(a3,a5,a6,aZ){var a4=a3.find(".sfInputModel"),a2=a3.find(".sfTargetModel"),a1=createProfileView(a4,a5[0],a5[1],a5[2],470,200,true),a0=createProfileView(a2,a6[0],a6[1],a6[2],470,200,false);aZ.onInputSet(function(a9,a8,a7){a1.update(a9,a8,a7)});aZ.onTargetSet(function(a7,a9,a8){a0.update(a7,a9,a8)})};var aQ=function(a4,a8,a7,a6,a0){var a2=a8.find(".sfTargetLegendIcon img"),a1=a8.find(".sfTargetLegend .sfModelName"),a3=a8.find(".sfTargetLegend .sfSizeWidth"),aZ=a8.find(".sfAverageLegendIcon img"),a5=a8.find(".sfAverageLegend .sfSizeWidth");createCircleKeyView(a2,a6[0],a6[1],a6[2],17,17,true,false);createCircleKeyView(aZ,a7[0],a7[1],a7[2],17,17,false,true);a4.onTargetModelSet(function(a9){a1.text(a9.BrandName+" "+a9.ModelDisplayName)});a4.onTargetSizeAndWidthSet(function(ba,bb){var a9={Size:Q.GetLocalizedSizeText(ba.oSizeObject),Width:bb};a3.html(Q.LocalizedString("Size {Size}#( {Width})#",a9,[['<span class="sfHidableWidthLabel">',"</span>"]]))});a0(a5);a4.onVizSet(function(a9){a8.toggleClass("sfHide",a9!=="2D"&&a9!=="Arch")})};var aU=function(aZ,a3,a5){a3.empty();var a2=av("<ul></ul>").appendTo(a3);var a4=V.pluck(a5,"sVisKey");var a6={};var a0=function(a8){var a7=av('<li class="sfVizChoice"></li>').addClass(a8.sClassName).html(a8.sDisplayString);a7.click(function(){aZ.setViz(a8.sVisKey)});aZ.onVizSet(function(a9){a7.toggleClass("sfSelected",a9===a8.sVisKey)});return a7};for(var a1=0;a1<a5.length;a1++){a6[a5[a1].sVisKey]=a0(a5[a1])}aZ.onVizChoicesSet(function(a8){a2.empty();for(var a7=0;a7<a4.length;a7++){if(V.contains(a8,a4[a7])){a2.append(a6[a4[a7]])}}})};var aY=function(aZ,a4,a2,a5){var a3=a4.find(".sfComparisonInformation"),a1=a4.find(".sfFeelDescription"),a6=a4.find(".sfFeelHeading");a2(a3);a5(a1);aZ.onRecommendationAndTargetSizeAndWidthSet(function(ba,a7,a9){var a8={Size:Q.GetLocalizedSizeText(a7.oSizeObject),Width:a9};a6.html(Q.LocalizedString("The size {Size}#({Width})# will feel:",a8,[['<span class="sfHidableWidthLabel"> ',"</span>"]]))});aR(aZ,a4.find(".sfTargetModel"));Q.BindMinimalInputTargetSizeSelector(aZ,a4.find(".sfSizeSelector"));Q.BindRecAppTargetWidthSelector(aZ,a4.find(".sfWidthSelector"));var a0=a4.find(".sfOkClose");a0.find("span").html(Q.LocalizedString("Done!"));if(aZ.sizeGuideSettings.bEnableProfile){a0.click(function(){aZ.goToProfileCreation();return false})}else{a0.click(function(){Q.RecordMetric("OkCloseClicked");aZ.close();return false})}};var aR=function(a0,a1){var aZ=a1.find(".sfThumbImage");a0.onTargetModelSet(function(a2){aZ.attr("src",a2.Image4Url)})}})();Q.BindSameErrorPane=(function(){var aQ=Q.state;return function(aS){aS.find("#sf-same-error-heading").html(Q.LocalizedString("Hold up!"));var aW=aS.find("#sf-same-img");var aX=aS.find("#sf-same-goback").html(Q.LocalizedString("Go Back"));var aR="";aQ.OnStateChanged("show",function(aY){if(aY==="text-search"||aY==="filter-search"){aR=aY}});aX.click(function(){aQ.Set("show",aR);Q.RecordMetric("BackClicked");return false});aQ.OnStateChanged("input-model",function(aY){if(!V.isUndefined(aY)){aW.attr("src",Q.urlImageRoot+"/blank.png");if(aY.Image5Url){aW.attr("src",aY.Image5Url)}}});var aU=aS.find("#sf-same-error-caption-1");var aT=aS.find("#sf-same-error-caption-2");var aV=aS.find("#sf-same-restart");aV.html(Q.LocalizedString("I'll pick a shoe I own."));aV.click(function(){Q.Reset();Q.RecordMetric("TryAgainClicked");return false});aU.html(Q.LocalizedString("You just picked the shoe you're shopping for."));aQ.OnStateChanged("input-model",function(aY){if(!V.isUndefined(aY)){aT.html(Q.LocalizedString("We need you to tell us a shoe you wear now, so we can compare it to the {Model}.",{Model:aY.ModelDisplayName}))}})}})();Q.BindSearchResults=function(aQ,aR,aS,aZ,aW){var aU=aZ.find(".results-count");var aT=aZ.find(".results-empty");var aX=aZ.find(".results-loading");var aV=aZ.find(".results-waiting");var aY=aZ.find(".results");aQ.OnStatesChanged([aR,"search-gender","search-brand","search-colors","search-tag","search-styles","search-materials","search-patterns","search-accents","search-soccer-surface"],function(){var a1=aQ.Get(aR);var a3=aQ.Get("search-brand");var a4=aQ.Get("search-tag");var a2=aQ.Get("search-colors");var ba=aQ.Get("search-styles");var bb=aQ.Get("search-materials");var a8=aQ.Get("search-patterns");var be=aQ.Get("search-accents");var a6=aQ.Get("search-soccer-surface");var a9=aQ.Get("search-gender");if(V.isUndefined(a1)||a1==="loading"||a1==="waiting"){return}var bi=0;var bf=false;var bd=0;if(a1.TotalResults>a1.ReturnedResults){bi=a1.ReturnedResults;bf=true}else{bi=a1.TotalResults}if(!V.isUndefined(a3)){bd++}if(!V.isUndefined(a4)){bd++}if(!Q.settings.sForcedGenderBinary){if(!V.isUndefined(a9)){bd++}}if(a2&&a2.length>0){bd++}if(ba&&ba.length>0){bd++}if(bb&&bb.length>0){bd++}if(a8&&a8.length>0){bd++}if(be&&be.length>0){bd++}if(!V.isUndefined(a6)){bd++}var bc=[['<span class="strong">',"</span>"]];var a0={NumResults:bi+(bf?"+":"")};var a5;if(bi===1&&!bf){a5=Q.LocalizedString("#({NumResults})# shoe found",a0,bc)}else{a5=Q.LocalizedString("#({NumResults})# shoes found",a0,bc)}if(aW){var bg=[['<span class="strong">',"</span>"]];var a7={NumFilters:bd};var bh;if(bd===1){bh=Q.LocalizedString("#({NumFilters})# filter selected",a7,bg)}else{bh=Q.LocalizedString("#({NumFilters})# filters selected",a7,bg)}aU.html(a5+", "+bh)}else{aU.html(a5)}});aQ.OnStateChanged(aR,function(a1){if(a1==="loading"){aT.hide();if(aS){aY.show();aU.show()}else{aY.hide();aU.hide()}if(aV){aV.hide()}aX.show()}else{if(a1==="waiting"){aY.empty();aU.empty();aU.hide();aT.hide();aY.hide();if(aV){aV.show()}aX.hide()}else{if(!V.isUndefined(a1)&&a1.TotalResults===0){aY.empty();aU.empty();aU.hide();aY.hide();aX.hide();if(aV){aV.hide()}aT.show();Q.RecordMetric("SearchResultsReceived",{total:0,shown:0})}else{if(!V.isUndefined(a1)){aY.empty();if(!Q.settings.bEnableSvS2_2||a1.ReturnedResults>8){aU.show()}Q.RecordMetric("SearchResultsReceived",{total:a1.TotalResults,shown:a1.ReturnedResults});aY.show();aT.hide();aX.hide();if(aV){aV.hide()}var a2=av('<div class="shelf-row"></div>');var a0=av('<div class="result-row"></div>');V.each(a1.Results,function(a4,a5){var a3=av('<div class="result"></div>').append(av('<img src="'+a4.Image4Url+'" alt="'+a4.ModelName+'" />')).append(av('<div class="hover-tip"><p>'+a4.BrandName+"</p><p>"+a4.ModelDisplayName+"</p></div>"));a3.click(function(){aQ.Set("input-model",a4);Q.RecordMetric("ModelSelected",{mdl_id:a4.ModelId});if(Q.settings.bEnableNordstromExtendedReporting){Q.ReportEvent("ModelSelected")}if(a4.ModelId===aQ.Get("target-model").ModelId){aQ.Set("show","same-shoe-warning");Q.RecordMetric("SameModelWarning")}else{if(a4.IsEnabled){aQ.Set("show","size")}else{aQ.Set("show","shoe-not-scanned");Q.RecordMetric("ShoeNotScanned")}}return false});if(a5>0&&a5%4===0){av('<div class="shelf"></div>').appendTo(a2);a0.appendTo(a2);av('<div style="clear: both;"></div>').appendTo(a2);a2.appendTo(aY);a0=av('<div class="result-row"></div>');a2=av('<div class="shelf-row"></div>')}a0.append(a3)});av('<div class="shelf"></div>').appendTo(a2);a0.appendTo(a2);av('<div style="clear: both;"></div>').appendTo(a2);a2.appendTo(aY)}}}}})};Q.BindSGHeader=function(aV,aX,aQ,aY,aU){var aR='<div class="sfBack"><div></div><span></span></div><div class="sfHeaderTitle"></div><div class="sfLogo"></div><div class="sfClose"><div></div><span></span></div>';aX.html(aR);var aT=aX.find(".sfBack"),aS=aX.find(".sfClose"),aW=aX.find(".sfHeaderTitle");aT.find("span").html(Q.LocalizedString("Go Back"));aT.click(aY);aS.find("span").html(Q.LocalizedString("Close"));aS.click(function(){Q.RecordMetric("CloseClicked");aQ()});if(aU&&V.isFunction(aU)){aU(aW)}aV.registerEventCallback(["showGoBack"],function(aZ){aT.toggleClass("sfHide",!aZ)})};Q.BindShoeErrorPane=(function(){var aQ=Q.state;return function(aV){var a5=aV.find("#sf-shoe-escape");a5.html(Q.LocalizedString("Not your shoe?")+' <a id="sf-shoe-goback">'+Q.LocalizedString("Go Back")+"</a>");aV.find("#sf-shoe-scanned-error .sf-error-heading").html(Q.LocalizedString("Sorry!"));var a3=aV.find("#sf-shoe-scanned-error .sf-error-wrapper-1");var aU=aV.find("#sf-shoe-scanned-error .sf-error-wrapper-2");var aZ=aV.find("#sf-shoe-img");var aX=aV.find("#sf-shoe-goback");var aY=aV.find("#sf-shoe-error-size-caption");aY.html(Q.GetLocalizedInputUniverseMarkup1(au.sInputUniverseDisplayKey));var a2=aV.find("#sf-shoe-error-size-caption-2");a2.html(Q.GetLocalizedInputUniverseMarkup2(au.sInputUniverseDisplayKey));var a1=aV.find("#sf-shoe-scanned-error .sf-size-wrapper");var aS=aV.find("#sf-shoe-scanned-error .sf-size-loading");var aR=aV.find("#sf-shoe-scanned-error .sf-button-wrapper");var a4="";aQ.OnStateChanged("show",function(a6){if(a6==="text-search"||a6==="filter-search"){a4=a6}a5.toggle(!!a4)});aX.click(function(){aQ.Set("show",a4);Q.RecordMetric("BackClicked");return false});aQ.OnStateChanged("input-model",function(a6){if(!V.isUndefined(a6)){aZ.attr("src",Q.urlImageRoot+"/blank.png");if(a6.Image5Url){aZ.attr("src",a6.Image5Url)}}});var a0=aV.find("#sf-shoe-scanned-error .sf-restart-button");a0.html(Q.LocalizedString("Try Another Shoe"));a0.click(function(){Q.Reset();Q.RecordMetric("TryAgainClicked");return false});aQ.OnStateChanged("input-model",function(a6){if(!V.isUndefined(a6)){aV.find("#sf-shoe-error-heading").html(Q.LocalizedString("Sorry, we haven't measured the #({Brand} {Model})#.",{Brand:a6.BrandName,Model:a6.ModelDisplayName},[['<span class="strong">',"</span>"]]));aV.find("#sf-shoe-scanned-error .sf-error-caption").html(Q.LocalizedString("We haven't measured the #({Brand} {Model})#.",{Brand:a6.BrandName,Model:a6.ModelDisplayName},[['<span class="strong">',"</span>"]]))}});var aW=aV.find("#sf-shoe-error-size-selection");var aT=createButtonSizeSelector(aW,Q.LocalizedString,Q.GetLocalizedSizeText,function(a6){Q.RecordMetric("AverageSizeSelected",{size:a6.nNativeSize,sizingScheme:a6.sAlternateSizingScheme,displaySizingScheme:a6.sSizingScheme,displaySize1:a6.oSizeObject[1],displaySize2:a6.oSizeObject[2]});aQ.Set("avg-input-size",a6);aQ.Set("avg-input-scheme",a6.sSizingScheme);aQ.Set("show-width-rec",false);aQ.Set("show","avg-bias")});aQ.OnStateChanged("avg-input-size",function(a6){aT.updateSelectedSize(a6)});aQ.OnStatesChanged(["input-model","target-model","gender"],function(){var a9=aQ.Get("input-model");var a6=aQ.Get("target-model");var a8=aQ.Get("gender");a1.hide();a3.hide();aR.hide();aU.hide();aS.show();if(!V.isUndefined(a6)&&!V.isUndefined(a9)){var a7=new LoadPossibleSizesForAverageRequest(au.sMinimalInputSizeDisplayConvention,a6.InputUniverseId,a8);a7.Submit(function(bc){if(bc.Status!=="OK"){Q.RecordMetric("AverageSizesNotAvailable");aS.hide();aR.show();aU.show();return}if(Q.settings.bDisableMinimalInput||Q.settings.bEnableSvS2_2){aS.hide();aR.show();aU.show();return}var bb=bc.Result;var ba=G.ExtractSizeData(bb,au.sMinimalInputSizeDisplayConvention);aT.updateSizeChoices(ba);aS.hide();a1.show();a3.show()})}})}})();Q.BindSizeBiasPane=(function(){var aQ=Q.state;return function(aV){var a1=aV.find("#sf-size-bias");var aY=a1.find(".sf-fit-preference-caption");aQ.registerEventCallback(["input-size","input-width","show-width-rec"],function(a5,a7,a8){var a6={Size:G.GetSizeString(a5.oSizeObject[1]),Width:a7};if(a8){aY.html(Q.LocalizedString("How does your size {Size} {Width} in this shoe fit?",a6))}else{aY.html(Q.LocalizedString("How does your size {Size} in this shoe fit?",a6))}},false);var aZ=a1.find(".sf-size-img");var a0=a1.find(".sf-size-name-caption");a1.find(".sf-size-escape").html(Q.LocalizedString("Not your shoe?")+' <span class="sf-size-goback-wrapper"><a class="sf-size-goback">'+Q.LocalizedString("Go Back")+'</a> | </span><a class="sf-size-restart">'+Q.LocalizedString("Start Over")+"</a>");var aX=a1.find(".sf-size-restart");var aW=a1.find(".sf-size-goback");var a4=a1.find(".sf-size-goback-wrapper");var a2=a1.find(".sf-brand-model-caption");var aT=a1.find(".sf-size-prompt");var a3="";aQ.OnStateChanged("show",function(a5){if(a5==="text-search"||a5==="filter-search"){a3=a5}a4.toggle(!!a3)});aX.click(function(){Q.Reset();Q.RecordMetric("TryAgainClicked");return false});aW.click(function(){aQ.Set("show",a3);Q.ClearState("input-size");Q.ClearState("input-width");Q.RecordMetric("BackClicked");return false});aQ.OnStateChanged("input-model",function(a5){aZ.attr("src",Q.urlImageRoot+"/blank.png");if(!V.isUndefined(a5)){if(a5.Image5Url){aZ.attr("src",a5.Image5Url)}a0.html(Q.LocalizedString("Tell us about your #({Brand} {Model})#.",{Brand:a5.BrandName,Model:a5.ModelDisplayName},[['<span class="strong">',"</span>"]]))}});var aU=a1.find(".sf-choice-1");var aS=a1.find(".sf-choice-2");var aR=a1.find(".sf-choice-3");aU.html(Q.LocalizedString("A bit tight"));aS.html(Q.LocalizedString("Good"));aR.html(Q.LocalizedString("A bit loose"));aU.click(function(){aQ.Set("input-size-fit-offset",-1);Q.GetRecommendation(aQ);Q.RecordMetric("SizeOffsetButtonClicked",{offset:"-1",label:"tight"});if(Q.settings.bEnableNordstromExtendedReporting){Q.ReportEvent("FitPreferenceSelected")}return false});aS.click(function(){aQ.Set("input-size-fit-offset",0);Q.GetRecommendation(aQ);Q.RecordMetric("SizeOffsetButtonClicked",{offset:"0",label:"good"});if(Q.settings.bEnableNordstromExtendedReporting){Q.ReportEvent("FitPreferenceSelected")}return false});aR.click(function(){aQ.Set("input-size-fit-offset",1);Q.GetRecommendation(aQ);Q.RecordMetric("SizeOffsetButtonClicked",{offset:"1",label:"loose"});if(Q.settings.bEnableNordstromExtendedReporting){Q.ReportEvent("FitPreferenceSelected")}return false});if(Q.settings.bEnableSvS2_2){aQ.OnStateChanged("input-model",function(a5){if(V.isUndefined(a5)){return}aT.html(Q.LocalizedString("Tell us about your #({Model})# shoes.",{Model:a5.ModelDisplayName},[['<span class="strong">',"</span>"]]));a2.find(".sf-brand-name").html(a5.BrandName);a2.find(".sf-model-name").html(a5.ModelDisplayName)})}}})();Q.BindSizeErrorPane=(function(){var aQ=Q.state;return function(aU,aR){var aV=aU.find("#sf-size-scanned-error");aV.find(".sf-error-heading").html(Q.LocalizedString("Sorry!"));var aT=aV.find(".sf-error-caption");var aS=aV.find(".sf-error-close");aS.html(Q.LocalizedString("Close"));aS.click(function(){if(aR&&V.isFunction(aR)){aR()}return false});aQ.OnStateChanged("target-model",function(aW){if(!V.isUndefined(aW)){aT.html(Q.LocalizedString("We haven't measured the {Brand} {Model} in your size.",{Brand:aW.BrandName,Model:aW.ModelDisplayName}))}})}})();Q.BindSizePane=(function(){var aU=Q.state;var aS;var aT;var aQ=function(){if(!aT){aU.Set("input-width",aS)}if(!aU.Get("input-size")||!aU.Get("input-width")){return}aU.Set("show-width-rec",aU.Get("input-width")!==aS);aU.Set("show","size-bias")};var aR=function(aW,aV){aW.empty();V.each(aV,function(a0,aY){var aX=av('<div class="choice"></div>').html(a0);if(a0===aS){var aZ=Q.LocalizedString("standard");aX.append(av('<div class="sfStandardWidthLabel"></div>').text(aZ))}aX.click(function(){aU.Set("input-width",a0);Q.RecordMetric("WidthSelected",{width:a0});aQ();return false});if(aY>0&&aY%8===0){av('<div style="clear: both"></div>').appendTo(aW)}aU.OnStateChanged("input-width",function(a1){aX.toggleClass("selected",a0===a1)});aX.appendTo(aW)});av('<div style="clear: both"></div>').appendTo(aW)};return function(aX){var a2=aX.find("#sf-size-caption");if(Q.settings.bEnableSvS2_2){a2.html(Q.LocalizedString("What size are your shoes?"))}else{a2.html(Q.LocalizedString("What size is it?"))}var a9=aX.find("#sf-size .sf-size-img");var a1=aX.find("#sf-size .sf-size-name-caption");aX.find("#sf-size .sf-size-escape").html(Q.LocalizedString("Not your shoe?")+' <span class="sf-size-goback-wrapper"><a class="sf-size-goback">'+Q.LocalizedString("Go Back")+'</a> | </span><a class="sf-size-restart">'+Q.LocalizedString("Start Over")+"</a>");var a7=aX.find("#sf-size .sf-size-restart");var aY=aX.find("#sf-size .sf-size-goback");var a4=aX.find("#sf-size .sf-size-goback-wrapper");var ba=aX.find("#sf-size-width-wrapper");var bb=aX.find("#sf-size-selection");var a5=aX.find("#sf-width-selection");var a6=aX.find("#sf-size .sfSizeCaption");var aV=aX.find("#sf-width-caption");if(Q.settings.bEnableSvS2_2){aV.html(Q.LocalizedString("What width are your shoes?"))}else{aV.html(Q.LocalizedString("This shoe comes in multiple widths."))}var bc=aX.find("#sf-size .sf-brand-model-caption");var aZ=aX.find("#sf-size .sf-size-prompt");aU.OnStateChanged("input-width",function(bd){if(!bd){ba.hide()}return false});var a8="";aU.OnStateChanged("show",function(bd){if(bd==="text-search"||bd==="filter-search"){a8=bd}a4.toggle(!!a8)});a7.click(function(){Q.Reset();Q.RecordMetric("TryAgainClicked");return false});aY.click(function(){aU.Set("show",a8);Q.ClearState("input-size");Q.ClearState("input-width");Q.RecordMetric("BackClicked");return false});aU.OnStateChanged("input-model",function(bd){a9.attr("src",Q.urlImageRoot+"/blank.png");if(!V.isUndefined(bd)){if(bd.Image5Url){a9.attr("src",bd.Image5Url)}a1.html(Q.LocalizedString("Tell us about your #({Brand} {Model})#.",{Brand:bd.BrandName,Model:bd.ModelDisplayName},[['<span class="strong">',"</span>"]]))}});var a0=aX.find("#sf-size .sf-size-wrapper");var a3=aX.find("#sf-size .sf-size-loading");var aW=createButtonSizeSelector(bb,Q.LocalizedString,Q.GetLocalizedSizeText,function(bd){Q.RecordMetric("SizeSelected",{size:bd.nNativeSize,sizingScheme:bd.sAlternateSizingScheme,displaySizingScheme:bd.sSizingScheme,displaySize1:bd.oSizeObject[1],displaySize2:bd.oSizeObject[2]});aU.Set("input-size",bd);if(aT){ba.show()}else{aQ()}},false);aU.OnStateChanged("input-size",function(bd){aW.updateSelectedSize(bd)});aU.OnStateChanged("input-model",function(be){a0.hide();a3.show();if(!V.isUndefined(be)){var bd=new LoadAvailableSizesAndWidthsRequest(be.ModelId);if(au.sInputSizeDisplayConvention){bd.WithSizeDisplayConvention(au.sInputSizeDisplayConvention)}bd.Submit(function(bh){if(bh.Status!=="OK"){aU.Set("show","shoe-not-scanned");Q.RecordMetric("SizesNotAvailable");return}var bg=bh.Result;var bf=G.ExtractSizeData(bg,au.sInputSizeDisplayConvention);aW.updateSizeChoices(bf);Q.CreateSizingSchemeCaption(a6,bf);aS=bg.StandardWidth;aR(a5,bg.Widths);aT=bg.Widths.length>1;ba.hide();a3.hide();a0.show()})}});if(Q.settings.bEnableSvS2_2){aU.OnStateChanged("input-model",function(bd){if(V.isUndefined(bd)){return}aZ.html(Q.LocalizedString("Tell us about your #({Model})# shoes.",{Model:bd.ModelDisplayName},[['<span class="strong">',"</span>"]]));bc.find(".sf-brand-name").html(bd.BrandName);bc.find(".sf-model-name").html(bd.ModelDisplayName)})}}})();Q.BindSvSHeader=function(aW,aU){var aV=Q.state;var aR=["size","same-shoe-warning","shoe-not-scanned"];var aQ={rec:{destinationState:"size-bias",statesToClear:["input-size-fit-offset","recommendation-data"],eventsToFlush:[Q.recommendationEventFence]},"rec-loading":{destinationState:"size-bias",statesToClear:["input-size-fit-offset"],eventsToFlush:[Q.recommendationEventFence]},"size-not-scanned":{destinationState:"size-bias",statesToClear:["input-size-fit-offset"],eventsToFlush:[Q.recommendationEventFence]},"size-bias":{destinationState:"size",statesToClear:["input-size","input-width"]},"avg-rec":{destinationState:"avg-bias",statesToClear:["avg-input-size-fit-offset","avg-recommendation-data"],eventsToFlush:[Q.recommendationEventFence]},"avg-size-not-scanned":{destinationState:"avg-bias",statesToClear:["avg-input-size-fit-offset"],eventsToFlush:[Q.recommendationEventFence]},"avg-bias":{destinationState:"shoe-not-scanned",statesToClear:["avg-input-size"]},"text-search":{destinationState:"title",statesToClear:["search-brand","input-model","search-brand-name","search-model-name"]},"filter-search":{destinationState:"title",statesToClear:["search-brand","input-model","search-tag","search-colors","search-styles","search-materials","search-patterns","search-accents","search-soccer-surface"],eventsToFlush:[Q.searchEventFence]},size:{destinationState:null,statesToClear:[]},"same-shoe-warning":{destinationState:null,statesToClear:[]},"shoe-not-scanned":{destinationState:null,statesToClear:[]}};var aT=function(){var aZ=aV.Get("show");if(V.has(aQ,aZ)&&!V.isUndefined(aQ[aZ])){var aY=aQ[aZ];V.each(aY.statesToClear,function(a0){if(a0!=="search-brand"||!Q.settings.bDisableBrandSelection){Q.ClearState(a0)}});if(aY.eventsToFlush){V.each(aY.eventsToFlush,function(a0){a0.flushAll()})}Q.RecordMetric("BackClicked",{from:aV.Get("show"),to:aY.destinationState});if(aY.destinationState!==null){aV.Set("show",aY.destinationState)}else{if(aZ==="size"){aV.Set("show","title");V.each(["search-brand","input-model","search-brand-name","search-model-name","search-tag","search-colors","search-styles","search-materials","search-patterns","search-accents","search-soccer-surface"],function(a0){if(a0!=="search-brand"||!Q.settings.bDisableBrandSelection){Q.ClearState(a0)}})}}}};var aX=function(aY){aV.registerEventCallback(["search-brand-name","search-model-name","show"],function(aZ,a1,a0){if(a0==="text-search"){aY.html(Q.LocalizedString("Showing all #({Brand} {Model})#. Select yours.",{Model:a1,Brand:aZ},[['<span class="strong">',"</span>"]]))}else{aY.html("")}})};var aS=new SFState({showGoBack:false});Q.BindSGHeader(aS,aW,aU,aT,aX);aV.OnStateChanged("show",function(aY){if(aY==="filter-search"||aY==="text-search"){for(var aZ=0;aZ<aR.length;aZ++){var a0=aR[aZ];if(V.has(aQ,a0)){aQ[a0].destinationState=aY}}}aS.Set("showGoBack",!V.isUndefined(aQ[aY])&&!V.isUndefined(aQ[aY].destinationState))})};Q.BindSvSRecScreen=function(aU,aS){var aV=Q.state;var aX=SFUtil.IsMobile.AnyMobile()&&(!SFUtil.IsMobile.AnyTablet());var aW=new Z(au,Q.settings,aX,aS,function(){aV.Set("show","size")},au.asAllowableVisuals);var aR=new SFState({"input-model":undefined,"input-size":undefined,"input-display-width":undefined,"input-size-fit-offset":undefined,recommendation:undefined,"recommended-size":undefined});aW.onRecommendationDetailsSet(function(aY,a0,aZ,a1){aR.Set("recommendation",a1);aR.Set("recommended-size",aZ)});aW.onInputOrTargetSizeOrWidthOrOffsetSet(function(aY,a0,a2,aZ,a1){aR.Set("input-size",aY);aR.Set("input-size-fit-offset",a2);aR.Set("input-display-width",a0);aR.Set("target-size",aZ);aR.Set("target-width",a1)});aV.registerEventCallback(["input-model"],function(aY){aR.Set("input-model",aY)},false);var aQ=aG(aW,Q.LocalizedString("<strong>Same</strong> in the toes"),Q.LocalizedString("<strong>Same</strong> in width"),Q.LocalizedString("<strong>Same</strong> in the heel"));Q.BindRecScreenApplication(aW,aU.find("#sf-rec-app-root"),J(aR),z(aR),e(aR),aQ);aV.registerEventCallback(["target-model"],function(aY){aW.setTargetModel(aY)},false);aV.registerEventCallback(["recommendation","input-size","input-width","input-size-fit-offset"],function(a1,aY,aZ,a0){if(a1==="loading"){return}aW.setRecommendationDetails(a1,aY,aZ,a0);aW.setInputDisplayWidth(aZ)},false);aV.registerEventCallback(["show-width-rec"],function(aY){aW.setShowWidthRec(aY)});var aT=new SFState({isOpen:false,isRightStep:false});aV.registerEventCallback(["show"],function(aY){aT.Set("isRightStep",aY==="rec")});aV.registerEventCallback(["open"],function(aY){aT.Set("isOpen",aY)});aT.registerEventCallback(["isOpen","isRightStep"],function(aZ,aY){aW.setRecScreenVisible(aZ&&aY)})};Q.BindTextSearchPane=(function(){var aQ=Q.state;return function(aV){var aU=aV.find("#sf-text-search-caption");var aT=aV.find("#sf-text-search-brand");var aS=aV.find("#sf-text-search-series");var aR=aV.find("#sf-text-search");var aW=aV.find("#sf-text-search .results-empty");aW.html(Q.LocalizedString("Sorry, we couldn't find any shoes like that."));aU.html(Q.LocalizedString("Searching"));aQ.OnStateChanged("search-brand-name",function(aX){aT.html(aX||"")});aQ.OnStateChanged("search-model-name",function(aX){aS.html(aX||"")});Q.BindSearchResults(aQ,"text-search-results",false,aR,false)}})();Q.BindTitlePane=(function(){var aQ=Q.state;return function(aR){ap(aQ,aR.find("#sf-title-3"))}})();var ap=function(aU,aX){var a8=aX.find(".sf-title-heading");var a3=aX.find(".sf-title-heading-caption");var aR=aX.find(".sf-title-brand-typeahead");var bc=aX.find(".sf-title-typeahead");var a7=aX.find(".sf-title-search-button-caption");var aY=aX.find(".sf-title-search-button");var aZ=aX.find(".sf-title-input-wrapper-s0");var aW=aX.find(".sf-title-input-wrapper-s2");var a5=aX.find("#sf-title-3-target-image");aX.find("#sf-title-3-vs-text").html(Q.LocalizedString("VS"));var aS=aX.find("#sf-title-3-input-image");var a4=aX.find("#sf-title-3-bracket-image");var bb=Q.GetInputUniverseClassName(au.sInputUniverseDisplayKey);aS.addClass(bb);a4.addClass(bb);var a6=aX.find(".target-model .shoe-label-wrapper .brand");var aV=aX.find(".target-model .shoe-label-wrapper .model");var ba=aX.find(".input-model .shoe-label-wrapper .brand");var a1=aX.find(".input-model .shoe-label-wrapper .model");var aQ=aX.find(".sf-title-male-toggle");var a9=aX.find(".sf-title-female-toggle");aU.OnStateChanged("target-model",function(bd){if(bd){var be=bd.ModelDisplayName;a8.html(Q.GetLocalizedInputUniverseMarkup3(au.sInputUniverseDisplayKey,{Model:be},[['<span class="model-name">',"</span>"]]));a5.attr("src",bd.Image5Url);a6.text(bd.BrandName);aV.text(bd.ModelDisplayName)}});a3.html(Q.LocalizedString("to find you the perfect fit."));a7.html(Q.LocalizedString("- or -"));aY.html(Q.LocalizedString("I don't know its name."));if(Q.settings.bEnableSvS2_2&&Q.settings.bDisableMinimalInput){a7.addClass("sfHide");aY.addClass("sfHide")}aU.OnStateChanged("search-brand",function(bd){if(!V.isUndefined(bd)){ba.text(bd.BrandName);a1.text("?")}else{ba.text("?");a1.text("")}});X(aQ,a9,aU);if(Q.settings.sForcedGenderBinary){aX.find(".sf-title-gender-select").hide()}if(Q.settings.bDisableBrandSelection){aX.find(".sf-title-input-wrapper-s1").hide()}var aT=createBrandSuggestionTextbox(aR,Q.LocalizedString("What brand is your shoe?"),Q.LocalizedString,function(bd){return new FilterBrandsRequest(bd).WithInputUniverseFilter(au.oTargetModel.InputUniverseId)},function(bd){var be=Q.GetBrand(bd.BrandId);aU.Set("search-brand",be);Q.RecordMetric("SelectedBrand",{br_id:bd.BrandId})},function(bd){Q.RecordMetric("BrandInput",{s:bd})});aU.OnStateChanged("search-brand",function(bd){if(V.isUndefined(bd)){aT.reset()}});var a0=false;aU.OnStateChanged("search-brand",function(be){var bd=!V.isUndefined(be);if(bd){aZ.addClass("animating");aW.css("visibility","inherit");aW.fadeIn({duration:650,queue:false,easing:"easeInOutCubic"});V.defer(function(){aW.css({left:200});aW.animate({left:0},{duration:400,queue:false,easing:"easeInOutCubic",complete:function(){aZ.removeClass("animating")}})});a0=true;bc.addClass("active");aR.removeClass("active")}else{aW.hide();aW.css("visibility","hidden");bc.removeClass("active");aR.addClass("active");a0=false}});aR.find("input").focus(function(){if(a0){Q.ClearState("search-brand")}});var a2=createModelSeriesSuggestionTextbox(bc,Q.LocalizedString("Happen to know the model name?"),Q.LocalizedString,function(bd){var bf=aU.Get("gender");var be=G.GetSearchGenderIds(au.oTargetModel.AgeKey,bf);return new FilterModelSeriesRequest(bd).WithGenderFilter(be).WithInputUniverseFilter(au.oTargetModel.InputUniverseId)},function(bd){aU.Set("search-brand-name",bd.BrandName);aU.Set("search-model-name",bd.ModelSeriesName);var be=new SearchByModelSeriesRequest(Q.iMaxSearchResults);if(bd.ModelId){be.WithModelId(bd.ModelId)}if(bd.ModelSeriesId){be.WithModelSeriesId(bd.ModelSeriesId)}a2.blur();aU.Set("show","text-search");aU.Set("text-search-results","loading");be.SubmitExpectingSuccess(function(bf){aU.Set("text-search-results",bf)});Q.RecordMetric("SearchByModelSeries",{mdl_id:bd.ModelId,mse_id:bd.ModelSeriesId})},function(bd){Q.RecordMetric("ModelInput",{s:bd})},!V.isUndefined(Q.settings.sForcedGenderBinary));aU.OnStateChanged("input-model",function(bd){if(V.isUndefined(bd)){a2.reset()}});aU.OnStateChanged("search-model-name",function(bd){if(V.isUndefined(bd)){a2.reset()}});aU.OnStateChanged("gender",function(){a2.refresh()});F(aY,aU)};var X=function(aV,aU,aR){var aT="A";if(au.oTargetModel){aT=au.oTargetModel.AgeKey}var aQ=Q.CreateToggle(aV[0],false,(aT==="A"?Q.LocalizedString("Men's"):Q.LocalizedString("Boys'")),function(aX,aW){if(aX&&aW){aR.Set("gender","M");Q.RecordMetric("GenderSelected",{gender:"M"})}});var aS=Q.CreateToggle(aU[0],true,(aT==="A"?Q.LocalizedString("Women's"):Q.LocalizedString("Girls'")),function(aX,aW){if(aX&&aW){aR.Set("gender","F");Q.RecordMetric("GenderSelected",{gender:"F"})}});aR.OnStateChanged("gender",function(aW){aQ.Toggle(aW==="M");aS.Toggle(aW==="F")})};var F=function(aQ,aR){aQ.click(function(){Q.RecordMetric("SearchClicked");if(Q.settings.bEnableSvS2_2){aR.Set("show","fallback-minimal-input")}else{aR.Set("show","filter-search");aR.Set("filter-search-results","waiting")}return false})};function ar(aQ){aQ.css({display:"none",visibility:"hidden"})}function o(aQ,aR){aQ.css({display:aR,visibility:"inherit"})}Q.BindTransitions=(function(){var aQ=Q.state;return function(aT){var aS=aT.find("#sf-flow");var aV={"not-scanned":aT.find("#sf-scanned-error")};var aR={"text-search":aT.find("#sf-text-search"),"filter-search":aT.find("#sf-filter-search"),size:aT.find("#sf-size"),"size-bias":aT.find("#sf-size-bias"),"shoe-not-scanned":aT.find("#sf-shoe-scanned-error"),"avg-bias":aT.find("#sf-avg-bias"),"same-shoe-warning":aT.find("#sf-shoe-same-error"),"size-not-scanned":aT.find("#sf-size-scanned-error"),rec:Q.settings.bEnableSvS2_2?aT.find("#sf-rec-app-root"):aT.find("#sf-rec"),"rec-loading":aT.find("#sf-rec-loading"),"avg-size-not-scanned":aT.find("#sf-avg-size-scanned-error"),"avg-rec":aT.find("#sf-avg-rec"),"fallback-minimal-input":av([])};aV.title=aT.find("#sf-title-3");function aW(aY){var aX=aV[aY]||aR[aY];var aZ=V.has(aV,aY);if(!aX){return false}if(!aZ){o(aS,"block")}o(aX,"block");return true}function aU(aY,a1){var a0=aV[aY]||aR[aY];var aX=aV[a1]||aR[a1];var aZ=V.has(aV,aY);var a2=V.has(aV,a1);if(!a0||!aX){return false}if(aY===a1){return true}if(aZ===a2){ar(a0);o(aX,"block");return true}if(aZ&&!a2){o(aX,"block");ar(a0);o(aS,"block");return true}if(!aZ&&a2){ar(aS);o(aX,"block");ar(a0);return true}return false}aQ.OnStateChanged("show",function(aY,aX){if(V.isUndefined(aX)&&V.isUndefined(aY)){return}else{if(V.isUndefined(aX)&&aW(aY)){return}else{if(aU(aX,aY)){return}else{throw new Error("unexpected transition: "+aX+" > "+aY)}}}})}})();Q.Create3dViz=function(){var aQ=Q.state;return function(aR){var aS=createHeatMapViewModel();aQ.registerEventCallback(["recommendation","target-size","target-width"],function(aV,aT,aU){aS.updateRecommendationData(aV,aT,aU)},false);aQ.registerEventCallback(["target-size","target-width"],function(aT,aU){aS.updateTargetSize(aT,aU)},false);return{fOnBind:function(){var aV=av("<div/>").addClass("sf-3d-viz-container").appendTo(aR);var aX=av("<div/>").css({position:"relative",top:"15px"}).appendTo(aV);var aT=ay(aX,true);aS.onVisibilityAndVisualsAndTargetSelectionSet(function(a1,a0,a2,a3){aT.update(a1,a0,a2,a3)});var aY=av('<h1 class="sf-viz-caption1"/>').appendTo(aV);var aW=av('<h1 class="sf-viz-caption2"/>').appendTo(aV);aQ.registerEventCallback(["target-size","target-width","show-width-rec"],function(a0,a3,a2){var a1="How the #(Size {Size})# will feel";if(a2){a1="How the #(Size {Size} {Width})# will feel"}aY.html(Q.LocalizedString(a1,{Size:Q.GetLocalizedSizeText(a0.oSizeObject),Width:a3},[["<b>","</b>"]]))},false);aQ.registerEventCallback(["input-model"],function(a0){aW.html(Q.LocalizedString("compared to your {Model}",{Model:a0.ModelDisplayName}))},false);var aU=av("<div/>").appendTo(aV);var aZ=createHeatMapLegendView(aU,aS.aoFeelGradientPhases,Q.LocalizedString);aS.onVisibilitySet(function(a0){aZ.update(a0)})},fOnShow:function(){aS.show()},fOnHide:function(){aS.hide()}}}};Q.CreateSizingSchemeCaption=function(aR,aQ){aR.empty();if(aQ.length>0&&Q.settings.bEnableNotYetLocalized){aR.html(Q.LocalizedString("Showing #({SizingScheme})# sizes.",{SizingScheme:Q.LocalizedString(aQ[0].sSizingScheme)},[['<span class="sfSizingScheme">',"</span>"]]))}};Q.InitializeEntryPoints=function(){switch(au.iClientId){case 1:case 59:return Q.InitializeRunningWarehouse();case 2:case 57:return Q.InitializeWithOriginalEntryPoints();case 10:return Q.InitializeArtsCyclery();case 12:case 86:return Q.InitializeWithOriginalEntryPoints();case 14:case 96:return Q.InitializeWithOriginalEntryPoints();case 16:return Q.InitializeSoccerPro();case 17:return Q.InitializeSaucony();case 18:case 97:return Q.InitializeWithOriginalEntryPoints();case 21:case 32:case 33:case 167:return Q.InitializeVivoBarefootEntryPoints("Show me<br/>how it fits!","The best size for<br/>you is ","14","vivoBarefootFlag-20140819.png");case 166:return Q.InitializeVivoBarefootEntryPoints("Vilken storlek<br/>passar mig?","Din rätta storlek<br/>är ","13","vivoBarefootFlag-se-20141009.png");case 23:case 26:case 27:case 28:case 107:case 108:case 109:case 161:case 162:return Q.InitializeWithOriginalEntryPoints();case 25:case 156:return Q.InitializeSkoraEntryPoints();case 29:return Q.InitializeWithOriginalEntryPoints();case 30:case 111:case 125:return Q.InitializeWithOriginalEntryPoints();case 34:case 71:return Q.InitializeHolabirdSportsEntryPoints();case 36:case 98:return Q.InitializeWithOriginalEntryPoints();case 40:return Q.InitializeHeels();case 41:case 60:return Q.InitializeNewBalance();case 43:case 129:return Q.InitializeUnivers();case 44:case 62:return Q.InitializeSeSoccerEn();case 45:return Q.InitializeSeWss();case 48:return Q.InitializeSeLacrosse();case 49:return Q.InitializeSeWls();case 50:return Q.InitializeSeWrs();case 46:case 110:return Q.InitializeSeSoccerEn();case 47:return Q.InitializeSeTfm();case 52:return Q.InitializeNordstrom();case 55:return Q.InitializeTheGolfWarehouseEntryPoints();case 56:case 54:return Q.InitializeZalando();case 22:case 100:case 159:return Q.InitializeMizuno();case 72:return Q.InitializeRei();case 75:case 151:return Q.InitializeFootSmart();case 77:return Q.InitializeShoesForCrews();case 101:case 102:case 164:return Q.InitializeShoesForCrewsEuro("Show me how it fits!","The best size for you is<br/>");case 103:return Q.InitializeShoesForCrewsEuro("Quelle est ma pointure?","La taille qui vous convient<br/>est ");case 104:return Q.InitializeShoesForCrewsEuro("Welche Größe passt mir?","Die perfekte Größe für dich<br/>ist ");case 78:case 83:case 85:return Q.InitializeKellerSports("Welche Größe passt mir?","Die perfekte Größe für dich ist",false);case 79:case 122:case 130:return Q.InitializeKellerSports("Quelle est ma pointure?","La taille qui vous convient est",false);case 80:case 124:return Q.InitializeKellerSports("¿Cuál es mi talla?","La talla que mejor se ajusta a ti es",true);case 81:case 128:return Q.InitializeKellerSports("Welke maat past mij?","De beste maat voor u is",false);case 84:case 131:return Q.InitializeKellerSports("Qual è il mio numero?","La taglia perfetta per te è",false);case 120:return Q.InitializeKellerSports("Vilken storlek passar mig?","Storleken som passar dig bäst är",false);case 121:return Q.InitializeKellerSports("Se hvordan den passer.","Den bedste størrelse for dig er",false);case 51:case 82:return Q.InitializeKellerSports("What size fits me?","The best size for you is",true);case 88:return Q.InitializeJabong();case 89:return Q.InitializeThreeTwo();case 90:return Q.InitializeShoeMint();case 93:return Q.InitializeSportsAuthority();case 94:return Q.InitializeSoccerSavings();case 105:case 155:return Q.InitializeAltraDropZero();case 112:return Q.InitializeClarks();case 114:return Q.InitializeColeHaan();case 115:return Q.InitializeAdidas();case 116:return Q.InitializeReebok();case 117:return Q.InitializeToryBurch();case 118:return Q.InitializeBassProShops();case 119:return Q.InitializeHokaOneOne();case 123:case 153:return Q.InitializeFootJoy();case 126:return Q.InitializeBootBarn();case 132:return Q.InitializeDrMarten();case 133:return Q.InitializeOnlineShoes();case 134:return Q.InitializeChineseLaundry();case 138:case 140:case 141:case 142:case 143:return Q.InitializeCrocs();case 139:return Q.InitializeShoebuy();case 144:return Q.InitializeWestMarine();case 145:return Q.InitializeBaseballSavingsEntryPoints();case 163:return Q.InitializeFatalObsessions();case 168:return Q.InitializeJackErwin();case 170:return Q.InitializeConstructionGear();case 171:return Q.InitializeSafetyGirl();case 173:return Q.InitializeDanner();case 176:case 179:case 187:case 189:case 192:case 195:return Q.InitializeZara("SEE HOW IT FITS","Get a size recommendation","Size {SizeRec} will fit you best","VIEW DETAILS");case 177:return Q.InitializeZara("SEE HOW IT FITS","Get a size recommendation","Size {SizeRec} will fit you best","VIEW DETAILS");case 178:case 180:case 182:case 184:case 186:case 188:case 191:case 193:case 198:return Q.InitializeZara("SEE HOW IT FITS","Get a size recommendation","Size {SizeRec} will fit you best","VIEW DETAILS");case 181:case 183:case 190:case 194:case 196:return Q.InitializeZara("SEE HOW IT FITS","Get a size recommendation","Size {SizeRec} will fit you best","VIEW DETAILS");case 185:return Q.InitializeZara("SEE HOW IT FITS","Get a size recommendation","Size {SizeRec} will fit you best","VIEW DETAILS");case 197:return Q.InitializeZara("SEE HOW IT FITS","Get a size recommendation","Size {SizeRec} will fit you best","VIEW DETAILS");case 200:return Q.InitializeSoccerloco();default:return Q.InitializeDefault()}};Q.InitializeDefault=function(){return Q.InitializeWithCustomEntryPoint(Q.urlImageRoot+"/entryPoints/default-20111207.png",Q.urlImageRoot+"/entryPoints/default-over-20111207.png")};Q.InitializeWithCustomEntryPoint=function(aQ,aR){return Q.InitializeWithCustomEntryPointFunction(function(aT){var aS=Q.SwapEntryPointImage(aT,aQ,aR);return{jEntryPoint:aT,jClickPoint:aS}})};Q.InitializeWithOriginalEntryPoints=function(){return Q.InitializeWithCustomEntryPointFunction(function(aQ){return{jEntryPoint:aQ,jClickPoint:aQ}})};function aa(){var aR=true;if(SFUtil.IsMobile.AnyMobile()){var aU=SFUtil.GetViewportProperties();var aV=780;var aQ=av(window).width();if(V.has(aU,"width")){if(aU.width!=="device-width"){aQ=aU.width}}var aS=av(window).height();if(V.has(aU,"height")){if(aU.height!=="device-height"){aS=aU.height}}var aT=Math.max(aS,aQ);if(aT<aV){aR=false}}return aR}Q.InitializeWithCustomEntryPointFunction=function(aR){var aV=Y.entryPoints;var aT=Q.PickEntryPoints(aV);var aU=Y.touchPoints||aV;var aQ=Q.PickTouchPoints(aU);var aS=V.map(aT,aR);if(Q.settings.bShowSizeGuide&&aa()){Q.RevealEntryPoints(aQ)}return aS};Q.PickEntryPoints=function(aQ){return Q.PickElements(aQ,"entry point")};Q.PickTouchPoints=function(aQ){return Q.PickElements(aQ,"touch point")};Q.PickElements=function(aR,aS){var aQ=[];V.each(aR,function(aT){var aU=av("#"+aT);if(!aU||!aU.length){V.defer(function(){throw new Error("a provided Shoefitr "+aS+" was not found: "+aT)});return}aQ.push(aU)});return aQ};Q.SwapEntryPointImage=function(aS,aR,aU){var aQ=aS[0];var aT=SFUtil.CreateImageRollover(aR,aU);SFUtil.ClearChildren(aQ);aQ.appendChild(aT);return av(aT)};Q.RevealElement=function(aQ){aQ.css("visibility","visible");if(aQ.css("display")=="none"){aQ.css("display","")}};Q.RevealEntryPoints=function(aQ){V.each(aQ,Q.RevealElement)};function ag(aQ){switch(aQ){case 1:case 59:return Q.InitializeRunningWarehousePopup();case 0:case 52:return Q.InitializeNordstromPopup();default:return null}}Q.InitializePopupSettings=function(){return ag(au.iClientId)||{}};function aw(aQ){for(var aR in aQ){if(window.location.toString().indexOf(aR)!=-1){SFUtil.SetCookie("sf_override",aR);SFUtil.DeleteCookie("sf_save_data");alert(aQ[aR]);break}}return SFUtil.GetCookie("sf_override")}function n(aS,aT){var aU=au.sLocale==="en";if(aU){aS.bEnableNotYetLocalized=true;if(aT!==52){aS.bEnableSvS2_2=true;aS.bEnableMinimalInputRecV2=true}}else{aS.bDisableEmailCollection=true}switch(aT){case 0:aS.bEnableMinimalInputOnly=true;break;case 9:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 12:aS.bExcludeLocalizedHalfSizes=true;aS.bDisableMinimalInput=true;break;case 86:aS.bExcludeLocalizedHalfSizes=true;aS.bEnableMinimalInputOnly=true;break;case 17:aS.iOverlayOpacity=60;break;case 40:aS.bEnableMinimalInputOnly=true;if(Q.SetupSplitTest("shoefitr-save-profile-20141118",0.2)){aS.bEnableProfile=true}break;case 41:aS.sOverlayColor="#111";if(!Q.SetupSplitTest("shoefitr-show-svs-20141017",0.5)){aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true}break;case 60:aS.sOverlayColor="#111";aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 52:aS.bEnableNordstromPrivacyPolicy=true;aS.bDisableEmailCollection=true;aS.bEnableInterruptingRecommendations=true;aS.aiInterruptingRecModelIds=[15585,28071,24376];aS.bEnableNordstromExtendedReporting=true;aS.bEnableMinimalInputOnly=true;aS.bEnableForceWidthsOnMultiWidthShoes=true;var aR=window.location.hostname.toString().indexOf("nordstrom")<0;var aQ=aR;if(au.sEntryPointSetting==="N WOMEN'S DRESS"){aS.iWhichNordstomTestEntryPoint=aQ?3:1}else{if(au.sEntryPointSetting==="N MEN'S DRESS"){aS.iWhichNordstomTestEntryPoint=2}else{aS.iWhichNordstomTestEntryPoint=0}}break;case 55:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 56:case 54:aS.bEnableZalandoExtendedReporting=true;aS.bEnableMinimalInputOnly=true;break;case 77:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;if(Q.SetupSplitTest("shoefitr-new-flow-20141125",0.5)){aS.bEnableNewFlow=true;if(Q.SetupSplitTest("shoefitr-questionnaire-20141125",0.5)){aS.bEnableQuestionnaire=true;if(Q.SetupSplitTest("shoefitr-questionnaire-variation-20141125",0.5)){aS.bEnableQuestionnaireVariation=true}}}break;case 101:aS.bEnableMinimalInputOnly=true;break;case 102:case 103:case 104:case 164:aS.bDisableEmailCollection=true;aS.bEnableMinimalInputOnly=true;aS.bExcludeLocalizedHalfSizes=true;break;case 72:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 75:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 151:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 88:aS.bEnableMinimalInputOnly=true;aS.bExcludeLocalizedHalfSizes=true;aS.bShowInputWholeSizesOnly=true;break;case 90:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 112:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 114:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 117:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 118:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 123:case 153:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 124:case 128:case 130:case 131:aS.bEnableMinimalInputOnly=true;break;case 126:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 132:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 133:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;aS.bShowSizeGuide=false;if(Y.version==="newsite"||window.location.toString().indexOf("shoefitr-new-entry-point")!=-1){aS.bEnableNewEntryPoint=true}break;case 134:aS.bEnableMinimalInputOnly=true;break;case 135:aS.bEnableMinimalInputOnly=true;aS.bForceFullFlashShoe=true;break;case 136:aS.bEnableMinimalInputOnly=true;aS.bForceFullNonFlashShoe=true;break;case 137:aS.bEnableMinimalInputOnly=true;aS.bForceLimitedNonFlashShoe=true;break;case 138:case 140:case 141:case 142:case 143:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 139:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 144:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 145:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 150:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 163:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 168:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 170:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 171:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 173:aS.bEnableMinimalInputOnly=true;aS.bEnableMinimalInputWidths=true;break;case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:case 185:case 186:case 187:case 188:case 189:case 190:case 191:case 192:case 193:case 194:case 195:case 196:aS.bEnableMinimalInputOnly=true;break}}Q.InitializeSettings=function(){var aR={};var aQ=aw({"shoefitr-force-normal":"Shoefitr reset to behave as normal.","shoefitr-new-flow":"Shoefitr reset to show new flow.","shoefitr-force-n1":"Shoefitr reset to show Nordstrom variation #1.","shoefitr-force-n2":"Shoefitr reset to show Nordstrom variation #2.","shoefitr-force-n3":"Shoefitr reset to show Nordstrom variation #3.","shoefitr-force-mi-widths":"Shoefitr reset to show widths in minimal input.","shoefitr-force-mi":"Shoefitr reset to show minimal input only application.","shoefitr-force-svs":"Shoefitr reset to show shoe-vs-shoe application.","shoefitr-force-popups":"Shoefitr reset to show interrupting rec popups.","shoefitr-force-new-rec":"Shoefitr reset to show rec screen version 2."});aR.bShowSizeGuide=au.bModelScanned&&Q.IsValidInputUniverseDisplayKey(au.sInputUniverseDisplayKey,au.sLocale);aR.sForcedGenderBinary=au.sForcedGenderBinary;n(aR,au.iClientId);var aS=au.oTargetModel&&au.oTargetModel.AgeKey!=="A";if(aS){aR.bDisableMinimalInput=true;if(aR.bEnableMinimalInputOnly){aR.bShowSizeGuide=false}}switch(aQ){case"shoefitr-force-n1":aR.bEnableMinimalInputOnly=true;break;case"shoefitr-force-n2":aR.bEnableMinimalInputRecV2=true;aR.bEnableMinimalInputOnly=true;break;case"shoefitr-force-n3":aR.bEnableMinimalInputOnly=true;aR.bEnableMinimalInputRecV2=true;aR.bEnableMinimalInputWidths=true;break;case"shoefitr-force-mi":aR.bEnableMinimalInputOnly=true;break;case"shoefitr-force-svs":aR.bEnableMinimalInputOnly=false;break;case"shoefitr-force-mi-widths":aR.bEnableMinimalInputOnly=true;aR.bEnableMinimalInputWidths=true;aR.bEnableMinimalInputRecV2=true;aR.bEnableWidthWarning=true;break;case"shoefitr-force-popups":aR.bEnableInterruptingRecommendations=true;break;case"shoefitr-force-new-rec":aR.bEnableSvS2_2=true;aR.bEnableMinimalInputRecV2=true;aR.bEnableMinimalInputWidths=true;break;case"shoefitr-new-flow":aR.bEnableNewFlow=true;break}if(!aR.bEnableNotYetLocalized){aR.bEnableSvS2_2=false;aR.bEnableMinimalInputWidths=false;aR.bEnableMinimalInputRecV2=false;aR.bEnableNewFlow=false}if(aR.bEnableMinimalInputWidths&&!aR.bEnableMinimalInputRecV2){aR.bEnableMinimalInputWidths=false}if(aR.bEnableForceWidthsOnMultiWidthShoes&&!aR.bEnableMinimalInputWidths){aR.bEnableForceWidthsOnMultiWidthShoes=false}return aR};Q.GetAverageRecommendation=function(aQ){var aR=aQ.Get("avg-input-size");var aZ=aQ.Get("avg-input-size").nNativeSize;var aU=aQ.Get("avg-input-size-fit-offset");var aX=aQ.Get("target-model");var aY=aX.ModelId;var aV=aX.InputUniverseId;var aS=aQ.Get("gender");var aT=new GetRecommendationFromAverageRequest(aZ,aR.sSizingScheme,aS,aV,aY);if(au.sRecommendationSizeDisplayConvention){aT.WithSizeDisplayConvention(au.sRecommendationSizeDisplayConvention)}var a0=au.sGenderBinary;if(au.bUnisexMerchandise&&au.oTargetModel.GenderBinaryKeys.length>1){a0=aS}if(a0){aT.WithGenderBinary(a0)}if(!V.isUndefined(aU)){aT.WithSizeOffset(-aU*1/6)}if(Q.settings.bExcludeLocalizedHalfSizes){aT.WithExcludeLocalizedHalfSizes(true)}if(!V.isUndefined(au.bNormalizeMinimalInputArchView)){aT.WithNormalizeArchViewHeelHeights(au.bNormalizeMinimalInputArchView)}var aW=Q.recommendationEventFence.startNewEvent();aQ.Set("avg-recommendation-data",["loading",null]);aQ.Set("show","avg-rec");aT.Submit(SFUtil.WrapWithDelay(1750,function(a3){if(!aW.isMostRecent()){return}if(a3.Status==="OK"){var a2=a3.Result;var a1=G.ExtractSizeData(a2,au.sRecommendationSizeDisplayConvention);var a4=V.find(a1,function(a6){return a6.nNativeSize===a2.RecommendedSize});var a5={currentSize:aR.nNativeSize,currentSizingScheme:aR.sAlternateSizingScheme,currentDisplaySizingScheme:aR.sSizingScheme,currentDisplaySize1:aR.oSizeObject[1],currentDisplaySize2:aR.oSizeObject[2],currentWidth:2,currentSizeFitOffset:aU,targetModelId:aY,recommendedSize:a4.nNativeSize,recommendedSizingScheme:a4.sAlternateSizingScheme,recommendedDisplaySizingScheme:a4.sSizingScheme,recommendedDisplaySize1:a4.oSizeObject[1],recommendedDisplaySize2:a4.oSizeObject[2],recommendedWidth:a2.RecommendedWidth};aQ.Clear("recommendation-data");aQ.Set("avg-recommendation-data",[a2,a5]);Q.SaveCurrentInputs(aQ)}else{aQ.Set("show","avg-size-not-scanned")}}))};Q.GetRecommendation=function(aQ){var aR=aQ.Get("input-size");var aY=aR.nNativeSize;var aU=aQ.Get("input-size-fit-offset");var aT=aQ.Get("input-width");var aV=aQ.Get("input-model").ModelId;var aX=aQ.Get("target-model").ModelId;var aS=new SizeRecommendationRequest(aV,aY,au.sInputSizeDisplayConvention,null,aT,aX);if(au.sRecommendationSizeDisplayConvention){aS.WithSizeDisplayConvention(au.sRecommendationSizeDisplayConvention)}var aZ=au.sGenderBinary;if(au.bUnisexMerchandise&&au.oTargetModel.GenderBinaryKeys.length>1){aZ=aQ.Get("gender")}if(aZ){aS.WithGenderBinary(aZ)}if(!V.isUndefined(aU)){aS.WithSizeOffset(-aU*1/6)}if(Q.settings.bExcludeLocalizedHalfSizes){aS.WithExcludeLocalizedHalfSizes(true)}var aW=Q.recommendationEventFence.startNewEvent();aQ.Set("recommendation-data",["loading",null]);if(Q.settings.bEnableSvS2_2){aQ.Set("show","rec-loading")}else{aQ.Set("show","rec")}aS.Submit(SFUtil.WrapWithDelay(1750,function(a2){if(!aW.isMostRecent()){return}if(a2.Status==="OK"){var a1=a2.Result;var a0=G.ExtractSizeData(a1,au.sRecommendationSizeDisplayConvention);var a3=V.find(a0,function(a5){return a5.nNativeSize===a1.RecommendedSize});var a4={currentModelId:aV,currentSize:aR.nNativeSize,currentSizingScheme:aR.sAlternateSizingScheme,currentDisplaySizingScheme:aR.sSizingScheme,currentDisplaySize1:aR.oSizeObject[1],currentDisplaySize2:aR.oSizeObject[2],currentWidth:aT,currentSizeFitOffset:aU,targetModelId:aX,recommendedSize:a3.nNativeSize,recommendedSizingScheme:a3.sAlternateSizingScheme,recommendedDisplaySizingScheme:a3.sSizingScheme,recommendedDisplaySize1:a3.oSizeObject[1],recommendedDisplaySize2:a3.oSizeObject[2],recommendedWidth:a1.RecommendedWidth};aQ.Clear("avg-recommendation-data");aQ.Set("recommendation-data",[a1,a4]);Q.SaveCurrentInputs(aQ);aQ.Set("show","rec")}else{aQ.Set("show","size-not-scanned")}}))};Q.Initialize=(function(){var aR=false;var aQ=Q.state;return function(){if(aR){throw new Error("cannot double-instantiate SizeGuide application")}aR=true;if(Y.entryPoints&&Y.hostContainer){delete Y.entryPoints}if(!Y.entryPoints&&!Y.hostContainer){throw new Error("must provide either entryPoints or hostContainer parameters")}Q.settings=Q.InitializeSettings();if(window.location.toString().indexOf("shoefitr-debug-color")!=-1){alert('Shoefitr now using: "'+Y.customSku+'"')}var aU;var a3;var a7,aW,a6;var a5;if(Y.entryPoints){a3=av("<div />");var a1=Q.InitializeEntryPoints();a6=E(a1);var a0="#000";if(Q.settings.sOverlayColor){a0=Q.settings.sOverlayColor}var ba=75;if(Q.settings.iOverlayOpacity){ba=Q.settings.iOverlayOpacity}var aX=new Overlay(a3,null,null,500,null,a0,ba);var aV;var a9;var a4=false;var aZ=1000;var aY=createEventFence();a7=function(){a4=true;var bc=aY.startNewEvent();setTimeout(function(){if(bc.isMostRecent()){a4=false}},aZ);if(SFUtil.IsMobile.AnyMobile()){aV={left:av(document).scrollLeft(),top:av(document).scrollTop()};var bb="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1, maximum-scale=1";if(av("meta[name=viewport]").size()>0){a9=av("meta[name=viewport]").attr("content");av("meta[name=viewport]").attr("content",bb)}else{a9="";av("<meta/>").attr({name:"viewport",content:bb}).appendTo(av("head"))}av(document).scrollLeft(0);av(document).scrollTop(0)}aU.toggleClass("sfHide",false);aX.Show(400);Q.RecordMetric("ApplicationOpened",{popup:true});Q.ReportEvent("ApplicationOpened");aQ.Set("open",true);return false};aW=function(){aU.toggleClass("sfHide",true);aX.Hide(400);Q.RecordMetric("ApplicationClosed");aQ.Set("open",false);if(SFUtil.IsMobile.AnyMobile()){av("meta[name=viewport]").attr("content",a9);av(document).scrollLeft(aV.left);av(document).scrollTop(aV.top)}return false};aX.on("click touchstart",function(){if(!a4){aW()}});V.chain(a1).map(function(bb){return bb.jClickPoint}).each(function(bb){bb.css("cursor","pointer").click(a7)});a5=V.map(a1,function(bb){return bb.jEntryPoint})}else{a3=av("#"+Y.hostContainer);a5=[a3];if(!a3.length){throw new Error("cannot bind to host container: "+Y.hostContainer)}a7=aW=a6=null}a3.empty();aU=aB(a3,a7,aW,a6);if(a7===null){aU.toggleClass("sfHide",false)}var aS=V.any(a5,af);var a8;if(window.performance&&window.performance.now){a8=window.performance.now()}else{a8=new Date()}if(window.shoefitr&&window.shoefitr._t3){window.shoefitr._t3.push(a8)}var a2=function(bd,bc){if(!window.shoefitr||!V.isArray(window.shoefitr[bd])||!V.isArray(window.shoefitr[bc])){return null}var be=V.last(window.shoefitr[bd]),bb=V.last(window.shoefitr[bc]);if(window.performance&&window.performance.now&&V.isFinite(be)&&V.isFinite(bb)){return Math.round(bb-be)}else{if(V.isDate(be)&&V.isDate(bb)){return Math.round(bb-be)}}return null};var aT={cl_id:au.iClientId,customSku:Y.customSku,userAgent:true,hostUri:window.location.toString(),shown:aS,msToRequest:a2("_t0","_t1"),msToResponse:a2("_t0","_t2"),msToShown:a2("_t0","_t3")};if(au.oTargetModel){aT.mdl_id=au.oTargetModel.ModelId}Q.RecordMetric("ApplicationServed",aT);if(aS){Q.ReportEvent("ApplicationShown")}if(aS&&!aW){Q.RecordMetric("ApplicationOpened",{popup:false});Q.ReportEvent("ApplicationOpened");aQ.Set("open",true)}Q.RemotingContext.callbacks.NotifyHook=function(bi,bb){switch(bi){case"sizeSelected":if(!bb||!V.isObject(bb)){throw new Error("parameters object is invalid")}var bf=parseFloat(bb.size);if(V.isNull(bb.size)||V.isUndefined(bb.size)||bb.size===""){bf=null}var bg=bb.width;if(V.isNull(bb.width)||V.isUndefined(bb.width)){bg=null}var bh=bb.anchorElement;if(V.isNull(bb.anchorElement)||V.isUndefined(bb.anchorElement)){bh=null}var be=bb.canShowPopup;if(V.isNull(bb.canShowPopup)||V.isUndefined(bb.canShowPopup)){be=null}if(!(V.isFinite(bf)||V.isNull(bf))){throw new Error("parameter 'size' is invalid")}if(!(V.isString(bg)||V.isNull(bg))){throw new Error("parameter 'width' is invalid")}if(!(V.isElement(bh))){throw new Error("parameter 'anchorElement' is invalid or missing")}if(!(V.isBoolean(be)||V.isNull(be))){throw new Error("parameter 'canShowPopup' is invalid or missing")}var bd=av(bh);Q.CheckAndShowInterruptingRec(bd,bf,bg,be);break;case"setCustomSku":if(!bb||!V.isObject(bb)){throw new Error("parameters object is invalid")}var bc=bb.customSku;if(V.isNull(bb.customSku)||V.isUndefined(bb.customSku)){bc=null}if(!V.isString(bc)){throw new Error("parameter 'customSku' is invalid")}if(window.location.toString().indexOf("shoefitr-debug-color")!=-1){alert('Shoefitr now using: "'+bc+'"')}Q.RecordMetric("CustomSkuChanged",{customSku:bc,cl_id:au.iClientId});break}}}})();var aB=function(aT,aU,aS,aW){var aQ=av('<div id="sf-sg-root"></div>');var aV=Q.settings.bEnableNewFlow?s():t();var aR=av(av(aV)[0]);SFUtil.DisableSelection(aR[0]);if(aS&&V.isFunction(aS)){aR.addClass("popup")}if(au.sSkin){aR.addClass(au.sSkin)}if(au.sLocale){aR.addClass("locale-"+au.sLocale)}if("ontouchstart" in document.documentElement){av(aR).children(".sfMinimalInput.no-touch, .sfShoeVsShoe.no-touch").removeClass("no-touch")}aT.append(aQ);aQ.append(aR);Q.BindApplication(aR,aU,aS,aW);return aR};var af=function(aQ){if(!aQ||!aQ.length){return false}function aR(){return av(this).css("display")==="none"}return aQ.css("visibility")!=="hidden"&&!aQ.is(aR)&&!aQ.parents().is(aR)};var E=function(aQ){return function(aT,aS,aR){var aU=false;V.each(aQ,function(aV){if(aV.fOnInlineRecommendation&&V.isFunction(aV.fOnInlineRecommendation)){aV.fOnInlineRecommendation(aT,aS,aR);aU=true}});return aU}};Q.IsValidInputUniverseDisplayKey=function(aQ,aR){var aT=["RUNNING","BIKING","ATHLETIC","BASKETBALL","SOCCER","TENNIS","VOLLEYBALL","CASUAL","RUGBY AND SOCCER","RACQUETBALL AND TENNIS","HEEL","BASEBALL","WORK","LACROSSE","SKATE","GOLF AND ATHLETIC","FIELD HOCKEY AND LACROSSE","HUNTING"];var aS=["MEN'S DRESS","FLAT","WESTERN BOOT","BOOT","SANDAL"];return V.contains(aT,aQ)||(V.contains(aS,aQ)&&aR==="en")};Q.GetInputUniverseClassName=function(aQ){switch(aQ){case"BASKETBALL":return"basketball";case"BIKING":return"biking";case"WORK":case"HUNTING":return"huntingboot";case"HEEL":return"heel";case"FLAT":return"flat";case"SOCCER":case"FIELD HOCKEY AND LACROSSE":case"LACROSSE":case"RUGBY AND SOCCER":return"soccer";case"BASEBALL":return"baseball";case"WESTERN BOOT":return"westernboot";case"BOOT":return"boot";case"SANDAL":return"sandal";default:return"athletic"}};Q.GetLocalizedInputUniverseMarkup1=function(aQ){switch(aQ){case"RUNNING":return Q.LocalizedString("What size do you usually wear in running shoes?");case"BIKING":return Q.LocalizedString("What size do you usually wear in bike shoes?");case"ATHLETIC":return Q.LocalizedString("What size do you usually wear in athletic shoes?");case"BASKETBALL":return Q.LocalizedString("What size do you usually wear in basketball shoes?");case"SOCCER":return Q.LocalizedString("What size do you usually wear in soccer shoes?");case"TENNIS":return Q.LocalizedString("What size do you usually wear in tennis shoes?");case"VOLLEYBALL":return Q.LocalizedString("What size do you usually wear in volleyball shoes?");case"CASUAL":return Q.LocalizedString("What size do you usually wear in casual shoes?");case"RUGBY AND SOCCER":return Q.LocalizedString("What size do you usually wear in rugby or soccer shoes?");case"RACQUETBALL AND TENNIS":return Q.LocalizedString("What size do you usually wear in racquetball or tennis shoes?");case"HEEL":return Q.LocalizedString("What size do you usually wear in heels?");case"FLAT":return Q.LocalizedString("What size do you usually wear in flats?");case"BASEBALL":return Q.LocalizedString("What size do you usually wear in cleats?");case"WORK":return Q.LocalizedString("What size do you usually wear in work boots?");case"LACROSSE":return Q.LocalizedString("What size do you usually wear in lacrosse shoes?");case"SKATE":return Q.LocalizedString("What size do you usually wear in skate shoes?");case"GOLF AND ATHLETIC":return Q.LocalizedString("What size do you usually wear in golf or athletic shoes?");case"FIELD HOCKEY AND LACROSSE":return Q.LocalizedString("What size do you usually wear in field hockey or lacrosse shoes?");case"HUNTING":return Q.LocalizedString("What size do you usually wear in hunting boots?");case"MEN'S DRESS":return Q.LocalizedString("What size do you usually wear in dress shoes?");case"WESTERN BOOT":return Q.LocalizedString("What size do you usually wear in western boots?");case"BOOT":return Q.LocalizedString("What size do you usually wear in boots?");case"SANDAL":return Q.LocalizedString("What size do you usually wear in sandals?");default:return"?"}};Q.GetLocalizedInputUniverseMarkup2=function(aQ){switch(aQ){case"RUNNING":return Q.LocalizedString("Think about all the running shoes you own.");case"BIKING":return Q.LocalizedString("Think about all the bike shoes you own.");case"ATHLETIC":return Q.LocalizedString("Think about all the athletic shoes you own.");case"BASKETBALL":return Q.LocalizedString("Think about all the basketball shoes you own.");case"SOCCER":return Q.LocalizedString("Think about all the soccer shoes you own.");case"TENNIS":return Q.LocalizedString("Think about all the tennis shoes you own.");case"VOLLEYBALL":return Q.LocalizedString("Think about all the volleyball shoes you own.");case"CASUAL":return Q.LocalizedString("Think about all the casual shoes you own.");case"RUGBY AND SOCCER":return Q.LocalizedString("Think about all the rugby or soccer shoes you own.");case"RACQUETBALL AND TENNIS":return Q.LocalizedString("Think about all the racquetball or tennis shoes you own.");case"HEEL":return Q.LocalizedString("Think about all the heels you own.");case"FLAT":return Q.LocalizedString("Think about all the flats you own.");case"BASEBALL":return Q.LocalizedString("Think about all the cleats you own.");case"WORK":return Q.LocalizedString("Think about all the work boots you own.");case"LACROSSE":return Q.LocalizedString("Think about all the lacrosse shoes you own.");case"SKATE":return Q.LocalizedString("Think about all the skate shoes you own.");case"GOLF AND ATHLETIC":return Q.LocalizedString("Think about all the golf or athletic shoes you own.");case"FIELD HOCKEY AND LACROSSE":return Q.LocalizedString("Think about all the field hockey or lacrosse shoes you own.");case"HUNTING":return Q.LocalizedString("Think about all the hunting boots you own.");case"MEN'S DRESS":return Q.LocalizedString("Think about all the dress shoes you own.");case"WESTERN BOOT":return Q.LocalizedString("Think about all the western boots you own.");case"BOOT":return Q.LocalizedString("Think about all the boots you own.");case"SANDAL":return Q.LocalizedString("Think about all the sandals you own.");default:return"?"}};Q.GetLocalizedInputUniverseMarkup3=function(aR,aQ,aS){switch(aR){case"RUNNING":return Q.LocalizedString("We'll compare the #({Model})# to a running shoe you already know and love,",aQ,aS);case"BIKING":return Q.LocalizedString("We'll compare the #({Model})# to a bike shoe you already know and love,",aQ,aS);case"ATHLETIC":return Q.LocalizedString("We'll compare the #({Model})# to an athletic shoe you already know and love,",aQ,aS);case"BASKETBALL":return Q.LocalizedString("We'll compare the #({Model})# to a basketball shoe you already know and love,",aQ,aS);case"SOCCER":return Q.LocalizedString("We'll compare the #({Model})# to a soccer shoe you already know and love,",aQ,aS);case"TENNIS":return Q.LocalizedString("We'll compare the #({Model})# to a tennis shoe you already know and love,",aQ,aS);case"VOLLEYBALL":return Q.LocalizedString("We'll compare the #({Model})# to a volleyball shoe you already know and love,",aQ,aS);case"CASUAL":return Q.LocalizedString("We'll compare the #({Model})# to a casual shoe you already know and love,",aQ,aS);case"RUGBY AND SOCCER":return Q.LocalizedString("We'll compare the #({Model})# to a rugby or soccer shoe you already know and love,",aQ,aS);case"RACQUETBALL AND TENNIS":return Q.LocalizedString("We'll compare the #({Model})# to a racquetball or tennis shoe you already know and love,",aQ,aS);case"HEEL":return Q.LocalizedString("We'll compare the #({Model})# to a heel you already know and love,",aQ,aS);case"FLAT":return Q.LocalizedString("We'll compare the #({Model})# to a flat you already know and love,",aQ,aS);case"BASEBALL":return Q.LocalizedString("We'll compare the #({Model})# to a cleat you already know and love,",aQ,aS);case"WORK":return Q.LocalizedString("We'll compare the #({Model})# to a work boot you already know and love,",aQ,aS);case"LACROSSE":return Q.LocalizedString("We'll compare the #({Model})# to a lacrosse shoe you already know and love,",aQ,aS);case"SKATE":return Q.LocalizedString("We'll compare the #({Model})# to a skate shoe you already know and love,",aQ,aS);case"GOLF AND ATHLETIC":return Q.LocalizedString("We'll compare the #({Model})# to a golf or athletic shoe you already know and love,",aQ,aS);case"FIELD HOCKEY AND LACROSSE":return Q.LocalizedString("We'll compare the #({Model})# to a field hockey or lacrosse shoe you already know and love,",aQ,aS);case"HUNTING":return Q.LocalizedString("We'll compare the #({Model})# to a hunting boot you already know and love,",aQ,aS);case"MEN'S DRESS":return Q.LocalizedString("We'll compare the #({Model})# to a dress shoe you already know and love,",aQ,aS);case"WESTERN BOOT":return Q.LocalizedString("We'll compare the #({Model})# to a western boot you already know and love,",aQ,aS);case"BOOT":return Q.LocalizedString("We'll compare the #({Model})# to a boot you already know and love,",aQ,aS);case"SANDAL":return Q.LocalizedString("We'll compare the #({Model})# to a sandal you already know and love,",aQ,aS);default:return"?"}};function ac(aU,aV,a2,a1,aS,aQ,aT,aX,aR){var a3=this;var aY;if(a2.bShowSizeGuide){aY=aU}aU=null;a3.sizeGuideConfig=aV;a3.sizeGuideSettings=a2;a3.fClose=aQ;a3.fSetInlineRecommendation=aT;a3.fSaveCookieData=aS;a3.fInitialBack=aR;a3.recommendationEventFence=createEventFence();a3.bAskWidthQuestion=(a2.bEnableMinimalInputWidths===true)&&a2.bEnableNotYetLocalized;a3.bShowWidthRec=(a2.bEnableMinimalInputWidths===true)&&a2.bEnableNotYetLocalized;a3.bShowRecScreenV2=(a2.bEnableMinimalInputRecV2===true)&&a2.bEnableNotYetLocalized;a3.state=new SFState({open:false,"target-model":undefined,gender:undefined,step:undefined,"input-size-choices":undefined,"available-input-size-choices":undefined,"input-size":undefined,"input-normalized-width":undefined,"show-width-rec":undefined,"input-size-fit-offset":undefined,"recommendation-data":undefined,"recommendation-metrics-data":undefined,recommendation:undefined});a3.state.OnStateChanged("recommendation-data",function(a4){if(V.isUndefined(a4)){a3.state.Clear("recommendation-metrics-data");a3.state.Clear("recommendation")}else{a3.state.Set("recommendation-metrics-data",a4[1]);a3.state.Set("recommendation",a4[0])}});var aW=false;a3.state.OnStateChanged("open",function(a4){if(a4){aW=true;aX.onAppShown()}});a3.state.registerEventCallback(["open","recommendation"],function(a4,a5){if(a4&&a5){aX.onRecShown()}});a3.state.registerEventCallback(["input-normalized-width","recommendation"],function(a8,a7){var a4=false;if(a3.sizeGuideSettings.bEnableForceWidthsOnMultiWidthShoes&&!V.isUndefined(a7)){var a6=V.chain(a7.DisplayWidths).filter(function(a9){return a9.IsAvailable}).value().length;if(a6>1){a4=true}}var a5=!V.isUndefined(a8)&&a8!==G.NormalizedWidth.Standard.NormalizedWidthId;a3.state.Set("show-width-rec",a3.bShowWidthRec&&(a4||a5))});a3.state.registerEventCallback(["input-size","input-normalized-width"],function(a4,a5){if(!V.isUndefined(a4)&&!V.isUndefined(a5)){a3.state.Set("step","step2")}});a3.state.Set("target-model",aY);if(!V.isUndefined(aY)){a3.state.Set("available-input-size-choices",a3.sizeGuideConfig.oInputSizesByGenderBinary);var aZ=au.sGenderBinary;a3.state.Set("gender",aZ);var a0=G.ExtractSizeData(a3.sizeGuideConfig.oInputSizesByGenderBinary[aZ]);a3.state.Set("input-size-choices",a0);a3.state.Set("step","step1")}else{a3.state.Set("step","step1-error")}a1.registerEventCallback(["open"],function(a4){a3.state.Set("open",a4)});a3.backMappings={"step1-error":null,step1:null,step2:"step1","step3-loading":"step2","step3-error":"step2",step3:"step2",profile:"step3"};a3.backTransitionBehaviors={step1:{statesToClear:["input-size","input-normalized-width"]},step2:{statesToClear:["input-size-fit-offset","recommendation-data"],eventsToFlush:[a3.recommendationEventFence]},step3:{}};a3.state.registerEventCallback(["open","recommendation"],function(a6,ba){var a4=G.ExtractSizeData(ba,a3.sizeGuideConfig.sRecommendationSizeDisplayConvention);var a8=V.find(a4,function(bb){return bb.nNativeSize===ba.RecommendedSize});var a7=ba.RecommendedWidth;var a5={};if(a6){if(Q.settings.bEnableNordstromExtendedReporting){a5={size:Q.GetLocalizedSizeText(a8.oSizeObject)+" "+a8.sSizingScheme,width:a7}}if(Q.settings.bEnableZalandoExtendedReporting){a5={size:a8.oSizeObject[1],width:a7}}var a9=a3.state.Get("recommendation-metrics-data");Q.RecordMetric("AverageRecommendationReceived",a9);Q.ReportEvent("RecommendationReceived",a5)}},false);a3.state.registerEventCallback(["recommendation","show-width-rec"],function(bb,a8){var a4=G.ExtractSizeData(bb,a3.sizeGuideConfig.sRecommendationSizeDisplayConvention);var a7=V.find(a4,function(bc){return bc.nNativeSize===bb.RecommendedSize});var a6=bb.RecommendedWidth;var a9=false;if(aT&&V.isFunction(aT)){a9=aT(a7,a6,a8)}var a5={};if(a9){if(Q.settings.bEnableNordstromExtendedReporting){a5={size:Q.GetLocalizedSizeText(a7.oSizeObject)+" "+a7.sSizingScheme,width:a6}}if(Q.settings.bEnableZalandoExtendedReporting){a5={size:a7.oSizeObject[1],width:a6}}var ba=a3.state.Get("recommendation-metrics-data");Q.RecordMetric("InlineRecommendationReceived",ba);Q.ReportEvent("RecommendationReceived",a5);if(a2.bEnableNordstromExtendedReporting&&!aW){Q.ReportEvent("ApplicationShownWithRec",a5)}}},false)}ac.prototype.saveInputs=function(aQ,aS,aR){aQ(aS,{a:aR.sGender,b:aR.sSizingScheme,c:aR.nInputSize,d:aR.iInputSizeFitOffset,e:aR.iInputNormalizedWidth})};ac.prototype.loadSavedInputs=function(aS,aQ){var aR=aS(aQ);return{sGender:aR.a,sSizingScheme:aR.b,nInputSize:aR.c,iInputSizeFitOffset:aR.d,iInputNormalizedWidth:aR.e}};ac.prototype.getAverageRecommendation=function(){var a2=this;var aR=a2.state.Get("input-size");var aT=a2.state.Get("input-normalized-width");var aV=a2.state.Get("input-size-fit-offset");var aY=a2.state.Get("target-model");var aZ=aY.ModelId;var aW=aY.InputUniverseId;var aQ=a2.state.Get("gender");var aS=new GetRecommendationFromAverageRequest(aR.nNativeSize,aR.sSizingScheme,aQ,aW,aZ).WithCurrentNormalizedWidthId(aT);if(a2.sizeGuideConfig.sRecommendationSizeDisplayConvention){aS.WithSizeDisplayConvention(a2.sizeGuideConfig.sRecommendationSizeDisplayConvention)}var a1=a2.sizeGuideConfig.sGenderBinary;if(a2.sizeGuideConfig.bUnisexMerchandise&&a2.sizeGuideConfig.oTargetModel.GenderBinaryKeys.length>1){a1=aQ}if(a1){aS.WithGenderBinary(a1)}if(!V.isUndefined(aV)){var a0=a2.sizeGuideSettings.bShowInputWholeSizesOnly?1/3:1/6;aS.WithSizeOffset(-aV*a0)}if(a2.sizeGuideSettings.bExcludeLocalizedHalfSizes){aS.WithExcludeLocalizedHalfSizes(true)}if(!V.isUndefined(a2.sizeGuideConfig.bNormalizeMinimalInputArchView)){aS.WithNormalizeArchViewHeelHeights(a2.sizeGuideConfig.bNormalizeMinimalInputArchView)}a2.state.Set("step","step3-loading");var aX=a2.recommendationEventFence.startNewEvent();var aU;if(!a2.state.Get("open")){aU=0}else{aU=2500}aS.Submit(SFUtil.WrapWithDelay(aU,function(a5){if(!aX.isMostRecent()){return}if(a5.Status!=="OK"){Q.RecordMetric("RecommendationFailed");a2.state.Set("step","step3-error");return}var a4=a5.Result;var a3=G.ExtractSizeData(a4,a2.sizeGuideConfig.sRecommendationSizeDisplayConvention);var a7=V.find(a3,function(a9){return a9.nNativeSize===a4.RecommendedSize});var a8={currentSize:aR.nNativeSize,currentSizingScheme:aR.sAlternateSizingScheme,currentDisplaySizingScheme:aR.sSizingScheme,currentDisplaySize1:aR.oSizeObject[1],currentDisplaySize2:aR.oSizeObject[2],currentWidth:aT,currentSizeFitOffset:aV,targetModelId:aZ,recommendedSize:a7.nNativeSize,recommendedSizingScheme:a7.sAlternateSizingScheme,recommendedDisplaySizingScheme:a7.sSizingScheme,recommendedDisplaySize1:a7.oSizeObject[1],recommendedDisplaySize2:a7.oSizeObject[2],recommendedWidth:a4.RecommendedWidth};a2.state.Set("recommendation-data",[a4,a8]);a2.state.Set("step","step3");var a6={sGender:aQ,sSizingScheme:aR.sSizingScheme,nInputSize:aR.nNativeSize,iInputSizeFitOffset:aV,iInputNormalizedWidth:aT};a2.saveInputs(a2.fSaveCookieData,a2.sizeGuideConfig.sInputUniverseDisplayKey,a6)}))};ac.prototype.TryLoadSavedInputs=function(aX){var aV=this;var aR=aV.state.Get("target-model");var aW=aV.state.Get("available-input-size-choices");if(V.isUndefined("target-model")||V.isUndefined(aW)){return false}var aU=aV.loadSavedInputs(aX,aV.sizeGuideConfig.sInputUniverseDisplayKey);if(!(aU&&aU.sGender&&aU.sSizingScheme&&aU.nInputSize&&!V.isUndefined(aU.iInputSizeFitOffset)&&aU.iInputNormalizedWidth)){return false}if(!V.contains(aR.GenderBinaryKeys,aU.sGender)){return false}if(!V.has(aW,aU.sGender)){return false}var aT=G.ExtractSizeData(aW[aU.sGender]);if(aT[0].sSizingScheme!==aU.sSizingScheme){Q.RecordMetric("SavedAverageSizesNotAvailable");return false}var aS=V.find(aT,function(aY){return aY.nNativeSize===aU.nInputSize});if(V.isUndefined(aS)){Q.RecordMetric("SavedAverageSizesNotAvailable");return false}aV.setInputSizeGender(aU.sGender);aV.setInputSize(aS);aV.setInputNormalizedWidth(aU.iInputNormalizedWidth);aV.setInputSizeBias(aU.iInputSizeFitOffset);var aQ={sizingScheme:aS.sSizingScheme,currentSize:aS.nNativeSize,currentSizeFitOffset:aU.iInputSizeFitOffset,currentNormalizedWidth:aU.iInputNormalizedWidth,gender:aU.sGender};Q.RecordMetric("CurrentAverageLoadedFromCookies",aQ);return true};ac.prototype.proceedFromSplash=function(){var aQ=this;aQ.state.Set("step","step1")};ac.prototype.setInputSize=function(aR){var aQ=this;Q.RecordMetric("AverageSizeSelected",{size:aR.nNativeSize,sizingScheme:aR.sAlternateSizingScheme,displaySizingScheme:aR.sSizingScheme,displaySize1:aR.oSizeObject[1],displaySize2:aR.oSizeObject[2]});aQ.state.Set("input-size",aR);if(!aQ.bAskWidthQuestion){aQ.state.Set("input-normalized-width",G.NormalizedWidth.Standard.NormalizedWidthId)}};ac.prototype.clearInputSize=function(){var aQ=this;aQ.state.Clear("input-size")};ac.prototype.setInputSizeGender=function(aS){var aR=this;Q.RecordMetric("GenderSelected",{gender:aS});aR.state.Set("gender",aS);if(aR.state.Get("available-input-size-choices")!=undefined){var aQ=G.ExtractSizeData(aR.state.Get("available-input-size-choices")[aS]);aR.state.Set("input-size-choices",aQ)}};ac.prototype.setInputNormalizedWidth=function(aR){var aQ=this;Q.RecordMetric("AverageWidthSelected",{id:aR});aQ.state.Set("input-normalized-width",aR)};ac.prototype.setInputSizeBias=function(aS,aR){var aQ=this;Q.RecordMetric("AverageSizeFitOffsetSelected",{offset:aS,label:aR});aQ.state.Set("input-size-fit-offset",aS);aQ.getAverageRecommendation()};ac.prototype.goBack=function(){var aS=this;var aT=aS.state.Get("step");var aR=aS.backMappings[aT];if(aR&&V.has(aS.backTransitionBehaviors,aR)){var aQ=aS.backTransitionBehaviors[aR];V.each(aQ.statesToClear,function(aU){aS.state.Clear(aU)});if(aQ.eventsToFlush){V.each(aQ.eventsToFlush,function(aU){aU.flushAll()})}Q.RecordMetric("GoBack",{from:aT,to:aR});aS.state.Set("step",aR)}else{if(aR===null&&V.isFunction(aS.fInitialBack)){aS.fInitialBack()}}};ac.prototype.close=function(){var aQ=this;Q.RecordMetric("ApplicationClosed");if(aQ.fClose&&V.isFunction(aQ.fClose)){aQ.fClose()}};ac.prototype.goToProfileCreation=function(){var aQ=this;Q.RecordMetric("GoToProfileCreation");aQ.state.Set("step","profile")};ac.prototype.onOpenCloseChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["open"],aR,false)};ac.prototype.onCanGoBackChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["step"],function(aT){var aS=aQ.backMappings[aT];aR((aS&&V.has(aQ.backTransitionBehaviors,aS))||V.isFunction(aQ.fInitialBack))})};ac.prototype.onStepChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["step"],aR)};ac.prototype.onAvailableInputSizeChoicesAndGenderChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["available-input-size-choices","gender"],aR,false)};ac.prototype.onInputSizeChoicesSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size-choices"],aR,false)};ac.prototype.onInputSizeChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size"],aR)};ac.prototype.onInputNormalizedWidthChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-normalized-width"],aR)};ac.prototype.onInputSizeAndShowWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","show-width-rec"],aR,false)};ac.prototype.onInputSizeAndNormalizedWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","input-normalized-width","show-width-rec"],aR,false)};ac.prototype.onInputSizeFitOffsetSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size-fit-offset"],aR,false)};ac.prototype.onTargetModelChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-model"],aR)};ac.prototype.onTargetModelSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-model"],aR,false)};ac.prototype.onRecommendationSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["recommendation"],aR,false)};ac.prototype.onInputsAndRecommendationSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["recommendation","input-size","input-normalized-width","input-size-fit-offset"],aR,false)};ac.prototype.onShowWidthRecSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["show-width-rec"],aR,false)};function y(aU,aS,aR,aT){var aQ=this;aQ.parent=aU;aQ.sizeGuideConfig=aS;aQ.sizeGuideSettings=aR;aQ.state=new SFState({recommendation:undefined,"recommended-size":undefined,"recommended-width":undefined,"input-size":undefined,"input-width":undefined,"input-normalized-width":undefined,"input-size-fit-offset":undefined,"show-width-rec":undefined,"standard-width":undefined,"target-size-choices":undefined,"target-size":undefined,"target-width-choices":undefined,"target-width":undefined,"viz-choices":undefined,viz:undefined,"all-profiles":undefined,"input-profile":undefined,"target-profile":undefined,"profile-scale-width":undefined,"profile-scale-height":undefined,"all-outlines":undefined,"input-outline":undefined,"target-outline":undefined,"outline-scale-width":undefined,"outline-scale-height":undefined});aQ.state.Set("viz-choices",aT?V.without(aS.asAllowableMiVisuals,"3D"):aS.asAllowableMiVisuals);aQ.parent.onRecommendationSet(function(aV){aQ.state.Set("recommendation",aV)});aQ.parent.onInputSizeAndShowWidthSet(function(aV,aW){aQ.state.Set("input-size",aV);aQ.state.Set("show-width-rec",aW)});aQ.parent.onInputSizeFitOffsetSet(function(aV){aQ.state.Set("input-size-fit-offset",aV)});aQ.parent.onInputNormalizedWidthChanged(function(aV){aQ.state.Set("input-normalized-width",aV)});aQ.state.registerEventCallback(["recommendation"],function(a2){var aV=V.chain(a2.Visualizations).map(function(a3){return[parseFloat(a3.Size),a3.Width]}).value();var aW=G.ExtractSizeData(a2,aQ.sizeGuideConfig.sRecommendationSizeDisplayConvention);aQ.state.Set("target-size-choices",V.chain(aW).filter(function(a3){return V.find(aV,function(a4){return a4[0]===a3.nNativeSize})}).value());var a1=a2.DisplayWidths;var aY=V.find(a1,function(a3){return a3.Name===a2.InputWidth}).Rank;var aX=V.chain(a1).values().filter(function(a3){return a3.IsAvailable}).sortBy(function(a3){return Math.abs(aY-a3.Rank)}).take(5).sortBy(function(a3){return a3.Rank}).value();aQ.state.Set("target-width-choices",aX);aQ.state.Set("input-width",a2.InputWidth);aQ.state.Set("standard-width",a2.StandardWidth);var a0=V.find(aW,function(a3){return a3.nNativeSize===a2.RecommendedSize});var aZ=a2.RecommendedWidth;aQ.state.Clear("recommended-size");aQ.state.Clear("recommended-width");aQ.state.Set("recommended-size",a0);aQ.state.Set("recommended-width",aZ);aQ.state.Clear("target-size");aQ.state.Clear("target-width");aQ.state.Set("target-size",a0);aQ.state.Set("target-width",aZ)},false);aQ.state.registerEventCallback(["recommendation","target-size","target-width"],function(a3,aX,a2){var aY=aX.nNativeSize;var aW=a3.CurrentOutline;var aV=V.find(a3.Visualizations,function(a5){return a5.Size===aY&&a5.Width===a2}).Outline;var a4=a3.CurrentProfile;var aZ=V.find(a3.Visualizations,function(a5){return a5.Size===aY}).Profile;var a1=V.map(a3.Visualizations,function(a5){return a5.Outline}).concat([a3.CurrentOutline]);var a0=V.map(a3.Visualizations,function(a5){return a5.Profile}).concat([a3.CurrentProfile]);aQ.state.SetAll({"all-outlines":a1,"input-outline":aW,"target-outline":aV,"all-profiles":a0,"input-profile":a4,"target-profile":aZ})},false)}y.prototype.setTargetSize=function(aR){var aQ=this;Q.RecordMetric("TargetSizeSelected",{size:aR.nNativeSize,sizingScheme:aR.sAlternateSizingScheme,displaySizingScheme:aR.sSizingScheme,displaySize1:aR.oSizeObject[1],displaySize2:aR.oSizeObject[2]});aQ.state.Set("target-size",aR)};y.prototype.setTargetWidth=function(aR){var aQ=this;Q.RecordMetric("TargetWidthSelected",{width:aR});aQ.state.Set("target-width",aR)};y.prototype.setViz=function(aR){var aQ=this;Q.RecordMetric("AverageVizChanged",{viz:aR});aQ.state.Set("viz",aR)};y.prototype.close=function(){var aQ=this;aQ.parent.close()};y.prototype.onVizChoicesSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["viz-choices"],aR,false)};y.prototype.onVizSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["viz"],aR,false)};y.prototype.on3DVisibleChanged=function(aS){var aQ=this;var aR=new SFState({isOpen:false,isRightStep:false,isRightViz:false,isFlashShowing:false});aR.registerEventCallback(["isOpen","isRightStep","isRightViz"],function(aU,aT,aV){aR.Set("isFlashShowing",aU&&aT&&aV)});aQ.parent.onStepChanged(function(aT){aR.Set("isRightStep",aT==="step3")});aQ.onVizSet(function(aT){aR.Set("isRightViz",aT==="3D")});aQ.parent.onOpenCloseChanged(function(aT){aR.Set("isOpen",aT)});aR.registerEventCallback(["isFlashShowing"],aS)};y.prototype.onShowWidthRecChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["show-width-rec"],aR)};y.prototype.onTargetModelSet=function(aR){var aQ=this;aQ.parent.onTargetModelSet(aR)};y.prototype.onTargetSizeChoicesSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-size-choices"],aR,false)};y.prototype.onTargetWidthChoicesSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-width-choices","show-width-rec"],aR,false)};y.prototype.onTargetSizeAndWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-size","target-width","show-width-rec"],aR,false)};y.prototype.onInputSizeAndWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","input-width","show-width-rec"],aR,false)};y.prototype.onInputOrTargetSizeSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","target-size"],aR,false)};y.prototype.onInputOrTargetSizeOrWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","input-width","target-size","target-width","show-width-rec"],aR,false)};y.prototype.onInputOrTargetSizeOrWidthOrOffsetSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","input-normalized-width","input-size-fit-offset","target-size","target-width","show-width-rec"],aR,false)};y.prototype.onTargetSizeChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-size"],aR)};y.prototype.onTargetWidthChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-width"],aR)};y.prototype.onArchProfileSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-profile","target-profile","all-profiles"],aR,false)};y.prototype.onOutlineSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-outline","target-outline","all-outlines"],aR,false)};y.prototype.onFlashDataSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["recommendation","target-size","target-width"],aR,false)};y.prototype.onRecommendationSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["recommendation"],aR,false)};y.prototype.onRecommendationDetailsSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","input-size-fit-offset","recommended-size","recommendation"],aR,false)};y.prototype.onRecommendationAndTargetSizeAndWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["recommendation","target-size","target-width"],aR,false)};function aI(aR,aU,aW,aT,aV){var aQ="";if(aW>0){aQ=Q.LocalizedString(", sometimes smaller")}else{if(aW<0){aQ=Q.LocalizedString(", sometimes larger")}}var aS={InputSize:Q.GetLocalizedSizeText(aR.oSizeObject),InputSizingScheme:Q.LocalizedString(aR.sSizingScheme),InputWidth:aU,TargetSize:Q.GetLocalizedSizeText(aT.oSizeObject),TargetWidth:aV,InputOffsetPhrase:aQ};if(aR.sSizingScheme===aT.sSizingScheme){return Q.LocalizedString('Viewing size {TargetSize}#0({TargetWidth})# compared to what you typically wear, <span class="sfInputDescription">{InputSize}#1({InputWidth})#{InputOffsetPhrase}<span>.',aS,[['<span class="sfHidableWidthLabel"> ',"</span>"],['<span class="sfHidableWidthLabel"> ',"</span>"]])}else{return Q.LocalizedString("It will fit most closely to a typical size {InputSize}#({InputWidth})# ({InputSizingScheme}).",aS,[['<span class="sfHidableWidthLabel"> ',"</span>"]])}}function aq(aQ){return function(aR){aQ.onInputOrTargetSizeOrWidthOrOffsetSet(function(aS,aU,aW,aT,aV){aR.html(aI(aS,aU,aW,aT,aV))})}}function x(aQ){return function(aR){aQ.onInputSizeAndWidthSet(function(aS,aU,aV){var aT={InputSize:Q.GetLocalizedSizeText(aS.oSizeObject),InputWidth:aU};aR.html(Q.LocalizedString("Average Size {InputSize}#( {InputWidth})#",aT,[['<span class="sfHidableWidthLabel">',"</span>"]]))})}}function M(aQ){return function(aR){aQ.onRecommendationDetailsSet(function(aS,aV,aW,aZ){var aU=Math.floor((aZ.ModelsCounted-2)/10)*10;var a0=aZ.TargetModelSizeDelta;var aT=aS.sSizingScheme;var aY=aW.sSizingScheme;var aX={N:Q.LocalizedNumber(aH(aU)),TargetSizingScheme:Q.LocalizedString(aY)};if(aT===aY){var a1=aj(a0);if(a1!==null){aX.ModelDeltaPhrase=a1;aR.html(Q.LocalizedString("This shoe runs#({ModelDeltaPhrase})#compared to {N}<br/>similar shoes",aX,[["<br/><strong>","</strong><br/>"]]));return}}aR.html(Q.LocalizedString("This shoe comes in#({TargetSizingScheme})#sizes",aX,[["<br/><strong>","</strong><br/>"]]))})}}function Z(aU,aS,aV,aX,aT,aW,aQ){var aR=this;aR.fClose=aX;aR.fGoBack=aT;aR.fGoToProfileCreation=aQ;aR.sizeGuideConfig=aU;aR.sizeGuideSettings=aS;aR.state=new SFState({recommendation:undefined,"recommended-size":undefined,"recommended-width":undefined,"input-size":undefined,"input-display-width":undefined,"input-width":undefined,"input-size-fit-offset":undefined,"show-width-rec":undefined,"standard-width":undefined,"target-size-choices":undefined,"target-size":undefined,"target-width-choices":undefined,"target-width":undefined,"target-model":undefined,"viz-choices":undefined,viz:undefined,"all-profiles":undefined,"input-profile":undefined,"target-profile":undefined,"profile-scale-width":undefined,"profile-scale-height":undefined,"all-outlines":undefined,"input-outline":undefined,"target-outline":undefined,"outline-scale-width":undefined,"outline-scale-height":undefined,"rec-screen-visible":false,brand:undefined});aR.state.Set("viz-choices",aV?V.without(aW,"3D"):aW);aR.state.registerEventCallback(["recommendation","input-width"],function(a4,a0){var aY=V.chain(a4.Visualizations).map(function(a8){return[parseFloat(a8.Size),a8.Width]}).value();var a3=a4.RecommendedWidth;var a1=G.ExtractSizeData(a4,aR.sizeGuideConfig.sRecommendationSizeDisplayConvention);aR.state.Set("target-size-choices",V.chain(a1).filter(function(a8){return V.find(aY,function(a9){return a9[0]===a8.nNativeSize})}).value());var a6=a4.DisplayWidths;var a7=V.find(a6,function(a8){return a8.Name===a0});if(V.isUndefined(a7)){a7=V.find(a6,function(a8){return a8.Name===a3})}var aZ=a7.Rank;var a5=V.chain(a6).values().filter(function(a8){return a8.IsAvailable}).sortBy(function(a8){return Math.abs(aZ-a8.Rank)}).take(5).sortBy(function(a8){return a8.Rank}).value();aR.state.Set("target-width-choices",a5);aR.state.Set("standard-width",a4.StandardWidth);var a2=V.find(a1,function(a8){return a8.nNativeSize===a4.RecommendedSize});aR.state.Clear("recommended-size");aR.state.Clear("recommended-width");aR.state.Set("recommended-size",a2);aR.state.Set("recommended-width",a3);aR.state.Clear("target-size");aR.state.Clear("target-width");aR.state.Set("target-size",a2);aR.state.Set("target-width",a3)},false);aR.state.registerEventCallback(["recommendation","target-size","target-width"],function(a6,a0,a5){var a1=a0.nNativeSize;var aZ=a6.CurrentOutline;var aY=V.find(a6.Visualizations,function(a8){return a8.Size===a1&&a8.Width===a5}).Outline;var a7=a6.CurrentProfile;var a2=V.find(a6.Visualizations,function(a8){return a8.Size===a1}).Profile;var a4=V.map(a6.Visualizations,function(a8){return a8.Outline}).concat([a6.CurrentOutline]);var a3=V.map(a6.Visualizations,function(a8){return a8.Profile}).concat([a6.CurrentProfile]);aR.state.SetAll({"all-outlines":a4,"input-outline":aZ,"target-outline":aY,"all-profiles":a3,"input-profile":a7,"target-profile":a2})},false)}Z.prototype.setTargetModel=function(aQ){var aR=this;aR.state.Set("target-model",aQ)};Z.prototype.setRecommendationDetails=function(aU,aQ,aS,aT){var aR=this;aR.state.Set("recommendation",aU);aR.state.Set("input-size",aQ);aR.state.Set("input-width",aS);aR.state.Set("input-size-fit-offset",aT)};Z.prototype.setInputDisplayWidth=function(aR){var aQ=this;aQ.state.Set("input-display-width",aR)};Z.prototype.setShowWidthRec=function(aR){var aQ=this;aQ.state.Set("show-width-rec",aR)};Z.prototype.setRecScreenVisible=function(aR){var aQ=this;aQ.state.Set("rec-screen-visible",aR)};Z.prototype.setTargetSize=function(aR){var aQ=this;Q.RecordMetric("TargetSizeSelected",{size:aR.nNativeSize,sizingScheme:aR.sAlternateSizingScheme,displaySizingScheme:aR.sSizingScheme,displaySize1:aR.oSizeObject[1],displaySize2:aR.oSizeObject[2]});aQ.state.Set("target-size",aR)};Z.prototype.setTargetWidth=function(aR){var aQ=this;Q.RecordMetric("TargetWidthSelected",{width:aR});aQ.state.Set("target-width",aR)};Z.prototype.setViz=function(aR){var aQ=this;Q.RecordMetric("AverageVizChanged",{viz:aR});aQ.state.Set("viz",aR)};Z.prototype.close=function(){var aQ=this;aQ.fClose()};Z.prototype.goBack=function(){var aQ=this;aQ.fGoBack()};Z.prototype.goToProfileCreation=function(){var aQ=this;if(aQ.fGoToProfileCreation&&V.isFunction(aQ.fGoToProfileCreation)){aQ.fGoToProfileCreation()}else{aQ.fClose()}};Z.prototype.onVizChoicesSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["viz-choices"],aR,false)};Z.prototype.onVizSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["viz"],aR,false)};Z.prototype.onVisibilityChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["rec-screen-visible"],aR)};Z.prototype.on3DVisibleChanged=function(aS){var aQ=this;var aR=new SFState({isRecScreenVisible:false,isRightViz:false,isFlashShowing:false});aR.registerEventCallback(["isRecScreenVisible","isRightViz"],function(aU,aT){aR.Set("isFlashShowing",aU&&aT)});aQ.onVizSet(function(aT){aR.Set("isRightViz",aT==="3D")});aQ.onVisibilityChanged(function(aT){aR.Set("isRecScreenVisible",aT)});aR.registerEventCallback(["isFlashShowing"],function(aT){if(aT){aS(true)}else{aS(false)}})};Z.prototype.onShowWidthRecChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["show-width-rec"],aR)};Z.prototype.onTargetModelSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-model"],aR,false)};Z.prototype.onTargetSizeChoicesSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-size-choices"],aR,false)};Z.prototype.onTargetWidthChoicesSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-width-choices","show-width-rec"],aR,false)};Z.prototype.onTargetSizeAndWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-size","target-width","show-width-rec"],aR,false)};Z.prototype.onInputSizeAndWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","input-width","show-width-rec"],aR,false)};Z.prototype.onInputOrTargetSizeSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","target-size"],aR,false)};Z.prototype.onInputOrTargetSizeOrWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","input-width","target-size","target-width","show-width-rec"],aR,false)};Z.prototype.onInputOrTargetSizeOrWidthOrOffsetSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","input-display-width","input-size-fit-offset","target-size","target-width","show-width-rec"],aR,false)};Z.prototype.onTargetSizeChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-size"],aR)};Z.prototype.onTargetWidthChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-width"],aR)};Z.prototype.onArchProfileSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-profile","target-profile","all-profiles"],aR,false)};Z.prototype.onOutlineSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-outline","target-outline","all-outlines"],aR,false)};Z.prototype.onFlashDataSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["recommendation","target-size","target-width"],aR,false)};Z.prototype.onRecommendationSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["recommendation"],aR,false)};Z.prototype.onRecommendationDetailsSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","input-size-fit-offset","recommended-size","recommendation"],aR,false)};Z.prototype.onRecommendationAndTargetSizeAndWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["recommendation","target-size","target-width"],aR,false)};function aj(aQ){if(aQ<=-13/12){return Q.LocalizedString("smaller")}else{if(-13/12<aQ&&aQ<=-11/12){return Q.LocalizedString("Whole size smaller")}else{if(-11/12<aQ&&aQ<=-7/12){return Q.LocalizedString("smaller")}else{if(-7/12<aQ&&aQ<=-5/12){return Q.LocalizedString("Half a size smaller")}else{if(-5/12<aQ&&aQ<=-1/12){return Q.LocalizedString("A little smaller")}else{if(-1/12<aQ&&aQ<1/12){return Q.LocalizedString("True to size")}else{if(1/12<=aQ&&aQ<5/12){return Q.LocalizedString("A little larger")}else{if(5/12<=aQ&&aQ<7/12){return Q.LocalizedString("Half a size larger")}else{if(7/12<=aQ&&aQ<11/12){return Q.LocalizedString("larger")}else{if(11/12<=aQ&&aQ<13/12){return Q.LocalizedString("Whole size larger")}else{if(13/12<=aQ){return Q.LocalizedString("larger")}}}}}}}}}}}return null}function aG(aU,aR,aQ,aT){var aS=[{asFeelPhrase:[Q.LocalizedString("<strong>Tighter</strong> in the Toes"),aR,Q.LocalizedString("<strong>Looser</strong> in the Toes")],sClassName:".sfFeelToes",sFeelIndexKey:"ToeFeelIndex"},{asFeelPhrase:[Q.LocalizedString("<strong>Narrower</strong> than normal"),aQ,Q.LocalizedString("<strong>Wider</strong> than normal")],sClassName:".sfFeelNearBall",sFeelIndexKey:"NearBallFeelIndex"},{asFeelPhrase:[Q.LocalizedString("<strong>Tighter</strong> in the Heel"),aT,Q.LocalizedString("<strong>Looser</strong> in the Heel")],sClassName:".sfFeelHeel",sFeelIndexKey:"HeelFeelIndex"}];return function(aV){aU.onRecommendationAndTargetSizeAndWidthSet(function(a1,aX,aY){var a0=V.find(a1.FeelDescriptions,function(a2){return a2.Size===aX.nNativeSize&&a2.Width==aY});for(var aW=0;aW<aS.length;aW++){var aZ=aS[aW];aV.find(aZ.sClassName).html(aZ.asFeelPhrase[a0[aZ.sFeelIndexKey]+1])}})}}Q.Reset=(function(){var aQ=Q.state;return function(){Q.searchEventFence.flushAll();Q.recommendationEventFence.flushAll();if(Q.settings.sForcedGenderBinary){aQ.Set("gender",Q.settings.sForcedGenderBinary);aQ.Set("search-gender",Q.settings.sForcedGenderBinary)}aQ.Set("show",Q.settings.bShowSizeGuide?"title":"not-scanned");Q.ClearState("text-search-results");Q.ClearState("filter-search-results");Q.ClearState("search-brand-name");Q.ClearState("search-model-name");if(!Q.settings.bDisableBrandSelection){Q.ClearState("search-brand")}Q.ClearState("search-tag");Q.ClearState("search-colors");Q.ClearState("search-styles");Q.ClearState("search-materials");Q.ClearState("search-patterns");Q.ClearState("search-accents");Q.ClearState("search-soccer-surface");Q.ClearState("input-model");Q.ClearState("input-size");Q.ClearState("input-width");Q.ClearState("input-size-fit-offset");Q.ClearState("avg-input-size");Q.ClearState("avg-input-size-fit-offset");Q.ClearState("search-filter-index");Q.ClearState("recommendation-data");Q.ClearState("avg-recommendation-data")}}());Q.LoadSavedModelInputs=function(aS){var aU=SFUtil.GetCookie("sf_save_data");var aR;try{aR=SFJSON.parse(aU)}catch(aT){return false}if(!aR){return false}var aQ=aS.Get("target-model");if(!aQ){return false}if(!aR.oInputModel||aR.oInputModel.GenderId!==aQ.GenderId){return false}if(aR.sInputUniverseDisplayKey!==au.sInputUniverseDisplayKey){return false}if(!aR.sGender||!aR.oInputModel||!aR.oInputSize){return false}if(!V.find(au.aBrands,function(aV){return aV.BrandId===aR.oInputModel.BrandId})){return false}aS.Set("gender",aR.sGender);aS.Set("input-model",aR.oInputModel);aS.Set("input-size",aR.oInputSize);aS.Set("input-size-fit-offset",aR.iInputSizeFitOffset);aS.Set("input-width",aR.sInputWidth);aS.Set("show-width-rec",aR.bShowWidths);return true};Q.LoadSavedAverageInputs=function(aR){var aT=SFUtil.GetCookie("sf_save_data");var aQ;try{aQ=SFJSON.parse(aT)}catch(aS){return false}if(!aQ){return false}if(aQ.sInputUniverseDisplayKey!==au.sInputUniverseDisplayKey){return false}if(!aQ.oInputModel||!aQ.oAvgInputSize){return false}aR.Set("gender",aQ.sGender);aR.Set("input-model",aQ.oInputModel);aR.Set("avg-input-scheme",aQ.sAvgInputScheme);aR.Set("avg-input-size",aQ.oAvgInputSize);aR.Set("avg-input-size-fit-offset",aQ.nAvgInputSizeFitOffset);return true};Q.SaveCurrentInputs=function(aR){var aQ={sGender:aR.Get("gender"),oInputModel:aR.Get("input-model"),oInputSize:aR.Get("input-size"),iInputSizeFitOffset:aR.Get("input-size-fit-offset"),sInputWidth:aR.Get("input-width"),bShowWidths:aR.Get("show-width-rec"),sAvgInputScheme:aR.Get("avg-input-scheme"),oAvgInputSize:aR.Get("avg-input-size"),nAvgInputSizeFitOffset:aR.Get("avg-input-size-fit-offset"),sInputUniverseDisplayKey:au.sInputUniverseDisplayKey};if(!aQ.oInputModel){return}var aT;try{aT=SFJSON.stringify(aQ)}catch(aS){return}if(aT.length>3600){return}if(aT.length>0){SFUtil.SetCookie("sf_save_data",aT)}};Q.createCookieStorage=function(aQ){return{Get:function(aR){return Q.LoadRawSaveData(aQ,aR)},Set:function(aS,aR){Q.StoreRawSaveData(aQ,aS,aR)},HasPrefixedData:function(aR){return Q.RawSaveDataHasPrefixedData(aQ,aR)}}};Q.RawSaveDataHasPrefixedData=function(aS,aR){aR=aR||"";var aQ=SFUtil.GetCookie(aS);var aT;try{aT=SFJSON.parse(aQ)}catch(aU){return true}if(!aT){return true}if(_sf.any(_sf.keys(aT),function(aV){return aV.substring(0,aR.length)===aR})){return true}return false};Q.LoadRawSaveData=function(aR,aT){var aQ=SFUtil.GetCookie(aR);var aS;try{aS=SFJSON.parse(aQ)}catch(aU){return false}if(!aS||!aS[aT]){return false}return aS[aT]};Q.StoreRawSaveData=function(aS,aU,aR){var aQ=SFUtil.GetCookie(aS);var aT;try{aT=SFJSON.parse(aQ)}catch(aV){aT={}}if(!V.isObject(aT)){aT={}}aT[aU]=aR;try{aQ=SFJSON.stringify(aT)}catch(aV){return}if(aQ.length>3600){return}if(aQ.length>0){SFUtil.SetCookie(aS,aQ)}};var ay=function(aS,aU){aU=(aU===true);var aT="flash";if(SFUtil.IsMobile.AnyMobile()||(!SFUtil.FlashSupported()&&SFUtil.CanvasSupported())){aT="canvas"}if(Q.settings.bForceFullNonFlashShoe||Q.settings.bForceLimitedNonFlashShoe){aT="canvas"}if(Q.settings.bForceFullFlashShoe){aT="flash"}var aR,aV,aQ;if(aT==="canvas"){aR=au.urlStaticContentRoot+"/js/bin/canvasviz-min.js";aV=(!SFUtil.IsMobile.AnyMobile()||SFUtil.IsMobile.iOS())?"full":"limited";if(Q.settings.bForceFullNonFlashShoe){aV="full"}else{if(Q.settings.bForceLimitedNonFlashShoe){aV="limited"}}aQ=createCanvasHeatMapView(aS,aR,aV,aU)}else{aR=au.urlStaticContentRoot+"/flash/SizeGuide-20141022.swf";aQ=createFlashHeatMapView(aS,aR,aU,Q.LocalizedString,Q.RecordMetric,Q.RemotingContext)}return aQ};Q.SetupShoefitrNoShoefitrSplitTest=function(aT,aU,aR){var aQ=SFSplitTest.GetBucket(aT),aS=false;aR=(aR!==false);if(!aQ){if(Q.metrics.IsKnownUser()){if(!aR){return true}aS=true}aQ=SFSplitTest.GetOrAssignBucket(aT,[{sBucketName:"shoefitr",fWeight:aU},{sBucketName:"no-shoefitr",fWeight:1-aU}])}Q.RecordMetric("AssignedToBucket",{test:aT,bucket:aQ,reassigned:aS});return aQ==="shoefitr"};Q.SetupSplitTest=function(aT,aU,aR){var aQ=SFSplitTest.GetBucket(aT),aS=false;aR=(aR!==false);if(!aQ){if(Q.metrics.IsKnownUser()){if(!aR){return false}aS=true}aQ=SFSplitTest.GetOrAssignBucket(aT,[{sBucketName:"show",fWeight:aU},{sBucketName:"hide",fWeight:1-aU}])}Q.RecordMetric("AssignedToBucket",{test:aT,bucket:aQ,reassigned:aS});return aQ==="show"};function J(aQ){return function(aR){aQ.registerEventCallback(["input-model","input-size","input-display-width","input-size-fit-offset","target-size","target-width"],function(aY,aS,aV,aX,aU,aW){var aT={InputModel:aY.BrandName+" "+aY.ModelDisplayName,InputSize:Q.GetLocalizedSizeText(aS.oSizeObject),InputSizingScheme:Q.LocalizedString(aS.sSizingScheme),InputWidth:aV,TargetSize:Q.GetLocalizedSizeText(aU.oSizeObject),TargetWidth:aW};if(aS.sSizingScheme===aU.sSizingScheme){aR.html(Q.LocalizedString('Viewing size {TargetSize}#0({TargetWidth})# compared to your size <span class="sfInputDescription">{InputSize}#1({InputWidth})# {InputModel}<span>.',aT,[['<span class="sfHidableWidthLabel"> ',"</span>"],['<span class="sfHidableWidthLabel"> ',"</span>"]]))}else{aR.html(Q.LocalizedString("It will fit most closely to a size {InputSize}#({InputWidth})# ({InputSizingScheme}) {InputModel}.",aT,[['<span class="sfHidableWidthLabel"> ',"</span>"]]))}},false)}}function z(aQ){return function(aR){aQ.registerEventCallback(["input-model","input-size","input-display-width"],function(aV,aS,aU){var aT={InputSize:Q.GetLocalizedSizeText(aS.oSizeObject),InputWidth:aU,InputModel:aV.BrandName+" "+aV.ModelDisplayName};aR.html(Q.LocalizedString("Size {InputSize}#( {InputWidth})# {InputModel}",aT,[['<span class="sfHidableWidthLabel">',"</span>"]]))},false)}}function e(aQ){return function(aR){aQ.registerEventCallback(["input-model","input-size","recommendation","recommended-size"],function(aX,aS,aY,aU){var aZ=aY.TargetModelSizeDelta;var aT=aS.sSizingScheme;var aW=aU.sSizingScheme;var aV={InputModelName:aX.BrandName+" "+aX.ModelDisplayName,TargetSizingScheme:Q.LocalizedString(aW)};if(aT===aW){var a0=aj(aZ);if(a0!==null){aV.ModelDeltaPhrase=a0;aR.html(Q.LocalizedString("This shoe runs#({ModelDeltaPhrase})#compared to your<br/>{InputModelName}",aV,[["<br/><strong>","</strong><br/>"]]));return}}aR.html(Q.LocalizedString("This shoe comes in#({TargetSizingScheme})#sizes",aV,[["<br/><strong>","</strong><br/>"]]))},false)}}Q.CreateToggle=function(aQ,aR,aW,aX){var aY;var aU=av("<div/>");var aS=av("<div/>");aU.addClass(aR?"bl-flat-fix":"bl-corner-fix");aS.addClass("br-corner-fix");var aT=av('<div class="toggle">').html(aW).append(aU).append(aS);function aV(a0){var aZ=!V.isUndefined(a0)?a0:!aY;if(aZ!==aY){aY=aZ;aT.toggleClass("selected",aY)}}SFUtil.Get(aQ).appendChild(aT[0]);aV(false);aT.click(function(){var aZ=!aY;aV(true);aX(true,aZ);return false});return{jRootElement:aT,Toggle:function(aZ){aV(aZ)}}};Q.BindNewFlowAddDetails=function(aV,a0){var aX=a0.find(".sfHead");var aY=a0.find(".sfDesc");var aQ=a0.find(".sfNextStep");var aS=a0.find(".sfWidthQuestion");var aT=a0.find(".sfModelQuestion");aX.html(Q.LocalizedString("Additional Shoe Details"));aY.html(Q.LocalizedString("Most of the time these additional details won't affect your size recommendation, but we can check for you."));var aU=av("<h4></h4>");aU.html(Q.LocalizedString("Do you wear a custom width?"));var aR=av("<select></select>");aR.append(av('<option value="2">No, I wear a standard width</option>'));aR.append(av('<option value="1">Yes, Narrow</option>'));aR.append(av('<option value="3">Yes, Wide</option>'));aR.append(av('<option value="4">Yes, Extra Wide</option>'));aR.on("change",function(){aV.setInputNormalizedWidth(this.value)});aV.onInputNormalizedWidthChanged(function(a1){aR.val(a1)});aS.append(aU);aS.append(aR);var aZ=av("<h4></h4>");aZ.html(Q.LocalizedString("Do you know the model name?"));aT.append(aZ);aQ.html(Q.LocalizedString("Done"));aQ.click(function(){aV.goTo("recScreenLoading");aV.getAverageRecommendation()});var aW=createModelSeriesSuggestionTextbox(aT,Q.LocalizedString("Type the model..."),Q.LocalizedString,function(a1){var a3=aV.getGender();var a2=G.GetSearchGenderIds(au.oTargetModel.AgeKey,a3);return new FilterModelSeriesRequest(a1).WithGenderFilter(a2).WithInputUniverseFilter(au.oTargetModel.InputUniverseId)},function(a1){aV.setInputModel(a1)},function(a1){Q.RecordMetric("ModelInput",{s:a1})},true);aV.onInputModelSet(function(a1){if(V.isUndefined(a1)){aW.reset()}else{aW.setSelected(a1)}});aV.onBrandChanged(function(a1){if(a1){aX.html(Q.LocalizedString("Your {Brand} Shoe Details",{Brand:a1.BrandName}))}})};Q.BindNewFlowApplication=function(aT,aZ){var aR=aZ.find(".sfSplash");var aY=aZ.find(".sfQuestionnaire");var aW=aZ.find(".sfQuestion");var aQ=aZ.find(".sfAdditionalDetails");var aU=aZ.find(".sfLoading");var aX=aZ.find(".sfRecommendation");var aS=aZ.find(".sfRecDetails");var aV=aZ.find(".sfNewFlowFeedback");Q.BindNewFlowSplash(aT,aR);Q.BindNewFlowQuestionnaire(aT,aY);Q.BindNewFlowBrandAndSize(aT,aW);Q.BindNewFlowAddDetails(aT,aQ);Q.BindNewFlowLoading(aT,aU);Q.BindNewFlowRecScreen(aT,aX);Q.BindNewFlowRecScreenDetails(aT,aS);Q.BindNewFlowFeedback(aT,aV);av(".sfContainer").each(function(){var a0=av('<div class="sfBack"><div><div></div></div></div>');if(av(this).hasClass("sfSplash")){a0.css("display","none")}else{a0.click(function(){aT.goBack()})}av(this).prepend(a0)});aT.onStepChanged(function(a0){aR.toggleClass("sfHide",a0!=="splash");aY.toggleClass("sfHide",a0!=="questionnaire");aW.toggleClass("sfHide",a0!=="brandAndSize");aQ.toggleClass("sfHide",a0!=="addDetails");aU.toggleClass("sfHide",a0!=="recScreenLoading");aX.toggleClass("sfHide",a0!=="recScreen");aS.toggleClass("sfHide",a0!=="recScreenDetails");aV.toggleClass("sfHide",a0!=="feedback")})};Q.BindNewFlowBrandAndSize=function(aU,a0){var aY=a0.find(".sfButton");var aW=a0.find("h3");var aV=a0.find(".sfBrandQuestion");var aX=a0.find(".sfSizeQuestion");var a1=a0.find(".sfAddDetails");var a2=a0.find(".sfSizeSelect");var aZ=a0.find(".sfBrandSelect");var aQ=a0.find(".sfButton");aW.html(Q.LocalizedString("Tell us about one great-fitting pair of shoes you own."));aV.html(Q.LocalizedString("What is your favorite pair of shoes?"));aX.html(Q.LocalizedString("What size are they?"));a1.html(Q.LocalizedString("Add More Details"));aQ.html(Q.LocalizedString("Done"));var aS=createBrandSuggestionTextbox(aZ,Q.LocalizedString("Type the brand name..."),Q.LocalizedString,function(a3){return new FilterBrandsRequest(a3).WithInputUniverseFilter(au.oTargetModel.InputUniverseId)},function(a3){aU.setBrand(a3)},function(a3){Q.RecordMetric("BrandInput",{s:a3})});aU.onBrandChanged(function(a3){if(V.isUndefined(a3)){aS.reset()}else{aS.setSelected(a3);a0.find(".sfDisabled").each(function(){av(this).removeClass("sfDisabled")})}});var aT=false;aU.onCanGoToSet("recScreenLoading",function(a3){aQ.toggleClass("sfNotReady",!a3);a1.toggleClass("sfNotReady",!a3);aT=a3});var aR=createDropDownSizeSelector(a2,Q.LocalizedString,Q.GetLocalizedSizeText,function(a3){if(a3){aU.setInputSize(a3)}else{aU.clearInputSize()}});aU.onInputSizeChoicesSet(function(a3){aR.updateSizeChoices(a3)});aU.onInputSizeChanged(function(a3){aR.updateSelectedSize(a3)});a1.click(function(){if(aT){aU.goTo("addDetails");Q.RecordMetric("AddMoreDetailsClicked")}});aY.click(function(){if(aT){aU.goTo("recScreenLoading");aU.getAverageRecommendation()}})};Q.BindNewFlowFeedback=function(aT,aW){var aX=av("<h2></h2>");var aV=av('<div class="sfChoice sfYes">Yes</div>');var aU=av('<div class="sfChoice sfNo">No</div>');var aQ=av('<p class="sfSubDesc"></p>');var aS=av('<textarea class="sfTextArea"></textarea>');var aR=aW.find(".sfClose");aX.html("Was this helpful?");aQ.html("Please help us improve our service by telling us why and any other details you may have.");aW.append(aX);aW.append(aV);aW.append(aU);aW.append(aQ);aW.append(aS);aW.append(aR);aV.click(function(){aW.find(".sfChoice").removeClass("sfSelected");av(this).addClass("sfSelected")});aU.click(function(){aW.find(".sfChoice").removeClass("sfSelected");av(this).addClass("sfSelected")});aR.click(function(){var aY=aW.find(".sfSelected");if(aY.hasClass("sfYes")){Q.RecordMetric("FeedbackClicked",{helpful:true})}if(aY.hasClass("sfNo")){Q.RecordMetric("FeedbackClicked",{helpful:false})}if(aS.val().length>0){Q.RecordMetric("FeedbackWritten",{message:aS.val().toString()})}aW.find(".sfChoice").removeClass("sfSelected");aS.val("");aT.close()})};Q.BindNewFlowLoading=function(aR,aS){var aQ=aS.find(".sfButton");var aU=aS.find("h4");var aT=aS.find(".sfProductImg");aU.html(Q.LocalizedString("We measure every shoe in every size,<br> so we know exactly how they'll fit."));aQ.html(Q.LocalizedString("See Your Best Size"));aR.onTargetModelChanged(function(aV){aT.attr("src",Q.urlImageRoot+"/blank.png");if(!V.isUndefined(aV)){if(aV.Image5Url){aT.attr("src",aV.Image5Url)}}});aR.onRecommendationReady(function(aV,aW){if(aV){if(aW){aR.goTo("recScreen")}else{aQ.removeClass("sfHide")}}else{aQ.addClass("sfHide")}});aQ.click(function(){aR.goTo("recScreen");Q.RecordMetric("SeeResultsClicked")})};Q.BindNewFlowQuestionnaire=function(aQ,aR){jHeading=av("<h2>How can we help you?</h2>");jSpacer=av('<div class="sfSpacer"></div>');jQuestion1=av('<div class="sfQuestionnaireChoice"></div>');jQuestion2=av('<div class="sfQuestionnaireChoice"></div>');jQuestion3=av('<div class="sfQuestionnaireChoice"></div>');jQuestion1.html(Q.LocalizedString("I'm not sure what shoe size to buy."));if(aQ.sizeGuideSettings.bEnableQuestionnaireVariation){jQuestion2.html(Q.LocalizedString("I want to know if this shoe will fit me."))}else{jQuestion2.html(Q.LocalizedString("I want to compare this shoe to one I own."))}jQuestion3.html(Q.LocalizedString("Just curious. Show me something cool."));aR.append(jHeading);aR.append(jSpacer);aR.append(jQuestion1);aR.append(jQuestion2);aR.append(jQuestion3);jQuestion1.click(function(){Q.RecordMetric("NotSureWhatSizeClicked");aQ.goTo("brandAndSize")});jQuestion2.click(function(){if(aQ.sizeGuideSettings.bEnableQuestionnaireVariation){Q.RecordMetric("WillItFitClicked")}else{Q.RecordMetric("CompareToShoeClicked")}aQ.goTo("brandAndSize")});jQuestion3.click(function(){Q.RecordMetric("ShowMeSomethingCoolClicked");aQ.goTo("brandAndSize")})};Q.BindNewFlowRecScreen=function(aT,a0){var aU=a0.find(".sfProductImg");var aW=a0.find(".sfFitDataLink");var aR=a0.find(".sfClose");var a1=a0.find(".sfQuickRec");var a2=a1.find("h1");var aQ=a1.find("p");var aV=a0.find("h3");var aZ=a0.find("h4");var aY=a0.find(".sfRecDesc");var aX=a0.find(".sfFeedback");a2.html(Q.LocalizedString("10"));aQ.html(Q.LocalizedString("Best Fit"));aZ.html(Q.LocalizedString("How do we know?"));aW.html(Q.LocalizedString("View our fit data measurements"));aT.onTargetModelChanged(function(a3){aU.attr("src",Q.urlImageRoot+"/blank.png");if(!V.isUndefined(a3)){if(a3.Image5Url){aU.attr("src",a3.Image5Url)}}});aW.click(function(){aT.goTo("recScreenDetails");Q.RecordMetric("RecScreenDetailsClicked")});aR.click(function(){aT.goTo("feedback")});aT.onRecommendationSet(function(a3){if(a3.InputWidth===a3.StandardWidth){a2.html(Q.LocalizedString(String(a3.RecommendedSize)));aV.html(Q.LocalizedString("Size {RecSize} will fit you best.",{RecSize:a3.RecommendedSize}))}else{a2.html(Q.LocalizedString("{RecSize} {RecWidth}",{RecSize:a3.RecommendedSize,RecWidth:a3.RecommendedWidth}));aV.html(Q.LocalizedString("Size {RecSize} {RecWidth} will fit you best.",{RecSize:a3.RecommendedSize,RecWidth:a3.RecommendedWidth}))}});aT.onTargetModelAndInputsAndBrandAndRecommendationAndModelSet(function(a4,a6,a5,a3,a7){if(a7){if(a4.InputWidth===a4.StandardWidth){aY.html(Q.LocalizedString("We recommend a size {RecSize} because this shoe is nearly identical to your size {InputSize} {InputBrand} {InputModel}.",{RecSize:a4.RecommendedSize,InputSize:a6.nNativeSize,InputBrand:a7.BrandName,InputModel:a7.ModelSeriesName}))}else{aY.html(Q.LocalizedString("We recommend a size {RecSize} {RecWidth} because this shoe is nearly identical to your size {InputSize} {InputBrand} {InputModel}.",{RecSize:a4.RecommendedSize,RecWidth:a4.RecommendedWidth,InputSize:a6.nNativeSize,InputBrand:a7.BrandName,InputModel:a7.ModelSeriesName}))}}else{if(a4.InputWidth===a4.StandardWidth){aY.html(Q.LocalizedString("We recommend a size {RecSize} because this shoe is nearly identical to your size {InputSize} {InputBrand} shoe.",{RecSize:a4.RecommendedSize,InputSize:a6.nNativeSize,InputBrand:a5.BrandName}))}else{aY.html(Q.LocalizedString("We recommend a size {RecSize} {RecWidth} because this shoe is nearly identical to your size {InputSize} {InputBrand} shoe.",{RecSize:a4.RecommendedSize,RecWidth:a4.RecommendedWidth,InputSize:a6.nNativeSize,InputBrand:a5.BrandName}))}}});var aS=createDelayedFeedbackViewModel(false,function(a3){Q.RecordMetric("FeedbackClicked",{helpful:a3})},function(a3){Q.RecordMetric("FeedbackWritten",{message:a3})},function(a3){Q.RecordMetric("FeedbackEmailGiven",{email:a3})},1000,2000);aT.onStepChanged(function(a3){if(a3==="recScreen"){aS.start()}else{aS.reset()}});az(aX,aS,Q.LocalizedString)};Q.BindNewFlowRecScreenDetails=function(aU,aY){var aS=aY.find(".sfClose");var aW=aY.find(".sfSmallSize");var aQ=aY.find(".sfBestSize");var aZ=aY.find(".sfLargeSize");var aR=aY.find(".sfDetailsDesc");var aV=aY.find(".sfProductImg");var aX=aY.find(".sfFeedback");aU.onTargetModelChanged(function(a0){aV.attr("src",Q.urlImageRoot+"/blank.png");if(!V.isUndefined(a0)){if(a0.Image5Url){aV.attr("src",a0.Image5Url)}}});aS.click(function(){aU.goTo("feedback")});aU.onRecommendationSet(function(a0){if(a0.InputWidth===a0.StandardWidth){aW.html(Q.LocalizedString(String(a0.RecommendedSize-0.5)));aQ.html(Q.LocalizedString(String(a0.RecommendedSize)));aZ.html(Q.LocalizedString(String(a0.RecommendedSize+0.5)))}else{aW.html(Q.LocalizedString('{RecSize} <span class="sfScanWidth">{RecWidth}</span>',{RecSize:a0.RecommendedSize-0.5,RecWidth:a0.RecommendedWidth}));aQ.html(Q.LocalizedString('{RecSize} <span class="sfScanWidth">{RecWidth}</span>',{RecSize:a0.RecommendedSize,RecWidth:a0.RecommendedWidth}));aZ.html(Q.LocalizedString('{RecSize} <span class="sfScanWidth">{RecWidth}</span>',{RecSize:a0.RecommendedSize+0.5,RecWidth:a0.RecommendedWidth}))}});aU.onTargetModelAndInputsAndBrandAndRecommendationAndModelSet(function(a1,a3,a2,a0,a4){if(a4){aR.html(Q.LocalizedString("Shoefitr takes hundreds of 3D measurements of the insides of every shoe. This is how the <span>{TargetBrand} {TargetModel}</span> will feel compared to your size {InputSize} {InputBrand} {InputModel} shoe.",{RecSize:a1.RecommendedSize,TargetModel:a0.ModelDisplayName,InputSize:a3.nNativeSize,InputBrand:a4.BrandName,TargetBrand:a0.BrandName,InputModel:a4.ModelSeriesName}))}else{aR.html(Q.LocalizedString("Shoefitr takes hundreds of 3D measurements of the insides of every shoe. This is how the <span>{TargetBrand} {TargetModel}</span> will feel compared to your size {InputSize} {InputBrand} shoe.",{RecSize:a1.RecommendedSize,TargetModel:a0.ModelDisplayName,InputSize:a3.nNativeSize,InputBrand:a2.BrandName,TargetBrand:a0.BrandName}))}});var aT=createDelayedFeedbackViewModel(false,function(a0){Q.RecordMetric("FeedbackClicked",{helpful:a0})},function(a0){Q.RecordMetric("FeedbackWritten",{message:a0})},function(a0){Q.RecordMetric("FeedbackEmailGiven",{email:a0})},0,2000);aU.onStepChanged(function(a0){if(a0==="recScreenDetails"){aT.start()}else{aT.reset()}});az(aX,aT,Q.LocalizedString)};Q.BindNewFlowSplash=function(aS,aV){if(aS.sizeGuideSettings.bEnableChartSplash){aV.removeClass("sfLogo");var aT=av('<div class="sfContent sfTopOfRuler"></div>');var a3=av("<h3></h3>");var a7=av("<p></p>");var a2=av('<div class="sfButton sfNextStep"></div>');var aW=av('<div class="sfBox"></div>');var a4=av('<div class="sfRulerCircle"></div>');var a1=av('<div class="sfRulerLine"></div>');var aU=av('<div class="sfRulerLabel"></div>');var aX=av('<div class="sfSplashLine sfSmallLine"></div>');var aR=av('<div class="sfSplashLine sfLargeLine"></div>');var a6=av('<div class="sfSplashLine sfBestLine"></div>');var aZ=av('<div class="sfSplashLabel sfSmallLabel"></div>');var a8=av('<div class="sfSplashLabel sfLargeLabel"></div>');var aY=av('<div class="sfSplashLabel sfBestLabel"></div>');a3.html(Q.LocalizedString("Shoes often fit differently."));if(false){a7.html(Q.LocalizedString("This shoe runs a half size smaller than most shoes. You might need to size up."));aV.addClass("sfRunsSmall")}else{if(true){a7.html(Q.LocalizedString("This shoe runs a half size larger than most shoes. You might need to size down."));aV.addClass("sfRunsLarge")}else{a7.html(Q.LocalizedString("This shoe runs true to size. Make sure it fits<br> by comparing to a shoe you own."))}}aS.onTargetModelChanged(function(a9){if(!V.isUndefined(a9)){aU.html(Q.LocalizedString("{Brand}<br>{Model}",{Brand:a9.BrandName,Model:a9.ModelName}))}});aT.append(a3);aT.append(a7);aT.append(a1);aT.append(aU);aZ.html(Q.LocalizedString("Runs &frac12; size small"));a8.html(Q.LocalizedString("Runs &frac12; size large"));aY.html(Q.LocalizedString("Runs true to size"));a2.html(Q.LocalizedString("Compare to a shoe you own"));aW.append(a4);aW.append(aZ);aW.append(a8);aW.append(aY);aW.append(aX);aW.append(a6);aW.append(aR);aW.append(a2);aV.append(aT);aV.append(aW);a2.click(function(){aS.goTo("brandAndSize");Q.RecordMetric("ProceedFromSplashClicked")})}else{var aT=av('<div class="sfContent"></div>');var a5=av('<img class="sfProductImg">');var a3=av("<h3></h3>");var a7=av("<p></p>");var a2=av('<div class="sfButton sfNextStep"></div>');var aQ=av('<div class="sfSplashVideo"></div>');var a0=av('<script src="//fast.wistia.net/static/iframe-api-v1.js"><\/script>');a3.html(Q.LocalizedString("Know it fits before you buy."));a7.html(Q.LocalizedString("Shoes fit differently about <span>34%</span> of the time. Find out which size will fit you best."));a2.html(Q.LocalizedString("Find my best size"));aT.append(a5);aT.append(a3);aT.append(a7);aT.append(a2);aV.append(aT);aS.onTargetModelChanged(function(a9){a5.attr("src",Q.urlImageRoot+"/blank.png");if(!V.isUndefined(a9)){if(a9.Image5Url){a5.attr("src",a9.Image5Url)}}});if(aS.sizeGuideSettings.bEnableQuestionnaire){a2.click(function(){aS.goTo("questionnaire");Q.RecordMetric("ProceedToQuestionnaire")})}else{a2.click(function(){aS.goTo("brandAndSize");Q.RecordMetric("ProceedFromSplashClicked")})}}};function ak(aT,aU,aX,aR,aQ,aS){var aY=this;var aV;if(aX.bShowSizeGuide){aV=aT}aT=null;aY.sizeGuideConfig=aU;aY.sizeGuideSettings=aX;aY.fClose=aQ;aY.fSetInlineRecommendation=aS;aY.fSaveCookieData=aR;aY.recommendationEventFence=createEventFence();aY.state=new SFState({open:false,"target-model":undefined,gender:undefined,step:undefined,brand:undefined,"input-size-choices":undefined,"available-input-size-choices":undefined,"input-size":undefined,"input-normalized-width":undefined,"input-model":undefined,"show-width-rec":undefined,"recommendation-data":undefined,"recommendation-metrics-data":undefined,recommendation:undefined});aY.bSuppressSeeResultsButton=false;aY.state.OnStateChanged("recommendation-data",function(aZ){if(V.isUndefined(aZ)){aY.state.Clear("recommendation-metrics-data");aY.state.Clear("recommendation")}else{aY.state.Set("recommendation-metrics-data",aZ[1]);aY.state.Set("recommendation",aZ[0])}});aY.state.registerEventCallback(["input-normalized-width","recommendation"],function(a3,a2){var aZ=false;if(aY.sizeGuideSettings.bEnableForceWidthsOnMultiWidthShoes&&!V.isUndefined(a2)){var a1=V.chain(a2.DisplayWidths).filter(function(a4){return a4.IsAvailable}).value().length;if(a1>1){aZ=true}}var a0=!V.isUndefined(a3)&&a3!==G.NormalizedWidth.Standard.NormalizedWidthId;aY.state.Set("show-width-rec",aZ||a0)});aY.state.Set("target-model",aV);if(!V.isUndefined(aV)){aY.state.Set("available-input-size-choices",aY.sizeGuideConfig.oInputSizesByGenderBinary);var aW=(aV&&aV.GenderBinaryKeys.length===1)?aV.GenderBinaryKeys[0]:"M";aY.state.Set("gender",aW)}else{}aY.state.registerEventCallback(["available-input-size-choices","gender"],function(aZ,a1){var a0=G.ExtractSizeData(aZ[a1]);aY.state.Set("input-size-choices",a0)},false);aY.state.registerEventCallback(["input-size-choices","input-size"],function(a0,aZ){if(!V.contains(a0,aZ)){throw new Error("input size must be an object in the input size choices array")}},false);aY.backStack=[];aY.currentStep=null;aY.steps={splash:{},questionnaire:{},brandAndSize:{},addDetails:{canGoTo:function(){var aZ=aY.state.Get("brand");var a0=aY.state.Get("input-size");return !V.isUndefined(aZ)&&!V.isUndefined(a0)}},recScreenLoading:{canGoTo:function(){var aZ=aY.state.Get("brand");var a0=aY.state.Get("input-size");return !V.isUndefined(aZ)&&!V.isUndefined(a0)},onCanGoToSet:function(aZ){aY.state.registerEventCallback(["brand","input-size"],function(a0,a1){aZ(!V.isUndefined(a0)&&!V.isUndefined(a1))},true)},statesToClear:["recommendation-data"],eventsToFlush:[aY.recommendationEventFence],skipOnBack:true},recScreen:{canGoTo:function(){var aZ=aY.state.Get("recommendation");return !V.isUndefined(aZ)&&aZ!=="loading"},onCanGoToSet:function(aZ){aY.state.registerEventCallback(["recommendation"],function(a0){aZ(!V.isUndefined(a0)&&a0!=="loading")},true)}},recScreenDetails:{},feedback:{}};aY.state.registerEventCallback(["open","recommendation"],function(aZ,a1){if(aZ){var a0=aY.state.Get("recommendation-metrics-data");Q.RecordMetric("AverageRecommendationReceived",a0);Q.ReportEvent("RecommendationReceived")}},false);aY.state.registerEventCallback(["recommendation","show-width-rec"],function(a5,a2){var aZ=G.ExtractSizeData(a5,aY.sizeGuideConfig.sRecommendationSizeDisplayConvention);var a1=V.find(aZ,function(a6){return a6.nNativeSize===a5.RecommendedSize});var a0=a5.RecommendedWidth;var a3=false;if(aS&&V.isFunction(aS)){a3=aS(a1,a0,a2)}if(a3){var a4=aY.state.Get("recommendation-metrics-data");Q.RecordMetric("InlineRecommendationReceived",a4);Q.ReportEvent("RecommendationReceived")}},false);aY.goTo("splash")}ak.prototype.saveInputs=function(aQ,aS,aR){aQ(aS,{a:aR.sGender,b:aR.sSizingScheme,c:aR.nInputSize,d:aR.iInputNormalizedWidth,e:aR.iBrandId,f:aR.oModelData})};ak.prototype.loadSavedInputs=function(aS,aQ){var aR=aS(aQ);return{sGender:aR.a,sSizingScheme:aR.b,nInputSize:aR.c,iInputNormalizedWidth:aR.d,iBrandId:aR.e,oModelData:aR.f}};ak.prototype.getAverageRecommendation=function(){var a2=this;var aS=a2.state.Get("input-size");var aU=a2.state.Get("input-normalized-width");var aY=a2.state.Get("target-model");var a0=aY.ModelId;var aW=aY.InputUniverseId;var aR=a2.state.Get("gender");var aQ=a2.state.Get("brand");var aZ=a2.state.Get("input-model");var aT=new GetRecommendationFromAverageRequest(aS.nNativeSize,aS.sSizingScheme,aR,aW,a0).WithCurrentNormalizedWidthId(aU);if(a2.sizeGuideConfig.sRecommendationSizeDisplayConvention){aT.WithSizeDisplayConvention(a2.sizeGuideConfig.sRecommendationSizeDisplayConvention)}var a1=a2.sizeGuideConfig.sGenderBinary;if(a2.sizeGuideConfig.bUnisexMerchandise&&a2.sizeGuideConfig.oTargetModel.GenderBinaryKeys.length>1){a1=a2.state.Get("gender")}if(a1){aT.WithGenderBinary(a1)}if(aQ){aT.WithCurrentBrand(aQ.BrandId,aS.nNativeSize,2)}if(a2.sizeGuideSettings.bExcludeLocalizedHalfSizes){aT.WithExcludeLocalizedHalfSizes(true)}if(!V.isUndefined(a2.sizeGuideConfig.bNormalizeMinimalInputArchView)){aT.WithNormalizeArchViewHeelHeights(a2.sizeGuideConfig.bNormalizeMinimalInputArchView)}var aX=a2.recommendationEventFence.startNewEvent();var aV;if(!a2.state.Get("open")){aV=0}else{aV=2500}aT.Submit(SFUtil.WrapWithDelay(aV,function(a5){if(!aX.isMostRecent()){return}if(a5.Status!=="OK"){Q.RecordMetric("RecommendationFailed");throw new Error("recommendation failed");return}var a4=a5.Result;var a3=G.ExtractSizeData(a4,a2.sizeGuideConfig.sRecommendationSizeDisplayConvention);var a7=V.find(a3,function(a9){return a9.nNativeSize===a4.RecommendedSize});var a8={currentSize:aS.nNativeSize,currentSizingScheme:aS.sAlternateSizingScheme,currentDisplaySizingScheme:aS.sSizingScheme,currentDisplaySize1:aS.oSizeObject[1],currentDisplaySize2:aS.oSizeObject[2],currentWidth:aU,currentSizeFitOffset:a2.sizeGuideSettings.iSizeOffset,targetModelId:a0,recommendedSize:a7.nNativeSize,recommendedSizingScheme:a7.sAlternateSizingScheme,recommendedDisplaySizingScheme:a7.sSizingScheme,recommendedDisplaySize1:a7.oSizeObject[1],recommendedDisplaySize2:a7.oSizeObject[2],recommendedWidth:a4.RecommendedWidth};if(aQ){a8.currentBrandId=aQ.BrandId}a2.state.Set("recommendation-data",[a4,a8]);var a6={sGender:aR,sSizingScheme:aS.sSizingScheme,nInputSize:aS.nNativeSize,iInputNormalizedWidth:aU,iBrandId:aQ.BrandId};if(aZ){a6.oModelData=aZ}a2.saveInputs(a2.fSaveCookieData,a2.sizeGuideConfig.sInputUniverseDisplayKey,a6)}))};ak.prototype.setVisibility=function(aR){var aQ=this;aQ.state.Set("open",aR)};ak.prototype.TryLoadSavedInputs=function(aX){var aZ=this;var aW=aZ.state.Get("target-model");var aU=aZ.state.Get("available-input-size-choices");if(V.isUndefined("target-model")||V.isUndefined(aU)){return false}var aY=aZ.loadSavedInputs(aX,aZ.sizeGuideConfig.sInputUniverseDisplayKey);if(!(aY&&aY.sGender&&aY.sSizingScheme&&aY.nInputSize&&aY.iBrandId)){return false}if(!V.contains(aW.GenderBinaryKeys,aY.sGender)){return false}if(!V.has(aU,aY.sGender)){return false}var aV=G.ExtractSizeData(aU[aY.sGender]);if(aV[0].sSizingScheme!==aY.sSizingScheme){Q.RecordMetric("SavedAverageSizesNotAvailable");return false}var aR=V.find(aV,function(a0){return a0.nNativeSize===aY.nInputSize});if(V.isUndefined(aR)){Q.RecordMetric("SavedAverageSizesNotAvailable");return false}var aQ=V.find(aZ.sizeGuideConfig.aBrands,function(a0){return a0.BrandId==aY.iBrandId});if(!aQ){return false}aZ.state.Set("gender",aY.sGender);var aS=aZ.state.Get("input-size-choices");aR=V.find(aS,function(a0){return a0.nNativeSize===aY.nInputSize});if(!aR){throw new Error("failed to load cookie data")}aZ.setInputSize(aR);aZ.setBrand(aQ);aZ.setInputNormalizedWidth(aY.iInputNormalizedWidth);if(aY.oModelData){aZ.setInputModel(aY.oModelData)}var aT={sizingScheme:aR.sSizingScheme,currentSize:aR.nNativeSize,currentNormalizedWidth:aY.iInputNormalizedWidth,gender:aY.sGender,brand:aY.iBrandId};Q.RecordMetric("CurrentAverageLoadedFromCookies",aT);aZ.goTo("brandAndSize");aZ.bSuppressSeeResultsButton=true;return true};ak.prototype.clearInputSize=function(){var aQ=this;aQ.state.Clear("input-size")};ak.prototype.setInputSize=function(aR){var aQ=this;Q.RecordMetric("AverageSizeSelected",{size:aR.nNativeSize,sizingScheme:aR.sAlternateSizingScheme,displaySizingScheme:aR.sSizingScheme,displaySize1:aR.oSizeObject[1],displaySize2:aR.oSizeObject[2]});aQ.state.Set("input-size",aR)};ak.prototype.setInputNormalizedWidth=function(aR){var aQ=this;Q.RecordMetric("AverageWidthSelected",{id:aR});aQ.state.Set("input-normalized-width",aR)};ak.prototype.setInputModel=function(aR){var aQ=this;Q.RecordMetric("ModelSeriesSelected",{id:aR.ModelSeriesName});aQ.state.Set("input-model",aR)};ak.prototype.setBrand=function(aS){var aR=this;var aQ=Q.GetBrand(aS.BrandId);aR.state.Set("brand",aQ);Q.RecordMetric("BrandSelected",{br_id:aS.BrandId,br_name:aS.BrandName})};ak.prototype.goTo=function(aQ){var aR=this;var aS=aR.steps[aQ];if(!aS){throw new Error("unknown step: "+aQ)}if(aS===aR.currentStep||V.any(aR.backStack,function(aT){return aT===aS})){throw new Error("step already visited: "+aQ)}if(aS.canGoTo&&!aS.canGoTo()){throw new Error("cannot proceed to step: "+aQ)}if(aR.currentStep){aR.backStack.push(aR.currentStep)}aR.currentStep=aS;aR.state.Set("step",aQ)};ak.prototype.goBack=function(){var aX=this;var aS=V.any(aX.backStack,function(aZ){return !aZ.skipOnBack});if(!aS){throw new Error("cannot go back")}var aY=aX.currentStep;var aR=[aX.currentStep];var aT;while(true){var aV=aX.backStack.pop();aR.push(aV);aT=aV;if(!aV.skipOnBack||aX.backStack.length===0){break}}aX.currentStep=aT;V.each(aR,function(aZ){if(aZ.statesToClear){V.each(aZ.statesToClear,function(a0){aX.state.Clear(a0)})}if(aZ.eventsToFlush){V.each(aZ.eventsToFlush,function(a0){a0.flushAll()})}});var aQ,aW;for(var aU in aX.steps){if(aX.steps[aU]===aY){aQ=aU}if(aX.steps[aU]===aT){aW=aU}}if(!aQ||!aW){throw new Error("could not resolve steps")}Q.RecordMetric("GoBack",{from:aQ,to:aW});aX.state.Set("step",aW)};ak.prototype.close=function(){var aQ=this;Q.RecordMetric("ApplicationClosed");if(aQ.fClose&&V.isFunction(aQ.fClose)){aQ.fClose()}};ak.prototype.getGender=function(){var aQ=this;return aQ.state.Get("gender")};ak.prototype.onOpenCloseChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["open"],aR,false)};ak.prototype.onCanGoToSet=function(aQ,aT){var aR=this;var aS=aR.steps[aQ];if(!aS){throw new Error("unknown step: "+aQ)}if(aS.onCanGoToSet){aS.onCanGoToSet(aT)}else{aT(true)}};ak.prototype.onRecommendationReady=function(aR){var aQ=this;aQ.onCanGoToSet("recScreen",function(aS){aR(aS,aQ.bSuppressSeeResultsButton)})};ak.prototype.onCanGoBackChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["step"],function(aT){var aS=V.any(aQ.backStack,function(aU){return !aU.skipOnBack});aR(aS)})};ak.prototype.onStepChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["step"],aR)};ak.prototype.onAvailableInputSizeChoicesAndGenderChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["available-input-size-choices","gender"],aR,false)};ak.prototype.onInputSizeChoicesSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size-choices"],aR,false)};ak.prototype.onInputSizeChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size"],aR)};ak.prototype.onInputNormalizedWidthChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-normalized-width"],aR)};ak.prototype.onInputSizeAndShowWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","show-width-rec"],aR,false)};ak.prototype.onInputSizeAndNormalizedWidthSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","input-normalized-width","show-width-rec"],aR,false)};ak.prototype.onInputModelSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-model"],aR,false)};ak.prototype.onTargetModelChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-model"],aR)};ak.prototype.onTargetModelSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["target-model"],aR,false)};ak.prototype.onRecommendationSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["recommendation"],aR,false)};ak.prototype.onInputsAndRecommendationSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["recommendation","input-size","input-normalized-width"],aR,false)};ak.prototype.onTargetModelAndInputsAndBrandAndRecommendationAndModelSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["recommendation","input-size","brand","target-model","input-model"],function(aT,aS,aW,aV,aU){if(!V.isUndefined(aT)&&!V.isUndefined(aS)&&!V.isUndefined(aW)&&!V.isUndefined(aV)){aR(aT,aS,aW,aV,aU)}},true)};ak.prototype.onInputSizeAndNormalizedWidthAndBrandSet=function(aR){var aQ=this;aQ.state.registerEventCallback(["input-size","input-normalized-width","show-width-rec","brand"],aR,false)};ak.prototype.onBrandChanged=function(aR){var aQ=this;aQ.state.registerEventCallback(["brand"],aR)};var az=function(aT,aR,aS){aT.empty();aT.hide();function aQ(aV,aU){var aW=av("<div/>").append(av("<span/>").html(aV)).addClass("feedback-button").click(aU);SFUtil.DisableSelection(aW[0]);aW.css("cursor","pointer");return aW[0]}aR.onHiddenChanged(function(aU){if(!aU){aT.fadeIn(400)}else{aT.fadeOut(400)}});aR.onStepChanged(function(a0){aT.empty();switch(a0){case"helpful?":var a3=av("<p></p>");a3.html(aS("Was this helpful?"));aT.append(a3);var aZ=aQ(aS("Yes"),function(){aR.saidYes()});var aV=aQ(aS("No"),function(){aR.saidNo()});av(aZ).addClass("sfYesBtn");av(aV).addClass("sfNoBtn");aT.append(aZ);aT.append(aV);break;case"yes-why?":case"no-why?":var a2=(a0==="yes-why?")?aS("Thanks! Please tell us why."):aS("Sorry. Please tell us why.");var aY=SFUtil.CreateTextbox();aY.className="sf_feedback_textbox";aY.setAttribute("autocomplete","off");var aW=new Watermark(aY,a2,{blur_color:"#888",focus_color:"#333"});function a1(){if(aY.value&&aY.value!=aW.text){aR.typedResponse(aY.value)}}aY.onkeydown=SFUtil.OnKey({13:a1});var aU=aQ(aS("Submit"),a1);av(aU).addClass("sfBtnSubmit");aT.append(aY);aT.append(aU);break;case"email?":var a2=aS("What's your email?");var aY=SFUtil.CreateTextbox();aY.className="sf_feedback_textbox";aY.setAttribute("autocomplete","off");var aW=new Watermark(aY,a2,{blur_color:"#888",focus_color:"#333"});function aX(){if(aY.value&&aY.value!=aW.text){aR.typedEmail(aY.value)}}aY.onkeydown=SFUtil.OnKey({13:aX});var aU=aQ(aS("Submit"),aX);av(aU).addClass("sfBtnSubmit");aT.append(aY);aT.append(aU);break;case"thankyou":aT.html("<p>"+aS("Thank you!")+"</p>");break}})};av(document).ready(function(){Q.Initialize()})})($sf,_sf,SizeGuideInit,SizeGuideConfig,ShoefitrApi);