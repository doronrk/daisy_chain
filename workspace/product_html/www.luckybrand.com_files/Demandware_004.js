if(typeof(Demandware)=="undefined"){Demandware={}}if(!Demandware.Gigya){Demandware.Gigya={}}function _dwGigyaShare(){var k=this;var y;var r=null;var c=null;var q=null;var d=null;var b=null;var e=null;var x=null;var t=null;var p=null;var o=null;var h=null;var A=null;var i=null;var u=null;var n=null;var w=null;var l;var s=null;k.autoShare=false;new function(){$(a);$(window).bind("unload",z)};function a(){g();c.bind("click",v);if(k.autoShare){v(null)}else{c.css("visibility","visible")}}function g(){c=$("#btnGigyaShare");r=$("#divGigyaShareParams");q=r.find("#txtGigyaShareTitle").val();d=r.find("#txtGigyaShareDescription").val();b=r.find("#txtGigyaShareImageUrl").val();e=r.find("#txtGigyaShareLinkUrl").val();x=r.find("#txtGigyaShareProviders").val();t=r.find("#txtGigyaShareActionId").val();p=r.find("#txtGigyaShareActionMessage").val();o=r.find("#txtGigyaShareWithFeed").val()!="false";h=r.find("#txtGigyaShareAlways").val()||"unchecked";A=r.find("#txtGigyaShareNever").val()||false;i=r.find("#txtGigyaShareOperationMode").val();u=r.find("#txtGigyaShareContainer").val();n=r.find("#txtGigyaShareEnabledProviders").val();w=r.find("#txtGigyaShareShowMoreButton").val()=="true";s=r.find("#txtGigyaShareShowEmailButton").val()=="true";$(".share-product").show()}function m(B){alert("An error has occured while trying to share: "+B.errorCode+"; "+B.errorMessage)}function j(B){if(t){B.showAlwaysShare=h;B.showNeverShare=A;B.autoShareActionID=t}return B}function z(){if((typeof c!="undefined")&&c){c.unbind("click",v)}_this=r=c=null}function f(){l=new gigya.services.socialize.UserAction();l.setTitle(q);l.setDescription(d);l.setLinkBack(e);l.setActionName(p);l.addMediaItem({type:"image",src:b,href:e});y={userAction:l,context:l,showMoreButton:true,showEmailButton:true,enabledProviders:x,useHTML:true,operationMode:i,containerID:u,showMoreButton:w,showEmailButton:s,moreEnabledProviders:n,onLoad:app.gigyaShare.open,scope:o?"both":"external",privacy:Demandware.Gigya.PrivacyLevel};y=j(y)}function v(B){B.preventDefault();if($("#"+u).length==0){$("."+u).append('<div id="'+u+'"/>')}if(!l){f()}gigya.services.socialize.showShareUI(y);app.gigyaShare.open(B)}}Demandware.Gigya.Share=new _dwGigyaShare();