/**
 * janrain-social - v3.3.2+63
 * Copyright (c) 2014, Janrain, Inc. All rights reserved.
 */
(function e$$0(m,s,g){function k(l,d){if(!s[l]){if(!m[l]){var p="function"==typeof require&&require;if(!d&&p)return p(l,!0);if(q)return q(l,!0);throw Error("Cannot find module '"+l+"'");}p=s[l]={exports:{}};m[l][0].call(p.exports,function(d){var g=m[l][1][d];return k(g?g:d)},p,p.exports,e$$0,m,s,g)}return s[l].exports}for(var q="function"==typeof require&&require,l=0;l<g.length;l++)k(g[l]);return k})({1:[function(f,m,s){m.exports={meta:{languageName:"English (US)",rtl:!1},pluralDefinition:{nplurals:2,
plural:"(n != 1)"},errors:{shareFailure:"An error occurred.",canceledLogin:"You must log in to share.",engageCommunication:"No response from login service.",noContactSelected:"Please add at least one recipient."},common:{share:["Share","Shares"],sharing:"Sharing",close:"Close",removeFromShare:"Remove {{name}} from share",shareCallToAction:"Share this with your friends!",shareThankYou:"Thanks for sharing!",shareFailure:"There was a problem with the share.",shareWithSingle:"Share with {{name}}",shareWithMulti:["Share with {{name}} and 1 other",
"Share with {{name}} and {{number}} others"],placeholderContactSearch:"Type name or username...",placeholderComment:"Add a comment...",selectEmailProvider:"Please select an email provider."},email:{to:"To",from:"From",bcc:"Bcc",composeMessage:"Compose your message",send:"Send Email"},"email-mailto":{friendlyName:"Mail App"},facebook:{shareCallToAction:"Share this on your timeline!",shareThankYou:"Thanks for sharing on your timeline!"},twitter:{shareCallToAction:"Tweet this to your followers!",shareThankYou:"Thanks for sharing with your followers!"},
linkedin:{shareCallToAction:"Share this with your connections!",shareThankYou:"Thanks for sharing to your connections!"},mixi:{shareCallToAction:"Share this with your friends!"},xing:{shareCallToAction:"Share this with your friends!"}}},{}],2:[function(f,m,s){m.exports={email:{filename:"email",background:"#009DDC",text:"#000000",friendlyName:"Email",supportsImages:!1,shareModes:["email"]},"email-google":{filename:"google",background:"#3B74F4",text:"#3B74F4",friendlyName:"Gmail",supportsImages:!1,
shareModes:["email"]},"email-googleplus":{filename:"googleplus",background:"#CC3732",text:"#737373",friendlyName:"Google+",supportsImages:!1,shareModes:["email"]},"email-mailto":{filename:"email",background:"#009DDC",text:"#000000",supportsImages:!1,shareModes:["email"]},"email-yahoo":{filename:"yahoo",background:"#670267",text:"#670267",friendlyName:"Yahoo! Mail",supportsImages:!1,shareModes:["email"]},"native-facebook":{filename:"facebook",background:"#3B5998",text:"#3B5998",friendlyName:"Facebook",
supportsImages:!1,shareModes:["native"]},"native-googleplus":{filename:"googleplus",background:"#CC3732",text:"#737373",friendlyName:"Google+",supportsImages:!1,shareModes:["native"]},"native-linkedin":{filename:"linkedin",background:"#005A87",text:"#005A87",friendlyName:"LinkedIn",supportsImages:!1,shareModes:["native"]},"native-mixi":{filename:"mixi",background:"#D1AD5A",text:"#D1AD5A",friendlyName:"Mixi",supportsImages:!1,shareModes:["native"]},"native-pinterest":{filename:"pinterest",background:"#BE0A1E",
text:"#CB2027",friendlyName:"Pinterest",supportsImages:!1,shareModes:["native"]},"native-sinaweibo":{filename:"sinaweibo",background:"#D72829",text:"#D72829",friendlyName:"Sina Weibo",supportsImages:!1,shareModes:["native"]},"native-twitter":{filename:"twitter",background:"#27C9FF",text:"#27C9FF",friendlyName:"Twitter",supportsImages:!1,shareModes:["native"]},"native-tumblr":{filename:"tumblr",background:"#31516F",text:"#31516F",friendlyName:"Tumblr",supportsImages:!1,shareModes:["native"]},"native-xing":{filename:"xing",
background:"#006567",text:"#006567",friendlyName:"Xing",supportsImages:!1,shareModes:["native"]},"native-reddit":{filename:"reddit",background:"#FF4500",text:"#FF4500",friendlyName:"Reddit",supportsImages:!1,shareModes:["native"]},facebook:{filename:"facebook",background:"#3B5998",text:"#3B5998",friendlyName:"Facebook",supportsImages:!0,shareModes:["broadcast"]},linkedin:{filename:"linkedin",background:"#005A87",text:"#005A87",friendlyName:"LinkedIn",supportsImages:!0,shareModes:["broadcast","contact"]},
mixi:{filename:"mixi",background:"#D1AD5A",text:"#D1AD5A",friendlyName:"Mixi",supportsImages:!0,shareModes:["broadcast"]},qq:{filename:"qq",background:"#20B2ED",text:"#201D28",friendlyName:"TencentQQ",supportsImages:!0,shareModes:["broadcast"]},tencentweibo:{filename:"tencentweibo",background:"#20B8E5",text:"#20B8E5",friendlyName:"Tencent Weibo",supportsImages:!0,shareModes:["broadcast"]},twitter:{filename:"twitter",background:"#27C9FF",text:"#27C9FF",friendlyName:"Twitter",supportsImages:!1,shareModes:["broadcast",
"contact"],maxCharCount:140,urlReservedLength:23},xing:{filename:"xing",background:"#006567",text:"#006567",friendlyName:"Xing",supportsImages:!0,shareModes:["broadcast","contact"]}}},{}],3:[function(f,m,s){},{}],4:[function(f,m,s){function g(){}f=m.exports={};f.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(f){return window.setImmediate(f)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var f=[];window.addEventListener("message",
function(g){var l=g.source;l!==window&&null!==l||"process-tick"!==g.data||(g.stopPropagation(),0<f.length&&f.shift()())},!0);return function(g){f.push(g);window.postMessage("process-tick","*")}}return function(f){setTimeout(f,0)}}();f.title="browser";f.browser=!0;f.env={};f.argv=[];f.on=g;f.addListener=g;f.once=g;f.off=g;f.removeListener=g;f.removeAllListeners=g;f.emit=g;f.binding=function(f){throw Error("process.binding is not supported");};f.cwd=function(){return"/"};f.chdir=function(f){throw Error("process.chdir is not supported");
}},{}],5:[function(f,m,s){(function(){var g=!0;(function(k){var q=this||(0,eval)("this"),l=q.document,y=q.navigator,d=q.jQuery,p=q.JSON;(function(d){"function"===typeof f&&"object"===typeof s&&"object"===typeof m?d(m.exports||s):"function"===typeof define&&define.amd?define(["exports"],d):d(q.ko={})})(function(f){function m(a,e){return null===a||typeof a in I?a===e:!1}function u(a,e){var b;return function(){b||(b=setTimeout(function(){b=k;a()},e))}}function v(a,e){var b;return function(){clearTimeout(b);
b=setTimeout(a,e)}}function n(c,e,b,t){a.bindingHandlers[c]={init:function(c,z,h,d,x){var C,S;a.computed(function(){var h=a.utils.unwrapObservable(z()),R=!b!==!h,d=!S;if(d||e||R!==C)d&&a.computedContext.getDependenciesCount()&&(S=a.utils.cloneNodes(a.virtualElements.childNodes(c),!0)),R?(d||a.virtualElements.setDomNodeChildren(c,a.utils.cloneNodes(S)),a.applyBindingsToDescendants(t?t(x,h):x,c)):a.virtualElements.emptyNode(c),C=R},null,{disposeWhenNodeIsRemoved:c});return{controlsDescendantBindings:!0}}};
a.expressionRewriting.bindingRewriteValidators[c]=!1;a.virtualElements.allowedBindings[c]=!0}var a="undefined"!==typeof f?f:{};a.exportSymbol=function(c,e){for(var b=c.split("."),t=a,d=0;d<b.length-1;d++)t=t[b[d]];t[b[b.length-1]]=e};a.exportProperty=function(a,e,b){a[e]=b};a.version="3.1.0";a.exportSymbol("version",a.version);a.utils=function(){function c(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function e(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function b(a,
b){a.__proto__=b;return a}var t={__proto__:[]}instanceof Array,f={},z={},h=y&&/Firefox\/2/i.test(y.userAgent)?"KeyboardEvent":"UIEvents";f[h]=["keyup","keydown","keypress"];f.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");c(f,function(a,b){if(b.length)for(var c=0,e=b.length;c<e;c++)z[b[c]]=a});var E={propertychange:!0},x=l&&function(){for(var a=3,b=l.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+
"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:k}();return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(a,b){for(var c=0,e=a.length;c<e;c++)b(a[c],c)},arrayIndexOf:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,e=a.length;c<e;c++)if(a[c]===b)return c;return-1},arrayFirst:function(a,b,c){for(var e=0,h=a.length;e<h;e++)if(b.call(c,a[e],e))return a[e];return null},arrayRemoveItem:function(b,
c){var e=a.utils.arrayIndexOf(b,c);0<e?b.splice(e,1):0===e&&b.shift()},arrayGetDistinctValues:function(b){b=b||[];for(var c=[],e=0,h=b.length;e<h;e++)0>a.utils.arrayIndexOf(c,b[e])&&c.push(b[e]);return c},arrayMap:function(a,b){a=a||[];for(var c=[],e=0,h=a.length;e<h;e++)c.push(b(a[e],e));return c},arrayFilter:function(a,b){a=a||[];for(var c=[],e=0,h=a.length;e<h;e++)b(a[e],e)&&c.push(a[e]);return c},arrayPushAll:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,e=b.length;c<
e;c++)a.push(b[c]);return a},addOrRemoveItem:function(b,c,e){var h=a.utils.arrayIndexOf(a.utils.peekObservable(b),c);0>h?e&&b.push(c):e||b.splice(h,1)},canSetPrototype:t,extend:e,setPrototypeOf:b,setPrototypeOfOrExtend:t?b:e,objectForEach:c,objectMap:function(a,b){if(!a)return a;var c={},e;for(e in a)a.hasOwnProperty(e)&&(c[e]=b(a[e],e,a));return c},emptyDomNode:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},moveCleanedNodesToContainerElement:function(b){b=a.utils.makeArray(b);for(var c=
l.createElement("div"),e=0,h=b.length;e<h;e++)c.appendChild(a.cleanNode(b[e]));return c},cloneNodes:function(b,c){for(var e=0,h=b.length,t=[];e<h;e++){var d=b[e].cloneNode(!0);t.push(c?a.cleanNode(d):d)}return t},setDomNodeChildren:function(b,c){a.utils.emptyDomNode(b);if(c)for(var e=0,h=c.length;e<h;e++)b.appendChild(c[e])},replaceDomNodes:function(b,c){var e=b.nodeType?[b]:b;if(0<e.length){for(var h=e[0],t=h.parentNode,d=0,x=c.length;d<x;d++)t.insertBefore(c[d],h);d=0;for(x=e.length;d<x;d++)a.removeNode(e[d])}},
fixUpContinuousNodeArray:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.shift();if(1<a.length){var c=a[0],e=a[a.length-1];for(a.length=0;c!==e;)if(a.push(c),c=c.nextSibling,!c)return;a.push(e)}}return a},setOptionNodeSelectionState:function(a,b){7>x?a.setAttribute("selected",b):a.selected=b},stringTrim:function(a){return null===a||a===k?"":a.trim?a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringTokenize:function(b,c){for(var e=[],
h=(b||"").split(c),t=0,d=h.length;t<d;t++){var x=a.utils.stringTrim(h[t]);""!==x&&e.push(x)}return e},stringStartsWith:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},domNodeIsContainedBy:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},domNodeIsAttachedToDocument:function(b){return a.utils.domNodeIsContainedBy(b,
b.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(b){return!!a.utils.arrayFirst(b,a.utils.domNodeIsAttachedToDocument)},tagNameLower:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},registerEventHandler:function(b,c,e){var h=x&&E[c];if(!h&&d)d(b).bind(c,e);else if(h||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var t=function(a){e.call(b,a)},z="on"+c;b.attachEvent(z,t);a.utils.domNodeDisposal.addDisposeCallback(b,function(){b.detachEvent(z,
t)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else b.addEventListener(c,e,!1)},triggerEvent:function(b,c){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var e;"input"===a.utils.tagNameLower(b)&&b.type?"click"!=c.toLowerCase()?e=!1:(e=b.type,e="checkbox"==e||"radio"==e):e=!1;if(d&&!e)d(b).trigger(c);else if("function"==typeof l.createEvent)if("function"==typeof b.dispatchEvent)e=l.createEvent(z[c]||"HTMLEvents"),e.initEvent(c,
!0,!0,q,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(e);else throw Error("The supplied element doesn't support dispatchEvent");else if(e&&b.click)b.click();else if("undefined"!=typeof b.fireEvent)b.fireEvent("on"+c);else throw Error("Browser doesn't support triggering events");},unwrapObservable:function(b){return a.isObservable(b)?b():b},peekObservable:function(b){return a.isObservable(b)?b.peek():b},toggleDomNodeCssClass:function(b,c,e){if(c){var h=/\S+/g,t=b.className.match(h)||[];a.utils.arrayForEach(c.match(h),
function(b){a.utils.addOrRemoveItem(t,b,e)});b.className=t.join(" ")}},setTextContent:function(b,c){var e=a.utils.unwrapObservable(c);if(null===e||e===k)e="";var h=a.virtualElements.firstChild(b);!h||3!=h.nodeType||a.virtualElements.nextSibling(h)?a.virtualElements.setDomNodeChildren(b,[b.ownerDocument.createTextNode(e)]):h.data=e;a.utils.forceRefresh(b)},setElementName:function(a,b){a.name=b;if(7>=x)try{a.mergeAttributes(l.createElement("<input name='"+a.name+"'/>"),!1)}catch(c){}},forceRefresh:function(a){9<=
x&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},ensureSelectElementIsRenderedCorrectly:function(a){if(x){var b=a.style.width;a.style.width=0;a.style.width=b}},range:function(b,c){b=a.utils.unwrapObservable(b);c=a.utils.unwrapObservable(c);for(var e=[],h=b;h<=c;h++)e.push(h);return e},makeArray:function(a){for(var b=[],c=0,e=a.length;c<e;c++)b.push(a[c]);return b},isIe6:6===x,isIe7:7===x,ieVersion:x,getFormFields:function(b,c){for(var e=a.utils.makeArray(b.getElementsByTagName("input")).concat(a.utils.makeArray(b.getElementsByTagName("textarea"))),
h="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},t=[],d=e.length-1;0<=d;d--)h(e[d])&&t.push(e[d]);return t},parseJson:function(b){return"string"==typeof b&&(b=a.utils.stringTrim(b))?p&&p.parse?p.parse(b):(new Function("return "+b))():null},stringifyJson:function(b,c,e){if(!p||!p.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return p.stringify(a.utils.unwrapObservable(b),c,e)},postJson:function(b,e,h){h=h||{};var t=h.params||{},d=h.includeFields||this.fieldsIncludedWithJsonPost,x=b;if("object"==typeof b&&"form"===a.utils.tagNameLower(b))for(var x=b.action,z=d.length-1;0<=z;z--)for(var r=a.utils.getFormFields(b,d[z]),w=r.length-1;0<=w;w--)t[r[w].name]=r[w].value;e=a.utils.unwrapObservable(e);var L=l.createElement("form");L.style.display="none";L.action=x;L.method="post";for(var f in e)b=l.createElement("input"),b.name=
f,b.value=a.utils.stringifyJson(a.utils.unwrapObservable(e[f])),L.appendChild(b);c(t,function(a,b){var r=l.createElement("input");r.name=a;r.value=b;L.appendChild(r)});l.body.appendChild(L);h.submitter?h.submitter(L):L.submit();setTimeout(function(){L.parentNode.removeChild(L)},0)}}}();a.exportSymbol("utils",a.utils);a.exportSymbol("utils.arrayForEach",a.utils.arrayForEach);a.exportSymbol("utils.arrayFirst",a.utils.arrayFirst);a.exportSymbol("utils.arrayFilter",a.utils.arrayFilter);a.exportSymbol("utils.arrayGetDistinctValues",
a.utils.arrayGetDistinctValues);a.exportSymbol("utils.arrayIndexOf",a.utils.arrayIndexOf);a.exportSymbol("utils.arrayMap",a.utils.arrayMap);a.exportSymbol("utils.arrayPushAll",a.utils.arrayPushAll);a.exportSymbol("utils.arrayRemoveItem",a.utils.arrayRemoveItem);a.exportSymbol("utils.extend",a.utils.extend);a.exportSymbol("utils.fieldsIncludedWithJsonPost",a.utils.fieldsIncludedWithJsonPost);a.exportSymbol("utils.getFormFields",a.utils.getFormFields);a.exportSymbol("utils.peekObservable",a.utils.peekObservable);
a.exportSymbol("utils.postJson",a.utils.postJson);a.exportSymbol("utils.parseJson",a.utils.parseJson);a.exportSymbol("utils.registerEventHandler",a.utils.registerEventHandler);a.exportSymbol("utils.stringifyJson",a.utils.stringifyJson);a.exportSymbol("utils.range",a.utils.range);a.exportSymbol("utils.toggleDomNodeCssClass",a.utils.toggleDomNodeCssClass);a.exportSymbol("utils.triggerEvent",a.utils.triggerEvent);a.exportSymbol("utils.unwrapObservable",a.utils.unwrapObservable);a.exportSymbol("utils.objectForEach",
a.utils.objectForEach);a.exportSymbol("utils.addOrRemoveItem",a.utils.addOrRemoveItem);a.exportSymbol("unwrap",a.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(a){var e=this,b=Array.prototype.slice.call(arguments);a=b.shift();return function(){return e.apply(a,b.concat(Array.prototype.slice.call(arguments)))}});a.utils.domData=new function(){function a(c,d){var h=c[b];if(!h||"null"===h||!t[h]){if(!d)return k;h=c[b]="ko"+e++;t[h]={}}return t[h]}var e=0,b="__ko__"+
(new Date).getTime(),t={};return{get:function(b,e){var h=a(b,!1);return h===k?k:h[e]},set:function(b,e,h){if(h!==k||a(b,!1)!==k)a(b,!0)[e]=h},clear:function(a){var c=a[b];return c?(delete t[c],a[b]=null,!0):!1},nextKey:function(){return e++ +b}}};a.exportSymbol("utils.domData",a.utils.domData);a.exportSymbol("utils.domData.clear",a.utils.domData.clear);a.utils.domNodeDisposal=new function(){function c(c,e){var t=a.utils.domData.get(c,b);t===k&&e&&(t=[],a.utils.domData.set(c,b,t));return t}function e(b){var h=
c(b,!1);if(h)for(var h=h.slice(0),t=0;t<h.length;t++)h[t](b);a.utils.domData.clear(b);a.utils.domNodeDisposal.cleanExternalData(b);if(f[b.nodeType])for(h=b.firstChild;b=h;)h=b.nextSibling,8===b.nodeType&&e(b)}var b=a.utils.domData.nextKey(),t={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{addDisposeCallback:function(a,b){if("function"!=typeof b)throw Error("Callback must be a function");c(a,!0).push(b)},removeDisposeCallback:function(e,h){var t=c(e,!1);t&&(a.utils.arrayRemoveItem(t,h),0==t.length&&a.utils.domData.set(e,
b,k))},cleanNode:function(b){if(t[b.nodeType]&&(e(b),f[b.nodeType])){var c=[];a.utils.arrayPushAll(c,b.getElementsByTagName("*"));for(var d=0,x=c.length;d<x;d++)e(c[d])}return b},removeNode:function(b){a.cleanNode(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){d&&"function"==typeof d.cleanData&&d.cleanData([a])}}};a.cleanNode=a.utils.domNodeDisposal.cleanNode;a.removeNode=a.utils.domNodeDisposal.removeNode;a.exportSymbol("cleanNode",a.cleanNode);a.exportSymbol("removeNode",
a.removeNode);a.exportSymbol("utils.domNodeDisposal",a.utils.domNodeDisposal);a.exportSymbol("utils.domNodeDisposal.addDisposeCallback",a.utils.domNodeDisposal.addDisposeCallback);a.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",a.utils.domNodeDisposal.removeDisposeCallback);(function(){a.utils.parseHtmlFragment=function(c){var e;if(d)if(d.parseHTML)e=d.parseHTML(c)||[];else{if((e=d.clean([c]))&&e[0]){for(c=e[0];c.parentNode&&11!==c.parentNode.nodeType;)c=c.parentNode;c.parentNode&&c.parentNode.removeChild(c)}}else{var b=
a.utils.stringTrim(c).toLowerCase();e=l.createElement("div");b=b.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!b.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!b.indexOf("<td")||!b.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];c="ignored<div>"+b[1]+c+b[2]+"</div>";for("function"==typeof q.innerShiv?e.appendChild(q.innerShiv(c)):e.innerHTML=c;b[0]--;)e=e.lastChild;e=a.utils.makeArray(e.lastChild.childNodes)}return e};a.utils.setHtml=function(c,
e){a.utils.emptyDomNode(c);e=a.utils.unwrapObservable(e);if(null!==e&&e!==k)if("string"!=typeof e&&(e=e.toString()),d)d(c).html(e);else for(var b=a.utils.parseHtmlFragment(e),t=0;t<b.length;t++)c.appendChild(b[t])}})();a.exportSymbol("utils.parseHtmlFragment",a.utils.parseHtmlFragment);a.exportSymbol("utils.setHtml",a.utils.setHtml);a.memoization=function(){function c(b,e){if(b)if(8==b.nodeType){var d=a.memoization.parseMemoText(b.nodeValue);null!=d&&e.push({domNode:b,memoId:d})}else if(1==b.nodeType)for(var d=
0,f=b.childNodes,h=f.length;d<h;d++)c(f[d],e)}var e={};return{memoize:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var c=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);e[c]=a;return"\x3c!--[ko_memo:"+c+"]--\x3e"},unmemoize:function(a,c){var d=e[a];if(d===k)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return d.apply(null,
c||[]),!0}finally{delete e[a]}},unmemoizeDomNodeAndDescendants:function(b,e){var d=[];c(b,d);for(var f=0,h=d.length;f<h;f++){var E=d[f].domNode,x=[E];e&&a.utils.arrayPushAll(x,e);a.memoization.unmemoize(d[f].memoId,x);E.nodeValue="";E.parentNode&&E.parentNode.removeChild(E)}},parseMemoText:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.exportSymbol("memoization",a.memoization);a.exportSymbol("memoization.memoize",a.memoization.memoize);a.exportSymbol("memoization.unmemoize",
a.memoization.unmemoize);a.exportSymbol("memoization.parseMemoText",a.memoization.parseMemoText);a.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",a.memoization.unmemoizeDomNodeAndDescendants);a.extenders={throttle:function(c,e){c.throttleEvaluation=e;var b=null;return a.dependentObservable({read:c,write:function(a){clearTimeout(b);b=setTimeout(function(){c(a)},e)}})},rateLimit:function(a,e){var b,t,d;"number"==typeof e?b=e:(b=e.timeout,t=e.method);d="notifyWhenChangesStop"==t?v:u;a.limit(function(a){return d(a,
b)})},notify:function(a,e){a.equalityComparer="always"==e?null:m}};var I={undefined:1,"boolean":1,number:1,string:1};a.exportSymbol("extenders",a.extenders);a.subscription=function(c,e,b){this.target=c;this.callback=e;this.disposeCallback=b;this.isDisposed=!1;a.exportProperty(this,"dispose",this.dispose)};a.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};a.subscribable=function(){a.utils.setPrototypeOfOrExtend(this,a.subscribable.fn);this._subscriptions={}};var P=
"change";f={subscribe:function(c,e,b){var t=this;b=b||P;c=e?c.bind(e):c;var d=new a.subscription(t,c,function(){a.utils.arrayRemoveItem(t._subscriptions[b],d)});t.peek&&t.peek();t._subscriptions[b]||(t._subscriptions[b]=[]);t._subscriptions[b].push(d);return d},notifySubscribers:function(c,e){e=e||P;if(this.hasSubscriptionsForEvent(e))try{a.dependencyDetection.begin();for(var b=this._subscriptions[e].slice(0),t=0,d;d=b[t];++t)d.isDisposed||d.callback(c)}finally{a.dependencyDetection.end()}},limit:function(c){var e=
this,b=a.isObservable(e),t,d,f;e._origNotifySubscribers||(e._origNotifySubscribers=e.notifySubscribers,e.notifySubscribers=function(a,b){b&&b!==P?"beforeChange"===b?e._rateLimitedBeforeChange(a):e._origNotifySubscribers(a,b):e._rateLimitedChange(a)});var h=c(function(){b&&f===e&&(f=e());t=!1;e.isDifferent(d,f)&&e._origNotifySubscribers(d=f)});e._rateLimitedChange=function(a){t=!0;f=a;h()};e._rateLimitedBeforeChange=function(a){t||(d=a,e._origNotifySubscribers(a,"beforeChange"))}},hasSubscriptionsForEvent:function(a){return this._subscriptions[a]&&
this._subscriptions[a].length},getSubscriptionsCount:function(){var c=0;a.utils.objectForEach(this._subscriptions,function(a,b){c+=b.length});return c},isDifferent:function(a,e){return!this.equalityComparer||!this.equalityComparer(a,e)},extend:function(c){var e=this;c&&a.utils.objectForEach(c,function(b,c){var d=a.extenders[b];"function"==typeof d&&(e=d(e,c)||e)});return e}};a.exportProperty(f,"subscribe",f.subscribe);a.exportProperty(f,"extend",f.extend);a.exportProperty(f,"getSubscriptionsCount",
f.getSubscriptionsCount);a.utils.canSetPrototype&&a.utils.setPrototypeOf(f,Function.prototype);a.subscribable.fn=f;a.isSubscribable=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};a.exportSymbol("subscribable",a.subscribable);a.exportSymbol("isSubscribable",a.isSubscribable);a.computedContext=a.dependencyDetection=function(){function c(a){b.push(d);d=a}function e(){d=b.pop()}var b=[],d,f=0;return{begin:c,end:e,registerDependency:function(b){if(d){if(!a.isSubscribable(b))throw Error("Only subscribable things can act as dependencies");
d.callback(b,b._id||(b._id=++f))}},ignore:function(a,b,d){try{return c(),a.apply(b,d||[])}finally{e()}},getDependenciesCount:function(){if(d)return d.computed.getDependenciesCount()},isInitial:function(){if(d)return d.isInitial}}}();a.exportSymbol("computedContext",a.computedContext);a.exportSymbol("computedContext.getDependenciesCount",a.computedContext.getDependenciesCount);a.exportSymbol("computedContext.isInitial",a.computedContext.isInitial);a.observable=function(c){function e(){if(0<arguments.length)return e.isDifferent(b,
arguments[0])&&(e.valueWillMutate(),b=arguments[0],g&&(e._latestValue=b),e.valueHasMutated()),this;a.dependencyDetection.registerDependency(e);return b}var b=c;a.subscribable.call(e);a.utils.setPrototypeOfOrExtend(e,a.observable.fn);g&&(e._latestValue=b);e.peek=function(){return b};e.valueHasMutated=function(){e.notifySubscribers(b)};e.valueWillMutate=function(){e.notifySubscribers(b,"beforeChange")};a.exportProperty(e,"peek",e.peek);a.exportProperty(e,"valueHasMutated",e.valueHasMutated);a.exportProperty(e,
"valueWillMutate",e.valueWillMutate);return e};a.observable.fn={equalityComparer:m};var G=a.observable.protoProperty="__ko_proto__";a.observable.fn[G]=a.observable;a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.observable.fn,a.subscribable.fn);a.hasPrototype=function(c,e){return null===c||c===k||c[G]===k?!1:c[G]===e?!0:a.hasPrototype(c[G],e)};a.isObservable=function(c){return a.hasPrototype(c,a.observable)};a.isWriteableObservable=function(c){return"function"==typeof c&&c[G]===a.observable||"function"==
typeof c&&c[G]===a.dependentObservable&&c.hasWriteFunction?!0:!1};a.exportSymbol("observable",a.observable);a.exportSymbol("isObservable",a.isObservable);a.exportSymbol("isWriteableObservable",a.isWriteableObservable);a.observableArray=function(c){c=c||[];if("object"!=typeof c||!("length"in c))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");c=a.observable(c);a.utils.setPrototypeOfOrExtend(c,a.observableArray.fn);return c.extend({trackArrayChanges:!0})};
a.observableArray.fn={remove:function(c){for(var e=this.peek(),b=[],d="function"!=typeof c||a.isObservable(c)?function(a){return a===c}:c,f=0;f<e.length;f++){var g=e[f];d(g)&&(0===b.length&&this.valueWillMutate(),b.push(g),e.splice(f,1),f--)}b.length&&this.valueHasMutated();return b},removeAll:function(c){if(c===k){var e=this.peek(),b=e.slice(0);this.valueWillMutate();e.splice(0,e.length);this.valueHasMutated();return b}return c?this.remove(function(b){return 0<=a.utils.arrayIndexOf(c,b)}):[]},destroy:function(c){var e=
this.peek(),b="function"!=typeof c||a.isObservable(c)?function(a){return a===c}:c;this.valueWillMutate();for(var d=e.length-1;0<=d;d--)b(e[d])&&(e[d]._destroy=!0);this.valueHasMutated()},destroyAll:function(c){return c===k?this.destroy(function(){return!0}):c?this.destroy(function(e){return 0<=a.utils.arrayIndexOf(c,e)}):[]},indexOf:function(c){var e=this();return a.utils.arrayIndexOf(e,c)},replace:function(a,e){var b=this.indexOf(a);0<=b&&(this.valueWillMutate(),this.peek()[b]=e,this.valueHasMutated())}};
a.utils.arrayForEach("pop push reverse shift sort splice unshift".split(" "),function(c){a.observableArray.fn[c]=function(){var a=this.peek();this.valueWillMutate();this.cacheDiffForKnownOperation(a,c,arguments);a=a[c].apply(a,arguments);this.valueHasMutated();return a}});a.utils.arrayForEach(["slice"],function(c){a.observableArray.fn[c]=function(){var a=this();return a[c].apply(a,arguments)}});a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.observableArray.fn,a.observable.fn);a.exportSymbol("observableArray",
a.observableArray);var D="arrayChange";a.extenders.trackArrayChanges=function(c){function e(){if(!b){b=!0;var e=c.notifySubscribers;c.notifySubscribers=function(a,b){b&&b!==P||++f;return e.apply(this,arguments)};var g=[].concat(c.peek()||[]);d=null;c.subscribe(function(b){b=[].concat(b||[]);if(c.hasSubscriptionsForEvent(D)){var e;if(!d||1<f)d=a.utils.compareArrays(g,b,{sparse:!0});e=d;e.length&&c.notifySubscribers(e,D)}g=b;d=null;f=0})}}if(!c.cacheDiffForKnownOperation){var b=!1,d=null,f=0,g=c.subscribe;
c.subscribe=c.subscribe=function(a,b,c){c===D&&e();return g.apply(this,arguments)};c.cacheDiffForKnownOperation=function(c,e,x){function g(a,b,r){return k[k.length]={status:a,value:b,index:r}}if(b&&!f){var k=[],n=c.length,z=x.length,l=0;switch(e){case "push":l=n;case "unshift":for(e=0;e<z;e++)g("added",x[e],l+e);break;case "pop":l=n-1;case "shift":n&&g("deleted",c[l],l);break;case "splice":e=Math.min(Math.max(0,0>x[0]?n+x[0]:x[0]),n);for(var n=1===z?n:Math.min(e+(x[1]||0),n),z=e+z-2,l=Math.max(n,
z),p=[],q=[],r=2;e<l;++e,++r)e<n&&q.push(g("deleted",c[e],e)),e<z&&p.push(g("added",x[r],e));a.utils.findMovesInArrayComparison(q,p);break;default:return}d=k}}}};a.computed=a.dependentObservable=function(c,e,b){function d(){R=!0;a.utils.objectForEach(B,function(a,b){b.dispose()});B={};N=0;C=!1}function f(){var a=h.throttleEvaluation;a&&0<=a?(clearTimeout(T),T=setTimeout(k,a)):h._evalRateLimited?h._evalRateLimited():k()}function k(){if(!l&&!R){if(w&&w()){if(!p){L();return}}else p=!1;l=!0;try{var b=
B,r=N;a.dependencyDetection.begin({callback:function(a,c){R||(r&&b[c]?(B[c]=b[c],++N,delete b[c],--r):B[c]||(B[c]=a.subscribe(f),++N))},computed:h,isInitial:!N});B={};N=0;try{var c=e?O.call(e):O()}finally{a.dependencyDetection.end(),r&&a.utils.objectForEach(b,function(a,b){b.dispose()}),C=!1}h.isDifferent(x,c)&&(h.notifySubscribers(x,"beforeChange"),x=c,g&&(h._latestValue=x),h._evalRateLimited&&!h.throttleEvaluation||h.notifySubscribers(x))}finally{l=!1}N||L()}}function h(){if(0<arguments.length){if("function"===
typeof q)q.apply(e,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}C&&k();a.dependencyDetection.registerDependency(h);return x}function n(){return C||0<N}var x,C=!0,l=!1,p=!1,R=!1,O=c;O&&"object"==typeof O?(b=O,O=b.read):(b=b||{},O||(O=b.read));if("function"!=typeof O)throw Error("Pass a function that returns the value of the ko.computed");var q=b.write,v=b.disposeWhenNodeIsRemoved||
b.disposeWhenNodeIsRemoved||null,r=b.disposeWhen||b.disposeWhen,w=r,L=d,B={},N=0,T=null;e||(e=b.owner);a.subscribable.call(h);a.utils.setPrototypeOfOrExtend(h,a.dependentObservable.fn);h.peek=function(){C&&!N&&k();return x};h.getDependenciesCount=function(){return N};h.hasWriteFunction="function"===typeof b.write;h.dispose=function(){L()};h.isActive=n;var u=h.limit;h.limit=function(a){u.call(h,a);h._evalRateLimited=function(){h._rateLimitedBeforeChange(x);C=!0;h._rateLimitedChange(h)}};a.exportProperty(h,
"peek",h.peek);a.exportProperty(h,"dispose",h.dispose);a.exportProperty(h,"isActive",h.isActive);a.exportProperty(h,"getDependenciesCount",h.getDependenciesCount);v&&(p=!0,v.nodeType&&(w=function(){return!a.utils.domNodeIsAttachedToDocument(v)||r&&r()}));!0!==b.deferEvaluation&&k();v&&n()&&v.nodeType&&(L=function(){a.utils.domNodeDisposal.removeDisposeCallback(v,L);d()},a.utils.domNodeDisposal.addDisposeCallback(v,L));return h};a.isComputed=function(c){return a.hasPrototype(c,a.dependentObservable)};
f=a.observable.protoProperty;a.dependentObservable[f]=a.observable;a.dependentObservable.fn={equalityComparer:m};a.dependentObservable.fn[f]=a.dependentObservable;a.utils.canSetPrototype&&a.utils.setPrototypeOf(a.dependentObservable.fn,a.subscribable.fn);a.exportSymbol("dependentObservable",a.dependentObservable);a.exportSymbol("computed",a.dependentObservable);a.exportSymbol("isComputed",a.isComputed);(function(){function c(a,d,f){f=f||new b;a=d(a);if("object"!=typeof a||null===a||a===k||a instanceof
Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var h=a instanceof Array?[]:{};f.save(a,h);e(a,function(b){var e=d(a[b]);switch(typeof e){case "boolean":case "number":case "string":case "function":h[b]=e;break;case "object":case "undefined":var g=f.get(e);h[b]=g!==k?g:c(e,d,f)}});return h}function e(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function b(){this.keys=[];this.values=[]}a.toJS=
function(b){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return c(b,function(b){for(var c=0;a.isObservable(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,e){b=a.toJS(b);return a.utils.stringifyJson(b,c,e)};b.prototype={constructor:b,save:function(b,c){var e=a.utils.arrayIndexOf(this.keys,b);0<=e?this.values[e]=c:(this.keys.push(b),this.values.push(c))},get:function(b){b=a.utils.arrayIndexOf(this.keys,b);return 0<=b?this.values[b]:k}}})();a.exportSymbol("toJS",
a.toJS);a.exportSymbol("toJSON",a.toJSON);(function(){a.selectExtensions={readValue:function(c){switch(a.utils.tagNameLower(c)){case "option":return!0===c.__ko__hasDomDataOptionValue__?a.utils.domData.get(c,a.bindingHandlers.options.optionValueDomDataKey):7>=a.utils.ieVersion?c.getAttributeNode("value")&&c.getAttributeNode("value").specified?c.value:c.text:c.value;case "select":return 0<=c.selectedIndex?a.selectExtensions.readValue(c.options[c.selectedIndex]):k;default:return c.value}},writeValue:function(c,
e,b){switch(a.utils.tagNameLower(c)){case "option":switch(typeof e){case "string":a.utils.domData.set(c,a.bindingHandlers.options.optionValueDomDataKey,k);"__ko__hasDomDataOptionValue__"in c&&delete c.__ko__hasDomDataOptionValue__;c.value=e;break;default:a.utils.domData.set(c,a.bindingHandlers.options.optionValueDomDataKey,e),c.__ko__hasDomDataOptionValue__=!0,c.value="number"===typeof e?e:""}break;case "select":if(""===e||null===e)e=k;for(var d=-1,f=0,g=c.options.length,h;f<g;++f)if(h=a.selectExtensions.readValue(c.options[f]),
h==e||""==h&&e===k){d=f;break}if(b||0<=d||e===k&&1<c.size)c.selectedIndex=d;break;default:if(null===e||e===k)e="";c.value=e}}}})();a.exportSymbol("selectExtensions",a.selectExtensions);a.exportSymbol("selectExtensions.readValue",a.selectExtensions.readValue);a.exportSymbol("selectExtensions.writeValue",a.selectExtensions.writeValue);a.expressionRewriting=function(){function c(b){b=a.utils.stringTrim(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=[],e=b.match(d),h,k,n=0;if(e){e.push(",");for(var l=
0,p;p=e[l];++l){var q=p.charCodeAt(0);if(44===q){if(0>=n){h&&c.push(k?{key:h,value:k.join("")}:{unknown:h});h=k=n=0;continue}}else if(58===q){if(!k)continue}else if(47===q&&l&&1<p.length)(q=e[l-1].match(f))&&!g[q[0]]&&(b=b.substr(b.indexOf(p)+1),e=b.match(d),e.push(","),l=-1,p="/");else if(40===q||123===q||91===q)++n;else if(41===q||125===q||93===q)--n;else if(!h&&!k){h=34===q||39===q?p.slice(1,-1):p;continue}k?k.push(p):k=[p]}}return c}var e=["true","false","null","undefined"],b=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,
d=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},h={};return{bindingRewriteValidators:[],twoWayBindings:h,parseObjectLiteral:c,preProcessBindings:function(d,f){function g(c,d){var r,w=a.getBindingHandler(c);if(w&&w.preprocess?d=w.preprocess(d,c,g):1){if(w=h[c])r=d,0<=a.utils.arrayIndexOf(e,r)?r=!1:(w=r.match(b),r=null===w?!1:w[1]?"Object("+w[1]+")"+
w[2]:r),w=r;w&&k.push("'"+c+"':function(_z){"+r+"=_z}");n&&(d="function(){return "+d+" }");t.push("'"+c+"':"+d)}}f=f||{};var t=[],k=[],n=f.valueAccessors,l="string"===typeof d?c(d):d;a.utils.arrayForEach(l,function(a){g(a.key||a.unknown,a.value)});k.length&&g("_ko_property_writers","{"+k.join(",")+" }");return t.join(",")},keyValueArrayContainsKey:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},writeValueToProperty:function(b,c,e,d,h){if(b&&a.isObservable(b))!a.isWriteableObservable(b)||
h&&b.peek()===d||b(d);else if((b=c.get("_ko_property_writers"))&&b[e])b[e](d)}}}();a.exportSymbol("expressionRewriting",a.expressionRewriting);a.exportSymbol("expressionRewriting.bindingRewriteValidators",a.expressionRewriting.bindingRewriteValidators);a.exportSymbol("expressionRewriting.parseObjectLiteral",a.expressionRewriting.parseObjectLiteral);a.exportSymbol("expressionRewriting.preProcessBindings",a.expressionRewriting.preProcessBindings);a.exportSymbol("expressionRewriting._twoWayBindings",
a.expressionRewriting.twoWayBindings);a.exportSymbol("jsonExpressionRewriting",a.expressionRewriting);a.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.expressionRewriting.preProcessBindings);(function(){function c(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function e(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function b(a,b){for(var d=a,h=1,f=[];d=d.nextSibling;){if(e(d)&&(h--,0===h))return f;f.push(d);c(d)&&h++}if(!b)throw Error("Cannot find closing comment tag to match: "+
a.nodeValue);return null}function d(a,c){var e=b(a,c);return e?0<e.length?e[e.length-1].nextSibling:a.nextSibling:null}var f=l&&"\x3c!--test--\x3e"===l.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,k={ul:!0,ol:!0};a.virtualElements={allowedBindings:{},childNodes:function(a){return c(a)?b(a):a.childNodes},emptyNode:function(b){if(c(b)){b=a.virtualElements.childNodes(b);for(var e=0,d=b.length;e<
d;e++)a.removeNode(b[e])}else a.utils.emptyDomNode(b)},setDomNodeChildren:function(b,e){if(c(b)){a.virtualElements.emptyNode(b);for(var d=b.nextSibling,h=0,f=e.length;h<f;h++)d.parentNode.insertBefore(e[h],d)}else a.utils.setDomNodeChildren(b,e)},prepend:function(a,b){c(a)?a.parentNode.insertBefore(b,a.nextSibling):a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)},insertAfter:function(b,e,d){d?c(b)?b.parentNode.insertBefore(e,d.nextSibling):d.nextSibling?b.insertBefore(e,d.nextSibling):
b.appendChild(e):a.virtualElements.prepend(b,e)},firstChild:function(a){return c(a)?!a.nextSibling||e(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){c(a)&&(a=d(a));return a.nextSibling&&e(a.nextSibling)?null:a.nextSibling},hasBindingValue:c,virtualNodeBindingValue:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},normaliseVirtualElementDomStructure:function(b){if(k[a.utils.tagNameLower(b)]){var h=b.firstChild;if(h){do if(1===h.nodeType){var f;f=h.firstChild;
var g=null;if(f){do if(g)g.push(f);else if(c(f)){var n=d(f,!0);n?f=n:g=[f]}else e(f)&&(g=[f]);while(f=f.nextSibling)}if(f=g)for(g=h.nextSibling,n=0;n<f.length;n++)g?b.insertBefore(f[n],g):b.appendChild(f[n])}while(h=h.nextSibling)}}}}})();a.exportSymbol("virtualElements",a.virtualElements);a.exportSymbol("virtualElements.allowedBindings",a.virtualElements.allowedBindings);a.exportSymbol("virtualElements.emptyNode",a.virtualElements.emptyNode);a.exportSymbol("virtualElements.insertAfter",a.virtualElements.insertAfter);
a.exportSymbol("virtualElements.prepend",a.virtualElements.prepend);a.exportSymbol("virtualElements.setDomNodeChildren",a.virtualElements.setDomNodeChildren);(function(){a.bindingProvider=function(){this.bindingCache={}};a.utils.extend(a.bindingProvider.prototype,{nodeHasBindings:function(c){switch(c.nodeType){case 1:return null!=c.getAttribute("data-bind");case 8:return a.virtualElements.hasBindingValue(c);default:return!1}},getBindings:function(a,e){var b=this.getBindingsString(a,e);return b?this.parseBindingsString(b,
e,a):null},getBindingAccessors:function(a,e){var b=this.getBindingsString(a,e);return b?this.parseBindingsString(b,e,a,{valueAccessors:!0}):null},getBindingsString:function(c,e){switch(c.nodeType){case 1:return c.getAttribute("data-bind");case 8:return a.virtualElements.virtualNodeBindingValue(c);default:return null}},parseBindingsString:function(c,e,b,d){try{var f=this.bindingCache,g=c+(d&&d.valueAccessors||""),h;if(!(h=f[g])){var k,n="with($context){with($data||{}){return{"+a.expressionRewriting.preProcessBindings(c,
d)+"}}}";k=new Function("$context","$element",n);h=f[g]=k}return h(e,b)}catch(l){throw l.message="Unable to parse bindings.\nBindings value: "+c+"\nMessage: "+l.message,l;}}});a.bindingProvider.instance=new a.bindingProvider})();a.exportSymbol("bindingProvider",a.bindingProvider);(function(){function c(a){return function(){return a}}function e(a){return a()}function b(b){return a.utils.objectMap(a.dependencyDetection.ignore(b),function(a,c){return function(){return b()[c]}})}function f(a,c){return b(this.getBindings.bind(this,
a,c))}function g(b,c,e){var d,r=a.virtualElements.firstChild(c),w=a.bindingProvider.instance,h=w.preprocessNode;if(h){for(;d=r;)r=a.virtualElements.nextSibling(d),h.call(w,d);r=a.virtualElements.firstChild(c)}for(;d=r;)r=a.virtualElements.nextSibling(d),n(b,d,e)}function n(b,c,e){var d=!0,r=1===c.nodeType;r&&a.virtualElements.normaliseVirtualElementDomStructure(c);if(r&&e||a.bindingProvider.instance.nodeHasBindings(c))d=l(c,null,b,e).shouldBindDescendants;d&&!p[a.utils.tagNameLower(c)]&&g(b,c,!r)}
function h(b){var c=[],e={},d=[];a.utils.objectForEach(b,function w(h){if(!e[h]){var f=a.getBindingHandler(h);f&&(f.after&&(d.push(h),a.utils.arrayForEach(f.after,function(c){if(b[c]){if(-1!==a.utils.arrayIndexOf(d,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+d.join(", "));w(c)}}),d.length--),c.push({key:h,handler:f}));e[h]=!0}});return c}function l(b,c,d,g){var r=a.utils.domData.get(b,v);if(!c){if(r)throw Error("You cannot apply bindings multiple times to the same element.");
a.utils.domData.set(b,v,!0)}!r&&g&&a.storedBindingContextForNode(b,d);var w;if(c&&"function"!==typeof c)w=c;else{var L=a.bindingProvider.instance,n=L.getBindingAccessors||f,x=a.dependentObservable(function(){(w=c?c(d,b):n.call(L,b,d))&&d._subscribable&&d._subscribable();return w},null,{disposeWhenNodeIsRemoved:b});w&&x.isActive()||(x=null)}var p;if(w){var z=x?function(a){return function(){return e(x()[a])}}:function(a){return w[a]},E=function(){return a.utils.objectMap(x?x():w,e)};E.get=function(a){return w[a]&&
e(z(a))};E.has=function(a){return a in w};g=h(w);a.utils.arrayForEach(g,function(c){var r=c.handler.init,e=c.handler.update,h=c.key;if(8===b.nodeType&&!a.virtualElements.allowedBindings[h])throw Error("The binding '"+h+"' cannot be used with virtual elements");try{"function"==typeof r&&a.dependencyDetection.ignore(function(){var a=r(b,z(h),E,d.$data,d);if(a&&a.controlsDescendantBindings){if(p!==k)throw Error("Multiple bindings ("+p+" and "+h+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");
p=h}}),"function"==typeof e&&a.dependentObservable(function(){e(b,z(h),E,d.$data,d)},null,{disposeWhenNodeIsRemoved:b})}catch(f){throw f.message='Unable to process binding "'+h+": "+w[h]+'"\nMessage: '+f.message,f;}})}return{shouldBindDescendants:p===k}}function x(b){return b&&b instanceof a.bindingContext?b:new a.bindingContext(b)}a.bindingHandlers={};var p={script:!0};a.getBindingHandler=function(b){return a.bindingHandlers[b]};a.bindingContext=function(b,c,e,d){var r=this,w="function"==typeof b&&
!a.isObservable(b),h,f=a.dependentObservable(function(){var h=w?b():b,g=a.utils.unwrapObservable(h);c?(c._subscribable&&c._subscribable(),a.utils.extend(r,c),f&&(r._subscribable=f)):(r.$parents=[],r.$root=g,r.ko=a);r.$rawData=h;r.$data=g;e&&(r[e]=g);d&&d(r,c,g);return r.$data},null,{disposeWhen:function(){return h&&!a.utils.anyDomNodeIsAttachedToDocument(h)},disposeWhenNodeIsRemoved:!0});f.isActive()&&(r._subscribable=f,f.equalityComparer=null,h=[],f._addNode=function(b){h.push(b);a.utils.domNodeDisposal.addDisposeCallback(b,
function(b){a.utils.arrayRemoveItem(h,b);h.length||(f.dispose(),r._subscribable=f=k)})})};a.bindingContext.prototype.createChildContext=function(b,c,e){return new a.bindingContext(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);e&&e(a)})};a.bindingContext.prototype.extend=function(b){return new a.bindingContext(this._subscribable||this.$data,this,null,function(c,e){c.$rawData=e.$rawData;a.utils.extend(c,"function"==typeof b?
b():b)})};var v=a.utils.domData.nextKey(),u=a.utils.domData.nextKey();a.storedBindingContextForNode=function(b,c){if(2==arguments.length)a.utils.domData.set(b,u,c),c._subscribable&&c._subscribable._addNode(b);else return a.utils.domData.get(b,u)};a.applyBindingAccessorsToNode=function(b,c,e){1===b.nodeType&&a.virtualElements.normaliseVirtualElementDomStructure(b);return l(b,c,x(e),!0)};a.applyBindingsToNode=function(e,d,h){h=x(h);return a.applyBindingAccessorsToNode(e,"function"===typeof d?b(d.bind(null,
h,e)):a.utils.objectMap(d,c),h)};a.applyBindingsToDescendants=function(a,b){1!==b.nodeType&&8!==b.nodeType||g(x(a),b,!0)};a.applyBindings=function(a,b){!d&&q.jQuery&&(d=q.jQuery);if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");b=b||q.document.body;n(x(a),b,!0)};a.contextFor=function(b){switch(b.nodeType){case 1:case 8:var c=a.storedBindingContextForNode(b);if(c)return c;if(b.parentNode)return a.contextFor(b.parentNode)}return k};
a.dataFor=function(b){return(b=a.contextFor(b))?b.$data:k};a.exportSymbol("bindingHandlers",a.bindingHandlers);a.exportSymbol("applyBindings",a.applyBindings);a.exportSymbol("applyBindingsToDescendants",a.applyBindingsToDescendants);a.exportSymbol("applyBindingAccessorsToNode",a.applyBindingAccessorsToNode);a.exportSymbol("applyBindingsToNode",a.applyBindingsToNode);a.exportSymbol("contextFor",a.contextFor);a.exportSymbol("dataFor",a.dataFor)})();var s={"class":"className","for":"htmlFor"};a.bindingHandlers.attr=
{update:function(c,e,b){e=a.utils.unwrapObservable(e())||{};a.utils.objectForEach(e,function(b,e){e=a.utils.unwrapObservable(e);var d=!1===e||null===e||e===k;d&&c.removeAttribute(b);8>=a.utils.ieVersion&&b in s?(b=s[b],d?c.removeAttribute(b):c[b]=e):d||c.setAttribute(b,e.toString());"name"===b&&a.utils.setElementName(c,d?"":e.toString())})}};(function(){a.bindingHandlers.checked={after:["value","attr"],init:function(c,e,b){function d(){return b.has("checkedValue")?a.utils.unwrapObservable(b.get("checkedValue")):
c.value}function f(){var h=c.checked,g=q?d():h;if(!a.computedContext.isInitial()&&(!n||h)){var k=a.dependencyDetection.ignore(e);l?p!==g?(h&&(a.utils.addOrRemoveItem(k,g,!0),a.utils.addOrRemoveItem(k,p,!1)),p=g):a.utils.addOrRemoveItem(k,g,h):a.expressionRewriting.writeValueToProperty(k,b,"checked",g,!0)}}function g(){var b=a.utils.unwrapObservable(e());c.checked=l?0<=a.utils.arrayIndexOf(b,d()):h?b:d()===b}var h="checkbox"==c.type,n="radio"==c.type;if(h||n){var l=h&&a.utils.unwrapObservable(e())instanceof
Array,p=l?d():k,q=n||l;n&&!c.name&&a.bindingHandlers.uniqueName.init(c,function(){return!0});a.computed(f,null,{disposeWhenNodeIsRemoved:c});a.utils.registerEventHandler(c,"click",f);a.computed(g,null,{disposeWhenNodeIsRemoved:c})}}};a.expressionRewriting.twoWayBindings.checked=!0;a.bindingHandlers.checkedValue={update:function(c,e){c.value=a.utils.unwrapObservable(e())}}})();a.bindingHandlers.css={update:function(c,e){var b=a.utils.unwrapObservable(e());"object"==typeof b?a.utils.objectForEach(b,
function(b,e){e=a.utils.unwrapObservable(e);a.utils.toggleDomNodeCssClass(c,b,e)}):(b=String(b||""),a.utils.toggleDomNodeCssClass(c,c.__ko__cssValue,!1),c.__ko__cssValue=b,a.utils.toggleDomNodeCssClass(c,b,!0))}};a.bindingHandlers.enable={update:function(c,e){var b=a.utils.unwrapObservable(e());b&&c.disabled?c.removeAttribute("disabled"):b||c.disabled||(c.disabled=!0)}};a.bindingHandlers.disable={update:function(c,e){a.bindingHandlers.enable.update(c,function(){return!a.utils.unwrapObservable(e())})}};
a.bindingHandlers.event={init:function(c,e,b,d,f){var g=e()||{};a.utils.objectForEach(g,function(h){"string"==typeof h&&a.utils.registerEventHandler(c,h,function(c){var g,k=e()[h];if(k){try{var n=a.utils.makeArray(arguments);d=f.$data;n.unshift(d);g=k.apply(d,n)}finally{!0!==g&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}!1===b.get(h+"Bubble")&&(c.cancelBubble=!0,c.stopPropagation&&c.stopPropagation())}})})}};a.bindingHandlers.foreach={makeTemplateValueAccessor:function(c){return function(){var e=
c(),b=a.utils.peekObservable(e);if(!b||"number"==typeof b.length)return{foreach:e,templateEngine:a.nativeTemplateEngine.instance};a.utils.unwrapObservable(e);return{foreach:b.data,as:b.as,includeDestroyed:b.includeDestroyed,afterAdd:b.afterAdd,beforeRemove:b.beforeRemove,afterRender:b.afterRender,beforeMove:b.beforeMove,afterMove:b.afterMove,templateEngine:a.nativeTemplateEngine.instance}}},init:function(c,e,b,d,f){return a.bindingHandlers.template.init(c,a.bindingHandlers.foreach.makeTemplateValueAccessor(e))},
update:function(c,e,b,d,f){return a.bindingHandlers.template.update(c,a.bindingHandlers.foreach.makeTemplateValueAccessor(e),b,d,f)}};a.expressionRewriting.bindingRewriteValidators.foreach=!1;a.virtualElements.allowedBindings.foreach=!0;a.bindingHandlers.hasfocus={init:function(c,e,b){var d=function(d){c.__ko_hasfocusUpdating=!0;var h=c.ownerDocument;if("activeElement"in h){var f;try{f=h.activeElement}catch(g){f=h.body}d=f===c}h=e();a.expressionRewriting.writeValueToProperty(h,b,"hasfocus",d,!0);
c.__ko_hasfocusLastValue=d;c.__ko_hasfocusUpdating=!1},f=d.bind(null,!0),d=d.bind(null,!1);a.utils.registerEventHandler(c,"focus",f);a.utils.registerEventHandler(c,"focusin",f);a.utils.registerEventHandler(c,"blur",d);a.utils.registerEventHandler(c,"focusout",d)},update:function(c,e){var b=!!a.utils.unwrapObservable(e());c.__ko_hasfocusUpdating||c.__ko_hasfocusLastValue===b||(b?c.focus():c.blur(),a.dependencyDetection.ignore(a.utils.triggerEvent,null,[c,b?"focusin":"focusout"]))}};a.expressionRewriting.twoWayBindings.hasfocus=
!0;a.bindingHandlers.hasFocus=a.bindingHandlers.hasfocus;a.expressionRewriting.twoWayBindings.hasFocus=!0;a.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(c,e){a.utils.setHtml(c,e())}};n("if");n("ifnot",!1,!0);n("with",!0,!1,function(a,e){return a.createChildContext(e)});var M={};a.bindingHandlers.options={init:function(c){if("select"!==a.utils.tagNameLower(c))throw Error("options binding applies only to SELECT elements");for(;0<c.length;)c.remove(0);
return{controlsDescendantBindings:!0}},update:function(c,e,b){function d(){return a.utils.arrayFilter(c.options,function(a){return a.selected})}function f(a,b,c){var e=typeof b;return"function"==e?b(a):"string"==e?a[b]:c}function g(b,e){if(q.length){var d=0<=a.utils.arrayIndexOf(q,a.selectExtensions.readValue(e[0]));a.utils.setOptionNodeSelectionState(e[0],d);v&&!d&&a.dependencyDetection.ignore(a.utils.triggerEvent,null,[c,"change"])}}var h=0!=c.length&&c.multiple?c.scrollTop:null,n=a.utils.unwrapObservable(e()),
l=b.get("optionsIncludeDestroyed");e={};var p,q;q=c.multiple?a.utils.arrayMap(d(),a.selectExtensions.readValue):0<=c.selectedIndex?[a.selectExtensions.readValue(c.options[c.selectedIndex])]:[];n&&("undefined"==typeof n.length&&(n=[n]),p=a.utils.arrayFilter(n,function(b){return l||b===k||null===b||!a.utils.unwrapObservable(b._destroy)}),b.has("optionsCaption")&&(n=a.utils.unwrapObservable(b.get("optionsCaption")),null!==n&&n!==k&&p.unshift(M)));var v=!1;e.beforeRemove=function(a){c.removeChild(a)};
n=g;b.has("optionsAfterRender")&&(n=function(c,e){g(c,e);a.dependencyDetection.ignore(b.get("optionsAfterRender"),null,[e[0],c!==M?c:k])});a.utils.setDomNodeChildrenFromArrayMapping(c,p,function(e,d,h){h.length&&(q=h[0].selected?[a.selectExtensions.readValue(h[0])]:[],v=!0);d=c.ownerDocument.createElement("option");e===M?(a.utils.setTextContent(d,b.get("optionsCaption")),a.selectExtensions.writeValue(d,k)):(h=f(e,b.get("optionsValue"),e),a.selectExtensions.writeValue(d,a.utils.unwrapObservable(h)),
e=f(e,b.get("optionsText"),h),a.utils.setTextContent(d,e));return[d]},e,n);a.dependencyDetection.ignore(function(){b.get("valueAllowUnset")&&b.has("value")?a.selectExtensions.writeValue(c,a.utils.unwrapObservable(b.get("value")),!0):(c.multiple?q.length&&d().length<q.length:q.length&&0<=c.selectedIndex?a.selectExtensions.readValue(c.options[c.selectedIndex])!==q[0]:q.length||0<=c.selectedIndex)&&a.utils.triggerEvent(c,"change")});a.utils.ensureSelectElementIsRenderedCorrectly(c);h&&20<Math.abs(h-
c.scrollTop)&&(c.scrollTop=h)}};a.bindingHandlers.options.optionValueDomDataKey=a.utils.domData.nextKey();a.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(c,e,b){a.utils.registerEventHandler(c,"change",function(){var d=e(),f=[];a.utils.arrayForEach(c.getElementsByTagName("option"),function(b){b.selected&&f.push(a.selectExtensions.readValue(b))});a.expressionRewriting.writeValueToProperty(d,b,"selectedOptions",f)})},update:function(c,e){if("select"!=a.utils.tagNameLower(c))throw Error("values binding applies only to SELECT elements");
var b=a.utils.unwrapObservable(e());b&&"number"==typeof b.length&&a.utils.arrayForEach(c.getElementsByTagName("option"),function(c){var e=0<=a.utils.arrayIndexOf(b,a.selectExtensions.readValue(c));a.utils.setOptionNodeSelectionState(c,e)})}};a.expressionRewriting.twoWayBindings.selectedOptions=!0;a.bindingHandlers.style={update:function(c,e){var b=a.utils.unwrapObservable(e()||{});a.utils.objectForEach(b,function(b,e){e=a.utils.unwrapObservable(e);c.style[b]=e||""})}};a.bindingHandlers.submit={init:function(c,
e,b,d,f){if("function"!=typeof e())throw Error("The value for a submit binding must be a function");a.utils.registerEventHandler(c,"submit",function(a){var b,d=e();try{b=d.call(f.$data,c)}finally{!0!==b&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(c,e){a.utils.setTextContent(c,e())}};a.virtualElements.allowedBindings.text=!0;a.bindingHandlers.uniqueName={init:function(c,e){if(e()){var b=
"ko_unique_"+ ++a.bindingHandlers.uniqueName.currentIndex;a.utils.setElementName(c,b)}}};a.bindingHandlers.uniqueName.currentIndex=0;a.bindingHandlers.value={after:["options","foreach"],init:function(c,e,b){var d=["change"],f=b.get("valueUpdate"),g=!1;f&&("string"==typeof f&&(f=[f]),a.utils.arrayPushAll(d,f),d=a.utils.arrayGetDistinctValues(d));var h=function(){g=!1;var d=e(),h=a.selectExtensions.readValue(c);a.expressionRewriting.writeValueToProperty(d,b,"value",h)};!a.utils.ieVersion||"input"!=
c.tagName.toLowerCase()||"text"!=c.type||"off"==c.autocomplete||c.form&&"off"==c.form.autocomplete||-1!=a.utils.arrayIndexOf(d,"propertychange")||(a.utils.registerEventHandler(c,"propertychange",function(){g=!0}),a.utils.registerEventHandler(c,"focus",function(){g=!1}),a.utils.registerEventHandler(c,"blur",function(){g&&h()}));a.utils.arrayForEach(d,function(b){var e=h;a.utils.stringStartsWith(b,"after")&&(e=function(){setTimeout(h,0)},b=b.substring(5));a.utils.registerEventHandler(c,b,e)})},update:function(c,
e,b){var d=a.utils.unwrapObservable(e());e=a.selectExtensions.readValue(c);if(d!==e)if("select"===a.utils.tagNameLower(c)){var f=b.get("valueAllowUnset");b=function(){a.selectExtensions.writeValue(c,d,f)};b();f||d===a.selectExtensions.readValue(c)?setTimeout(b,0):a.dependencyDetection.ignore(a.utils.triggerEvent,null,[c,"change"])}else a.selectExtensions.writeValue(c,d)}};a.expressionRewriting.twoWayBindings.value=!0;a.bindingHandlers.visible={update:function(c,e){var b=a.utils.unwrapObservable(e()),
d="none"!=c.style.display;b&&!d?c.style.display="":!b&&d&&(c.style.display="none")}};(function(c){a.bindingHandlers[c]={init:function(e,b,d,f,g){return a.bindingHandlers.event.init.call(this,e,function(){var a={};a[c]=b();return a},d,f,g)}}})("click");a.templateEngine=function(){};a.templateEngine.prototype.renderTemplateSource=function(a,e,b){throw Error("Override renderTemplateSource");};a.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(a){throw Error("Override createJavaScriptEvaluatorBlock");
};a.templateEngine.prototype.makeTemplateSource=function(c,e){if("string"==typeof c){e=e||l;var b=e.getElementById(c);if(!b)throw Error("Cannot find template with ID "+c);return new a.templateSources.domElement(b)}if(1==c.nodeType||8==c.nodeType)return new a.templateSources.anonymousTemplate(c);throw Error("Unknown template type: "+c);};a.templateEngine.prototype.renderTemplate=function(a,e,b,d){a=this.makeTemplateSource(a,d);return this.renderTemplateSource(a,e,b)};a.templateEngine.prototype.isTemplateRewritten=
function(a,e){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,e).data("isRewritten")};a.templateEngine.prototype.rewriteTemplate=function(a,e,b){a=this.makeTemplateSource(a,b);e=e(a.text());a.text(e);a.data("isRewritten",!0)};a.exportSymbol("templateEngine",a.templateEngine);a.templateRewriting=function(){function c(b,c,e,d){b=a.expressionRewriting.parseObjectLiteral(b);for(var f=a.expressionRewriting.bindingRewriteValidators,g=0;g<b.length;g++){var n=b[g].key;if(f.hasOwnProperty(n)){var k=
f[n];if("function"===typeof k){if(n=k(b[g].value))throw Error(n);}else if(!k)throw Error("This template engine does not support the '"+n+"' binding within its templates");}}e="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.expressionRewriting.preProcessBindings(b,{valueAccessors:!0})+" } })()},'"+e.toLowerCase()+"')";return d.createJavaScriptEvaluatorBlock(e)+c}var e=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,
b=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ensureTemplateIsRewritten:function(b,c,e){c.isTemplateRewritten(b,e)||c.rewriteTemplate(b,function(b){return a.templateRewriting.memoizeBindingAttributeSyntax(b,c)},e)},memoizeBindingAttributeSyntax:function(a,d){return a.replace(e,function(a,b,e,f,g){return c(g,b,e,d)}).replace(b,function(a,b){return c(b,"\x3c!-- ko --\x3e","#comment",d)})},applyMemoizedBindingsToNextSibling:function(b,c){return a.memoization.memoize(function(e,d){var f=e.nextSibling;
f&&f.nodeName.toLowerCase()===c&&a.applyBindingAccessorsToNode(f,b,d)})}}}();a.exportSymbol("__tr_ambtns",a.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){a.templateSources={};a.templateSources.domElement=function(a){this.domElement=a};a.templateSources.domElement.prototype.text=function(){var b=a.utils.tagNameLower(this.domElement),b="script"===b?"text":"textarea"===b?"value":"innerHTML";if(0==arguments.length)return this.domElement[b];var c=arguments[0];"innerHTML"===b?a.utils.setHtml(this.domElement,
c):this.domElement[b]=c};var c=a.utils.domData.nextKey()+"_";a.templateSources.domElement.prototype.data=function(b){if(1===arguments.length)return a.utils.domData.get(this.domElement,c+b);a.utils.domData.set(this.domElement,c+b,arguments[1])};var e=a.utils.domData.nextKey();a.templateSources.anonymousTemplate=function(a){this.domElement=a};a.templateSources.anonymousTemplate.prototype=new a.templateSources.domElement;a.templateSources.anonymousTemplate.prototype.constructor=a.templateSources.anonymousTemplate;
a.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var b=a.utils.domData.get(this.domElement,e)||{};b.textData===k&&b.containerData&&(b.textData=b.containerData.innerHTML);return b.textData}a.utils.domData.set(this.domElement,e,{textData:arguments[0]})};a.templateSources.domElement.prototype.nodes=function(){if(0==arguments.length)return(a.utils.domData.get(this.domElement,e)||{}).containerData;a.utils.domData.set(this.domElement,e,{containerData:arguments[0]})};
a.exportSymbol("templateSources",a.templateSources);a.exportSymbol("templateSources.domElement",a.templateSources.domElement);a.exportSymbol("templateSources.anonymousTemplate",a.templateSources.anonymousTemplate)})();(function(){function c(b,c,e){var d;for(c=a.virtualElements.nextSibling(c);b&&(d=b)!==c;)b=a.virtualElements.nextSibling(d),e(d,b)}function e(b,e){if(b.length){var d=b[0],f=b[b.length-1],g=d.parentNode,n=a.bindingProvider.instance,k=n.preprocessNode;if(k){c(d,f,function(a,b){var c=a.previousSibling,
e=k.call(n,a);e&&(a===d&&(d=e[0]||b),a===f&&(f=e[e.length-1]||c))});b.length=0;if(!d)return;d===f?b.push(d):(b.push(d,f),a.utils.fixUpContinuousNodeArray(b,g))}c(d,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.applyBindings(e,b)});c(d,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.memoization.unmemoizeDomNodeAndDescendants(b,[e])});a.utils.fixUpContinuousNodeArray(b,g)}}function b(a){return a.nodeType?a:0<a.length?a[0]:null}function d(c,g,n,k,l){l=l||{};var p=c&&b(c),p=p&&p.ownerDocument,q=l.templateEngine||
f;a.templateRewriting.ensureTemplateIsRewritten(n,q,p);n=q.renderTemplate(n,k,l,p);if("number"!=typeof n.length||0<n.length&&"number"!=typeof n[0].nodeType)throw Error("Template engine must return an array of DOM nodes");p=!1;switch(g){case "replaceChildren":a.virtualElements.setDomNodeChildren(c,n);p=!0;break;case "replaceNode":a.utils.replaceDomNodes(c,n);p=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+g);}p&&(e(n,k),l.afterRender&&a.dependencyDetection.ignore(l.afterRender,
null,[n,k.$data]));return n}var f;a.setTemplateEngine=function(b){if(b!=k&&!(b instanceof a.templateEngine))throw Error("templateEngine must inherit from ko.templateEngine");f=b};a.renderTemplate=function(c,e,g,n,l){g=g||{};if((g.templateEngine||f)==k)throw Error("Set a template engine before calling renderTemplate");l=l||"replaceChildren";if(n){var p=b(n);return a.dependentObservable(function(){var f=e&&e instanceof a.bindingContext?e:new a.bindingContext(a.utils.unwrapObservable(e)),k=a.isObservable(c)?
c():"function"==typeof c?c(f.$data,f):c,f=d(n,l,k,f,g);"replaceNode"==l&&(n=f,p=b(n))},null,{disposeWhen:function(){return!p||!a.utils.domNodeIsAttachedToDocument(p)},disposeWhenNodeIsRemoved:p&&"replaceNode"==l?p.parentNode:p})}return a.memoization.memoize(function(b){a.renderTemplate(c,e,g,b,"replaceNode")})};a.renderTemplateForEach=function(b,c,f,g,n){var l,p=function(a,c){l=n.createChildContext(a,f.as,function(a){a.$index=c});var e="function"==typeof b?b(a,l):b;return d(null,"ignoreTargetNode",
e,l,f)},q=function(a,b,c){e(b,l);f.afterRender&&f.afterRender(b,a)};return a.dependentObservable(function(){var b=a.utils.unwrapObservable(c)||[];"undefined"==typeof b.length&&(b=[b]);b=a.utils.arrayFilter(b,function(b){return f.includeDestroyed||b===k||null===b||!a.utils.unwrapObservable(b._destroy)});a.dependencyDetection.ignore(a.utils.setDomNodeChildrenFromArrayMapping,null,[g,b,p,f,q])},null,{disposeWhenNodeIsRemoved:g})};var g=a.utils.domData.nextKey();a.bindingHandlers.template={init:function(b,
c){var e=a.utils.unwrapObservable(c());"string"==typeof e||e.name?a.virtualElements.emptyNode(b):(e=a.virtualElements.childNodes(b),e=a.utils.moveCleanedNodesToContainerElement(e),(new a.templateSources.anonymousTemplate(b)).nodes(e));return{controlsDescendantBindings:!0}},update:function(b,c,e,d,f){var n=c(),l;c=a.utils.unwrapObservable(n);e=!0;d=null;"string"==typeof c?c={}:(n=c.name,"if"in c&&(e=a.utils.unwrapObservable(c["if"])),e&&"ifnot"in c&&(e=!a.utils.unwrapObservable(c.ifnot)),l=a.utils.unwrapObservable(c.data));
"foreach"in c?d=a.renderTemplateForEach(n||b,e&&c.foreach||[],c,b,f):e?(f="data"in c?f.createChildContext(l,c.as):f,d=a.renderTemplate(n||b,f,c,b)):a.virtualElements.emptyNode(b);f=d;(l=a.utils.domData.get(b,g))&&"function"==typeof l.dispose&&l.dispose();a.utils.domData.set(b,g,f&&f.isActive()?f:k)}};a.expressionRewriting.bindingRewriteValidators.template=function(b){b=a.expressionRewriting.parseObjectLiteral(b);return 1==b.length&&b[0].unknown||a.expressionRewriting.keyValueArrayContainsKey(b,"name")?
null:"This template engine does not support anonymous templates nested within its templates"};a.virtualElements.allowedBindings.template=!0})();a.exportSymbol("setTemplateEngine",a.setTemplateEngine);a.exportSymbol("renderTemplate",a.renderTemplate);a.utils.findMovesInArrayComparison=function(a,e,b){if(a.length&&e.length){var d,f,g,h,n;for(d=f=0;(!b||d<b)&&(h=a[f]);++f){for(g=0;n=e[g];++g)if(h.value===n.value){h.moved=n.index;n.moved=h.index;e.splice(g,1);d=g=0;break}d+=g}}};a.utils.compareArrays=
function(){function c(c,b,d,f,g){var h=Math.min,n=Math.max,k=[],l,p=c.length,q,v=b.length,u=v-p||1,m=p+v+1,y,r,w;for(l=0;l<=p;l++)for(r=y,k.push(y=[]),w=h(v,l+u),q=n(0,l-1);q<=w;q++)y[q]=q?l?c[l-1]===b[q-1]?r[q-1]:h(r[q]||m,y[q-1]||m)+1:q+1:l+1;h=[];n=[];u=[];l=p;for(q=v;l||q;)v=k[l][q]-1,q&&v===k[l][q-1]?n.push(h[h.length]={status:d,value:b[--q],index:q}):l&&v===k[l-1][q]?u.push(h[h.length]={status:f,value:c[--l],index:l}):(--q,--l,g.sparse||h.push({status:"retained",value:b[q]}));a.utils.findMovesInArrayComparison(n,
u,10*p);return h.reverse()}return function(a,b,d){d="boolean"===typeof d?{dontLimitMoves:d}:d||{};a=a||[];b=b||[];return a.length<=b.length?c(a,b,"added","deleted",d):c(b,a,"deleted","added",d)}}();a.exportSymbol("utils.compareArrays",a.utils.compareArrays);(function(){function c(b,c,e,d,f){var g=[],n=a.dependentObservable(function(){var n=c(e,f,a.utils.fixUpContinuousNodeArray(g,b))||[];0<g.length&&(a.utils.replaceDomNodes(g,n),d&&a.dependencyDetection.ignore(d,null,[e,n,f]));g.length=0;a.utils.arrayPushAll(g,
n)},null,{disposeWhenNodeIsRemoved:b,disposeWhen:function(){return!a.utils.anyDomNodeIsAttachedToDocument(g)}});return{mappedNodes:g,dependentObservable:n.isActive()?n:k}}var e=a.utils.domData.nextKey();a.utils.setDomNodeChildrenFromArrayMapping=function(b,d,f,g,h){function n(c,e){B=q[e];I!==e&&(L[c]=B);B.indexObservable(I++);a.utils.fixUpContinuousNodeArray(B.mappedNodes,b);m.push(B);w.push(B)}function l(b,c){if(b)for(var e=0,d=c.length;e<d;e++)c[e]&&a.utils.arrayForEach(c[e].mappedNodes,function(a){b(a,
e,c[e].arrayEntry)})}d=d||[];g=g||{};var p=a.utils.domData.get(b,e)===k,q=a.utils.domData.get(b,e)||[],v=a.utils.arrayMap(q,function(a){return a.arrayEntry}),u=a.utils.compareArrays(v,d,g.dontLimitMoves),m=[],y=0,I=0,r=[],w=[];d=[];for(var L=[],v=[],B,N=0,T,G;T=u[N];N++)switch(G=T.moved,T.status){case "deleted":G===k&&(B=q[y],B.dependentObservable&&B.dependentObservable.dispose(),r.push.apply(r,a.utils.fixUpContinuousNodeArray(B.mappedNodes,b)),g.beforeRemove&&(d[N]=B,w.push(B)));y++;break;case "retained":n(N,
y++);break;case "added":G!==k?n(N,G):(B={arrayEntry:T.value,indexObservable:a.observable(I++)},m.push(B),w.push(B),p||(v[N]=B))}l(g.beforeMove,L);a.utils.arrayForEach(r,g.beforeRemove?a.cleanNode:a.removeNode);for(var N=0,p=a.virtualElements.firstChild(b),D;B=w[N];N++){B.mappedNodes||a.utils.extend(B,c(b,f,B.arrayEntry,h,B.indexObservable));for(y=0;u=B.mappedNodes[y];p=u.nextSibling,D=u,y++)u!==p&&a.virtualElements.insertAfter(b,u,D);!B.initialized&&h&&(h(B.arrayEntry,B.mappedNodes,B.indexObservable),
B.initialized=!0)}l(g.beforeRemove,d);l(g.afterMove,L);l(g.afterAdd,v);a.utils.domData.set(b,e,m)}})();a.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",a.utils.setDomNodeChildrenFromArrayMapping);a.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};a.nativeTemplateEngine.prototype=new a.templateEngine;a.nativeTemplateEngine.prototype.constructor=a.nativeTemplateEngine;a.nativeTemplateEngine.prototype.renderTemplateSource=function(c,e,b){if(e=(9>a.utils.ieVersion?0:c.nodes)?c.nodes():
null)return a.utils.makeArray(e.cloneNode(!0).childNodes);c=c.text();return a.utils.parseHtmlFragment(c)};a.nativeTemplateEngine.instance=new a.nativeTemplateEngine;a.setTemplateEngine(a.nativeTemplateEngine.instance);a.exportSymbol("nativeTemplateEngine",a.nativeTemplateEngine);(function(){a.jqueryTmplTemplateEngine=function(){var a=this.jQueryTmplVersion=function(){if(!d||!d.tmpl)return 0;try{if(0<=d.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=
function(b,c,f){f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var g=b.data("precompiled");g||(g=b.text()||"",g=d.template(null,"{{ko_with $item.koBindingContext}}"+g+"{{/ko_with}}"),b.data("precompiled",g));b=[c.$data];c=d.extend({koBindingContext:c},f.templateOptions);c=d.tmpl(g,b,c);c.appendTo(l.createElement("div"));d.fragments={};return c};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+
a+" })()) }}"};this.addTemplate=function(a,c){l.write("<script type='text/html' id='"+a+"'>"+c+"\x3c/script>")};0<a&&(d.tmpl.tag.ko_code={open:"__.push($1 || '');"},d.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.jqueryTmplTemplateEngine.prototype=new a.templateEngine;a.jqueryTmplTemplateEngine.prototype.constructor=a.jqueryTmplTemplateEngine;var c=new a.jqueryTmplTemplateEngine;0<c.jQueryTmplVersion&&a.setTemplateEngine(c);a.exportSymbol("jqueryTmplTemplateEngine",a.jqueryTmplTemplateEngine)})()})})()})()},
{}],6:[function(f,m,s){(function(f){(function(f){"function"===typeof bootstrap?bootstrap("promise",f):"object"===typeof s?m.exports=f():"function"===typeof define&&define.amd?define(f):"undefined"!==typeof ses?ses.ok()&&(ses.makeQ=f):Q=f()})(function(){function k(a){return function(){return S.apply(a,arguments)}}function q(a,b){if(K&&b.stack&&"object"===typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(N)){for(var c=[],e=b;e;e=e.source)e.stack&&c.unshift(e.stack);c.unshift(a.stack);for(var c=c.join("\n"+
N+"\n").split("\n"),e=[],d=0;d<c.length;++d){var r=c[d],f;if(f=l(r)){var w=f[1];f=f[0]===E&&w>=h&&w<=Y}else f=!1;f||-1!==r.indexOf("(module.js:")||-1!==r.indexOf("(node.js:")||!r||e.push(r)}c=e.join("\n");a.stack=c}}function l(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b||(b=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a)))return[b[1],Number(b[2])];if(a=/.*@(.+):(\d+)$/.exec(a))return[a[1],Number(a[2])]}function m(){if(K)try{throw Error();}catch(a){var b=a.stack.split("\n"),b=0<b[0].indexOf("@")?b[1]:
b[2];if(b=l(b))return E=b[0],b[1]}}function d(b){return a(b)?b:I(b)?M(b):J(b)}function p(){function b(a){r=a;w.source=a;R(c,function(b,c){C(function(){a.promiseDispatch.apply(a,c)})},void 0);e=c=void 0}var c=[],e=[],r,f=U(p.prototype),w=U(u.prototype);w.promiseDispatch=function(a,b,d){var f=F(arguments);c?(c.push(f),"when"===b&&d[1]&&e.push(d[1])):C(function(){r.promiseDispatch.apply(r,f)})};w.valueOf=function(){if(c)return w;var b=n(r);a(b)&&(r=b);return b};w.inspect=function(){return r?r.inspect():
{state:"pending"}};if(d.longStackSupport&&K)try{throw Error();}catch(g){w.stack=g.stack.substring(g.stack.indexOf("\n")+1)}f.promise=w;f.resolve=function(a){r||b(d(a))};f.fulfill=function(a){r||b(J(a))};f.reject=function(a){r||b(D(a))};f.notify=function(a){r||R(e,function(b,c){C(function(){c(a)})},void 0)};return f}function s(a){if("function"!==typeof a)throw new TypeError("resolver must be a function.");var b=p();try{a(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}return b.promise}function A(a){return s(function(b,
c){for(var e=0,r=a.length;e<r;e++)d(a[e]).then(b,c)})}function u(a,b,c){void 0===b&&(b=function(a){return D(Error("Promise does not support operation: "+a))});void 0===c&&(c=function(){return{state:"unknown"}});var e=U(u.prototype);e.promiseDispatch=function(c,r,d){var f;try{f=a[r]?a[r].apply(e,d):b.call(e,r,d)}catch(w){f=D(w)}c&&c(f)};if(e.inspect=c){var r=c();"rejected"===r.state&&(e.exception=r.reason);e.valueOf=function(){var a=c();return"pending"===a.state||"rejected"===a.state?e:a.value}}return e}
function v(a,b,c,e){return d(a).then(b,c,e)}function n(b){if(a(b)){var c=b.inspect();if("fulfilled"===c.state)return c.value}return b}function a(a){return a===Object(a)&&"function"===typeof a.promiseDispatch&&"function"===typeof a.inspect}function I(a){return a===Object(a)&&"function"===typeof a.then}function P(){T.length=0;X.length=0;W||(W=!0)}function G(a,b){W&&(X.push(a),b&&"undefined"!==typeof b.stack?T.push(b.stack):T.push("(no stack) "+b))}function D(a){var b=u({when:function(b){if(b&&W){var c=
O(X,this);-1!==c&&(X.splice(c,1),T.splice(c,1))}return b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});G(b,a);return b}function J(a){return u({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},"delete":function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return w(a)}},void 0,function(){return{state:"fulfilled",value:a}})}
function M(a){var b=p();C(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}});return b.promise}function c(a,b,c){return d(a).spread(b,c)}function e(a,b,c){return d(a).dispatch(b,c)}function b(b){return v(b,function(b){var c=0,e=p();R(b,function(r,d,f){var w;a(d)&&"fulfilled"===(w=d.inspect()).state?b[f]=w.value:(++c,v(d,function(a){b[f]=a;0===--c&&e.resolve(b)},e.reject,function(a){e.notify({index:f,value:a})}))},void 0);0===c&&e.resolve(b);return e.promise})}function t(a){return v(a,
function(a){a=V(a,d);return v(b(V(a,function(a){return v(a,x,x)})),function(){return a})})}var K=!1;try{throw Error();}catch(z){K=!!z.stack}var h=m(),E,x=function(){},C=function(){function a(){for(;b.next;){b=b.next;var c=b.task;b.task=void 0;var r=b.domain;r&&(b.domain=void 0,r.enter());try{c()}catch(f){if(d)throw r&&r.exit(),setTimeout(a,0),r&&r.enter(),f;setTimeout(function(){throw f;},0)}r&&r.exit()}e=!1}var b={task:void 0,next:null},c=b,e=!1,r=void 0,d=!1;C=function(a){c=c.next={task:a,domain:d&&
f.domain,next:null};e||(e=!0,r())};if("undefined"!==typeof f&&f.nextTick)d=!0,r=function(){f.nextTick(a)};else if("function"===typeof setImmediate)r="undefined"!==typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!==typeof MessageChannel){var w=new MessageChannel;w.port1.onmessage=function(){r=h;w.port1.onmessage=a;a()};var h=function(){w.port2.postMessage(0)},r=function(){setTimeout(a,0);h()}}else r=function(){setTimeout(a,0)};return C}(),S=Function.call,F=
k(Array.prototype.slice),R=k(Array.prototype.reduce||function(a,b){var c=0,e=this.length;if(1===arguments.length){do{if(c in this){b=this[c++];break}if(++c>=e)throw new TypeError;}while(1)}for(;c<e;c++)c in this&&(b=a(b,this[c],c));return b}),O=k(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),V=k(Array.prototype.map||function(a,b){var c=this,e=[];R(c,function(r,d,f){e.push(a.call(b,d,f,c))},void 0);return e}),U=Object.create||function(a){function b(){}
b.prototype=a;return new b},r=k(Object.prototype.hasOwnProperty),w=Object.keys||function(a){var b=[],c;for(c in a)r(a,c)&&b.push(c);return b},L=k(Object.prototype.toString),B;B="undefined"!==typeof ReturnValue?ReturnValue:function(a){this.value=a};var N="From previous event:";d.resolve=d;d.nextTick=C;d.longStackSupport=!1;d.defer=p;p.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):2<arguments.length?a.resolve(F(arguments,1)):a.resolve(c)}};d.Promise=s;d.promise=
s;s.race=A;s.all=b;s.reject=D;s.resolve=d;d.passByCopy=function(a){return a};u.prototype.passByCopy=function(){return this};d.join=function(a,b){return d(a).join(b)};u.prototype.join=function(a){return d([this,a]).spread(function(a,b){if(a===b)return a;throw Error("Can't join: not the same: "+a+" "+b);})};d.race=A;u.prototype.race=function(){return this.then(d.race)};d.makePromise=u;u.prototype.toString=function(){return"[object Promise]"};u.prototype.then=function(a,b,c){function e(b){try{return"function"===
typeof a?a(b):b}catch(c){return D(c)}}function r(a){if("function"===typeof b){q(a,f);try{return b(a)}catch(c){return D(c)}}return D(a)}var f=this,w=p(),g=!1;C(function(){f.promiseDispatch(function(a){g||(g=!0,w.resolve(e(a)))},"when",[function(a){g||(g=!0,w.resolve(r(a)))}])});f.promiseDispatch(void 0,"when",[void 0,function(a){var b,e=!1;try{b="function"===typeof c?c(a):a}catch(r){if(e=!0,d.onerror)d.onerror(r);else throw r;}e||w.notify(b)}]);return w.promise};d.when=v;u.prototype.thenResolve=function(a){return this.then(function(){return a})};
d.thenResolve=function(a,b){return d(a).thenResolve(b)};u.prototype.thenReject=function(a){return this.then(function(){throw a;})};d.thenReject=function(a,b){return d(a).thenReject(b)};d.nearer=n;d.isPromise=a;d.isPromiseAlike=I;d.isPending=function(b){return a(b)&&"pending"===b.inspect().state};u.prototype.isPending=function(){return"pending"===this.inspect().state};d.isFulfilled=function(b){return!a(b)||"fulfilled"===b.inspect().state};u.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state};
d.isRejected=function(b){return a(b)&&"rejected"===b.inspect().state};u.prototype.isRejected=function(){return"rejected"===this.inspect().state};var T=[],X=[],W=!0;d.resetUnhandledRejections=P;d.getUnhandledReasons=function(){return T.slice()};d.stopUnhandledRejectionTracking=function(){P();W=!1};P();d.reject=D;d.fulfill=J;d.master=function(a){return u({isDef:function(){}},function(b,c){return e(a,b,c)},function(){return d(a).inspect()})};d.spread=c;u.prototype.spread=function(a,b){return this.all().then(function(b){return a.apply(void 0,
b)},b)};d.async=function(a){return function(){function b(a,d){var f;if("undefined"===typeof StopIteration){try{f=c[a](d)}catch(w){return D(w)}return f.done?f.value:v(f.value,e,r)}try{f=c[a](d)}catch(g){return"[object StopIteration]"===L(g)||g instanceof B?g.value:D(g)}return v(f,e,r)}var c=a.apply(this,arguments),e=b.bind(b,"next"),r=b.bind(b,"throw");return e()}};d.spawn=function(a){d.done(d.async(a)())};d["return"]=function(a){throw new B(a);};d.promised=function(a){return function(){return c([this,
b(arguments)],function(b,c){return a.apply(b,c)})}};d.dispatch=e;u.prototype.dispatch=function(a,b){var c=this,e=p();C(function(){c.promiseDispatch(e.resolve,a,b)});return e.promise};d.get=function(a,b){return d(a).dispatch("get",[b])};u.prototype.get=function(a){return this.dispatch("get",[a])};d.set=function(a,b,c){return d(a).dispatch("set",[b,c])};u.prototype.set=function(a,b){return this.dispatch("set",[a,b])};d.del=d["delete"]=function(a,b){return d(a).dispatch("delete",[b])};u.prototype.del=
u.prototype["delete"]=function(a){return this.dispatch("delete",[a])};d.mapply=d.post=function(a,b,c){return d(a).dispatch("post",[b,c])};u.prototype.mapply=u.prototype.post=function(a,b){return this.dispatch("post",[a,b])};d.send=d.mcall=d.invoke=function(a,b){return d(a).dispatch("post",[b,F(arguments,2)])};u.prototype.send=u.prototype.mcall=u.prototype.invoke=function(a){return this.dispatch("post",[a,F(arguments,1)])};d.fapply=function(a,b){return d(a).dispatch("apply",[void 0,b])};u.prototype.fapply=
function(a){return this.dispatch("apply",[void 0,a])};d["try"]=d.fcall=function(a){return d(a).dispatch("apply",[void 0,F(arguments,1)])};u.prototype.fcall=function(){return this.dispatch("apply",[void 0,F(arguments)])};d.fbind=function(a){var b=d(a),c=F(arguments,1);return function(){return b.dispatch("apply",[this,c.concat(F(arguments))])}};u.prototype.fbind=function(){var a=this,b=F(arguments);return function(){return a.dispatch("apply",[this,b.concat(F(arguments))])}};d.keys=function(a){return d(a).dispatch("keys",
[])};u.prototype.keys=function(){return this.dispatch("keys",[])};d.all=b;u.prototype.all=function(){return b(this)};d.allResolved=function(a,b,c){return function(){"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",Error("").stack);return a.apply(a,arguments)}}(t,"allResolved","allSettled");u.prototype.allResolved=function(){return t(this)};d.allSettled=function(a){return d(a).allSettled()};u.prototype.allSettled=function(){return this.then(function(a){return b(V(a,
function(a){function b(){return a.inspect()}a=d(a);return a.then(b,b)}))})};d.fail=d["catch"]=function(a,b){return d(a).then(void 0,b)};u.prototype.fail=u.prototype["catch"]=function(a){return this.then(void 0,a)};d.progress=function(a,b){return d(a).then(void 0,void 0,b)};u.prototype.progress=function(a){return this.then(void 0,void 0,a)};d.fin=d["finally"]=function(a,b){return d(a)["finally"](b)};u.prototype.fin=u.prototype["finally"]=function(a){a=d(a);return this.then(function(b){return a.fcall().then(function(){return b})},
function(b){return a.fcall().then(function(){throw b;})})};d.done=function(a,b,c,e){return d(a).done(b,c,e)};u.prototype.done=function(a,b,c){var e=function(a){C(function(){q(a,r);if(d.onerror)d.onerror(a);else throw a;})},r=a||b||c?this.then(a,b,c):this;"object"===typeof f&&f&&f.domain&&(e=f.domain.bind(e));r.then(void 0,e)};d.timeout=function(a,b,c){return d(a).timeout(b,c)};u.prototype.timeout=function(a,b){var c=p(),e=setTimeout(function(){c.reject(Error(b||"Timed out after "+a+" ms"))},a);this.then(function(a){clearTimeout(e);
c.resolve(a)},function(a){clearTimeout(e);c.reject(a)},c.notify);return c.promise};d.delay=function(a,b){void 0===b&&(b=a,a=void 0);return d(a).delay(b)};u.prototype.delay=function(a){return this.then(function(b){var c=p();setTimeout(function(){c.resolve(b)},a);return c.promise})};d.nfapply=function(a,b){return d(a).nfapply(b)};u.prototype.nfapply=function(a){var b=p();a=F(a);a.push(b.makeNodeResolver());this.fapply(a).fail(b.reject);return b.promise};d.nfcall=function(a){var b=F(arguments,1);return d(a).nfapply(b)};
u.prototype.nfcall=function(){var a=F(arguments),b=p();a.push(b.makeNodeResolver());this.fapply(a).fail(b.reject);return b.promise};d.nfbind=d.denodeify=function(a){var b=F(arguments,1);return function(){var c=b.concat(F(arguments)),e=p();c.push(e.makeNodeResolver());d(a).fapply(c).fail(e.reject);return e.promise}};u.prototype.nfbind=u.prototype.denodeify=function(){var a=F(arguments);a.unshift(this);return d.denodeify.apply(void 0,a)};d.nbind=function(a,b){var c=F(arguments,2);return function(){var e=
c.concat(F(arguments)),r=p();e.push(r.makeNodeResolver());d(function(){return a.apply(b,arguments)}).fapply(e).fail(r.reject);return r.promise}};u.prototype.nbind=function(){var a=F(arguments,0);a.unshift(this);return d.nbind.apply(void 0,a)};d.nmapply=d.npost=function(a,b,c){return d(a).npost(b,c)};u.prototype.nmapply=u.prototype.npost=function(a,b){var c=F(b||[]),e=p();c.push(e.makeNodeResolver());this.dispatch("post",[a,c]).fail(e.reject);return e.promise};d.nsend=d.nmcall=d.ninvoke=function(a,
b){var c=F(arguments,2),e=p();c.push(e.makeNodeResolver());d(a).dispatch("post",[b,c]).fail(e.reject);return e.promise};u.prototype.nsend=u.prototype.nmcall=u.prototype.ninvoke=function(a){var b=F(arguments,1),c=p();b.push(c.makeNodeResolver());this.dispatch("post",[a,b]).fail(c.reject);return c.promise};d.nodeify=function(a,b){return d(a).nodeify(b)};u.prototype.nodeify=function(a){if(a)this.then(function(b){C(function(){a(null,b)})},function(b){C(function(){a(b)})});else return this};var Y=m();
return d})}).call(this,f("JkpR2F"))},{JkpR2F:4}],7:[function(f,m,s){(function(){var f=this,k=f._,q={},l=Array.prototype,y=Object.prototype,d=l.push,p=l.slice,H=l.concat,A=y.toString,u=y.hasOwnProperty,v=l.forEach,n=l.map,a=l.reduce,I=l.reduceRight,P=l.filter,G=l.every,D=l.some,J=l.indexOf,M=l.lastIndexOf,y=Array.isArray,c=Object.keys,e=Function.prototype.bind,b=function(a){if(a instanceof b)return a;if(!(this instanceof b))return new b(a);this._wrapped=a};"undefined"!==typeof s?("undefined"!==typeof m&&
m.exports&&(s=m.exports=b),s._=b):f._=b;b.VERSION="1.6.0";var t=b.each=b.forEach=function(a,c,e){if(null==a)return a;if(v&&a.forEach===v)a.forEach(c,e);else if(a.length===+a.length)for(var d=0,f=a.length;d<f;d++){if(c.call(e,a[d],d,a)===q)return}else for(var g=b.keys(a),d=0,f=g.length;d<f;d++)if(c.call(e,a[g[d]],g[d],a)===q)return;return a};b.map=b.collect=function(a,b,c){var e=[];if(null==a)return e;if(n&&a.map===n)return a.map(b,c);t(a,function(a,d,r){e.push(b.call(c,a,d,r))});return e};b.reduce=
b.foldl=b.inject=function(c,e,d,f){var g=2<arguments.length;null==c&&(c=[]);if(a&&c.reduce===a)return f&&(e=b.bind(e,f)),g?c.reduce(e,d):c.reduce(e);t(c,function(a,b,c){g?d=e.call(f,d,a,b,c):(d=a,g=!0)});if(!g)throw new TypeError("Reduce of empty array with no initial value");return d};b.reduceRight=b.foldr=function(a,c,e,d){var f=2<arguments.length;null==a&&(a=[]);if(I&&a.reduceRight===I)return d&&(c=b.bind(c,d)),f?a.reduceRight(c,e):a.reduceRight(c);var g=a.length;if(g!==+g)var h=b.keys(a),g=h.length;
t(a,function(b,n,l){n=h?h[--g]:--g;f?e=c.call(d,e,a[n],n,l):(e=a[n],f=!0)});if(!f)throw new TypeError("Reduce of empty array with no initial value");return e};b.find=b.detect=function(a,b,c){var e;K(a,function(a,d,r){if(b.call(c,a,d,r))return e=a,!0});return e};b.filter=b.select=function(a,b,c){var e=[];if(null==a)return e;if(P&&a.filter===P)return a.filter(b,c);t(a,function(a,d,r){b.call(c,a,d,r)&&e.push(a)});return e};b.reject=function(a,c,e){return b.filter(a,function(a,b,d){return!c.call(e,a,
b,d)},e)};b.every=b.all=function(a,c,e){c||(c=b.identity);var d=!0;if(null==a)return d;if(G&&a.every===G)return a.every(c,e);t(a,function(a,b,r){if(!(d=d&&c.call(e,a,b,r)))return q});return!!d};var K=b.some=b.any=function(a,c,e){c||(c=b.identity);var d=!1;if(null==a)return d;if(D&&a.some===D)return a.some(c,e);t(a,function(a,b,r){if(d||(d=c.call(e,a,b,r)))return q});return!!d};b.contains=b.include=function(a,b){return null==a?!1:J&&a.indexOf===J?-1!=a.indexOf(b):K(a,function(a){return a===b})};b.invoke=
function(a,c){var e=p.call(arguments,2),d=b.isFunction(c);return b.map(a,function(a){return(d?c:a[c]).apply(a,e)})};b.pluck=function(a,c){return b.map(a,b.property(c))};b.where=function(a,c){return b.filter(a,b.matches(c))};b.findWhere=function(a,c){return b.find(a,b.matches(c))};b.max=function(a,c,e){if(!c&&b.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);var d=-Infinity,f=-Infinity;t(a,function(a,b,r){b=c?c.call(e,a,b,r):a;b>f&&(d=a,f=b)});return d};b.min=function(a,c,e){if(!c&&
b.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);var d=Infinity,f=Infinity;t(a,function(a,b,r){b=c?c.call(e,a,b,r):a;b<f&&(d=a,f=b)});return d};b.shuffle=function(a){var c,e=0,d=[];t(a,function(a){c=b.random(e++);d[e-1]=d[c];d[c]=a});return d};b.sample=function(a,c,e){return null==c||e?(a.length!==+a.length&&(a=b.values(a)),a[b.random(a.length-1)]):b.shuffle(a).slice(0,Math.max(0,c))};var z=function(a){return null==a?b.identity:b.isFunction(a)?a:b.property(a)};b.sortBy=function(a,
c,e){c=z(c);return b.pluck(b.map(a,function(a,b,d){return{value:a,index:b,criteria:c.call(e,a,b,d)}}).sort(function(a,b){var c=a.criteria,e=b.criteria;if(c!==e){if(c>e||void 0===c)return 1;if(c<e||void 0===e)return-1}return a.index-b.index}),"value")};var h=function(a){return function(b,c,e){var d={};c=z(c);t(b,function(f,g){var h=c.call(e,f,g,b);a(d,h,f)});return d}};b.groupBy=h(function(a,c,e){b.has(a,c)?a[c].push(e):a[c]=[e]});b.indexBy=h(function(a,b,c){a[b]=c});b.countBy=h(function(a,c){b.has(a,
c)?a[c]++:a[c]=1});b.sortedIndex=function(a,b,c,e){c=z(c);b=c.call(e,b);for(var d=0,f=a.length;d<f;){var g=d+f>>>1;c.call(e,a[g])<b?d=g+1:f=g}return d};b.toArray=function(a){return a?b.isArray(a)?p.call(a):a.length===+a.length?b.map(a,b.identity):b.values(a):[]};b.size=function(a){return null==a?0:a.length===+a.length?a.length:b.keys(a).length};b.first=b.head=b.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:p.call(a,0,b)};b.initial=function(a,b,c){return p.call(a,0,a.length-(null==
b||c?1:b))};b.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:p.call(a,Math.max(a.length-b,0))};b.rest=b.tail=b.drop=function(a,b,c){return p.call(a,null==b||c?1:b)};b.compact=function(a){return b.filter(a,b.identity)};var E=function(a,c,e){if(c&&b.every(a,b.isArray))return H.apply(e,a);t(a,function(a){b.isArray(a)||b.isArguments(a)?c?d.apply(e,a):E(a,c,e):e.push(a)});return e};b.flatten=function(a,b){return E(a,b,[])};b.without=function(a){return b.difference(a,p.call(arguments,
1))};b.partition=function(a,b){var c=[],e=[];t(a,function(a){(b(a)?c:e).push(a)});return[c,e]};b.uniq=b.unique=function(a,c,e,d){b.isFunction(c)&&(d=e,e=c,c=!1);e=e?b.map(a,e,d):a;var f=[],g=[];t(e,function(e,d){(c?d&&g[g.length-1]===e:b.contains(g,e))||(g.push(e),f.push(a[d]))});return f};b.union=function(){return b.uniq(b.flatten(arguments,!0))};b.intersection=function(a){var c=p.call(arguments,1);return b.filter(b.uniq(a),function(a){return b.every(c,function(c){return b.contains(c,a)})})};b.difference=
function(a){var c=H.apply(l,p.call(arguments,1));return b.filter(a,function(a){return!b.contains(c,a)})};b.zip=function(){for(var a=b.max(b.pluck(arguments,"length").concat(0)),c=Array(a),e=0;e<a;e++)c[e]=b.pluck(arguments,""+e);return c};b.object=function(a,b){if(null==a)return{};for(var c={},e=0,d=a.length;e<d;e++)b?c[a[e]]=b[e]:c[a[e][0]]=a[e][1];return c};b.indexOf=function(a,c,e){if(null==a)return-1;var d=0,f=a.length;if(e)if("number"==typeof e)d=0>e?Math.max(0,f+e):e;else return d=b.sortedIndex(a,
c),a[d]===c?d:-1;if(J&&a.indexOf===J)return a.indexOf(c,e);for(;d<f;d++)if(a[d]===c)return d;return-1};b.lastIndexOf=function(a,b,c){if(null==a)return-1;var e=null!=c;if(M&&a.lastIndexOf===M)return e?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=e?c:a.length;c--;)if(a[c]===b)return c;return-1};b.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var e=Math.max(Math.ceil((b-a)/c),0),d=0,f=Array(e);d<e;)f[d++]=a,a+=c;return f};var x=function(){};b.bind=function(a,c){var d,f;if(e&&
a.bind===e)return e.apply(a,p.call(arguments,1));if(!b.isFunction(a))throw new TypeError;d=p.call(arguments,2);return f=function(){if(!(this instanceof f))return a.apply(c,d.concat(p.call(arguments)));x.prototype=a.prototype;var b=new x;x.prototype=null;var e=a.apply(b,d.concat(p.call(arguments)));return Object(e)===e?e:b}};b.partial=function(a){var c=p.call(arguments,1);return function(){for(var e=0,d=c.slice(),f=0,g=d.length;f<g;f++)d[f]===b&&(d[f]=arguments[e++]);for(;e<arguments.length;)d.push(arguments[e++]);
return a.apply(this,d)}};b.bindAll=function(a){var c=p.call(arguments,1);if(0===c.length)throw Error("bindAll must be passed function names");t(c,function(c){a[c]=b.bind(a[c],a)});return a};b.memoize=function(a,c){var e={};c||(c=b.identity);return function(){var d=c.apply(this,arguments);return b.has(e,d)?e[d]:e[d]=a.apply(this,arguments)}};b.delay=function(a,b){var c=p.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};b.defer=function(a){return b.delay.apply(b,[a,1].concat(p.call(arguments,
1)))};b.throttle=function(a,c,e){var d,f,g,h=null,n=0;e||(e={});var l=function(){n=!1===e.leading?0:b.now();h=null;g=a.apply(d,f);d=f=null};return function(){var k=b.now();n||!1!==e.leading||(n=k);var p=c-(k-n);d=this;f=arguments;0>=p?(clearTimeout(h),h=null,n=k,g=a.apply(d,f),d=f=null):h||!1===e.trailing||(h=setTimeout(l,p));return g}};b.debounce=function(a,c,e){var d,f,g,h,n,l=function(){var k=b.now()-h;k<c?d=setTimeout(l,c-k):(d=null,e||(n=a.apply(g,f),g=f=null))};return function(){g=this;f=arguments;
h=b.now();var k=e&&!d;d||(d=setTimeout(l,c));k&&(n=a.apply(g,f),g=f=null);return n}};b.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};b.wrap=function(a,c){return b.partial(c,a)};b.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};b.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};b.keys=function(a){if(!b.isObject(a))return[];
if(c)return c(a);var e=[],d;for(d in a)b.has(a,d)&&e.push(d);return e};b.values=function(a){for(var c=b.keys(a),e=c.length,d=Array(e),f=0;f<e;f++)d[f]=a[c[f]];return d};b.pairs=function(a){for(var c=b.keys(a),e=c.length,d=Array(e),f=0;f<e;f++)d[f]=[c[f],a[c[f]]];return d};b.invert=function(a){for(var c={},e=b.keys(a),d=0,f=e.length;d<f;d++)c[a[e[d]]]=e[d];return c};b.functions=b.methods=function(a){var c=[],e;for(e in a)b.isFunction(a[e])&&c.push(e);return c.sort()};b.extend=function(a){t(p.call(arguments,
1),function(b){if(b)for(var c in b)a[c]=b[c]});return a};b.pick=function(a){var b={},c=H.apply(l,p.call(arguments,1));t(c,function(c){c in a&&(b[c]=a[c])});return b};b.omit=function(a){var c={},e=H.apply(l,p.call(arguments,1)),d;for(d in a)b.contains(e,d)||(c[d]=a[d]);return c};b.defaults=function(a){t(p.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])});return a};b.clone=function(a){return b.isObject(a)?b.isArray(a)?a.slice():b.extend({},a):a};b.tap=function(a,b){b(a);
return a};var C=function(a,c,e,d){if(a===c)return 0!==a||1/a==1/c;if(null==a||null==c)return a===c;a instanceof b&&(a=a._wrapped);c instanceof b&&(c=c._wrapped);var f=A.call(a);if(f!=A.call(c))return!1;switch(f){case "[object String]":return a==String(c);case "[object Number]":return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if("object"!=
typeof a||"object"!=typeof c)return!1;for(var g=e.length;g--;)if(e[g]==a)return d[g]==c;var g=a.constructor,h=c.constructor;if(g!==h&&!(b.isFunction(g)&&g instanceof g&&b.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in c)return!1;e.push(a);d.push(c);g=0;h=!0;if("[object Array]"==f){if(g=a.length,h=g==c.length)for(;g--&&(h=C(a[g],c[g],e,d)););}else{for(var n in a)if(b.has(a,n)&&(g++,!(h=b.has(c,n)&&C(a[n],c[n],e,d))))break;if(h){for(n in c)if(b.has(c,n)&&!g--)break;h=!g}}e.pop();
d.pop();return h};b.isEqual=function(a,b){return C(a,b,[],[])};b.isEmpty=function(a){if(null==a)return!0;if(b.isArray(a)||b.isString(a))return 0===a.length;for(var c in a)if(b.has(a,c))return!1;return!0};b.isElement=function(a){return!(!a||1!==a.nodeType)};b.isArray=y||function(a){return"[object Array]"==A.call(a)};b.isObject=function(a){return a===Object(a)};t("Arguments Function String Number Date RegExp".split(" "),function(a){b["is"+a]=function(b){return A.call(b)=="[object "+a+"]"}});b.isArguments(arguments)||
(b.isArguments=function(a){return!(!a||!b.has(a,"callee"))});"function"!==typeof/./&&(b.isFunction=function(a){return"function"===typeof a});b.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};b.isNaN=function(a){return b.isNumber(a)&&a!=+a};b.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==A.call(a)};b.isNull=function(a){return null===a};b.isUndefined=function(a){return void 0===a};b.has=function(a,b){return u.call(a,b)};b.noConflict=function(){f._=k;return this};b.identity=
function(a){return a};b.constant=function(a){return function(){return a}};b.property=function(a){return function(b){return b[a]}};b.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}};b.times=function(a,b,c){for(var e=Array(Math.max(0,a)),d=0;d<a;d++)e[d]=b.call(c,d);return e};b.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};b.now=Date.now||function(){return(new Date).getTime()};var S={escape:{"&":"&amp;",
"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};S.unescape=b.invert(S.escape);var F={escape:RegExp("["+b.keys(S.escape).join("")+"]","g"),unescape:RegExp("("+b.keys(S.unescape).join("|")+")","g")};b.each(["escape","unescape"],function(a){b[a]=function(b){return null==b?"":(""+b).replace(F[a],function(b){return S[a][b]})}});b.result=function(a,c){if(null!=a){var e=a[c];return b.isFunction(e)?e.call(a):e}};b.mixin=function(a){t(b.functions(a),function(c){var e=b[c]=a[c];b.prototype[c]=function(){var a=
[this._wrapped];d.apply(a,arguments);a=e.apply(b,a);return this._chain?b(a).chain():a}})};var R=0;b.uniqueId=function(a){var b=++R+"";return a?a+b:b};b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\t|\u2028|\u2029/g;b.template=function(a,c,e){var d;e=b.defaults({},e,b.templateSettings);var f=RegExp([(e.escape||O).source,(e.interpolate||
O).source,(e.evaluate||O).source].join("|")+"|$","g"),g=0,h="__p+='";a.replace(f,function(b,c,e,d,f){h+=a.slice(g,f).replace(U,function(a){return"\\"+V[a]});c&&(h+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");e&&(h+="'+\n((__t=("+e+"))==null?'':__t)+\n'");d&&(h+="';\n"+d+"\n__p+='");g=f+b.length;return b});h+="';\n";e.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{d=new Function(e.variable||
"obj","_",h)}catch(n){throw n.source=h,n;}if(c)return d(c,b);c=function(a){return d.call(this,a,b)};c.source="function("+(e.variable||"obj")+"){\n"+h+"}";return c};b.chain=function(a){return b(a).chain()};b.mixin(b);t("pop push reverse shift sort splice unshift".split(" "),function(a){var c=l[a];b.prototype[a]=function(){var e=this._wrapped;c.apply(e,arguments);"shift"!=a&&"splice"!=a||0!==e.length||delete e[0];return this._chain?b(e).chain():e}});t(["concat","join","slice"],function(a){var c=l[a];
b.prototype[a]=function(){var a=c.apply(this._wrapped,arguments);return this._chain?b(a).chain():a}});b.extend(b.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}});"function"===typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}],8:[function(f,m,s){function g(){return"url"===n.get("tokenAction")||"hybrid"===n.get("tokenAction")&&n.get("mobileDevice")}function k(){return p.has("loginRedirectData")}var q=f("q"),l=f("underscore"),
y=f("knockout"),d=f("./helpers"),p=f("./storage"),H=f("./cookie"),A=f("./session"),u=f("./engage-api"),v=f("./Popup"),n=f("./settings"),a=f("./i18n"),I=f("./env"),P;m.exports={Login:function(f,m,s,M){s=s||{};var c=function(){return["loggedIn",s.sharing_type||f,m.name].join("_")},e=function(){var a=window.location.protocol,a={dev:"http://pike-dev.janrain.com:1100/build/",prod:a+"//cdn-social.janrain.com/social/",qa:a+"//cdn-social.janrain.com/social-qa/"}[I()],b=g()?"redirect":"close",a={language_preference:n.get("language"),
token_url:n.get("tokenUrl"),display:"popup",provider_name:m.name,force_reauth:n.get("forceReauth"),callback:"none",widget_type:f,token_action:g()?"url":"event",bp_channel:n.get("bpChannel"),sharing_type:n.get("sharingType"),capture_domain:n.get("captureDomain"),xdReceiver:a+"xdomain-"+b+".html"};a.origin_url=n.get("mobileDevice")?"mobile":n.get("originUrl")||window.location.href;n.get("extParams")&&n.get("extParams")[m.name]&&(a.ext_params=n.get("extParams")[m.name]);n.get("scopes")&&l(n.get("scopes")[m.name]).isObject()&&
(a.override_scopes=n.get("scopes")[m.name].toString());n.get("customSAML")&&m.customSAML?a.saml_provider=m.identifier:a.openid_identifier=m.identifier;l.extend(a,s);var b=n.get("appUrl"),c;c=n.get("customSAML")&&m.customSAML?"/saml2/sso/start":"/"+m.endpointName+"/start";return d.urlWithParams(b+c,a)},b=function(a){var b=n.get("customSAML")&&m.customSAML,c=n.get("customOpenid")&&m.customOpenid;n.get("customProviderInIFrame")&&(c||b)||p.set("loginRedirectData",{widgetType:f,providerConfig:m});window.location.href=
a},t=function(b,e){var f={widget_type:b,provider:e.endpointName||"",time:d.now()};u.get("/signin/get_login_info",f).done(function(b){var e={stat:"fail",error:{message:a.getText("errors.engageCommunication")}};b=b||e;l.isObject(b.err)&&(b.error=b.err,b.error.message=b.err.msg);("janrain.engage.share.cancelLogin"===b.callback||l.isObject(b.error)&&b.error.code===u.ERROR_CODES.CANCELED_LOGIN)&&d.setProperty(b,"error.message",a.getText("errors.canceledLogin"));"ok"===b.stat?(H.set(c(),!0,{expires:d.nMinutesFromNow(25)}),
A.set(c(),!0),p.set("authenticityToken",b.authenticity_token),P.resolve(),M.emit("auth_done",{auth_token:b.authenticity_token})):(b=y.unwrap(b.error.message),P.reject(Error(b)),M.emit("auth_fail",{}))})},K=function(a){v.open({url:a,width:m.width,height:m.height}).closed.done(function(){t(f,m)})},z=function(){var a=p.getJson("loginRedirectData");a&&(p.remove("loginRedirectData"),t(a.widgetType,a.providerConfig))};P=q.defer();if("true"===H.get(c())&&"true"===A.get(c()))return q();k()?z():g()?b(e()):
K(e());return P.promise},redirectDataExists:k,redirectData:function(){return p.getJson("loginRedirectData")},useRedirectAuth:g}},{"./Popup":14,"./cookie":23,"./engage-api":25,"./env":26,"./helpers":28,"./i18n":29,"./session":46,"./settings":47,"./storage":48,knockout:5,q:6,underscore:7}],9:[function(f,m,s){var g=f("knockout"),k=f("underscore");m.exports=function(f){f="string"===typeof f?{userName:f,userId:f,isCustom:!0}:k({isCustom:!1}).extend(f);f.selected=!1;f.focused=g.observable(!1);var l=f.userImage||
"",m="https:"===window.location.protocol&&0===l.indexOf("http:");if(!l||m)f.userImage=void 0;return f}},{knockout:5,underscore:7}],10:[function(f,m,s){var g=f("knockout"),k=f("underscore"),q=f("q"),l=f("./Contact"),y=f("./i18n"),d=f("./helpers"),p=f("./engage-api"),H=f("./debug");m.exports=function(){var f={},m=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,v=g.observable(""),n,a=g.observableArray(),
I=g.computed(function(){return k.filter(a(),k.property("selected"))}),s=g.observable(!1),G=g.computed(function(){var a=I().length;return 1<a?y.formatText("common.shareWithMulti",a-1,{name:k.first(I()).userName,number:a-1}):a?y.formatText("common.shareWithSingle",0,{name:k.first(I()).userName}):""}),D=function(){k.each(a(),function(a){a.selected=!1});a(k.uniq(a(),!1,k.property("userId")))},J=function(b){n=b;v("");return f[n.name]?(a(f[n.name]),D(),q(a())):p.get("/share/get_contacts",{provider:n.engageName,
share_type:n.isEmailProvider?"email":"contact"}).then(function(a){var b=k.findWhere(a.callHistory,{callback:"janrain.engage.share.loadUserInfo"});M(k.extend(M(),b));return a}).then(function(a){if(a.error)return H.log("Contacts could not be loaded from "+n.friendlyName()),a;f[n.name]=k(a).map(l);return J(n)}).fail(d.noop)},M=g.observable({}),c=function(b){b.selected||(b.selected=!0,v(""),b.isCustom?a.push(b):a.valueHasMutated())},e=function(a){if("up"===a)return-1<b()?(b(b()-1),!1):!0;if("down"===
a){if(b()<K().length-1)return b(b()+1),!1;b(-1);v("");return!0}},b=g.observable(-1),t=g.observable(!1);b.subscribe(function(a){-1<a&&K()[a].focused(!0)});t.subscribe(function(a){a&&(s(!1),b(-1))});v.subscribe(function(a){""===a&&t(!0)});var K=g.computed(function(){if(0===v().length)return[];var b=k.chain(a()).filter(function(a){var b=d.containsCaseInsensitive(a.userName,v());return n.isEmailProvider?(a=d.containsCaseInsensitive(a.userId,v()),b||a):b}).first(8).value();0===b.length&&n.isEmailProvider&&
m.test(v())&&b.push(l(v()));return b}).extend({throttle:100});return{currentUserInfo:M,fetchContacts:J,keydownHandler:function(a,b){return(b.keyCode||b.which)===d.keyCodes.ESC?(v(""),!1):!0},keypressHandler:function(a,f){var g=f.keyCode||f.which,n=f.shiftKey,l=!0;if(""===v())return!0;if(g===d.keyCodes.ENTER)0<K().length&&-1<b()&&(c(K()[b()]),l=!1);else if(g===d.keyCodes.UP||n&&g===d.keyCodes.TAB)l=e("up");else if(g===d.keyCodes.DOWN||!n&&g===d.keyCodes.TAB)l=e("down");s(!1);return l},removeContact:function(b){b.selected=
!1;b.isCustom?a(k(a()).without(b)):a.valueHasMutated();0===I().length&&s(!1);t(!0)},search:v,searchResults:K,contactSearchFocused:t,selectContact:c,selected:I,selectedMessage:G,showSelectedDetails:s,toggleSelectedDetails:function(){s(!s())}}}},{"./Contact":9,"./debug":24,"./engage-api":25,"./helpers":28,"./i18n":29,knockout:5,q:6,underscore:7}],11:[function(f,m,s){var g=f("underscore"),k=f("./helpers");m.exports=function(f){var l=[],m=function(d){d=d.split(":");d[1]=d[1]||"all";return d},d=function(d){if(!g.isString(d))return!1;
d=m(d)[0];return g.contains(f,d)},p=function(g){k.assert(d(g),"'"+g+"' is not a valid name. Valid names are as follows:\n"+f.join("\n"))},s=function(d){k.assert(g.isFunction(d),"callback parameter must be a function")},A=function(d,f){p(d);s(f);l.push({name:d,callback:f})},u=function(d){k.assert(g.isObject(d)&&!g.isArray(d),"Unexpected arguments to 'on'. Should be .on(string, function) or .on(object)");g.each(d,function(d,a){A(a,d)})};return{on:function(){switch(arguments.length){case 1:return u.apply(null,
arguments);case 2:return A.apply(null,arguments);default:throw Error("Unexpected arguments to 'on'. Should be .on(string, function) or .on(object)");}},off:function(d,f){p(d);s(f);l=g.reject(l,function(a){return a.name===d&&a.callback===f})},emit:function(d,f){p(d);k.assert(g.isObject(f),"must pass data object to emit");g.each(l,function(a){var l=a.name,q=d;p(l);p(q);var l=m(l),q=m(q),u="all"===l[1]||l[1]===q[1];l[0]===q[0]&&u&&k.doLater(g.bind(a.callback,null,f))})}}}},{"./helpers":28,underscore:7}],
12:[function(f,m,s){var g=f("./helpers"),k=f("./i18n");m.exports=function(f){return{poll:function(){var g=f.getBoundingClientRect(),m=document.documentElement.clientWidth,d=k.rtl()?"right":"left";return m/2<g[d]&&480<m?"west":"east"},calculateLeftOffset:function(l){if("horizontal"!==l)return"";l=g.$class("janrainShareForm",f);var k=g.$class("currentProviderShowing",f);if(0===l.length||0===k.length)return"";l[0].style.left="";var d=l[0].getBoundingClientRect(),k=k[0].getBoundingClientRect(),p="";k.right+
17>d.right&&(p=parseInt(l[0].offsetLeft,10)+(k.right-d.right)+17+"px");return p},calculateTopOffset:function(l){if("vertical"!==l)return"";l=g.$class("janrainShareForm",f);var k=g.$class("currentProviderShowing",f);if(0===l.length||0===k.length)return"";l[0].style.top="";var d=l[0].getBoundingClientRect(),k=k[0].getBoundingClientRect(),p="";k.bottom+17>d.bottom?(p=parseInt(l[0].offsetTop,10)+(k.bottom-d.bottom)+17+"px",l[0].style.top=p):l[0].style.top="";return p}}}},{"./helpers":28,"./i18n":29}],
13:[function(f,m,s){var g=f("underscore"),k=f("./helpers"),q=f("./events");m.exports=function(f,m){return{emit:function(d,p){k.doLater(function(){d+=":"+f;p=g.extend({id:f},m(),p);q.emit(d,p)})}}}},{"./events":27,"./helpers":28,underscore:7}],14:[function(f,m,s){var g=f("q"),k=f("./helpers");m.exports={open:function(f){function l(d){"janrain_closeAuthPopup"===d.data&&(window.top.focus(),k.removeListener(window,"message",l),A&&A.close())}var m=f.url,d=f.width||400,p=f.height||400,s=g.defer(),A=function(f){var g=
(window.screen.availWidth||window.screen.width)/2-d/2,a=(window.screen.availHeight||window.screen.height)/2-p/2;screen.availTop&&(a+=screen.availTop);g=["top="+a,"left="+g,"width="+d,"height="+p,"status=1,location=1,resizable=1,scrollbars=1"].join();return window.open(f,"",g)}(m),u=window.setInterval(function(){if(void 0===A||A.closed||void 0===A.closed)window.clearInterval(u),s.resolve()},500);k.addListener(window,"message",l);return{closed:s.promise}}}},{"./helpers":28,q:6}],15:[function(f,m,s){function g(d,
f){var a=l.getProperty(A,d+".shareModes",[]);return k(a).contains(f)}var k=f("underscore"),q=f("knockout"),l=f("./helpers"),y=f("./i18n"),d=f("./settings"),p=f("./debug"),H=f("./env"),A=f("../assets/provider-definitions.json"),u=k.keys(A);m.exports=function(f){if(k(u).contains(f)){var n=f.replace(/^.*-/,""),a=q.computed(function(){return l.getProperty(A,f+".friendlyName",void 0)||y.getProviderText(f,"friendlyName")()}),m=A[f],s={dev:"//pike-dev.janrain.com:1100/build/",qa:"//cdn-social.janrain.com/social-qa/",
prod:"//cdn-social.janrain.com/social/"}[H()]+"img/64/"+m.filename+".png",m=m.background,G=d.get("social.providerIcons."+f)||s,s=s.replace(".png","-solid.png");return{engageName:n,name:f,image:G,solidImage:s,background:m,friendlyName:a,config:{endpointName:n,width:480,height:640,name:f},buttonClass:f+"Button",isContactProvider:g(f,"contact")||g(f,"email"),isEmailProvider:g(f,"email"),isNativeProvider:g(f,"native"),hasMaximumCharacterCount:!!l.getProperty(A,f+".maxCharCount",!1),remainingCharCount:function(a){var d=
l.getProperty(A,f,{});if(d.maxCharCount){var g=a.length;if(d.urlReservedLength&&(a=a.match(/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig)))for(var c=0;c<a.length;c++)g-=a[c].length-d.urlReservedLength;return d.maxCharCount-g}},supportsImages:l.getProperty(A,
f+".supportsImages",!1)}}p.warn('Illegal provider "'+f+'" supplied in janrain.settings.social.providers, ignoring.')}},{"../assets/provider-definitions.json":2,"./debug":24,"./env":26,"./helpers":28,"./i18n":29,"./settings":47,knockout:5,underscore:7}],16:[function(f,m,s){var g=f("knockout"),k=f("underscore");m.exports=function(f,l,m){var d=g.observableArray();return{isOpen:g.observable(!1),providers:d,add:function(f){d.push(f)},getProviderByName:function(f){return k.find(d(),function(d){return f===
d.name})},length:function(){return d().length}}}},{knockout:5,underscore:7}],17:[function(f,m,s){var g=f("knockout"),k=f("underscore"),q=f("./helpers"),l=f("./Gravity"),y=f("./Provider"),d=f("./ProviderList"),p=f("./Share"),H=f("./ShareCounter"),A=f("./ShareResponseMessage"),u=f("./InstanceEventEmitter"),v=f("./settings"),n=f("./Auth"),a=f("./i18n"),I=f("./debug");m.exports=function(f,m){var s=g.observable(l(m).poll()),J=function(a){return q.getOrElse(f,a,function(){return v.get("social."+a)})},M=
u(f.id,function(){var a=z.provider(),b={provider:a.name,mode:z.mode()};a.isEmailProvider&&(b.mode="email");return b}),c=J("formFactor"),e=d(c,J("orientation"),s),b=d("email",J("orientation")),t=A(),K=k.extend(f,{orientation:J("orientation")}),z=p(K,M,m),h=H(f.url,J),E=g.observable(!1);q.setProperty(window,"janrain.social.lastShareId",g.observable());z.contactList.selected.subscribe(t.hide);var x=function(b){var c=a.getText("errors.shareFailure")(),e=[a.getText("errors.noContactSelected")(),a.getText("errors.canceledLogin")()];
k.isObject(b.error)?(k.contains(e,b.error.message)&&(c=b.error.message),t.fail(c),I.error("Sharing Error:",c)):!1===b.success?(t.fail(c),I.error("Sharing Error:",k.first(b.results).errorMessage)):(b.results&&window.janrain.social.lastShareId(k.first(b.results).messageId),t.success(b.provider),h.updateShareCount())},C=function(a){return x({error:a})},S=function(){z.visible(!1);E(!1)},K=g.computed(function(){var a=["Orientation"+q.capitalize(J("orientation")),"FormFactor"+q.capitalize(J("formFactor")),
"Providers_"+e.length(),"Gravity"+q.capitalize(s()),"Mode"+q.capitalize(z.mode()),e.isOpen()?"ProviderListOpen":null,h.hidden()?"ShareCountHidden":null];return k.chain(a).without(null).map(function(a){return"janrain"+a}).value().join(" ")}),F=g.computed(function(){return["janrainGravity"+q.capitalize(s()),"janrainProvider_"+E().name].join(" ")}),R=function(){var a=l(m).poll();s()!==a&&s(a)},O=function(a){return"contact"===f.mode?a.isContactProvider||a.isNativeProvider:!0},V=function(a){k(a).each(function(a){O(a)||
I.error("Provider '"+a.name+"' is not valid in "+f.mode+" mode and has been removed.")})},U=function(){q.addListener(document,"click",function(a){var b=a.target||a.srcElement,c=q.$class("janrainSocialRoot",m)[0];a=b!==c;var d=q.isAttachedToDom(b),b=!q.hasAncestor(b,c);a&&d&&b&&(S(),e.isOpen(!1))})};return{drawerButtonText:a.getText("common.share")(),i18n:a,formFactor:c,getProviderTitle:function(b){var c=h.getProviderShareCount(b.engageName);return c?(c=" "+a.getText("common.share",2)()+": "+c,b.friendlyName()+
c):b.friendlyName()},submitShare:function(){t.hide();M.emit("share_start",{});z.submit().then(x).fail(C).done()},shareScreenClass:F,toggleDrawer:function(){var a=e.isOpen;a()?(z.visible(!1),a(!1)):a(!0)},providerList:e,emailProviderList:b,shareScreen:z,shareCounter:h,closeShareForm:S,shareUsing:function(a){s(l(m).poll());E().name===a.name&&z.visible()?S():(t.hide(),E(a),z.open(a))},init:function(){U();var a=k.chain(J("providers")).map(y).without(void 0).tap(V).filter(O).value(),c=k(a).reject(k.property("isEmailProvider")),
d=k(a).filter(k.property("isEmailProvider"));k(d).isEmpty()||c.splice(k(a).indexOf(d[0]),0,y("email"));k.each(c,e.add);k.each(d,b.add);h.setProviders(e);n.redirectDataExists()&&(a=n.redirectData(),a=e.getProviderByName(a.providerConfig.name),t.hide(),E(a),z.open(a),z.completeRedirectShare().done(x));q.addListener(window,"resize",k.debounce(R,100))},cssClass:K,shareResponseMessage:t,selectedProvider:E,updateSelected:function(a){z.visible()||a.name===E().name||E(!1)},options:f,events:M}}},{"./Auth":8,
"./Gravity":12,"./InstanceEventEmitter":13,"./Provider":15,"./ProviderList":16,"./Share":18,"./ShareCounter":20,"./ShareResponseMessage":21,"./debug":24,"./helpers":28,"./i18n":29,"./settings":47,knockout:5,underscore:7}],18:[function(f,m,s){var g=f("knockout"),k=f("q"),q=f("underscore"),l=f("./helpers"),y=f("./Gravity"),d=f("./engage-api"),p=f("./Auth"),H=f("./ContactList"),A=f("./ShareContent"),u=f("./i18n"),v=f("./storage"),n=f("./native-providers");m.exports=function(a,f,m){a=a||{};var s=g.observable({}),
D=g.observable(a.mode||"broadcast"),J=y(m),M=a.orientation,c=D(),e=H(),b=A(a),t=g.observable("false"!==a.shortenUrl),K=g.observable("idle");m=g.computed(function(){if("idle"===K())return s().isEmailProvider?u.getText("email.send")():u.getText("common.share")();if("working"===K())return u.getText("common.sharing")()});var z={widget:!0,sharing_type:D()},h=g.observable(!1),E=g.observable(J.calculateLeftOffset(M)).extend({notify:"always"}),x=g.observable(J.calculateTopOffset(M)).extend({notify:"always"}),
C=g.observable(!1),S=g.computed(function(){if(s())return"email"===s().name?u.getText("common.selectEmailProvider")():u.getProviderText(s().name,"shareCallToAction")()}),F=function(a){a=l.defaults(a,{source_url:window.location.href});return d.get("/share/submit",{data:JSON.stringify(a),authenticity_token:v.get("authenticityToken")})},R=function(){if("contact"===D()&&0===e.selected().length)return k.reject({message:u.getText("errors.noContactSelected")()});var a=O();K("working");p.useRedirectAuth()&&
v.set("savedShareData",a);return p.Login("share",s().config,z,f).then(function(){return F(a)}).then(function(a){if(a.error||a.err)throw a;return a}).then(function(a){f.emit("share_done",{auth_token:v.get("authenticityToken")});K("idle");return a}).fail(function(a){f.emit("share_fail",{});K("idle");throw a;})},O=function(){var a=q.extend(b.toObject(),{contacts:e.selected(),mode:D()||"broadcast",provider:s().engageName,shortenUrl:t(),source_url:window.location.href});if(p.redirectDataExists()||!p.useRedirectAuth())a.message=
b.formattedMessage();s().isEmailProvider&&(a.mode="email");return a},V=function(){p.Login("share",s().config,z,f).then(function(){return e.fetchContacts(s())}).then(function(){h(!1);C(!0);E(J.calculateLeftOffset(M));x(J.calculateTopOffset(M))}).fail(l.noop)},U=g.observable(!1);C.subscribe(function(a){l.doLater(function(){a?"broadcast"===D()?U(!0):h()||e.contactSearchFocused(!0):(e.contactSearchFocused(!1),U(!1))})});return{provider:s,mode:D,contactList:e,shareContent:b,caption:S,open:function(e){s(e);
b.currentProvider(e);b.message(a.message||"");e.isEmailProvider?D("contact"):D(c);C(!1);h(!1);if(e.isNativeProvider)n.share(e.engageName,a),f.emit("provider_select",{});else if("contact"===D())if("email-mailto"===e.name){e=window.location;var d;d=O();d=l.urlWithParams("mailto:",{subject:d.title,body:d.message});e.href=d}else"email"===e.name?(h(!0),C(!0)):(V(),f.emit("provider_select",{}));else C(!0),f.emit("provider_select",{});E(J.calculateLeftOffset(M));x(J.calculateTopOffset(M))},submit:R,submitToEngage:F,
shareState:K,completeRedirectShare:function(){var a=v.getJson("savedShareData");b.setShareData(a);return R()},visible:C,shareButtonText:m,offsetLeft:E,offsetTop:x,shareMessageFocused:U,showEmailProviders:h}}},{"./Auth":8,"./ContactList":10,"./Gravity":12,"./ShareContent":19,"./engage-api":25,"./helpers":28,"./i18n":29,"./native-providers":34,"./storage":48,knockout:5,q:6,underscore:7}],19:[function(f,m,s){var g=f("knockout"),k=f("./helpers"),q=f("./settings");m.exports=function(f){f=f||{};var m=g.observable(f.description||
""),d=g.observable(f.image||""),p=g.observable(f.message||""),s=g.observable(f.media||""),A=g.observable(f.title||""),u=g.observable(f.subject||""),v=g.observable(f.url||"http://www.janrain.com/"),n=g.observable({}),a=function(){var a=G(),d=q.get(["social.providerFormats",n().name,"message"].join("."))||"{{ message }}";return k.format(d,a)};f=g.computed(function(){var d="";if("twitter"!==n().name){if(d=m(),120<d.length)return d.substring(0,120)+"..."}else d=a();return d});var I=function(){return!!n().hasMaximumCharacterCount},
P=g.computed(function(){return I()?n().remainingCharCount(a()):null}),G=function(){return{description:m(),image:d(),media:s(),message:p(),title:n().isEmailProvider&&u()||A(),url:v()}};return{currentProvider:n,description:m,formattedMessage:a,setShareData:function(a){m(a.description);d(a.image);p(a.message);A(a.title);v(a.url)},image:d,message:p,media:s,prettyDescription:f,remainingCharCount:P,showCharCount:I,subject:u,title:A,toObject:G,url:v}}},{"./helpers":28,"./settings":47,knockout:5}],20:[function(f,
m,s){var g=f("knockout"),k=f("underscore"),q=f("q"),l=f("./engage-api");m.exports=function(f,d){var p=g.observable({}),m=g.computed(function(){return k.reduce(p(),function(a,d){return a+d()},0)}).extend({notify:"always"}),s=function(a){var d="";isNaN(a)||!k.isNumber(a)?a=0:1E3>a?d="":1E5>a?(a=(a/1E3).toFixed(1),d="K"):1E6>a?(a=Math.floor(a/1E3),d="K"):(a=(a/1E6).toFixed(1),d="M");return a.toString().replace(/\.0$/,"")+d},u=g.computed(function(){return s(m())}),v=g.computed(function(){var a=k(["none",
"provider"]).contains(d("shareCountMode"));return m()<d("shareCountMin")||a}),n=function(){var a=k.keys(p());if("none"!==d("shareCountMode")){var g=k.map(a,function(a){var d="/api/v2/get_share_count";k(l.PUBLIC_SHARE_COUNTS).contains(a)&&(d="/api/v2/provider_share_count");return l.get(d,{url:f,provider:a})});q.all(g).spread(function(){var d=arguments;k.each(a,function(a,f){var g=d[f];p()[a](g.share_count||0)});p.valueHasMutated()}).done()}else k.each(a,function(a){p()[a](0)}),p.valueHasMutated()};
return{url:f,setProviders:function(a){p(k.chain(a.providers()).reject(k.property("isEmailProvider")).reduce(function(a,d){a[d.engageName]=g.observable(0);return a},{}).value());n()},hidden:v,totalCount:m,prettyTotalCount:u,providerShareCounts:p,getProviderShareCount:function(a){a=p()[a];var f="provider"===d("shareCountMode");return g.isObservable(a)&&f?s(a()):""},updateShareCount:n}}},{"./engage-api":25,knockout:5,q:6,underscore:7}],21:[function(f,m,s){var g=f("knockout"),k=f("./i18n");m.exports=
function(){var f=g.observable(null),l=g.observable(""),m=g.observable(!1),d=g.computed(function(){return m()?k.getProviderText(f(),"shareThankYou")():l()}),p=g.observable(!1),s=function(){p(!0)};return{text:d,visible:p,successful:m,hide:function(){p(!1)},show:s,success:function(d){f(d);m(!0);s()},fail:function(d){d=g.unwrap(d);m(!1);l(d);s()}}}},{"./i18n":29,knockout:5}],22:[function(f,m,s){m.exports=function(f){if("local"!==f&&"session"!==f)throw Error("Illegal storage type");f+="Storage";var k=
function(k){return window[f].getItem("janrain_"+k)},m=function(k){return null!==window[f].getItem("janrain_"+k)};return{set:function(k,m){k="janrain_"+k;"object"===typeof m&&(m=JSON.stringify(m));window[f].setItem(k,m)},get:k,has:m,remove:function(k){window[f].removeItem("janrain_"+k)},getJson:function(f){if(!m(f))return null;try{return JSON.parse(k(f))}catch(g){return null}}}}},{}],23:[function(f,m,s){m.exports={get:function(f){f="janrain_"+f;for(var k=document.cookie.split(/;\s?/),m=0,l=k.length;m<
l;m++){var s=k[m].split("=");if(2===s.length){var d=decodeURIComponent(s[0]),s=decodeURIComponent(s[1]);if(d===f)return s}}return null},set:function(f,k,m){m=m||{};var l=new Date("1/1/2038");f=[encodeURIComponent("janrain_"+f)+"="+encodeURIComponent(k),"expires="+(m.expires||l).toGMTString()];m.domain&&f.push("domain="+m.domain);document.cookie=f.join("; ")},remove:function(f){document.cookie=encodeURIComponent("janrain_"+f)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"}}},{}],24:[function(f,m,s){var g=
f("knockout").observable(!0),k=f("underscore"),q=function(f){return function(){if(window.console&&g()){var d=["[Janrain.Social]"].concat(k.toArray(arguments));try{console[f].apply(console,d)}catch(l){console[f]([].join.call(d," "))}}}};f=q("log");s=q("info");var l=q("warn"),q=q("error");m.exports={enabled:g,log:f,info:s,warn:l,error:q}},{knockout:5,underscore:7}],25:[function(f,m,s){var g=f("./jsonp"),k=f("./helpers"),q=f("./settings"),l={"/share/submit":[{terminal:!0,path:"janrain.engage.share.postContent"},
{terminal:!1,path:"janrain.engage.share.loadUserInfo"}],"/signin/get_login_info":[{terminal:!0,path:"janrain.engage.share.loginHandler"},{terminal:!0,path:"janrain.engage.share.cancelLogin"}],"/share/get_contacts":[{terminal:!0,path:"janrain.engage.share.loadUserContacts"},{terminal:!1,path:"janrain.engage.share.loadUserInfo"}]};m.exports={get:function(f,d){d=d||{};var p=l[f],m=k.urlWithParams(q.get("appUrl")+f,d);return g(m,p)},ERROR_CODES:{CANCELED_LOGIN:160,PROVIDER_NOT_CONFIGURED:201},PUBLIC_SHARE_COUNTS:["facebook",
"twitter","linkedin","pinterest"]}},{"./helpers":28,"./jsonp":31,"./settings":47}],26:[function(f,m,s){var g=f("./storage");m.exports=function(){return g.get("socialEnv")||"prod"}},{"./storage":48}],27:[function(f,m,s){f=f("./EventSystem");m.exports=f("provider_select share_start auth_fail auth_done share_done share_fail".split(" "))},{"./EventSystem":11}],28:[function(f,m,s){var g=f("underscore"),k=f("q"),q=f("./debug"),l={ENTER:13,DELETE:8,FORWARD_DELETE:46,UP:38,DOWN:40,LEFT:37,RIGHT:39,TAB:9,
ESC:27,SPACE:32},y=function(d){return d.replace(/(-)(.)/g,function(a,d,f){return f.toUpperCase()})},d=function(f,a){return f&&a?f===a?!0:d(f.parentNode,a):!1},p=function(f,a){return f!==a&&d(f,a)},H=function(d,a){var f={},k=g.union(g.keys(d),g.keys(a));g.each(k,function(k){g.isObject(d[k])&&!g.isArray(d[k])&&g.isObject(a[k])&&!g.isArray(a[k])?f[k]=H(d[k],a[k]):f[k]=g((k in a?a:d)[k]).isArray()?g((k in a?a:d)[k]).slice(0):(k in a?a:d)[k]});return f},A=function(d){if(!d)return!1;if(d.preventDefault)d.preventDefault();
else try{d.returnValue=!1}catch(a){}},u=function(d,a,f){return g.isObject(d)&&0!==a.length?1===a.length?a[0]in d?d[a[0]]:f:u(d[a[0]],a.slice(1),f):f},v=function(d,a){return g.defaults({},d,a)};m.exports={$class:function(d,a){a=a||document;try{return a.getElementsByClassName(d)}catch(f){return a.querySelectorAll("."+d)}},$id:function(d){return document.getElementById(d)},$tag:function(d){return document.getElementsByTagName(d)},NOT_IMPLEMENTED:function(d){return function(){q.error("not implemented: "+
d)}},addListener:function(d,a,f){if(!d)return!1;var g=function(a){a.keyCode===l.SPACE&&"function"===typeof f&&(f(a),A(a))};d.attachEvent?(d.attachEvent("on"+a,f),"click"===a&&d.attachEvent("onkeyup",g)):(d.addEventListener(a,f,!1),"click"===a&&d.addEventListener("keyup",g,!1))},capitalize:function(d){if("string"!==typeof d)throw Error("expected string, got "+d);return d.charAt(0).toUpperCase()+d.substring(1)},containsCaseInsensitive:function(d,a){d=d.toLowerCase();a=a.toLowerCase();return-1<d.indexOf(a)},
createIframe:function(d){if(!document.body||document.getElementById(d))return null;var a=document.createElement("iframe");a.name=d;a.id=d;a.src="about:blank";a.style.display="none";document.body.appendChild(a);return a},deepMergeObjects:H,defaults:v,doLater:function(d,a){setTimeout(d,1E3*(a||0))},extractShareSettings:function(d){var a={},f,k={providers:function(a){return a.split(/[,\s]+/)},shareCountMin:g.partial(parseInt,g,10)};g("share-count-min share-count-mode providers form-factor orientation config mode title url description image message media subject shorten-url".split(" ")).each(function(g){f=
d.getAttribute("data-janrain-"+g);g=y(g);null!==f&&(g in k&&(f=k[g](f)),a[g]=f)});return v(a,{url:document.location.href})},format:function(d,a){g.templateSettings={interpolate:/\{\{(.+?)\}\}/g};return g.template(d)(a)},getProperty:function(d,a,f){return u(d,a.split("."),f)},keyCodes:l,nMinutesFromNow:function(d){var a=new Date;a.setMinutes(a.getMinutes()+d);return a},noop:function(){},now:function(){return+new Date},camelToHarpoon:function(d){return d.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})},
isAttachedToDom:function(d){var a=document.documentElement;return d===a||p(d,a)},harpoonToCamel:y,preventDefault:A,removeListener:function(d,a,f){"function"===typeof d.detachEvent?d.detachEvent("on"+a,f):d.removeEventListener(a,f,!1)},setProperty:function(d,a,f){if(!a||!g.isObject(d))return d;a=a.split(".");for(var k=d,l,p=0,m=a.length-1;p<m;++p)l=k[a[p]],g.isObject(l)||(k[a[p]]={}),k=k[a[p]];k[a.pop()]=f;return d},urlWithParams:function(d,a){var f=g.filter(g.pairs(a),function(a){return"undefined"!==
typeof a[1]});if(0===f.length)return d;var f=g.map(f,function(a){var d=a[1];return encodeURIComponent(a[0])+"="+encodeURIComponent(d)}).join("&"),k=0<=d.indexOf("?")?"&":"?";return d+k+f},assert:function(d,a){if(!d)throw Error(a);},getOrElse:function(d,a,f){return a in d?d[a]:f(a)},hasAncestor:p,whenPageReady:function(){var d=k.defer(),a=document.readyState;"complete"===a||"loaded"===a||"interactive"===a?d.resolve():document.addEventListener?document.addEventListener("DOMContentLoaded",d.resolve,
!1):window.attachEvent("onload",d.resolve);return d.promise}}},{"./debug":24,q:6,underscore:7}],29:[function(f,m,s){var g=f("underscore"),k=f("knockout"),q=f("./helpers.js"),l=k.observable({}),y=k.computed(function(){return!!q.getProperty(l(),"meta.rtl",!1)});s=k.computed(function(){return y()?"rtl":"ltr"});var d=function(d){var f=l();d=q.deepMergeObjects(f,d);l(d)},p=function(){d(f("../assets/lang/en-US.json"))};p();var H=function(d,f){return k.computed(function(){f=g(f).isNumber()?f:1;var k=q.getProperty(l(),
d),n=l().pluralDefinition.plural;if(g.isArray(k)){var a;a=f;n="return "+n;a=Function("n",n)(a);a=g(a).isNumber()?a:a?1:0;return k[a]}return k})};m.exports={mergeTranslations:d,loadLanguageEnglish:p,rtl:y,direction:s,getText:H,getProviderText:function(d,f,g){d=H(d+"."+f,g);return d()?d:H("common."+f,g)},formatText:function(d,f,g){return q.format(H(d,f)(),g)}}},{"../assets/lang/en-US.json":1,"./helpers.js":28,knockout:5,underscore:7}],30:[function(f,m,s){m.exports=function(){f("q").stopUnhandledRejectionTracking();
var g=f("./render"),k=f("./events"),m=f("./i18n"),l=f("./load-language");window.janrain=window.janrain||{};window.janrain.settings=window.janrain.settings||{};window.janrain.social={loadLanguage:l,mergeTranslations:m.mergeTranslations,addWidgetTo:g,on:k.on,off:k.off}}},{"./events":27,"./i18n":29,"./load-language":32,"./render":45,q:6}],31:[function(f,m,s){var g=f("underscore"),k=f("q"),q=f("./helpers"),l=function(d){try{delete window[d]}catch(f){window[d]=void 0}},y=0;m.exports=function(d,f){var m=
k.defer(),s=[],u=[];g(f).isString()&&(f=[{terminal:!0,path:f}]);var v="janrain_jsonp_"+y;d=q.urlWithParams(d,{callback:v});y++;var n=g.once(function(){l(v);G.parentNode.removeChild(G);g.each(f,function(a,d){q.setProperty(window,a.path,s[d])})}),a=function(a){n();m.resolve(a)},I=function(a){return function(d){g(d).extend({callback:a});u.push(d)}},P=function(d){return function(f){g(f).extend({callback:d,callHistory:u});u.push(f);a(f)}};window[v]=a;g.each(f,function(a){var d=a.terminal?P:I;s.push(q.getProperty(window,
a.path));q.setProperty(window,a.path,d(a.path))});var G=document.createElement("script");G.src=d;var D=function(){n();m.reject(Error("Failed to load JSONP: "+d))};G.onerror=D;setTimeout(D,3E4);q.$tag("head")[0].appendChild(G);return m.promise}},{"./helpers":28,q:6,underscore:7}],32:[function(f,m,s){var g=f("./jsonp"),k=f("./env"),q={bg:"bg-BG",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR",en:"en-US",es:"es-LA",fi:"fi-FI",fr:"fr-FR",he:"he-IL",hr:"hr-HR",hu:"hu-HU",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",
lt:"lt-LT",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sv:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN",zh:"zh-CHS"};m.exports=function(f){2===f.length&&(f=q[f]||f);f={dev:"//pike-dev.janrain.com:1100/build/lang/",prod:"//cdn-social.janrain.com/social/lang/",qa:"//cdn-social.janrain.com/social-qa/lang/"}[k()]+f+".js";return g(f,"janrain.social.__loadLanguage__").then(window.janrain.social.mergeTranslations)}},{"./env":26,"./jsonp":31}],33:[function(f,
m,s){var g=f("underscore"),k=f("q");f("./janrain")();var q=f("./helpers"),l=f("./render"),y=f("./settings"),d=f("./debug"),p=f("./load-language"),H=function(){g.each(q.$class("janrainSocialPlaceholder"),function(d){l(d)});"function"===typeof window.janrainSocialOnLoad&&window.janrainSocialOnLoad()};q.whenPageReady().then(function(){var f=!0;y.get("appUrl")||(f=!1,d.error("janrain.settings.appUrl not set, aborting social widget initilization.\nPlease set janrain.settings.appUrl to your Janrian Application Domain\n(e.g. https://yourname.rpxnow.com)."));
if(f){var f=q.$tag("head")[0],g=document.createElement("link");g.rel="stylesheet";g.href=y.get("social.cssUrl");f.insertBefore(g,f.firstChild);f=y.get("language").replace("_","-");f="en-US"===f?k(null):p(f);f.then(H,H).done()}}).done()},{"./debug":24,"./helpers":28,"./janrain":30,"./load-language":32,"./render":45,"./settings":47,q:6,underscore:7}],34:[function(f,m,s){var g=f("q"),k=f("./Popup");s=f("./native/facebook.js");var q=f("./native/googleplus.js"),l=f("./native/linkedin.js"),y=f("./native/mixi.js"),
d=f("./native/sinaweibo.js"),p=f("./native/pinterest.js"),H=f("./native/tumblr.js"),A=f("./native/twitter.js"),u=f("./native/xing.js");f=f("./native/reddit.js");var v={facebook:s,googleplus:q,linkedin:l,mixi:y,sinaweibo:d,pinterest:p,tumblr:H,twitter:A,reddit:f,xing:u};m.exports={share:function(d,a){var f=v[d];return f?k.open(f.getPopupOptions(a)):g.reject(Error("Native provider '"+d+"' does not exist."))}}},{"./Popup":14,"./native/facebook.js":35,"./native/googleplus.js":36,"./native/linkedin.js":37,
"./native/mixi.js":38,"./native/pinterest.js":39,"./native/reddit.js":40,"./native/sinaweibo.js":41,"./native/tumblr.js":42,"./native/twitter.js":43,"./native/xing.js":44,q:6}],35:[function(f,m,s){var g=f("../helpers");m.exports={getPopupOptions:function(f){return{url:g.urlWithParams("http://www.facebook.com/sharer/sharer.php",{s:100,u:f.url,t:f.title}),width:600,height:600}}}},{"../helpers":28}],36:[function(f,m,s){var g=f("../helpers");m.exports={getPopupOptions:function(f){return{url:g.urlWithParams("https://plus.google.com/share",
{url:f.url}),width:600,height:600}}}},{"../helpers":28}],37:[function(f,m,s){var g=f("../helpers");m.exports={getPopupOptions:function(f){return{url:g.urlWithParams("http://www.linkedin.com/shareArticle",{mini:"true",url:f.url,title:f.title,summary:f.description}),width:520,height:570}}}},{"../helpers":28}],38:[function(f,m,s){var g=f("../helpers");m.exports={getPopupOptions:function(f){return{url:g.urlWithParams("http://mixi.jp/share.pl",{u:f.url}),width:600,height:468}}}},{"../helpers":28}],39:[function(f,
m,s){var g=f("../helpers");m.exports={getPopupOptions:function(f){return{url:g.urlWithParams("http://www.pinterest.com/pin/create/button",{url:f.url,media:f.image,description:f.message}),width:600,height:300}}}},{"../helpers":28}],40:[function(f,m,s){var g=f("../helpers");m.exports={getPopupOptions:function(f){return{url:g.urlWithParams("http://www.reddit.com/submit",{url:f.url,title:f.title}),width:900,height:700}}}},{"../helpers":28}],41:[function(f,m,s){var g=f("../helpers");m.exports={getPopupOptions:function(f){return{url:g.urlWithParams("http://service.weibo.com/share/share.php",
{url:f.url}),width:600,height:600}}}},{"../helpers":28}],42:[function(f,m,s){var g=f("../helpers");m.exports={getPopupOptions:function(f){return{url:g.urlWithParams("https://www.tumblr.com/share/link",{url:f.url,name:f.title,description:f.description}),width:600,heiht:600}}}},{"../helpers":28}],43:[function(f,m,s){var g=f("../helpers");m.exports={getPopupOptions:function(f){return{url:g.urlWithParams("https://twitter.com/intent/tweet",{url:f.url,counturl:f.url,text:f.message}),width:600,height:600}}}},
{"../helpers":28}],44:[function(f,m,s){var g=f("../helpers");m.exports={getPopupOptions:function(f){return{url:g.urlWithParams("https://www.xing.com/social_plugins/share",{url:f.url,wtmc:"XING",sc_p:"xing-share"}),width:600,height:468}}}},{"../helpers":28}],45:[function(f,m,s){var g=f("underscore"),k=f("knockout");f("fs");var q=f("./Root"),l=f("./helpers"),y=0;m.exports=function(d,f){y++;f=g.extend({id:""+y},f||l.extractShareSettings(d));d.id&&(f.id=d.id);var m=q(f,d);m.init();d.innerHTML='<div class="janrainSocialRoot" data-bind="css: cssClass, attr: { dir: i18n.direction }">\n    <div class="janrainSocialBar">\n        <div class="janrainShareCountContainer" data-bind="with: shareCounter"><span\n                class="janrainShareCount" data-bind="text: prettyTotalCount"></span\n        ></div><div\n            class="janrainDrawerButtonContainer"\n            data-bind="visible: formFactor === \'drawer\'"\n            ><button\n                type="button"\n                class="janrainDrawerButton"\n                data-bind="\n                    click: toggleDrawer,\n                    text: drawerButtonText"\n            ></button\n        ></div\n        ><div\n            class="janrainProviderList"\n            data-bind="foreach: providerList.providers"\n            ><button\n                type="button"\n                class="janrainProvider"\n                data-bind="\n                    click: $root.shareUsing,\n                    event: { focus: $root.updateSelected },\n                    attr: {\n                        \'class\': \'janrainProvider janrain_\' + buttonClass,\n                        title: $root.getProviderTitle($data)\n                    },\n                    css: {\n                        \'shareScreenVisible\': $root.shareScreen.visible,\n                        \'currentProviderShowing\': ( $data.name === $root.selectedProvider().name ) ||\n                                                  ( $data.name === \'email\' &&\n                                                    $root.selectedProvider().isEmailProvider )\n                    }\n                    "\n            >\n                <img data-bind="attr: {\n                    src: image,\n                    alt: friendlyName,\n                    title: $root.getProviderTitle($data)\n                }">\n            </button\n        ></div>\n    </div>\n    <div\n        class="janrainShareForm"\n        data-bind="\n            visible: shareScreen.visible,\n            with: shareScreen,\n            css: $root.shareScreenClass,\n            style: {\n                left: shareScreen.offsetLeft,\n                top: shareScreen.offsetTop\n            }"\n    >\n        <div class="janrainShareUserInputArea">\n            <span class="janrainShareCaption janrainShareTitle" data-bind="text: caption"></span>\n            <a href="#"\n                class="janrainShareCloseButton"\n                data-bind="\n                    click: $parent.closeShareForm(),\n                    attr: {\n                        title: $root.i18n.getText(\'common.close\'),\n                        \'aria-label\': $root.i18n.getText(\'common.close\')\n                    }"\n            ></a>\n            \x3c!-- ko if: showEmailProviders --\x3e\n            <div\n                class="janrainEmailProviderList"\n                data-bind="foreach: $root.emailProviderList.providers"\n                ><div\n                    class="janrainEmailProviderSelection"\n                    ><button\n                        type="button"\n                        class="janrainProvider"\n                        data-bind="\n                            attr: {\n                                title: $root.getProviderTitle($data)\n                            },\n                            click: $root.shareUsing,\n                            css: \'janrain_\' + buttonClass,\n                            hasFocus: $parent.visible() && $index() === 0"\n                    >\n                        <img data-bind="attr: {\n                            src: image,\n                            alt: friendlyName,\n                            title: $root.getProviderTitle($data)\n                        }">\n                    </button\n                    ><span\n                        class="janrainEmailProviderLabel"\n                        data-bind="text: friendlyName"></span\n                ></div\n            ></div>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko ifnot: showEmailProviders --\x3e\n            <div\n                class="janrainShareFromLine"\n                data-bind="\n                    visible: provider().isEmailProvider,\n                    css: { janrainEmailSharing: provider().isEmailProvider }\n                    "\n                ><span\n                    class="janrainShareCaption"\n                    data-bind="text: $root.i18n.getText(\'email.from\')" ></span\n                ><span class="janrainReturnAddress"\n                    data-bind="text: contactList.currentUserInfo().name" ></span\n                    ><span class="janrainReturnAddressEmail" data-bind="\n                    visible: contactList.currentUserInfo().email,\n                    text: contactList.currentUserInfo().email"></span\n            ></div>\n            <div\n                class="janrainContactList"\n                data-bind="\n                    with: contactList,\n                    visible: mode() === \'contact\' || mode() === \'email\'"\n            ><span\n                class="janrainShareCaption"\n                data-bind="text: $root.i18n.getText(\'email.to\')" ></span\n                ><input\n                    class="janrainShareContactSearch"\n                    data-bind="\n                        value: search,\n                        valueUpdate: \'keyup\',\n                        attr: {\n                            placeholder: $root.i18n.getText(\'common.placeholderContactSearch\'),\n                            title: $root.i18n.getText(\'common.placeholderContactSearch\')\n                        },\n                        hasFocus: contactSearchFocused,\n                        event: { keypress: keypressHandler, keydown: keydownHandler }\n                    "\n                >\n                <ul\n                    class="janrainShareContactSearchResults"\n                    data-bind="\n                        visible: searchResults().length > 0,\n                        foreach: searchResults"\n                >\n                    <li class="janrainShareContactSearchResult"\n                        ><a\n                            href="#"\n                            data-bind="\n                                click: $parent.selectContact,\n                                css: { janrainShareContactSelected: selected },\n                                event: { keypress: $parent.keypressHandler, keydown: $parent.keydownHandler },\n                                hasFocus: focused"\n                        ><span class="janrainShareAddContact"></span\n                        >\x3c!-- ko if: typeof userImage !== \'undefined\' --\x3e<img\n                                class="janrainShareContactImage"\n                                width="24"\n                                height="24"\n                                data-bind="\n                                    attr: {\n                                        src: userImage,\n                                        alt: userName },\n                                "\n                                />\x3c!-- /ko \n                        --\x3e\x3c!-- ko ifnot: typeof userImage !== \'undefined\'\n                            --\x3e<span class="janrainShareContactImage mysteryPerson"></span\n                                >\x3c!-- /ko \n                        --\x3e<span\n                                class="janrainContactUserName"\n                                data-bind="text: userName"></span\n                            ><em\n                                class="janrainContactUserId"\n                                data-bind="text: userId"></em\n                        ></a>\n                    </li>\n                </ul>\n                <div class="janrainShareSelectedContacts" data-bind="visible: selected().length > 0"\n                    ><a href="#" data-bind="\n                        text: selectedMessage,\n                        click: toggleSelectedDetails\n                    "></a>\n                    <div\n                        class="janrainShareSelectedContactsDetails"\n                        data-bind="visible: showSelectedDetails"\n                    ><ul\n                        class="janrainShareSelectedContactsList"\n                        data-bind="foreach: selected"\n                        ><li class="janrainShareSelectedContactEntry">\n                            <a href="#"\n                                class="janrainShareSelectedContactRemoveButton janrain-icon-delete"\n                                data-bind="\n                                    click: $parent.removeContact,\n                                    attr: {\n                                        title: $root.i18n.formatText(\n                                            \'common.removeFromShare\', 1,\n                                            { name: userName }\n                                        )\n                                    }\n                                "\n                            ></a>\n                            <img\n                                class="janrainShareSelectedContactImage"\n                                width="24"\n                                height="24"\n                                data-bind="attr: {\n                                        src: typeof userImage !== \'undefined\' && userImage || \'\',\n                                        alt: typeof userImage !== \'undefined\' && userName || \'\' },\n                                    css: { mysteryPerson: typeof userImage === \'undefined\' }\n                                    "\n                            >\n                            <span class="janrainShareSelectedContactName" data-bind="text: userName"></span>\n                        </li>\n                    </ul>\n                    </div>\n                </div>\n            </div>\n            \x3c!-- ko with: shareContent --\x3e\n            <div class="janrainComposeMessageHeader">\n                <span class="janrainShareCaption" data-bind="text: $root.i18n.getText(\'email.composeMessage\')"></span>\n            </div>\n            <textarea\n                class="janrainShareMessage"\n                data-bind="\n                value: message,\n                valueUpdate: \'afterkeydown\',\n                attr: {\n                    placeholder: $root.i18n.getText(\'common.placeholderComment\'),\n                    title: $root.i18n.getText(\'common.placeholderComment\')\n                },\n                hasFocus: $parent.shareMessageFocused"\n        ></textarea>\n            <div class="janrainShareInputCounter">\n                <span\n                    data-bind="\n                        visible: showCharCount,\n                        text: remainingCharCount,\n                        css: { janrainShareInputCounterExcess: remainingCharCount() < 1 }"\n                ></span>\n            </div>\n            \x3c!-- /ko --\x3e\n            <div class="janrainShareSubmitActions">\n                <button\n                    type="button"\n                    data-bind="\n                        attr: { \'class\': \'janrainShare background-\' + provider().name + \' border-\' + provider().name },\n                        click: $root.submitShare,\n                        css: { janrainLoading: shareState() === \'working\' }"\n                    ><span\n                        data-bind="\n                            text: shareButtonText\n                            "\n                        ></span\n                    ></button\n                >\n                \x3c!-- ko with: $root.shareResponseMessage --\x3e<span\n                    class="janrainShareResponseMessage"\n                    data-bind="\n                        text: text,\n                        css: {\n                            janrainVisible: visible(),\n                            janrainError: !successful()\n                        }"\n                    ></span>\n                \x3c!-- /ko --\x3e\n                <span\n                    data-bind="\n                        attr: { \'class\': \'janrainSharingProgressBar background-\' + provider().name },\n                        css: { janrainVisible: shareState() === \'working\' }\n                    "><span class="janrainProgressIndicator ellipsis-1"></span\n                    ><span class="janrainProgressIndicator ellipsis-2"></span\n                    ><span class="janrainProgressIndicator ellipsis-3"></span\n                    ><img class="janrainProviderDestination" data-bind="attr:{ src: provider().solidImage }" />\n                </span\n                >\n            </div>\n            \x3c!-- /ko --\x3e\n        </div>\n        \x3c!-- ko ifnot: showEmailProviders --\x3e\n        \x3c!-- ko with: shareContent --\x3e\n        <div class="janrainShareContent"\n             data-bind="css: { janrainImageSupported: currentProvider().supportsImages && $root.options.image }">\n            <div class="janrainShareImage">\n                <img data-bind="attr: { src: image }" alt="share image">\n            </div\n            ><div class="janrainShareTextContainer">\n                <span class="janrainShareTitle" data-bind="text: title"></span>\n                <span class="janrainShareDescription" data-bind="text: prettyDescription"></span>\n                <a class="janrainShareUrl" data-bind="\n                    attr: {\n                        \'class\': \'janrainShareUrl text-\' + currentProvider().name,\n                        href: url\n                    },\n                    text: url"></a>\n            </div>\n        </div>\n        \x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n';
k.cleanNode(d);k.applyBindings(m,d)}},{"./Root":17,"./helpers":28,fs:3,knockout:5,underscore:7}],46:[function(f,m,s){f=f("./StorageFactory");m.exports=f("session")},{"./StorageFactory":22}],47:[function(f,m,s){var g=f("./helpers");f=f("./env");var k={appUrl:"",forceReauth:!1,language:"en-US",mobileDevice:"false",mode:"broadcast",tokenAction:"event",widgetType:"share",tokenUrl:window.location.href,social:{formFactor:"bar",orientation:"horizontal",shareCountMin:-1,shareCountMode:"combined",providers:["facebook",
"twitter","linkedin"],providerFormats:{twitter:{message:"{{ message }} - {{ url }}"},mixi:{message:"{{ message }} - {{ url }}"},xing:{message:"{{ message }} - {{ url }}"},"email-mailto":{message:"{{ message }}\n\n{{ url }}"},"email-yahoo":{message:"{{ message }}\n\n{{ url }}"},"email-google":{message:"{{ message }}\n\n{{ url }}"},"email-googleplus":{message:"{{ message }}\n\n{{ url }}"}},cssUrl:{dev:"//pike-dev.janrain.com:1100/build/janrain-social.css",prod:"//cdn-social.janrain.com/social/janrain-social.css",
qa:"//cdn-social.janrain.com/social-qa/janrain-social.css"}[f()]}};m.exports={get:function(f,l){2>arguments.length&&(l=g.getProperty(k,f));window.janrain=window.janrain||{};return g.getProperty(window.janrain.settings||{},f,l)}}},{"./env":26,"./helpers":28}],48:[function(f,m,s){f=f("./StorageFactory");m.exports=f("local")},{"./StorageFactory":22}]},{},[33]);
