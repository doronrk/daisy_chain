/* SimilaritiesUDPTransistionAssets */
(function(a){a.execute(function(){a.when("A","twisterModule").execute("sims-bind-twister",function(b){var a=window.DetailPageFramework;a&&b.each(["session-similarities","purchase-similarities","buyxgety"],function(c){var d=["sims",c,"twister"].join(":");a.registerCallback("asin_select",c,function(){b.trigger(d,"asin_select")});a.registerCallback("after_redraw",c,function(){b.trigger(d,"after_redraw")})})})})})(function(){var a=window.AmazonUIPageJS||P,b=a.attributeErrors;return b?b("SimilaritiesUDPTransistionAssets"):
a}());
;/* BeautyRecommendationAssets */
(function(e){e.execute(function(){e.when("jQuery","cf").register("beauty-recommendations-cf",function(d){function c(a,b){for(var p="bRec"+(a?"Vert":"Horiz")+"ImgHolder",g,c,e=0;e<f;e++)g=p+e,g=d("#"+g),c=d("#bRecImg"+e),b?n(c,b[e],g):c.detach().appendTo(g)}function e(a){for(var a="bRec"+(a?"Vert":"Horiz")+"CheckHolder",b,c,g=0;g<f;g++)b=a+g,b=d("#"+b),c=d("#bRecCheckOuter"+g),c.detach().appendTo(b)}function i(a,b){var c,d;c=b.offset();d=a.offset();return{top:d.top-c.top,left:d.left-c.left}}function n(a,
c,d){a.css("left",c.left);a.css("top",c.top);a.css("position","absolute");a.detach().appendTo(b);setTimeout(function(){var c=i(d,b);a.animate({left:c.left,top:c.top},250,"swing")},1);setTimeout(function(){a.detach().appendTo(d);a.css("position","static")},400)}function m(){for(var a,c=[],e=0;e<f;e++)a=d("#bRecImg"+e),a=i(a,b),c.push(a);return c}var f,b,h,j,a,o,k,l;return{init:function(){f=d(".bRecVerticalContent").length;b=d("#beautyRecommendations");h=d("#bRecHorizontalView");j=d("#bRecVerticalView");
a=d("#bRecToggle");o=d("#useWithDot");k=!0;l=!1;if(f>1){j.hide();k=!1;h.show();l=!0;c(!1,null);e(!1);for(var i=0;i<f;i++)d("#bRecCheckbox"+i).prop("checked",!0);a.css("visibility","visible");a.click(function(a){d.get(d(this).data("foresterurl"));var b=m();l?(h.hide(),l=!1,j.fadeIn(400,function(){k=!0}),c(!0,b),e(!0)):k&&(j.hide(),k=!1,h.fadeIn(400,function(){l=!0}),c(!1,b),e(!1));a.preventDefault()});o.click(function(){a.click()})}}}});e.when("A","jQuery","ready").register("beauty-recommendations-ready",
function(d,c){function e(a){switch(a){case 0:return b.bRecCart1;case 1:return b.bRecCart2;case 2:return b.bRecCart3;case 3:return b.bRecCart4;default:return b.bRecCart1}}function i(a){switch(a){case 0:return b.bRecWish1;case 1:return b.bRecWish2;case 2:return b.bRecWish3;case 3:return b.bRecWish4;default:return b.bRecWish1}}function n(a){switch(a){case 0:return b.bRecPrice1;case 1:return b.bRecPrice2;case 2:return b.bRecPrice3;case 3:return b.bRecPrice4;default:return b.bRecPrice1}}function m(){for(var a=
0,b,d,f=0;f<h;f++)d=c("#bRecImg"+f),(b=c("#bRecCheckbox"+f).prop("checked"))?(a++,d.removeClass("bRecDisabled")):d.addClass("bRecDisabled");c("#bRecAddToCart").find("span.a-button-text").text(e(a));c("#bRecAddToList").find("span.a-button-text").text(i(a));c("#bRecPriceLabel").text(n(a));a="";for(b=0;b<h;b++)a+=c("#bRecCheckbox"+b).prop("checked")?"1":"0";a=parseInt(a,2);a=j[a];c("#bRecPrice").text(a)}var f,b,h,j;return{init:function(){var a=c("#bRecDataDiv").find("script").html();f=a?c.parseJSON(a):
d.state("beautyRecommendations");b=d.state("bRecDynamicStrings");if(f){h=f.numRecommendations;j=f.possibleSums;for(a=0;a<h;a++)c("#bRecCheckbox"+a).change(m);c("#bRecPricePara").removeClass("a-hidden");m()}}}})})})(function(){var e=window.AmazonUIPageJS||P,d=e.attributeErrors;return d?d("BeautyRecommendationAssets"):e}());
;/* CommonDetailPageScripts */
(function(b){b.execute(function(){b.when("A","jQuery").register("jumpLink",function(b,a){return{bind:function(b,e,g){try{var e=e||1E3,g=g||0,i=a(b);if(i.get(0)){var k=i.attr("href");k.charAt(0)==="#"&&a("body").delegate(b,"click",function(b){try{b.preventDefault(),a("html, body").animate({scrollTop:a(k).offset().top-g},e)}catch(j){window.ueLogError&&window.ueLogError(j,{logLevel:"FATAL",attribution:"jumpLink",message:"[JumpLink - Error in executing click handler]"})}})}}catch(l){window.ueLogError&&
window.ueLogError(l,{logLevel:"FATAL",attribution:"jumpLink",message:"[JumpLink - Error in binding click handler]"})}}}});b.when("jQuery","jumpLink").execute(function(b,a){var j=b("#miniATFUDP"),e=0;j.length>0&&(e=j.height()+9);window.isACRJumplLinkAnimated===1?a.bind("#acrCustomerWriteReviewLink, #acrCustomerReviewLink, #reviewLink, #reviewLinkShort, #reviewCreateLink",1200,e):window.isACRJumplLinkAnimated===2?a.bind("#acrCustomerWriteReviewLink, #acrCustomerReviewLink, #reviewLink, #reviewLinkShort, #reviewCreateLink",
1600,e):j.length>0&&(e=j.height()+9,a.bind("#acrCustomerWriteReviewLink, #acrCustomerReviewLink, #reviewLink, #reviewLinkShort, #reviewCreateLink",300,e))});b.when("A","jQuery","ImageBlockATF","jumpLink").register("miniATFUtils",function(g,a,j,e){function s(d){var a=Number.MAX_VALUE;if(d&&d.length>0&&(d=d.offset()))a=d.top;return a}function i(a,b){var x=s(a),c=s(b);return Math.min(x,c)}function k(d){p&&!d||q||(d=(new Date).getTime()-t,d=d<50?50-d:10,p=1,p=0,t=(new Date).getTime(),setTimeout(function(){var d=
m.scrollTop(),b=a("#miniATFUDP");if(b.length>0){var c=u;if(c==="T1"){c=a("#sims_fbt");if(c.length<=0||c.height()<=0)c=a("#buyxgety_feature_div");var f=c,c=Number.MAX_VALUE;if(f&&f.length>0){var h=f.height(),f=f.offset();h&&f&&(c=f.top+h)}c=Math.min(c,y)}else if(c==="T2"){f=a("#product-details-grid_feature_div");if(f.length<=0||f.height()<=0)f=a("#prodDetails");var e=a("#detail-bullets"),c=a("#technical-data");if(c.length<=0||c.height()<=0)c=a("#technicalSpecifications_feature_div");h=a("#product-description_feature_div");
if(h.length<=0||h.height()<=0)h=a("#productDescription");if(h.length<=0||h.height()<=0)h=a("#product-description-iframe");f=i(f,e);c=i(h,c);c=Math.min(f,c,z)-100}else c=void 0;d>c?!o&&b.is(":hidden")&&(b.removeClass("a-hidden"),b.slideDown(A)):(b.slideUp(B),o=0)}},d))}var l=a("#miniATFUDP");if(!(l.length<=0)){var m,o=0,t=0,p=0,n={},q=0,B=200,A=200,y=1200,z=1700,r=0,u="T1";n.setMiniATFShowHeight=function(a){u=a};n.setMiniATFScrollUpHeight=function(d){r=0;d==="T1"&&(d=a("#productTitle"),d.length>0&&
(d=d.offset())&&(r=d.top-20))};a("body").delegate(".go-to-top","click",function(){a("body, html").animate({scrollTop:r},300);o=1;return!1});m=a(window);m.scroll(function(){k(0)});m.resize(function(){k(1)});var v=0;l.length>0&&(v=l.height()+9,e.bind("#seeMoreDetailsLink",300,v));b.when("ImageBlockBTF","imageBlockUtils").execute(function(d){var b=function(b){var c=b.getState().selected_variations;if(c){var e="",f=b.getState().variation_display_labels;a.each(d.visualDimensions,function(a,b){var w=d.gIsNewTwister===
1?b:f[b];c[w]&&(e+=" "+c[w])});return e&&e.substring(1)}},e=d.defaultColor,c=e,f=d.landingAsinColor,h,i=a("#miniATF_image");i.length>0&&(h=i.attr("src"));n.updateMiniATFDiv=function(){q=0;var b=a("#miniATF_image");b.length>0&&h&&b.attr("src",h)};g.on("image-block-twister-swatch-click",function(a,g,i,k){q=1;a=(a=k?k:b(g))&&a!==""?a:e;a===f&&(a=e);a!==c&&(h=(g=a!==e&&a!==f?d:j)&&g.colorImages&&g.colorImages[a]&&g.colorImages[a].length>0&&g.colorImages[a][0]?g.colorImages[a][0].large:null,c=a)})});return n}})})})(function(){var b=
window.AmazonUIPageJS||P,g=b.attributeErrors;return g?g("CommonDetailPageScripts"):b}());
;/* ProductBundleUIAssets */
(function(f){f.execute(function(){f.when("A","jQuery","a-carousel-framework","a-carousel-ajax-standard","ready").execute("bundle-discoverability-widget",function(c,d,j,k){function l(a,h,e){e._=c.now();a.triggerEvent("beforeAjax",{url:h,params:e});c.get(h,{success:function(b){(!b||!b.length)&&f.error("Carousel requires a set_size and none was returned by the fallback AJAX request","a-carousel-ajax-standard","sendRequest");var c=b[0].setSize?b[0].setSize:b.length;a.setAttr(m,c);for(var g=a.getAttr(i),
d;(d=b.pop())!==void 0&&e.offset+b.length<c;)g[e.offset+b.length]=d;if(g.length===c)for(b=c;b<n;++b)g[b]||(g[b]="&nbsp;");e.needSetSize&&a.init();a.setAttr(i,g);a.setAttr(o,!1);a.getAttr(p)>=g.length&&a.strategies.ajax.wantCurrentPage(a);a.triggerEvent("ajaxSuccess",{url:h,params:e})},params:e})}var i="fetchedItems",p="pageSize",m="set_size",o="ajaxLock",n=15,d=c.extend({},k);d.getItems=function(a,d,e){var b=a.getAttr("ajax");a.setAttr("requestTimer",c.delay(l,b.fetch_delay,a,d,e))};d.afterInit=function(a){a.strategies.ajax.wantCurrentPage(a);
a.onChange("pageNumber",function(d,e){var b=a.getAttr("ajax");d>e?(a.strategies.ajax.wantNextPage(a),c.get(b.nextPageReftagUrl,{})):(a.strategies.ajax.wantPrevPage(a),c.get(b.prevPageReftagUrl,{}))})};j.registerStrategy("ajax","bundle-discoverability",d)})})})(function(){var f=window.AmazonUIPageJS||P,c=f.attributeErrors;return c?c("ProductBundleUIAssets"):f}());
;/* RegistryDPAssets */
(function(n){n.execute(function(){n.when("A","a-popover","cf").register("add-to-wish-list",function(c,h){var n,B,C;function v(){d("#wishListDropDown").removeClass("a-button-selected");d("#wishListMainButton").removeClass("a-button-selected")}function r(a){c.state("atwl",d.extend(c.state("atwl")||{},a))}function w(){return(c.state("atwl")||{}).dropDownHtml}function Q(){r({dropDownHtml:""})}function D(){var a=d("#atwl-dd-ul").parent();if(a&&a.get(0)){var b=a.get(0).scrollHeight,f=a.height(),a=2*parseInt(a.css("padding-top"),
10);return b>f+a}return!1}function E(){return parseInt(d.browser.version,10)<9&&document.body&&document.body.parentElement?!(!document.body.parentElement.scrollLeft&&!document.body.parentElement.scrollTop):!1}function F(a){a.find(".a-button-close").hide();a.find(".a-popover-content").css({"margin-right":"0px"});a.css({padding:"0"});a.find(".a-popover-inner").css({padding:"0"});setTimeout(function(){a.removeClass("a-arrow-bottom");d("#atwl-rich-content").css({"margin-bottom":"0px",width:"auto"});if(d.browser.msie){var b=
c.state("atwl")||{},f=d("#"+b.wishlistButtonSubmitId),b=f.offset(),k=f.height(),f=b.left,b=b.top+k;E()&&(f+=document.body.parentElement.scrollLeft,b+=document.body.parentElement.scrollTop);D()&&(f-=17);a.css({left:f+"px",top:b+"px"})}},50)}function p(){if(s){var a=h.get(s);a&&a.hide()}}function x(a){d("#"+a).children().first().width(n);p();if(h){var b=h.get(s),f=c.state("atwl")||{},b=b?h.get(s):h.create(d("#add-to-wishlist-button-group"),{content:d("#"+a).html(),name:"atwl",skin:function(a){return a},
activate:"onmouseclick",width:n,position:f.dropDownPosition||"triggerBottom"});b.update({width:n,content:d("#"+a).html()});s=b.id;b.show().updatePosition();F(b.$popover)}}function y(){v();G++;p();x("atwl-dd-error-holder")}function R(){p();var a=c.state("atwl")||{};return G>=a.maxAjaxFailureCount}function H(){var a=c.state("atwl")||{};return h.create(d("#add-to-wishlist-button-group"),{content:w(),name:"atwl",skin:function(a){return a},activate:"onmouseclick",position:a.dropDownPosition||"triggerBottom"})}
function S(a){var b;b=E()?50:0;setTimeout(function(){var b=d("#atwl-popover-inner"),c=b.width();D()?c+=B:d(".atwl-dd-list-name").each(function(){var a=d(this);a.width(a.width()+C)});var e=a.find("ul li a.a-active").first();e.css("margin-left","1px");e.parent().focus();b.width(c)},b)}function T(a){a.update({content:w(),width:"auto"});a.show();F(a.$popover);S(a.$popover)}function I(){var a=h.get("atwl");if(a)if(a.isActive()){a.hide();return}else h.remove(a);else a=H(),h.remove(a);a=H();T(a);c.capabilities.touch&&
setTimeout(function(){var a=d("#wishlistButtonStack"),f=a.clone(),c=a.parent();a.remove();c.append(f)},300)}function t(){var a=h.get("atwl");a&&a.isActive()&&a.hide()}function U(a){v();p();var b;try{b=c.parseJSON(a)}catch(f){y();return}typeof b.html!=="undefined"&&b.css!=="undefined"?(r({dropDownHtml:b.html}),a=b.css,d("body").append(a),I()):y()}function V(a){if(a&&a.promoEnabled){var b=a.html;if(b){var f=h.create(z.parent(),{name:"kbpPromoPopover",content:b,position:"triggerBottom",width:a.width});
f.show().lock();c.delay(function(){var a=(c.state("atwl")||{}).kbpPromo||{};a.mouseOver?a.countDown=!0:(f.unlock().hide(),h.remove(f));c.state("atwl",{kbpPromo:a})},1E4)}}}typeof c.state.parse!=="undefined"&&c.state.parse();var l=c.state("popoverState")||{};if(l&&!l.atwlJSIncluded){window.setRegistryId=function(a){var b=d("#addToCart");b.find("[name='sourceCustomerOrgListID'],[name='colid'],[name='wlPopCommand']").attr("value",a);b.find("[name='submit.add-to-registry.wishlist'],[name='submit.add-to-wishlist']").eq(0).click();
return!1};var u=[];if(l.showWishListDropDown||l.showBabyRegDropdown||l.isAddToWishListDropDownAuiEnabled||l.showPopover){var d=c.$;if(l.showWishListDropDown||l.showBabyRegDropdown){var q,J=function(){var a=function(a){if(!a.data("wired")){a.data("wired",!0);a[0].name="";if(a.css("cursor")!=="not-allowed"){var b=a.attr("data-type"),c=l.wishlistPopoverWidth;a.amazonPopoverTrigger({ajaxSlideDuration:0,align:"left",cacheable:!0,closeEventInclude:"CLICK_OUTSIDE",destination:"/gp/registry/reglist-popover.html?sprited=0&type="+
b,group:"addToWishlist",loadingContent:"<div style='padding: 4px 28px;'><img src='"+window.AmazonPopoverImages.loadingBar+"'/></div>",location:"bottom",locationElement:"#"+a[0].id,locationOffset:[-33,-5],showOnHover:!1,skin:"<div id='wishlist-dropdown-content'><div class='ap_content'></div></div>",width:c,onFilled:function(a){d(document).click();a.width(c);window.wlPop&&setTimeout(function(){window.wlPop.onFill(a);a.width(c)},0)}})}q&&(clearInterval(q),q=void 0)}},b="#"+l.babyRegistryId;if(!l.isAddToWishListDropDownAuiEnabled){var f=
c.state("atwl")||{};b+=", #"+f.wishlistButtonId}d(b).each(function(){a(d(this))})};J();var o=function(){q&&clearInterval(q);q=setInterval(J,200)};d("#twister").change(o);c.declarative("swatchthumb-action","click",o)}if(l.isAddToWishListDropDownAuiEnabled){var s,G=0,o=c.state("atwl")||{},K=o.wireDeclaratives,L=d("#"+o.wishlistButtonId);L.addClass("a-declarative");L.attr("data-action","atwl-splitbutton-arrow");var z=d("#"+o.wishlistButtonSubmitId);z.addClass("a-declarative");z.attr("data-action","atwl-splitbutton-main");
d("#wishListMainButton").addClass("a-declarative").attr("data-action","add-wishlist-declarative");n=230;B=10;C=10;r({resetDropDownHtml:Q});K||(c.declarative("atwl-splitbutton-arrow","click",function(a){a.$event.preventDefault();setTimeout(function(){v()},0);if(a.$target.css("cursor")==="not-allowed")return!1;if(R())return p(),p(),x("atwl-dd-unavail-holder"),!1;var a=w(),b=c.state("atwl")||{};!a||!a.length?(x("atwl-dd-spinner-holder"),a={url:"/gp/registry/atwl/popover.html?"+d.param({sortMethod:b.sortMethod||
0,type:"wishlist",useAll:b.showAllTypes||0}),cache:!1,success:U,error:y},d.ajax(a)):I();return!1}),c.declarative("atwl-dd","click",function(a){a.$event.preventDefault();var b=a.data,a=b.id,b=b.type;typeof b==="undefined"&&(b="wishlist");var c="pop_"+a+"_"+b,k=d("#addToCart,#addToWL");k.find("[name='sourceCustomerOrgListID'],[name='colid'],[name='wlPopCommand']").attr("value",c);k.find("[name='registryID']").attr("value",a);k.find("[name='registryType']").attr("value",b);r({inSubmit:!0});k.find("[name='submit.add-to-registry.wishlist'],[name='submit.add-to-wishlist']").eq(0).click();
t();return!1}),c.declarative("atwl-kbp-landing","click",function(a){var b=a.data,a=d("#addToCart").find("#ASIN").val(),b=b.url;b+="&asin="+a;window.open(b);return!1}));if((o=c.state("atwl")||{})&&o.sortMethod==="kbp")c.state("atwl",{kbpPromo:{mouseOver:!1,countDown:!1}}),c.ajax("/gp/toys/birthday/atwl-dpx.html",{method:"get",cache:!1,params:{isAUI:1},success:V,error:function(){}}),K||(c.declarative("atwl-kbp-promo-mouseover","mouseleave",function(){var a=(c.state("atwl")||{}).kbpPromo;a.mouseOver=
!1;if(a.countDown){var b=h.get("kbpPromoPopover");b&&(b.unlock().hide(),h.remove(b))}c.state("atwl",{kbpPromo:a})}),c.declarative("atwl-kbp-promo-mouseover","mouseenter",function(){var a=(c.state("atwl")||{}).kbpPromo;a.mouseOver=!0;c.state("atwl",{kbpPromo:a})}),c.on("a:popover:hide:kbpPromoPopover",function(){var a=h.get("kbpPromoPopover");a.unlock().hide();h.remove(a)}));r({wireDeclaratives:!0})}if(l.showPopover){var M=function(a,b){var d=document.getElementById("addToCart");if(typeof d==="undefined"||
d===null)d=document.getElementById("addToWL");var k=[];if(typeof d!=="undefined"&&d!==null){var k=[],e=!1,i=d.elements;i||(i=d.querySelectorAll("input"),e=!0);for(var m=0;m<i.length;m++){var g;if(!(g=e)){g=i[m];var h=/^(?:checkbox|radio)$/i,l=/^(?:submit|button|image|reset|file)$/i,n=/^(?:input|select|textarea|keygen)/i;if(g){var o=g.type;g=g.name&&!g.disabled&&n.test(g.nodeName)&&!l.test(o)&&(g.checked||!h.test(o))}else g=!1}g&&k.push(i[m])}}e={};i=c.state("wishlistDPState")||{};if(typeof i.asin!==
"undefined"&&i.asin!==null)e.asin=i.asin;for(m=0;m<k.length;m++)if(k[m].type!=="submit")e[k[m].name]=k[m].value;e.requestedQty=e.quantity=d!==null&&typeof d.quantity!=="undefined"?d.quantity.value:1;e.sid=typeof e["session-id"]!=="undefined"?e["session-id"]:i.sid;e.cache=!1;e.url=i[a+"Url"];e.action=a;e.type=e.registryType||"wishlist";if(a==="add")e.type=e.registryType||b,e.caller="aui",e.streaming=i.streaming,e.sourceVendorId=typeof i.vendorId!=="undefined"?i.vendorId:"website.wishlist.detail.add";
else if(a==="create")e.create_sid=e.sid,e.create_type=e.registryType||b,e.create_nextAction="add",e.create_includeEmptyList=1,e.create_isFirst=i.isFirstCreate?1:0,e.caller="aui",e.create_sourceVendorId=typeof i.vendorId!=="undefined"?i.vendorId:"website.wishlist.detail.add";return e},A=function(a){var b=a.attr("name"),a=a.parents("form"),b=d('<input type="hidden" />').attr("name",b).val("1");a.append(d(b));a.submit()},N=function(){var a=d("#add-wishlist-declarative").closest(".a-button").find("input");
A(a)};c.capabilities.touch||d("#add-to-wishlist-button-submit").unbind("click").bind("click",function(a){a.preventDefault();if(d(this).css("cursor")==="not-allowed")return!1;var b="",b=c.state("wishlistDPState")||{},f=d("[name='wlPopCommand']").val(),a=window.currentType;if(f&&f!==""){f=f.split("_");a=f[2];if(a!=="wishlist"&&a!=="giftlist"&&a!=="supplylist"||d("html").hasClass("a-lt-ie9")){N();return}b=f[1]==="new"?"create":f[1]==="default"&&b.isFirstCreate?"create":"add"}else if(a="wishlist",b=b.isFirstCreate?
"create":"add",b==="add"&&d("html").hasClass("a-lt-ie9")){N();return}c.state("wishlistDPState",{action:b,type:a});window.currentType=a;d("#add-wishlist-declarative").trigger("click")});var O=function(){for(var a=["wlPopCommand","sourceCustomerOrgListID"],b=0;b<a.length;b++){var c=d('[name^="'+a[b]+'"]');c&&c.length&&c.val("")}};(c.state("wishlistDPState")||{}).eventsBound||(c.on("a:popover:show:addCreateToWishlist",function(a){var b=a.popover,a=b.$popover,f=c.state("wishlistDPState")||{},k=f.action;
a.addClass("pop-huc-"+k);var e=b.$trigger.closest(".a-button").find("input"),a=f.type;e.closest(".a-button-selected").removeClass("a-button-selected");var a=M(k,a),f=a.url,i=a.streaming,m="ajax_"+i,g=new Date;window.ue&&window.uet("tc",m);var h=function(){b.hide();A(e)},l=function(){b.$popover.find("#popover-spinner").addClass("a-hidden");O()},n=function(){window.ue&&(window.uet("be",m),window.uex("ld",m))},o=function(a,b,c){window.ue&&(window.ues("id",m,a),window.ues("t0",m,b),window.ues("ctb",m,
c))};if(k==="create"||!i)c.ajax(f,{method:"post",params:a,success:function(a){a&&a.html?(o(a.requestId,g,"1"),a.status&&a.status==="no-asins"?h():(l(),k==="add"?b.$popover.find("#WLHUC_result").html(a.html).removeClass("a-hidden"):(b.$popover.find("#WLNEW_main").html(a.html).removeClass("a-hidden"),(a=c.state("atwl")||{})&&a.resetDropDownHtml&&a.resetDropDownHtml()),b.updatePosition()),n()):(k==="create"&&A(e),b.hide())},error:h});else{var j=new XMLHttpRequest;j.open("GET",a.url+"&"+c.$.param(a),
!0);j.send(null);var p=0;j.ontimeout=h;j.onerror=h;j.onreadystatechange=function(){try{if(j.readyState>2&&typeof j.status!=="unknown"&&j.status===200&&(typeof j.response!=="undefined"||typeof j.responseText!=="unknown"&&typeof j.responseText!=="undefined")){var a=[];typeof j.response!=="undefined"&&j.response!==null?a=j.response.split(",,,"):typeof j.responseText!=="unknown"&&typeof j.responseText!=="undefined"&&j.responseText!==null&&(a=j.responseText.split(",,,"));for(var e=p;e<a.length;e++){var f=
a[e],g;try{g=c.parseJSON(f)}catch(k){p=e;break}e===0&&g&&g.name==="skeleton"?g&&g.html&&(o(g.requestId,new Date,"1"),g.status&&g.status==="no-asins"?h():(l(),b.$popover.find("#WLHUC_result").html(g.html).removeClass("a-hidden"))):g&&g.name&&g.html&&g.name==="pcomp"?d("#wishListMainButton").hasClass("a-hidden")||(d("#wishListMainButton,#add-to-wishlist-button-group").addClass("a-hidden"),t(),d("#wishlistButtonStack").append(g.html)):g&&g.name&&g.html&&g.name!=="js"?(b.$popover.find("#"+g.name).html(g.html),
e===1&&window.ue&&window.uet("cf",m)):g&&g.html&&b.$popover.find("#WLHUC_result").append(g.html);b.updatePosition()}j.readyState===4&&n()}else typeof j.status!=="unknown"&&j.status!==200&&h()}catch(i){h()}}}}),c.on("a:popover:beforeShow:addCreateToWishlist",function(a){var a=a.popover,b=c.state("wishlistDPState")||{};a.$popover.find("#popover-spinner").css({margin:"10% 40%"});a.$popover.find("#popover-spinner").removeClass("a-hidden");a.$popover.find(".wlAddCreatePop").html("").addClass("a-hidden");
var d=b.action;a.update({width:b[d+"Width"],header:b[d+"Header"],height:b[d+"Height"]});a.updatePosition()}),c.on("a:popover:hide:addCreateToWishlist",function(){d(".a-modal-scroller").css({visibility:"hidden"});O()}),c.state("wishlistDPState",{eventsBound:!0}),c.declarative("add-wishlist-declarative",["click"],function(){var a=c.state("wishlistDPState")||{},b=M(a.action,a.type),f=function(){d("#wishListMainButton,#add-to-wishlist-button-group").addClass("a-hidden");t();d("#atwl-error-holder").removeClass("a-hidden")};
d("#atwl-dd-no-title-holder").hasClass("a-hidden")||d("#atwl-dd-no-title-holder").addClass("a-hidden");var h=function(a){try{if(typeof a!=="undefined"){var b="";if(typeof a.pcompHtml!=="undefined"&&a.pcompHtml.trim()!=="")b=a.pcompHtml;else{f();return}d("#wishListMainButton").hasClass("a-hidden")||(d("#wishListMainButton,#add-to-wishlist-button-group").addClass("a-hidden"),t(),d("#atwl-output-holder").empty(),d("#atwl-output-holder").append(b),d("#atwl-output-holder").removeClass("a-hidden"))}else f();
for(b=0;b<u.length;b++)if(typeof u[b]==="function")u[b](a)}catch(c){f()}},e=function(a){var b=document.createElement("input");b.type="hidden";b.id=a;b.name=a;typeof d("#addItemForm")!=="undefined"&&d("#addItemForm").append(b);return b};if((typeof b.asin==="undefined"||b.asin.length===0)&&(typeof b.name==="undefined"||b.name.length===0))d("#atwl-dd-no-title-holder").removeClass("a-hidden");else if(a.custRecognized==="false"){if(a.asin===null){var a=e("name.0"),b=e("imageUrl.0"),h=e("productUrl.0"),
i=e("priceInput"),e=e("quantity.0");a.value=document.getElementById("name").value;b.value=document.getElementById("imageUrl").value;h.value=document.getElementById("productUrl").value;i.value=document.getElementById("price").value;e.value=1}d("#addItemForm").submit()}else c.ajax(b.url,{method:"get",dataType:"json",cache:!1,params:b,success:h,error:f})}))}}return{setPostAddSuccess:function(a){u.push(a)}}}})})})(function(){var n=window.AmazonUIPageJS||P,c=n.attributeErrors;return c?c("RegistryDPAssets"):
n}());
;/* SoftlinesRecommendationsAssets */
(function(h){h.execute(function(){h.when("A","jQuery","a-carousel-framework","a-carousel-ajax-standard","complete-the-look-carousel-data","looks-data-cache","softlines-utils","csm-metrics-logger","ob-link-generator","lookFeedback","ready").execute("complete-the-look-ajax",function(a,b,e,d,n,f,k,l,i,j){a=a.extend({},d);a.getItems=function(a,b,g){g.asin=f.getAsin();var c=f.getInjectedViewModel();if(k.isStringNotEmpty(c))g.injectViewModel=c;d.getItems(a,b,g)};a.init=function(a){j.updateFeedback(1);var b=
n.getProducts();a.setAttr("ajax",{url:"/gp/product/ajax-handlers/complete-the-look-carousel.html",id_list:b});return d.init(a)};a.afterInit=function(a){d.afterInit(a);var e=f.getLooks(),g=0;if(b.isArray(e))g=e.length;l.addCount("ctl-carousel:shown",1);a.onChange("pageNumber",function(c,a){var d=":back";c>a&&(d=":next");c===g&&a===1&&(d=":back");a===g&&c===1&&(d=":next");j.updateFeedback(c);var f=b("#outfitBuilder");if(f.length>0){var e=i.getOutfitBuilderUrlForPageNumber(c);k.isStringNotEmpty(e)&&
f.attr("href",e)}l.addCount("ctl-carousel:page:"+c+d,1)})};e.registerStrategy("ajax","complete-the-look",a)});h.when("A","jQuery","a-carousel-framework","complete-the-look-carousel-data","csm-metrics-logger","ready").execute("complete-the-look-display",function(a,b,e,d,n){function f(c){function a(c){c.dom.$viewport.css("height","")}c.onChange(h,function(){c.dom.$carousel.children("li").css("visibility","")});c.onChange(k,function(d,b){d>b&&a(c)});c.onChange("loading",function(d){d||a(c)});c.onChange(l,
function(){a(c)});c.onChange(m,function(a){if(!a){var d=c.getAttr(l)-1,g=d+c.getAttr(k);c.dom.$carousel.children("li").each(function(c,a){var f=c>=d&&c<g;b(a).css("visibility",f?"":"hidden").attr("aria-hidden",f?"false":"true")})}});c.onChange(i+" "+j,function(){this.repaint(c)});c.onChange(j,function(){this.repaint(c)})}var k="pageSize",l="firstVisibleItem",i="single_page_align",j="minimum_gutter_width",h="pageNumber",m="animating",g=b("#recommendations");e.registerStrategy("display","complete-the-look",
{repaint:function(c){c.getDimensions();var a=g.width()*0.82,d=Math.round(a*0.225),b=Math.round(a*0.0125);c.setAttr("currentGutter",0);c.setAttr(k,4);var f=c.dom.$carousel,e=f.children("li"),a=e.length,i=c.getAttr(l)-1,j=i+4,n=d+"px",h="0 "+b+"px";e.each(function(c,a){var d=c>=i&&c<j;a.style.visibility=d?"":"hidden";a.style.width=n;a.style.margin=h;a.setAttribute("aria-hidden",d?"false":"true")});b=e.first().outerWidth(!0);e=a*b;f.removeClass("a-text-right a-text-center");f.css("width",e+"px");f={carousel:{width:e,
outerWidth:f.outerWidth()},items:[]};for(e=0;e<a;e++)f.items.push({width:d,outerWidth:b});c.updateDimensionsCache(f);c.gotoIndex(c.getAttr(l),{animationDuration:0});c.triggerEvent("repaint")},resize:function(c,a){a.viewport&&a.viewport.width!==void 0&&(this.repaint(c),n.addCount("ctl-carousel:resized",1))},init:function(a){var b=d.getProducts();b.length>0&&a.setAttr("set_size",b.length);a.setAttr(j,0);a.setAttr("first_item_flush_left",!0);this.repaint(a);b=a.getDimensions();a.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-viewport").css("height",
Math.max(b.viewport.height,b.items[0]?b.items[0].height:0)+"px");b=a.getAttr(l);b>1&&(a.setAttr(l,b),b=Math.ceil(b/a.getAttr(k)),a.gotoPage(b));f(a)}})});h.when("jQuery").register("softlines-utils",function(a){function b(d){return a.type(d)!=="undefined"&&a.type(d)!=="null"}function e(d){return b(d)&&a.type(d)==="string"}return{isNotNull:b,isString:e,isStringNotEmpty:function(a){return e(a)&&a.length>0}}});h.register("recommendations-carousel-data",function(){return{getProducts:function(){}}});h.when("A",
"jQuery","recommendations-carousel-data","softlines-utils","looks-data-cache","atf").register("complete-the-look-carousel-data",function(a,b,e,d,n){a=a.extend({},e);a.getProducts=function(){var a=[],e=n.getLooks(),l,i,j=e.length;for(l=0;l<j;l++)if(i=e[l],b.isPlainObject(i)&&b.isArray(i.asins)){var h=i.asins,m=h.length;for(i=0;i<m;i++){var g=h[i];b.isPlainObject(g)&&d.isString(g.asin)&&a.push(g.asin)}}return a};return a});h.when("A","jQuery","softlines-utils","atf").register("looks-data-cache",function(a,
b,e){var d=b("#multipleRecommendations"),h=[],f=[];if(d.length>0){var k=d.attr("data-ids");if(e.isString(k)&&(a=a.parseJSON(k),b.isPlainObject(a)&&b.isArray(a.recommendations)))for(var a=a.recommendations,l=a.length,k=0;k<l;k++){var i=a[k];if(b.isPlainObject(i)&&b.isArray(i.asins)){var j=i.asins;if(b.isArray(j)){j=j.splice(0,Math.min(4,j.length));i.asins=j;f.push(i);for(var o=j.length,m=[],i=0;i<o;i++){var g=j[i];b.isPlainObject(g)&&e.isString(g.asin)&&m.push(g.asin)}j=m.join();j=encodeURIComponent(j);
h.push(j)}}}}var g=d.attr("data-asin"),c=d.attr("data-injectedViewModel");return{getLooks:function(){return f},getLooksAsins:function(){return h},getAsin:function(){return g},getInjectedViewModel:function(){return c}}});h.when("A","metrics-logger").register("csm-metrics-logger",function(a,b){var e=window.ue,d=a.extend({},b);d.addCount=function(a,b){var d=e.count(a)||0;e.count(a,d+b)};return d});h.register("metrics-logger",function(){return{addCount:function(){}}});h.when("jQuery","softlines-utils",
"looks-data-cache").register("ob-link-generator",function(a,b,e){return{getOutfitBuilderUrlForPageNumber:function(d){d-=1;var h,f=a("#outfitBuilder"),k=e.getLooksAsins();d>=0&&d<k.length&&f.length>0&&(f=f.data("outfitbuilderurlprefix"),b.isStringNotEmpty(f)&&(h=f+k[d]));return h}}});h.when("jQuery","softlines-utils","looks-data-cache","atf").register("lookFeedback",function(a,b,e){function d(){g.length>0&&m.length>0&&(g.removeClass(),m.removeClass(),g.addClass("leftFloat"),m.addClass("leftFloat"),
g.addClass("hidden"),m.addClass("visibleFeedbackBlock"));typeof Storage!=="undefined"&&localStorage.setItem(f,j)}function h(c){a.ajax({timeout:o,type:"GET",url:"/gp/softlines/logger/seed/"+l+"/look/"+k+("/ref=ctl_look_"+i+"_vote_"+c),data:{vote:c}})}var f,k,l=e.getAsin(),i,j="1",o=4E3,m=a("#afterCtlFeedback"),g=a("#beforeCtlFeedback");a("#ctlButtonYes").click(function(){d();h("yes")});a("#ctlButtonNo").click(function(){d();h("no")});return{updateFeedback:function(a){i=a;a-=1;var b=e.getLooksAsins();
a>=0&&a<b.length&&(k=b[a]);f=l+k;typeof Storage!=="undefined"&&(a=localStorage.getItem(f),g.length>0&&m.length>0&&(g.removeClass(),m.removeClass(),g.addClass("leftFloat"),m.addClass("leftFloat"),a===j?(g.addClass("hidden"),m.addClass("visibleFeedbackBlock")):(g.addClass("visibleFeedbackBlock"),m.addClass("hidden"))))}}})})})(function(){var h=window.AmazonUIPageJS||P,a=h.attributeErrors;return a?a("SoftlinesRecommendationsAssets"):h}());