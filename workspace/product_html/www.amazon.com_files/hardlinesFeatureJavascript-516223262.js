P.when("A","jQuery","atf").register("accordionBuyBoxJS",function(A,$,atf){var buyBoxJS={updateCssClass:function(header){var rbbContainer=$("#rbbContainer");
rbbContainer.find(".selected .a-icon-radio-active").removeClass("a-icon-radio-active").addClass("a-icon-radio-inactive");
rbbContainer.find(".selected .offer-price").removeClass("a-color-price").addClass("a-color-secondary");
header.parents(".rbbSection").removeClass("unselected").addClass("selected");
header.parents(".rbbSection").toggleClass("dp-accordion-active",500);
header.find(".a-icon-radio-inactive").removeClass("a-icon-radio-inactive").addClass("a-icon-radio-active");
header.find(".offer-price").removeClass("a-color-secondary").addClass("a-color-price");
$("#rbbContainer .rbbSection .rbbContent").find(".offer-price").removeClass("a-color-secondary").addClass("a-color-price");
},animate:function(obj){var rbbContainer=$("#rbbContainer");
var bbClicked=obj.attr("id");
var slideMeDown,slideMeUp;
rbbContainer.find(".rbbSection").each(function(i,bb){if($(bb).find(".rbbHeader")[0].id==bbClicked){slideMeDown=$(bb);
}else{if($(bb).hasClass("selected")){slideMeUp=$(bb);
}}});
slideMeUp.find(".rbbContent").slideUp(500,function(){slideMeUp.removeClass("selected").addClass("unselected");
slideMeUp.toggleClass("dp-accordion-active",500);
});
slideMeDown.find(".rbbContent").slideDown(500);
if($.browser.msie&&parseInt($.browser.version,10)==7){slideMeDown.find(".rbbContent").css("display","inline");
setTimeout(function(){slideMeDown.find(".rbbContent").css("display","block");
},505);
}},oneClickJS:function(){$("#one-click-button, #one-click-button-ubb").click(function(){var hbbAction="https://"+window.location.host+$("#addToCart").attr("action");
$("#addToCart").attr("action",hbbAction);
return true;
});
},usedBuyBoxJS:function(){$("#one-click-button-ubb, #usedbuyBox #add-to-cart-button-ubb").click(function(){var addToCart=$("#addToCart");
var ubbAction=addToCart.attr("action").replace("ref=dp_start-bbf_1_glance","ref=dp_start-ubbf_1_glance");
addToCart.attr("action",ubbAction);
return true;
});
amznJQ.available("popover",function(){$("#usedItemConditionInfoLink").amazonPopoverTrigger({showCloseButton:false,closeEventInclude:["CLICK_TRIGGER","CLICK_OUTSIDE","MOUSE_LEAVE"],locationElement:$("#usedItemConditionInfoLink"),location:"bottom",width:250,localContent:"#usedItemConditionInfoPopover"});
});
},initialize:function(){$(".rbbHeaderLink").attr("href","javascript:void(0);");
$("#rbbContainer .rbbSection.unselected .dp-accordion-inner").hide();
$("#rbbContainer .rbbSection .rbbHeader").click(function(e){var target=$(e.target);
var t=$(this);
var header=t.hasClass("rbbHeader")?t:t.parents(".rbbHeader");
if(header.parents(".rbbSection").hasClass("selected")){return false;
}buyBoxJS.updateCssClass(header);
$("#abbWrapper [id^=mbb-offeringID-]").each(function(){this.checked=false;
});
var obj=$(this);
buyBoxJS.animate(obj);
return true;
});
buyBoxJS.oneClickJS();
buyBoxJS.usedBuyBoxJS();
}};
return buyBoxJS;
});
P.when("A","jQuery","a-dropdown").execute(function(A,$,dropdown){var doubleValuesToAsinMap;
var singleValueToAsinMap;
var dcdMetaData=A.state("dcdMetaData");
if(!dcdMetaData){return;
}var asinToDetailPageURLMap=dcdMetaData["asinToDetailPageURLMap"];
var truncatedValuesMap=dcdMetaData["truncatedValuesMap"];
var dimensionKeys=dcdMetaData["dimensionKeys"];
var firstDimensionKey=dimensionKeys[0];
var firstDimensionValue=-1;
var secondDimensionValue=-1;
var $firstDropdown;
var $secondDropdown;
var numberOfDimensions=dimensionKeys.length;
function encodeStandard(strValue){if(strValue){var encoded=strValue.replace(/&#0/g,"&#");
return encoded;
}return undef;
}function removeAllExceptFirst(dropdownObject){var options=dropdownObject.getOptions();
var size=options?options.size():0;
for(var i=1;
i<size;
i++){dropdownObject.removeOption(1);
}}function addTheseOptions(dropdownObject,optionValues){var defaultOption=dropdownObject.getOption(0);
var defaultOptionInfo=defaultOption.info()[0];
defaultOption.remove();
$.each(optionValues,function(index,optionValue){dropdownObject.addOption({"text":truncatedValuesMap[encodeStandard(optionValue)],"value":optionValue,"css_class":"dropdownAvailable"},1);
});
dropdownObject.addOption(defaultOptionInfo,0);
dropdownObject.val(defaultOptionInfo.value);
}function populateSecondDimensionDropdown(data){firstDimensionValue=data.value;
removeAllExceptFirst($secondDropdown);
if(firstDimensionValue==="-1"){return;
}addKeysMethodSupport();
addTheseOptions($secondDropdown,Object.keys(doubleValuesToAsinMap[encodeStandard(firstDimensionValue)]));
}function addKeysMethodSupport(){if(!Object.keys){Object.keys=(function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;
return function(obj){if(typeof obj!=="object"&&(typeof obj!=="function"||obj===null)){throw new TypeError("Object.keys called on non-object");
}var result=[],prop,i;
for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop);
}}if(hasDontEnumBug){for(i=0;
i<dontEnumsLength;
i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i]);
}}}return result;
};
}());
}}function doubleDimensionAsinRedirect(data){secondDimensionValue=data.value;
if(secondDimensionValue==="-1"||firstDimensionValue==="-1"){return;
}window.location=asinToDetailPageURLMap[doubleValuesToAsinMap[encodeStandard(firstDimensionValue)][encodeStandard(secondDimensionValue)]];
}function singleDimensionAsinRedirect(data){var selectedValue=data.value;
if(selectedValue!=="-1"){window.location=asinToDetailPageURLMap[encodeStandard(selectedValue)];
}}if(numberOfDimensions===2){doubleValuesToAsinMap=dcdMetaData["doubleValuesToAsinMap"];
var secondDimensionKey=dimensionKeys[1];
$firstDropdown=dropdown.getSelect("native_dcd_dropdown_"+firstDimensionKey);
$secondDropdown=dropdown.getSelect("native_dcd_dropdown_"+secondDimensionKey);
$firstDropdown.setValue("-1");
$secondDropdown.setValue("-1");
removeAllExceptFirst($secondDropdown);
A.on("a:dropdown:selected:"+firstDimensionKey,populateSecondDimensionDropdown);
A.on("a:dropdown:selected:"+secondDimensionKey,doubleDimensionAsinRedirect);
}else{$firstDropdown=dropdown.getSelect("native_dcd_dropdown_"+firstDimensionKey);
var selectedAsin=dcdMetaData["selectedAsin"];
if(selectedAsin){$firstDropdown.setValue(selectedAsin);
}else{$firstDropdown.setValue("-1");
}singleValueToAsinMap=dcdMetaData["valueToAsinMap"];
A.on("a:dropdown:selected:asin-redirect",singleDimensionAsinRedirect);
}});
P.when("A","jQuery").register("product-description-fix",function(A,$){return{fixTableIssue:function(){$("#productDescription .productDescriptionWrapper table").each(function(){var attrWidth=$(this).attr("width");
if((typeof attrWidth!=="undefined")){$(this).css("width",attrWidth);
}else{$(this).css("width","auto");
}});
}};
});
var finders=(window.finders)?window.finders:{};
amznJQ.available("jQuery",function(){function escapeValue(value){return value.replace(/&/g,"&amp;");
}jQuery.extend(finders,{clearElement:function(el){el=el.jquery?el[0]:el;
el.disabled=true;
el.options.length=1;
},getNodeId:function(fullId){var items=jQuery(jQuery.map(finders.data.itemElems,function(a){return"#"+a;
}).join(","));
var nodeId=items.map(function(){return jQuery(this).val();
}).get();
if(!fullId){var firstUnset=jQuery.inArray("",nodeId);
if(firstUnset>=0){nodeId=nodeId.slice(0,firstUnset);
}}return nodeId;
},getItemElements:function(){return jQuery(jQuery.map(finders.data.itemElems,function(a){return"#"+a;
}).join(","));
},getModelsElement:function(){return jQuery("#"+finders.data.modelsElem);
},showDeviceFinder:function(){finders.state.showing="finder";
jQuery("#findDevicePanel").removeClass("showing-found-device");
jQuery("#finderItFitsWidget").removeClass("showing-my-devices").addClass("showing-finder");
},showFoundDevice:function(){finders.state.showing="found-device";
jQuery("#findDevicePanel").addClass("showing-found-device");
jQuery("#finderItFitsWidget").removeClass("showing-my-devices").addClass("showing-finder");
},showMyDevices:function(){finders.state.showing="my-devices";
jQuery("#finderItFitsWidget").removeClass("showing-finder").addClass("showing-my-devices");
},enableGoButton:function(){var selectedModel=finders.getModelsElement().val();
var goButton=jQuery("#finderUpdateButton");
if(selectedModel==0){goButton.addClass("disabled");
goButton[0].disabled=true;
}else{goButton.removeClass("disabled");
goButton[0].disabled=false;
}},onModelsChange:function(el){finders.enableGoButton();
},loadModels:function(nodeId){var modelsElement=finders.getModelsElement();
finders.clearElement(modelsElement);
if(nodeId){jQuery.getJSON("/gp/finders/ajax/finderajax.html",{action:"getLeafNodes",finderId:finders.data.id,nodeId:nodeId.join("^"),PowerBar:0},function(data){if(!data||data.length===undefined){return;
}var HTML=[];
HTML.push(modelsElement[0].innerHTML);
for(var i=0;
i<data.length;
i++){HTML.push('<option value="'+escapeValue(data[i])+'"');
HTML.push(">"+data[i]+"</option>");
}modelsElement[0].disabled=false;
if(jQuery.browser.msie){modelsElement[0].options.length=0;
var selectHTML=modelsElement[0].outerHTML;
selectHTML=selectHTML.match(/(.+?)>.*<\/select>/i)[1];
modelsElement[0].outerHTML=selectHTML+' onchange="finders.onModelsChange(this)">'+HTML.join("")+"</select>";
}else{modelsElement[0].innerHTML=HTML.join("");
}});
}},onDropDownChange:function(el,alertttt){finders.userAction=true;
var items=finders.getItemElements();
var itemlevel=jQuery.inArray(el.id,finders.data.itemElems);
if(itemlevel==-1){return;
}items.slice(itemlevel+1).each(function(){finders.clearElement(this);
});
var loadModels=false;
var nodeId=finders.getNodeId();
if(nodeId.length==items.length){loadModels=true;
}if(itemlevel+1<items.length&&nodeId.length>0){var nextElement=items.eq(itemlevel+1);
jQuery.getJSON("/gp/finders/ajax/finderajax.html",{action:"getAttrNodes",finderId:finders.data.id,nodeId:nodeId.join("^"),PowerBar:0},function(data){if(data.length===undefined){return;
}if(data.length>0){nextElement[0].disabled=false;
for(var i=0;
i<data.length;
i++){jQuery('<option value="'+escapeValue(data[i])+'">'+data[i]+"</option>").appendTo(nextElement);
}}else{nodeId.push("");
finders.loadModels(nodeId);
}});
}finders.loadModels(loadModels?nodeId:null);
finders.enableGoButton();
},renderDeviceMatch:function(data){var el=jQuery('<div class="finder-device-match"></div>').append(data.image).append(jQuery("<div></div>").append(data.title));
if(data.finderLink){el.append(jQuery('<div class="finder-carat-link"></div>').append(data.finderLink));
}el.append('<div class="finders-clearfix">&nbsp;</div>');
return el;
},updateFoundModel:function(selectedModel,nodeId){selectedModel=selectedModel||finders.getModelsElement().val();
nodeId=nodeId||finders.getNodeId(true);
finders.state.selectedModel=selectedModel;
finders.state.nodeId=nodeId;
if(selectedModel==0){return;
}if(finders.loadingDeviceElem===undefined){finders.loadingDeviceElem=jQuery("#loadingDevicePanel");
}else{jQuery("#foundPanel .finder-device-match").remove();
jQuery("#foundPanel").prepend(finders.loadingDeviceElem);
}finders.showFoundDevice();
nodeId.push(selectedModel);
jQuery.getJSON("/gp/finders/ajax/finderajax.html",{action:"getDeviceMatch",finderId:finders.data.id,supplyASIN:finders.data.supply,nodeId:nodeId.join("^"),PowerBar:0},function(data){jQuery("#loadingDevicePanel").remove();
if(data&&data.length){finders.renderDeviceMatch(data[0]).prependTo(jQuery("#foundPanel"));
}});
},updateMyDevices:function(){if(finders.data.myDevices.length>0){var myDevices=[];
for(var i=0;
i<finders.data.myDevices.length;
i++){myDevices.push(finders.data.myDevices[i].asin+";"+finders.data.myDevices[i].id);
}jQuery.get("/gp/finders/ajax/finderajax.html",{action:"getMyDevicesMatches",finderId:finders.data.id,supplyASIN:finders.data.supply,myDevices:myDevices.join(":"),PowerBar:0},function(result){if(result&&result.length){result.sort(function(a,b){if(a.isCompatible!=b.isCompatible){return(a.isCompatible=="1")?-1:1;
}return -1;
});
var scrollPanel=jQuery("#finderMyDevicesPanel .finder-scroll-panel").empty();
for(var i=0;
i<result.length;
i++){var matchDiv=finders.renderDeviceMatch(result[i]).appendTo(scrollPanel);
if(i>0){matchDiv.addClass("finder-secondary-device");
}}}},"json");
}},init:function(data){if(typeof data==="string"){data=eval("("+data+")");
}finders.data=data;
finders.userAction=false;
jQuery(".finder-dd").each(function(){this.disabled=(this.options.length===1);
});
if(finders.state){if(finders.state.showing=="found-device"){finders.updateFoundModel(finders.state.selectedModel,finders.state.nodeId);
}else{if(finders.state.showing=="finder"){finders.showDeviceFinder();
}else{if(finders.state.showing=="my-devices"){finders.showMyDevices();
}}}}else{finders.state={};
}finders.updateMyDevices();
var resetDropDowns=function(){if(finders.userAction){return;
}jQuery(".finder-dd").each(function(){jQuery(this).val("");
});
};
resetDropDowns();
jQuery(window).load(resetDropDowns);
finders.enableGoButton();
finders.getItemElements().bind("change",function(){finders.onDropDownChange(this);
});
finders.getModelsElement().bind("change",function(){finders.onModelsChange(this);
});
jQuery("#finderUpdateButton").bind("click",function(){finders.updateFoundModel();
return false;
});
jQuery(".finder-find-device-link").bind("click",function(){finders.showDeviceFinder();
return false;
});
jQuery("#finderShowMyDevicesLink").bind("click",function(){finders.showMyDevices();
return false;
});
jQuery("#finderShowMoreDevicesLink").bind("click",function(){jQuery("#finderMyDevicesPanel").addClass("show-more-devices");
return false;
});
jQuery("#finderHideMoreDevicesLink").bind("click",function(){jQuery("#finderMyDevicesPanel").removeClass("show-more-devices");
return false;
});
}});
if(amznJQ&&amznJQ.declareAvailable){amznJQ.declareAvailable("finderFitsJS");
}});
P.when("A","jQuery","atf").execute(function(A,$){A.on.ready(enableMediaMatrixSupport);
function enableMediaMatrixSupport(){var loggingCompleted=0;
var DPCL;
amznJQ.available("DPClientLogger",function(){if(typeof window.DPClientLogger!="undefined"){DPCL=new window.DPClientLogger.ImpressionLogger("dpbxapps","bxapps-atfMarker",true,true);
}});
A.declarative("tmm-see-more-editions-click",["click"],tmmSeeMoreEditions);
$("#formats > .a-link-expander").click(function(){var divToUpdate="#twister";
var showPromptDiv="#showMoreFormatsPrompt";
var hidePromptDiv="#hideMoreFormatsPrompt";
var iconDiv="#formatsIcon";
var swatchesDiv="#tmmSwatches";
toggleShowHidePrompts(swatchesDiv,divToUpdate,showPromptDiv,hidePromptDiv,iconDiv);
if(DPCL&&$(divToUpdate).is(":visible")&&!loggingCompleted){DPCL.logImpression("tmm-show-more-formats-viewed");
loggingCompleted=1;
}});
function tmmSeeMoreEditions(event){var eventData=event.data;
var linkUrl=eventData["metabindingUrl"];
if(!event.$target.hasClass("a-link-expander")&&!event.$target.parent().hasClass("a-link-expander")){if(linkUrl!=="#"){window.location=linkUrl;
}return;
}var index=eventData["metabindingPlaceHolder"];
var topDivToUpdate="#metabinding_row_top_"+index;
var bottomDivToUpdate="#metabinding_row_bottom_"+index;
var seePromptDiv="#editionsSeePrompt_"+index;
var hidePromptDiv="#editionsHidePrompt_"+index;
var editionsIconDiv="#editionsIcon_"+index;
var ajaxStateData="isAjaxComplete_"+index;
var ajaxInProgress="isAjaxInProgress_"+index;
var loadingDiv="#tmmSpinnerDiv_"+index;
var tmmErrorDiv="#tmmErrorDiv_"+index;
var stateData=A.state("mediamatrix-state");
var url=stateData["url_"+index].replace(/&amp;/g,"&");
$("#formats .tmmErrorClass").hide();
if(stateData[ajaxStateData]==="1"||stateData[ajaxInProgress]==="1"){toggleShowHidePrompts(topDivToUpdate,bottomDivToUpdate,seePromptDiv,hidePromptDiv,editionsIconDiv);
}else{A.ajax(url,{method:"get",success:function(){stateData[ajaxStateData]="1";
A.state("mediamatrix-state",stateData);
toggleShowHidePrompts(topDivToUpdate,bottomDivToUpdate,seePromptDiv,hidePromptDiv,editionsIconDiv);
},indicator:$(loadingDiv),error:function(){$($tmmErrorDiv).show();
stateData[ajaxInProgress]="0";
A.state("mediamatrix-state",stateData);
}});
stateData[ajaxInProgress]="1";
A.state("mediamatrix-state",stateData);
}}function toggleShowHidePrompts(topContentDiv,bottomContentDiv,showDiv,hideDiv,iconDiv){$(topContentDiv).slideToggle(300);
$(bottomContentDiv).slideToggle(300);
$(showDiv).toggleClass("tmmShowPrompt tmmHidePrompt");
$(hideDiv).toggleClass("tmmShowPrompt tmmHidePrompt");
$(iconDiv).toggleClass("rotate");
}function responsiveDisplay(section){var childClass="swatchElement";
var sectionRightEdge=section.position().left+section.width()-2;
var numChildren=$("."+childClass).length;
section.find("."+childClass).each(function(){$(this).attr("data-width",$(this).width());
});
$("#formats").find(".a-row").removeClass("nonJSFormats");
}function responsiveFormats(){var tmmFormats=$("#formats");
var containerWidth=tmmFormats.width()-40;
var visibleFormatsWidth=0;
tmmFormats.find(".swatchElement").each(function(){if($(this).is(":visible")){visibleFormatsWidth+=$(this).width();
}});
if(visibleFormatsWidth>containerWidth){$(tmmFormats.find(".swatchElement:visible").get().reverse()).each(function(){var currentWidth=0;
var hiddenAlready=false;
if(!$(this).find(".format").hasClass("a-button-selected")){currentWidth=$(this).width();
hiddenAlready=$(this).is(":hidden");
$(this).hide();
}else{currentWidth=$(this).prev(".swatchElement").width();
hiddenAlready=$(this).prev(".swatchElement").is(":hidden");
$(this).prev(".swatchElement").hide();
}if(!hiddenAlready){visibleFormatsWidth=visibleFormatsWidth-currentWidth;
}return(visibleFormatsWidth>containerWidth);
});
}else{if(visibleFormatsWidth<containerWidth){tmmFormats.find(".swatchElement").each(function(){if($(this).is(":hidden")){var currentWidth=$(this).attr("data-width");
if(currentWidth<=containerWidth-visibleFormatsWidth){$(this).show();
}return false;
}});
}}}$("#formats.responsive").each(function(){responsiveDisplay($(this));
});
responsiveFormats();
A.on("resize",responsiveFormats);
$("#formats .unselected .format").mouseenter(function(){$(this).find(".a-color-secondary").addClass("a-color-price").removeClass("a-color-secondary");
}).mouseleave(function(){$(this).find(".a-color-price").addClass("a-color-secondary").removeClass("a-color-price");
});
$("#landingItemRentalLink").attr("href","javascript:document.getElementById('rentBuySection').click();");
}});
P.when("A","jQuery","atf").execute(function(A,$,atf){$("#byline .showMoreLink").click(function(){$("#byline .author").each(function(){if(!$(this).hasClass("notFaded")){$(this).addClass("notFaded").fadeIn(0);
}$("#byline .more").removeClass("notFaded").fadeOut(0);
});
return false;
});
$("#byline .contributorNameID").mouseenter(function(){var asin=$(this).attr("data-asin");
var params={};
var ajaxComplete="isAjaxComplete_"+asin;
var ajaxInProgress="isAjaxInProgress_"+asin;
var stateData=A.state("popoverImage-state");
params["entityID"]=asin;
if(!(stateData[ajaxComplete]==="1")&&!(stateData[ajaxInProgress]==="1")){$.ajax({url:"/gp/product/utility/by-line/book-contributor-details/ajax/author-image.html",data:params,dataType:"html",timeout:1000,success:function(html){$("#contributorImageContainer"+asin).get(0).innerHTML=html;
stateData[ajaxComplete]="1";
A.state("popoverImage-state",stateData);
},error:function(){stateData[ajaxInProgress]="0";
A.state("popoverImage-state",stateData);
}});
stateData[ajaxInProgress]="1";
A.state("popoverImage-state",stateData);
}});
function resizeByline(){var bylineWidth=parseInt($("#byline").width());
var visibleAuthorsWidth=0;
$("#byline .author").each(function(){if($(this).is(".notFaded")){visibleAuthorsWidth+=$(this).outerWidth();
}});
visibleAuthorsWidth+=$("#byline .more").outerWidth();
if(visibleAuthorsWidth>bylineWidth){var totalDisplayedAuthors=$("#byline .author.notFaded").length;
$($("#byline .author.notFaded").get().reverse()).each(function(index){if(visibleAuthorsWidth>bylineWidth&&index<(totalDisplayedAuthors-1)){var currentWidth=$(this).width();
$(this).removeClass("notFaded");
$(this).fadeOut(10,function(){$(this).hide();
});
visibleAuthorsWidth=visibleAuthorsWidth-currentWidth;
$("#byline .moreCount").html($("#byline .author").length-$("#byline .author.notFaded").length);
$("#byline .more").addClass("notFaded").fadeIn(10);
}});
}else{if(visibleAuthorsWidth<bylineWidth){if($("#byline .author.notFaded").length<$("#byline .author").length){var availableWidth=bylineWidth-visibleAuthorsWidth;
$("#byline .author").each(function(){if($(this).hasClass("notFaded")){}else{var currentWidth=$(this).outerWidth();
if(currentWidth<=availableWidth){availableWidth=availableWidth-currentWidth;
$(this).addClass("notFaded").fadeIn(10);
var andMore=$("#byline .author").length-$("#byline .author.notFaded").length;
if(andMore===0){$("#byline .more").removeClass("notFaded").fadeOut(10);
}else{$("#byline .moreCount").html(andMore);
$("#byline .more").addClass("notFaded").fadeIn(10);
}}else{availableWidth=0;
}}});
}}}}function responsiveByline(byline){var bylineWidth=parseInt(byline.width());
var moreWidth=parseInt(byline.find(".more").outerWidth());
var visibleAuthorsWidth=0;
$("#byline .author").each(function(){if($(this).is(".notFaded")){visibleAuthorsWidth+=$(this).outerWidth();
}});
$("#byline .more").attr("data-width",moreWidth);
var availableWidth=bylineWidth-moreWidth;
var defaultDisplayedAuthors=3;
if(availableWidth>visibleAuthorsWidth){byline.find(".author").each(function(){var currentIndex=$(this).index();
if(parseInt(currentIndex)>=parseInt(defaultDisplayedAuthors)){var thisWidth=$(this).outerWidth();
$(this).attr("data-width",thisWidth);
if(thisWidth<availableWidth){availableWidth=availableWidth-thisWidth;
$(this).addClass("notFaded");
$(this).fadeIn("slow");
}else{availableWidth=0;
$(this).fadeOut("slow");
}}else{var thisWidth=$(this).outerWidth();
$(this).attr("data-width",thisWidth);
availableWidth=availableWidth-thisWidth;
}});
}else{var totalDisplayedAuthors=$("#byline .author.notFaded").length;
$($("#byline .author.notFaded").get().reverse()).each(function(index){if(availableWidth<visibleAuthorsWidth&&index<(totalDisplayedAuthors-1)){var thisWidth=$(this).outerWidth();
visibleAuthorsWidth=visibleAuthorsWidth-thisWidth;
$(this).fadeOut("slow").removeClass("notFaded");
}else{}});
}var remainingNumber=byline.find(".author").length-byline.find(".author.notFaded").length;
if(remainingNumber>0){byline.find(".moreCount").html(remainingNumber);
byline.find(".more").fadeIn("slow");
byline.find(".more").addClass("notFaded");
}else{}}responsiveByline(A.$("#byline"));
$(window).resize(function(){resizeByline();
});
});
