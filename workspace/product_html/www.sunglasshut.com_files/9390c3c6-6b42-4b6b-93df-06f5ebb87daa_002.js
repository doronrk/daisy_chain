// Copyright 2006-2014 ClickTale Ltd., US Patent Pending
// Generated on: 11/27/2014 12:02:54 PM (UTC 11/27/2014 6:02:54 PM)

if (typeof(ct_dispatcher) == 'undefined')
{
	ct_dispatcher = {
		configName : null,
		cookieName : "ct_configName",
		getParameterByName : function (name)
		{
			 name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
			 var regexS = "[\\?&]" + name + "=([^&#]*)";
			 var regex = new RegExp(regexS, "i");
			 var results = regex.exec(window.location.search);
			 if(results == null)
			   return "";
			 else
			   return decodeURIComponent(results[1].replace(/\+/g, " "));
		},
		createCookie: function (name,value,days) 
		{
			if (days) 
			{
				var date = new Date();
				date.setTime(date.getTime( )+( days*24*60*60*1000));
				var expires = "; expires="+date.toGMTString( );
			}
			else var expires = "";
			document.cookie = name+"="+value+expires+"; path=/";
		},
		readCookie : function (name) 
		{
			var nameEQ = name + "=";
			var ca = document.cookie.split( ';');
			for( var i=0;i < ca.length;i++) 
			{
				var c = ca[i];
				while ( c.charAt( 0)==' ') c = c.substring( 1,c.length);
				if ( c.indexOf( nameEQ) == 0) return c.substring( nameEQ.length,c.length);
			}
			return null;
		}
	};
		
	// Read from querystring
	var ct_pdc_qs_val = ct_dispatcher.getParameterByName(ct_dispatcher.cookieName);
	if (ct_pdc_qs_val)
	{
		// Override/create cookie
		ct_dispatcher.createCookie(ct_dispatcher.cookieName, ct_pdc_qs_val, 14);
		ct_dispatcher.configName = ct_pdc_qs_val;
	}
	else
	{
		// Read from cookie
		ct_dispatcher.configName = ct_dispatcher.readCookie(ct_dispatcher.cookieName);
	}

	
}

	if (typeof (ClickTaleCreateDOMElement) != "function")
{
	ClickTaleCreateDOMElement = function(tagName)
	{
		if (document.createElementNS)
		{
			return document.createElementNS('http://www.w3.org/1999/xhtml', tagName);
		}
		return document.createElement(tagName);
	}
}

if (typeof (ClickTaleAppendInHead) != "function")
{
	ClickTaleAppendInHead = function(element)
	{
		var parent = document.getElementsByTagName('head').item(0) || document.documentElement;
		parent.appendChild(element);
	}
}

if (typeof (ClickTaleXHTMLCompliantScriptTagCreate) != "function")
{
	ClickTaleXHTMLCompliantScriptTagCreate = function(code)
	{
		var script = ClickTaleCreateDOMElement('script');
		script.setAttribute("type", "text/javascript");
		script.text = code;
		return script;
	}
}	
		var configFoundPTC = false;
	
if (ct_dispatcher.configName == 'ChangeMonitor')
{
	configFoundPTC = true;
			(function(){
	var script = ClickTaleXHTMLCompliantScriptTagCreate("\/\/ Copyright 2006-2014 ClickTale Ltd., US Patent Pending\r\n\/\/ PID: 283\r\n\/\/ WR destination: www06\r\n\/\/ WR version: 14.17\r\n\/\/ Recording ratio: 1\r\n\/\/ Generated on: 11\/27\/2014 12:02:54 PM (UTC 11\/27\/2014 6:02:54 PM)\r\n\r\n\r\nfunction ClickTaleCDNHTTPSRewrite(u)\r\n{\r\n\ttry\r\n\t{\r\n\t\tvar scripts = document.getElementsByTagName(\u0027script\u0027);\r\n\t\tif(scripts.length)\r\n\t\t{\r\n\t\t\tvar script = scripts[ scripts.length - 1 ], s=\u0027https:\/\/clicktalecdn.sslcs.cdngc.net\/\u0027;\r\n\t\t\tif(script.src \u0026\u0026 script.src.substr(0,s.length)==s )\r\n\t\t\t\treturn u.replace(\u0027https:\/\/cdnssl.clicktale.net\/\u0027,s);\r\n\t\t}\r\n\t}\r\n\tcatch(e)\r\n\t{\r\n\t}\r\n\treturn u;\r\n} \r\n\r\nvar ClickTaleIsXHTMLCompliant = true;\r\nif (typeof (ClickTaleCreateDOMElement) != \"function\")\r\n{\r\n\tClickTaleCreateDOMElement = function(tagName)\r\n\t{\r\n\t\tif (document.createElementNS)\r\n\t\t{\r\n\t\t\treturn document.createElementNS(\u0027http:\/\/www.w3.org\/1999\/xhtml\u0027, tagName);\r\n\t\t}\r\n\t\treturn document.createElement(tagName);\r\n\t}\r\n}\r\n\r\nif (typeof (ClickTaleAppendInHead) != \"function\")\r\n{\r\n\tClickTaleAppendInHead = function(element)\r\n\t{\r\n\t\tvar parent = document.getElementsByTagName(\u0027head\u0027).item(0) || document.documentElement;\r\n\t\tparent.appendChild(element);\r\n\t}\r\n}\r\n\r\nif (typeof (ClickTaleXHTMLCompliantScriptTagCreate) != \"function\")\r\n{\r\n\tClickTaleXHTMLCompliantScriptTagCreate = function(code)\r\n\t{\r\n\t\tvar script = ClickTaleCreateDOMElement(\u0027script\u0027);\r\n\t\tscript.setAttribute(\"type\", \"text\/javascript\");\r\n\t\tscript.text = code;\r\n\t\treturn script;\r\n\t}\r\n}\t\r\n\r\nvar pccScriptElement = ClickTaleCreateDOMElement(\u0027script\u0027);\r\npccScriptElement.type = \"text\/javascript\";\r\npccScriptElement.src = (document.location.protocol==\u0027https:\u0027?\r\nClickTaleCDNHTTPSRewrite(\u0027https:\/\/cdnssl.clicktale.net\/www06\/pcc\/9390c3c6-6b42-4b6b-93df-06f5ebb87daa.js?DeploymentConfigName=ChangeMonitor\u0026Version=2\u0027):\r\n\u0027http:\/\/cdn.clicktale.net\/www06\/pcc\/9390c3c6-6b42-4b6b-93df-06f5ebb87daa.js?DeploymentConfigName=ChangeMonitor\u0026Version=2\u0027);\r\ndocument.body.appendChild(pccScriptElement);\r\n\t\r\nvar ClickTalePrevOnReady;\r\nif(typeof ClickTaleOnReady == \u0027function\u0027)\r\n{\r\n\tClickTalePrevOnReady=ClickTaleOnReady;\r\n\tClickTaleOnReady=undefined;\r\n}\r\n\r\nif (typeof window.ClickTaleScriptSource == \u0027undefined\u0027)\r\n{\r\n\twindow.ClickTaleScriptSource=(document.location.protocol==\u0027https:\u0027\r\n\t\t?ClickTaleCDNHTTPSRewrite(\u0027https:\/\/cdnssl.clicktale.net\/www\/\u0027)\r\n\t\t:\u0027http:\/\/cdn.clicktale.net\/www\/\u0027);\r\n}\r\n\r\n\r\n\/\/ Start of user-defined pre WR code (PreLoad)b\r\nwindow.cmEnabled_ = (function () {\r\n    var uaString = navigator.userAgent;\r\n    var trident = uaString.search(\/Trident\/i);\r\n    var ie = uaString.indexOf(\"MSIE \");\r\n    var tv = trident \u003e -1 \u0026\u0026 parseFloat(uaString.substr(trident + 8, 3));\r\n    var record =  ie === -1 || tv === 7 || (ie \u003e -1 \u0026\u0026 parseFloat(uaString.substr(ie + 5, 3)) \u003e= 10);\r\n\t\r\n\treturn record \u0026\u0026 (window.location.pathname === \"\/\" || \/^(http|https):\\\/\\\/www.sunglasshut.com\\\/((us|ca|au|za|uk)(\\\/?|\\\/[0-9]+)).*\/.test(window.location.href));\r\n})();\r\n\r\nwindow.ClickTaleSettings = window.ClickTaleSettings || {};\r\nwindow.ClickTaleSettings.Compression = {\r\n    Method: cmEnabled_ ? \"deflate\" : \"lzw\"\r\n};\r\n\r\nwindow.ClickTaleSettings.Transport = {\r\n    Legacy: !cmEnabled_,\r\n    MaxConcurrentRequests: cmEnabled_ ? 5 : 2\r\n};\r\n\r\nwindow.ClickTaleSettings.RewriteRules = {\r\n    OnBeforeRewrite: function (rewriteApi) {\r\n        rewriteApi.clear();\r\n        rewriteApi.add(function (buffer) {\r\n\t\t\tvar matches = buffer.match(\/\u003cscript\\b([^\u003e]*)\u003e([\\s\\S]*?)\u003c\\\/script\u003e\/gi);\r\n\r\n\t\t\tfor (var i = 0; i \u003c matches.length; i++) {\r\n\t\t\t\tvar match = matches[i];\r\n\r\n\t\t\t\tif (!\/\u003cscript[^\u003e]*src=[\"\u0027]?.*jquery.min.js[^\u0027\"\\s]+?\/i.test(match)) {\r\n\t\t\t\t\tbuffer = buffer.replace(match, \"\u003cscript\u003e\u003c\\\/script\u003e\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn buffer;\t\t\t\r\n        });\r\n\t\t\r\n\t\trewriteApi.add(function (buffer) {\r\n\t\t\treturn buffer.replace(\/\u003ciframe\\b([^\u003e]*)\u003e([\\s\\S]*?)\u003c\\\/iframe\u003e\/gi, \"\");\r\n        });\r\n    }\r\n}\r\n\r\nwindow.ClickTaleSettings.ChangeMonitor = {\r\n    Enable: cmEnabled_,\r\n    AddressingMode: \"id\",\r\n    OnReadyHandler: function (changeMonitor) {\r\n        changeMonitor.observe();\r\n    },\r\n    OnBeforeReadyHandler: function (settings) {\r\n        settings.Enable = window.ClickTaleGetUID ? !!ClickTaleGetUID() : false;\r\n        return settings;\r\n    }\r\n};\r\n\r\nwindow.ClickTaleSettings.XHRWrapper = {\r\n    Enable: !cmEnabled_,\r\n    RequestFilter: function (method, url) {\r\n        if (url.indexOf(\u0027bazaarvoice.com\u0027) \u003e -1 || url.indexOf(\u0027AjaxOrderChangeServiceItemAdd\u0027) \u003e -1 || url.indexOf(\u0027GetCatalogEntryDetailsByID\u0027) \u003e -1) {\r\n            return false;\r\n        }\r\n        if (url.search(\/webapp\\\/wcs\\\/stores\\\/servlet\/gi) != -1) {\r\n            return true;\r\n        }\r\n        if (url.search(\/OrderShippingBillingView\/gi) != -1) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n};\r\n\/\/ End of user-defined pre WR code\r\n\r\n\r\nvar ClickTaleOnReady = function()\r\n{\r\n\tvar PID=283, \r\n\t\tRatio=1, \r\n\t\tPartitionPrefix=\"www06\";\r\n\t\r\n\tif (window.navigator \u0026\u0026 window.navigator.loadPurpose === \"preview\") {\r\n       return; \/\/in preview\r\n\t   };\r\n\t\t\r\n\t\r\n\t\/\/ Start of user-defined header code (PreInitialize)\r\n\twindow.ClickTaleIncludedOnWindowLoad = true;\r\n\r\n\r\nif (typeof ClickTaleSetAllSensitive == \u0027function\u0027) { ClickTaleSetAllSensitive(); }\r\n\/\/temporarily don\u0027t record the promo code manager + SGH-103\r\nif((document.location.href.indexOf(\"PromotionCodeManage?\") \u003e -1 \u0026\u0026 !\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(navigator.userAgent)) || document.location.href.indexOf(\"www.sunglasshut.com\/sgh-wo\/\") \u003e -1){\r\n\treturn;\r\n}\r\nelse if (!cmEnabled_) {\r\n\tClickTaleFetchFromWithCookies.setFromCookie(\"JSESSIONID\");\r\n\tClickTaleFetchFromWithCookies.setFromCookie(\"cartVersion\");\r\n\tClickTaleFetchFromWithCookies.setFromCookie(\/^WC_.*\/);\r\n\tvar ct_fua = \"#\" + encodeURIComponent(\"CTFetchUserAgent=VisitorUserAgent\");\r\n\tvar FetchURL = window.location.href + ct_fua;\r\n\tClickTaleFetchFrom = ClickTaleFetchFromWithCookies.constructFetchFromUrl(FetchURL);\r\n}\r\nelse {\r\n\tvar script = document.createElement(\"SCRIPT\");\r\n\tscript.src = (document.location.protocol == \u0027https:\u0027 ? \u0027https:\/\/clicktalecdn.sslcs.cdngc.net\/www\/ChangeMonitor-1.2.2.js\u0027 : \u0027http:\/\/s.clicktale.net\/ChangeMonitor-1.2.2.js\u0027);\r\n\tdocument.body.appendChild(script);\r\n\t\r\n\tif (ClickTaleEvent) {\r\n\t\tClickTaleEvent(\"ChangeMonitor Test\")\r\n\t}\r\n\t\r\n\tif (typeof ClickTaleUploadPage == \u0027function\u0027) {\r\n\t\twindow.ClickTaleFetchFrom = false;\r\n\t\tvar b, a;\r\n\t\tb = (a = document.doctype) ? \"\u003c!doctype \" + a.name + (a.publicId ? \u0027 PUBLIC \"\u0027 + a.publicId + \u0027\"\u0027 : \"\") + (!a.publicId \u0026\u0026 a.systemId ? \" SYSTEM\" : \"\") + (a.systemId ? \u0027 \"\u0027 + a.systemId + \u0027\"\u0027 : \"\") + \"\u003e\\n\" : document.childNodes[0].text;\r\n\t\tb = b || \"\";\r\n\t\ta = [\"\u003chtml \"];\r\n\t\tfor (var d = document.documentElement.attributes, f = d.length, c = 0; c \u003c f; c++) {\r\n\t\t\tvar e = d.item(c);\r\n\t\t\ta.push(e.nodeName + \u0027=\"\u0027 + e.nodeValue + \u0027\"\u0027)\r\n\t\t}\r\n\t\ta.push(\"\u003e\");\r\n\t\tb += a.join(\" \");\r\n\t\t\"undefined\" !== typeof jQuery \u0026\u0026 jQuery.isReady \u0026\u0026 (window.ClickTaleIncludedOnDomReady = !0);\r\n\t\twindow.ClickTaleUploadPage(b, \"\u003c\/html\u003e\");\r\n\t}\r\n}\r\n\t\/\/ End of user-defined header code (PreInitialize)\r\n    \r\n\t\r\n\twindow.ClickTaleIncludedOnDOMReady=true;\r\n\twindow.ClickTaleSSL=1;\r\n\t\r\n\tClickTale(PID, Ratio, PartitionPrefix);\r\n\t\r\n\tif((typeof ClickTalePrevOnReady == \u0027function\u0027) \u0026\u0026 (ClickTaleOnReady.toString() != ClickTalePrevOnReady.toString()))\r\n\t{\r\n    \tClickTalePrevOnReady();\r\n\t}\r\n\t\r\n\t\r\n\t\/\/ Start of user-defined footer code\r\n\t\r\n\t\/\/ End of user-defined footer code\r\n\t\r\n}; \r\n(function() {\r\n\tvar div = ClickTaleCreateDOMElement(\"div\");\r\n\tdiv.id = \"ClickTaleDiv\";\r\n\tdiv.style.display = \"none\";\r\n\tdocument.body.appendChild(div);\r\n\r\n\tvar externalScript = ClickTaleCreateDOMElement(\"script\");\r\n\tvar src = document.location.protocol==\u0027https:\u0027?\r\n\t  \u0027https:\/\/cdnssl.clicktale.net\/www\/tc\/WRe17.js\u0027:\r\n\t  \u0027http:\/\/cdn.clicktale.net\/www\/tc\/WRe17.js\u0027;\r\n\texternalScript.src = (window.ClickTaleCDNHTTPSRewrite?ClickTaleCDNHTTPSRewrite(src):src);\r\n\texternalScript.type = \u0027text\/javascript\u0027;\r\n\tdocument.body.appendChild(externalScript);\r\n})();\r\n\r\n\r\n\r\n");
	document.body.appendChild(script);	})();
	}
			
	
if (ct_dispatcher.configName == 'Release_19102014')
{
	configFoundPTC = true;
			(function(){
	var script = ClickTaleXHTMLCompliantScriptTagCreate("\/\/ Copyright 2006-2014 ClickTale Ltd., US Patent Pending\r\n\/\/ PID: 283\r\n\/\/ WR destination: www06\r\n\/\/ WR version: 14.17\r\n\/\/ Recording ratio: 1\r\n\/\/ Generated on: 11\/27\/2014 12:02:54 PM (UTC 11\/27\/2014 6:02:54 PM)\r\n\r\n\r\nfunction ClickTaleCDNHTTPSRewrite(u)\r\n{\r\n\ttry\r\n\t{\r\n\t\tvar scripts = document.getElementsByTagName(\u0027script\u0027);\r\n\t\tif(scripts.length)\r\n\t\t{\r\n\t\t\tvar script = scripts[ scripts.length - 1 ], s=\u0027https:\/\/clicktalecdn.sslcs.cdngc.net\/\u0027;\r\n\t\t\tif(script.src \u0026\u0026 script.src.substr(0,s.length)==s )\r\n\t\t\t\treturn u.replace(\u0027https:\/\/cdnssl.clicktale.net\/\u0027,s);\r\n\t\t}\r\n\t}\r\n\tcatch(e)\r\n\t{\r\n\t}\r\n\treturn u;\r\n} \r\n\r\nvar ClickTaleIsXHTMLCompliant = true;\r\nif (typeof (ClickTaleCreateDOMElement) != \"function\")\r\n{\r\n\tClickTaleCreateDOMElement = function(tagName)\r\n\t{\r\n\t\tif (document.createElementNS)\r\n\t\t{\r\n\t\t\treturn document.createElementNS(\u0027http:\/\/www.w3.org\/1999\/xhtml\u0027, tagName);\r\n\t\t}\r\n\t\treturn document.createElement(tagName);\r\n\t}\r\n}\r\n\r\nif (typeof (ClickTaleAppendInHead) != \"function\")\r\n{\r\n\tClickTaleAppendInHead = function(element)\r\n\t{\r\n\t\tvar parent = document.getElementsByTagName(\u0027head\u0027).item(0) || document.documentElement;\r\n\t\tparent.appendChild(element);\r\n\t}\r\n}\r\n\r\nif (typeof (ClickTaleXHTMLCompliantScriptTagCreate) != \"function\")\r\n{\r\n\tClickTaleXHTMLCompliantScriptTagCreate = function(code)\r\n\t{\r\n\t\tvar script = ClickTaleCreateDOMElement(\u0027script\u0027);\r\n\t\tscript.setAttribute(\"type\", \"text\/javascript\");\r\n\t\tscript.text = code;\r\n\t\treturn script;\r\n\t}\r\n}\t\r\n\r\nvar pccScriptElement = ClickTaleCreateDOMElement(\u0027script\u0027);\r\npccScriptElement.type = \"text\/javascript\";\r\npccScriptElement.src = (document.location.protocol==\u0027https:\u0027?\r\nClickTaleCDNHTTPSRewrite(\u0027https:\/\/cdnssl.clicktale.net\/www06\/pcc\/9390c3c6-6b42-4b6b-93df-06f5ebb87daa.js?DeploymentConfigName=Release_19102014\u0026Version=1\u0027):\r\n\u0027http:\/\/cdn.clicktale.net\/www06\/pcc\/9390c3c6-6b42-4b6b-93df-06f5ebb87daa.js?DeploymentConfigName=Release_19102014\u0026Version=1\u0027);\r\ndocument.body.appendChild(pccScriptElement);\r\n\t\r\nvar ClickTalePrevOnReady;\r\nif(typeof ClickTaleOnReady == \u0027function\u0027)\r\n{\r\n\tClickTalePrevOnReady=ClickTaleOnReady;\r\n\tClickTaleOnReady=undefined;\r\n}\r\n\r\nif (typeof window.ClickTaleScriptSource == \u0027undefined\u0027)\r\n{\r\n\twindow.ClickTaleScriptSource=(document.location.protocol==\u0027https:\u0027\r\n\t\t?ClickTaleCDNHTTPSRewrite(\u0027https:\/\/cdnssl.clicktale.net\/www\/\u0027)\r\n\t\t:\u0027http:\/\/cdn.clicktale.net\/www\/\u0027);\r\n}\r\n\r\n\r\n\/\/ Start of user-defined pre WR code (PreLoad)b\r\nwindow.ClickTaleSettings = window.ClickTaleSettings || {};\r\nwindow.ClickTaleSettings.XHRWrapper = {\r\n    Enable: true,\r\n    RequestFilter: function (method, url) {\r\n        if (url.indexOf(\u0027bazaarvoice.com\u0027) \u003e -1 || url.indexOf(\u0027AjaxOrderChangeServiceItemAdd\u0027) \u003e -1 || url.indexOf(\u0027GetCatalogEntryDetailsByID\u0027) \u003e -1) {\r\n            return false;\r\n        }\r\n        if (url.search(\/webapp\\\/wcs\\\/stores\\\/servlet\/gi) != -1) {\r\n            return true;\r\n        }\r\n        if (url.search(\/OrderShippingBillingView\/gi) != -1) {\r\n            return true;\r\n        }\r\n        \/\/if (url.indexOf(\u0027AjaxPersonChangeServiceAddressAdd\u0027) \u003e -1) {\r\n        \/\/    return true;\r\n        \/\/}\r\n        \r\n        return false;\r\n    }\r\n}\r\n\/*if(document.location.href.indexOf(\"PromotionCodeManage?\") \u003e-1){\r\n\twindow.ClickTaleIncludedOnDOMReady = true;\r\n\tClickTaleSettings.Transport = {\r\n\t\tLegacy: false\r\n\t};\r\n\tClickTaleSettings.Compression = {\r\n\t\tMethod: function () { return \"deflate\"; }\r\n\t};\r\n\tClickTaleSettings.RewriteRules = {\r\n\t\tOnBeforeRewrite: function (rewriteApi) {\r\n\t\t\t\/\/rewriteApi.clear();\r\n\t\t\trewriteApi.add({\r\n\t\t\t\tpattern: new RegExp(\u0027(\u003cinput[^\u003e]*value=\")([^\"]+)(\"[^\u003e]*type=\"text\"\u003e)\u0027, \u0027gim\u0027),\r\n\t\t\t\treplace: \"$1-----$3\"\r\n\t\t\t});\r\n\t\t\trewriteApi.add({\r\n\t\t\t\tpattern: new RegExp(\u0027(\u003cinput[^\u003e]*type=\"text\"[^\u003e]*value=\")([^\"]*)(\"[^\u003e]*\u003e)\u0027, \u0027gim\u0027),\r\n\t\t\t\treplace: \"$1-----$3\"\r\n\t\t\t});\t\r\n\t\t}\r\n\t}\r\n\tClickTaleSettings.ctIsTrans = true; \r\n}*\/\r\n\/\/ End of user-defined pre WR code\r\n\r\n\r\nvar ClickTaleOnReady = function()\r\n{\r\n\tvar PID=283, \r\n\t\tRatio=1, \r\n\t\tPartitionPrefix=\"www06\";\r\n\t\r\n\tif (window.navigator \u0026\u0026 window.navigator.loadPurpose === \"preview\") {\r\n       return; \/\/in preview\r\n\t   };\r\n\t\t\r\n\t\r\n\t\/\/ Start of user-defined header code (PreInitialize)\r\n\tif (window.WRc) {\r\n    window.WRc();\r\n}\r\n\r\nif (typeof ClickTaleSetAllSensitive == \u0027function\u0027) { ClickTaleSetAllSensitive(); }\r\n\/\/temporarily don\u0027t record the promo code manager + SGH-103\r\nif((document.location.href.indexOf(\"PromotionCodeManage?\") \u003e -1 \u0026\u0026 !\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(navigator.userAgent)) || document.location.href.indexOf(\"www.sunglasshut.com\/sgh-wo\/\") \u003e -1){\r\n\treturn;\r\n}\r\nelse{\r\n\tClickTaleFetchFromWithCookies.setFromCookie(\"JSESSIONID\");\r\n    ClickTaleFetchFromWithCookies.setFromCookie(\"facets\");\r\n    ClickTaleFetchFromWithCookies.setFromCookie(\"cartVersion\");\r\n    ClickTaleFetchFromWithCookies.setFromCookie(\/^WC_.*\/);\r\n    ClickTaleFetchFromWithCookies.setFromCookie(\"s_gpp\");\r\n\tvar ct_fua = \"#\" + encodeURIComponent(\"CTFetchUserAgent=VisitorUserAgent\");\r\n\tvar FetchURL = window.location.href + ct_fua;\r\n\tClickTaleFetchFrom = ClickTaleFetchFromWithCookies.constructFetchFromUrl(FetchURL);\r\n}\r\n\t\/\/ End of user-defined header code (PreInitialize)\r\n    \r\n\t\r\n\twindow.ClickTaleIncludedOnDOMReady=true;\r\n\twindow.ClickTaleSSL=1;\r\n\t\r\n\tClickTale(PID, Ratio, PartitionPrefix);\r\n\t\r\n\tif((typeof ClickTalePrevOnReady == \u0027function\u0027) \u0026\u0026 (ClickTaleOnReady.toString() != ClickTalePrevOnReady.toString()))\r\n\t{\r\n    \tClickTalePrevOnReady();\r\n\t}\r\n\t\r\n\t\r\n\t\/\/ Start of user-defined footer code\r\n\t\r\n\t\/\/ End of user-defined footer code\r\n\t\r\n}; \r\n(function() {\r\n\tvar div = ClickTaleCreateDOMElement(\"div\");\r\n\tdiv.id = \"ClickTaleDiv\";\r\n\tdiv.style.display = \"none\";\r\n\tdocument.body.appendChild(div);\r\n\r\n\tvar externalScript = ClickTaleCreateDOMElement(\"script\");\r\n\tvar src = document.location.protocol==\u0027https:\u0027?\r\n\t  \u0027https:\/\/cdnssl.clicktale.net\/www\/tc\/WRe17.js\u0027:\r\n\t  \u0027http:\/\/cdn.clicktale.net\/www\/tc\/WRe17.js\u0027;\r\n\texternalScript.src = (window.ClickTaleCDNHTTPSRewrite?ClickTaleCDNHTTPSRewrite(src):src);\r\n\texternalScript.type = \u0027text\/javascript\u0027;\r\n\tdocument.body.appendChild(externalScript);\r\n})();\r\n\r\n\r\n\r\n");
	document.body.appendChild(script);	})();
	}
			
	

	// Default configuration
if (!configFoundPTC)
{
			(function(){
	var script = ClickTaleXHTMLCompliantScriptTagCreate("\/\/ Copyright 2006-2014 ClickTale Ltd., US Patent Pending\r\n\/\/ PID: 283\r\n\/\/ WR destination: www06\r\n\/\/ WR version: 14.17\r\n\/\/ Recording ratio: 0.4\r\n\/\/ Generated on: 11\/27\/2014 12:02:54 PM (UTC 11\/27\/2014 6:02:54 PM)\r\n\r\n\r\nfunction ClickTaleCDNHTTPSRewrite(u)\r\n{\r\n\ttry\r\n\t{\r\n\t\tvar scripts = document.getElementsByTagName(\u0027script\u0027);\r\n\t\tif(scripts.length)\r\n\t\t{\r\n\t\t\tvar script = scripts[ scripts.length - 1 ], s=\u0027https:\/\/clicktalecdn.sslcs.cdngc.net\/\u0027;\r\n\t\t\tif(script.src \u0026\u0026 script.src.substr(0,s.length)==s )\r\n\t\t\t\treturn u.replace(\u0027https:\/\/cdnssl.clicktale.net\/\u0027,s);\r\n\t\t}\r\n\t}\r\n\tcatch(e)\r\n\t{\r\n\t}\r\n\treturn u;\r\n} \r\n\r\nvar ClickTaleIsXHTMLCompliant = true;\r\nif (typeof (ClickTaleCreateDOMElement) != \"function\")\r\n{\r\n\tClickTaleCreateDOMElement = function(tagName)\r\n\t{\r\n\t\tif (document.createElementNS)\r\n\t\t{\r\n\t\t\treturn document.createElementNS(\u0027http:\/\/www.w3.org\/1999\/xhtml\u0027, tagName);\r\n\t\t}\r\n\t\treturn document.createElement(tagName);\r\n\t}\r\n}\r\n\r\nif (typeof (ClickTaleAppendInHead) != \"function\")\r\n{\r\n\tClickTaleAppendInHead = function(element)\r\n\t{\r\n\t\tvar parent = document.getElementsByTagName(\u0027head\u0027).item(0) || document.documentElement;\r\n\t\tparent.appendChild(element);\r\n\t}\r\n}\r\n\r\nif (typeof (ClickTaleXHTMLCompliantScriptTagCreate) != \"function\")\r\n{\r\n\tClickTaleXHTMLCompliantScriptTagCreate = function(code)\r\n\t{\r\n\t\tvar script = ClickTaleCreateDOMElement(\u0027script\u0027);\r\n\t\tscript.setAttribute(\"type\", \"text\/javascript\");\r\n\t\tscript.text = code;\r\n\t\treturn script;\r\n\t}\r\n}\t\r\n\r\nvar pccScriptElement = ClickTaleCreateDOMElement(\u0027script\u0027);\r\npccScriptElement.type = \"text\/javascript\";\r\npccScriptElement.src = (document.location.protocol==\u0027https:\u0027?\r\nClickTaleCDNHTTPSRewrite(\u0027https:\/\/cdnssl.clicktale.net\/www06\/pcc\/9390c3c6-6b42-4b6b-93df-06f5ebb87daa.js?DeploymentConfigName=Release_28102014\u0026Version=1\u0027):\r\n\u0027http:\/\/cdn.clicktale.net\/www06\/pcc\/9390c3c6-6b42-4b6b-93df-06f5ebb87daa.js?DeploymentConfigName=Release_28102014\u0026Version=1\u0027);\r\ndocument.body.appendChild(pccScriptElement);\r\n\t\r\nvar ClickTalePrevOnReady;\r\nif(typeof ClickTaleOnReady == \u0027function\u0027)\r\n{\r\n\tClickTalePrevOnReady=ClickTaleOnReady;\r\n\tClickTaleOnReady=undefined;\r\n}\r\n\r\nif (typeof window.ClickTaleScriptSource == \u0027undefined\u0027)\r\n{\r\n\twindow.ClickTaleScriptSource=(document.location.protocol==\u0027https:\u0027\r\n\t\t?ClickTaleCDNHTTPSRewrite(\u0027https:\/\/cdnssl.clicktale.net\/www\/\u0027)\r\n\t\t:\u0027http:\/\/cdn.clicktale.net\/www\/\u0027);\r\n}\r\n\r\n\r\n\/\/ Start of user-defined pre WR code (PreLoad)b\r\nwindow.ClickTaleSettings = window.ClickTaleSettings || {};\r\nwindow.ClickTaleSettings.XHRWrapper = {\r\n    Enable: true,\r\n    RequestFilter: function (method, url) {\r\n        if (url.indexOf(\u0027bazaarvoice.com\u0027) \u003e -1 || url.indexOf(\u0027AjaxOrderChangeServiceItemAdd\u0027) \u003e -1 || url.indexOf(\u0027GetCatalogEntryDetailsByID\u0027) \u003e -1) {\r\n            return false;\r\n        }\r\n        if (url.search(\/webapp\\\/wcs\\\/stores\\\/servlet\/gi) != -1) {\r\n            return true;\r\n        }\r\n        if (url.search(\/OrderShippingBillingView\/gi) != -1) {\r\n            return true;\r\n        }\r\n        \/\/if (url.indexOf(\u0027AjaxPersonChangeServiceAddressAdd\u0027) \u003e -1) {\r\n        \/\/    return true;\r\n        \/\/}\r\n        \r\n        return false;\r\n    }\r\n}\r\n\/*if(document.location.href.indexOf(\"PromotionCodeManage?\") \u003e-1){\r\n\twindow.ClickTaleIncludedOnDOMReady = true;\r\n\tClickTaleSettings.Transport = {\r\n\t\tLegacy: false\r\n\t};\r\n\tClickTaleSettings.Compression = {\r\n\t\tMethod: function () { return \"deflate\"; }\r\n\t};\r\n\tClickTaleSettings.RewriteRules = {\r\n\t\tOnBeforeRewrite: function (rewriteApi) {\r\n\t\t\t\/\/rewriteApi.clear();\r\n\t\t\trewriteApi.add({\r\n\t\t\t\tpattern: new RegExp(\u0027(\u003cinput[^\u003e]*value=\")([^\"]+)(\"[^\u003e]*type=\"text\"\u003e)\u0027, \u0027gim\u0027),\r\n\t\t\t\treplace: \"$1-----$3\"\r\n\t\t\t});\r\n\t\t\trewriteApi.add({\r\n\t\t\t\tpattern: new RegExp(\u0027(\u003cinput[^\u003e]*type=\"text\"[^\u003e]*value=\")([^\"]*)(\"[^\u003e]*\u003e)\u0027, \u0027gim\u0027),\r\n\t\t\t\treplace: \"$1-----$3\"\r\n\t\t\t});\t\r\n\t\t}\r\n\t}\r\n\tClickTaleSettings.ctIsTrans = true; \r\n}*\/\r\n\/\/ End of user-defined pre WR code\r\n\r\n\r\nvar ClickTaleOnReady = function()\r\n{\r\n\tvar PID=283, \r\n\t\tRatio=0.4, \r\n\t\tPartitionPrefix=\"www06\";\r\n\t\r\n\tif (window.navigator \u0026\u0026 window.navigator.loadPurpose === \"preview\") {\r\n       return; \/\/in preview\r\n\t   };\r\n\t\t\r\n\t\r\n\t\/\/ Start of user-defined header code (PreInitialize)\r\n\tif (window.WRc) {\r\n    window.WRc();\r\n}\r\n\r\nif (typeof ClickTaleSetAllSensitive == \u0027function\u0027) { ClickTaleSetAllSensitive(); }\r\n\/\/temporarily don\u0027t record the promo code manager + SGH-103\r\nif((document.location.href.indexOf(\"PromotionCodeManage?\") \u003e -1 \u0026\u0026 !\/Android|webOS|iPhone|iPad|iPod|BlackBerry\/i.test(navigator.userAgent)) || document.location.href.indexOf(\"www.sunglasshut.com\/sgh-wo\/\") \u003e -1){\r\n\treturn;\r\n}\r\nelse{\r\n\tClickTaleFetchFromWithCookies.setFromCookie(\"JSESSIONID\");\r\n    ClickTaleFetchFromWithCookies.setFromCookie(\"facets\");\r\n    ClickTaleFetchFromWithCookies.setFromCookie(\"cartVersion\");\r\n    ClickTaleFetchFromWithCookies.setFromCookie(\/^WC_.*\/);\r\n    ClickTaleFetchFromWithCookies.setFromCookie(\"s_gpp\");\r\n    ClickTaleFetchFromWithCookies.setFromCookie(\"s_ppv\");\r\n\tvar ct_fua = \"#\" + encodeURIComponent(\"CTFetchUserAgent=VisitorUserAgent\");\r\n\tvar FetchURL = window.location.href + ct_fua;\r\n\tClickTaleFetchFrom = ClickTaleFetchFromWithCookies.constructFetchFromUrl(FetchURL);\r\n}\r\n\t\/\/ End of user-defined header code (PreInitialize)\r\n    \r\n\t\r\n\twindow.ClickTaleIncludedOnDOMReady=true;\r\n\twindow.ClickTaleSSL=1;\r\n\t\r\n\tClickTale(PID, Ratio, PartitionPrefix);\r\n\t\r\n\tif((typeof ClickTalePrevOnReady == \u0027function\u0027) \u0026\u0026 (ClickTaleOnReady.toString() != ClickTalePrevOnReady.toString()))\r\n\t{\r\n    \tClickTalePrevOnReady();\r\n\t}\r\n\t\r\n\t\r\n\t\/\/ Start of user-defined footer code\r\n\t\r\n\t\/\/ End of user-defined footer code\r\n\t\r\n}; \r\n(function() {\r\n\tvar div = ClickTaleCreateDOMElement(\"div\");\r\n\tdiv.id = \"ClickTaleDiv\";\r\n\tdiv.style.display = \"none\";\r\n\tdocument.body.appendChild(div);\r\n\r\n\tvar externalScript = ClickTaleCreateDOMElement(\"script\");\r\n\tvar src = document.location.protocol==\u0027https:\u0027?\r\n\t  \u0027https:\/\/cdnssl.clicktale.net\/www\/tc\/WRe17.js\u0027:\r\n\t  \u0027http:\/\/cdn.clicktale.net\/www\/tc\/WRe17.js\u0027;\r\n\texternalScript.src = (window.ClickTaleCDNHTTPSRewrite?ClickTaleCDNHTTPSRewrite(src):src);\r\n\texternalScript.type = \u0027text\/javascript\u0027;\r\n\tdocument.body.appendChild(externalScript);\r\n})();\r\n\r\n\r\n\r\n");
	document.body.appendChild(script);	})();
	}

