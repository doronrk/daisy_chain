var Status={dimensions:{isSet:false},anchor:{},tooltip:{isAlreadyBuilt:false,isAlreadyBuiltRight:false,isOpen:false}};var Helper={pageDimensions:function(){Status.dimensions.documentWidth=docWidth=jQuery(document).width();Status.dimensions.documentHeight=docHeight=jQuery(document).height();Status.dimensions.windowWidth=winWidth=jQuery(window).width();Status.dimensions.windowHeight=winHeight=jQuery(window).height();Status.dimensions.bodyWidth=bodyWidth=jQuery("body").width();Status.dimensions.bodyHeight=bodyHeight=jQuery("body").height();Status.dimensions.overlayWidth=(jQuery.browser.msie&&parseInt(jQuery.browser.version)<7)?bodyWidth:docWidth;Status.dimensions.overlayHeight=(docHeight<winHeight)?winHeight:docHeight},anchorCoord:function(link){this.link=link;Status.anchor.top=link.offset().top;Status.anchor.left=link.offset().left;Status.anchor.right=link.offset().right;Status.anchor.height=link.height();Status.anchor.width=link.width()}};jQuery.fn.extend({tooltipClick:function(direction,isHover){var target=jQuery(this);Helper.anchorCoord(target);var targetData=target.siblings(".tooltipData");var targetDataClassArray=targetData.attr("class").split(" ");var targetDataContent=targetData.html();var targetDataWidth=targetData.width();if(direction=="right"){var leftCoord=Status.anchor.left+(Status.anchor.width+25);var topCoord=Status.anchor.top-48;if(Status.tooltip.isAlreadyBuilt){jQuery("#tooltipWindowRight").css({top:-10000})}if(Status.tooltip.isAlreadyBuiltRight){var tooltipWindowRight=jQuery("#tooltipWindowRight").removeAttr("class").addClass(targetDataClassArray[1]);tooltipWindowRight.children(".wrapper").html(targetDataContent)}else{var tooltipWindowRight=jQuery('<div class="'+targetDataClassArray[1]+'" id="tooltipWindowRight"><div class="wrapper">'+targetDataContent+"</div></div>").appendTo("body");Status.tooltip.isAlreadyBuiltRight=true}tooltipWindowRight.css({left:leftCoord,top:topCoord,zIndex:1500});if(isHover){var targetTooltip=target.add(tooltipWindowRight);targetTooltip.hover(function(e){e.preventDefault()},function(e){jQuery("#tooltipWindowRight").css({top:-10000});e.preventDefault()})}}else{var leftCoord=Status.anchor.left-(targetDataWidth+5);var topCoord=Status.anchor.top-48;if(Status.tooltip.isAlreadyBuiltRight){jQuery("#tooltipWindowRight").css({top:-10000})}if(Status.tooltip.isAlreadyBuilt){var tooltipWindow=jQuery("#tooltipWindow").removeAttr("class").addClass(targetDataClassArray[1]);tooltipWindow.children(".wrapper").html(targetDataContent)}else{var tooltipWindow=jQuery('<div class="'+targetDataClassArray[1]+'" id="tooltipWindow"><div class="wrapper">'+targetDataContent+"</div></div>").appendTo("body");Status.tooltip.isAlreadyBuilt=true}tooltipWindow.css({left:leftCoord,top:topCoord,zIndex:1500});if(isHover){var targetTooltip=target.add(tooltipWindow);targetTooltip.hover(function(e){e.preventDefault()},function(e){jQuery("#tooltipWindow").css({top:-10000});e.preventDefault()})}}jQuery("#tooltipWindowRight .tooltipClickClose").bind("click",function(e){e.preventDefault();jQuery("#tooltipWindowRight").css({top:-10000})});jQuery("#tooltipWindow .tooltipClickClose").bind("click",function(e){e.preventDefault();jQuery("#tooltipWindow").css({top:-10000})})}});jQuery(window).resize(function(){Status.dimensions.isSet=false});