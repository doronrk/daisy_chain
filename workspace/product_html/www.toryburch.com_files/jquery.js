/** Custom Plugins */typeof jQuery=="function"&&(jQuery.fn.clearSelect=function(){return this.each(function(){this.tagName=="SELECT"&&(this.options.length=0)})},jQuery.fn.fillSelect=function(e,t,n){return this.clearSelect().each(function(){if(this.tagName=="SELECT"){var r=this;t||(t="text"),n||(n="value"),jQuery.each(e,function(e,i){var s=new Option(i[t],i[n]);jQuery.browser.msie?r.add(s):r.add(s,null)})}})},jQuery.fn.sortOptions=function(e){return e=typeof e=="undefined"?!0:e,this.each(function(){if(this.tagName=="SELECT"){var t=jQuery(this),n=t.val(),r=jQuery("option",this);e?r.sort(function(e,t){var n=e.value==""?0:e.text.toUpperCase()==t.text.toUpperCase()?0:e.text.toUpperCase()<t.text.toUpperCase()?-1:1;return n}):r.sort(function(e,t){var n=e.value==""?0:e.value==t.value?0:e.value<t.value?-1:1;return n}),t.html(r).val(n)}})},jQuery.fn.fadeSwap=function(e){return this.each(function(){if(this.tagName=="IMG"&&this.src!=e){var t=jQuery(this),n=new Image;t.fadeOut("fast",function(){jQuery(n).load(function(){t.css("display","none").attr("src",this.src).fadeIn()}).attr("src",e)})}})},jQuery.fn.watermark=function(e){var t=typeof arguments[0]=="string"&&arguments[0];return this.each(function(){if(this.tagName=="INPUT"){var e=jQuery(this),n=e.attr("placeholder")||e.attr("watermark")||e.attr("title");"placeholder"in document.createElement("input")?e.attr("placeholder")||e.attr("placeholder",n):t=="clear"?e.val()==n&&e.val(""):(e.val()===""&&e.val(n),e.focus(function(){var t=e.val();t===""||t===n?e.val(""):e.select()}).blur(function(){e.val()===""&&e.val(n)}))}})},jQuery.fn.commaSeparatedText=function(){var e=[];return this.each(function(){e.push(jQuery(this).text())}),e.join(",")},jQuery.fn.textAreaMaxLength=function(){return this.each(function(){if(this.tagName.toLowerCase()=="textarea"){var e=parseInt(jQuery(this).attr("maxlength"));this.onkeypress=function(t){var n=t||event,r=n.keyCode,i=document.selection?document.selection.createRange().text.length>0:this.selectionStart!=this.selectionEnd;return!(this.value.length>=e&&(r>50||r==32||r==0||r==13)&&!n.ctrlKey&&!n.altKey&&!i)},this.onkeyup=function(){this.value.length>e&&(this.value=this.value.substring(0,e))}}})},jQuery.fn.smartResize=function(e){var t=0,n=jQuery.browser.msie&&6==~~jQuery.browser.version;return!e.height&&!e.width?this:(e.height&&e.width&&(t=e.width/e.height),this.one("load",function(){var n=jQuery(this);if(n.hasClass("noresize"))return;var r=n.height(),i=n.width();i>0||(i=n.attr("width")||this.style.width);var s=i/r,o=e.height,u=e.width,f=t;f||(o?f=s+1:f=s-1);if(o&&r!=o||u&&i!=u){s>f?o=~~(r/i*u):u=~~(i/r*o),n.width(u).attr("orig-width",i).height(o).attr("orig-height",r).addClass("resized");var l=n.attr("usemap");if(l){var c=jQuery(l),h=jQuery("area",c),p=u/i;h.each(function(){var e=jQuery(this),t=this.coords.split(",");e.attr("orig-coords",this.coords);for(var n=0;n<t.length;n++)t[n]=parseInt(t[n])*p,t[n]=Math.round(t[n]);this.coords=t.join(",")})}}e.callback&&typeof e.callback=="function"&&e.callback.apply(this)}).each(function(){this.tagName=="IMG"?((this.complete||n)&&jQuery(this).trigger("load"),this.src=this.src):jQuery(this).trigger("load")}))},jQuery.fn.undoSmartResize=function(){return this.each(function(){var e=jQuery(this),t=e.attr("orig-height"),n=e.attr("orig-width");t&&e.height(t).removeAttr("orig-height"),n&&e.width(n).removeAttr("orig-width"),e.removeClass("resized");var r=e.attr("usemap");if(r){var i=jQuery(r),s=jQuery("area",i);s.each(function(){var e=jQuery(this),t=e.attr("orig-coords");t&&(this.coords=t),e.removeAttr("orig-coords")})}})},jQuery.fn.shrinkToWidth=function(e){return this.smartResize({width:e})},jQuery.fn.formatTweets=function(e){return this.each(function(){var t=jQuery(this);e&&(e.error?t.hide().append('<div class="tweet">'+e.error+"</div>"):(t.addClass("loading"),jQuery.each(e,function(e,n){var r=[],i=n.text;if(n.entities){jQuery.each(n.entities.hashtags,function(e,t){var n='<a class="twitter-hashtag" target="_blank" href="http://twitter.com/search?q=%23'+t.text+'"><span class="hash">#</span><span class="hash-text">'+t.text+"</span></a>";r.push({replacement:n,start:t.indices[0],end:t.indices[1]})}),jQuery.each(n.entities.urls,function(e,t){var n='<a class="twitter-link" target="_blank" href="'+t.url+'">'+t.display_url+"</a>";r.push({replacement:n,start:t.indices[0],end:t.indices[1]})}),jQuery.each(n.entities.user_mentions,function(e,t){var n='<a class="twitter-mention" target="_blank" href="http://twitter.com/'+t.screen_name+'"><span class="at">@</span><span class="at-text">'+t.screen_name+"</span></a>";r.push({replacement:n,start:t.indices[0],end:t.indices[1]})}),r.sort(function(e,t){return e.start-t.start});var s=[],o=0;jQuery.each(r,function(e,t){s.push(i.substring(o,t.start)),s.push(t.replacement),o=t.end}),s.push(i.substring(o)),s.length>0&&(i=s.join(""))}t.append('<div class="tweet">'+i+"</div>")}),t.removeClass("loading")))})},jQuery.getScriptCached=function(e,t){return t=jQuery.extend(t||{},{dataType:"script",cache:!0,url:e}),jQuery.ajax(t)},jQuery.fn.firstWordItalic=function(e){return e=typeof e=="undefined"?!0:e,this.each(function(){var t=jQuery(this),n=jQuery.trim(t.text()),r=n.split(" ");r.length>1&&(r[0]=e?'<i class="lowercase">'+r[0]+"</i>":"<i>"+r[0]+"</i>"),t.html(r.join(" ")).addClass("firstWordItalicized")})},jQuery.fn.undoFirstWordItalic=function(){return this.each(function(){var e=jQuery(this);e.html(e.text()).removeClass("firstWordItalicized")})},jQuery.fn.shrinkFontToFit=function(e){return e=typeof e=="undefined"?100:e,this.each(function(t){var n=jQuery(this);n.removeAttr("style");var r=n.css("font-size").replace("px",""),i=n.css("line-height").replace("px",""),s=n.height();while(s>e){r=r-1>8?r-1:8,i=i-1>10?i-1:10,n.css({fontSize:r+"px",lineHeight:i+"px"}).addClass("fontShrunk"),s=n.height();if(r==8)break}})},jQuery.fn.undoShrinkFontToFit=function(){return this.each(function(){jQuery(this).removeClass("fontShrunk").removeAttr("style")})},jQuery.fn.changeElementType=function(e){return this.each(function(){var t={};jQuery.each(this.attributes,function(e,n){t[n.nodeName]=n.nodeValue}),jQuery(this).replaceWith(function(){return jQuery("<"+e+"/>",t).append(jQuery(this).contents())})})},jQuery.fn.matchHeights=function(){var e=0;return jQuery(this).each(function(){var t=jQuery(this).height();e=e>t?e:t}),this.each(function(){jQuery(this).css("min-height",e)})},jQuery.fn.blogTitleStyling=function(){return this.each(function(){var e=jQuery(this);if(e.is(".blogTitleStyled")==0&&e.children().length==0){var t=e.text();t=t.replace("[Template]","");var n;t.indexOf(":")>-1?n=":":t.indexOf("...")>-1?n="...":t.indexOf("…")>-1&&(n="…");if(n){var r=t.split(n);if(r.length>0){var i='<span class="part1">'+r.join(n+'</span><span class="part2">')+"</span>";e.html(i).addClass("blogTitleStyled")}}}})},jQuery.extend({scrollTo:function(e,t){var n=0;if(isNaN(e))if(typeof e=="string"){var r=jQuery(e);n=r.offset().top}else typeof e=="object"&&(n=e.offset().top);else n=e;jQuery("html, body").animate({scrollTop:n},500,function(){typeof t=="function"&&(t(),t=1)})},getUrlVars:function(e){var t=[],n;e||(e=window.location.href);var r=e.slice(e.indexOf("?")+1).split("&");for(var i=0;i<r.length;i++)n=r[i].split("="),t.push(n[0]),t[n[0]]=n[1];return t},getUrlVar:function(e,t){return jQuery.getUrlVars(t)[e]},capitalizeWords:function(e){return e.toLowerCase().replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()})},stayInWebApp:function(e){"standalone"in window.navigator&&window.navigator.standalone&&(e=typeof e!="string"?"a":e,$("body").addClass("ios-web-app").delegate(e,"click",function(e){var t=$(this),n=!0,r=t.attr("target"),i=t.attr("href");if(!r||r=="_self")i.match(/^http(s?)/g)?i.indexOf("toryburch.")>-1||i.indexOf(".na.trb.demandware.")>-1?n=!0:n=!1:n=!0;n&&(e.preventDefault(),self.location=i)}))}}),jQuery.reduce=function(e,t,n){return Array.prototype.reduce?Array.prototype.reduce.call(e,t,n):($.each(e,function(r,i){n=t.call(null,n,i,r,e)}),n)});