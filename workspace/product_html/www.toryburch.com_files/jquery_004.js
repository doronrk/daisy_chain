/* please minify your script before pasting into this file http://refresh-sf.com/yui/ *//** Endless Scroll plugin for jQuery v1.3 * Copyright (c) 2008 Fred Wu * Dual licensed under the MIT and GPL licenses: *   http://www.opensource.org/licenses/mit-license.php *   http://www.gnu.org/licenses/gpl.html */(function(e){e.fn.endlessScroll=function(t){var n={bottomPixels:50,fireOnce:!0,fireDelay:150,loader:"<br />Loading...<br />",data:"",insertAfter:"div:last",resetCounter:function(){return!1},callback:function(){return!0},ceaseFire:function(){return!1}},t=e.extend(n,t),r=!0,i=!1,s=0;t.ceaseFire.apply(this)===!0&&(r=!1,e(window).unbind("scroll")),r===!0&&e(window).scroll(function(){if(e(document).height()-e(window).height()<=e(window).scrollTop()+t.bottomPixels)if(t.fireOnce==0||t.fireOnce==1&&i!=1){t.resetCounter.apply(this)===!0&&(s=0),i=!0,s++,e("div#endless_scroll_loader").length<1&&e(t.insertAfter).after('<div id="endless_scroll_loader">'+t.loader+"</div>"),typeof t.data=="function"?data=t.data.apply(this):data=t.data;if(data!==!1){data.length>0&&(e(t.insertAfter).after('<div id="endless_scroll_data">'+data+"</div>"),e("div#endless_scroll_data").hide().fadeIn(),e("div#endless_scroll_data").removeAttr("id"));var n=new Array;n[0]=s,t.callback.apply(this,n),t.fireDelay!==!1||t.fireDelay!==0?(e(document.body).after('<div id="endless_scroll_marker"></div>'),e("div#endless_scroll_marker").fadeTo(t.fireDelay,1,function(){e(this).remove(),i=!1})):i=!1}}})}})(jQuery),function(e){function t(){return setTimeout(n,0),f=e.now()}function n(){f=void 0}var r={},i,s,o=/^(?:toggle|show|hide)$/,u=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,a,f,l=document.createElement("div").style,c;e.support.transition="MozTransition"in l?"MozTransition":"WebkitTransition"in l?"WebkitTransition":!1,e.cssNumber.color=e.cssNumber.backgroundColor=!0,c={linear:"linear",swing:"ease-out",bounce:"cubic-bezier(0,.35,.5,1.3)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)"},e.fn.extend({animate:function(t,n,a,f){function l(){!1===h.queue&&e._mark(this);var n=e.extend({},h),a=1===this.nodeType,f=a&&e(this).is(":hidden"),l,p,v,m,g;g=e.cssProps;var b=!n.step&&e.support.transition,E=[],S,x;n.animatedProperties={},n.transition={};for(v in t)if(l=e.camelCase(v),v!==l&&(t[l]=t[v],delete t[v]),(p=e.cssHooks[l])&&"expand"in p)for(v in m=p.expand(t[l]),delete t[l],m)v in t||(t[v]=m[v]);for(l in t){p=t[l],e.isArray(p)?(m=n.animatedProperties[l]=p[1],p=t[l]=p[0]):m=n.animatedProperties[l]=n.specialEasing&&n.specialEasing[l]||n.easing||"swing";if(m=b&&a&&0<n.duration&&l.indexOf("scroll")&&c[m])S=g[l]||l,x=S.replace(/([A-Z])/g,"-$1").toLowerCase(),m=x+" "+n.duration+"ms "+m,n.transition[l]={lower:x,real:S},E.push(m);if("hide"===p&&f||"show"===p&&!f)return n.complete.call(this);if(a&&("height"===l||"width"===l))if(n.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===e.css(this,"display")&&"none"===e.css(this,"float")){if(!(p=!e.support.inlineBlockNeedsLayout)){p=this.nodeName;if(!r[p]){m=document.body,S=e("<"+p+">").appendTo(m),x=S.css("display"),S.remove();if("none"===x||""===x){i||(i=document.createElement("iframe"),i.frameBorder=i.width=i.height=0),m.appendChild(i);if(!s||!i.createElement)s=(i.contentWindow||i.contentDocument).document,s.write((e.support.boxModel?"<!doctype html>":"")+"<html><body>"),s.close();S=s.createElement(p),s.body.appendChild(S),x=e.css(S,"display"),m.removeChild(i)}r[p]=x}p="inline"===r[p]}p?this.style.display="inline-block":this.style.zoom=1}}null!=n.overflow&&(this.style.overflow="hidden");for(v in t)(a=new e.fx(this,n,v),p=t[v],o.test(p))?(l=e._data(this,"toggle"+v)||("toggle"===p?f?"show":"hide":0))?(e._data(this,"toggle"+v,"show"===l?"hide":"show"),a[l]()):a[p]():(l=u.exec(p),g=a.cur(),l?(p=parseFloat(l[2]),m=l[3]||(e.cssNumber[v]?"":"px"),"px"!==m&&(e.style(this,v,(p||1)+m),g*=(p||1)/a.cur(),e.style(this,v,g+m)),l[1]&&(p=("-="===l[1]?-1:1)*p+g),a.custom(g,p,m)):a.custom(g,p,""));if(b&&E.length)for(v in m=this.style[b],f=window.getComputedStyle(this),this.style[b]=E.join()+(m&&m.indexOf("none")?","+m:""),n.transition)f[v],e.style.apply(null,n.transition[v].styleToSet);return!0}var h=e.speed(n,a,f);return e.isEmptyObject(t)?this.each(h.complete,[!1]):(t=e.extend({},t),!1===h.queue?this.each(l):this.queue(h.queue,l))},stop:function(t,n,r){return"string"!=typeof t&&(r=n,n=t,t=void 0),n&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var n,i=!1,s=e.timers,o=e._data(this),u=e.support.transition;r||e._unmark(!0,this);if(t==null){for(n in o)if(o[n]&&o[n].stop&&n.indexOf(".run")===n.length-4){var a=o[n];e.removeData(this,n,!0),a.stop(r)}}else o[n=t+".run"]&&o[n].stop&&(o=o[n],e.removeData(this,n,!0),o.stop(r));for(n=s.length;n--;)s[n].elem===this&&(t==null||s[n].queue===t)&&((r||u)&&s[n](r),r||s[n].saveState(),i=!0,s.splice(n,1));(!r||!i)&&e.dequeue(this,t)})}}),e.extend(e.fx.prototype,{cur:function(){if(null==this.elem[this.prop]||!!this.elem.style&&null!=this.elem.style[this.prop]){var t,n=e.css(this.elem,this.prop);return isNaN(t=parseFloat(n))?!n||"auto"===n?0:n:t}return this.elem[this.prop]},custom:function(n,r,i){function s(e){return o.step(e)}var o=this,u=e.fx,l=o.options.transition,c=this.prop;this.startTime=f||t(),this.end=r,this.now=this.start=n,this.pos=this.state=0,this.unit=i||this.unit||(e.cssNumber[c]?"":"px"),s.queue=this.options.queue,s.elem=this.elem,s.saveState=function(){void 0===e._data(o.elem,"fxshow"+o.prop)&&(o.options.hide?e._data(o.elem,"fxshow"+o.prop,o.start):o.options.show&&e._data(o.elem,"fxshow"+o.prop,o.end))},(s.transition=l[c])?(e.timers.push(s),"transform"!=c&&(o.elem.style[l[c].real]=n+o.unit),e.fx.step[c]&&(r=Math.max(0,r)),l[c].styleToSet=[o.elem,c,r+o.unit],l[c].timeout=setTimeout(function(){e.timers.splice(e.timers.indexOf(s),1),o.step(!0)},o.options.duration+30)):s()&&e.timers.push(s)&&!a&&(a=setInterval(u.tick,u.interval))},step:function(n){var r,i=f||t(),s=!0,o=this.elem,u=this.options,a=u.transition[this.prop],l=i>=u.duration+this.startTime,c=e.support.transition;if(a||n||l){a?(clearTimeout(a.timeout),!n&&!l&&(this.elem.style[a.real]=e.css(this.elem,a.real))):(this.now=this.end,this.pos=this.state=1,this.update()),u.animatedProperties[this.prop]=!0;for(r in u.animatedProperties)!0!==u.animatedProperties[r]&&(s=!1);if(s){null!=u.overflow&&!e.support.shrinkWrapBlocks&&e.each(["","X","Y"],function(e,t){o.style["overflow"+t]=u.overflow[e]}),u.hide&&e(o).hide();if(a){a=","+o.style[c];for(r in u.transition)a=a.split(u.transition[r].lower).join("_");a=a.replace(/, ?_[^,]*/g,"").substr(1),o.style[c]=a||"none",!a&&(o.style[c]=a)}if(u.hide||u.show)for(r in u.animatedProperties)(n||l)&&e.style(o,r,u.orig[r]),e.removeData(o,"fxshow"+r,!0),e.removeData(o,"toggle"+r,!0);(r=u.complete)&&(n||l)&&(u.complete=!1,r.call(o))}return!1}return Infinity==u.duration?this.now=i:(n=i-this.startTime,this.state=n/u.duration,this.pos=e.easing[u.animatedProperties[this.prop]](this.state,n,0,1,u.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}}),e.extend(e.fx,{tick:function(){for(var t,n=e.timers,r=0;r<n.length;r++)t=n[r],!t.transition&&!t()&&n[r]===t&&n.splice(r--,1);n.length||e.fx.stop()}})}(jQuery),jQuery.cookie=function(e,t,n){if(arguments.length>1&&String(t)!=="[object Object]"){n=jQuery.extend({},n);if(t===null||t===undefined)n.expires=-1;if(typeof n.expires=="number"){var r=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+r)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=t||{};var s,o=n.raw?function(e){return e}:decodeURIComponent;return(s=(new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)")).exec(document.cookie))?o(s[1]):null},function(e){e.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage"]},e.expr[":"].uncached=function(t){return e(t).is('img[src!=""]')&&!t.complete},e.fn.waitForImages=function(t,n,r){e.isPlainObject(arguments[0])&&(n=t.each,r=t.waitForAll,t=t.finished),t=t||e.noop,n=n||e.noop,r=!!r;if(!e.isFunction(t)||!e.isFunction(n))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var i=e(this),s=[];if(r){var o=e.waitForImages.hasImageProperties||[],u=/url\((['"]?)(.*?)\1\)/g;i.find("*").each(function(){var t=e(this);t.is("img:uncached")&&s.push({src:t.attr("src"),element:t[0]}),e.each(o,function(e,n){var r=t.css(n);if(!r)return!0;var i;while(i=u.exec(r))s.push({src:i[2],element:t[0]})})})}else i.find("img:uncached").each(function(){s.push({src:this.src,element:this})});var f=s.length,l=0;f==0&&t.call(i[0]),e.each(s,function(r,s){var o=new Image;e(o).bind("load error",function(e){l++,n.call(s.element,l,f,e.type=="load");if(l==f)return t.call(i[0]),!1}),o.src=s.src})})}}(jQuery),function(e){var t={vertical:!1,rtl:!1,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,setupCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,animationStepCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null,itemFallbackDimension:null},n=!1;e(window).bind("load.jcarousel",function(){n=!0}),e.jcarousel=function(r,i){this.options=e.extend({},t,i||{}),this.autoStopped=this.locked=!1,this.buttonPrevState=this.buttonNextState=this.buttonPrev=this.buttonNext=this.list=this.clip=this.container=null;if(!i||i.rtl===void 0)this.options.rtl=(e(r).attr("dir")||e("html").attr("dir")||"").toLowerCase()=="rtl";this.wh=this.options.vertical?"height":"width",this.lt=this.options.vertical?"top":this.options.rtl?"right":"left";for(var s="",o=r.className.split(" "),u=0;u<o.length;u++)if(o[u].indexOf("jcarousel-skin")!=-1){e(r).removeClass(o[u]),s=o[u];break}r.nodeName.toUpperCase()=="UL"||r.nodeName.toUpperCase()=="OL"?(this.list=e(r),this.clip=this.list.parents(".jcarousel-clip"),this.container=this.list.parents(".jcarousel-container")):(this.container=e(r),this.list=this.container.find("ul,ol").eq(0),this.clip=this.container.find(".jcarousel-clip")),this.clip.size()===0&&(this.clip=this.list.wrap("<div></div>").parent()),this.container.size()===0&&(this.container=this.clip.wrap("<div></div>").parent()),s!==""&&this.container.parent()[0].className.indexOf("jcarousel-skin")==-1&&this.container.wrap('<div class=" '+s+'"></div>'),this.buttonPrev=e(".jcarousel-prev",this.container),this.buttonPrev.size()===0&&this.options.buttonPrevHTML!==null&&(this.buttonPrev=e(this.options.buttonPrevHTML).appendTo(this.container)),this.buttonPrev.addClass(this.className("jcarousel-prev")),this.buttonNext=e(".jcarousel-next",this.container),this.buttonNext.size()===0&&this.options.buttonNextHTML!==null&&(this.buttonNext=e(this.options.buttonNextHTML).appendTo(this.container)),this.buttonNext.addClass(this.className("jcarousel-next")),this.clip.addClass(this.className("jcarousel-clip")).css({position:"relative"}),this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0),this.container.addClass(this.className("jcarousel-container")).css({position:"relative"}),!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var a=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null,s=this.list.children("li"),f=this;if(s.size()>0){var l=0,c=this.options.offset;s.each(function(){f.format(this,c++),l+=f.dimension(this,a)}),this.list.css(this.wh,l+100+"px");if(!i||i.size===void 0)this.options.size=s.size()}this.container.css("display","block"),this.buttonNext.css("display","block"),this.buttonPrev.css("display","block"),this.funcNext=function(){f.next()},this.funcPrev=function(){f.prev()},this.funcResize=function(){f.resizeTimer&&clearTimeout(f.resizeTimer),f.resizeTimer=setTimeout(function(){f.reload()},100)},this.options.initCallback!==null&&this.options.initCallback(this,"init"),!n&&e.browser.safari?(this.buttons(!1,!1),e(window).bind("load.jcarousel",function(){f.setup()})):this.setup()};var r=e.jcarousel;r.fn=r.prototype={jcarousel:"0.2.8"},r.fn.extend=r.extend=e.extend,r.fn.extend({setup:function(){this.prevLast=this.prevFirst=this.last=this.first=null,this.animating=!1,this.tail=this.resizeTimer=this.timer=null,this.inTail=!1;if(!this.locked){this.list.css(this.lt,this.pos(this.options.offset)+"px");var t=this.pos(this.options.start,!0);this.prevFirst=this.prevLast=null,this.animate(t,!1),e(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize),this.options.setupCallback!==null&&this.options.setupCallback(this)}},reset:function(){this.list.empty(),this.list.css(this.lt,"0px"),this.list.css(this.wh,"10px"),this.options.initCallback!==null&&this.options.initCallback(this,"reset"),this.setup()},reload:function(){this.tail!==null&&this.inTail&&this.list.css(this.lt,r.intval(this.list.css(this.lt))+this.tail),this.tail=null,this.inTail=!1,this.options.reloadCallback!==null&&this.options.reloadCallback(this);if(this.options.visible!==null){var e=this,t=Math.ceil(this.clipping()/this.options.visible),n=0,i=0;this.list.children("li").each(function(r){n+=e.dimension(this,t),r+1<e.first&&(i=n)}),this.list.css(this.wh,n+"px"),this.list.css(this.lt,-i+"px")}this.scroll(this.first,!1)},lock:function(){this.locked=!0,this.buttons()},unlock:function(){this.locked=!1,this.buttons()},size:function(e){return e!==void 0&&(this.options.size=e,this.locked||this.buttons()),this.options.size},has:function(e,t){if(t===void 0||!t)t=e;this.options.size!==null&&t>this.options.size&&(t=this.options.size);for(var n=e;n<=t;n++){var r=this.get(n);if(!r.length||r.hasClass("jcarousel-item-placeholder"))return!1}return!0},get:function(t){return e(">.jcarousel-item-"+t,this.list)},add:function(t,n){var i=this.get(t),s=0,o=e(n);if(i.length===0){for(var u,a=r.intval(t),i=this.create(t);;)if(u=this.get(--a),a<=0||u.length){a<=0?this.list.prepend(i):u.after(i);break}}else s=this.dimension(i);return o.get(0).nodeName.toUpperCase()=="LI"?(i.replaceWith(o),i=o):i.empty().append(n),this.format(i.removeClass(this.className("jcarousel-item-placeholder")),t),o=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null,s=this.dimension(i,o)-s,t>0&&t<this.first&&this.list.css(this.lt,r.intval(this.list.css(this.lt))-s+"px"),this.list.css(this.wh,r.intval(this.list.css(this.wh))+s+"px"),i},remove:function(e){var t=this.get(e);if(t.length&&!(e>=this.first&&e<=this.last)){var n=this.dimension(t);e<this.first&&this.list.css(this.lt,r.intval(this.list.css(this.lt))+n+"px"),t.remove(),this.list.css(this.wh,r.intval(this.list.css(this.wh))-n+"px")}},next:function(){this.tail!==null&&!this.inTail?this.scrollTail(!1):this.scroll(this.options.wrap!="both"&&this.options.wrap!="last"||this.options.size===null||this.last!=this.options.size?this.first+this.options.scroll:1)},prev:function(){this.tail!==null&&this.inTail?this.scrollTail(!0):this.scroll(this.options.wrap!="both"&&this.options.wrap!="first"||this.options.size===null||this.first!=1?this.first-this.options.scroll:this.options.size)},scrollTail:function(e){if(!this.locked&&!this.animating&&this.tail){this.pauseAuto();var t=r.intval(this.list.css(this.lt)),t=e?t+this.tail:t-this.tail;this.inTail=!e,this.prevFirst=this.first,this.prevLast=this.last,this.animate(t)}},scroll:function(e,t){!this.locked&&!this.animating&&(this.pauseAuto(),this.animate(this.pos(e),t))},pos:function(e,t){var n=r.intval(this.list.css(this.lt));if(this.locked||this.animating)return n;this.options.wrap!="circular"&&(e=e<1?1:this.options.size&&e>this.options.size?this.options.size:e);for(var i=this.first>e,s=this.options.wrap!="circular"&&this.first<=1?1:this.first,o=i?this.get(s):this.get(this.last),u=i?s:s-1,a=null,l=0,c=!1,h=0;i?--u>=e:++u<e;)a=this.get(u),c=!a.length,a.length===0&&(a=this.create(u).addClass(this.className("jcarousel-item-placeholder")),o[i?"before":"after"](a),this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(u<=0||u>this.options.size))&&(o=this.get(this.index(u)),o.length&&(a=this.add(u,o.clone(!0)))),o=a,h=this.dimension(a),c&&(l+=h),this.first!==null&&(this.options.wrap=="circular"||u>=1&&(this.options.size===null||u<=this.options.size))&&(n=i?n+h:n-h);for(var s=this.clipping(),p=[],d=0,v=0,o=this.get(e-1),u=e;++d;){a=this.get(u),c=!a.length,a.length===0&&(a=this.create(u).addClass(this.className("jcarousel-item-placeholder")),o.length===0?this.list.prepend(a):o[i?"before":"after"](a),this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(u<=0||u>this.options.size)&&(o=this.get(this.index(u)),o.length&&(a=this.add(u,o.clone(!0))))),o=a,h=this.dimension(a);if(h===0)throw Error("jCarousel: No width/height set for items. This will cause an infinite loop. Aborting...");this.options.wrap!="circular"&&this.options.size!==null&&u>this.options.size?p.push(a):c&&(l+=h),v+=h;if(v>=s)break;u++}for(a=0;a<p.length;a++)p[a].remove();l>0&&(this.list.css(this.wh,this.dimension(this.list)+l+"px"),i&&(n-=l,this.list.css(this.lt,r.intval(this.list.css(this.lt))-l+"px"))),l=e+d-1,this.options.wrap!="circular"&&this.options.size&&l>this.options.size&&(l=this.options.size);if(u>l){d=0,u=l;for(v=0;++d;){a=this.get(u--);if(!a.length)break;v+=this.dimension(a);if(v>=s)break}}u=l-d+1,this.options.wrap!="circular"&&u<1&&(u=1),this.inTail&&i&&(n+=this.tail,this.inTail=!1),this.tail=null,this.options.wrap!="circular"&&l==this.options.size&&l-d+1>=1&&(i=r.intval(this.get(l).css(this.options.vertical?"marginBottom":"marginRight")),v-i>s)&&(this.tail=v-s-i),t&&e===this.options.size&&this.tail&&(n-=this.tail,this.inTail=!0);for(;e-->u;)n+=this.dimension(this.get(e));return this.prevFirst=this.first,this.prevLast=this.last,this.first=u,this.last=l,n},animate:function(t,n){if(!this.locked&&!this.animating){this.animating=!0;var r=this,i=function(){r.animating=!1,t===0&&r.list.css(r.lt,0),!r.autoStopped&&(r.options.wrap=="circular"||r.options.wrap=="both"||r.options.wrap=="last"||r.options.size===null||r.last<r.options.size||r.last==r.options.size&&r.tail!==null&&!r.inTail)&&r.startAuto(),r.buttons(),r.notify("onAfterAnimation");if(r.options.wrap=="circular"&&r.options.size!==null)for(var e=r.prevFirst;e<=r.prevLast;e++)e!==null&&!(e>=r.first&&e<=r.last)&&(e<1||e>r.options.size)&&r.remove(e)};this.notify("onBeforeAnimation");if(!this.options.animation||n===!1)this.list.css(this.lt,t+"px"),i();else{var s=this.options.vertical?{top:t}:this.options.rtl?{right:t}:{left:t},i={duration:this.options.animation,easing:this.options.easing,complete:i};e.isFunction(this.options.animationStepCallback)&&(i.step=this.options.animationStepCallback),this.list.animate(s,i)}}},startAuto:function(e){e!==void 0&&(this.options.auto=e);if(this.options.auto===0)return this.stopAuto();if(this.timer===null){this.autoStopped=!1;var t=this;this.timer=window.setTimeout(function(){t.next()},this.options.auto*1e3)}},stopAuto:function(){this.pauseAuto(),this.autoStopped=!0},pauseAuto:function(){this.timer!==null&&(window.clearTimeout(this.timer),this.timer=null)},buttons:function(e,t){e==null&&(e=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="first"||this.options.size===null||this.last<this.options.size),!this.locked&&(!this.options.wrap||this.options.wrap=="first")&&this.options.size!==null&&this.last>=this.options.size)&&(e=this.tail!==null&&!this.inTail),t==null&&(t=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="last"||this.first>1),!this.locked&&(!this.options.wrap||this.options.wrap=="last")&&this.options.size!==null&&this.first==1)&&(t=this.tail!==null&&this.inTail);var n=this;this.buttonNext.size()>0?(this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext),e&&this.buttonNext.bind(this.options.buttonNextEvent+".jcarousel",this.funcNext),this.buttonNext[e?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",e?!1:!0),this.options.buttonNextCallback!==null&&this.buttonNext.data("jcarouselstate")!=e&&this.buttonNext.each(function(){n.options.buttonNextCallback(n,this,e)}).data("jcarouselstate",e)):this.options.buttonNextCallback!==null&&this.buttonNextState!=e&&this.options.buttonNextCallback(n,null,e),this.buttonPrev.size()>0?(this.buttonPrev.unbind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),t&&this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev),this.buttonPrev[t?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",t?!1:!0),this.options.buttonPrevCallback!==null&&this.buttonPrev.data("jcarouselstate")!=t&&this.buttonPrev.each(function(){n.options.buttonPrevCallback(n,this,t)}).data("jcarouselstate",t)):this.options.buttonPrevCallback!==null&&this.buttonPrevState!=t&&this.options.buttonPrevCallback(n,null,t),this.buttonNextState=e,this.buttonPrevState=t},notify:function(e){var t=this.prevFirst===null?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",e,t),this.prevFirst!==this.first&&(this.callback("itemFirstInCallback",e,t,this.first),this.callback("itemFirstOutCallback",e,t,this.prevFirst)),this.prevLast!==this.last&&(this.callback("itemLastInCallback",e,t,this.last),this.callback("itemLastOutCallback",e,t,this.prevLast)),this.callback("itemVisibleInCallback",e,t,this.first,this.last,this.prevFirst,this.prevLast),this.callback("itemVisibleOutCallback",e,t,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(t,n,r,i,s,o,u){if(this.options[t]!=null&&(typeof this.options[t]=="object"||n=="onAfterAnimation")){var a=typeof this.options[t]=="object"?this.options[t][n]:this.options[t];if(e.isFunction(a)){var f=this;if(i===void 0)a(f,r,n);else if(s===void 0)this.get(i).each(function(){a(f,this,i,r,n)});else for(var t=function(e){f.get(e).each(function(){a(f,this,e,r,n)})},l=i;l<=s;l++)l!==null&&!(l>=o&&l<=u)&&t(l)}}},create:function(e){return this.format("<li></li>",e)},format:function(t,n){for(var t=e(t),r=t.get(0).className.split(" "),i=0;i<r.length;i++)r[i].indexOf("jcarousel-")!=-1&&t.removeClass(r[i]);return t.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+n)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",n),t},className:function(e){return e+" "+e+(this.options.vertical?"-vertical":"-horizontal")},dimension:function(t,n){var i=e(t);if(n==null)return this.options.vertical?i.outerHeight(!0)||r.intval(this.options.itemFallbackDimension):i.outerWidth(!0)||r.intval(this.options.itemFallbackDimension);var s=this.options.vertical?n-r.intval(i.css("marginTop"))-r.intval(i.css("marginBottom")):n-r.intval(i.css("marginLeft"))-r.intval(i.css("marginRight"));return e(i).css(this.wh,s+"px"),this.dimension(i)},clipping:function(){return this.options.vertical?this.clip[0].offsetHeight-r.intval(this.clip.css("borderTopWidth"))-r.intval(this.clip.css("borderBottomWidth")):this.clip[0].offsetWidth-r.intval(this.clip.css("borderLeftWidth"))-r.intval(this.clip.css("borderRightWidth"))},index:function(e,t){return t==null&&(t=this.options.size),Math.round(((e-1)/t-Math.floor((e-1)/t))*t)+1}}),r.extend({defaults:function(n){return e.extend(t,n||{})},intval:function(e){return e=parseInt(e,10),isNaN(e)?0:e},windowLoaded:function(){n=!0}}),e.fn.jcarousel=function(t){if(typeof t=="string"){var n=e(this).data("jcarousel"),i=Array.prototype.slice.call(arguments,1);return n[t].apply(n,i)}return this.each(function(){var n=e(this).data("jcarousel");n?(t&&e.extend(n.options,t),n.reload()):e(this).data("jcarousel",new r(this,t))})}}(jQuery),function($,window,document,undefined){function Plugin(e,t){this.element=e,this.options=$.extend({},defaults,t),this._defaults=defaults,this._name=pluginName,this.init()}function is_touch_device(){return"ontouchstart"in window}function supportsTransitions(){var e=document.body||document.documentElement,t=e.style,n="transition";if(typeof t[n]=="string")return!0;v=["Moz","Webkit","Khtml","O","ms"],n=n.charAt(0).toUpperCase()+n.substr(1);for(var r=0;r<v.length;r++)if(typeof t[v[r]+n]=="string")return!0;return!1}var pluginName="tooltipster",defaults={animation:"fade",arrow:!0,arrowColor:"",content:null,delay:200,fixedWidth:0,maxWidth:0,functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},icon:"(?)",iconDesktop:!1,iconTouch:!1,iconTheme:".tooltipster-icon",interactive:!1,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:!0,position:"top",speed:350,timer:0,theme:".tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},transitionSupport=!0;supportsTransitions()||(transitionSupport=!1);var touchDevice=is_touch_device();$(window).on("mousemove.tooltipster",function(){touchDevice=!1,$(window).off("mousemove.tooltipster")}),Plugin.prototype={init:function(){var $this=$(this.element),object=this,run=!0;object.options.touchDevices==0&&touchDevice&&(run=!1),document.all&&!document.querySelector&&(run=!1);if(run==1){if(this.options.iconDesktop==1&&!touchDevice||this.options.iconTouch==1&&touchDevice){var transferContent=$this.attr("title");$this.removeAttr("title");var theme=object.options.iconTheme,icon=$('<span class="'+theme.replace(".","")+'" title="'+transferContent+'">'+this.options.icon+"</span>");icon.insertAfter($this),$this.data("tooltipsterIcon",icon),$this=icon}var tooltipsterContent=$this.attr("title");$this.data("tooltipsterContent",tooltipsterContent),$this.removeAttr("title");if(object.options.content){var isString=typeof object.options.content=="string",doEval=isString&&object.options.content.match("^jQuery\\(|^\\$\\(")!=null?!0:!1;if(!isString||doEval)if($.isFunction(object.options.content))tooltipsterContent=object.options.content.apply(this);else if(object.options.content.match("^jQuery\\(this|^\\$\\(this")!=null){var n=object.options.content.replace("jQuery(this)","$this");n=n.replace("$(this)","$this"),tooltipsterContent=eval(n)}else tooltipsterContent=eval(object.options.content);else tooltipsterContent=$.trim(object.options.content).length>0?object.options.content:$this.attr("title");$this.data("tooltipsterContent",tooltipsterContent)}this.options.touchDevices!=1||!touchDevice||this.options.trigger!="click"&&this.options.trigger!="hover"?(this.options.trigger=="hover"&&($this.on("mouseenter.tooltipster",function(){object.showTooltip()}),this.options.interactive==1?$this.on("mouseleave.tooltipster",function(){var e=$this.data("tooltipster"),t=!1;if(e!==undefined&&e!==""){e.mouseenter(function(){t=!0}),e.mouseleave(function(){t=!1});var n=setTimeout(function(){t==1?e.mouseleave(function(){object.hideTooltip()}):object.hideTooltip()},object.options.interactiveTolerance)}else object.hideTooltip()}):$this.on("mouseleave.tooltipster",function(){object.hideTooltip()})),this.options.trigger=="click"&&$this.on("click.tooltipster",function(){$this.data("tooltipster")==""||$this.data("tooltipster")==undefined?object.showTooltip():object.hideTooltip()})):$this.bind("touchstart",function(e,t){object.showTooltip()})}},showTooltip:function(e){var t=$(this.element),n=this;t.data("tooltipsterIcon")!==undefined&&(t=t.data("tooltipsterIcon")),t.hasClass("tooltipster-disable")||($(".tooltipster-base").not(".tooltipster-dying").length>0&&n.options.onlyOne==1&&$(".tooltipster-base").not(".tooltipster-dying").not(t.data("tooltipster")).each(function(){$(this).addClass("tooltipster-kill");var e=$(this).data("origin");e.data("plugin_tooltipster").hideTooltip()}),t.clearQueue().delay(n.options.delay).queue(function(){n.options.functionBefore(t,function(){if(t.data("tooltipster")!==undefined&&t.data("tooltipster")!==""){var e=t.data("tooltipster");if(!e.hasClass("tooltipster-kill")){var r="tooltipster-"+n.options.animation;e.removeClass("tooltipster-dying"),transitionSupport==1&&e.clearQueue().addClass(r+"-show");if(n.options.timer>0){var i=e.data("tooltipsterTimer");clearTimeout(i),i=setTimeout(function(){e.data("tooltipsterTimer",undefined),n.hideTooltip()},n.options.timer),e.data("tooltipsterTimer",i)}n.options.touchDevices==1&&touchDevice&&$("body").bind("touchstart",function(e){if(n.options.interactive==1){var t=$(e.target),r=!0;t.parents().each(function(){$(this).hasClass("tooltipster-base")&&(r=!1)}),r==1&&(n.hideTooltip(),$("body").unbind("touchstart"))}else n.hideTooltip(),$("body").unbind("touchstart")})}}else{$("body").css("overflow-x","hidden");var s=t.data("tooltipsterContent"),o=n.options.theme,u=o.replace(".",""),r="tooltipster-"+n.options.animation,a="-webkit-transition-duration: "+n.options.speed+"ms; -webkit-animation-duration: "+n.options.speed+"ms; -moz-transition-duration: "+n.options.speed+"ms; -moz-animation-duration: "+n.options.speed+"ms; -o-transition-duration: "+n.options.speed+"ms; -o-animation-duration: "+n.options.speed+"ms; -ms-transition-duration: "+n.options.speed+"ms; -ms-animation-duration: "+n.options.speed+"ms; transition-duration: "+n.options.speed+"ms; animation-duration: "+n.options.speed+"ms;",f=n.options.fixedWidth>0?"width:"+n.options.fixedWidth+"px;":"",l=n.options.maxWidth>0?"max-width:"+n.options.maxWidth+"px;":"",c=n.options.interactive==1?"pointer-events: auto;":"",e=$('<div class="tooltipster-base '+u+" "+r+'" style="'+f+" "+l+" "+c+" "+a+'"></div>'),h=$('<div class="tooltipster-content"></div>');h.html(s),e.append(h),e.appendTo("body"),t.data("tooltipster",e),e.data("origin",t),n.positionTooltip(),n.options.functionReady(t,e),transitionSupport==1?e.addClass(r+"-show"):e.css("display","none").removeClass(r).fadeIn(n.options.speed);var p=s,d=setInterval(function(){var r=t.data("tooltipsterContent");$("body").find(t).length==0?(e.addClass("tooltipster-dying"),n.hideTooltip()):p!==r&&r!==""&&(p=r,e.find(".tooltipster-content").html(r),n.options.updateAnimation==1&&(supportsTransitions()?(e.css({width:"","-webkit-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+n.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){e.removeClass("tooltipster-content-changing"),setTimeout(function(){e.css({"-webkit-transition":n.options.speed+"ms","-moz-transition":n.options.speed+"ms","-o-transition":n.options.speed+"ms","-ms-transition":n.options.speed+"ms",transition:n.options.speed+"ms"})},n.options.speed)},n.options.speed)):e.fadeTo(n.options.speed,.5,function(){e.fadeTo(n.options.speed,1)})),n.positionTooltip()),($("body").find(e).length==0||$("body").find(t).length==0)&&clearInterval(d)},200);if(n.options.timer>0){var i=setTimeout(function(){e.data("tooltipsterTimer",undefined),n.hideTooltip()},n.options.timer+n.options.speed);e.data("tooltipsterTimer",i)}n.options.touchDevices==1&&touchDevice&&$("body").bind("touchstart",function(e){if(n.options.interactive==1){var t=$(e.target),r=!0;t.parents().each(function(){$(this).hasClass("tooltipster-base")&&(r=!1)}),r==1&&(n.hideTooltip(),$("body").unbind("touchstart"))}else n.hideTooltip(),$("body").unbind("touchstart")}),e.mouseleave(function(){n.hideTooltip()})}}),t.dequeue()}))},hideTooltip:function(e){var t=$(this.element),n=this;t.data("tooltipsterIcon")!==undefined&&(t=t.data("tooltipsterIcon"));var r=t.data("tooltipster");r==undefined&&
(r=$(".tooltipster-dying")),t.clearQueue();if(r!==undefined&&r!==""){var i=r.data("tooltipsterTimer");i!==undefined&&clearTimeout(i);var s="tooltipster-"+n.options.animation;transitionSupport==1?r.clearQueue().removeClass(s+"-show").addClass("tooltipster-dying").delay(n.options.speed).queue(function(){r.remove(),t.data("tooltipster",""),$("body").css("verflow-x",""),n.options.functionAfter(t)}):r.clearQueue().addClass("tooltipster-dying").fadeOut(n.options.speed,function(){r.remove(),t.data("tooltipster",""),$("body").css("verflow-x",""),n.options.functionAfter(t)})}},positionTooltip:function(e){var t=$(this.element),n=this;t.data("tooltipsterIcon")!==undefined&&(t=t.data("tooltipsterIcon"));if(t.data("tooltipster")!==undefined&&t.data("tooltipster")!==""){var r=t.data("tooltipster");r.css("width","");var s=$(window).width(),o=t.outerWidth(!1),u=t.outerHeight(!1),a=r.outerWidth(!1),f=r.innerWidth()+1,l=r.outerHeight(!1),c=t.offset(),h=c.top,p=c.left,d=undefined;if(t.is("area")){var v=t.attr("shape"),m=t.parent().attr("name"),g=$('img[usemap="#'+m+'"]'),y=g.offset().left,b=g.offset().top,w=t.attr("coords")!==undefined?t.attr("coords").split(","):undefined;if(v=="circle"){var E=parseInt(w[0]),S=parseInt(w[1]),x=parseInt(w[2]);u=x*2,o=x*2,h=b+S-x,p=y+E-x}else if(v=="rect"){var E=parseInt(w[0]),S=parseInt(w[1]),T=parseInt(w[2]),N=parseInt(w[3]);u=N-S,o=T-E,h=b+S,p=y+E}else if(v=="poly"){var C=[],k=[],L=0,A=0,O=0,M=0,_="even";for(i=0;i<w.length;i++){var D=parseInt(w[i]);_=="even"?(D>O&&(O=D,i==0&&(L=O)),D<L&&(L=D),_="odd"):(D>M&&(M=D,i==1&&(A=M)),D<A&&(A=D),_="even")}u=M-A,o=O-L,h=b+A,p=y+L}else u=g.outerHeight(!1),o=g.outerWidth(!1),h=b,p=y}n.options.fixedWidth==0&&r.css({width:f+"px","padding-left":"0px","padding-right":"0px"});var P=0,H=0,B=parseInt(n.options.offsetY),j=parseInt(n.options.offsetX),F="";function I(){var e=$(window).scrollLeft();if(P-e<0){var t=P-e;P=e,r.data("arrow-reposition",t)}if(P+a-e>s){var t=P-(s+e-a);P=s+e-a,r.data("arrow-reposition",t)}}function q(e,t){h-$(window).scrollTop()-l-B-12<0&&t.indexOf("top")>-1&&(n.options.position=e,d=t),h+u+l+12+B>$(window).scrollTop()+$(window).height()&&t.indexOf("bottom")>-1&&(n.options.position=e,d=t,H=h-l-B-12)}if(n.options.position=="top"){var R=p+a-(p+o);P=p+j-R/2,H=h-l-B-12,I(),q("bottom","top")}n.options.position=="top-left"&&(P=p+j,H=h-l-B-12,I(),q("bottom-left","top-left")),n.options.position=="top-right"&&(P=p+o+j-a,H=h-l-B-12,I(),q("bottom-right","top-right"));if(n.options.position=="bottom"){var R=p+a-(p+o);P=p-R/2+j,H=h+u+B+12,I(),q("top","bottom")}n.options.position=="bottom-left"&&(P=p+j,H=h+u+B+12,I(),q("top-left","bottom-left")),n.options.position=="bottom-right"&&(P=p+o+j-a,H=h+u+B+12,I(),q("top-right","bottom-right"));if(n.options.position=="left"){P=p-j-a-12,myLeftMirror=p+j+o+12;var U=h+l-(h+t.outerHeight(!1));H=h-U/2-B;if(P<0&&myLeftMirror+a>s){var z=parseFloat(r.css("border-width"))*2,W=a+P-z;r.css("width",W+"px"),l=r.outerHeight(!1),P=p-j-W-12-z,U=h+l-(h+t.outerHeight(!1)),H=h-U/2-B}else P<0&&(P=p+j+o+12,r.data("arrow-reposition","left"))}if(n.options.position=="right"){P=p+j+o+12,myLeftMirror=p-j-a-12;var U=h+l-(h+t.outerHeight(!1));H=h-U/2-B;if(P+a>s&&myLeftMirror<0){var z=parseFloat(r.css("border-width"))*2,W=s-P-z;r.css("width",W+"px"),l=r.outerHeight(!1),U=h+l-(h+t.outerHeight(!1)),H=h-U/2-B}else P+a>s&&(P=p-j-a-12,r.data("arrow-reposition","right"))}if(n.options.arrow==1){var X="tooltipster-arrow-"+n.options.position;if(n.options.arrowColor.length<1)var V=r.css("background-color");else var V=n.options.arrowColor;var J=r.data("arrow-reposition");J?J=="left"?(X="tooltipster-arrow-right",J=""):J=="right"?(X="tooltipster-arrow-left",J=""):J="left:"+J+"px;":J="";if(n.options.position=="top"||n.options.position=="top-left"||n.options.position=="top-right")var K=parseFloat(r.css("border-bottom-width")),Q=r.css("border-bottom-color");else if(n.options.position=="bottom"||n.options.position=="bottom-left"||n.options.position=="bottom-right")var K=parseFloat(r.css("border-top-width")),Q=r.css("border-top-color");else if(n.options.position=="left")var K=parseFloat(r.css("border-right-width")),Q=r.css("border-right-color");else if(n.options.position=="right")var K=parseFloat(r.css("border-left-width")),Q=r.css("border-left-color");else var K=parseFloat(r.css("border-bottom-width")),Q=r.css("border-bottom-color");K>1&&K++;var G="";if(K!==0){var Y="",Z="border-color: "+Q+";";X.indexOf("bottom")!==-1?Y="margin-top: -"+K+"px;":X.indexOf("top")!==-1?Y="margin-bottom: -"+K+"px;":X.indexOf("left")!==-1?Y="margin-right: -"+K+"px;":X.indexOf("right")!==-1&&(Y="margin-left: -"+K+"px;"),G='<span class="tooltipster-arrow-border" style="'+Y+" "+Z+';"></span>'}r.find(".tooltipster-arrow").remove(),F='<div class="'+X+' tooltipster-arrow" style="'+J+'">'+G+'<span style="border-color:'+V+';"></span></div>',r.append(F)}r.css({top:H+"px",left:P+"px"}),d!==undefined&&(n.options.position=d)}}},$.fn[pluginName]=function(e){if(typeof e=="string"){var t=this,n=arguments[1];if(t.data("plugin_tooltipster")==undefined){var r=t.find("*");t=$(),r.each(function(){$(this).data("plugin_tooltipster")!==undefined&&t.push($(this))})}return t.each(function(){switch(e.toLowerCase()){case"show":$(this).data("plugin_tooltipster").showTooltip();break;case"hide":$(this).data("plugin_tooltipster").hideTooltip();break;case"disable":$(this).addClass("tooltipster-disable");break;case"enable":$(this).removeClass("tooltipster-disable");break;case"destroy":$(this).data("plugin_tooltipster").hideTooltip(),$(this).data("plugin_tooltipster","").attr("title",t.data("tooltipsterContent")).data("tooltipsterContent","").data("plugin_tooltipster","").off("mouseenter.tooltipster mouseleave.tooltipster click.tooltipster");break;case"update":if($(this).data("tooltipsterIcon")==undefined)$(this).data("tooltipsterContent",n);else{var r=$(this).data("tooltipsterIcon");r.data("tooltipsterContent",n)}break;case"reposition":$(this).data("plugin_tooltipster").positionTooltip()}}),this}return this.each(function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin(this,e));var t=$(this).data("plugin_tooltipster").options;if(t.iconDesktop==1&&!touchDevice||t.iconTouch==1&&touchDevice){var n=$(this).data("plugin_tooltipster");$(this).next().data("plugin_tooltipster",n)}})},touchDevice&&window.addEventListener("orientationchange",function(){$(".tooltipster-base").length>0&&$(".tooltipster-base").each(function(){var e=$(this).data("origin");e.data("plugin_tooltipster").hideTooltip()})},!1),$(window).on("resize.tooltipster",function(){var e=$(".tooltipster-base").data("origin");e!==null&&e!==undefined&&e.tooltipster("reposition")})}(jQuery,window,document),function(e){e.extend(e.fn,{validate:function(t){if(this.length){var n=e.data(this[0],"validator");return n?n:(n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){n.cancelSubmit=!0}),n.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){n.submitButton=this}),this.submit(function(t){function r(){if(n.settings.submitHandler){if(n.submitButton)var t=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(n.submitButton.value).appendTo(n.currentForm);return n.settings.submitHandler.call(n,n.currentForm),n.submitButton&&t.remove(),!1}return!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,r()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):r():(n.focusInvalid(),!1)})),n)}t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t&=n.element(this)}),t},removeAttrs:function(t){var n={},r=this;return e.each(t.split(/\s/),function(e,t){n[t]=r.attr(t),r.removeAttr(t)}),n},rules:function(t,n){var r=this[0];if(t){var i=e.data(r.form,"validator").settings,s=i.rules,o=e.validator.staticRules(r);switch(t){case"add":e.extend(o,e.validator.normalizeRule(n)),s[r.name]=o,n.messages&&(i.messages[r.name]=e.extend(i.messages[r.name],n.messages));break;case"remove":if(!n)return delete s[r.name],o;var u={};return e.each(n.split(/\s/),function(e,t){u[t]=o[t],delete o[t]}),u}}return r=e.validator.normalizeRules(e.extend({},e.validator.metadataRules(r),e.validator.classRules(r),e.validator.attributeRules(r),e.validator.staticRules(r)),r),r.required&&(i=r.required,delete r.required,r=e.extend({required:i},r)),r}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+t.value)},filled:function(t){return!!e.trim(""+t.value)},unchecked:function(e){return!e.checked}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return arguments.length==1?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!=Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!=Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(RegExp("\\{"+e+"\\}","g"),n)}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){!this.checkable(e)&&(e.name in this.submitted||!this.optional(e))&&this.element(e)},onkeyup:function(e){(e.name in this.submitted||e==this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).addClass(n).removeClass(r):e(t).addClass(n).removeClass(r)},unhighlight:function(t,n,r){t.type==="radio"?this.findByName(t.name).removeClass(n).addClass(r):e(t).removeClass(n).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator");t="on"+t.type.replace(/^validate/,""),n.settings[t]&&n.settings[t].call(n,this[0])}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};e.each(this.settings.groups,function(t,r){e.each(r.split(/\s/),function(e,r){n[r]=t})});var r=this.settings.rules;e.each(r,function(t,n){r[t]=e.validator.normalizeRule(n)}),e(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",t).validateDelegate(":radio, :checkbox, select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){this.lastElement=t=this.clean(t),this.prepareElement(t),this.currentElements=e(t);var n=this.check(t);return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0,n;for(n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&e.grep(this.errorList,function(e){return e.element.name==t.name}).length==1&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:n[this.name]=!0})},clean:function(t){return e(t)[0]},errors:function(){return e(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},check:function(t){t=this.clean(t),this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]);var n=e(t).rules(),r=!1,i;for(i in n){var s={method:i,parameters:n[i]};try{var o=e.validator.methods[i].call(this,t.value.replace(/\r/g,""),t,s.parameters);if(o=="dependency-mismatch")r=!0;else{r=!1;if(o=="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!o)return this.formatAndAdd(t,s),!1}}catch(u){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+s.method+"' method",u),u}}if(!r)return this.objectLength(n)&&this.successList.push(t),!0},customMetaMessage:function(t,n){if(e.metadata){var r=this.settings.meta?e(t).metadata()[this.settings.meta]:e(t).metadata();return r&&r.messages&&r.messages[n]}},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor==String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==undefined)return arguments[e]},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customMetaMessage(t,n),!this.settings.ignoreTitle&&t.title||undefined,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t.method),r=/\$?\{(\d+)\}/g;typeof n=="function"?n=n.call(this,t.parameters,e):r.test(n)&&(n=jQuery.format(n.replace(r,"{$1}"),t.parameters)),this.errorList.push({message:n,element:e}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){for(var e=0;this.errorList[e];e++){var t=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight){e=0;for(t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var r=this.errorsFor(t);r.length?(r.removeClass().addClass(this.settings.errorClass),r.attr("generated")&&r.html(n)):(r=e("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t))),!n&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")==n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){var n=this.currentForm;return e(document.getElementsByName(t)).map(function(e,r){return r.form==n&&r.name==t&&r||null})},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){return!e.validator.methods.required.call(this,e.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&this.pendingRequest==0&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&this.pendingRequest==0&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor==String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={};return(t=e(t).attr("class"))&&e.each(t.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={};t=e(t);for(var r in e.validator.methods){var i=t.attr(r);i&&(n[r]=i)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},metadataRules:function(t){if(!e.metadata)return{};var n=e.data(t.form,"validator").settings.meta;return n?e(t).metadata()[n]:e(t).metadata()},staticRules:function(t){var n={},r=e.data(t.form,"validator");return r.settings.rules&&(n=e.validator.normalizeRule(r.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(r,i){if(i===!1)delete t[r];else if(i.param||i.depends){var s=!0;switch(typeof i.depends){case"string":s=!!e(i.depends,n.form).length;break;case"function":s=i.depends.call(n,n)}s?t[r]=i.param!==undefined?i.param:!0:delete t[r]}}),e.each(t,function(r,i){t[r]=e.isFunction(i)?i(n):i}),e.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if(typeof t=="string"){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,r){e.validator.methods[t]=n,e.validator.messages[t]=r!=undefined?r:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,r){if(!this.depend(r,n))return"dependency-mismatch";switch(n.nodeName.toLowerCase()){case"select":return(t=e(n).val())&&t.length>0;case"input":if(this.checkable(n))return this.getLength(t,n)>0;default:return e.trim(t).length>0}},remote:function(t,n,r){if(this.optional(n))return"dependency-mismatch";var i=this.previousValue(n);this.settings.messages[n.name]||(this.settings.messages[n.name]={}),i.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=i.message,r=typeof r=="string"&&{url:r}||r;if(this.pending[n.name])return"pending";if(i.old===t)return i.valid;i.old=t;var s=this;this.startRequest(n);var o={};return o[n.name]=t,e.ajax(e.extend(!0,{url:r,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,success:function(r){s.settings.messages[n.name].remote=i.originalMessage;var o=r===!0;if(o){var u=s.formSubmitted;s.prepareElement(n),s.formSubmitted=u,s.successList.push(n),s.showErrors()}else u={},r=r||s.defaultMessage(n,"remote"),u[n.name]=i.message=e.isFunction(r)?r(t):r,s.showErrors(u);i.valid=o,s.stopRequest(n,o)}},r)),"pending"},minlength:function(t,n,r){return this.optional(n)||this.getLength(e.trim(t),n)>=r},maxlength:function(t,n,r){return this.optional(n)||this.getLength(e.trim(t),n)<=r},rangelength:function(t,n,r){return t=this.getLength(e.trim(t),n),this.optional(n)||t>=r[0]&&t<=r[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||e<=n},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9-]+/.test(e))return!1;var n=0,r=0,i=!1;e=e.replace(/\D/g,"");for(var s=e.length-1;s>=0;s--)r=e.charAt(s),r=parseInt(r,10),i&&(r*=2)>9&&(r-=9),n+=r,i=!i;return n%10==0},accept:function(e,t,n){return n=typeof n=="string"?n.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(RegExp(".("+n+")$","i"))},equalTo:function(t,n,r){return r=e(r).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t==r.val()}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,r){n=e.port,e.mode=="abort"&&(t[n]&&t[n].abort(),t[n]=r)});else{var n=e.ajax;e.ajax=function(r){var i=("port"in r?r:e.ajaxSettings).port;return("mode"in r?r:e.ajaxSettings).mode=="abort"?(t[i]&&t[i].abort(),t[i]=n.apply(this,arguments)):n.apply(this,arguments)}}}(jQuery),function(e){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&e.each({focus:"focusin",blur:"focusout"},function(t,n){function r(t){return t=e.event.fix(t),t.type=n,e.event.handle.call(this,t)}e.event.special[n]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){return arguments[0]=e.event.fix(t),arguments[0].type=n,e.event.handle.apply(this,arguments)}}}),e.extend(e.fn,{validateDelegate:function(t,n,r){return this.bind(n,function(n){var i=e(n.target);if(i.is(t))return r.apply(i,arguments)})}})}(jQuery),function(e){function t(e){return e&&e.constructor===Number?e+"px":e}e.fn.bgiframe=e.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)?function(n){n=e.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;"},n);var r='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+n.src+'"style="display:block;position:absolute;z-index:-1;'+(n.opacity!==!1?"filter:Alpha(Opacity='0');":"")+"top:"+(n.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":t(n.top))+";left:"+(n.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":t(n.left))+";width:"+(n.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":t(n.width))+";height:"+(n.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":t(n.height))+';"/>';return this.each(function(){e(this).children("iframe.bgiframe").length===0&&this.insertBefore(document.createElement(r),this.firstChild)})}:function(){return this},e.fn.bgIframe=e.fn.bgiframe}(jQuery),function(e){e.fn.hoverIntent=function(t,n){var r={sensitivity:7,interval:100,timeout:0};r=e.extend(r,n?{over:t,out:n}:t);var i,s,o,u,a=function(e){i=e.pageX,s=e.pageY},f=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(o-i)+Math.abs(u-s)<r.sensitivity)return e(n).unbind("mousemove",a),n.hoverIntent_s=1,r.over.apply(n,[t]);o=i,u=s,n.hoverIntent_t=setTimeout(function(){f(t,n)},r.interval)},l=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,r.out.apply(t,[e])},c=function(t){var n=jQuery.extend({},t),i=this;i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t)),t.type=="mouseenter"?(o=n.pageX,u=n.pageY,e(i).bind("mousemove",a),i.hoverIntent_s!=1&&(i.hoverIntent_t=setTimeout(function(){f(n,i)},r.interval))):(e(i).unbind("mousemove",a),i.hoverIntent_s==1&&(i.hoverIntent_t=setTimeout(function(){l(n,i)},r.timeout)))};return this.bind("mouseenter",c).bind("mouseleave",c)}}(jQuery),function(e){e.fn.dcMegaMenu=function(t){var n={classParent:"dc-mega",classContainer:"sub-container",classSubParent:"mega-hdr",classSubLink:"mega-hdr",classWidget:"dc-extra",rowItems:3,maxLinksInGroup:0,speed:"fast",effect:"fade",event:"hover",disableHoverIntent:!1,fullWidth:!1,beforePosition:function(){},onLoad:function(){},beforeOpen:function(){},beforeClose:function(){}},t=e.extend(n,t),r=this;return r.each(function(t){function l(){var t=e(".sub",this);e(this).addClass("mega-hover"),n.effect=="fade"?e(t).fadeIn(n.speed):n.effect=="slide"?e(t).show(n.speed):n.effect=="none"&&e(t).show(),n.beforeOpen.call(this)}function c(t){var r=e(".sub",t);e(t).addClass("mega-hover"),n.effect=="fade"?e(r).fadeIn(n.speed):n.effect=="slide"?e(r).show(n.speed):n.effect=="none"&&e(r).show(),n.beforeOpen.call(this)}function h(){var t=e(".sub",this);e(this).removeClass("mega-hover"),e(t).hide(),n.beforeClose.call(this)}function p(t){var r=e(".sub",t);e(t).removeClass("mega-hover"),e(r).hide(),n.beforeClose.call(this)}function v(){e("li",r).removeClass("mega-hover"),e(".sub",r).hide()}function m(){$arrow='<span class="dc-mega-icon"></span>';var t=o+"-li",m=r.outerWidth();e("> li",r).each(function(){var l=e("> ul",this),c=e("> a",this);if(l.length){c.addClass(o).append($arrow),l.addClass("sub").wrap('<div class="'+u+'" />');var h=e(this).position();pl=h.left;var p=e(this).css("padding-left").replace("px","");p=parseInt(p),pl+=p;if(e("ul",l).length){e(this).addClass(t),e("."+u,this).addClass("mega"),e("> li",l).each(function(){e(this).hasClass(f)||(e(this).addClass("mega-unit"),e("> ul",this).length?(e(this).addClass(i),e("> a",this).addClass(i+"-a")):(e(this).addClass(s),e("> a",this).addClass(s+"-a")))});var v=e(".mega-unit",this);rowSize=parseInt(n.rowItems),n.maxLinksInGroup>0&&(v.each(function(t,r){var i=e("> ul > li",r).length;i>=n.maxLinksInGroup&&e(r).after('<li class="mega-unit mega-hdr mega-empty" style="display:none" />')}),v=e(".mega-unit",this));for(var g=0;g<v.length;g+=rowSize)v.slice(g,g+rowSize).wrapAll('<div class="row" />');l.show(),n.beforePosition.call(this);var y=e(this).width(),w=pl+y,E=m-w,S=l.outerWidth(),x=l.parent("."+u).outerWidth(),T=x-S,N=l.outerWidth()-l.width();if(n.fullWidth==1){var C=m-T;l.parent("."+u).css({width:C+"px"}),r.addClass("full-width")}var L=0;l.children().each(function(){L+=jQuery(this).outerWidth(!0)});var A=L+T+N,O={};if(n.fullWidth==1)O={left:0};else{var M=(A-y)/2,_=pl-M,O={left:pl+"px",marginLeft:"-"+M+"px"};_<0?O={left:0}:E<M&&(O={right:0})}e("."+u,this).css(O),l.hide()}else e("."+u,this).addClass("non-mega").css("left",pl+"px")}});var y=e("> li:visible:eq(0) > a:eq(0)",r).outerHeight();e("."+u,r).css({top:y+"px"}).css("z-index","1000");if(n.event=="hover")if(!n.disableHoverIntent){var w={sensitivity:2,interval:100,over:l,timeout:400,out:h};"ontouchstart"in window&&(w.timeout=0),e("li",r).hoverIntent(w)}else e("li",r).hover(l,h);n.event=="click"&&(e("body").mouseup(function(t){e(t.target).parents(".mega-hover").length||v()}),e("> li > a."+o,r).click(function(t){var n=e(this).parent();n.hasClass("mega-hover")?p(n):c(n),t.preventDefault()})),n.onLoad.call(this)}var i=n.classSubParent,s=n.classSubLink,o=n.classParent,u=n.classContainer,f=n.classWidget;m()})}}(jQuery),function(e){var t=function(t,n){var r=e.extend({},e.fn.nivoSlider.defaults,n),i={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1},s=e(t);s.data("nivo:vars",i),s.css("position","relative"),s.addClass("nivoSlider");var o=s.children();o.each(function(){var t=e(this),n="";t.is("img")||(t.is("a")&&(t.addClass("nivo-imageLink"),n=t),t=t.find("img:first"));var r=t.width();r==0&&(r=
t.attr("width"));var o=t.height();o==0&&(o=t.attr("height")),r>s.width()&&s.width(r),o>s.height()&&s.height(o),n!=""&&n.css("display","none"),t.css("display","none"),i.totalSlides++}),r.randomStart&&(r.startSlide=Math.floor(Math.random()*i.totalSlides)),r.startSlide>0&&(r.startSlide>=i.totalSlides&&(r.startSlide=i.totalSlides-1),i.currentSlide=r.startSlide),e(o[i.currentSlide]).is("img")?i.currentImage=e(o[i.currentSlide]):i.currentImage=e(o[i.currentSlide]).find("img:first"),e(o[i.currentSlide]).is("a")&&e(o[i.currentSlide]).css("display","block"),s.css("background",'url("'+i.currentImage.attr("src")+'") no-repeat'),s.append(e('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:r.captionOpacity})),e(".nivo-caption",s).css("opacity",0);var u=function(t){var n=e(".nivo-caption",s);if(i.currentImage.attr("title")!=""&&i.currentImage.attr("title")!=undefined){var r=i.currentImage.attr("title");r.substr(0,1)=="#"&&(r=e(r).html()),n.css("opacity")!=0?n.find("p").stop().fadeTo(t.animSpeed,0,function(){e(this).html(r),e(this).stop().fadeTo(t.animSpeed,1)}):n.find("p").html(r),n.stop().fadeTo(t.animSpeed,t.captionOpacity)}else n.stop().fadeTo(t.animSpeed,0)};u(r);var f=0;!r.manualAdvance&&o.length>1&&(f=setInterval(function(){v(s,o,r,!1)},r.pauseTime)),r.directionNav&&(s.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+r.prevText+'</a><a class="nivo-nextNav">'+r.nextText+"</a></div>"),r.directionNavHide&&(e(".nivo-directionNav",s).hide(),s.hover(function(){e(".nivo-directionNav",s).show()},function(){e(".nivo-directionNav",s).hide()})),e("a.nivo-prevNav",s).live("click",function(){if(i.running)return!1;clearInterval(f),f="",i.currentSlide-=2,v(s,o,r,"prev")}),e("a.nivo-nextNav",s).live("click",function(){if(i.running)return!1;clearInterval(f),f="",v(s,o,r,"next")}));if(r.controlNav){var l=e('<div class="nivo-controlNav"></div>');s.append(l);for(var c=0;c<o.length;c++)if(r.controlNavThumbs){var h=o.eq(c);h.is("img")||(h=h.find("img:first")),r.controlNavThumbsFromRel?l.append('<a class="nivo-control" rel="'+c+'"><img src="'+h.attr("rel")+'" alt="" /></a>'):l.append('<a class="nivo-control" rel="'+c+'"><img src="'+h.attr("src").replace(r.controlNavThumbsSearch,r.controlNavThumbsReplace)+'" alt="" /></a>')}else l.append('<a class="nivo-control" rel="'+c+'">'+(c+1)+"</a>");e(".nivo-controlNav a:eq("+i.currentSlide+")",s).addClass("active"),e(".nivo-controlNav a",s).live("click",function(){if(i.running)return!1;if(e(this).hasClass("active"))return!1;clearInterval(f),f="",s.css("background",'url("'+i.currentImage.attr("src")+'") no-repeat'),i.currentSlide=e(this).attr("rel")-1,v(s,o,r,"control")})}r.keyboardNav&&e(window).keypress(function(e){if(e.keyCode=="37"){if(i.running)return!1;clearInterval(f),f="",i.currentSlide-=2,v(s,o,r,"prev")}if(e.keyCode=="39"){if(i.running)return!1;clearInterval(f),f="",v(s,o,r,"next")}}),r.pauseOnHover&&s.hover(function(){i.paused=!0,clearInterval(f),f=""},function(){i.paused=!1,f==""&&!r.manualAdvance&&(f=setInterval(function(){v(s,o,r,!1)},r.pauseTime))}),s.bind("nivo:animFinished",function(){i.running=!1,e(o).each(function(){e(this).is("a")&&e(this).css("display","none")}),e(o[i.currentSlide]).is("a")&&e(o[i.currentSlide]).css("display","block"),f==""&&!i.paused&&!r.manualAdvance&&(f=setInterval(function(){v(s,o,r,!1)},r.pauseTime)),r.afterChange.call(this)});var p=function(t,n,r){for(var i=0;i<n.slices;i++){var s=Math.round(t.width()/n.slices);i==n.slices-1?t.append(e('<div class="nivo-slice"></div>').css({left:s*i+"px",width:t.width()-s*i+"px",height:"0px",opacity:"0",background:'url("'+r.currentImage.attr("src")+'") no-repeat -'+(s+i*s-s)+"px 0%"})):t.append(e('<div class="nivo-slice"></div>').css({left:s*i+"px",width:s+"px",height:"0px",opacity:"0",background:'url("'+r.currentImage.attr("src")+'") no-repeat -'+(s+i*s-s)+"px 0%"}))}},d=function(t,n,r){var i=Math.round(t.width()/n.boxCols),s=Math.round(t.height()/n.boxRows);for(var o=0;o<n.boxRows;o++)for(var u=0;u<n.boxCols;u++)u==n.boxCols-1?t.append(e('<div class="nivo-box"></div>').css({opacity:0,left:i*u+"px",top:s*o+"px",width:t.width()-i*u+"px",height:s+"px",background:'url("'+r.currentImage.attr("src")+'") no-repeat -'+(i+u*i-i)+"px -"+(s+o*s-s)+"px"})):t.append(e('<div class="nivo-box"></div>').css({opacity:0,left:i*u+"px",top:s*o+"px",width:i+"px",height:s+"px",background:'url("'+r.currentImage.attr("src")+'") no-repeat -'+(i+u*i-i)+"px -"+(s+o*s-s)+"px"}))},v=function(t,n,r,i){var s=t.data("nivo:vars");s&&s.currentSlide==s.totalSlides-1&&r.lastSlide.call(this);if((!s||s.stop)&&!i)return!1;r.beforeChange.call(this),i?(i=="prev"&&t.css("background",'url("'+s.currentImage.attr("src")+'") no-repeat'),i=="next"&&t.css("background",'url("'+s.currentImage.attr("src")+'") no-repeat')):t.css("background",'url("'+s.currentImage.attr("src")+'") no-repeat'),s.currentSlide++,s.currentSlide==s.totalSlides&&(s.currentSlide=0,r.slideshowEnd.call(this)),s.currentSlide<0&&(s.currentSlide=s.totalSlides-1),e(n[s.currentSlide]).is("img")?s.currentImage=e(n[s.currentSlide]):s.currentImage=e(n[s.currentSlide]).find("img:first"),r.controlNav&&(e(".nivo-controlNav a",t).removeClass("active"),e(".nivo-controlNav a:eq("+s.currentSlide+")",t).addClass("active")),u(r),e(".nivo-slice",t).remove(),e(".nivo-box",t).remove();var o=r.effect;if(r.effect=="random"){var f=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse");o=f[Math.floor(Math.random()*(f.length+1))],o==undefined&&(o="fade")}if(r.effect.indexOf(",")!=-1){var f=r.effect.split(",");o=f[Math.floor(Math.random()*f.length)],o==undefined&&(o="fade")}s.currentImage.attr("data-transition")&&(o=s.currentImage.attr("data-transition")),s.running=!0;if(o=="sliceDown"||o=="sliceDownRight"||o=="sliceDownLeft"){p(t,r,s);var l=0,c=0,h=e(".nivo-slice",t);o=="sliceDownLeft"&&(h=e(".nivo-slice",t)._reverse()),h.each(function(){var n=e(this);n.css({top:"0px"}),c==r.slices-1?setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},r.animSpeed)},100+l),l+=50,c++})}else if(o=="sliceUp"||o=="sliceUpRight"||o=="sliceUpLeft"){p(t,r,s);var l=0,c=0,h=e(".nivo-slice",t);o=="sliceUpLeft"&&(h=e(".nivo-slice",t)._reverse()),h.each(function(){var n=e(this);n.css({bottom:"0px"}),c==r.slices-1?setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},r.animSpeed)},100+l),l+=50,c++})}else if(o=="sliceUpDown"||o=="sliceUpDownRight"||o=="sliceUpDownLeft"){p(t,r,s);var l=0,c=0,v=0,h=e(".nivo-slice",t);o=="sliceUpDownLeft"&&(h=e(".nivo-slice",t)._reverse()),h.each(function(){var n=e(this);c==0?(n.css("top","0px"),c++):(n.css("bottom","0px"),c=0),v==r.slices-1?setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({height:"100%",opacity:"1.0"},r.animSpeed)},100+l),l+=50,v++})}else if(o=="fold"){p(t,r,s);var l=0,c=0;e(".nivo-slice",t).each(function(){var n=e(this),i=n.width();n.css({top:"0px",height:"100%",width:"0px"}),c==r.slices-1?setTimeout(function(){n.animate({width:i,opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({width:i,opacity:"1.0"},r.animSpeed)},100+l),l+=50,c++})}else if(o=="fade"){p(t,r,s);var g=e(".nivo-slice:first",t);g.css({height:"100%",width:t.width()+"px"}),g.animate({opacity:"1.0"},r.animSpeed*2,"",function(){t.trigger("nivo:animFinished")})}else if(o=="slideInRight"){p(t,r,s);var g=e(".nivo-slice:first",t);g.css({height:"100%",width:"0px",opacity:"1"}),g.animate({width:t.width()+"px"},r.animSpeed*2,"",function(){t.trigger("nivo:animFinished")})}else if(o=="slideInLeft"){p(t,r,s);var g=e(".nivo-slice:first",t);g.css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"}),g.animate({width:t.width()+"px"},r.animSpeed*2,"",function(){g.css({left:"0px",right:""}),t.trigger("nivo:animFinished")})}else if(o=="boxRandom"){d(t,r,s);var y=r.boxCols*r.boxRows,c=0,l=0,b=m(e(".nivo-box",t));b.each(function(){var n=e(this);c==y-1?setTimeout(function(){n.animate({opacity:"1"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l):setTimeout(function(){n.animate({opacity:"1"},r.animSpeed)},100+l),l+=20,c++})}else if(o=="boxRain"||o=="boxRainReverse"||o=="boxRainGrow"||o=="boxRainGrowReverse"){d(t,r,s);var y=r.boxCols*r.boxRows,c=0,l=0,w=0,E=0,S=new Array;S[w]=new Array;var b=e(".nivo-box",t);if(o=="boxRainReverse"||o=="boxRainGrowReverse")b=e(".nivo-box",t)._reverse();b.each(function(){S[w][E]=e(this),E++,E==r.boxCols&&(w++,E=0,S[w]=new Array)});for(var x=0;x<r.boxCols*2;x++){var T=x;for(var N=0;N<r.boxRows;N++)T>=0&&T<r.boxCols&&(function(n,i,s,u,f){var l=e(S[n][i]),c=l.width(),h=l.height();(o=="boxRainGrow"||o=="boxRainGrowReverse")&&l.width(0).height(0),u==f-1?setTimeout(function(){l.animate({opacity:"1",width:c,height:h},r.animSpeed/1.3,"",function(){t.trigger("nivo:animFinished")})},100+s):setTimeout(function(){l.animate({opacity:"1",width:c,height:h},r.animSpeed/1.3)},100+s)}(N,T,l,c,y),c++),T--;l+=100}}},m=function(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},g=function(e){this.console&&typeof console.log!="undefined"&&console.log(e)};return this.stop=function(){e(t).data("nivo:vars").stop||(e(t).data("nivo:vars").stop=!0,g("Stop Slider"))},this.start=function(){e(t).data("nivo:vars").stop&&(e(t).data("nivo:vars").stop=!1,g("Start Slider"))},r.afterLoad.call(this),this};e.fn.nivoSlider=function(n){return this.each(function(r,i){var s=e(this);if(s.data("nivoslider"))return s.data("nivoslider");var o=new t(this,n);s.data("nivoslider",o)})},e.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,directionNavHide:!0,controlNav:!0,controlNavThumbs:!1,controlNavThumbsFromRel:!1,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:!0,pauseOnHover:!0,manualAdvance:!1,captionOpacity:.8,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},e.fn._reverse=[].reverse}(jQuery),function(e){e.flexslider=function(t,n){var r=e(t),i=e.extend({},e.flexslider.defaults,n),s=i.namespace,o="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,u=o?"touchend":"click",a="vertical"===i.direction,f=i.reverse,l=0<i.itemWidth,c="fade"===i.animation,h=""!==i.asNavFor,p={};e.data(t,"flexslider",r),p={init:function(){r.animating=!1,r.currentSlide=i.startAt,r.animatingTo=r.currentSlide,r.atEnd=0===r.currentSlide||r.currentSlide===r.last,r.containerSelector=i.selector.substr(0,i.selector.search(" ")),r.slides=e(i.selector,r),r.container=e(r.containerSelector,r),r.count=r.slides.length,r.syncExists=0<e(i.sync).length,"slide"===i.animation&&(i.animation="swing"),r.prop=a?"top":"marginLeft",r.args={},r.manualPause=!1;var t=r,n;if(n=!i.video)if(n=!c)if(n=i.useCSS)e:{n=document.createElement("div");var s=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],u;for(u in s)if(void 0!==n.style[s[u]]){r.pfx=s[u].replace("Perspective","").toLowerCase(),r.prop="-"+r.pfx+"-transform",n=!0;break e}n=!1}t.transitions=n,""!==i.controlsContainer&&(r.controlsContainer=0<e(i.controlsContainer).length&&e(i.controlsContainer)),""!==i.manualControls&&(r.manualControls=0<e(i.manualControls).length&&e(i.manualControls)),i.randomize&&(r.slides.sort(function(){return Math.round(Math.random())-.5}),r.container.empty().append(r.slides)),r.doMath(),h&&p.asNav.setup(),r.setup("init"),i.controlNav&&p.controlNav.setup(),i.directionNav&&p.directionNav.setup(),i.keyboard&&(1===e(r.containerSelector).length||i.multipleKeyboard)&&e(document).bind("keyup",function(e){e=e.keyCode,!r.animating&&(39===e||37===e)&&(e=39===e?r.getTarget("next"):37===e?r.getTarget("prev"):!1,r.flexAnimate(e,i.pauseOnAction))}),i.mousewheel&&r.bind("mousewheel",function(e,t){e.preventDefault();var n=0>t?r.getTarget("next"):r.getTarget("prev");r.flexAnimate(n,i.pauseOnAction)}),i.pausePlay&&p.pausePlay.setup(),i.slideshow&&(i.pauseOnHover&&r.hover(function(){!r.manualPlay&&!r.manualPause&&r.pause()},function(){!r.manualPause&&!r.manualPlay&&r.play()}),0<i.initDelay?setTimeout(r.play,i.initDelay):r.play()),o&&i.touch&&p.touch(),(!c||c&&i.smoothHeight)&&e(window).bind("resize focus",p.resize),setTimeout(function(){i.start(r)},200)},asNav:{setup:function(){r.asNav=!0,r.animatingTo=Math.floor(r.currentSlide/r.move),r.currentItem=r.currentSlide,r.slides.removeClass(s+"active-slide").eq(r.currentItem).addClass(s+"active-slide"),r.slides.click(function(t){t.preventDefault();var t=e(this),n=t.index();!e(i.asNavFor).data("flexslider").animating&&!t.hasClass("active")&&(r.direction=r.currentItem<n?"next":"prev",r.flexAnimate(n,i.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){r.manualControls?p.controlNav.setupManual():p.controlNav.setupPaging()},setupPaging:function(){var t=1,n;r.controlNavScaffold=e('<ol class="'+s+"control-nav "+s+("thumbnails"===i.controlNav?"control-thumbs":"control-paging")+'"></ol>');if(1<r.pagingCount)for(var a=0;a<r.pagingCount;a++)n="thumbnails"===i.controlNav?'<img src="'+r.slides.eq(a).attr("data-thumb")+'"/>':"<a>"+t+"</a>",r.controlNavScaffold.append("<li>"+n+"</li>"),t++;r.controlsContainer?e(r.controlsContainer).append(r.controlNavScaffold):r.append(r.controlNavScaffold),p.controlNav.set(),p.controlNav.active(),r.controlNavScaffold.delegate("a, img",u,function(t){t.preventDefault();var t=e(this),n=r.controlNav.index(t);t.hasClass(s+"active")||(r.direction=n>r.currentSlide?"next":"prev",r.flexAnimate(n,i.pauseOnAction))}),o&&r.controlNavScaffold.delegate("a","click touchstart",function(e){e.preventDefault()})},setupManual:function(){r.controlNav=r.manualControls,p.controlNav.active(),r.controlNav.live(u,function(t){t.preventDefault();var t=e(this),n=r.controlNav.index(t);t.hasClass(s+"active")||(n>r.currentSlide?r.direction="next":r.direction="prev",r.flexAnimate(n,i.pauseOnAction))}),o&&r.controlNav.live("click touchstart",function(e){e.preventDefault()})},set:function(){r.controlNav=e("."+s+"control-nav li "+("thumbnails"===i.controlNav?"img":"a"),r.controlsContainer?r.controlsContainer:r)},active:function(){r.controlNav.removeClass(s+"active").eq(r.animatingTo).addClass(s+"active")},update:function(t,n){1<r.pagingCount&&"add"===t?r.controlNavScaffold.append(e("<li><a>"+r.count+"</a></li>")):1===r.pagingCount?r.controlNavScaffold.find("li").remove():r.controlNav.eq(n).closest("li").remove(),p.controlNav.set(),1<r.pagingCount&&r.pagingCount!==r.controlNav.length?r.update(n,t):p.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+s+'direction-nav"><li><a class="'+s+'prev" href="#">'+i.prevText+'</a></li><li><a class="'+s+'next" href="#">'+i.nextText+"</a></li></ul>");r.controlsContainer?(e(r.controlsContainer).append(t),r.directionNav=e("."+s+"direction-nav li a",r.controlsContainer)):(r.append(t),r.directionNav=e("."+s+"direction-nav li a",r)),p.directionNav.update(),r.directionNav.bind(u,function(t){t.preventDefault(),t=e(this).hasClass(s+"next")?r.getTarget("next"):r.getTarget("prev"),r.flexAnimate(t,i.pauseOnAction)}),o&&r.directionNav.bind("click touchstart",function(e){e.preventDefault()})},update:function(){var e=s+"disabled";1===r.pagingCount?r.directionNav.addClass(e):i.animationLoop?r.directionNav.removeClass(e):0===r.animatingTo?r.directionNav.removeClass(e).filter("."+s+"prev").addClass(e):r.animatingTo===r.last?r.directionNav.removeClass(e).filter("."+s+"next").addClass(e):r.directionNav.removeClass(e)}},pausePlay:{setup:function(){var t=e('<div class="'+s+'pauseplay"><a></a></div>');r.controlsContainer?(r.controlsContainer.append(t),r.pausePlay=e("."+s+"pauseplay a",r.controlsContainer)):(r.append(t),r.pausePlay=e("."+s+"pauseplay a",r)),p.pausePlay.update(i.slideshow?s+"pause":s+"play"),r.pausePlay.bind(u,function(t){t.preventDefault(),e(this).hasClass(s+"pause")?(r.manualPause=!0,r.manualPlay=!1,r.pause()):(r.manualPause=!1,r.manualPlay=!0,r.play())}),o&&r.pausePlay.bind("click touchstart",function(e){e.preventDefault()})},update:function(e){"play"===e?r.pausePlay.removeClass(s+"pause").addClass(s+"play").text(i.playText):r.pausePlay.removeClass(s+"play").addClass(s+"pause").text(i.pauseText)}},touch:function(){function e(e){p=a?s-e.touches[0].pageY:s-e.touches[0].pageX,v=a?Math.abs(p)<Math.abs(e.touches[0].pageX-o):Math.abs(p)<Math.abs(e.touches[0].pageY-o);if(!v||500<Number(new Date)-d)e.preventDefault(),!c&&r.transitions&&(i.animationLoop||(p/=0===r.currentSlide&&0>p||r.currentSlide===r.last&&0<p?Math.abs(p)/h+2:1),r.setProps(u+p,"setTouch"))}function n(){t.removeEventListener("touchmove",e,!1);if(r.animatingTo===r.currentSlide&&!v&&null!==p){var a=f?-p:p,l=0<a?r.getTarget("next"):r.getTarget("prev");r.canAdvance(l)&&(550>Number(new Date)-d&&50<Math.abs(a)||Math.abs(a)>h/2)?r.flexAnimate(l,i.pauseOnAction):c||r.flexAnimate(r.currentSlide,i.pauseOnAction,!0)}t.removeEventListener("touchend",n,!1),u=p=o=s=null}var s,o,u,h,p,d,v=!1;t.addEventListener("touchstart",function(c){r.animating?c.preventDefault():1===c.touches.length&&(r.pause(),h=a?r.h:r.w,d=Number(new Date),u=l&&f&&r.animatingTo===r.last?0:l&&f?r.limit-(r.itemW+i.itemMargin)*r.move*r.animatingTo:l&&r.currentSlide===r.last?r.limit:l?(r.itemW+i.itemMargin)*r.move*r.currentSlide:f?(r.last-r.currentSlide+r.cloneOffset)*h:(r.currentSlide+r.cloneOffset)*h,s=a?c.touches[0].pageY:c.touches[0].pageX,o=a?c.touches[0].pageX:c.touches[0].pageY,t.addEventListener("touchmove",e,!1),t.addEventListener("touchend",n,!1))},!1)},resize:function(){!r.animating&&r.is(":visible")&&(l||r.doMath(),c?p.smoothHeight():l?(r.slides.width(r.computedW),r.update(r.pagingCount),r.setProps()):a?(r.viewport.height(r.h),r.setProps(r.h,"setTotal")):(i.smoothHeight&&p.smoothHeight(),r.newSlides.width(r.computedW),r.setProps(r.computedW,"setTotal")))},smoothHeight:function(e){if(!a||c){var t=c?r:r.viewport;e?t.animate({height:r.slides.eq(r.animatingTo).height()},e):t.height(r.slides.eq(r.animatingTo).height())}},sync:function(t){var n=e(i.sync).data("flexslider"),s=r.animatingTo;switch(t){case"animate":n.flexAnimate(s,i.pauseOnAction,!1,!0);break;case"play":!n.playing&&!n.asNav&&n.play();break;case"pause":n.pause()}}},r.flexAnimate=function(t,n,u,v,g){h&&1===r.pagingCount&&(r.direction=r.currentItem<t?"next":"prev");if(!r.animating&&(r.canAdvance(t,g)||u)&&r.is(":visible")){if(h&&v){if(u=e(i.asNavFor).data("flexslider"),r.atEnd=0===t||t===r.count-1,u.flexAnimate(t,!0,!1,!0,g),r.direction=r.currentItem<t?"next":"prev",u.direction=r.direction,Math.ceil((t+1)/r.visible)-1===r.currentSlide||0===t)return r.currentItem=t,r.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),!1;r.currentItem=t,r.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),t=Math.floor(t/r.visible)}r.animating=!0,r.animatingTo=t,i.before(r),n&&r.pause(),r.syncExists&&!g&&p.sync("animate"),i.controlNav&&p.controlNav.active(),l||r.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),r.atEnd=0===t||t===r.last,i.directionNav&&p.directionNav.update(),t===r.last&&(i.end(r),i.animationLoop||r.pause());if(c)o?(r.slides.eq(r.currentSlide).css({opacity:0,zIndex:1}),r.slides.eq(t).css({opacity:1,zIndex:2}),r.animating=!1,r.currentSlide=r.animatingTo):(r.slides.eq(r.currentSlide).fadeOut(i.animationSpeed,i.easing),r.slides.eq(t).fadeIn(i.animationSpeed,i.easing,r.wrapup));else{var y=a?r.slides.filter(":first").height():r.computedW;l?(t=i.itemWidth>r.w?2*i.itemMargin:i.itemMargin,t=(r.itemW+t)*r.move*r.animatingTo,t=t>r.limit&&1!==r.visible?r.limit:t):t=0===r.currentSlide&&t===r.count-1&&i.animationLoop&&"next"!==r.direction?f?(r.count+r.cloneOffset)*y:0:r.currentSlide===r.last&&0===t&&i.animationLoop&&"prev"!==r.direction?f?0:(r.count+1)*y:f?(r.count-1-t+r.cloneOffset)*y:(t+r.cloneOffset)*y,r.setProps(t,"",i.animationSpeed);if(r.transitions){if(!i.animationLoop||!r.atEnd)r.animating=!1,r.currentSlide=r.animatingTo;r.container.unbind("webkitTransitionEnd transitionend"),r.container.bind("webkitTransitionEnd transitionend",function(){r.wrapup(y)})}else r.container.animate(r.args,i.animationSpeed,i.easing,function(){r.wrapup(y)})}i.smoothHeight&&p.smoothHeight(i.animationSpeed)}},r.wrapup=function(e){!c&&!l&&(0===r.currentSlide&&r.animatingTo===r.last&&i.animationLoop?r.setProps(e,"jumpEnd"):r.currentSlide===r.last&&0===r.animatingTo&&i.animationLoop&&r.setProps(e,"jumpStart")),r.animating=!1,r.currentSlide=r.animatingTo,i.after(r)},r.animateSlides=function(){r.animating||r.flexAnimate(r.getTarget("next"))},r.pause=function(){clearInterval(r.animatedSlides),r.playing=!1,i.pausePlay&&p.pausePlay.update("play"),r.syncExists&&p.sync("pause")},r.play=function(){r.animatedSlides=setInterval(r.animateSlides,i.slideshowSpeed),r.playing=!0,i.pausePlay&&p.pausePlay.update("pause"),r.syncExists&&p.sync("play")},r.canAdvance=function(e,t){var n=h?r.pagingCount-1:r.last;return t?!0:h&&r.currentItem===r.count-1&&0===e&&"prev"===r.direction?!0:h&&0===r.currentItem&&e===r.pagingCount-1&&"next"!==r.direction?!1:e===r.currentSlide&&!h?!1:i.animationLoop?!0:r.atEnd&&0===r.currentSlide&&e===n&&"next"!==r.direction?!1:r.atEnd&&r.currentSlide===n&&0===e&&"next"===r.direction?!1:!0},r.getTarget=function(e){return r.direction=e,"next"===e?r.currentSlide===r.last?0:r.currentSlide+1:0===r.currentSlide?r.last:r.currentSlide-1},r.setProps=function(e,t,n){var s,o=e?e:(r.itemW+i.itemMargin)*r.move*r.animatingTo;s=-1*function(){if(l)return"setTouch"===t?e:f&&r.animatingTo===r.last?0:f?r.limit-(r.itemW+i.itemMargin)*r.move*r.animatingTo:r.animatingTo===r.last?r.limit:o;switch(t){case"setTotal":return f?(r.count-1-r.currentSlide+r.cloneOffset)*e:(r.currentSlide+r.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return f?e:r.count*e;case"jumpStart":return f?r.count*e:e;default:return e}}()+"px",r.transitions&&(s=a?"translate3d(0,"+s+",0)":"translate3d("+s+",0,0)",n=void 0!==n?n/1e3+"s":"0s",r.container.css("-"+r.pfx+"-transition-duration",n)),r.args[r.prop]=s,(r.transitions||void 0===n)&&r.container.css(r.args)},r.setup=function(t){if(c)r.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(o?r.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.animationSpeed/1e3+"s ease",zIndex:1}).eq(r.currentSlide).css({opacity:1,zIndex:2}):r.slides.eq(r.currentSlide).fadeIn(i.animationSpeed,i.easing)),i.smoothHeight&&p.smoothHeight();else{var n,u;"init"===t&&(r.viewport=e('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(r).append(r.container),r.cloneCount=0,r.cloneOffset=0,f&&(u=e.makeArray(r.slides).reverse(),r.slides=e(u),r.container.empty().append(r.slides))),i.animationLoop&&!l&&(r.cloneCount=2,r.cloneOffset=1,"init"!==t&&r.container.find(".clone").remove(),r.container.append(r.slides.first().clone().addClass("clone")).prepend(r.slides.last().clone().addClass("clone"))),r.newSlides=e(i.selector,r),n=f?r.count-1-r.currentSlide+r.cloneOffset:r.currentSlide+r.cloneOffset,a&&!l?(r.container.height(200*(r.count+r.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){r.newSlides.css({display:"block"}),r.doMath(),r.viewport.height(r.h),r.setProps(n*r.h,"init")},"init"===t?100:0)):(r.container.width(200*(r.count+r.cloneCount)+"%"),r.setProps(n*r.computedW,"init"),setTimeout(function(){r.doMath(),r.newSlides.css({width:r.computedW,"float":"left",display:"block"}),i.smoothHeight&&p.smoothHeight()},"init"===t?100:0))}l||r.slides.removeClass(s+"active-slide").eq(r.currentSlide).addClass(s+"active-slide")},r.doMath=function(){var e=r.slides.first(),t=i.itemMargin,n=i.minItems,s=i.maxItems;r.w=r.width(),r.h=e.height(),r.boxPadding=e.outerWidth()-e.width(),l?(r.itemT=i.itemWidth+t,r.minW=n?n*r.itemT:r.w,r.maxW=s?s*r.itemT:r.w,r.itemW=r.minW>r.w?(r.w-t*n)/n:r.maxW<r.w?(r.w-t*s)/s:i.itemWidth>r.w?r.w:i.itemWidth,r.visible=Math.floor(r.w/(r.itemW+t)),r.move=0<i.move&&i.move<r.visible?i.move:r.visible,r.pagingCount=Math.ceil((r.count-r.visible)/r.move+1),r.last=r.pagingCount-1,r.limit=1===r.pagingCount?0:i.itemWidth>r.w?(r.itemW+2*t)*r.count-r.w-t:(r.itemW+t)*r.count-r.w-t):(r.itemW=r.w,r.pagingCount=r.count,r.last=r.count-1),r.computedW=r.itemW-r.boxPadding},r.update=function(e,t){r.doMath(),l||(e<r.currentSlide?r.currentSlide+=1:e<=r.currentSlide&&0!==e&&(r.currentSlide-=1),r.animatingTo=r.currentSlide);if(i.controlNav&&!r.manualControls)if("add"===t&&!l||r.pagingCount>r.controlNav.length)p.controlNav.update("add");else if("remove"===t&&!l||r.pagingCount<r.controlNav.length)l&&r.currentSlide>r.last&&(r.currentSlide-=1,r.animatingTo-=1),p.controlNav.update("remove",r.last);i.directionNav&&p.directionNav.update()},r.addSlide=function(t,n){var s=e(t);r.count+=1,r.last=r.count-1,a&&f?void 0!==n?r.slides.eq(r.count-n).after(s):r.container.prepend(s):void 0!==n?r.slides.eq(n).before(s):r.container.append(s),r.update(n,"add"),r.slides=e(i.selector+":not(.clone)",r),r.setup(),i.added(r)},r.removeSlide=function(t){var n=isNaN(t)?r.slides.index(e(t)):t;r.count-=1,r.last=r.count-1,isNaN(t)?e(t,r.slides).remove():a&&f?r.slides.eq(r.last).remove():r.slides.eq(t).remove(),r.doMath(),r.update(n,"remove"),r.slides=e(i.selector+":not(.clone)",r),r.setup(),i.removed(r)},p.init()},e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}},e.fn.flexslider=function(t){void 0===t&&(t={});if("object"==typeof t)return this.each(function(){var n=e(this),r=n.find(t.selector?t.selector:".slides > li");1===r.length?(r.fadeIn(400),t.start&&t.start(n)):void 0===n.data("flexslider")&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}}(jQuery),jQuery.bt={version:"0.9.5-rc1"},function($){jQuery.fn.bt=function(content,options){function drawIt(e,t){this.moveTo(e[0].x,e[0].y);for(i=1;i<e.length;i++)e[i-1].type=="arcStart"?(this.quadraticCurveTo(round5(e[i].x,t),round5(e[i].y,t),round5(e[(i+1)%e.length].x,t),round5(e[(i+1)%e.length].y,t)),i++):this.lineTo(round5(e[i].x,t),round5(e[i].y,t))}function round5(e,t){var n;return t=numb(t),t%2?n=e:n=Math.round(e-.5)+.5,n}function numb(e){return parseInt(e)||0}function arrayRemove(e,t){var n,r=new Array;for(n in e)e[n]!=t&&r.push(e[n]);return r}function canvasSupport(){var e=!1;try{e=!!document.createElement("canvas").getContext("2d")}catch(t){e=!!document.createElement("canvas").getContext}return e}function shadowSupport(){try{var e=navigator.userAgent.toLowerCase();if(/webkit/.test(e))return!0;if(/gecko|mozilla/.test(e)&&parseFloat(e.match(/firefox\/(\d+(?:\.\d+)+)/)[1])>=3.1)return!0}catch(t){}return!1}function betweenPoint(e,t,n){var r,i;if(e.x==t.x)return r=e.y<t.y?e.y+n:e.y-n,{x:e.x,y:r};if(e.y==t.y)return i=e.x<t.x?e.x+n:e.x-n,{x:i,y:e.y}}function centerPoint(e,t,n){var r=t.x==e.x?n.x:e.x,i=t.y==e.y?n.y:e.y,s,o;return e.x<n.x?e.y>n.y?(s=Math.PI/180*180,o=Math.PI/180*90):(s=Math.PI/180*90,o=0):e.y>n.y?(s=Math.PI/180*270,o=Math.PI/180*180):(s=0,o=Math.PI/180*270),{x:r,y:i,type:"center",startAngle:s,endAngle:o}}function findIntersect(e,t,n,r,i,s,o,u){if(i==o)return findIntersectY(e,t,n,r,i);if(s==u)return findIntersectX(e,t,n,r,s);var a=(t-r)/(e-n),f=t-a*e,l=(s-u)/(i-o),c=s-l*i,h=(c-f)/(a-l),p=a*h+f;return{x:h,y:p}}function findIntersectY(e,t,n,r,i){if(t==r)return{x:i,y:t};var s=(t-r)/(e-n),o=t-s*e,u=s*i+o;return{x:i,y:u}}function findIntersectX(e,t,n,r,i){if(e==n)return{x:e,y:i};var s=(t-r)/(e-n),o=t-s*e,u=(i-o)/s;return{x:u,y:i}}if(typeof content!="string"){var contentSelect=!0;options=content,content=!1}else var contentSelect=!1;return jQuery.fn.hoverIntent&&jQuery.bt.defaults.trigger=="hover"&&(jQuery.bt.defaults.trigger="hoverIntent"),this.each(function(index){var opts=jQuery.extend(!1,jQuery.bt.defaults,jQuery.bt.options,options);opts.spikeLength=numb(opts.spikeLength),opts.spikeGirth=numb(opts.spikeGirth),opts.overlap=numb(opts.overlap);var ajaxTimeout=!1;opts.killTitle&&$(this).find("[title]").andSelf().each(function(){$(this).attr("bt-xTitle")||$(this).attr("bt-xTitle",$(this).attr("title")).attr("title","")}),typeof opts.trigger=="string"&&(opts.trigger=[opts.trigger]);if(opts.trigger[0]=="hoverIntent"){var hoverOpts=jQuery.extend(opts.hoverIntentOpts,{over:function(){this.btOn()},out:function(){opts.trigger.length==1&&this.btOff()}});$(this).hoverIntent(hoverOpts)}else opts.trigger[0]=="hover"?$(this).hover(function(){this.btOn()},function(){opts.trigger.length==1&&this.btOff()}):opts.trigger[0]=="now"?$(this).hasClass("bt-active")?this.btOff():this.btOn():opts.trigger[0]!="none"&&(opts.trigger.length>1&&opts.trigger[0]!=opts.trigger[1]?$(this).bind(opts.trigger[0],function(){this.btOn()}).bind(opts.trigger[1],function(){this.btOff()}):$(this).bind(opts.trigger[0],function(){$(this).hasClass("bt-active")?this.btOff():this.btOn()}));this.btOn=function(){typeof $(this).data("bt-box")=="object"&&this.btOff(),opts.preBuild.apply(this),$(jQuery.bt.vars.closeWhenOpenStack).btOff(),$(this).addClass("bt-active "+opts.activeClass),contentSelect&&opts.ajaxPath==null&&(opts.killTitle&&$(this).attr("title",$(this).attr("bt-xTitle")),content=$.isFunction(opts.contentSelector)?opts.contentSelector.apply(this):eval(opts.contentSelector),opts.killTitle&&$(this).attr("title",""));if(opts.ajaxPath!=null&&content==0){if(typeof opts.ajaxPath=="object"){var url=eval(opts.ajaxPath[0]);url+=opts.ajaxPath[1]?" "+opts.ajaxPath[1]:""}else var url=opts.ajaxPath;var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var cacheData=opts.ajaxCache?$(document.body).data("btCache-"+url.replace(/\./g,"")):null;if(typeof cacheData=="string")content=selector?$("<div/>").append(cacheData.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):cacheData;else{var target=this,ajaxOpts=jQuery.extend(!1,{type:opts.ajaxType,data:opts.ajaxData,cache:opts.ajaxCache,url:url,complete:function(e,t){t=="success"||t=="notmodified"?(opts.ajaxCache&&$(document.body).data("btCache-"+url.replace(/\./g,""),e.responseText),ajaxTimeout=!1,content=selector?$("<div/>").append(e.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):e.responseText):(t=="timeout"&&(ajaxTimeout=!0),content=opts.ajaxError.replace(/%error/g,e.statusText)),$(target).hasClass("bt-active")&&target.btOn()}},opts.ajaxOpts);jQuery.ajax(ajaxOpts),content=opts.ajaxLoading}}var shadowMarginX=0,shadowMarginY=0,shadowShiftX=0,shadowShiftY=0;opts.shadow&&!shadowSupport()&&(opts.shadow=!1,jQuery.extend(opts,opts.noShadowOpts)),opts.shadow&&(opts.shadowBlur>Math.abs(opts.shadowOffsetX)?shadowMarginX=opts.shadowBlur*2:shadowMarginX=opts.shadowBlur+Math.abs(opts.shadowOffsetX),shadowShiftX=opts.shadowBlur-opts.shadowOffsetX>0?opts.shadowBlur-opts.shadowOffsetX:0,opts.shadowBlur>Math.abs(opts.shadowOffsetY)?shadowMarginY=opts.shadowBlur*2:shadowMarginY=opts.shadowBlur+Math.abs(opts.shadowOffsetY),shadowShiftY=opts.shadowBlur-opts.shadowOffsetY>0?opts.shadowBlur-opts.shadowOffsetY:0);if(opts.offsetParent)var offsetParent=$(opts.offsetParent),offsetParentPos=offsetParent.offset(),pos=$(this).offset(),top=numb(pos.top)-numb(offsetParentPos.top)+numb($(this).css("margin-top"))-shadowShiftY,left=numb(pos.left)-numb(offsetParentPos.left)+numb($(this).css("margin-left"))-shadowShiftX;else var offsetParent=$(this).css("position")=="absolute"?$(this).parents().eq(0).offsetParent():$(this).offsetParent(),pos=$(this).btPosition(),top=numb(pos.top)+numb($(this).css("margin-top"))-shadowShiftY,left=
numb(pos.left)+numb($(this).css("margin-left"))-shadowShiftX;var width=$(this).btOuterWidth(),height=$(this).outerHeight();if(typeof content=="object"){var original=content,clone=$(original).clone(!0).show(),origClones=$(original).data("bt-clones")||[];origClones.push(clone),$(original).data("bt-clones",origClones),$(clone).data("bt-orig",original),$(this).data("bt-content-orig",{original:original,clone:clone}),content=clone}if(typeof content=="null"||content=="")return;var $text=$('<div class="bt-content"></div>').append(content).css({padding:opts.padding,position:"absolute",width:opts.shrinkToFit?"auto":opts.width,zIndex:opts.textzIndex,left:shadowShiftX,top:shadowShiftY}).css(opts.cssStyles),$box=$('<div class="bt-wrapper"></div>').append($text).addClass(opts.cssClass).css({position:"absolute",width:opts.width,zIndex:opts.wrapperzIndex,visibility:"hidden"}).appendTo(offsetParent);jQuery.fn.bgiframe&&($text.bgiframe(),$box.bgiframe()),$(this).data("bt-box",$box);var scrollTop=numb($(document).scrollTop()),scrollLeft=numb($(document).scrollLeft()),docWidth=numb($(window).width()),docHeight=numb($(window).height()),winRight=scrollLeft+docWidth,winBottom=scrollTop+docHeight,space=new Object,thisOffset=$(this).offset();space.top=thisOffset.top-scrollTop,space.bottom=docHeight-(thisOffset+height-scrollTop),space.left=thisOffset.left-scrollLeft,space.right=docWidth-(thisOffset.left+width-scrollLeft);var textOutHeight=numb($text.outerHeight()),textOutWidth=numb($text.btOuterWidth());opts.positions.constructor==String&&(opts.positions=opts.positions.replace(/ /,"").split(","));if(opts.positions[0]=="most"){var position="top";for(var pig in space)position=space[pig]>space[position]?pig:position}else for(var x in opts.positions){var position=opts.positions[x];if((position=="left"||position=="right")&&space[position]>textOutWidth+opts.spikeLength)break;if((position=="top"||position=="bottom")&&space[position]>textOutHeight+opts.spikeLength)break}var horiz=left+(width-textOutWidth)*.5,vert=top+(height-textOutHeight)*.5,points=new Array,textTop,textLeft,textRight,textBottom,textTopSpace,textBottomSpace,textLeftSpace,textRightSpace,crossPoint,textCenter,spikePoint;switch(position){case"top":$text.css("margin-bottom",opts.spikeLength+"px"),$box.css({top:top-$text.outerHeight(!0)+opts.overlap,left:horiz}),textRightSpace=winRight-opts.windowMargin-($text.offset().left+$text.btOuterWidth(!0));var xShift=shadowShiftX;textRightSpace<0&&($box.css("left",numb($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+numb($text.css("margin-left"))-(scrollLeft+opts.windowMargin),textLeftSpace<0&&($box.css("left",numb($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={y:textBottom+opts.spikeLength,x:(textRight-textLeft)*.5+xShift,type:"spike"},crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textBottom),crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-opts.spikeGirth/2-opts.cornerRadius?textRight-opts.spikeGirth/2-opts.CornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x-opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]=spikePoint;break;case"left":$text.css("margin-right",opts.spikeLength+"px"),$box.css({top:vert+"px",left:left-$text.btOuterWidth(!0)+opts.overlap+"px"}),textBottomSpace=winBottom-opts.windowMargin-($text.offset().top+$text.outerHeight(!0));var yShift=shadowShiftY;textBottomSpace<0&&($box.css("top",numb($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+numb($text.css("margin-top"))-(scrollTop+opts.windowMargin),textTopSpace<0&&($box.css("top",numb($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:textRight+opts.spikeLength,y:(textBottom-textTop)*.5+yShift,type:"spike"},crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textRight),crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-opts.spikeGirth/2-opts.cornerRadius?textBottom-opts.spikeGirth/2-opts.cornerRadius:crossPoint.y,points[points.length]={x:textRight,y:crossPoint.y+opts.spikeGirth/2,type:"join"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:crossPoint.y-opts.spikeGirth/2,type:"join"},points[points.length]=spikePoint;break;case"bottom":$text.css("margin-top",opts.spikeLength+"px"),$box.css({top:top+height-opts.overlap,left:horiz}),textRightSpace=winRight-opts.windowMargin-($text.offset().left+$text.btOuterWidth(!0));var xShift=shadowShiftX;textRightSpace<0&&($box.css("left",numb($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+numb($text.css("margin-left"))-(scrollLeft+opts.windowMargin),textLeftSpace<0&&($box.css("left",numb($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:(textRight-textLeft)*.5+xShift,y:shadowShiftY,type:"spike"},crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textTop),crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-opts.spikeGirth/2-opts.cornerRadius?textRight-opts.spikeGirth/2-opts.cornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textTop,type:"join"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:crossPoint.x-opts.spikeGirth/2,y:textTop,type:"join"},points[points.length]=spikePoint;break;case"right":$text.css("margin-left",opts.spikeLength+"px"),$box.css({top:vert+"px",left:left+width-opts.overlap+"px"}),textBottomSpace=winBottom-opts.windowMargin-($text.offset().top+$text.outerHeight(!0));var yShift=shadowShiftY;textBottomSpace<0&&($box.css("top",numb($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+numb($text.css("margin-top"))-(scrollTop+opts.windowMargin),textTopSpace<0&&($box.css("top",numb($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:shadowShiftX,y:(textBottom-textTop)*.5+yShift,type:"spike"},crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textLeft),crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-opts.spikeGirth/2-opts.cornerRadius?textBottom-opts.spikeGirth/2-opts.cornerRadius:crossPoint.y,points[points.length]={x:textLeft,y:crossPoint.y-opts.spikeGirth/2,type:"join"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:crossPoint.y+opts.spikeGirth/2,type:"join"},points[points.length]=spikePoint}var canvas=document.createElement("canvas");$(canvas).attr("width",numb($text.btOuterWidth(!0))+opts.strokeWidth*2+shadowMarginX).attr("height",numb($text.outerHeight(!0))+opts.strokeWidth*2+shadowMarginY).appendTo($box).css({position:"absolute",zIndex:opts.boxzIndex}),typeof G_vmlCanvasManager!="undefined"&&(canvas=G_vmlCanvasManager.initElement(canvas));if(opts.cornerRadius>0){var newPoints=new Array,newPoint;for(var i=0;i<points.length;i++)points[i].type=="corner"?(newPoint=betweenPoint(points[i],points[(i-1)%points.length],opts.cornerRadius),newPoint.type="arcStart",newPoints[newPoints.length]=newPoint,newPoints[newPoints.length]=points[i],newPoint=betweenPoint(points[i],points[(i+1)%points.length],opts.cornerRadius),newPoint.type="arcEnd",newPoints[newPoints.length]=newPoint):newPoints[newPoints.length]=points[i];points=newPoints}var ctx=canvas.getContext("2d");if(opts.shadow&&opts.shadowOverlap!==!0){var shadowOverlap=numb(opts.shadowOverlap);switch(position){case"top":opts.shadowOffsetX+opts.shadowBlur-shadowOverlap>0&&$box.css("top",numb($box.css("top"))-(opts.shadowOffsetX+opts.shadowBlur-shadowOverlap));break;case"right":shadowShiftX-shadowOverlap>0&&$box.css("left",numb($box.css("left"))+shadowShiftX-shadowOverlap);break;case"bottom":shadowShiftY-shadowOverlap>0&&$box.css("top",numb($box.css("top"))+shadowShiftY-shadowOverlap);break;case"left":opts.shadowOffsetY+opts.shadowBlur-shadowOverlap>0&&$box.css("left",numb($box.css("left"))-(opts.shadowOffsetY+opts.shadowBlur-shadowOverlap))}}drawIt.apply(ctx,[points],opts.strokeWidth),ctx.fillStyle=opts.fill,opts.shadow&&(ctx.shadowOffsetX=opts.shadowOffsetX,ctx.shadowOffsetY=opts.shadowOffsetY,ctx.shadowBlur=opts.shadowBlur,ctx.shadowColor=opts.shadowColor),ctx.closePath(),ctx.fill(),opts.strokeWidth>0&&(ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineWidth=opts.strokeWidth,ctx.strokeStyle=opts.strokeStyle,ctx.beginPath(),drawIt.apply(ctx,[points],opts.strokeWidth),ctx.closePath(),ctx.stroke()),opts.preShow.apply(this,[$box[0]]),$box.css({display:"none",visibility:"visible"}),opts.showTip.apply(this,[$box[0]]);if(opts.overlay){var overlay=$('<div class="bt-overlay"></div>').css({position:"absolute",backgroundColor:"blue",top:top,left:left,width:width,height:height,opacity:".2"}).appendTo(offsetParent);$(this).data("overlay",overlay)}if(opts.ajaxPath!=null&&opts.ajaxCache==0||ajaxTimeout)content=!1;opts.clickAnywhereToClose&&(jQuery.bt.vars.clickAnywhereStack.push(this),$(document).click(jQuery.bt.docClick)),opts.closeWhenOthersOpen&&jQuery.bt.vars.closeWhenOpenStack.push(this),opts.postShow.apply(this,[$box[0]])},this.btOff=function(){var e=$(this).data("bt-box");opts.preHide.apply(this,[e]);var t=this;t.btCleanup=function(){var e=$(t).data("bt-box"),n=$(t).data("bt-content-orig"),r=$(t).data("bt-overlay");typeof e=="object"&&($(e).remove(),$(t).removeData("bt-box"));if(typeof n=="object"){var s=$(n.original).data("bt-clones");$(n).data("bt-clones",arrayRemove(s,n.clone))}typeof r=="object"&&($(r).remove(),$(t).removeData("bt-overlay")),jQuery.bt.vars.clickAnywhereStack=arrayRemove(jQuery.bt.vars.clickAnywhereStack,t),jQuery.bt.vars.closeWhenOpenStack=arrayRemove(jQuery.bt.vars.closeWhenOpenStack,t),$(t).removeClass("bt-active "+opts.activeClass),opts.postHide.apply(t)},opts.hideTip.apply(this,[e,t.btCleanup])};var refresh=this.btRefresh=function(){this.btOff(),this.btOn()}})},jQuery.fn.btPosition=function(){function e(e,t){return e[0]&&parseInt(jQuery.curCSS(e[0],t,!0),10)||0}var t=0,n=0,r;if(this[0]){var i=this.offsetParent(),s=this.offset(),o=/^body|html$/i.test(i[0].tagName)?{top:0,left:0}:i.offset();s.top-=e(this,"marginTop"),s.left-=e(this,"marginLeft"),o.top+=e(i,"borderTopWidth"),o.left+=e(i,"borderLeftWidth"),r={top:s.top-o.top,left:s.left-o.left}}return r},jQuery.fn.btOuterWidth=function(e){function t(e,t){return e[0]&&parseInt(jQuery.curCSS(e[0],t,!0),10)||0}return this.innerWidth()+t(this,"borderLeftWidth")+t(this,"borderRightWidth")+(e?t(this,"marginLeft")+t(this,"marginRight"):0)},jQuery.fn.btOn=function(){return this.each(function(e){jQuery.isFunction(this.btOn)&&this.btOn()})},jQuery.fn.btOff=function(){return this.each(function(e){jQuery.isFunction(this.btOff)&&this.btOff()})},jQuery.bt.vars={clickAnywhereStack:[],closeWhenOpenStack:[]},jQuery.bt.docClick=function(e){if(!e)var e=window.event;!$(e.target).parents().andSelf().filter(".bt-wrapper, .bt-active").length&&jQuery.bt.vars.clickAnywhereStack.length&&($(jQuery.bt.vars.clickAnywhereStack).btOff(),$(document).unbind("click",jQuery.bt.docClick))},jQuery.bt.defaults={trigger:"hover",clickAnywhereToClose:!0,closeWhenOthersOpen:!1,shrinkToFit:!1,width:"200px",padding:"10px",spikeGirth:10,spikeLength:15,overlap:0,overlay:!1,killTitle:!0,textzIndex:9999,boxzIndex:9998,wrapperzIndex:9997,offsetParent:null,positions:["most"],fill:"rgb(255, 255, 102)",windowMargin:10,strokeWidth:1,strokeStyle:"#000",cornerRadius:5,centerPointX:.5,centerPointY:.5,shadow:!1,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:3,shadowColor:"#000",shadowOverlap:!1,noShadowOpts:{strokeStyle:"#999"},cssClass:"",cssStyles:{},activeClass:"bt-active",contentSelector:"$(this).attr('title')",ajaxPath:null,ajaxError:"<strong>ERROR:</strong> <em>%error</em>",ajaxLoading:"<blink>Loading...</blink>",ajaxData:{},ajaxType:"GET",ajaxCache:!0,ajaxOpts:{},preBuild:function(){},preShow:function(e){},showTip:function(e){$(e).show()},postShow:function(e){},preHide:function(e){},hideTip:function(e,t){$(e).hide(),t()},postHide:function(){},hoverIntentOpts:{interval:300,timeout:500}},jQuery.bt.options={}}(jQuery),function(e){e.fn.swipe=function(t){var n={threshold:{x:30,y:10},swipeLeft:function(){},swipeRight:function(){}},r=e.extend(n,t||{});return this?this.each(function(){function s(e){n.x=e.targetTouches[0].pageX,n.y=e.targetTouches[0].pageY}function o(e){e.preventDefault(),i.x=e.targetTouches[0].pageX,i.y=e.targetTouches[0].pageY}function u(e){var t=n.y-i.y;changeX=n.x-i.x,changeX>r.threshold.x&&r.swipeLeft(this),changeX<r.threshold.x*-1&&r.swipeRight(this)}function s(e){n.x=e.targetTouches[0].pageX,n.y=e.targetTouches[0].pageY,i.x=n.x,i.y=n.y}function f(e){}var t=e(this),n={x:0,y:0},i={x:0,y:0};this.addEventListener("touchstart",s,!1),this.addEventListener("touchmove",o,!1),this.addEventListener("touchend",u,!1),this.addEventListener("touchcancel",f,!1)}):!1}}(jQuery),function(e){e.fn.extend({infiniteCarousel:function(t){var n={transitionSpeed:800,displayTime:6e3,displayProgressRing:!0,progressRingColorOpacity:"0,0,0,.5",progressRingBackgroundOn:!0,progressRingBackgroundColorOpacity:"255,255,255,.5",thumbnailType:"none",easeLeft:"linear",easeRight:"linear",imagePath:"/js/infinitecarousel/images/",inView:1,margin:0,advance:1,centerNavToImage:!0,peekPaddingPercent:25,itemWidthPercent:42,marginPercent:4,responsive:!0,customClass:null,showControls:!0,autoHideCaptions:!1,autoPilot:!1,prevNextInternal:!0,internalThumbnails:!1,enableKeyboardNav:!0,onSlideStart:function(){},onSlideEnd:function(){},onPauseClick:function(){},onPlayClick:function(){},onInit:function(){}},t=e.extend(n,t);return this.each(function(){function k(){n.autoHideCaptions&&e(".ic_caption",r).stop().animate({bottom:-p+"px"})}function L(){n.autoHideCaptions&&e(".ic_caption",r).stop().animate({bottom:"0px"})}function A(){thumbButtonStart=parseInt(e(".infiniteCarousel_item",r).attr("id").split("_").pop())+1,thumbButtonStart>s-1&&(thumbButtonStart-=s);if(n.thumbnailType=="count"){var t=[];for(var i=thumbButtonStart;i<thumbButtonStart+n.inView;i++)t.push(i+1>s?i+1-s:i+1);var o=t.pop(),u=n.inView>1?" & ":"";e(".ic_thumbnails span",N).text(t.join(", ")+u+o)}for(var i=thumbButtonStart;i<thumbButtonStart+n.inView;i++)i>s-1?e(".ic_button:eq("+Math.abs(s-i)+")",N).addClass("ic_active"):e(".ic_button:eq("+i+")",N).addClass("ic_active")}function O(t){n.onSlideStart.call(this),e(".ic_button",N).removeClass("ic_active"),e(".infiniteCarousel_item",r).slice(-t).prependTo("#ic_"+i+" .ic_tray",r),e(".ic_tray",r).css({left:"-="+h*t+"px"}),e(".ic_tray",r).stop().animate({left:"+="+h*t+"px"},n.transitionSpeed,n.easeRight,function(){L(),A(),n.onSlideEnd.call(this)}),k()}function M(t){n.onSlideStart.call(this),e(".ic_button",N).removeClass("ic_active"),e(".ic_tray",r).stop().animate({left:"-="+(h+v)*t+"px"},n.transitionSpeed,n.easeLeft,function(){e(".infiniteCarousel_item",r).slice(0,t).appendTo("#ic_"+i+" .ic_tray",r),e(".ic_tray",r).css({left:"-"+(h+v)+"px"}),L(),A(),n.onSlideEnd.call(this),n.autoPilot&&H(n.displayTime)}),k()}function _(){n.onPauseClick.call(this),n.autoPilot=!1,e("#ic_controls_"+i).css("background-position","1px 0"),clearInterval(y),E=w}function D(){n.autoPilot=!0,n.autoPilot&&!e(".ic_tray",r).is(":animated")&&H(n.displayTime),e("#ic_controls_"+i).css("background-position","-12px 0")}function P(){n.onPlayClick.call(this),n.autoPilot=!1,B(),e("#ic_controls_"+i).css("background-position","1px 0"),clearInterval(y)}function H(t){var s=(new Date).getTime(),o,u=0;y=setInterval(function(){u<359?(o=(new Date).getTime(),w=o-s+E,u=Math.floor(w/t*360),u>359&&(u=359),S?(C.clearRect(0,0,30,30),C.save(),C.translate(15,15),C.rotate(-Math.PI/2),n.progressRingBackgroundOn&&(C.strokeStyle="rgba("+n.progressRingBackgroundColorOpacity+")",C.beginPath(),C.arc(0,0,10,0,360*(Math.PI/180),!0),C.stroke(),C.strokeStyle="rgba("+n.progressRingColorOpacity+")"),C.beginPath(),C.arc(0,0,10,0,u*(Math.PI/180),!0),C.stroke(),C.restore()):e("#ic_ie_timer_"+i,r).css("width",99-Math.floor(w/t*100)+"%")):(E=0,clearInterval(y),M(n.advance))},20)}function B(){E=0,S&&(C.clearRect(0,0,30,30),C.save(),C.translate(15,15),C.rotate(-Math.PI/2),C.beginPath(),C.arc(0,0,10,0,360*(Math.PI/180),!0),C.stroke(),C.restore())}function j(){var t=r.parent().width(),i=e("li:eq(0)",r);i.length==0&&(i=e(".infiniteCarousel_item:eq(0)",r));var s=t,o=i.css("max-width");o.indexOf("%")>-1?s=parseInt(o)/100*t:s=parseInt(i.css("max-width"));var u=0;n.itemWidthPercent>0&&(u=t*(n.itemWidthPercent/100)),u>0&&u<s?h=u:h=s,n.peekPaddingPercent>0?d=t*(n.peekPaddingPercent/100):d=parseInt(r.css("padding-left")),n.marginPercent>0&&(v=t*(n.marginPercent/100)),v==0&&n.margin!=0&&(v=n.margin)}function F(t){t>0&&r.css({height:t+"px"});var i=n.centerNavToImage?e(".infiniteCarousel_item:eq(0) :first-child",r).height()/2:p/2;e(".ic_left_nav, .ic_right_nav",r).css("top",i)}function I(){var t=r.parent().width(),n=e(".ic_tray",r),i=e(".infiniteCarousel_item",r),s=e(".infiniteCarousel_item img",r);j();var o=r.height();i.css({width:h+"px",marginLeft:v+"px"}),n.css({left:"-"+(h+v)+"px"}),r.css({width:h+v*2+"px",paddingLeft:d+"px",paddingRight:d+"px",height:o+"px"}),setTimeout(function(){o=0,i.each(function(){var t=e(this).height();o=o>t?o:t}),F(o)},500)}var n=t,r=e(this),i=Math.round(Math.random()*1e8),s=e("li",r).length,o=[],u=[],f=[],l=[],c=[],h,p,d=0,v=0,m,g,y,w,E=0,S="HTMLCanvasElement"in window;e("li",r).each(function(t){o.push(e("p",this).html()),u.push(e("a",this).attr("href")),l.push(e(this).find("iframe").attr("longdesc")),f.push(e(this).find("img, iframe").attr("src")),c.push(e(this).html())}),n.inView>s&&(n.inView=s),n.advance>n.inView&&(n.advance=n.inView),h=e(this).find("li").width(),p=e(this).height(),n.responsive&&j(),e(r).replaceWith('<div class="infiniteCarousel" id="ic_'+i+'">'),r=e("#ic_"+i),e(r).height(p).width(h*n.inView).css({overflow:"hidden",position:"relative"}),e(r).append('<div class="ic_tray" style="position:relative;width:'+s*2*h+"px;left:-"+h+'px">');for(var x=0;x<s;x++)e("div.ic_tray",r).append('<div style="overflow:hidden;background:url('+n.imagePath+"wait.gif) no-repeat scroll 50% 50%;float:left;position:relative;width:"+h+'px;height:auto;" class="infiniteCarousel_item">');e(".infiniteCarousel_item",r).each(function(t){e(this).html(c[t])}),e(".infiniteCarousel_item",r).clone().appendTo(e("div.ic_tray",r)),e(".infiniteCarousel_item",r).each(function(t){e(this).attr("id","ic_"+i+"_"+t)}),e(".ic_tray",r).prepend(e(".infiniteCarousel_item:last",r).remove()),v==0&&n.margin!=0&&(v=n.margin),v!=0&&(e(r).width(e(r).width()+(n.inView+1)*v).height(e(r).height()),e(".infiniteCarousel_item",r).css({marginLeft:v+"px",marginBottom:v+"px"}),e(".ic_tray",r).css("left",parseInt(e(".ic_tray",r).css("left"))-v+"px").width(e(".ic_tray",r).width()+v*s*2));var T=n.centerNavToImage?e(".infiniteCarousel_item:eq(0) :first-child",r).height()/2:p/2;e(r).append('<div class="ic_left_nav" style="position:absolute;left:0;top:'+T+'px;">').append('<div class="ic_right_nav" style="position:absolute;right:0;top:'+T+'px;">'),!n.prevNextInternal&&parseInt(e(r).css("border-left-width"))+parseInt(e(r).css("border-right-width"))>0&&e(".ic_right_nav",r).css("right","-"+(parseInt(e(r).css("border-left-width"))+parseInt(e(r).css("border-right-width")))+"px"),e(".ic_left_nav",r).css("cursor","pointer").on("click",function(t){e(".ic_tray",r).is(":animated")||(P(),O(n.advance))}),e(".ic_right_nav",r).css("cursor","pointer").on("click",function(t){e(".ic_tray",r).is(":animated")||(P(),M(n.advance))}),n.inView==s&&(n.displayProgressRing=!1,n.thumbnailType="none",n.showControls=!1,n.autoPilot=!1,n.enableKeyboardNav=!1,e(".ic_left_nav,.ic_right_nav",r).hide()),n.prevNextInternal?e(r).hover(function(){e(".ic_left_nav",r).stop().animate({opacity:1,left:"0px"},300),e(".ic_right_nav",r).stop().animate({opacity:1,right:"0px"},300)},function(){e(".ic_left_nav",r).stop().animate({opacity:0,left:"-"+e(".ic_left_nav",r).width()+"px"},500),e(".ic_right_nav",r).stop().animate({opacity:0,right:"-"+e(".ic_left_nav",r).width()+"px"},500)}):(e(r).wrap('<div id="ic_'+i+'_wrapper" class="ic_wrapper" style="padding:0 32px;position:relative;">'),e("#ic_"+i+"_wrapper").width(e(r).width()),e("#ic_"+i+"_wrapper").prepend(e(".ic_left_nav",r).detach()),e("#ic_"+i+"_wrapper").prepend(e(".ic_right_nav",r).detach())),e("#ic_"+i).addClass("ic_peek_padding"),d==0&&(d=parseInt(e("#ic_"+i).css("padding-left"))),e("#ic_"+i).css({paddingLeft:d,paddingRight:d}),e("#ic_"+i+"_wrapper").width(e(r).width()+d*2);if(n.thumbnailType!="none"){e(r).append('<div id="ic_'+i+'_thumbnail_tray" class="ic_thumbnail_tray" style="position:absolute;bottom:0;padding:5px 0;width:100%;text-align:center;">'),e("#ic_"+i+"_thumbnail_tray").append('<div class="ic_thumbnails">');for(var x=0;x<s;x++)e(".ic_thumbnails",r).append('<div class="ic_button" style="cursor:pointer">');for(var x=0;x<n.inView;x++)e(".ic_button:eq("+x+")",r).addClass("ic_active");e(".ic_button").hover(function(){e(this).hasClass("ic_active")||e(this).css("background","#699")},function(){e(this).css("background","")}),n.thumbnailType=="images"&&e(".ic_button",r).each(function(t){f[t]!=undefined&&(thumbImage=f[t]),l[t]!=undefined&&(thumbImage=l[t]),e(this).append('<img width="100%" height="100%" src="'+thumbImage+'" />')}),n.thumbnailType=="numbers"&&e(".ic_button",r).each(function(t){e(this).html(t+1)}),n.thumbnailType=="count"&&(e(".ic_button",r).remove(),e(".ic_thumbnails",r).html("<span>1</span> of "+s),A()),n.internalThumbnails||(e("#ic_"+i+"_wrapper").length||(e(r).wrap('<div id="ic_'+i+'_wrapper" class="ic_wrapper" style="position:relative;" />'),e("#ic_"+i+"_wrapper").width(e(r).width())),e("#ic_"+i+"_thumbnail_tray").css({bottom:"",position:"relative"}).appendTo(e("#ic_"+i+"_wrapper")));var N=e("#ic_"+i+"_wrapper").length?e("#ic_"+i+"_wrapper"):r;e(".ic_button",N).on("click",function(){if(!e(".ic_tray",r).is(":animated")){P();var t=parseInt(e(".infiniteCarousel_item:eq(1)",r).attr("id").split("_").pop()),n=e(this).index();t>s-1&&(t-=s);var i=Math.abs(t-n),o=s-i,u=Math.min(i,o);t<n&&((i<o||i==o)&&M(u),i>o&&O(u)),t>n&&(i<o&&O(u),(i>o||i==o)&&M(u))}})}(!n.prevNextInternal||!n.internalThumbnails)&&n.customClass!==null?e("#ic_"+i+"_wrapper").addClass("ic_"+n.customClass):n.customClass!==null&&e(r).addClass("ic_"+n.customClass),n.enableKeyboardNav&&e(document).keydown(function(t){t.keyCode==39&&(e(".ic_tray",r).is(":animated")||(P(),M(n.advance))),t.keyCode==37&&(e(".ic_tray",r).is(":animated")||(P(),O(n.advance)));if(t.keyCode==80||t.keyCode==111)e(".ic_tray",r).is(":animated")||n.autoPilot&&_();if(t.keyCode==83||t.keyCode==115)e(".ic_tray",r).is(":animated")||D()}),n.showControls&&(e(r).append('<div id="ic_controls_'+i+'" class="ic_controls" style="background:url('+n.imagePath+'controls.png) no-repeat -12px 0;opacity:.5;cursor:pointer;height:10px;position:absolute;right:9px;top:10px;width:10px;z-index:1">'),n.autoPilot||e("#ic_controls_"+i).css("background-position","1px 0"),e(".ic_controls",r).on("click",function(){e(".ic_tray",r).is(":animated")||(n.autoPilot?_():D())}));if(S){e(r).append('<canvas id="ic_canvas_'+i+'" width="30" height="30" style="position:absolute;top:0;right:0;"></canvas>');var C=e("#ic_canvas_"+i)[0].getContext("2d");C.lineWidth=3,C.strokeStyle="rgba("+n.progressRingColorOpacity+")",C.shadowOffsetX=0,C.shadowOffsetY=0,C.shadowBlur=3,C.shadowColor="#fff",n.displayProgressRing||e("#ic_canvas_"+i).hide()}else e(r).append('<div id="ic_ie_timer_'+i+'" style="width:100%;height:6px;position:absolute;bottom:0;left:0;background:#ccc"></div>'),e("#ic_ie_timer_"+i).css("opacity",".25");n.responsive&&(e(window).bind("resize",I),I()),("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&e.fn.swipe&&e(".ic_tray",r).swipe({swipeLeft:function(){e(".ic_right_nav",r).click()},swipeRight:function(){e(".ic_left_nav",r).click()}}),n.onInit.call(this),n.autoPilot&&!e(".ic_tray",r).is(":animated")?H(n.displayTime):B()})}})}(jQuery),function(e){for(var t,n=document.getElementsByTagName("head")[0].style,r="transformProperty WebkitTransform OTransform msTransform".split(" "),i=0;i<r.length;i++)n[r[i]]!==undefined&&(t=r[i]);var s=!1;jQuery.fn.extend({ImageRotate:function(t){if(!this.Wilq32||!this.Wilq32.PhotoEffect)return t=e.extend(!0,{},t),(new Wilq32.PhotoEffect(this.get(0),t))._temp},rotate:function(t){if(this.length!==0&&typeof t!="undefined"){typeof t=="number"&&(t={angle:t});for(var n=[],r=0,i=this.length;r<i;r++){var s=this.get(r);typeof s.Wilq32=="undefined"?n.push(e(e(s).ImageRotate(t))):s.Wilq32.PhotoEffect._rotate(t.angle)}return n}},rotateAnimation:function(t){if(this.length!==0&&typeof t!="undefined"){typeof t=="number"&&(t={animateAngle:t});for(var n=[],r=0,i=this.length;r<i;r++){var s=this.get(r);typeof s.Wilq32=="undefined"?n.push(e(e(s).ImageRotate(t))):s.Wilq32.PhotoEffect.rotateAnimation(t)}return n}}}),Wilq32=window.Wilq32||{},Wilq32.PhotoEffect=function(){function e(e,t){this._img=e,this._parameters=t||{},this._parameters.angle=this._angle=t.angle||0,this._parameters.animateAngle=typeof t.animateAngle=="number"?t.animateAngle:this._angle,this._parameters.easing=t.easing||function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},this._parameters.duration=t.duration||1e3}return t?function(t,n){e.call(this,t,n),t.Wilq32={PhotoEffect:this},this._temp=this._img,this._BindEvents(t,this._parameters.bind),this._rotate(this._parameters.angle),this._parameters.angle!=this._parameters.animateAngle&&this.rotateAnimation(this._parameters)}:function(t,n){e.call(this,t,n),this._parameters.className=t.className,this._parameters.id=t.getAttribute("id"),this._temp=document.createElement("span"),this._temp.style.display="inline-block",this._temp.Wilq32={PhotoEffect:this},t.parentNode.insertBefore(this._temp,t);if(t.complete)this._Loader();else{var r=this;jQuery(this._img).bind("load",function(){r._Loader()})}}}(),Wilq32.PhotoEffect.prototype={rotateAnimation:function(e){this._parameters.animateAngle=e.animateAngle,this._parameters.callback=e.callback||this._parameters.callback||function(){},this._animateStart()},_BindEvents:function(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n))for(var r in t[n])t[n].hasOwnProperty(r)&&jQuery(e).bind(r,t[n][r])},_Loader:function(){function e(){this._rotate(this._parameters.angle),this._parameters.angle!=this._parameters.animateAngle&&this.rotateAnimation(this._parameters)}return s?function(){var t=this._img.width,n=this._img.height;this._img.parentNode.removeChild(this._img),this._vimage=this.createVMLNode("image"),this._vimage.src=this._img.src,this._vimage.style.height=n+"px",this._vimage.style.width=t+"px",this._vimage.style.position="absolute",this._vimage.style.top="0px",this._vimage.style.left="0px",this._container=this.createVMLNode("group"),this._container.style.width=t,this._container.style.height=n,this._container.style.position="absolute",this._container.setAttribute("coordsize",t-1+","+(n-1)),this._container.appendChild(this._vimage),this._temp.appendChild(this._container),this._temp.style.position="relative",this._temp.style.width=t+"px",this._temp.style.height=n+"px",this._temp.setAttribute("id",this._parameters.id),this._temp.className=this._parameters.className,this._BindEvents(this._temp,this._parameters.bind),e.call(this)}:function(){this._temp.setAttribute("id",this._parameters.id),this._temp.className=this._parameters.className,this._width=this._img.width,this._height=this._img.height,this._widthHalf=this._width/2,this._heightHalf=this._height/2;var t=Math.sqrt(this._height*this._height+this._width*this._width);this._widthAdd=t-this._width,this._heightAdd=t-this._height,this._widthAddHalf=this._widthAdd/2,this._heightAddHalf=this._heightAdd/2,this._img.parentNode.removeChild(this._img),this._aspectW=(parseInt(this._img.style.width,10)||this._width)/this._img.width,this._aspectH=(parseInt(this._img.style.height,10)||this._height)/this._img.height,this._canvas=document.createElement("canvas"),this._canvas.setAttribute("width",this._width),this._canvas.style.position="relative",this._canvas.style.left=-this._widthAddHalf+"px",this._canvas.style.top=-this._heightAddHalf+"px",this._canvas.Wilq32=this._temp.Wilq32,this._temp.appendChild(this._canvas),this._temp.style.width=this._width+"px",this._temp.style.height=this._height+"px",this._BindEvents(this._canvas,this._parameters.bind),this._cnv=this._canvas.getContext("2d"),e.call(this)}}(),_animateStart:function(){this._timer&&clearTimeout(this._timer),this._animateStartTime=+(new Date),this._animateStartAngle=this._angle,this._animate()},_animate:function(){var e=+(new Date),t=e-this._animateStartTime>this._parameters.duration;this._parameters.callback&&t&&this._parameters.callback();if(t&&!this._parameters.animatedGif)clearTimeout(this._timer);else{if(this._canvas||this._vimage||this._img)this._angle=this._parameters.easing(0,e-this._animateStartTime,this._animateStartAngle,this._parameters.animateAngle-this._animateStartAngle,this._parameters.duration),this._rotate(~~(this._angle*10)/10);var n=this;this._timer=setTimeout(function(){n._animate.call(n)},10)}},_rotate:function(){var e=Math.PI/180;return s?function(e){this._container.style.rotation=e+"deg"}:t?function(e){this._img.style[t]="rotate("+e+"deg)"}:function(t){!!this._img.width&&typeof t=="number"&&(t=t%360*e,this._canvas.width=this._width+this._widthAdd,this._canvas.height=this._height+this._heightAdd,this._cnv.translate(this._widthAddHalf,this._heightAddHalf),this._cnv.translate(this._widthHalf,this._heightHalf),this._cnv.rotate(t),this._cnv.translate(-this._widthHalf,-this._heightHalf),this._cnv.scale(this._aspectW,this._aspectH),this._cnv.drawImage(this._img,0,0))}}()},s&&(Wilq32.PhotoEffect.prototype.createVMLNode=function(){document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{return!document.namespaces.rvml&&document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<rvml:"+e+' class="rvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}}())}(jQuery),function(e,t,n){function r(e,t){
var n=(e[0]||0)-(t[0]||0);return n>0||!n&&e.length>0&&r(e.slice(1),t.slice(1))}function i(e){if(typeof e!=u)return e;var t=[],n="";for(var r in e)n=typeof e[r]==u?i(e[r]):[r,a?encodeURI(e[r]):e[r]].join("="),t.push(n);return t.join("&")}function s(e){var t=[];for(var n in e)e[n]&&t.push([n,'="',e[n],'"'].join(""));return t.join(" ")}function o(e){var t=[];for(var n in e)t.push(['<param name="',n,'" value="',i(e[n]),'" />'].join(""));return t.join("")}var u="object",a=!0;try{var f=n.description||function(){return(new n("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}()}catch(l){f="Unavailable"}var c=f.match(/\d+/g)||[0];e[t]={available:c[0]>0,activeX:n&&!n.name,version:{original:f,array:c,string:c.join("."),major:parseInt(c[0],10)||0,minor:parseInt(c[1],10)||0,release:parseInt(c[2],10)||0},hasVersion:function(e){return e=/string|number/.test(typeof e)?e.toString().split("."):/object/.test(typeof e)?[e.major,e.minor]:e||[0,0],r(c,e)},encodeParams:!0,expressInstall:"expressInstall.swf",expressInstallIsActive:!1,create:function(e){if(!e.swf||this.expressInstallIsActive||!this.available&&!e.hasVersionFail)return!1;if(!this.hasVersion(e.hasVersion||1)){this.expressInstallIsActive=!0;if(typeof e.hasVersionFail=="function"&&!e.hasVersionFail.apply(e))return!1;e={swf:e.expressInstall||this.expressInstall,height:137,width:214,flashvars:{MMredirectURL:location.href,MMplayerType:this.activeX?"ActiveX":"PlugIn",MMdoctitle:document.title.slice(0,47)+" - Flash Player Installation"}}}attrs={data:e.swf,type:"application/x-shockwave-flash",id:e.id||"flash_"+Math.floor(Math.random()*999999999),width:e.width||320,height:e.height||180,style:e.style||""},a=typeof e.useEncode!="undefined"?e.useEncode:this.encodeParams,e.movie=e.swf,e.wmode=e.wmode||"opaque",delete e.fallback,delete e.hasVersion,delete e.hasVersionFail,delete e.height,delete e.id,delete e.swf,delete e.useEncode,delete e.width;var t=document.createElement("div");return t.innerHTML=["<object ",s(attrs),">",o(e),"</object>"].join(""),t.firstChild}},e.fn[t]=function(n){var r=this.find(u).andSelf().filter(u);return/string|object/.test(typeof n)&&this.each(function(){var r=e(this),i;n=typeof n==u?n:{swf:n},n.fallback=this;if(i=e[t].create(n))r.children().remove(),r.html(i)}),typeof n=="function"&&r.each(function(){var r=this;r.jsInteractionTimeoutMs=r.jsInteractionTimeoutMs||0,r.jsInteractionTimeoutMs<660&&(r.clientWidth||r.clientHeight?n.call(r):setTimeout(function(){e(r)[t](n)},r.jsInteractionTimeoutMs+66))}),r}}(jQuery,"flash",navigator.plugins["Shockwave Flash"]||window.ActiveXObject),!function(e,t,n,r){var i=e(t);e.fn.lazyload=function(s){function o(){var t=0;f.each(function(){var n=e(this);if(!l.skip_invisible||n.is(":visible"))if(!e.abovethetop(this,l)&&!e.leftofbegin(this,l))if(e.belowthefold(this,l)||e.rightoffold(this,l)){if(++t>l.failure_limit)return!1}else n.trigger("appear"),t=0})}var u,f=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return s&&(r!==s.failurelimit&&(s.failure_limit=s.failurelimit,delete s.failurelimit),r!==s.effectspeed&&(s.effect_speed=s.effectspeed,delete s.effectspeed),e.extend(l,s)),u=l.container===r||l.container===t?i:e(l.container),0===l.event.indexOf("scroll")&&u.bind(l.event,function(){return o()}),this.each(function(){var t=this,n=e(t);t.loaded=!1,(n.attr("src")===r||n.attr("src")===!1)&&n.is("img")&&n.attr("src",l.placeholder),n.one("appear",function(){if(!this.loaded){if(l.appear){var r=f.length;l.appear.call(t,r,l)}e("<img />").bind("load",function(){var r=n.attr("data-"+l.data_attribute);n.hide(),n.is("img")?n.attr("src",r):n.css("background-image","url('"+r+"')"),n[l.effect](l.effect_speed),t.loaded=!0;var i=e.grep(f,function(e){return!e.loaded});if(f=e(i),l.load){var s=f.length;l.load.call(t,s,l)}}).attr("src",n.attr("data-"+l.data_attribute))}}),0!==l.event.indexOf("scroll")&&n.bind(l.event,function(){t.loaded||n.trigger("appear")})}),i.bind("resize",function(){o()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&i.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&f.each(function(){e(this).trigger("appear")})}),e(n).ready(function(){o()}),this},e.belowthefold=function(n,s){var o;return o=s.container===r||s.container===t?(t.innerHeight?t.innerHeight:i.height())+i.scrollTop():e(s.container).offset().top+e(s.container).height(),o<=e(n).offset().top-s.threshold},e.rightoffold=function(n,s){var o;return o=s.container===r||s.container===t?i.width()+i.scrollLeft():e(s.container).offset().left+e(s.container).width(),o<=e(n).offset().left-s.threshold},e.abovethetop=function(n,s){var o;return o=s.container===r||s.container===t?i.scrollTop():e(s.container).offset().top,o>=e(n).offset().top+s.threshold+e(n).height()},e.leftofbegin=function(n,s){var o;return o=s.container===r||s.container===t?i.scrollLeft():e(s.container).offset().left,o>=e(n).offset().left+s.threshold+e(n).width()},e.inviewport=function(t,n){return!(e.rightoffold(t,n)||e.leftofbegin(t,n)||e.belowthefold(t,n)||e.abovethetop(t,n))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document);