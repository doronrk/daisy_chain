jQuery(document).ready(function(){prepAltHover();setupQuantityTextChanged();if(jQuery("div.sizeSelectorOutsideContainer div.sizeChoiceContainer .sizeOption").size()==0){jQuery("#addToCart").addClass("enabled").removeClass("disabled")}jQuery("a.suggestionToggle").click(function(a){a.preventDefault();toggleTargetDisplayClass("div.suggestionOutsideContainer")});jQuery("div.qtySelector input#quantity").bind("keypress",function(a){var b=jQuery(this);setTimeout(function(){b.val(validNumberInput(b.val()))},10)});jQuery("div.qtySelector input#quantity").bind("paste",function(a){var b=jQuery(this);setTimeout(function(){b.val(validNumberInput(b.val()))},10)})});function setupQuantityTextChanged(){jQuery("input#quantity").blur(function(){validateQtyValue()})}function prepAltHover(){jQuery("div.altImageWrapper div.altImage").live("mouseenter focusin",function(){altHover(jQuery(this))});var b=jQuery("div.altImage");var a="";b.each(function(){var c=jQuery(this).find("img").attr("src");c=convertSrc(c);a=a+'<div style="background-image: url('+c+');">&nbsp;</div>'});jQuery("#pdpImageRetainer").html(a)}function altHover(c){var e="#mainProductImage";var a=parseInt(TCS.Settings.PDPAltProductImageWidth);var b=parseInt(TCS.Settings.PDPMainProductImageWidth);var d=jQuery(c).find("img").attr("src").replace("&w="+a,"&w="+b);d=convertSrc(d);jQuery(e).attr("src",d)}function convertSrc(c){var a=parseInt(TCS.Settings.PDPAltProductImageWidth);var b=parseInt(TCS.Settings.PDPMainProductImageWidth);c=c.replace("_tb.jpg","_xl.jpg");c=c.replace("&w="+a,"&w="+b);c=c.replace("http://","//");return c}function TCSPDPInventoryCheck(d,b){jQuery("div#inventoryCheck").removeClass("hidden");var c=Math.floor(Math.random()*10000);var a="/cart/checkinventory?itemid="+d+"&qty="+b+"&r="+c;jQuery.ajax({type:"GET",url:a,success:function(e){TCSPDPInventoryCheckResponse(e,b,d)},error:function(){var e="We're sorry, but there was an error connecting to the server. Please try again.";changeAlert(e,"error","#ui-pdp-message");jQuery("div#inventoryCheck").addClass("hidden")}})}function TCSPDPInventoryCheckResponse(a,d,e){jQuery("div#inventoryCheck").addClass("hidden");var b="#ui-pdp-message";var c="";if(a.Error==false){if(a.CanAddToCart==true){clearErrors();if(jQuery("div#landingPageContentContainer").hasClass("enableMinibagPDP")){qlSelf.widget_item_sku=e;qlSelf.widget_item_qty=d;qlSelf.widget_mode="pdp";qlSelf.callMiniBagAjax()}else{jQuery("form#pdpMainForm").submit()}}else{if(a.QtyAvailableToAdd==0){if(a.QtyInCart==0){c="We apologize, but we are currently out of stock for that item and option. Please try back later, as we constantly replenish our inventory."}else{c="We apologize, but all of the available inventory for that item and option is already in your shopping cart. Please try back later, as we constantly replenish our inventory.";jQuery("input#quantity").val(a.QtyAvailableToAdd)}}else{c="Sorry, the quantity requested is not available. Please click Add to Cart to add the updated quantity of "+a.QtyAvailableToAdd;jQuery("input#quantity").val(a.QtyAvailableToAdd)}if(c!=""){changeAlert(c,"error",b)}jQuery("div#inventoryCheck").addClass("hidden")}}}jQuery(document).ready(function(){jQuery("div#pdpProductContainer span.DropShipMoreInfoLink a").click(function(b){var h=jQuery(this).parent().parent();var f=h.hasClass("hotMarketMessage");var d=h.hasClass("dropShipMessage");var c=h.hasClass("customizedItemMessage");var a=jQuery();if(f){a=jQuery("div#HotMarketMessageText")}else{if(d){a=jQuery("div#DropShipMessageText")}else{if(c){a=jQuery("div#CustomizedItemMessageText")}}}if(a.length!=0){var g=jQuery(this).position().left;var i=jQuery(this).position().top;a.css({top:(i-5)+"px",left:(g-5)+"px"});a.fadeIn(500)}jQuery(document).click(function(j){jQuery(".moreInfoMessageText").fadeOut(300);jQuery(document).off(j)});b.preventDefault();return false})});var dynamicImageBaseUrl="";jQuery(document).ready(function(){jQuery("a.pdpViewJerseyButton").click(function(){UpdateDynamicData("false");return false});jQuery("div.playerSelector select").change(function(){var g=jQuery(this).val();var f=g.split("/");if(f[0]!="0"){jQuery("div.customOptions input[type=text]:eq(0)").val(f[1]);jQuery("div.customOptions input[type=text]:eq(1)").val(f[2]);UpdateDynamicData("false")}});var a=getQueryStringValue("name");var b=getQueryStringValue("number");var c=false;if(a){jQuery("div.customOptions input[type=text]:eq(1)").val(a.substring(0,12));c=true}if(b){jQuery("div.customOptions input[type=text]:eq(0)").val(b.substring(0,2));c=true}if(c){jQuery("div.customOptions input[type=text]:eq(0)").trigger("blur")}var d=dynamicCustomGrabNumberName();var e=d[0];jQuery(e).keypress(function(f){return isNumberKey(f)});jQuery("#mainProductImage").load(function(){dynamicCustomImageLoadResponse()})});function getQueryStringValue(c){var b=window.location.href.substring(window.location.href.indexOf("?")+1);var e=b.split("&");for(var a=0;a<e.length;a++){var d=e[a].split("=");if(d[0]==c){return decodeURIComponent(d[1])}}}function validateCustomSelect(a,c,b){validateCustom(a,"select",c,b)}function validateCustom(b,d,f,c){if(d.indexOf("{")>0||d==""){d="enter"}var a="";var e=jQuery(b);a=e.val();missingInput=false;if(d=="select"){if(e.prop("selectedIndex")=="0"){missingInput=true}else{missingInput=false}}checkMsg="Please "+d+" a valid value for '"+e.data("display-text")+"'.";if(checkMsg=="Please "+d+" a valid value for 'undefined'."){if(f!==""&&f!==undefined){checkMsg="Please "+d+" a valid value for '"+f+"'."}else{checkMsg="Please "+d+" a valid value."}}if(missingInput==true){changeAlert(checkMsg,"error","#ui-pdp-message");jQueryValidateTrackErrorForm("form#pdpMainForm");e.addClass("error")}else{checkValidationRegex=e.data("validation-regex");if(checkValidationRegex!==""&&checkValidationRegex!==undefined){if(!a.match(checkValidationRegex)){changeAlert(checkMsg,"error","#ui-pdp-message");jQueryValidateTrackErrorForm("form#pdpMainForm");e.addClass("error")}else{clearErrors();UpdateDynamicData(false)}}else{clearErrors()}}}function dynamicCustomImageLoad(b,e){if(b.attr("src")==e){return}var d='<div id="imageLoadingBGContainer" class="imageLoadingBGContainer"></div><div id="imageLoadingIndicator"><p>Please wait,<br/>Loading..</p></div>';if(!(jQuery("div#imageLoadingBGContainer").hasClass("imageLoadingBGContainer"))){jQuery("div.pdpImageContainer").append(d)}var a={display:"block"};var c={left:"125px",top:"100px",display:"block"};jQuery("div#imageLoadingBGContainer").css(a);jQuery("div#imageLoadingIndicator").css(c);b.attr("src",e)}function dynamicCustomImageLoadResponse(){jQuery("div#imageLoadingBGContainer").css("display","none");jQuery("div#imageLoadingIndicator").css("display","none")}function dynamicCustomGrabNumberName(){var c=jQuery("div.pdpDynamicCustomProductContainer div.customOptions input[type=text]:eq(0)");var b=jQuery("div.pdpDynamicCustomProductContainer div.customOptions input[type=text]:eq(1)");var d;if(b.attr("maxlength")=="2"){d=c;c=b;b=d}var a=new Array();a[0]=c;a[1]=b;return a}function dynamicCustomUpdateSizes(a){var b="";jQuery.each(a,function(c,d){if(d.Item.QuantityOnHand<=0){oosClass=d.Item.InStockFlag+" disabled"}else{oosClass=d.Item.InStockFlag}b=b+'<a class="sizeOption sizeOptionElement '+oosClass+'" onclick="sizeClickTCS(this, \''+d.Item.ItemID+"', '"+d.Item.UpCharge+"', '')\"> <span class=\"size\">"+d.Item.Size+'</span> <span class="sku">'+d.Item.ItemID+"</span></a>"});jQuery("div.sizeSelectorOutsideContainer div.sizeChoiceContainer").html(b)}function dynamicCustomUpdatePrices(d){var a="";var b="";a='<div class="'+d.PriceName+'">';var c='<h2 class="regularPrice"><span class="regularLabel">Regular </span><span class="label">Price: </span><span class="regularPrice"><FFRegular></span><span class="additionalPrice"></span></h2><h2 class="salePrice"><span class="saleLabel">Sale Price: </span><span class="salePrice"><FFSale></span><span class="saleLabel additionalPrice"></span></h2><h2 class="clearancePrice"><span class="clearanceLabel">'+TCS.Settings.ClearanceSaleLabelText+'</span><span class="clearancePrice"><FFClearance></span><span class="clearanceLabel additionalPrice"></span></h2>';if(d.DisplayRegularPrice!=undefined){c=c.replace("<FFRegular>",d.DisplayRegularPrice)}if(d.DisplaySalePrice!=undefined){c=c.replace("<FFSale>",d.DisplaySalePrice)}if(d.DisplayClearancePrice!=undefined){c=c.replace("<FFClearance>",d.DisplayClearnacePrice)}a=a+c;a=a+"</div>";jQuery("div.PriceStockContainer div.PriceContainer").html(a)}var defaultImageUrl="";jQuery(document).ready(function(){jQuery(".pdpSocialNetworkingToggle").click(function(){jQuery("div#pdpSocialNetworkingShareDivLayer").toggleClass("display");return false});var a=jQuery("div.customOptions select");a.change(function(){UpdateCustomSelectOptions()});if(typeof(quantityavailable)!="undefined"&&typeof(cartcount)!="undefined"&&typeof(selectedoption)!="undefined"){AvailableQuantityChanged(quantityavailable,cartcount,selectedoption)}});function UpdateCustomSelectOptions(){var b=jQuery("#data-dynamic-image-chain").html();var a=jQuery("#data-dynamic-image-base-url").html();var e=[];var f=false;jQuery("div.customOptions select").each(function(h,j){var g=jQuery(this).attr("data-key");var k=jQuery(this).find("option:selected").attr("value");if(!k){f=true}e.push("set=key["+g+"],value["+k+"]")});var c=jQuery("span#data-dynamic-image-exists").html();if(c=="false"){f=true}jQuery("div.customOptions input[type=text]").each(function(h,j){var g=jQuery(this).attr("data-key");var k=jQuery(this).val().toUpperCase();e.push("set=key["+g+"],value["+encodeURIComponent(k)+"]")});if(!f){var d=a+"?"+e.join("&")+"&call=url["+b+"]&scale=size[400]&sink";dynamicCustomImageLoad(jQuery("#mainProductImage"),d)}}function AvailableQuantityChanged(a,b,c){if(c!=""){if((a-cartcount)<=0){changeAlert("Sorry, the quantity requested is not available. Please click Add to Cart to add the updated quantity of "+a,"error","#ui-pdp-message");jQuery("input#quantity").val(a)}else{if(a<=0){jQuery.each(jQuery("span.sku"),function(d,e){if(c==jQuery(e).html()){jQuery(e).parent().addClass("disabled").addClass("OO")}});changeAlert("We're sorry, but that item is currently out of stock and cannot be added to your cart at this time.","error","#ui-pdp-message")}}}};