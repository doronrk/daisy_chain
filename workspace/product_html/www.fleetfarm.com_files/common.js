jQuery(document).ready(function(){var reqParam="gslfah";
if(location.search.indexOf(reqParam)!=-1){jQuery(".sub_menu,.ter_menu").children().each(function(){jQuery(this).children().each(function(){if("Firearms"==jQuery(this).text()||"Firearm Accessories"==jQuery(this).text()||"Sling Shots"==jQuery(this).text()||"Knives"==jQuery(this).text()||"Paintball & Airsoft"==jQuery(this).text()||"Tactical Accessories"==jQuery(this).text()){jQuery(this).parent().hide();
}});
});
}});
$(document).ready(function($){$("a[rel$='external'], a[rel$='_blank']").live("click",function(){this.target="_blank";
});
initBindings();
$("#search").focus(function(){schval=$(this).val();
if(schval=="Search"){$(this).val("");
}});
$("#search").blur(function(){schval=$(this).val();
if(schval==""){$(this).val("Search");
}});
$("ul.dropdown li").hover(function(){$(this).addClass("hover");
$("ul:first",this).css("visibility","visible");
},function(){$(this).removeClass("hover");
$("ul:first",this).css("visibility","hidden");
});
$(".addToCartButton").click(function(e){addToCartAjax($(this));
e.preventDefault();
});
$(".addToCartSerialButton").live("click",function(e){addToCartSerialized($(this).closest("form").serialize(),$(this).closest("form").attr("action"));
e.preventDefault();
});
$(".sendToFriendSerialButton").live("click",function(e){sendToFriendSerialized($(this).closest("form").serialize(),$(this).closest("form").attr("action"));
e.preventDefault();
});
$(".expressCheckOutLink").live("click",function(e){expressCheckoutAjax($(this));
e.preventDefault();
});
heightFilter();
});
function trimToMaxLen(text,maxLen){var in_value,out_value;
if(text.value.length>maxLen){in_value=text.value;
out_value=in_value.substring(0,maxLen);
text.value=out_value;
return false;
}return true;
}function heightFilter(){var hCombox=$("#filterCombox").height();
var hApply=$("#filterApply").height();
var hHowMany=$("#howMany").height();
var heightT=hCombox+hApply;
$("#sort_navigation").height(heightT);
$("#sort_navigationBottom").height(heightT);
}function emailSignupContant(){$("#emailSignupButtonModal").remove();
$("body").append('<div id="emailSignupButtonModal"></div>');
$("#emailSignupButtonModal").load("/includes/account/emailsignup.jsp").dialog({height:"auto",minWidth:eval("emailSignupButton").width,minHeight:eval("emailSignupButton").height,modal:true,bgiframe:true,draggable:false,resizable:false,autoOpen:false,closeOnEscape:false,hide:"fade",show:"fade"}).dialog("open");
}function addToCartAjax(obj){var validOptions=false;
if(isProductPickerType()){validOptions=checkPickerOptions()&&checkQuantityGt0();
}else{validOptions=checkQuantityGt0();
}if(validOptions){href=obj.attr("href");
$.get(href,function(data){if($(data).find("#item_description > .ui-widget").children().length==0){$(".ui-dialog-content").dialog("close");
$.ajax({url:"/includes/miniCart/mini-cart.jsp",success:function(html){$("#headerCart").empty().append(html);
initBindings();
miniCartDirection("down");
$("html, body").animate({scrollTop:0},"slow");
}});
}else{$("#item_num").after().append($(data).find("#item_description > .ui-widget").html());
}});
}}function expressCheckoutAjax(obj){var validOptions=false;
if(isProductPickerType()){validOptions=checkPickerOptions()&&checkQuantityGt0();
}else{validOptions=checkQuantityGt0();
}if(validOptions){if(obj.attr("id")==null){$("#addItemAndExpressCheckout").val(true);
var linkHref=obj.attr("href");
var serializedForm=obj.closest("form").serialize();
expressCheckoutSerialized(serializedForm,obj.closest("form").attr("action"),linkHref);
}else{var linkId=obj.attr("id");
var linkHref=obj.attr("href");
var skuId=$("#catalogRefIds").val();
var qty=$("#quantityInput").val();
openAjaxModal(linkHref+"&skuId="+skuId+"&quantity="+qty,linkId);
}return true;
}else{return false;
}}function expressCheckoutSerialized(serialData,action,sucessURL){$.ajax({url:action,type:"post",data:serialData,success:function(data){if($(data).find("#errorMessagesPDP").children().length==0){window.location.href=sucessURL;
}else{$("#errorMessagesPDP").html($(data).find("#errorMessagesPDP").html());
}}});
}function addToCartSerialized(serialData,action){var validOptions=false;
validOptions=checkPickerOptions()&&checkQuantityGt0();
if(validOptions){$.ajax({url:action,type:"post",data:serialData,success:function(data){if($(data).find("#errorMessagesPDP").children().length==0){$(".ui-dialog-content").dialog("close");
$(".item_descriptionPDP > .ui-widget").empty();
$("#headerCart").empty().append(data);
initBindings();
miniCartDirection("down");
$("html, body").animate({scrollTop:0},"slow");
}else{$("#errorMessagesPDP").html($(data).find("#errorMessagesPDP").html());
}}});
}}function addToCartNoSizeAjax(serialData,action,prodId){var divError="#errorMessagesPDP"+prodId;
var validOptions=false;
if(isProductPickerTypeCompare(prodId)){validOptions=checkPickerOptionsCompare(prodId);
}else{validOptions=checkSizeCompare(prodId);
}if(validOptions){$.ajax({url:action,type:"post",data:serialData,success:function(data){if($(data).find(divError).children().length==0){$(".ui-dialog-content").dialog("close");
$(".item_descriptionPDP > .ui-widget").empty();
$("#headerCart").empty().append(data);
initBindings();
miniCartDirection("down");
$("html, body").animate({scrollTop:0},"slow");
}else{$(divError).html($(data).find(divError).html());
}}});
}}function checkSizeCompare(prodId){htmlError='<div class="ui-state-error ui-corner-all ui-alert-padding">'+"<p>"+'<span class="ui-icon ui-icon-alert ui-alert-icon-box"></span>'+"<strong>Alert:</strong> You should select a valid size."+"</p>"+"</div>"+'<div class="clearBoth"></div>';
if($("#sizeOptions"+prodId)){if($("#sizeOptions"+prodId+" :selected").val()!=""){return true;
}else{$("#errorMessagesPDP"+prodId).html(htmlError);
return false;
}}else{return true;
}}function sendToFriendSerialized(serialData,action){$.post(action,serialData,function(data){if($(data).find(".item_descriptionSendToFriend > .ui-widget").length==0){$("#dialog-message").html(data);
$(".ui-dialog").dialog("destroy").remove();
$("#dialog-message").dialog({autoOpen:true,draggable:false,resizable:false,closeOnEscape:false,modal:true,width:300,height:120});
}else{$(".item_descriptionSendToFriend > .ui-widget ").html($(data).find(".item_descriptionSendToFriend > .ui-widget").html());
}});
}function miniCartDirection(direction){if(direction=="down"){$("#miniCart").slideDown("fast",function(){});
}else{$("#miniCart").slideUp("fast",function(){});
}}function wishListDirection(direction){if(direction=="down"){$("#wishList").slideDown("fast",function(){});
}else{$("#wishList").slideUp("fast",function(){});
}}function initBindings(){$("#headerCart").unbind("click");
$("#headerCart").click(function(e){if($("#miniCart").is(":visible")){miniCartDirection("up");
e.preventDefault();
e.stopPropagation();
}else{miniCartDirection("down");
e.preventDefault();
e.stopPropagation();
}});
$("#miniCartClose").unbind("click");
$("#miniCartClose").click(function(e){miniCartDirection("up");
e.stopPropagation();
});
$("#miniCart").unbind("click");
$("#miniCart").click(function(e){e.stopPropagation();
});
$("body").click(function(e){if($("#miniCart").is(":visible")){miniCartDirection("up");
}if($("#wishList").is(":visible")){wishListDirection("up");
}});
$("#headerWishlist").unbind("click");
$("#headerWishlist").click(function(e){if($("#wishList").is(":visible")){wishListDirection("up");
e.preventDefault();
e.stopPropagation();
}else{wishListDirection("down");
e.preventDefault();
e.stopPropagation();
}});
$("#wishListClose").unbind("click");
$("#wishListClose").click(function(e){wishListDirection("up");
e.stopPropagation();
});
$("#wishList").unbind("click");
$("#wishList").click(function(e){e.stopPropagation();
});
$("input:submit, a, button",".genericButton").button();
}function popupOptions(){this.height=screen.availHeight/2;
this.width=screen.availWidth/2;
this.top=0;
this.left=0;
this.toolbar=false;
this.location=false;
this.directories=false;
this.status=false;
this.menubar=false;
this.scrollbars=false;
this.resizable=false;
this.dependent=false;
this.build=_buildOptions;
}function _buildOptions(){var sTemp="";
sTemp+="height="+this.height+",";
sTemp+="width="+this.width+",";
sTemp+="top="+this.top+",";
sTemp+="left="+this.left+",";
sTemp+="scrollbars="+((this.scrollbars)?"yes":"no")+",";
sTemp+="toolbar="+((this.toolbar)?"yes":"no")+",";
sTemp+="location="+((this.location)?"yes":"no")+",";
sTemp+="directories="+((this.directories)?"yes":"no")+",";
sTemp+="status="+((this.status)?"yes":"no")+",";
sTemp+="menubar="+((this.menubar)?"yes":"no")+",";
sTemp+="resizable="+((this.resizable)?"yes":"no")+",";
sTemp+="dependent="+((this.dependent)?"yes":"no");
return(sTemp);
}function popup(winlink,winname){var winwidth=(arguments.length>=3)?arguments[2]:screen.availWidth/2;
var winheight=(arguments.length>=4)?arguments[3]:screen.availHeight/2;
var winscroll=(arguments.length>=5)?((arguments[4]=="1")?true:false):false;
var wintoolbar=(arguments.length>=6)?((arguments[5]=="1")?true:false):false;
var winresize=(arguments.length>=7)?((arguments[6]=="1")?true:false):true;
var winmenubar=(arguments.length>=8)?((arguments[7]=="1")?true:false):false;
var oOption=new popupOptions();
oOption.width=winwidth;
oOption.height=winheight;
oOption.scrollbars=winscroll;
oOption.toolbar=wintoolbar;
oOption.resizable=winresize;
oOption.menubar=winmenubar;
oOption.top=((screen.availHeight/2)-(winheight/2));
oOption.left=((screen.availWidth/2)-(winwidth/2));
oOption.location=false;
oOption.directories=false;
oOption.status=false;
oOption.dependent=false;
var sOptions=oOption.build();
window.open(winlink,winname,sOptions);
}function checkSize(){htmlError='<div class="ui-state-error ui-corner-all ui-alert-padding">'+"<p>"+'<span class="ui-icon ui-icon-alert ui-alert-icon-box"></span>'+"<strong>Alert:</strong> You should select a valid size."+"</p>"+"</div>"+'<div class="clearBoth"></div>';
if($("#sizeOptions")&&$("#sizeOptions :selected").val()!=""){return true;
}else{$("#errorMessagesPDP").html(htmlError);
return false;
}}function checkQuantityGt0(){htmlError0='<div class="ui-state-error ui-corner-all ui-alert-padding">'+"<p>"+'<span class="ui-icon ui-icon-alert ui-alert-icon-box"></span>'+"<strong>Alert:</strong> Qty must be greater than 0 and decimals are not allowed."+"</p>"+"</div>"+'<div class="clearBoth"></div>';
greaterThanZero=false;
$("input[type=text]").each(function(){if(this.value>0&&this.value.indexOf(".")==-1){greaterThanZero=true;
}});
if(greaterThanZero==false){$("#errorMessagesPDP").html(htmlError0);
}else{$("#errorMessagesPDP").html("");
}return greaterThanZero;
}function limitNumDigits(varNumber){limit=9;
if(varNumber.value.length>limit){varNumber.value=varNumber.value.substring(0,limit);
}}function checkPickerOptions(){if($("#productOutOfStock")&&$("#productOutOfStock").val()!=null){return false;
}htmlError='<div class="ui-state-error ui-corner-all ui-alert-padding">'+"<p>"+'<span class="ui-icon ui-icon-alert ui-alert-icon-box"></span>'+"<strong>Alert:</strong> Please pick an option for every dropdown."+"</p>"+"</div>"+'<div class="clearBoth"></div>';
if($("#catalogRefIds")&&$("#catalogRefIds").val()!=""){return true;
}else{$("#errorMessagesPDP").html(htmlError);
return false;
}}function isProductPickerType(){if($("#picker_Types").val()!=null){return true;
}else{return false;
}}function escapeSpecialChars(string){var replaceApostrophe="'";
var replaceQuotes="&quot;";
var newString=string.replace(new RegExp("'","g"),replaceApostrophe);
newString=newString.replace(new RegExp('"',"g"),replaceQuotes);
return newString;
}