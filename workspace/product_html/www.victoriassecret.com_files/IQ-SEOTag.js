/*! 2014-11-17T14:22:01 */
!function(a){function b(a,b,d,e){if(n=f(a,b,d),"DIRECT"!=n.modeOfAccess&&null!=e){var g=k(a),h=g.host;n=c(h,e,n)}return n.randomId=Math.floor(100001*Math.random()),n.timestamp=(new Date).getTime(),n.Utils=p,n}function c(a,b,c){return c=e(a,b,c),c=d(a,b,c)}function d(a,b,c){var d=b.CUSTOM_ACCESS_MODES_BY_CURRENT_PAGE_PARAMS,e=!1;for(var f in d){var g=d[f];for(i=0;i<g.length;i++)if(c.current_page_params.queryKey.hasOwnProperty(g[i])){c.source=a,c.modeOfAccess=f,e=!0;break}if(e)break}return c}function e(a,b,c){var d,e=b.CUSTOM_ACCESS_MODES_BY_REFERRER,f=!1;for(var g in e){var h=e[g];for(i=0;i<h.length;i++)if(d=h[i],-1!=a.indexOf(d.toLowerCase())){c.source=d,c.modeOfAccess=g,f=!0;break}if(f)break}return c}function f(a,b,c){var d=new Object,e=k(b);if(d.current_page_params=e,d.modeOfAccess="UNKNOWN",d.source="NONE",d.isSearchEngine=!1,a&&null!=a&&""!=a){var f=o.SEARCH_ENGINES,h=k(a);d.referrer_page_params=h;var i=h.host;for(var j in f){var l=f[j];if(-1!=i.indexOf(l.HOST)){d.source=l.NAME,d.isSearchEngine=!0,d.modeOfAccess="ORGANIC",d.query=h.queryKey[l.QP],d.isRequestTracked=g(e.queryKey,c,i),d.isRequestTracked&&(d.modeOfAccess="PAID");break}}d.isSearchEngine||(d.source=encodeURI(a),d.isSearchEngine=!1,d.isRequestTracked=g(e.queryKey,c,i),d.modeOfAccess=d.isRequestTracked?"DISPLAY":"UNKNOWN")}else d.isRequestTracked=!1,d.isSearchEngine=!1,d.modeOfAccess="DIRECT";return d}function g(a,b,c){var d=!1;for(var e in b){var f=b[e];for(var g in f)if(h(a,f[g])&&("*"==e||-1!=c.indexOf(e.toLowerCase())))return!0}return d}function h(a,b){return-1!=b.indexOf("*")?j(a,b):null!=b&&a.hasOwnProperty(b)}function j(a,b){var c=!1;b=b.replace(/\*/g,"");var d="^"+b,e=new RegExp(d,"g");for(var f in a)if(e.test(f)){c=!0;break}return c}function k(a){for(var b=k.options,c=b.parser[b.strictMode?"strict":"loose"].exec(a),d={},e=14;e--;)d[b.key[e]]=c[e]||"";return d[b.q.name]={},d[b.key[12]].replace(b.q.parser,function(a,c,e){c&&(d[b.q.name][c]=e)}),d}function l(a,c,d,e){return b(a,c,d,e)}function m(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c].substring&&a[c].toLowerCase()==b)return!0;return!1}var n,o={SEARCH_ENGINES:{GOOGLE:{NAME:"Google",QP:"q",HOST:"google"},YAHOO:{NAME:"Yahoo",QP:"p",HOST:"yahoo"},BING:{NAME:"Bing",QP:"q",HOST:"bing"},ASK:{NAME:"Ask",QP:"q",HOST:"ask"}}};k.options={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@?]*)(?::([^:@?]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@?]*)(?::([^:@?]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var p={valueMatches:m,getCurrentPageParamsKey:function(a){if(a=a.toLowerCase(),n.current_page_params.queryKey[a])return n.current_page_params.queryKey[a];if(n.current_page_params.source.toLowerCase().indexOf(a+"=")>-1){var b=n.current_page_params.source.toLowerCase().split(a+"=");return b=b[1].split("&"),n.current_page_params.queryKey[a]=b[0],n.current_page_params.queryKey[a]}},getReferrerPageParamsKey:function(a){if(a=a.toLowerCase(),n.referrer_page_params.queryKey[a])return n.referrer_page_params.queryKey[a];if(n.referrer_page_params.source.toLowerCase().indexOf(a+"=")>-1){var b=n.referrer_page_params.source.toLowerCase().split(a+"=");return b=b[1].split("&"),n.referrer_page_params.queryKey[a]=b[0],n.referrer_page_params.queryKey[a]}},getReferrerPageParams:function(){if(""==!n.referrer_page_params.query)return n.referrer_page_params.query;if(n.referrer_page_params.path.indexOf("&")>-1||n.referrer_page_params.path.indexOf("=")>-1){var a=n.referrer_page_params.path.split("/");n.referrer_page_params.query="";for(var b="",c=0;c<a.length;c++)(a[c].indexOf("=")>-1||"/"==b)&&(n.referrer_page_params.query=n.referrer_page_params.query+b+a[c],b="/");return n.referrer_page_params.query}},getCurrentPageParams:function(){if(""==!n.current_page_params.query)return n.current_page_params.query;if(n.current_page_params.path.indexOf("&")>-1||n.current_page_params.path.indexOf("=")>-1){var a=n.current_page_params.path.split("/");n.current_page_params.query="";for(var b="",c=0;c<a.length;c++)(a[c].indexOf("=")>-1||"/"==b)&&(n.current_page_params.query=n.current_page_params.query+b+a[c],b="/");return n.current_page_params.query}},tolowercaseCurrentPageParamsKeys:function(){if(n.current_page_params&&n.current_page_params.queryKey)for(key in n.current_page_params.queryKey)key.toLowerCase()!=key&&(n.current_page_params.queryKey[key.toLowerCase()]=n.current_page_params.queryKey[key],delete n.current_page_params.queryKey[key])}};a.IQSeoTag=l}(window);
//# sourceMappingURL=IQ-SEOTag.js.map