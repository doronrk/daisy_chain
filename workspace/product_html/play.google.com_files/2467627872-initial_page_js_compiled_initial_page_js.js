/* Copyright 2013 Google, Inc. All Rights Reserved. */(function(){var g,k=this;function aa(a,b){var c=a.split("."),d=k;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]?d=d[e]:d=d[e]={}:d[e]=b}
function m(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function n(a){return"string"==typeof a}Math.random();function ca(a,b,c){return a.call.apply(a.bind,arguments)}function da(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:da;return p.apply(null,arguments)}function q(a,b){function c(){}c.prototype=b.prototype;a.Z=b.prototype;a.prototype=new c;a.ca=function(a,c,f){var h=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,h)}}
Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return p.apply(null,c)}return p(this,a)};function r(a){if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}q(r,Error);function ea(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}var fa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function t(a,b){return a<b?-1:a>b?1:0}Math.random();function ga(a,b){b.unshift(a);r.call(this,ea.apply(null,b));b.shift()}q(ga,r);function ha(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new ga(""+e,f||[]);}function u(a,b,c){a||ha("",null,b,Array.prototype.slice.call(arguments,2))}function ia(a,b,c){"number"==typeof a||ha("Expected number but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,2));return a}
function ja(a,b,c){n(a)||ha("Expected string but got %s: %s.",[m(a),a],b,Array.prototype.slice.call(arguments,2));return a};var v=Array.prototype,ka=v.indexOf?function(a,b,c){u(null!=a.length);return v.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},w=v.forEach?function(a,b,c){u(null!=a.length);v.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function la(a){return v.concat.apply(v,arguments)}
function ma(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};function x(a,b,c){for(var d in a)b.call(c,a[d],d,a)}var na="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<na.length;f++)c=na[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var y;t:{var pa=k.navigator;if(pa){var qa=pa.userAgent;if(qa){y=qa;break t}}y=""};var ra=-1!=y.indexOf("Opera")||-1!=y.indexOf("OPR"),z=-1!=y.indexOf("Trident")||-1!=y.indexOf("MSIE"),A=-1!=y.indexOf("Gecko")&&-1==y.toLowerCase().indexOf("webkit")&&!(-1!=y.indexOf("Trident")||-1!=y.indexOf("MSIE")),B=-1!=y.toLowerCase().indexOf("webkit");function sa(){var a=k.document;return a?a.documentMode:void 0}
var ta=function(){var a="",b;if(ra&&k.opera)return a=k.opera.version,"function"==m(a)?a():a;A?b=/rv\:([^\);]+)(\)|;)/:z?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:B&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(y))?a[1]:"");return z&&(b=sa(),b>parseFloat(a))?String(b):a}(),ua={};
function C(a){var b;if(!(b=ua[a])){b=0;for(var c=fa(String(ta)).split("."),d=fa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",l=d[f]||"",ba=RegExp("(\\d*)(\\D*)","g"),kb=RegExp("(\\d*)(\\D*)","g");do{var H=ba.exec(h)||["","",""],I=kb.exec(l)||["","",""];if(0==H[0].length&&0==I[0].length)break;b=t(0==H[1].length?0:parseInt(H[1],10),0==I[1].length?0:parseInt(I[1],10))||t(0==H[2].length,0==I[2].length)||t(H[2],I[2])}while(0==b)}b=ua[a]=0<=b}return b}
var va=k.document,wa=va&&z?sa()||("CSS1Compat"==va.compatMode?parseInt(ta,10):5):void 0;!A&&!z||z&&z&&9<=wa||A&&C("1.9.1");z&&C("9");function D(){this.R=this.R;this.aa=this.aa}D.prototype.R=!1;function xa(a){xa[" "](a);return a}xa[" "]=function(){};var ya=!z||z&&9<=wa,za=z&&!C("9");!B||C("528");A&&C("1.9b")||z&&C("8")||ra&&C("9.5")||B&&C("528");A&&!C("8")||z&&C("9");function E(a,b){this.type=a;this.a=this.b=b}E.prototype.c=function(){};function F(a,b){E.call(this,a?a.type:"");this.a=this.b=null;this.clientY=this.clientX=0;this.d=this.state=null;if(a){this.type=a.type;this.b=a.target||a.srcElement;this.a=b;var c=a.relatedTarget;if(c&&A)try{xa(c.nodeName)}catch(d){}this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.state=a.state;this.d=a;a.defaultPrevented&&this.c()}}q(F,E);
F.prototype.c=function(){F.Z.c.call(this);var a=this.d;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,za)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var G="closure_listenable_"+(1E6*Math.random()|0),Aa=0;function Ba(a,b,c,d,e){this.p=a;this.proxy=null;this.src=b;this.type=c;this.B=!!d;this.I=e;this.key=++Aa;this.removed=this.C=!1}function Ca(a){a.removed=!0;a.p=null;a.proxy=null;a.src=null;a.I=null};function J(a){this.src=a;this.a={};this.b=0}function Da(a,b,c,d,e){var f=b.toString();b=a.a[f];b||(b=a.a[f]=[],a.b++);var h=Ea(b,c,d,e);-1<h?(a=b[h],a.C=!1):(a=new Ba(c,a.src,f,!!d,e),a.C=!1,b.push(a));return a}J.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=Ea(e,b,c,d);return-1<b?(Ca(e[b]),u(null!=e.length),v.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--),!0):!1};
function Fa(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=ka(d,b),f;if(f=0<=e)u(null!=d.length),v.splice.call(d,e,1);f&&(Ca(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}function Ga(a,b,c,d,e){a=a.a[b.toString()];b=-1;a&&(b=Ea(a,c,d,e));return-1<b?a[b]:null}function Ea(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.p==b&&f.B==!!c&&f.I==d)return e}return-1};var Ha="closure_lm_"+(1E6*Math.random()|0),Ia={},Ja=0;function Ka(a,b,c,d,e){if("array"==m(b)){for(var f=0;f<b.length;f++)Ka(a,b[f],c,d,e);return null}c=La(c);if(a&&a[G])a=a.listen(b,c,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,h=K(a);h||(a[Ha]=h=new J(a));c=Da(h,b,c,d,e);c.proxy||(d=Ma(),c.proxy=d,d.src=a,d.p=c,a.addEventListener?a.addEventListener(b.toString(),d,f):a.attachEvent(Na(b.toString()),d),Ja++);a=c}return a}
function Ma(){var a=Oa,b=ya?function(c){return a.call(b.src,b.p,c)}:function(c){c=a.call(b.src,b.p,c);if(!c)return c};return b}function Pa(a,b,c,d,e){if("array"==m(b))for(var f=0;f<b.length;f++)Pa(a,b[f],c,d,e);else c=La(c),a&&a[G]?a.O(b,c,d,e):a&&(a=K(a))&&(b=Ga(a,b,c,!!d,e))&&Qa(b)}
function Qa(a){if("number"!=typeof a&&a&&!a.removed){var b=a.src;if(b&&b[G])Fa(b.n,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.B):b.detachEvent&&b.detachEvent(Na(c),d);Ja--;(c=K(b))?(Fa(c,a),0==c.b&&(c.src=null,b[Ha]=null)):Ca(a)}}}function Na(a){return a in Ia?Ia[a]:Ia[a]="on"+a}function Ra(a,b,c,d){var e=1;if(a=K(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.B==c&&!f.removed&&(e&=!1!==Sa(f,d))}return Boolean(e)}
function Sa(a,b){var c=a.p,d=a.I||a.src;a.C&&Qa(a);return c.call(d,b)}
function Oa(a,b){if(a.removed)return!0;if(!ya){var c;if(!(c=b))t:{c=["window","event"];for(var d=k,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break t}c=d}e=c;c=new F(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){t:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(h){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.a;f;f=f.parentNode)e.push(f);for(var f=a.type,l=e.length-1;0<=l;l--)c.a=e[l],d&=Ra(e[l],f,!0,c);for(l=0;l<e.length;l++)c.a=e[l],d&=Ra(e[l],f,!1,c)}return d}return Sa(a,
new F(b,this))}function K(a){a=a[Ha];return a instanceof J?a:null}var Ta="__closure_events_fn_"+(1E9*Math.random()>>>0);function La(a){u(a,"Listener can not be null.");if("function"==m(a))return a;u(a.handleEvent,"An object listener must have handleEvent method.");a[Ta]||(a[Ta]=function(b){return a.handleEvent(b)});return a[Ta]};function L(a){D.call(this);this.b=a;this.a={}}q(L,D);var Ua=[];L.prototype.listen=function(a,b,c,d){"array"!=m(b)&&(b&&(Ua[0]=b.toString()),b=Ua);for(var e=0;e<b.length;e++){var f=Ka(a,b[e],c||this.handleEvent,d||!1,this.b||this);if(!f)break;this.a[f.key]=f}return this};
L.prototype.O=function(a,b,c,d,e){if("array"==m(b))for(var f=0;f<b.length;f++)this.O(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.b||this,c=La(c),d=!!d,b=a&&a[G]?Ga(a.n,String(b),c,d,e):a?(a=K(a))?Ga(a,b,c,d,e):null:null,b&&(Qa(b),delete this.a[b.key]);return this};L.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function M(){D.call(this);this.n=new J(this);this.W=this}q(M,D);M.prototype[G]=!0;M.prototype.removeEventListener=function(a,b,c,d){Pa(this,a,b,c,d)};function Va(a,b){Wa(a);var c=a.W,d=b,e=d.type||d;if(n(d))d=new E(d,c);else if(d instanceof E)d.b=d.b||c;else{var f=d,d=new E(e,c);oa(d,f)}c=d.a=c;Xa(c,e,!0,d);Xa(c,e,!1,d)}M.prototype.listen=function(a,b,c,d){Wa(this);return Da(this.n,String(a),b,c,d)};M.prototype.O=function(a,b,c,d){return this.n.remove(String(a),b,c,d)};
function Xa(a,b,c,d){if(b=a.n.a[String(b)]){b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.B==c){var l=h.p,ba=h.I||h.src;h.C&&Fa(a.n,h);e=!1!==l.call(ba,d)&&e}}}}function Wa(a){u(a.n,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var Ya="StopIteration"in k?k.StopIteration:Error("StopIteration");function Za(){}Za.prototype.a=function(){throw Ya;};Za.prototype.ba=function(){return this};function N(a,b){this.b={};this.a=[];this.d=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof N)e=a.s(),d=a.q();else{var c=[],f=0;for(e in a)c[f++]=e;e=c;c=[];f=0;for(d in a)c[f++]=a[d];d=c}for(c=0;c<e.length;c++)this.set(e[c],d[c])}}g=N.prototype;g.q=function(){O(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};g.s=function(){O(this);return this.a.concat()};
g.remove=function(a){return P(this.b,a)?(delete this.b[a],this.c--,this.d++,this.a.length>2*this.c&&O(this),!0):!1};function O(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];P(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],P(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}}g.get=function(a,b){return P(this.b,a)?this.b[a]:b};g.set=function(a,b){P(this.b,a)||(this.c++,this.a.push(a),this.d++);this.b[a]=b};
g.forEach=function(a,b){for(var c=this.s(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new N(this)};g.ba=function(a){O(this);var b=0,c=this.a,d=this.b,e=this.d,f=this,h=new Za;h.a=function(){for(;;){if(e!=f.d)throw Error("The map has changed since the iterator was created");if(b>=c.length)throw Ya;var h=c[b++];return a?h:d[h]}};return h};function P(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var $a=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function ab(a){if(bb){bb=!1;var b=k.location;if(b){var c=b.href;if(c&&(c=(c=ab(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw bb=!0,Error();}}return a.match($a)}var bb=B;function Q(a,b){var c;a instanceof Q?(this.o=void 0!==b?b:a.o,cb(this,a.r),this.H=a.H,this.t=a.t,db(this,a.G),this.F=a.F,eb(this,a.a.clone()),this.D=a.D):a&&(c=ab(String(a)))?(this.o=!!b,cb(this,c[1]||"",!0),this.H=R(c[2]||""),this.t=R(c[3]||"",!0),db(this,c[4]),this.F=R(c[5]||"",!0),eb(this,c[6]||"",!0),this.D=R(c[7]||"")):(this.o=!!b,this.a=new S(null,0,this.o))}g=Q.prototype;g.r="";g.H="";g.t="";g.G=null;g.F="";g.D="";g.o=!1;
g.toString=function(){var a=[],b=this.r;b&&a.push(T(b,fb,!0),":");if(b=this.t){a.push("//");var c=this.H;c&&a.push(T(c,fb,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.G;null!=b&&a.push(":",String(b))}if(b=this.F)this.t&&"/"!=b.charAt(0)&&a.push("/"),a.push(T(b,"/"==b.charAt(0)?gb:hb,!0));(b=this.a.toString())&&a.push("?",b);(b=this.D)&&a.push("#",T(b,ib));return a.join("")};g.clone=function(){return new Q(this)};
function cb(a,b,c){a.r=c?R(b,!0):b;a.r&&(a.r=a.r.replace(/:$/,""))}function db(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.G=b}else a.G=null}function eb(a,b,c){b instanceof S?(a.a=b,jb(a.a,a.o)):(c||(b=T(b,lb)),a.a=new S(b,0,a.o))}function mb(a){return a instanceof Q?a.clone():new Q(a,void 0)}function R(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}
function T(a,b,c){return n(a)?(a=encodeURI(a).replace(b,nb),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function nb(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var fb=/[#\/\?@]/g,hb=/[\#\?:]/g,gb=/[\#\?]/g,lb=/[\#\?@]/g,ib=/#/g;function S(a,b,c){this.a=a||null;this.b=!!c}
function U(a){if(!a.e&&(a.e=new N,a.i=0,a.a))for(var b=a.a.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=V(a,e);d=a;f=f?decodeURIComponent(f.replace(/\+/g," ")):"";U(d);d.a=null;var e=V(d,e),h=d.e.get(e);h||d.e.set(e,h=[]);h.push(f);d.i++}}g=S.prototype;g.e=null;g.i=null;
g.remove=function(a){U(this);a=V(this,a);return P(this.e.b,a)?(this.a=null,this.i-=this.e.get(a).length,this.e.remove(a)):!1};function ob(a,b){U(a);b=V(a,b);return P(a.e.b,b)}g.s=function(){U(this);for(var a=this.e.q(),b=this.e.s(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.q=function(a){U(this);var b=[];if(n(a))ob(this,a)&&(b=la(b,this.e.get(V(this,a))));else{a=this.e.q();for(var c=0;c<a.length;c++)b=la(b,a[c])}return b};
g.set=function(a,b){U(this);this.a=null;a=V(this,a);ob(this,a)&&(this.i-=this.e.get(a).length);this.e.set(a,[b]);this.i++;return this};g.get=function(a,b){var c=a?this.q(a):[];return 0<c.length?String(c[0]):b};g.toString=function(){if(this.a)return this.a;if(!this.e)return"";for(var a=[],b=this.e.s(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.q(d),f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.a=a.join("&")};
g.clone=function(){var a=new S;a.a=this.a;this.e&&(a.e=this.e.clone(),a.i=this.i);return a};function V(a,b){var c=String(b);a.b&&(c=c.toLowerCase());return c}function jb(a,b){b&&!a.b&&(U(a),a.a=null,a.e.forEach(function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.a=null,this.e.set(V(this,e),ma(a)),this.i+=a.length))},a));a.b=b};function W(a,b){M.call(this);this.g=!1;this.a=a;this.l=this.a.find(".icon-container");this.c=this.a.find(".title");this.d=this.a.find(".hover-target");this.f=0===X(this)?jQuery(".id-sub-nav-store"):this.a.find(".sub-nav");this.K=this.a.find(".library-link");this.L=this.a.find(".shop-link");this.k=this.a.find(".wishlist-link");this.b=this.a.find(".menu-link");this.j="transparent";this.u=150;this.J=this.M=0;this.h=b;this.v=!0;this.m=!1}q(W,M);
var pb={3:"apps",1:"books",5:"devices",6:"magazines",4:"movies",2:"music"};
function qb(a){a.d.mouseenter(p(W.prototype.V,a));a.d.mouseleave(p(W.prototype.U,a));a.K.click(p(W.prototype.A,a,a.K));a.L.click(p(W.prototype.A,a,a.L));var b=mb(a.k.attr("href")),c=parseInt(a.k.attr("data-backend"),10);b.a.set("c",pb[c]);a.k.attr("href",b.toString());a.k.click(p(a.A,a,a.k));a.j=""+a.l.css("background-color");a.b.on("click",p(W.prototype.P,a));a.a.find(".secondary-sub-nav-option").each(p(function(a,b){var c=jQuery(b);c.click(p(W.prototype.A,this,c))},a));a.a.css("left",-1E3);a.a.show();
a.J=ia(a.b.height());a.M=0!==a.f.length?ia(a.f.height()):0;a.a.hide();a.a.css("left",0);a.a.show()}function rb(a){jQuery(".chosen").removeClass("chosen");a.L.addClass("chosen")}g=W.prototype;g.show=function(){this.a.show()};function sb(a){return 0==X(a)?a.M+8:a.M}function X(a){a=a.a.attr("data-backend");return null!=a?parseInt(a,10):null}function tb(a,b){var c=0,d=a.h;b>a.h?c=48:b==a.h&&(d=0);return 48*d+c}
g.Q=function(a,b){if(0==a){var c={type:"corpus-in-selected-state"};c.animating=b;Va(this,c);this.m||(this.f.css("opacity",1),this.f.slideDown(300))}};function ub(a,b){a.m=!1;vb(a);a.f.hide();a.b.removeClass("selected default").addClass("not-selected");b?wb(a):(a.d.css("width",48),a.a.css("left",-48),a.b.css("width",48),a.a.removeClass("visible-item"),a.a.addClass("hidden-item"),a.c.css({color:"#555"}));a.u=250;a.g=!1;a.b.off("click");a.b.on("click",p(W.prototype.P,a))}
function wb(a){a.a.animate({left:-48},20,p(function(){this.a.removeClass("visible-item");this.a.addClass("hidden-item")},a));a.d.animate({width:48},150);a.c.css({color:"#555"});a.c.hide();a.b.css("background-color","transparent").animate({width:48},150)}function xb(a){yb(a);a.a.removeClass("hidden-item").addClass("visible-item").css("opacity",0).animate({left:0,opacity:1},a.u);a.d.animate({width:200},150);a.b.animate({width:200},150);a.c.css("display","table-cell")}
function zb(a){a.m=!1;a.g?0==a.a.position().top&&a.f.stop(!0,!0).css("color","transparent"):(yb(a),a.a.animate({left:-48,opacity:0},a.u,p(function(){this.a.removeClass("visible-item").addClass("hidden-item").css("opacity",1)},a)),a.b.css({"background-color":"transparent",width:0}),a.d.width(0),a.c.css("color","transparent"))}
function Ab(a,b,c){a.m=!1;vb(a);a.g=!0;a.b.removeClass("not-selected default").addClass("selected");a.a.removeClass("hidden-item").addClass("visible-item").css("opacity",1);c&&a.l.css("background-color",a.j);b?(a.b.animate({width:200},150).css("background-color",a.j),a.a.animate({left:0},150),a.l.css("background-color",a.j),a.d.animate({width:200},150),a.c.css("color","#fff").show()):(a.b.width(200).css("background-color",a.j),a.a.css("left",0),a.d.width(200),a.c.css("color","#fff").show(),a.f.slideDown(300));
a.b.off("click")}function yb(a){a.b.finish();a.l.finish();a.a.finish();a.d.finish();a.c.finish();a.f.finish()}function vb(a){a.b.stop(!0,!0);a.l.stop(!0,!0);a.a.stop(!0,!0);a.d.stop(!0,!0);a.c.stop(!0,!0);a.f.stop(!0,!0)}g.A=function(a,b){b.altKey||b.ctrlKey||b.metaKey||b.shiftKey||(jQuery(".chosen").removeClass("chosen"),a.hasClass("id-cannot-set-chosen")||a.addClass("chosen"))};
g.V=function(){!this.g&&this.a.hasClass("visible-item")?(this.b.css("background-color",this.j),this.c.css({color:"#fff"})):Va(this,{type:"hover"})};g.U=function(){!this.g&&this.a.hasClass("visible-item")&&(this.b.css("background-color",this.v?"transparent":"#fff"),this.c.css({color:"#555"}))};
g.P=function(a){a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||0!==jQuery(a.currentTarget).closest(".sub-nav-option").length||0!==jQuery(a.currentTarget).closest(".secondary-sub-nav-option").length||Va(this,{type:"click",menuItemClicked:this})};function Y(){this.a=null;this.c=[];this.b=jQuery(".nav-container");0!=this.b.length&&(this.d=jQuery(".show-all-hover-zone"),this.j=this.l=0,this.h=new L(this),this.k=ja(this.b.css("background-color")),this.g=this.b.find(".hover-arrow"),this.f=0,this.m=!jQuery("body").hasClass("phone-optimized"))}
function Bb(a){if(0!=a.b.length){jQuery(".nav-list-item").each(p(function(a,b){var e=jQuery(b),f=e.find(".menu-link"),e=new W(e,a);qb(e);f.hasClass("selected")&&(this.a=e);this.h.listen(e,"corpus-in-selected-state",this.T);this.h.listen(e,"click",this.S);this.h.listen(e,"hover",this.N);this.f+=e.J;this.c.push(e)},a));w(a.c,function(a){0==X(a)&&(null==this.a&&(this.a=a),a.f.css("top",48*this.c.length))},a);Cb(a);a.a&&Z(a,a.a,!1,!1);var b=jQuery(window);b.scroll(p(function(){if(this.m){var a=b.scrollTop()>
this.l;this.b.toggleClass("sticky",a);a&&!/(iPhone|iPad|iPod)/i.test(navigator.userAgent)&&this.b.css("left",-b.scrollLeft())}},a));a.d.on("mouseenter",p(Y.prototype.w,a));a.b.on("mouseleave",p(Y.prototype.N,a))}}function Cb(a){var b;b=null!=a.a?0==X(a.a)?a.f+sb(a.a)+6+6:Math.max(a.f,sb(a.a)+a.a.J+6+6):a.f;a.b.animate({height:b},a.j);a.d.animate({height:b},a.j);a.b.find(".hover-arrow");b=Math.ceil((b-48)/2)+48-Math.ceil(a.g.height()/2);a.g.css("top",b)}g=Y.prototype;
g.T=function(a){a=a.animating;var b=0==X(this.a);Cb(this);a||(x(this.c,function(a){b&&(a.v=!0,a.g||xb(a));a.show()},this),this.b.css("visibility","visible"),this.l=this.b.offset().top);b&&(a&&x(this.c,function(a){a.v=!0;a.g||(yb(a),a.a.removeClass("hidden-item").addClass("visible-item").css("opacity",0).css({left:0,opacity:1},a.u),a.d.css({width:200},150),a.b.css({width:200},150),a.c.css("display","table-cell"))},this),this.d.off("mouseenter"),this.d.hide(),this.g.hide())};
g.Y=function(a){var b=a.backend;null!=b&&0!=b?w(this.c,function(c){if(null!=X(c)&&b==X(c))return null!=this.a&&c==this.a||Z(this,c,!0,!0),a.librarySubNavSelected?(c=this.a,jQuery(".chosen").removeClass("chosen"),c.K.addClass("chosen")):a.isWishlist?(c=this.a,jQuery(".chosen").removeClass("chosen"),c.k.addClass("chosen")):rb(this.a),!1},this):w(this.c,function(a){0==X(a)&&(null!=this.a&&a==this.a?null!=this.a&&a==this.a&&jQuery(".chosen").removeClass("chosen"):Z(this,a,!0,!0))},this);return!1};
g.S=function(a){a.altKey||a.ctrlKey||a.metaKey||a.shiftKey||Z(this,a.menuItemClicked,!0,!1)};
function Z(a,b,c,d){null!=b||w(a.c,function(a){0==X(a)&&(this.a&&b==this.a||(b=a))},a);a.b.css("background-color",a.k);a.d.off("mouseenter");if(0!=X(b))a.d.on("mouseenter",p(Y.prototype.w,a));a.d.show();a.g.show();a.j=300;null!=a.a&&a.a!=b&&ub(a.a,c);Db(a.a,b);a.a=b;Ab(b,c,d);c&&!d&&rb(b);x(a.c,function(a){a!==b&&ub(a,c);if(c){var d=tb(a,b.h);a.a.animate({top:d},400,p(a.Q,a,d,!0))}else d=tb(a,b.h),a.a.animate({top:d},400,p(a.Q,a,d,!1));a.v=!1},a)}
function Db(a,b){var c=jQuery(".nav-list-item"),d=jQuery(".nav");0<a.h&&a.a.insertAfter(c[a.h]);b.a.prependTo(d)}g.w=function(){null!=this.a&&(this.d.off("mouseenter"),x(this.c,function(a){a.m=!0;a.g?0!=X(a)&&a.f.finish().css("color","transparent"):(xb(a),a.b.css("background-color","#fff"),a.c.css("color","#555"))},this),this.b.css("background-color","#fff"))};
g.N=function(){this.a&&0!=X(this.a)&&(this.d.on("mouseenter",p(Y.prototype.w,this,!0)),x(this.c,function(a){zb(a)},this),this.b.css("background-color",this.k))};g.X=function(a){jQuery(a.currentTarget).hasClass("visible-item")||(jQuery("body").focusin(p(Y.prototype.$,this)),this.w())};g.$=function(a){a=jQuery(a.target).closest(".nav-list-item");if(a.children(".menu-link").hasClass("selected")||0===a.length)jQuery("body").off("focusin"),this.N()};function Eb(){this.a=new Y}aa("initializeAppMenu",function(){var a=new Eb;Bb(a.a);a=p(a.b,a);aa("postLoadInitializeMenu",a)});Eb.prototype.b=function(){var a=this.a;window.navAddHandler(p(a.Y,a));jQuery(".nav-list-item").focusin(p(Y.prototype.X,a))};})();
