$BV.Internal.define("textCounter",[window],["exports","jquery.core","contentSubmit"],function(j,d,i,g){var a="?";var f=[".BVStateStart",".BVStateIncomplete",".BVStateComplete",".BVStateOver"];var b=[".BVStateCountUpZero",".BVStateCountUpOne",".BVStateCountUpMany",".BVStateCountdownFromMinMany",".BVStateCountdownFromMinOne",".BVStateCountdownFromMinZero",".BVStateCountdownFromMaxMany",".BVStateCountdownFromMaxOne",".BVStateCountdownFromMaxZero",".BVStateOverMaxZero",".BVStateOverMaxOne",".BVStateOverMaxMany"];var l={};function c(p,o,m){var q=o<=0,n=m<=0;if(p==0){return".BVStateStart"}if(q&&n){return".BVStateComplete"}if(q){return p<m?".BVStateComplete":".BVStateOver"}if(n){return p<o?".BVStateIncomplete":".BVStateComplete"}if(p<o){return".BVStateIncomplete"}if(p<=m){return".BVStateComplete"}return".BVStateOver"}function e(r,q,m){var o=q>0,t=m>0,n=[],s=[],p;if(r==0){n.push(".BVStateCountUpZero")}else{if(r==1){n.push(".BVStateCountUpOne")}else{n.push(".BVStateCountUpMany")}}if(o){if(r>=q){n.push(".BVStateCountdownFromMinZero")}else{if(r==q-1){n.push(".BVStateCountdownFromMinOne")}else{n.push(".BVStateCountdownFromMinMany")}}}if(t){if(r>=m){n.push(".BVStateCountdownFromMaxZero")}else{if(r==m-1){n.push(".BVStateCountdownFromMaxOne")}else{n.push(".BVStateCountdownFromMaxMany")}}if(r<=m){n.push(".BVStateOverMaxZero")}else{if(r==m+1){n.push(".BVStateOverMaxOne")}else{if(r>m){n.push(".BVStateOverMaxMany")}}}}for(p=0;p<b.length;++p){if(i.inArray(b[p],n)<0){s.push(b[p])}}return{active:n,inactive:s}}function k(o,p,n,m){return function(){var t=n<=0,q=m<=0,s,u,r;s=p.hasClass("BVFieldTextHelper")?"":g.normalizeMultiLineInputText(p.val());o.find(".BVCounterCountUp").text(s.length);o.find(".BVCounterCountdownFromMin").text(t?a:Math.max(n-s.length,0));o.find(".BVCounterCountdownFromMax").text(q?a:Math.max(m-s.length,0));o.find(".BVCounterOverMax").text(q?a:Math.max(s.length-m,0));u=e(s.length,n,m);o.find(u.active.join(", ")).show();o.find(u.inactive.join(", ")).hide();r=c(s.length,n,m);o.find(r).show();o.find(".BVStateDriven:not("+r+")").hide()}}function h(n,m){if(i.browser.msie){n.bind("propertychange",function(){if(event.propertyName=="value"){m.apply(this)}})}n.bind("paste blur keyup",m)}d.isInitialized=function(m){return !!l[m]};d.resetToStartState=function(m){if(l[m]){l[m].handler()}};d.onPageLoad=function(r,p){if(r==="initTextCounter"){var s=i("#"+p.inputId),q=i("#"+p.counterId),n=p.min,m=p.max;l[p.inputId]=p;var o=k(q,s,n,m);l[p.inputId].handler=o;h(s,o);o()}}});