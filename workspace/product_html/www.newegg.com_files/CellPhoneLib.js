usingNamespace("Biz.CellPhone")["initialize"]=function(){window.attachEvent("onload",(function(){var oZip;if (null!=(oZip=$("cpInputZipCode"))){oZip.maxlength=5;oZip.attachEvent("onkeyup",(function(){if(window.event.keyCode==13){return Biz.CellPhone.ZipCode.update(true);}return false;}));};Biz.CellPhone.Features.attachCheckEvent();}));}();usingNamespace("Biz.CellPhone")["Utility"]={toggleItem:function(tag,image){if(null!=tag && null!=image){if(tag.className.split(" ").contains("hdn")){Web.UI.Control.replaceCss(tag,"hdn","dbk");Web.UI.Control.setAttribute(image,{"src":Web.UI.ResourceManager.Image.build("minus.gif"),"alt":"-"});}else{Web.UI.Control.replaceCss(tag,"dbk","hdn");Web.UI.Control.setAttribute(image,{"src":Web.UI.ResourceManager.Image.build("plus.gif"),"alt":"+"});};};},swapItem:function(tag1,tag2){if(tag1!=null&&tag2!=null){if(tag1.className.split(" ").contains("hdn")){Web.UI.Control.replaceCss(tag1,"hdn","dbk");Web.UI.Control.replaceCss(tag2,"dbk","hdn");}else{Web.UI.Control.replaceCss(tag1,"dbk","hdn");Web.UI.Control.replaceCss(tag2,"hdn","dbk");};};},toggleNavigation:function(id){var cnt=$("navContent_"+id);var men=$("navMenu_"+id);if(cnt&&men){if(cnt.style.display=="none"){cnt.style.display="block";men.className="active";}else{cnt.style.display="none";men.className="normal";};};}};usingNamespace("Biz.CellPhone")["ZipCode"]={cancel:function(){Web.UI.Control.setAttribute($("cpDisplayZipCode"),{"style.display":"inline"});Web.UI.Control.setAttribute($("cpEditZipCode"),{"style.display":"none"});},edit:function(){Web.UI.Control.setAttribute($("cpDisplayZipCode"),{"style.display":"none"});Web.UI.Control.setAttribute($("cpEditZipCode"),{"style.display":"inline"});var oZip;if (null!=(oZip=$("cpInputZipCode"))){oZip.focus();oZip.select();};},update:function(isRefresh,id){var oZip;id=(null!=id)?"_"+id:"";if (null!=(oZip=$("cpInputZipCode"+id))){var zipCode=oZip.value.trim();if(Number.isNumeric(zipCode)&&zipCode.length==5){Biz.CellPhone.ZipCode.save(oZip.value);if(isRefresh){window.location.replace(window.location.href);};}else{oZip.select();alert(Web.Lang.inputZipCode);return false;};};},save:function(zipCode){var oldZipCode =  Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CFG,"CellPhoneZipCode");if(oldZipCode != zipCode){Web.StateManager.Cookies.clear(Web.StateManager.Cookies.Name.CPPACKAGE);Web.StateManager.Cookies.clear(Web.StateManager.Cookies.Name.CPCOMBO);Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CFG,{"CellPhoneZipCode":zipCode});};},coverageViewer:function(zipCode,plantype,providerID){var wur=Web.UI.ResourceManager;var url=wur.Url.www("ProductSort/CoverageView.aspx");var qsb=new Web.QueryStringBuilder();qsb.add("zip",zipCode);qsb.add("plantype",plantype);qsb.add("providerID",providerID);var fixOpera="";var height=748;if(Web.Environment.Browser.isOpera()){fixOpera=",scrollbars=yes";height=750;};Web.UI.Control.openWindow(wur.Url.combine(url,qsb.toString()),"coverageviewer",908,height,0,0,'status=no,resizable=no'+fixOpera);}};usingNamespace("Biz.CellPhone")["PhoneList"]={reset:function(){Web.UI.Form.reset("frmCellPhoneList");},changeSort:function(targetUrl,sortField,provider){if(String.isNullOrEmpty(targetUrl)){return;};var reg=new RegExp("((http|https)://([^\\/]*)\.*)/.*\\?","ig");var hp=reg.test(targetUrl);var url=targetUrl+(hp?"&":"?")+"SortField="+sortField;if(!String.isNullOrEmpty(provider)){url+="&providerID="+provider;};window.location.href=url;},submit:function(){var cpItem,plItem;plItem=Web.UI.Form.getValue("frmCellPhoneList","PlanItem");cpItem=Web.UI.Form.getValue("frmCellPhoneList","PhoneItem");if(String.isNullOrEmpty(cpItem)){alert(Web.Lang.selectAPhone);return;};if (!String.isNullOrEmpty(plItem)){Web.UI.Form.setValue("frmCellPhoneSummarySubmit","ItemList",cpItem+","+plItem);Web.UI.Form.submit("frmCellPhoneSummarySubmit");}else{Web.UI.Form.setValue("frmCellPhonePlanListSubmit","Item",cpItem);Web.UI.Form.submit("frmCellPhonePlanListSubmit");};}};usingNamespace("Biz.CellPhone")["PlanList"]={toggleGroup:function(id,count){},toggleItem:function(groupId,id){var tagId="cpPlanListItemBullet"+groupId+"_"+id;var imageId="cpPlanListItemImage"+groupId+"_"+id;Biz.CellPhone.Utility.toggleItem($(tagId),$(imageId));},goCart:function(v){var gc=$("goCart");if(gc){gc.value=v;};},reset:function(){Web.UI.Form.reset("frmCellPhonePlanList");},submit:function(){var cpItem,plItem,qty;var PHONE_ONLY="ON";cpItem=Web.UI.Form.getValue("frmCellPhonePlanList","PhoneItem");plItem=Web.UI.Form.getValue("frmCellPhonePlanList","PlanItem");if(plItem.toUpperCase()==PHONE_ONLY){qty = Web.UI.Form.getElement("frmCellPhonePlanList","qty");if(qty != null){qty = qty.value;if(!Number.isNumeric(qty) || qty.indexOf(".")>-1 || qty < 1 || qty > 99){alert(Web.Lang.qtyBoxDescription);return ;};}else{qty = -1;};if(qty > 0 ){cpItem += "|" + qty;};var cartUrl=Web.Config.Environment.SSLPage.AddTocart+"?Submit=ADD&ItemList="+cpItem;window.location.href=cartUrl;return;};if(String.isNullOrEmpty(plItem)){alert(Web.Lang.selectAPlan);return;};if (!String.isNullOrEmpty(cpItem)){Web.UI.Form.setValue("frmCellPhoneSummarySubmit","ItemList",cpItem+","+plItem);Web.UI.Form.submit("frmCellPhoneSummarySubmit");}else{var tmpForm= "frmCellPhoneListSubmit";if($("PrepaidPlanListStr")){var PrepaidList = $("PrepaidPlanListStr").value;if(PrepaidList.indexOf(plItem)>-1){tmpForm = "frmCellPhoneGoPhoneListSubmit";};};Web.UI.Form.setValue(tmpForm,"Item",plItem);Web.UI.Form.submit(tmpForm);};},TabControl:{TabIDs:[{pId:1,img:{id:"tabATT",on:"att_off.gif",off:"att.gif"},nId:"ATTSectionNormal",fid:"ATTSectionFamily",mid:"panelATT",tcId:"tcATT",sColName:"Mobile to Mobile"},{pId:2,img:{id:"tabTM",on:"tmobile_off.gif",off:"tmobile.gif"},nId:"TMSectionNormal",fid:"TMSectionFamily",mid:"panelTM",tcId:"tcTMobile",sColName:"Mobile to Mobile"},{pId:3,img:{id:"tabSprint",on:"n1_Sprint_off.gif",off:"n1_Sprint.gif"},nId:"SprintSectionNormal",fid:"SprintSectionFamily",mid:"panelSprint",tcId:"tcSprint",sColName:"Direct Connect"}],select:function(pId){var wui=Web.UI.Control;var tadControl=Biz.CellPhone.PlanList.TabControl;var tadIds=tadControl.TabIDs;for(var i=0;i<tadIds.length;i++){if(pId==tadIds[i].pId){wui.setAttribute($(tadIds[i].nId),{"style.display":""});wui.setAttribute($(tadIds[i].fid),{"style.display":""});wui.setAttribute($(tadIds[i].mid),{"style.display":""});wui.setAttribute($(tadIds[i].tcId),{"style.display":""});tadControl.changeImageSrc($(tadIds[i].img.id),tadIds[i].img.off,tadIds[i].img.on);Web.UI.Control.replaceInnerHTML($("specificColumn"),tadIds[i].sColName);}else{wui.setAttribute($(tadIds[i].nId),{"style.display":"none"});wui.setAttribute($(tadIds[i].fid),{"style.display":"none"});wui.setAttribute($(tadIds[i].mid),{"style.display":"none"});wui.setAttribute($(tadIds[i].tcId),{"style.display":"none"});tadControl.changeImageSrc($(tadIds[i].img.id),tadIds[i].img.on,tadIds[i].img.off);};};},changeImageSrc:function(o,img1,img2){if(o){o.src=o.src.replace(img1,img2);};}}};usingNamespace("Biz.CellPhone")["Summary"]={removeLine:function(ln){if(!String.isNullOrEmpty(ln)){var cfg=Biz.CellPhone.Summary.Config;var sum=Biz.CellPhone.Summary;var qsb=new Web.QueryStringBuilder();var pln=sum.getCookieInfo("Plan");var phn=sum.getCookieInfo("Line"+ln);if(!String.isNullOrEmpty(pln)&&!String.isNullOrEmpty(phn)){var url=cfg.url;qsb.add("ItemList",pln+","+phn);qsb.add("Action","Remove");qsb.add("LineNumber",ln);url+="?"+qsb.toString();sum.enableAction();document.location=url;};};},changeFamilyPlan:function(){var sum=Biz.CellPhone.Summary;var cfg=Biz.CellPhone.Summary.Config;Web.StateManager.Cookies.clear(Web.StateManager.Cookies.Name.CPPACKAGE);document.location=cfg.planListUrl;},getCookieInfo:function(n){return Web.StateManager.Cookies.get(Web.StateManager.Cookies.Name.CPPACKAGE,n);},enableAction:function(){Web.StateManager.Cookies.save(Web.StateManager.Cookies.Name.CPPACKAGE,{"EnableAction":"1"});}};usingNamespace("Biz.CellPhone")["Features"]={formNameList:["frmCellPhoneOptionList_shared","frmCellPhoneOptionList_0","frmCellPhoneOptionList_1","frmCellPhoneOptionList_2","frmCellPhoneOptionList_3","frmCellPhoneOptionList_4","frmCellPhoneKitList"],toggleItem:function(groupId,id){var tagId="cpOptionListItemBullet"+groupId+"_"+id;var imageId="cpOptionListItemImage"+groupId+"_"+id;Biz.CellPhone.Utility.toggleItem($(tagId),$(imageId));},toggleDescription:function(o1,o2){Web.UI.Control.setAttribute($(o1),{"style.display":"none"});Web.UI.Control.setAttribute($(o2),{"style.display":"block"});},swapDescription:function(e,n){if(!String.isNullOrEmpty(n)&&!String.isNullOrEmpty(e)){var n1=e+"_cut_"+n;var n2=e+"_full_"+n;var e1=$(n1);var e2=$(n2);if(e1&&e2){Biz.CellPhone.Utility.swapItem(e1,e2);};};},attachCheckEvent:function(){var nForms=Biz.CellPhone.Features.formNameList;for(var i=0;i<4;i++){var f=null;if(null!=(f=document.forms[nForms[i]])){for(var j=0;j<f.elements.length;++j){if(nForms[i].indexOf("shared")>=0){f.elements[j].attachEvent("onclick",Biz.CellPhone.Features.checkPrimaryLines);}else{f.elements[j].attachEvent("onclick",Biz.CellPhone.Features.checkSharedLines);};};};};},checkPrimaryLines:function(){var fea=Biz.CellPhone.Features;var sel=window.event.srcElement;var value=sel.value;var name=sel.name;var checked=sel.checked;var forceCheck=sel["__checked"]&&(sel["__checked"]["__id"]!=sel.id);var el1=$(name+"_"+value+"_1");var el2=$(name+"_"+value+"_2");if(el1&&el2){fea.checkItem(el1,checked,forceCheck);fea.checkItem(el2,checked,forceCheck);};},checkSharedLines:function(){var fea=Biz.CellPhone.Features;var wuf=Web.UI.Form;var value=window.event.srcElement.value;var name=window.event.srcElement.name;var el1=$(name+"_"+value+"_1");var el2=$(name+"_"+value+"_2");var els=$(name+"_"+value+"_0");if(el1&&el2&&els){var v1,v2;v1=el1.checked;v2=el2.checked;var isChecked;isChecked=(v1&&v2);if(els.type=="radio"){if(wuf.getValue(el1.form.name,name)!=wuf.getValue(el2.form.name,name)){fea.uncheckGroup(els.form.name,name);};};fea.checkItem(els,isChecked);}else if(el1||el2){var elf=el1?el1:el2;if(elf.type=="radio"){var fn=fea.formNameList[0];var gn=elf.name;fea.uncheckGroup(fn,gn);};};},checkItem:function(el,check,forceCheck){if(el&&!el.disabled){if(el.type=="radio"){var ck=check;/*if(Web.Environment.Browser.isIE()){ck=(check&&(el["__checked"]&&(el["__checked"]["__id"]!=el.id)))||forceCheck;};*/el.checked=ck;return;};el.checked=check;};},uncheckGroup:function(fn,gn){var wuf=Web.UI.Form;var els=[];var el=wuf.getElements(fn,gn);if(el&&el["length"]==undefined){els.add(el);}else{els=el;};if(els){els[els.length-1].checked=true;};},reset:function(){var names=Biz.CellPhone.Features.formNameList;for(var i=0;i<names.length;i++){Web.UI.Form.reset(names[i]);};},selectRadioGroup:function(n,lt){var wuf=Web.UI.Form;var lineShared=wuf.getElements("frmCellPhoneOptionList_shared",n);var line1=wuf.getElements("frmCellPhoneOptionList_0",n);var line2=wuf.getElements("frmCellPhoneOptionList_1",n);switch(lt){case 0:line1[line1.length-1].checked=line1&&line1.length>1;line2[line2.length-1].checked=line2&&line2.length>1;break;case 1:case 2:if(lineShared&&lineShared[lineShared.length-1]){lineShared[lineShared.length-1].checked=lineShared&&lineShared.length>1;};break;};},submit:function(){var cfg=Biz.CellPhone.Features.Config;var lineMasterIDs=[];var opItems={};var kitItems=[];var cpoList=[];var i,j;lineMasterIDs=Web.UI.Form.getValue("frmAddToCartValues","CPList").split(".");lineMasterIDs.remove("CP");for(i=0;i<cfg.lineCount;i++){opItems["line"+i]={};opItems["line"+i]["optionList"]=[];opItems["line"+i]["accessoryList"]=[];if(null!=(f=document.forms["frmCellPhoneOptionList_"+i])){var elName="";for (j=0;j<f.elements.length;++j){if (elName!=f.elements[j].name){elName=f.elements[j].name;if(elName.indexOf("option")>=0){opItems["line"+i]["optionList"].addRange(Web.UI.Form.getValues("frmCellPhoneOptionList_"+i,elName));}else if(elName.indexOf("accessory")>=0){opItems["line"+i]["accessoryList"].addRange(Web.UI.Form.getValues("frmCellPhoneOptionList_"+i,elName));};};};};if(opItems["line"+i]["optionList"].length>0||opItems["line"+i]["accessoryList"].length>0){var cpoTmp;cpoTmp="CPO"+(i+1);if(opItems["line"+i]["optionList"].length>0){cpoTmp+="."+opItems["line"+i]["optionList"].join(".");};if(opItems["line"+i]["accessoryList"].length>0){cpoTmp+="|"+opItems["line"+i]["accessoryList"].join(".");};cpoList.add(cpoTmp);};};if(null!=(f=document.forms["frmCellPhoneKitList"])){var itemName;for (i=0; i<f.elements.length; ++i){if (itemName!=f.elements[i].name){itemName=f.elements[i].name;kitItems.addRange(Web.UI.Form.getValues("frmCellPhoneKitList",itemName));};};};Web.UI.Form.setValue("frmAddToCartValues","CPOList",cpoList.join(","));Web.UI.Form.setValue("frmAddToCartValues","ItemList",kitItems.join(","));Web.UI.Form.submit("frmAddToCartValues");}};usingNamespace("Biz.CellPhone")["CarrierList"]={go:function(id){var cfg=Biz.CellPhone.Config;var zipCode,oZip;if (null!=(oZip=$("zipCode_"+id))){zipCode=oZip.value.trim();if(Number.isNumeric(zipCode)&&zipCode.length==5){Biz.CellPhone.ZipCode.save(oZip.value);var url=cfg.planListURL;var qsb=new Web.QueryStringBuilder();qsb.add(cfg.providerIDParam,id);url+="?"+qsb.toString();document.location.href=url;}else{oZip.select();alert(Web.Lang.inputZipCode);return;};};},reset:function(){Web.UI.Form.reset("frmCarrierList");},submit:function(){var cpCarrier=Web.UI.Form.getValue("frmCarrierList","carrier");if(String.isNullOrEmpty(cpCarrier)){alert(Web.Lang.selectACarrier);return;};Web.UI.Form.setValue("frmCarrierListSubmit","providerID",cpCarrier);Web.UI.Form.submit("frmCarrierListSubmit");},zipcodeChange:function(id){var zs=Web.UI.Form.getElement("frmCarrierList","goZipCode");var els=[];els=Object.isNull(zs.length)?els.add(zs):zs;var zipcode=$("zipCode_"+id)?$("zipCode_"+id).value:"";for(var i=0;i<els.length;i++){els[i].value=zipcode;};}};usingNamespace("Biz.CellPhone")["SeeSalePrice"]={go:function(url,id){var oZip;id=(null!=id)?"_"+id:"";if (null!=(oZip=$("cpInputZipCode"+id))){var zipCode = oZip.value.trim();if(zipCode != ""&&Number.isNumeric(zipCode)&&zipCode.length==5){Biz.CellPhone.ZipCode.save(zipCode);Web.UI.Control.openWindow(url,'_blank',500,400,0,0);}else{oZip.select();alert(Web.Lang.inputZipCode);return false;};};}};