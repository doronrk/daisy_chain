!function(){"undefined"==typeof extole&&(extole=window.extole={});if(!extole.define){var a={},b={timeoutError:function(a,c){var d=b.timeouts[a];d||(d=b.timeouts[a]={timeout:setTimeout(function(){var b="";for(var c in d.sources)d.sources.hasOwnProperty(c)&&(b+='"'+c+'"');throw new Error('Load timeout error for "'+a+'" affecting sources '+b)},1e3),sources:{}});d.sources[c]=1},clearTimeoutError:function(a){var c=b.timeouts[a];if(c){clearTimeout(c.timeout);delete b.timeouts[a]}},timeouts:{}},c=function(a){this.name=a;this.cbs=[];this.isReady=!1;this.definition=void 0;this.init()};c.prototype={init:function(){var a=this;if(this.name&&this.depNames&&this.defineFunction&&!this.inited){b.clearTimeoutError(this.name);this.inited=!0;this.cbs.unshift(function(){a.definition=a.defineFunction.apply(this,a._getDeps())});this.ready()}},isInited:function(){return!!this.inited},setDeps:function(a){this.depNames=a;this.init()},setFn:function(a){this.defineFunction=a;this.init()},ready:function(a){var b,c=this;a&&c.cbs.push(a);if(this.isInited()){c.isReady||(c.isReady=c.dependenciesDefined());if(c.isReady)for(;b=c.cbs.shift();)b()}},dependenciesDefined:function(){var c,e,f=this,g=f.depNames,h=!0;for(c=0;c<g.length;c++){e=a[g[c]];e||(e=d(g[c]));e.isInited()||b.timeoutError(g[c],f.name);if(!e.isReady){e.ready(function(){f.ready()});h=!1}}return h},_getDeps:function(){var b,c=this,d=c.depNames,e=[];if(c.deps)return c.deps;for(var f=0;f<d.length;f++){b=a[d[f]];e.push(b.definition)}c.deps=e;return c.deps}};var d=function(b,d,e){a[b]||(a[b]=new c(b));a[b].setDeps(d);a[b].setFn(e);return a[b]},e=function(b,c){for(var e;!e||a[e];)e="_rq"+(new Date).getTime();d(e,b,c)};extole.define=d;extole.require=e}}();!function(){window.extole=window.extole||{};var a=extole.env="pr",b={lo:{MEDIA_SERVER:"//media-lo.extole.com",ALT_MEDIA_SERVER:"//tags-lo.extole.com",HTML_ASSEMBLER_ROOT:"//template-assembler-lo.app.extole.com:8096",GRAFFITI_ROOT:"//social-lo.extole.com"},nt:{MEDIA_SERVER:"//media-nt.extole.com",ALT_MEDIA_SERVER:"//tags-nt.extole.com",HTML_ASSEMBLER_ROOT:"//template-assembler-nt.extole.com",GRAFFITI_ROOT:"//social-nt.extole.com"},qa:{MEDIA_SERVER:"//media-qa.extole.com",ALT_MEDIA_SERVER:"//tags-qa.extole.com",HTML_ASSEMBLER_ROOT:"//template-assembler-qa.extole.com",GRAFFITI_ROOT:"//social-qa.extole.com"},pr:{MEDIA_SERVER:"//media.extole.com",ALT_MEDIA_SERVER:"//tags.extole.com",HTML_ASSEMBLER_ROOT:"//template-assembler.extole.com",GRAFFITI_ROOT:"//social.extole.com"}},c=b[a].MEDIA_SERVER,d=(b[a].ALT_MEDIA_SERVER,b[a].HTML_ASSEMBLER_ROOT),e=b[a].GRAFFITI_ROOT,f="20141119.1522";extole.DEBUG_MODE=void 0!==extole.DEBUG_MODE?extole.DEBUG_MODE:!0;extole.DEBUG_MODE = false;
void 0===extole.suppressLog&&(extole.suppressLog=extole.DEBUG_MODE===!1&&"pr"==extole.env);extole.define("Backbone",["jquery","Underscore"],function(a,b){var c={$:a,_:b};(function(){(function(){var a,b=this,c=b.Backbone,d=[],e=d.push,f=d.slice,g=d.splice;a="undefined"!=typeof exports?exports:b.Backbone={};a.VERSION="1.0.0";var h=b._;h||"undefined"==typeof require||(h=require("underscore"));a.$=b.jQuery||b.Zepto||b.ender||b.$;a.noConflict=function(){b.Backbone=c;return this};a.emulateHTTP=!1;a.emulateJSON=!1;var i=a.Events={on:function(a,b,c){if(!k(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);d.push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!k(this,"once",a,[b,c])||!b)return this;var d=this,e=h.once(function(){d.off(a,e);b.apply(this,arguments)});e._callback=b;return this.on(a,e,c)},off:function(a,b,c){var d,e,f,g,i,j,l,m;if(!this._events||!k(this,"off",a,[b,c]))return this;if(!a&&!b&&!c){this._events={};return this}g=a?[a]:h.keys(this._events);for(i=0,j=g.length;j>i;i++){a=g[i];if(f=this._events[a]){this._events[a]=d=[];if(b||c)for(l=0,m=f.length;m>l;l++){e=f[l];(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e)}d.length||delete this._events[a]}}return this},trigger:function(a){if(!this._events)return this;var b=f.call(arguments,1);if(!k(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;c&&l(c,b);d&&l(d,arguments);return this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this);a&&((d={})[a._listenerId]=a);for(var f in d){d[f].off(b,c,this);e&&delete this._listeners[f]}return this}},j=/\s+/,k=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(j.test(c)){for(var f=c.split(j),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},l=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},m={listenTo:"on",listenToOnce:"once"};h.each(m,function(a,b){i[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=h.uniqueId("l"));e[f]=b;"object"==typeof c&&(d=this);b[a](c,d,this);return this}});i.bind=i.on;i.unbind=i.off;h.extend(a,i);var n=a.Model=function(a,b){var c,d=a||{};b||(b={});this.cid=h.uniqueId("c");this.attributes={};h.extend(this,h.pick(b,o));b.parse&&(d=this.parse(d,b)||{});(c=h.result(this,"defaults"))&&(d=h.defaults({},d,c));this.set(d,b);this.changed={};this.initialize.apply(this,arguments)},o=["url","urlRoot","collection"];h.extend(n.prototype,i,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return h.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return h.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,f,g,i,j,k,l;if(null==a)return this;if("object"==typeof a){e=a;c=b}else(e={})[a]=b;c||(c={});if(!this._validate(e,c))return!1;f=c.unset;i=c.silent;g=[];j=this._changing;this._changing=!0;if(!j){this._previousAttributes=h.clone(this.attributes);this.changed={}}l=this.attributes,k=this._previousAttributes;this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e){b=e[d];h.isEqual(l[d],b)||g.push(d);h.isEqual(k[d],b)?delete this.changed[d]:this.changed[d]=b;f?delete l[d]:l[d]=b}if(!i){g.length&&(this._pending=!0);for(var m=0,n=g.length;n>m;m++)this.trigger("change:"+g[m],this,l[g[m]],c)}if(j)return this;if(!i)for(;this._pending;){this._pending=!1;this.trigger("change",this,c)}this._pending=!1;this._changing=!1;return this},unset:function(a,b){return this.set(a,void 0,h.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,h.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)h.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(a){a=a?h.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d){if(!b.set(b.parse(d,a),a))return!1;c&&c(b,d,a);b.trigger("sync",b,d,a)};L(this,a);return this.sync("read",this,a)},save:function(a,b,c){var d,e,f,g=this.attributes;if(null==a||"object"==typeof a){d=a;c=b}else(d={})[a]=b;if(!(!d||c&&c.wait||this.set(d,c)))return!1;c=h.extend({validate:!0},c);if(!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=h.extend({},g,d));void 0===c.parse&&(c.parse=!0);var i=this,j=c.success;c.success=function(a){i.attributes=g;var b=i.parse(a,c);c.wait&&(b=h.extend(d||{},b));if(h.isObject(b)&&!i.set(b,c))return!1;j&&j(i,a,c);i.trigger("sync",i,a,c)};L(this,c);e=this.isNew()?"create":c.patch?"patch":"update";"patch"===e&&(c.attrs=d);f=this.sync(e,this,c);d&&c.wait&&(this.attributes=g);return f},destroy:function(a){a=a?h.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(e){(a.wait||b.isNew())&&d();c&&c(b,e,a);b.isNew()||b.trigger("sync",b,e,a)};if(this.isNew()){a.success();return!1}L(this,a);var e=this.sync("delete",this,a);a.wait||d();return e},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||K();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},h.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;if(!c)return!0;this.trigger("invalid",this,c,h.extend(b||{},{validationError:c}));return!1}});var p=["keys","values","pairs","invert","pick","omit"];h.each(p,function(a){n.prototype[a]=function(){var b=f.call(arguments);b.unshift(this.attributes);return h[a].apply(h,b)}});var q=a.Collection=function(a,b){b||(b={});b.url&&(this.url=b.url);b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,h.extend({silent:!0},b))},r={add:!0,remove:!0,merge:!0},s={add:!0,merge:!1,remove:!1};h.extend(q.prototype,i,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){return this.set(a,h.defaults(b||{},s))},remove:function(a,b){a=h.isArray(a)?a.slice():[a];b||(b={});var c,d,e,f;for(c=0,d=a.length;d>c;c++){f=this.get(a[c]);if(f){delete this._byId[f.id];delete this._byId[f.cid];e=this.indexOf(f);this.models.splice(e,1);this.length--;if(!b.silent){b.index=e;f.trigger("remove",f,this,b)}this._removeReference(f)}}return this},set:function(a,b){b=h.defaults(b||{},r);b.parse&&(a=this.parse(a,b));h.isArray(a)||(a=a?[a]:[]);var c,d,f,i,j,k=b.at,l=this.comparator&&null==k&&b.sort!==!1,m=h.isString(this.comparator)?this.comparator:null,n=[],o=[],p={};for(c=0,d=a.length;d>c;c++)if(f=this._prepareModel(a[c],b))if(i=this.get(f)){b.remove&&(p[i.cid]=!0);if(b.merge){i.set(f.attributes,b);l&&!j&&i.hasChanged(m)&&(j=!0)}}else if(b.add){n.push(f);f.on("all",this._onModelEvent,this);this._byId[f.cid]=f;null!=f.id&&(this._byId[f.id]=f)}if(b.remove){for(c=0,d=this.length;d>c;++c)p[(f=this.models[c]).cid]||o.push(f);o.length&&this.remove(o,b)}if(n.length){l&&(j=!0);this.length+=n.length;null!=k?g.apply(this.models,[k,0].concat(n)):e.apply(this.models,n)}j&&this.sort({silent:!0});if(b.silent)return this;for(c=0,d=n.length;d>c;c++)(f=n[c]).trigger("add",f,this,b);j&&this.trigger("sort",this,b);return this},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c]);b.previousModels=this.models;this._reset();this.add(a,h.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,h.extend({at:this.length},b));return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,h.extend({at:0},b));return a},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a.cid||a]},at:function(a){return this.models[a]},where:function(a,b){return h.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");a||(a={});h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=h.isFunction(b)?b:function(a){return a.get(b)};return h.sortedIndex(this.models,a,d,c)},pluck:function(a){return h.invoke(this.models,"get",a)},fetch:function(a){a=a?h.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a);b&&b(c,d,a);c.trigger("sync",c,d,a)};L(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?h.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;b.success=function(e){b.wait&&c.add(a,b);d&&d(a,e,b)};a.save(null,b);return a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof n){a.collection||(a.collection=this);return a}b||(b={});b.collection=this;var c=new this.model(a,b);if(!c._validate(a,b)){this.trigger("invalid",this,a,b);return!1}return c},_removeReference:function(a){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if("add"!==a&&"remove"!==a||c===this){"destroy"===a&&this.remove(b,d);if(b&&a==="change:"+b.idAttribute){delete this._byId[b.previous(b.idAttribute)];null!=b.id&&(this._byId[b.id]=b)}this.trigger.apply(this,arguments)}}});var t=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(t,function(a){q.prototype[a]=function(){var b=f.call(arguments);b.unshift(this.models);return h[a].apply(h,b)}});var u=["groupBy","countBy","sortBy"];h.each(u,function(a){q.prototype[a]=function(b,c){var d=h.isFunction(b)?b:function(a){return a.get(b)};return h[a](this.models,d,c)}});var v=a.View=function(a){this.cid=h.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];h.extend(v.prototype,i,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(b,c){this.$el&&this.undelegateEvents();this.$el=b instanceof a.$?b:a.$(b);this.el=this.$el[0];c!==!1&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=h.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];h.isFunction(c)||(c=this[a[b]]);if(c){var d=b.match(w),e=d[1],f=d[2];c=h.bind(c,this);e+=".delegateEvents"+this.cid;""===f?this.$el.on(e,c):this.$el.on(e,f,c)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(a){this.options&&(a=h.extend({},h.result(this,"options"),a));h.extend(this,h.pick(a,x));this.options=a},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var b=h.extend({},h.result(this,"attributes"));this.id&&(b.id=h.result(this,"id"));this.className&&(b["class"]=h.result(this,"className"));var c=a.$("<"+h.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}});a.sync=function(b,c,d){var e=y[b];h.defaults(d||(d={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var f={type:e,dataType:"json"};d.url||(f.url=h.result(c,"url")||K());if(null==d.data&&c&&("create"===b||"update"===b||"patch"===b)){f.contentType="application/json";f.data=JSON.stringify(d.attrs||c.toJSON(d))}if(d.emulateJSON){f.contentType="application/x-www-form-urlencoded";f.data=f.data?{model:f.data}:{}}if(d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST";d.emulateJSON&&(f.data._method=e);var g=d.beforeSend;d.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",e);return g?g.apply(this,arguments):void 0}}"GET"===f.type||d.emulateJSON||(f.processData=!1);"PATCH"!==f.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=d.xhr=a.ajax(h.extend(f,d));c.trigger("request",c,i,d);return i};var y={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var z=a.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,B=/(\(\?)?:\w+/g,C=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(z.prototype,i,{initialize:function(){},route:function(b,c,d){h.isRegExp(b)||(b=this._routeToRegExp(b));if(h.isFunction(c)){d=c;c=""}d||(d=this[c]);var e=this;a.history.route(b,function(f){var g=e._extractParameters(b,f);d&&d.apply(e,g);e.trigger.apply(e,["route:"+c].concat(g));e.trigger("route",c,g);a.history.trigger("route",e,c,g)});return this},navigate:function(b,c){a.history.navigate(b,c);return this},_bindRoutes:function(){if(this.routes){this.routes=h.result(this,"routes");for(var a,b=h.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(D,"\\$&").replace(A,"(?:$1)?").replace(B,function(a,b){return b?a:"([^/]+)"}).replace(C,"(.*?)");return new RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return h.map(c,function(a){return a?decodeURIComponent(a):null})}});var E=a.History=function(){this.handlers=[];h.bindAll(this,"checkUrl");if("undefined"!=typeof window){this.location=window.location;this.history=window.history}},F=/^[#\/]|\s+$/g,G=/^\/+|\/+$/g,H=/msie [\w.]+/,I=/\/$/;E.started=!1;h.extend(E.prototype,i,{interval:50,getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(I,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(F,"")},start:function(b){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0;this.options=h.extend({},{root:"/"},this.options,b);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==!1;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var c=this.getFragment(),d=document.documentMode,e=H.exec(navigator.userAgent.toLowerCase())&&(!d||7>=d);this.root=("/"+this.root+"/").replace(G,"/");if(e&&this._wantsHashChange){this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(c)}this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=c;var f=this.location,g=f.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!g){this.fragment=this.getFragment(null,!0);this.location.replace(this.root+this.location.search+"#"+this.fragment);return!0}if(this._wantsPushState&&this._hasPushState&&g&&f.hash){this.fragment=this.getHash().replace(F,"");this.history.replaceState({},document.title,this.root+this.fragment+f.search)}return this.options.silent?void 0:this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);E.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=h.any(this.handlers,function(a){if(a.route.test(b)){a.callback(b);return!0}});return c},navigate:function(a,b){if(!E.started)return!1;b&&b!==!0||(b={trigger:b});a=this.getFragment(a||"");if(this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace);if(this.iframe&&a!==this.getFragment(this.getHash(this.iframe))){b.replace||this.iframe.document.open().close();this._updateHash(this.iframe.location,a,b.replace)}}b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}});a.history=new E;var J=function(a,b){var c,d=this;c=a&&h.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)};h.extend(c,d,b);var e=function(){this.constructor=c};e.prototype=d.prototype;c.prototype=new e;a&&h.extend(c.prototype,a);c.__super__=d.prototype;return c};n.extend=q.extend=z.extend=v.extend=E.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}}}).call(this)}).call(c);var d=c.Backbone.noConflict();return d});extole.define("JSON",[],function(){var a,b,c={};(function(){!function(c){function d(a){if(null!=d[a])return d[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=d("json-stringify")&&d("json-parse");else{var c,e='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var f=k.stringify,i="function"==typeof f&&l;if(i){(c=function(){return 1}).toJSON=c;try{i="0"===f(0)&&"0"===f(new Number)&&'""'==f(new String)&&f(h)===g&&f(g)===g&&f()===g&&"1"===f(c)&&"[1]"==f([c])&&"[null]"==f([g])&&"null"==f(null)&&"[null,null,null]"==f([g,h,null])&&f({a:[c,!0,!1,null,"\x00\b\n\f\r	"]})==e&&"1"===f(null,c)&&"[\n 1,\n 2\n]"==f([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==f(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==f(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==f(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==f(new Date(-1))}catch(j){i=!1}}b=i}if("json-parse"==a){var m=k.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){c=m(e);var n=5==c.a.length&&1===c.a[0];if(n){try{n=!m('"	"')}catch(j){}if(n)try{n=1!==m("01")}catch(j){}}}}catch(j){n=!1}b=n}}return d[a]=!!b}var e,f,g,h={}.toString,i="function"==typeof b&&b.amd,j="object"==typeof a&&a,k="object"==typeof exports&&exports&&!exports.nodeType&&exports;if(k&&j){k.stringify=j.stringify;k.parse=j.parse}else k=c.JSON=j||{};var l=new Date(-0xc782b5b800cec);try{l=-109252==l.getUTCFullYear()&&0===l.getUTCMonth()&&1===l.getUTCDate()&&10==l.getUTCHours()&&37==l.getUTCMinutes()&&6==l.getUTCSeconds()&&708==l.getUTCMilliseconds()}catch(m){}d["bug-string-char-index"]=null;d.json=null;d["json-stringify"]=null;d["json-parse"]=null;if(!d("json")){var n="[object Function]",o="[object Date]",p="[object Number]",q="[object String]",r="[object Array]",s="[object Boolean]",t=d("bug-string-char-index");if(!l)var u=Math.floor,v=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(a,b){return v[b]+365*(a-1970)+u((a-1969+(b=+(b>1)))/4)-u((a-1901+b)/100)+u((a-1601+b)/400)};(e={}.hasOwnProperty)||(e=function(a){var b,c={};if((c.__proto__=null,c.__proto__={toString:1},c).toString!=h)e=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);this.__proto__=b;return c};else{b=c.constructor;e=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}}c=null;return e.call(this,a)});var x={"boolean":1,number:1,string:1,undefined:1},y=function(a,b){var c=typeof a[b];return"object"==c?!!a[b]:!x[c]};f=function(a,b){var c,d,g,i=0;(c=function(){this.valueOf=0}).prototype.valueOf=0;d=new c;for(g in d)e.call(d,g)&&i++;c=d=null;if(i)f=2==i?function(a,b){var c,d={},f=h.call(a)==n;for(c in a)f&&"prototype"==c||e.call(d,c)||!(d[c]=1)||!e.call(a,c)||b(c)}:function(a,b){var c,d,f=h.call(a)==n;for(c in a)f&&"prototype"==c||!e.call(a,c)||(d="constructor"===c)||b(c);(d||e.call(a,c="constructor"))&&b(c)};else{d=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];f=function(a,b){var c,f,g=h.call(a)==n,i=!g&&"function"!=typeof a.constructor&&y(a,"hasOwnProperty")?a.hasOwnProperty:e;for(c in a)g&&"prototype"==c||!i.call(a,c)||b(c);for(f=d.length;c=d[--f];i.call(a,c)&&b(c));}}return f(a,b)};if(!d("json-stringify")){var z={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},A="000000",B=function(a,b){return(A+(b||0)).slice(-a)},C="\\u00",D=function(a){var b,c='"',d=0,e=a.length,f=e>10&&t;f&&(b=a.split(""));for(;e>d;d++){var g=a.charCodeAt(d);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=z[g];break;default:if(32>g){c+=C+B(2,g.toString(16));break}c+=f?b[d]:t?a.charAt(d):a[d]}}return c+'"'},E=function(a,b,c,d,i,j,k){var l,m,n,t,v,x,y,z,A,C,F,G,H,I,J,K,L;try{l=b[a]}catch(M){}if("object"==typeof l&&l){m=h.call(l);if(m!=o||e.call(l,"toJSON"))"function"==typeof l.toJSON&&(m!=p&&m!=q&&m!=r||e.call(l,"toJSON"))&&(l=l.toJSON(a));else if(l>-1/0&&1/0>l){if(w){v=u(l/864e5);for(n=u(v/365.2425)+1970-1;w(n+1,0)<=v;n++);for(t=u((v-w(n,0))/30.42);w(n,t+1)<=v;t++);v=1+v-w(n,t);x=(l%864e5+864e5)%864e5;y=u(x/36e5)%24;z=u(x/6e4)%60;A=u(x/1e3)%60;C=x%1e3}else{n=l.getUTCFullYear();t=l.getUTCMonth();v=l.getUTCDate();y=l.getUTCHours();z=l.getUTCMinutes();A=l.getUTCSeconds();C=l.getUTCMilliseconds()}l=(0>=n||n>=1e4?(0>n?"-":"+")+B(6,0>n?-n:n):B(4,n))+"-"+B(2,t+1)+"-"+B(2,v)+"T"+B(2,y)+":"+B(2,z)+":"+B(2,A)+"."+B(3,C)+"Z"}else l=null}c&&(l=c.call(b,a,l));if(null===l)return"null";m=h.call(l);if(m==s)return""+l;if(m==p)return l>-1/0&&1/0>l?""+l:"null";if(m==q)return D(""+l);if("object"==typeof l){for(I=k.length;I--;)if(k[I]===l)throw TypeError();k.push(l);F=[];J=j;j+=i;if(m==r){for(H=0,I=l.length;I>H;K||(K=!0),H++){G=E(H,l,c,d,i,j,k);F.push(G===g?"null":G)}L=K?i?"[\n"+j+F.join(",\n"+j)+"\n"+J+"]":"["+F.join(",")+"]":"[]"}else{f(d||l,function(a){var b=E(a,l,c,d,i,j,k);b!==g&&F.push(D(a)+":"+(i?" ":"")+b);K||(K=!0)});L=K?i?"{\n"+j+F.join(",\n"+j)+"\n"+J+"}":"{"+F.join(",")+"}":"{}"}k.pop();return L}};k.stringify=function(a,b,c){var d,e,f,g;if("function"==typeof b||"object"==typeof b&&b)if((g=h.call(b))==n)e=b;else if(g==r){f={};for(var i,j=0,k=b.length;k>j;i=b[j++],(h.call(i)==q||h.call(i)==p)&&(f[i]=1));}if(c)if((g=h.call(c))==p){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else g==q&&(d=c.length<=10?c:c.slice(0,10));return E("",(i={},i[""]=a,i),e,f,d,"",[])}}if(!d("json-parse")){var F,G,H=String.fromCharCode,I={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},J=function(){F=G=null;throw SyntaxError()},K=function(){for(var a,b,c,d,e,f=G,g=f.length;g>F;){e=f.charCodeAt(F);switch(e){case 9:case 10:case 13:case 32:F++;break;case 123:case 125:case 91:case 93:case 58:case 44:a=t?f.charAt(F):f[F];F++;return a;case 34:for(a="@",F++;g>F;){e=f.charCodeAt(F);if(32>e)J();else if(92==e){e=f.charCodeAt(++F);switch(e){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=I[e];F++;break;case 117:b=++F;for(c=F+4;c>F;F++){e=f.charCodeAt(F);e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||J()}a+=H("0x"+f.slice(b,F));break;default:J()}}else{if(34==e)break;e=f.charCodeAt(F);b=F;for(;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++F);a+=f.slice(b,F)}}if(34==f.charCodeAt(F)){F++;return a}J();default:b=F;if(45==e){d=!0;e=f.charCodeAt(++F)}if(e>=48&&57>=e){48==e&&(e=f.charCodeAt(F+1),e>=48&&57>=e)&&J();d=!1;for(;g>F&&(e=f.charCodeAt(F),e>=48&&57>=e);F++);if(46==f.charCodeAt(F)){c=++F;for(;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==F&&J();F=c}e=f.charCodeAt(F);if(101==e||69==e){e=f.charCodeAt(++F);(43==e||45==e)&&F++;for(c=F;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==F&&J();F=c}return+f.slice(b,F)}d&&J();if("true"==f.slice(F,F+4)){F+=4;return!0}if("false"==f.slice(F,F+5)){F+=5;return!1}if("null"==f.slice(F,F+4)){F+=4;return null}J()}}return"$"},L=function(a){var b,c;"$"==a&&J();if("string"==typeof a){if("@"==(t?a.charAt(0):a[0]))return a.slice(1);if("["==a){b=[];for(;;c||(c=!0)){a=K();if("]"==a)break;if(c)if(","==a){a=K();"]"==a&&J()}else J();","==a&&J();b.push(L(a))}return b}if("{"==a){b={};for(;;c||(c=!0)){a=K();if("}"==a)break;if(c)if(","==a){a=K();"}"==a&&J()}else J();(","==a||"string"!=typeof a||"@"!=(t?a.charAt(0):a[0])||":"!=K())&&J();b[a.slice(1)]=L(K())}return b}J()}return a},M=function(a,b,c){var d=N(a,b,c);d===g?delete a[b]:a[b]=d},N=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(h.call(e)==r)for(d=e.length;d--;)M(e,d,c);else f(e,function(a){M(e,a,c)});return c.call(a,b,e)};k.parse=function(a,b){var c,d;F=0;G=""+a;c=L(K());"$"!=K()&&J();F=G=null;return b&&h.call(b)==n?N((d={},d[""]=c,d),"",b):c}}}i&&b(function(){return k})}(this)}).call(c);if(c.JSON)return c.JSON;if("undefined"!=typeof exports&&exports.JSON)return exports.JSON;throw new Error("JSON not properly defined!")});extole.define("Underscore",[],function(){var a={};(function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.3";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2);return x.map(a,function(a){return(x.isFunction(b)?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b){return x.isEmpty(b)?[]:x.filter(a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;d.computed>g&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;e>c.call(d,a[h])?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})
})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.bindAll=function(a){var b=h.call(arguments,1);return 0==b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return 1>--a?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==b+"";case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=F(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),x.isFunction=function(a){return"function"==typeof a},x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+(0|Math.random()*(b-a+1))};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};G.unescape=x.invert(G.escape);var H={escape:RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=""+ ++I;return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n"," ":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){c=x.defaults({},c,x.templateSettings);var d=RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(L,function(a){return"\\"+K[a]}),c&&(f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(f+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),g&&(f+="';\n"+g+"\n__p+='"),e=h+b.length,b}),f+="';\n",c.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=Function(c.variable||"obj","_",f)}catch(h){throw h.source=f,h}if(b)return g(b,x);var i=function(a){return g.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+f+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(a);return"undefined"!=typeof exports?exports._.noConflict():a._.noConflict()});(function(){var a=Array.prototype.indexOf;Array.prototype.indexOf=void 0;/*! jQuery v1.8.3 jquery.com | jquery.org/license */
!function(a,b){function c(a){var b=ob[a]={};return $.each(a.split(bb),function(a,c){b[c]=!0}),b}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(qb,"-$1").toLowerCase();d=a.getAttribute(e);if("string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:pb.test(d)?$.parseJSON(d):d}catch(f){}$.data(a,c,d)}else d=b}return d}function e(a){var b;for(b in a)if(("data"!==b||!$.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(){return!1}function g(){return!0}function h(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function i(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function j(a,b,c){b=b||0;if($.isFunction(b))return $.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return $.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=$.grep(a,function(a){return 1===a.nodeType});if(Kb.test(b))return $.filter(b,d,!c);b=$.filter(b,d)}return $.grep(a,function(a){return $.inArray(a,b)>=0===c})}function k(a){var b=Nb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function m(a,b){if(1===b.nodeType&&$.hasData(a)){var c,d,e,f=$._data(a),g=$._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)$.event.add(b,c,h[c][d])}g.data&&(g.data=$.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),$.support.html5Clone&&a.innerHTML&&!$.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Xb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute($.expando))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){Xb.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=rc.length;e--;){b=rc[e]+c;if(b in a)return b}return d}function r(a,b){return a=b||a,"none"===$.css(a,"display")||!$.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++){c=a[f];c.style&&(e[f]=$._data(c,"olddisplay"),b?(!e[f]&&"none"===c.style.display&&(c.style.display=""),""===c.style.display&&r(c)&&(e[f]=$._data(c,"olddisplay",w(c.nodeName)))):(d=cc(c,"display"),!e[f]&&"none"!==d&&$._data(c,"olddisplay",d)))}for(f=0;g>f;f++){c=a[f];c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"))}return a}function t(a,b,c){var d=kc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function u(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;4>e;e+=2)"margin"===c&&(f+=$.css(a,c+qc[e],!0)),d?("content"===c&&(f-=parseFloat(cc(a,"padding"+qc[e]))||0),"margin"!==c&&(f-=parseFloat(cc(a,"border"+qc[e]+"Width"))||0)):(f+=parseFloat(cc(a,"padding"+qc[e]))||0,"padding"!==c&&(f+=parseFloat(cc(a,"border"+qc[e]+"Width"))||0));return f}function v(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=$.support.boxSizing&&"border-box"===$.css(a,"boxSizing");if(0>=d||null==d){d=cc(a,b);(0>d||null==d)&&(d=a.style[b]);if(lc.test(d))return d;e=f&&($.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+u(a,b,c||(f?"border":"content"),e)+"px"}function w(a){if(nc[a])return nc[a];var b=$("<"+a+">").appendTo(P.body),c=b.css("display");b.remove();if("none"===c||""===c){dc=P.body.appendChild(dc||$.extend(P.createElement("iframe"),{frameBorder:0,width:0,height:0}));ec&&dc.createElement||(ec=(dc.contentWindow||dc.contentDocument).document,ec.write("<!doctype html><html><body>"),ec.close());b=ec.body.appendChild(ec.createElement(a)),c=cc(b,"display"),P.body.removeChild(dc)}return nc[a]=c,c}function x(a,b,c,d){var e;if($.isArray(b))$.each(b,function(b,e){c||uc.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==$.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}function y(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(bb),h=0,i=g.length;if($.isFunction(c))for(;i>h;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function z(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===Kc;k>j&&(l||!h);j++)h=i[j](c,d,e),"string"==typeof h&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=z(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=z(a,c,d,e,"*",g)),h}function A(a,c){var d,e,f=$.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&$.extend(!0,a,e)}function B(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);for(;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function C(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;a.dataFilter&&(b=a.dataFilter(b,a.dataType));if(g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){c=i[h+" "+e]||i["* "+e];if(!c)for(d in i){f=d.split(" ");if(f[1]===e){c=i[h+" "+f[0]]||i["* "+f[0]];if(c){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}}}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function D(){try{return new a.XMLHttpRequest}catch(b){}}function E(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function F(){return setTimeout(function(){Vc=b},0),Vc=$.now()}function G(a,b){$.each(b,function(b,c){for(var d=(_c[b]||[]).concat(_c["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function H(a,b,c){var d,e=0,f=$c.length,g=$.Deferred().always(function(){delete h.elem}),h=function(){for(var b=Vc||F(),c=Math.max(0,i.startTime+i.duration-b),d=c/i.duration||0,e=1-d,f=0,h=i.tweens.length;h>f;f++)i.tweens[f].run(e);return g.notifyWith(a,[i,e,c]),1>e&&h?c:(g.resolveWith(a,[i]),!1)},i=g.promise({elem:a,props:$.extend({},b),opts:$.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Vc||F(),duration:c.duration,tweens:[],createTween:function(b,c){var d=$.Tween(a,i.opts,b,c,i.opts.specialEasing[b]||i.opts.easing);return i.tweens.push(d),d},stop:function(b){for(var c=0,d=b?i.tweens.length:0;d>c;c++)i.tweens[c].run(1);return b?g.resolveWith(a,[i,b]):g.rejectWith(a,[i,b]),this}}),j=i.props;I(j,i.opts.specialEasing);for(;f>e;e++){d=$c[e].call(i,a,j,i.opts);if(d)return d}return G(i,j),$.isFunction(i.opts.start)&&i.opts.start.call(a,i),$.fx.timer($.extend(h,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}function I(a,b){var c,d,e,f,g;for(c in a){d=$.camelCase(c),e=b[d],f=a[c],$.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=$.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function J(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&r(a);c.queue||(k=$._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,$.queue(a,"fx").length||k.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===$.css(a,"display")&&"none"===$.css(a,"float")&&($.support.inlineBlockNeedsLayout&&"inline"!==w(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",$.support.shrinkWrapBlocks||m.done(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b){f=b[d];if(Xc.exec(f)){delete b[d],i=i||"toggle"===f;if(f===(q?"hide":"show"))continue;p.push(d)}}g=p.length;if(g){h=$._data(a,"fxshow")||$._data(a,"fxshow",{}),"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?$(a).show():m.done(function(){$(a).hide()}),m.done(function(){var b;$.removeData(a,"fxshow",!0);for(b in o)$.style(a,b,o[b])});for(d=0;g>d;d++)e=p[d],j=m.createTween(e,q?h[e]:0),o[e]=h[e]||$.style(a,e),e in h||(h[e]=j.start,q&&(j.end=j.start,j.start="width"===e||"height"===e?1:0))}}function K(a,b,c,d,e){return new K.prototype.init(a,b,c,d,e)}function L(a,b){var c,d={height:a},e=0;b=b?1:0;for(;4>e;e+=2-b)c=qc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function M(a){return $.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var N,O,P=a.document,Q=a.location,R=a.navigator,S=a.jQuery,T=a.$,U=Array.prototype.push,V=Array.prototype.slice,W=Array.prototype.indexOf,X=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,Z=String.prototype.trim,$=function(a,b){return new $.fn.init(a,b,N)},_=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ab=/\S/,bb=/\s+/,cb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,db=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,eb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fb=/^[\],:{}\s]*$/,gb=/(?:^|:|,)(?:\s*\[)+/g,hb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ib=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,jb=/^-ms-/,kb=/-([\da-z])/gi,lb=function(a,b){return(b+"").toUpperCase()},mb=function(){P.addEventListener?(P.removeEventListener("DOMContentLoaded",mb,!1),$.ready()):"complete"===P.readyState&&(P.detachEvent("onreadystatechange",mb),$.ready())},nb={};$.fn=$.prototype={constructor:$,init:function(a,c,d){var e,f,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:db.exec(a);if(e&&(e[1]||!c)){if(e[1])return c=c instanceof $?c[0]:c,g=c&&c.nodeType?c.ownerDocument||c:P,a=$.parseHTML(e[1],g,!0),eb.test(e[1])&&$.isPlainObject(c)&&this.attr.call(a,c,!0),$.merge(this,a);f=P.getElementById(e[2]);if(f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=P,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return $.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),$.makeArray(a,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=$.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return $.each(this,a,b)},ready:function(a){return $.ready.promise().done(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(a){return this.pushStack($.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},$.fn.init.prototype=$.fn,$.extend=$.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;"boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"!=typeof h&&!$.isFunction(h)&&(h={}),j===i&&(h=this,--i);for(;j>i;i++)if(null!=(a=arguments[i]))for(c in a){d=h[c],e=a[c];h!==e&&(k&&e&&($.isPlainObject(e)||(f=$.isArray(e)))?(f?(f=!1,g=d&&$.isArray(d)?d:[]):g=d&&$.isPlainObject(d)?d:{},h[c]=$.extend(k,g,e)):e!==b&&(h[c]=e))}return h},$.extend({noConflict:function(b){return a.$===$&&(a.$=T),b&&a.jQuery===$&&(a.jQuery=S),$},isReady:!1,readyWait:1,holdReady:function(a){a?$.readyWait++:$.ready(!0)},ready:function(a){if(a===!0?!--$.readyWait:!$.isReady){if(!P.body)return setTimeout($.ready,1);$.isReady=!0;a!==!0&&--$.readyWait>0||(O.resolveWith(P,[$]),$.fn.trigger&&$(P).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===$.type(a)},isArray:Array.isArray||function(a){return"array"===$.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):nb[X.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==$.type(a)||a.nodeType||$.isWindow(a))return!1;try{if(a.constructor&&!Y.call(a,"constructor")&&!Y.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||Y.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||P,(d=eb.exec(a))?[b.createElement(d[1])]:(d=$.buildFragment([a],b,c?null:[]),$.merge([],(d.cacheable?$.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){if(!b||"string"!=typeof b)return null;b=$.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(fb.test(b.replace(hb,"@").replace(ib,"]").replace(gb,"")))return new Function("return "+b)();$.error("Invalid JSON: "+b);return void 0},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&$.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&ab.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(jb,"ms-").replace(kb,lb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||$.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;g>f&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;g>f&&c.call(a[f],f,a[f++])!==!1;);return a},trim:Z&&!Z.call("")?function(a){return null==a?"":Z.call(a)}:function(a){return null==a?"":(a+"").replace(cb,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=$.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||$.isWindow(a)?U.call(d,a):$.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(W)return W.call(b,a,c);d=b.length,c=c?0>c?Math.max(0,d+c):c:0;for(;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;c=!!c;for(;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof $||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||$.isArray(a));if(j)for(;i>h;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),$.isFunction(a)?(e=V.call(arguments,2),f=function(){return a.apply(c,e.concat(V.call(arguments)))},f.guid=a.guid=a.guid||$.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)$.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){i=h===b&&$.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call($(a),c)}):(c.call(a,e),c=null));if(c)for(;l>k;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),$.ready.promise=function(b){if(!O){O=$.Deferred();if("complete"===P.readyState)setTimeout($.ready,1);else if(P.addEventListener)P.addEventListener("DOMContentLoaded",mb,!1),a.addEventListener("load",$.ready,!1);else{P.attachEvent("onreadystatechange",mb),a.attachEvent("onload",$.ready);var c=!1;try{c=null==a.frameElement&&P.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!$.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}$.ready()}}()}}return O.promise(b)},$.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){nb["[object "+b+"]"]=b.toLowerCase()}),N=$(P);var ob={};$.Callbacks=function(a){a="string"==typeof a?ob[a]||c(a):$.extend({},a);var d,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){d=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;for(;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function c(b){$.each(b,function(b,d){var e=$.type(d);"function"===e?(!a.unique||!m.has(d))&&j.push(d):d&&d.length&&"string"!==e&&c(d)})}(arguments),f?h=j.length:d&&(g=b,l(d))}return this},remove:function(){return j&&$.each(arguments,function(a,b){for(var c;(c=$.inArray(b,j,c))>-1;)j.splice(c,1),f&&(h>=c&&h--,i>=c&&i--)}),this},has:function(a){return $.inArray(a,j)>-1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],j&&(!e||k)&&(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},$.extend({Deferred:function(a){var b=[["resolve","done",$.Callbacks("once memory"),"resolved"],["reject","fail",$.Callbacks("once memory"),"rejected"],["notify","progress",$.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return $.Deferred(function(c){$.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]]($.isFunction(g)?function(){var a=g.apply(this,arguments);a&&$.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return null!=a?$.extend(a,d):d}},e={};return d.pipe=d.then,$.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=V.call(arguments),g=f.length,h=1!==g||a&&$.isFunction(a.promise)?g:0,i=1===h?a:$.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?V.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1){b=new Array(g),c=new Array(g),d=new Array(g);for(;g>e;e++)f[e]&&$.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h}return h||i.resolveWith(d,f),i.promise()}}),$.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m=P.createElement("div");m.setAttribute("className","t"),m.innerHTML="	<link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0];if(!c||!d||!c.length)return{};e=P.createElement("select"),f=e.appendChild(P.createElement("option")),g=m.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!P.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==P.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===P.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete m.test}catch(n){b.deleteExpando=!1}!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),g=P.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=P.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m);if(m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k="function"==typeof m[i]),b[j+"Bubbles"]=k;return $(function(){var c,d,e,f,g="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=P.getElementsByTagName("body")[0];h&&(c=P.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(c,h.firstChild),d=P.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=k&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,f=P.createElement("div"),f.style.cssText=d.style.cssText=g,f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText=g+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),h.removeChild(c),c=d=e=f=null)}),h.removeChild(m),c=d=e=f=g=h=m=null,b}();var pb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,qb=/([A-Z])/g;$.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+($.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?$.cache[a[$.expando]]:a[$.expando],!!a&&!e(a)},data:function(a,c,d,e){if($.acceptData(a)){var f,g,h=$.expando,i="string"==typeof c,j=a.nodeType,k=j?$.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b){l||(j?a[h]=l=$.deletedIds.pop()||$.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=$.noop));("object"==typeof c||"function"==typeof c)&&(e?k[l]=$.extend(k[l],c):k[l].data=$.extend(k[l].data,c));return f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[$.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[$.camelCase(c)])):g=f,g}}},removeData:function(a,b,c){if($.acceptData(a)){var d,f,g,h=a.nodeType,i=h?$.cache:a,j=h?a[$.expando]:$.expando;if(i[j]){if(b){d=c?i[j]:i[j].data;if(d){$.isArray(b)||(b in d?b=[b]:(b=$.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;g>f;f++)delete d[b[f]];if(!(c?e:$.isEmptyObject)(d))return}}if(!c){delete i[j].data;if(!e(i[j]))return}h?$.cleanData([a],!0):$.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null}}},_data:function(a,b,c){return $.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&$.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),$.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length){l=$.data(j);if(1===j.nodeType&&!$._data(j,"parsedAttrs")){g=j.attributes;for(i=g.length;i>k;k++)h=g[k].name,h.indexOf("data-")||(h=$.camelCase(h.substring(5)),d(j,h,l[h]));$._data(j,"parsedAttrs",!0)}}return l}return"object"==typeof a?this.each(function(){$.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",$.access(this,function(c){if(c===b)return l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=$.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l;e[1]=c,this.each(function(){var b=$(this);b.triggerHandler("setData"+f,e),$.data(this,a,c),b.triggerHandler("changeData"+f,e)});return void 0},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){$.removeData(this,a)})}}),$.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=$._data(a,b),c&&(!d||$.isArray(c)?d=$._data(a,b,$.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=$.queue(a,b),d=c.length,e=c.shift(),f=$._queueHooks(a,b),g=function(){$.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return $._data(a,c)||$._data(a,c,{empty:$.Callbacks("once memory").add(function(){$.removeData(a,b+"queue",!0),$.removeData(a,c,!0)})})}}),$.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?$.queue(this[0],a):c===b?this:this.each(function(){var b=$.queue(this,a,c);$._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&$.dequeue(this,a)})},dequeue:function(a){return this.each(function(){$.dequeue(this,a)})},delay:function(a,b){return a=$.fx?$.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=$.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};"string"!=typeof a&&(c=a,a=b),a=a||"fx";for(;h--;)d=$._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var rb,sb,tb,ub=/[\t\r\n]/g,vb=/\r/g,wb=/^(?:button|input)$/i,xb=/^(?:button|input|object|select|textarea)$/i,yb=/^a(?:rea|)$/i,zb=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ab=$.support.getSetAttribute;$.fn.extend({attr:function(a,b){return $.access(this,$.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){$.removeAttr(this,a)})},prop:function(a,b){return $.access(this,$.prop,a,b,arguments.length>1)},removeProp:function(a){return a=$.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if($.isFunction(a))return this.each(function(b){$(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a){b=a.split(bb);for(c=0,d=this.length;d>c;c++){e=this[c];if(1===e.nodeType)if(e.className||1!==b.length){f=" "+e.className+" ";for(g=0,h=b.length;h>g;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=$.trim(f)}else e.className=a}}return this},removeClass:function(a){var c,d,e,f,g,h,i;if($.isFunction(a))return this.each(function(b){$(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b){c=(a||"").split(bb);for(h=0,i=this.length;i>h;h++){e=this[h];if(1===e.nodeType&&e.className){d=(" "+e.className+" ").replace(ub," ");for(f=0,g=c.length;g>f;f++)for(;d.indexOf(" "+c[f]+" ")>=0;)d=d.replace(" "+c[f]+" "," ");e.className=a?$.trim(d):""}}}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each($.isFunction(a)?function(c){$(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=$(this),h=b,i=a.split(bb);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&$._data(this,"__className__",this.className),this.className=this.className||a===!1?"":$._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];return arguments.length?(e=$.isFunction(a),this.each(function(d){var f,g=$(this);if(1===this.nodeType){f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":$.isArray(f)&&(f=$.map(f,function(a){return null==a?"":a+""})),c=$.valHooks[this.type]||$.valHooks[this.nodeName.toLowerCase()];c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f)}})):f?(c=$.valHooks[f.type]||$.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(vb,""):null==d?"":d)):void 0}}),$.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){c=d[i];if(!(!c.selected&&i!==e||($.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&$.nodeName(c.parentNode,"optgroup"))){b=$(c).val();if(f)return b;g.push(b)}}return g},set:function(a,b){var c=$.makeArray(b);return $(a).find("option").each(function(){this.selected=$.inArray($(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i){if(e&&$.isFunction($.fn[c]))return $(a)[c](d);if("undefined"==typeof a.getAttribute)return $.prop(a,c,d);h=1!==i||!$.isXMLDoc(a),h&&(c=c.toLowerCase(),g=$.attrHooks[c]||(zb.test(c)?sb:rb));if(d!==b){if(null===d){$.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d)}return g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f)}},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType){d=b.split(bb);for(;g<d.length;g++)e=d[g],e&&(c=$.propFix[e]||e,f=zb.test(e),f||$.attr(a,e,""),a.removeAttribute(Ab?e:c),f&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(wb.test(a.nodeName)&&a.parentNode)$.error("type property can't be changed");else if(!$.support.radioValue&&"radio"===b&&$.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return rb&&$.nodeName(a,"button")?rb.get(a,b):b in a?a.value:null},set:function(a,b,c){if(rb&&$.nodeName(a,"button"))return rb.set(a,b,c);a.value=b;return void 0}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;return a&&3!==h&&8!==h&&2!==h?(g=1!==h||!$.isXMLDoc(a),g&&(c=$.propFix[c]||c,f=$.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]):void 0},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):xb.test(a.nodeName)||yb.test(a.nodeName)&&a.href?0:b}}}}),sb={get:function(a,c){var d,e=$.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?$.removeAttr(a,c):(d=$.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},Ab||(tb={name:!0,id:!0,coords:!0},rb=$.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(tb[c]?""!==d.value:d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=P.createAttribute(c),a.setAttributeNode(d)),d.value=b+""
}},$.each(["width","height"],function(a,b){$.attrHooks[b]=$.extend($.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),$.attrHooks.contenteditable={get:rb.get,set:function(a,b,c){""===b&&(b="false"),rb.set(a,b,c)}}),$.support.hrefNormalized||$.each(["href","src","width","height"],function(a,c){$.attrHooks[c]=$.extend($.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),$.support.style||($.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),$.support.optSelected||($.propHooks.selected=$.extend($.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),$.support.enctype||($.propFix.enctype="encoding"),$.support.checkOn||$.each(["radio","checkbox"],function(){$.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),$.each(["radio","checkbox"],function(){$.valHooks[this]=$.extend($.valHooks[this],{set:function(a,b){return $.isArray(b)?a.checked=$.inArray($(a).val(),b)>=0:void 0}})});var Bb=/^(?:textarea|input|select)$/i,Cb=/^([^\.]*|)(?:\.(.+)|)$/,Db=/(?:^|\s)hover(\.\S+|)\b/,Eb=/^key/,Fb=/^(?:mouse|contextmenu)|click/,Gb=/^(?:focusinfocus|focusoutblur)$/,Hb=function(a){return $.event.special.hover?a:a.replace(Db,"mouseenter$1 mouseleave$1")};$.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=$._data(a))){d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=$.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof $||a&&$.event.triggered===a.type?b:$.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=$.trim(Hb(c)).split(" ");for(j=0;j<c.length;j++){k=Cb.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=$.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=$.event.special[l]||{},n=$.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&$.expr.match.needsContext.test(f),namespace:m.join(".")},o),p=i[l];if(!p){p=i[l]=[],p.delegateCount=0;q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))}q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),$.event.global[l]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=$.hasData(a)&&$._data(a);if(q&&(m=q.events)){b=$.trim(Hb(b||"")).split(" ");for(f=0;f<b.length;f++){g=Cb.exec(b[f])||[],h=i=g[1],j=g[2];if(h){n=$.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<o.length;l++)p=o[l],!(!e&&i!==p.origType||c&&c.guid!==p.guid||j&&!j.test(p.namespace)||d&&d!==p.selector&&("**"!==d||!p.selector)||(o.splice(l--,1),p.selector&&o.delegateCount--,!n.remove||!n.remove.call(a,p)));0===o.length&&k!==o.length&&((!n.teardown||n.teardown.call(a,j,q.handle)===!1)&&$.removeEvent(a,h,q.handle),delete m[h])}else for(h in m)$.event.remove(a,h+b[f],c,d,!0)}$.isEmptyObject(m)&&(delete q.handle,$.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(Gb.test(q+$.event.triggered))return;q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort());if((!e||$.event.customEvent[q])&&!$.event.global[q])return;c="object"==typeof c?c[$.expando]?c:new $.Event(q,c):new $.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"";if(!e){g=$.cache;for(i in g)g[i].events&&g[i].events[q]&&$.event.trigger(c,d,g[i].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=null!=d?$.makeArray(d):[],d.unshift(c),m=$.event.special[q]||{};if(m.trigger&&m.trigger.apply(e,d)===!1)return;o=[[e,m.bindType||q]];if(!f&&!m.noBubble&&!$.isWindow(e)){p=m.delegateType||q,j=Gb.test(p+q)?e:e.parentNode;for(k=e;j;j=j.parentNode)o.push([j,p]),k=j;k===(e.ownerDocument||P)&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=($._data(j,"events")||{})[c.type]&&$._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&$.acceptData(j)&&n.apply&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,!(f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&$.nodeName(e,"a")||!$.acceptData(e)||!l||!e[q]||("focus"===q||"blur"===q)&&0===c.target.offsetWidth||$.isWindow(e)||(k=e[l],k&&(e[l]=null),$.event.triggered=q,e[q](),$.event.triggered=b,!k||!(e[l]=k))),c.result}},dispatch:function(c){c=$.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m=($._data(this,"events")||{})[c.type]||[],n=m.delegateCount,o=V.call(arguments),p=!c.exclusive&&!c.namespace,q=$.event.special[c.type]||{},r=[];o[0]=c,c.delegateTarget=this;if(!q.preDispatch||q.preDispatch.call(this,c)!==!1){if(n&&(!c.button||"click"!==c.type))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==c.type){h={},j=[];for(d=0;n>d;d++)k=m[d],l=k.selector,h[l]===b&&(h[l]=k.needsContext?$(l,this).index(f)>=0:$.find(l,this,null,[f]).length),h[l]&&j.push(k);j.length&&r.push({elem:f,matches:j})}m.length>n&&r.push({elem:this,matches:m.slice(n)});for(d=0;d<r.length&&!c.isPropagationStopped();d++){i=r[d],c.currentTarget=i.elem;for(e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++){k=i.matches[e];(p||!c.namespace&&!k.namespace||c.namespace_re&&c.namespace_re.test(k.namespace))&&(c.data=k.data,c.handleObj=k,g=(($.event.special[k.origType]||{}).handle||k.handler).apply(i.elem,o),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation())))}}return q.postDispatch&&q.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||P,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),!a.which&&g!==b&&(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[$.expando])return a;var b,c,d=a,e=$.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;a=$.Event(d);for(b=f.length;b;)c=f[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||P),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,e.filter?e.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){$.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=$.extend(new $.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?$.event.trigger(e,null,b):$.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},$.event.handle=$.event.dispatch,$.removeEvent=P.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},$.Event=function(a,b){if(!(this instanceof $.Event))return new $.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?g:f):this.type=a,b&&$.extend(this,b),this.timeStamp=a&&a.timeStamp||$.now(),this[$.expando]=!0;return void 0},$.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f},$.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){$.event.special[a]={delegateType:b,bindType:b,handle:function(a){{var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector}(!e||e!==d&&!$.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b);return c}}}),$.support.submitBubbles||($.event.special.submit={setup:function(){if($.nodeName(this,"form"))return!1;$.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=$.nodeName(c,"input")||$.nodeName(c,"button")?c.form:b;d&&!$._data(d,"_submit_attached")&&($.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),$._data(d,"_submit_attached",!0))});return void 0},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&$.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if($.nodeName(this,"form"))return!1;$.event.remove(this,"._submit");return void 0}}),$.support.changeBubbles||($.event.special.change={setup:function(){if(Bb.test(this.nodeName)){("checkbox"===this.type||"radio"===this.type)&&($.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),$.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),$.event.simulate("change",this,a,!0)}));return!1}$.event.add(this,"beforeactivate._change",function(a){var b=a.target;Bb.test(b.nodeName)&&!$._data(b,"_change_attached")&&($.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&$.event.simulate("change",this.parentNode,a,!0)}),$._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return $.event.remove(this,"._change"),!Bb.test(this.nodeName)}}),$.support.focusinBubbles||$.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){$.event.simulate(b,a.target,$.event.fix(a),!0)};$.event.special[b]={setup:function(){0===c++&&P.addEventListener(a,d,!0)},teardown:function(){0===--c&&P.removeEventListener(a,d,!0)}}}),$.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=f;else if(!e)return this;return 1===g&&(h=e,e=function(a){return $().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=$.guid++)),this.each(function(){$.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,$(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}(c===!1||"function"==typeof c)&&(d=c,c=b);return d===!1&&(d=f),this.each(function(){$.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return $(this.context).on(a,this.selector,b,c),this},die:function(a,b){return $(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){$.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?$.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||$.guid++,d=0,e=function(c){var e=($._data(this,"lastToggle"+a.guid)||0)%d;return $._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;for(;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),$.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){$.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Eb.test(b)&&($.event.fixHooks[b]=$.event.keyHooks),Fb.test(b)&&($.event.fixHooks[b]=$.event.mouseHooks)}),function(a,b){function c(a,b,c,d){c=c||[],b=b||F;var e,f,g,h,i=b.nodeType;if(!a||"string"!=typeof a)return c;if(1!==i&&9!==i)return[];g=v(b);if(!g&&!d&&(e=cb.exec(a)))if(h=e[1]){if(9===i){f=b.getElementById(h);if(!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&w(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return K.apply(c,L.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&mb&&b.getElementsByClassName)return K.apply(c,L.call(b.getElementsByClassName(h),0)),c}return p(a.replace(Z,"$1"),b,c,d,g)}function d(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function e(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function f(a){return N(function(b){return b=+b,N(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function g(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}function h(a,b){var d,e,f,g,h,i,j,k=Q[D][a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=t.preFilter;for(;h;){(!d||(e=_.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[]));d=!1;(e=ab.exec(h))&&(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=e[0].replace(Z," "));for(g in t.filter)(e=hb[g].exec(h))&&(!j[g]||(e=j[g](e)))&&(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=g,d.matches=e);if(!d)break}return b?h.length:h?c.error(a):Q(a,i).slice(0)}function i(a,b,c){var d=b.dir,e=c&&"parentNode"===b.dir,f=I++;return b.first?function(b,c,f){for(;b=b[d];)if(e||1===b.nodeType)return a(b,c,f)}:function(b,c,g){if(g){for(;b=b[d];)if((e||1===b.nodeType)&&a(b,c,g))return b}else for(var h,i=H+" "+f+" ",j=i+r;b=b[d];)if(e||1===b.nodeType){if((h=b[D])===j)return b.sizset;if("string"==typeof h&&0===h.indexOf(i)){if(b.sizset)return b}else{b[D]=j;if(a(b,c,g))return b.sizset=!0,b;b.sizset=!1}}}}function j(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function k(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function l(a,b,c,d,e,f){return d&&!d[D]&&(d=l(d)),e&&!e[D]&&(e=l(e,f)),N(function(f,g,h,i){var j,l,m,n=[],p=[],q=g.length,r=f||o(b||"*",h.nodeType?[h]:h,[]),s=!a||!f&&b?r:k(r,n,a,h,i),t=c?e||(f?a:q||d)?[]:g:s;c&&c(s,t,h,i);if(d){j=k(t,p),d(j,[],h,i),l=j.length;for(;l--;)(m=j[l])&&(t[p[l]]=!(s[p[l]]=m))}if(f){if(e||a){if(e){j=[],l=t.length;for(;l--;)(m=t[l])&&j.push(s[l]=m);e(null,t=[],j,i)}l=t.length;for(;l--;)(m=t[l])&&(j=e?M.call(f,m):n[l])>-1&&(f[j]=!(g[j]=m))}}else t=k(t===g?t.splice(q,t.length):t),e?e(null,g,t,i):K.apply(g,t)})}function m(a){for(var b,c,d,e=a.length,f=t.relative[a[0].type],g=f||t.relative[" "],h=f?1:0,k=i(function(a){return a===b},g,!0),n=i(function(a){return M.call(b,a)>-1},g,!0),o=[function(a,c,d){return!f&&(d||c!==A)||((b=c).nodeType?k(a,c,d):n(a,c,d))}];e>h;h++)if(c=t.relative[a[h].type])o=[i(j(o),c)];else{c=t.filter[a[h].type].apply(null,a[h].matches);if(c[D]){d=++h;for(;e>d&&!t.relative[a[d].type];d++);return l(h>1&&j(o),h>1&&a.slice(0,h-1).join("").replace(Z,"$1"),c,d>h&&m(a.slice(h,d)),e>d&&m(a=a.slice(d)),e>d&&a.join(""))}o.push(c)}return j(o)}function n(a,b){var d=b.length>0,e=a.length>0,f=function(g,h,i,j,l){var m,n,o,p=[],q=0,s="0",u=g&&[],v=null!=l,w=A,x=g||e&&t.find.TAG("*",l&&h.parentNode||h),y=H+=null==w?1:Math.E;v&&(A=h!==F&&h,r=f.el);for(;null!=(m=x[s]);s++){if(e&&m){for(n=0;o=a[n];n++)if(o(m,h,i)){j.push(m);break}v&&(H=y,r=++f.el)}d&&((m=!o&&m)&&q--,g&&u.push(m))}q+=s;if(d&&s!==q){for(n=0;o=b[n];n++)o(u,p,h,i);if(g){if(q>0)for(;s--;)!u[s]&&!p[s]&&(p[s]=J.call(j));p=k(p)}K.apply(j,p),v&&!g&&p.length>0&&q+b.length>1&&c.uniqueSort(j)}return v&&(H=y,A=w),u};return f.el=0,d?N(f):f}function o(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function p(a,b,c,d,e){{var f,g,i,j,k,l=h(a);l.length}if(!d&&1===l.length){g=l[0]=l[0].slice(0);if(g.length>2&&"ID"===(i=g[0]).type&&9===b.nodeType&&!e&&t.relative[g[1].type]){b=t.find.ID(i.matches[0].replace(gb,""),b,e)[0];if(!b)return c;a=a.slice(g.shift().length)}for(f=hb.POS.test(a)?-1:g.length-1;f>=0;f--){i=g[f];if(t.relative[j=i.type])break;if((k=t.find[j])&&(d=k(i.matches[0].replace(gb,""),db.test(g[0].type)&&b.parentNode||b,e))){g.splice(f,1),a=d.length&&g.join("");if(!a)return K.apply(c,L.call(d,0)),c;break}}}return x(a,l)(d,b,e,c,db.test(a)),c}function q(){}var r,s,t,u,v,w,x,y,z,A,B=!0,C="undefined",D=("sizcache"+Math.random()).replace(".",""),E=String,F=a.document,G=F.documentElement,H=0,I=0,J=[].pop,K=[].push,L=[].slice,M=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},N=function(a,b){return a[D]=null==b||b,a},O=function(){var a={},b=[];return N(function(c,d){return b.push(c)>t.cacheLength&&delete a[b.shift()],a[c+" "]=d},a)},P=O(),Q=O(),R=O(),S="[\\x20\\t\\r\\n\\f]",T="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=T.replace("w","w#"),V="([*^$|!~]?=)",W="\\["+S+"*("+T+")"+S+"*(?:"+V+S+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+S+"*\\]",X=":("+T+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+W+")|[^:]|\\\\.)*|.*))\\)|)",Y=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+S+"*((?:-\\d)?\\d*)"+S+"*\\)|)(?=[^-]|$)",Z=new RegExp("^"+S+"+|((?:^|[^\\\\])(?:\\\\.)*)"+S+"+$","g"),_=new RegExp("^"+S+"*,"+S+"*"),ab=new RegExp("^"+S+"*([\\x20\\t\\r\\n\\f>+~])"+S+"*"),bb=new RegExp(X),cb=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,db=/[\x20\t\r\n\f]*[+~]/,eb=/h\d/i,fb=/input|select|textarea|button/i,gb=/\\(?!\\)/g,hb={ID:new RegExp("^#("+T+")"),CLASS:new RegExp("^\\.("+T+")"),NAME:new RegExp("^\\[name=['\"]?("+T+")['\"]?\\]"),TAG:new RegExp("^("+T.replace("w","w*")+")"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+X),POS:new RegExp(Y,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+S+"*(even|odd|(([+-]|)(\\d*)n|)"+S+"*(?:([+-]|)"+S+"*(\\d+)|))"+S+"*\\)|)","i"),needsContext:new RegExp("^"+S+"*[>+~]|"+Y,"i")},ib=function(a){var b=F.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},jb=ib(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),kb=ib(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==C&&"#"===a.firstChild.getAttribute("href")}),lb=ib(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),mb=ib(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),nb=ib(function(a){a.id=D+0,a.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",G.insertBefore(a,G.firstChild);var b=F.getElementsByName&&F.getElementsByName(D).length===2+F.getElementsByName(D+0).length;return s=!F.getElementById(D),G.removeChild(a),b});try{L.call(G.childNodes,0)[0].nodeType}catch(ob){L=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){return c(b,null,null,[a]).length>0},u=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=u(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=u(b);return c},v=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},w=c.contains=G.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:G.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},c.attr=function(a,b){var c,d=v(a);return d||(b=b.toLowerCase()),(c=t.attrHandle[b])?c(a):d||lb?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},t=c.selectors={cacheLength:50,createPseudo:N,match:hb,attrHandle:kb?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:s?function(a,b,c){if(typeof b.getElementById!==C&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==C&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==C&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:jb?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c},NAME:nb&&function(a,b){return typeof b.getElementsByName!==C?b.getElementsByName(name):void 0},CLASS:mb&&function(a,b,c){return typeof b.getElementsByClassName===C||c?void 0:b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(gb,""),a[3]=(a[4]||a[5]||"").replace(gb,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]),a},PSEUDO:function(a){var b,c;if(hb.CHILD.test(a[0]))return null;a[3]?a[2]=a[3]:(b=a[4])&&(bb.test(b)&&(c=h(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b);return a.slice(0,3)}},filter:{ID:s?function(a){return a=a.replace(gb,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(gb,""),function(b){var c=typeof b.getAttributeNode!==C&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(gb,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=P[D][a+" "];return b||(b=new RegExp("(^|"+S+")"+a+"("+S+"|$)"))&&P(a,function(a){return b.test(a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.substr(f.length-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.substr(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d){return"nth"===a?function(a){var b,e,f=a.parentNode;if(1===c&&0===d)return!0;if(f){e=0;for(b=f.firstChild;b;b=b.nextSibling)if(1===b.nodeType){e++;if(a===b)break}}return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var d,e=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return e[D]?e(b):e.length>1?(d=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?N(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=M.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:N(function(a){var b=[],c=[],d=x(a.replace(Z,"$1"));return d[D]?N(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:N(function(a){return function(b){return c(a,b).length>0}}),contains:N(function(a){return function(b){return(b.textContent||b.innerText||u(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){var b;a=a.firstChild;for(;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return eb.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:d("radio"),checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:e("submit"),reset:e("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return fb.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[0>c?c+b:c]}),even:f(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:f(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:f(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},y=G.compareDocumentPosition?function(a,b){return a===b?(z=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return z=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return g(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;j=i;for(;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return g(e[k],f[k]);return k===c?g(a,f[k],-1):g(e[k],b,1)},[0,0].sort(y),B=!z,c.uniqueSort=function(a){var b,c=[],d=1,e=0;z=B,a.sort(y);if(z){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},x=c.compile=function(a,b){var c,d=[],e=[],f=R[D][a+" "];if(!f){b||(b=h(a)),c=b.length;for(;c--;)f=m(b[c]),f[D]?d.push(f):e.push(f);f=R(a,n(e,d))}return f},F.querySelectorAll&&function(){var a,b=p,d=/'|\\/g,e=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,f=[":focus"],g=[":active"],i=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector;ib(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||f.push("\\["+S+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||f.push(":checked")}),ib(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&f.push("[*^$]="+S+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||f.push(":enabled",":disabled")}),f=new RegExp(f.join("|")),p=function(a,c,e,g,i){if(!g&&!i&&!f.test(a)){var j,k,l=!0,m=D,n=c,o=9===c.nodeType&&a;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){j=h(a),(l=c.getAttribute("id"))?m=l.replace(d,"\\$&"):c.setAttribute("id",m),m="[id='"+m+"'] ",k=j.length;for(;k--;)j[k]=m+j[k].join("");n=db.test(a)&&c.parentNode||c,o=j.join(",")}if(o)try{return K.apply(e,L.call(n.querySelectorAll(o),0)),e}catch(p){}finally{l||c.removeAttribute("id")}}return b(a,c,e,g,i)},i&&(ib(function(b){a=i.call(b,"div");try{i.call(b,"[test!='']:sizzle"),g.push("!=",X)}catch(c){}}),g=new RegExp(g.join("|")),c.matchesSelector=function(b,d){d=d.replace(e,"='$1']");if(!v(b)&&!g.test(d)&&!f.test(d))try{var h=i.call(b,d);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(j){}return c(d,null,null,[b]).length>0})}(),t.pseudos.nth=t.pseudos.eq,t.filters=q.prototype=t.pseudos,t.setFilters=new q,c.attr=$.attr,$.find=c,$.expr=c.selectors,$.expr[":"]=$.expr.pseudos,$.unique=c.uniqueSort,$.text=c.getText,$.isXMLDoc=c.isXML,$.contains=c.contains}(a);var Ib=/Until$/,Jb=/^(?:parents|prev(?:Until|All))/,Kb=/^.[^:#\[\.,]*$/,Lb=$.expr.match.needsContext,Mb={children:!0,contents:!0,next:!0,prev:!0};$.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return $(a).filter(function(){for(b=0,c=h.length;c>b;b++)if($.contains(h[b],this))return!0});g=this.pushStack("","find",a);for(b=0,c=this.length;c>b;b++){d=g.length,$.find(a,this[b],g);if(b>0)for(e=d;e<g.length;e++)for(f=0;d>f;f++)if(g[f]===g[e]){g.splice(e--,1);break}}return g},has:function(a){var b,c=$(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if($.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Lb.test(a)?$(a,this.context).index(this[0])>=0:$.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Lb.test(a)||"string"!=typeof a?$(a,b||this.context):0;e>d;d++){c=this[d];for(;c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:$.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}}return f=f.length>1?$.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?$.inArray(this[0],$(a)):$.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?$(a,b):$.makeArray(a&&a.nodeType?[a]:a),d=$.merge(this.get(),c);return this.pushStack(h(c[0])||h(d[0])?d:$.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),$.fn.andSelf=$.fn.addBack,$.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return $.dir(a,"parentNode")},parentsUntil:function(a,b,c){return $.dir(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return $.dir(a,"nextSibling")},prevAll:function(a){return $.dir(a,"previousSibling")},nextUntil:function(a,b,c){return $.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return $.dir(a,"previousSibling",c)},siblings:function(a){return $.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return $.sibling(a.firstChild)},contents:function(a){return $.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:$.merge([],a.childNodes)}},function(a,b){$.fn[a]=function(c,d){var e=$.map(this,b,c);return Ib.test(a)||(d=c),d&&"string"==typeof d&&(e=$.filter(d,e)),e=this.length>1&&!Mb[a]?$.unique(e):e,this.length>1&&Jb.test(a)&&(e=e.reverse()),this.pushStack(e,a,V.call(arguments).join(","))}}),$.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?$.find.matchesSelector(b[0],a)?[b[0]]:[]:$.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!$(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];
return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Nb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ob=/ jQuery\d+="(?:null|\d+)"/g,Pb=/^\s+/,Qb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rb=/<([\w:]+)/,Sb=/<tbody/i,Tb=/<|&#?\w+;/,Ub=/<(?:script|style|link)/i,Vb=/<(?:script|object|embed|option|style)/i,Wb=new RegExp("<(?:"+Nb+")[\\s/>]","i"),Xb=/^(?:checkbox|radio)$/,Yb=/checked\s*(?:[^=]|=\s*.checked.)/i,Zb=/\/(java|ecma)script/i,$b=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,_b={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ac=k(P),bc=ac.appendChild(P.createElement("div"));_b.optgroup=_b.option,_b.tbody=_b.tfoot=_b.colgroup=_b.caption=_b.thead,_b.th=_b.td,$.support.htmlSerialize||(_b._default=[1,"X<div>","</div>"]),$.fn.extend({text:function(a){return $.access(this,function(a){return a===b?$.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if($.isFunction(a))return this.each(function(b){$(this).wrapAll(a.call(this,b))});if(this[0]){var b=$(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each($.isFunction(a)?function(b){$(this).wrapInner(a.call(this,b))}:function(){var b=$(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=$.isFunction(a);return this.each(function(c){$(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){$.nodeName(this,"body")||$(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(a,this),"before",this.selector)}},after:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=$.clean(arguments);return this.pushStack($.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||$.filter(a,[c]).length)&&(!b&&1===c.nodeType&&($.cleanData(c.getElementsByTagName("*")),$.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&$.cleanData(a.getElementsByTagName("*"));for(;a.firstChild;)a.removeChild(a.firstChild)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return $.clone(this,a,b)})},html:function(a){return $.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Ob,""):b;if(!("string"!=typeof a||Ub.test(a)||!$.support.htmlSerialize&&Wb.test(a)||!$.support.leadingWhitespace&&Pb.test(a)||_b[(Rb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Qb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&($.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h(this[0])?this.length?this.pushStack($($.isFunction(a)?a():a),"replaceWith",a):this:$.isFunction(a)?this.each(function(b){var c=$(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=$(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;$(this).remove(),b?$(b).before(a):$(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],m=this.length;if(!$.support.checkClone&&m>1&&"string"==typeof j&&Yb.test(j))return this.each(function(){$(this).domManip(a,c,d)});if($.isFunction(j))return this.each(function(e){var f=$(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){e=$.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f);if(f){c=c&&$.nodeName(f,"tr");for(h=e.cacheable||m-1;m>i;i++)d.call(c&&$.nodeName(this[i],"table")?l(this[i],"tbody"):this[i],i===h?g:$.clone(g,!0,!0))}g=f=null,k.length&&$.each(k,function(a,b){b.src?$.ajax?$.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):$.error("no ajax"):$.globalEval((b.text||b.textContent||b.innerHTML||"").replace($b,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),$.buildFragment=function(a,c,d){var e,f,g,h=a[0];return c=c||P,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,1===a.length&&"string"==typeof h&&h.length<512&&c===P&&"<"===h.charAt(0)&&!Vb.test(h)&&($.support.checkClone||!Yb.test(h))&&($.support.html5Clone||!Wb.test(h))&&(f=!0,e=$.fragments[h],g=e!==b),e||(e=c.createDocumentFragment(),$.clean(a,c,e,d),f&&($.fragments[h]=g&&e)),{fragment:e,cacheable:f}},$.fragments={},$.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){$.fn[a]=function(c){var d,e=0,f=[],g=$(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;h>e;e++)d=(e>0?this.clone(!0):this).get(),$(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),$.extend({clone:function(a,b,c){var d,e,f,g;$.support.html5Clone||$.isXMLDoc(a)||!Wb.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bc.innerHTML=a.outerHTML,bc.removeChild(g=bc.firstChild));if(!($.support.noCloneEvent&&$.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||$.isXMLDoc(a))){n(a,g),d=o(a),e=o(g);for(f=0;d[f];++f)e[f]&&n(d[f],e[f])}if(b){m(a,g);if(c){d=o(a),e=o(g);for(f=0;d[f];++f)m(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,q,r=b===P&&ac,s=[];b&&"undefined"!=typeof b.createDocumentFragment||(b=P);for(e=0;null!=(g=a[e]);e++){"number"==typeof g&&(g+="");if(g){if("string"==typeof g)if(Tb.test(g)){r=r||k(b),l=b.createElement("div"),r.appendChild(l),g=g.replace(Qb,"<$1></$2>"),h=(Rb.exec(g)||["",""])[1].toLowerCase(),i=_b[h]||_b._default,j=i[0],l.innerHTML=i[1]+g+i[2];for(;j--;)l=l.lastChild;if(!$.support.tbody){m=Sb.test(g),n="table"!==h||m?"<table>"!==i[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes;for(f=n.length-1;f>=0;--f)$.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f])}!$.support.leadingWhitespace&&Pb.test(g)&&l.insertBefore(b.createTextNode(Pb.exec(g)[0]),l.firstChild),g=l.childNodes,l.parentNode.removeChild(l)}else g=b.createTextNode(g);g.nodeType?s.push(g):$.merge(s,g)}}l&&(g=l=r=null);if(!$.support.appendChecked)for(e=0;null!=(g=s[e]);e++)$.nodeName(g,"input")?p(g):"undefined"!=typeof g.getElementsByTagName&&$.grep(g.getElementsByTagName("input"),p);if(c){o=function(a){return!a.type||Zb.test(a.type)?d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a):void 0};for(e=0;null!=(g=s[e]);e++)$.nodeName(g,"script")&&o(g)||(c.appendChild(g),"undefined"!=typeof g.getElementsByTagName&&(q=$.grep($.merge([],g.getElementsByTagName("script")),o),s.splice.apply(s,[e+1,0].concat(q)),e+=q.length))}return s},cleanData:function(a,b){for(var c,d,e,f,g=0,h=$.expando,i=$.cache,j=$.support.deleteExpando,k=$.event.special;null!=(e=a[g]);g++)if(b||$.acceptData(e)){d=e[h],c=d&&i[d];if(c){if(c.events)for(f in c.events)k[f]?$.event.remove(e,f):$.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,$.deletedIds.push(d))}}}}),function(){var a,b;$.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=$.uaMatch(R.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),$.browser=b,$.sub=function(){function a(b,c){return new a.fn.init(b,c)}$.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof $&&!(d instanceof a)&&(d=a(d)),$.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(P);return a}}();var cc,dc,ec,fc=/alpha\([^)]*\)/i,gc=/opacity=([^)]*)/,hc=/^(top|right|bottom|left)$/,ic=/^(none|table(?!-c[ea]).+)/,jc=/^margin/,kc=new RegExp("^("+_+")(.*)$","i"),lc=new RegExp("^("+_+")(?!px)[a-z%]+$","i"),mc=new RegExp("^([-+])=("+_+")","i"),nc={BODY:"block"},oc={position:"absolute",visibility:"hidden",display:"block"},pc={letterSpacing:0,fontWeight:400},qc=["Top","Right","Bottom","Left"],rc=["Webkit","O","Moz","ms"],sc=$.fn.toggle;$.fn.extend({css:function(a,c){return $.access(this,function(a,c,d){return d!==b?$.style(a,c,d):$.css(a,c)},a,c,arguments.length>1)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"==typeof a;return $.isFunction(a)&&$.isFunction(b)?sc.apply(this,arguments):this.each(function(){(c?a:r(this))?$(this).show():$(this).hide()})}}),$.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cc(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":$.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=$.camelCase(c),j=a.style;c=$.cssProps[i]||($.cssProps[i]=q(j,i)),h=$.cssHooks[c]||$.cssHooks[i];if(d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];g=typeof d,"string"===g&&(f=mc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat($.css(a,c)),g="number");if(!(null==d||"number"===g&&isNaN(d))){"number"===g&&!$.cssNumber[i]&&(d+="px");if(!(h&&"set"in h&&(d=h.set(a,d,e))===b))try{j[c]=d}catch(k){}}}},css:function(a,c,d,e){var f,g,h,i=$.camelCase(c);return c=$.cssProps[i]||($.cssProps[i]=q(a.style,i)),h=$.cssHooks[c]||$.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=cc(a,c)),"normal"===f&&c in pc&&(f=pc[c]),d||e!==b?(g=parseFloat(f),d||$.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?cc=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h.getPropertyValue(c)||h[c],""===d&&!$.contains(b.ownerDocument,b)&&(d=$.style(b,c)),lc.test(d)&&jc.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:P.documentElement.currentStyle&&(cc=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),lc.test(e)&&!hc.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),$.each(["height","width"],function(a,b){$.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&ic.test(cc(a,"display"))?$.swap(a,oc,function(){return v(a,b,d)}):v(a,b,d):void 0},set:function(a,c,d){return t(a,c,d?u(a,b,d,$.support.boxSizing&&"border-box"===$.css(a,"boxSizing")):0)}}}),$.support.opacity||($.cssHooks.opacity={get:function(a,b){return gc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=$.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&""===$.trim(f.replace(fc,""))&&c.removeAttribute){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=fc.test(f)?f.replace(fc,e):f+" "+e}}),$(function(){$.support.reliableMarginRight||($.cssHooks.marginRight={get:function(a,b){return $.swap(a,{display:"inline-block"},function(){return b?cc(a,"marginRight"):void 0})}}),!$.support.pixelPosition&&$.fn.position&&$.each(["top","left"],function(a,b){$.cssHooks[b]={get:function(a,c){if(c){var d=cc(a,b);return lc.test(d)?$(a).position()[b]+"px":d}}}})}),$.expr&&$.expr.filters&&($.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!$.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||cc(a,"display"))},$.expr.filters.visible=function(a){return!$.expr.filters.hidden(a)}),$.each({margin:"",padding:"",border:"Width"},function(a,b){$.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;4>d;d++)f[a+qc[d]+b]=e[d]||e[d-2]||e[0];return f}},jc.test(a)||($.cssHooks[a+b].set=t)});var tc=/%20/g,uc=/\[\]$/,vc=/\r?\n/g,wc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,xc=/^(?:select|textarea)/i;$.fn.extend({serialize:function(){return $.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?$.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||xc.test(this.nodeName)||wc.test(this.type))}).map(function(a,b){var c=$(this).val();return null==c?null:$.isArray(c)?$.map(c,function(a){return{name:b.name,value:a.replace(vc,"\r\n")}}):{name:b.name,value:c.replace(vc,"\r\n")}}).get()}}),$.param=function(a,c){var d,e=[],f=function(a,b){b=$.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=$.ajaxSettings&&$.ajaxSettings.traditional);if($.isArray(a)||a.jquery&&!$.isPlainObject(a))$.each(a,function(){f(this.name,this.value)});else for(d in a)x(d,a[d],c,f);return e.join("&").replace(tc,"+")};var yc,zc,Ac=/#.*$/,Bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cc=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Dc=/^(?:GET|HEAD)$/,Ec=/^\/\//,Fc=/\?/,Gc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Hc=/([?&])_=[^&]*/,Ic=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Jc=$.fn.load,Kc={},Lc={},Mc=["*/"]+["*"];try{zc=Q.href}catch(Nc){zc=P.createElement("a"),zc.href="",zc=zc.href}yc=Ic.exec(zc.toLowerCase())||[],$.fn.load=function(a,c,d){if("string"!=typeof a&&Jc)return Jc.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),$.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),$.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?$("<div>").append(a.replace(Gc,"")).find(e):a)}),this},$.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){$.fn[b]=function(a){return this.on(b,a)}}),$.each(["get","post"],function(a,c){$[c]=function(a,d,e,f){return $.isFunction(d)&&(f=f||e,e=d,d=b),$.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),$.extend({getScript:function(a,c){return $.get(a,b,c,"script")},getJSON:function(a,b,c){return $.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?A(a,$.ajaxSettings):(b=a,a=$.ajaxSettings),A(a,b),a},ajaxSettings:{url:zc,isLocal:Cc.test(yc[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Mc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":$.parseJSON,"text xml":$.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(Kc),ajaxTransport:y(Lc),ajax:function(a,c){function d(a,c,d,g){var j,l,s,t,v,x=c;if(2!==u){u=2,i&&clearTimeout(i),h=b,f=g||"",w.readyState=a>0?4:0,d&&(t=B(m,w,d));if(a>=200&&300>a||304===a)m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&($.lastModified[e]=v),v=w.getResponseHeader("Etag"),v&&($.etag[e]=v)),304===a?(x="notmodified",j=!0):(j=C(m,t),x=j.state,l=j.data,s=j.error,j=!s);else{s=x;(!x||a)&&(x="error",0>a&&(a=0))}w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger("ajax"+(j?"Success":"Error"),[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--$.active||$.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=$.ajaxSetup({},c),n=m.context||m,o=n!==m&&(n.nodeType||n instanceof $)?$(n):$.event,p=$.Deferred(),q=$.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase();a=t[c]=t[c]||a,s[a]=b}return this},getAllResponseHeaders:function(){return 2===u?f:null},getResponseHeader:function(a){var c;if(2===u){if(!g){g={};for(;c=Bc.exec(f);)g[c[1].toLowerCase()]=c[2]}c=g[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return u||(m.mimeType=a),this},abort:function(a){return a=a||v,h&&h.abort(a),d(0,a),this}};p.promise(w),w.success=w.done,w.error=w.fail,w.complete=q.add,w.statusCode=function(a){if(a){var b;if(2>u)for(b in a)r[b]=[r[b],a[b]];else b=a[w.status],w.always(b)}return this},m.url=((a||m.url)+"").replace(Ac,"").replace(Ec,yc[1]+"//"),m.dataTypes=$.trim(m.dataType||"*").toLowerCase().split(bb),null==m.crossDomain&&(j=Ic.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]===yc[1]&&j[2]===yc[2]&&(j[3]||("http:"===j[1]?80:443))==(yc[3]||("http:"===yc[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=$.param(m.data,m.traditional)),z(Kc,m,c,w);if(2===u)return w;k=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Dc.test(m.type),k&&0===$.active++&&$.event.trigger("ajaxStart");if(!m.hasContent){m.data&&(m.url+=(Fc.test(m.url)?"&":"?")+m.data,delete m.data),e=m.url;if(m.cache===!1){var x=$.now(),y=m.url.replace(Hc,"$1_="+x);m.url=y+(y===m.url?(Fc.test(m.url)?"&":"?")+"_="+x:"")}}(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(e=e||m.url,$.lastModified[e]&&w.setRequestHeader("If-Modified-Since",$.lastModified[e]),$.etag[e]&&w.setRequestHeader("If-None-Match",$.etag[e])),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Mc+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(!m.beforeSend||m.beforeSend.call(n,w,m)!==!1&&2!==u){v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);h=z(Lc,m,c,w);if(h){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,h.send(s,d)}catch(A){if(!(2>u))throw A;d(-1,A)}}else d(-1,"No Transport");return w}return w.abort()},active:0,lastModified:{},etag:{}});var Oc=[],Pc=/\?/,Qc=/(=)\?(?=&|$)|\?\?/,Rc=$.now();$.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Oc.pop()||$.expando+"_"+Rc++;return this[a]=!0,a}}),$.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&Qc.test(j),m=k&&!l&&"string"==typeof i&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qc.test(i);return"jsonp"===c.dataTypes[0]||l||m?(f=c.jsonpCallback=$.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(Qc,"$1"+f):m?c.data=i.replace(Qc,"$1"+f):k&&(c.url+=(Pc.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||$.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Oc.push(f)),h&&$.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0}),$.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return $.globalEval(a),a}}}),$.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),$.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(e,f){c=P.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){(e||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var Sc,Tc=a.ActiveXObject?function(){for(var a in Sc)Sc[a](0,1)}:!1,Uc=0;$.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&D()||E()}:D,function(a){$.extend($.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}($.ajaxSettings.xhr()),$.support.ajax&&$.ajaxTransport(function(c){if(!c.crossDomain||$.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async);if(c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState)){d=b,g&&(i.onreadystatechange=$.noop,Tc&&delete Sc[g]);if(e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(n){}try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?4===i.readyState?setTimeout(d,0):(g=++Uc,Tc&&(Sc||(Sc={},$(a).unload(Tc)),Sc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var Vc,Wc,Xc=/^(?:toggle|show|hide)$/,Yc=new RegExp("^(?:([-+])=|)("+_+")([a-z%]*)$","i"),Zc=/queueHooks$/,$c=[J],_c={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=Yc.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){c=+f[2],d=f[3]||($.cssNumber[a]?"":"px");if("px"!==d&&h){h=$.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,$.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};$.Animation=$.extend(H,{tweener:function(a,b){$.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],_c[c]=_c[c]||[],_c[c].unshift(b)},prefilter:function(a,b){b?$c.unshift(a):$c.push(a)}}),$.Tween=K,K.prototype={constructor:K,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||($.cssNumber[c]?"":"px")},cur:function(){var a=K.propHooks[this.prop];return a&&a.get?a.get(this):K.propHooks._default.get(this)},run:function(a){var b,c=K.propHooks[this.prop];return this.pos=b=this.options.duration?$.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):K.propHooks._default.set(this),this}},K.prototype.init.prototype=K.prototype,K.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=$.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){$.fx.step[a.prop]?$.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[$.cssProps[a.prop]]||$.cssHooks[a.prop])?$.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},$.each(["toggle","show","hide"],function(a,b){var c=$.fn[b];$.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&$.isFunction(d)&&$.isFunction(e)?c.apply(this,arguments):this.animate(L(b,!0),d,e,f)}}),$.fn.extend({fadeTo:function(a,b,c,d){return this.filter(r).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=$.isEmptyObject(a),f=$.speed(b,c,d),g=function(){var b=H(this,$.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=$.timers,g=$._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Zc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(null==a||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&$.dequeue(this,a)})}}),$.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){$.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),$.speed=function(a,b,c){var d=a&&"object"==typeof a?$.extend({},a):{complete:c||!c&&b||$.isFunction(a)&&a,duration:a,easing:c&&b||b&&!$.isFunction(b)&&b};d.duration=$.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in $.fx.speeds?$.fx.speeds[d.duration]:$.fx.speeds._default;(null==d.queue||d.queue===!0)&&(d.queue="fx");return d.old=d.complete,d.complete=function(){$.isFunction(d.old)&&d.old.call(this),d.queue&&$.dequeue(this,d.queue)},d},$.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},$.timers=[],$.fx=K.prototype.init,$.fx.tick=function(){var a,c=$.timers,d=0;Vc=$.now();for(;d<c.length;d++)a=c[d],!a()&&c[d]===a&&c.splice(d--,1);c.length||$.fx.stop(),Vc=b},$.fx.timer=function(a){a()&&$.timers.push(a)&&!Wc&&(Wc=setInterval($.fx.tick,$.fx.interval))},$.fx.interval=13,$.fx.stop=function(){clearInterval(Wc),Wc=null},$.fx.speeds={slow:600,fast:200,_default:400},$.fx.step={},$.expr&&$.expr.filters&&($.expr.filters.animated=function(a){return $.grep($.timers,function(b){return a===b.elem}).length});var ad=/^(?:body|html)$/i;$.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){$.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;return l?(d=l.body)===k?$.offset.bodyOffset(k):(c=l.documentElement,$.contains(c,k)?("undefined"!=typeof k.getBoundingClientRect&&(j=k.getBoundingClientRect()),e=M(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j):void 0},$.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return $.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat($.css(a,"marginTop"))||0,c+=parseFloat($.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=$.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=$(a),h=g.offset(),i=$.css(a,"top"),j=$.css(a,"left"),k=("absolute"===d||"fixed"===d)&&$.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),$.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},$.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=ad.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat($.css(a,"marginTop"))||0,c.left-=parseFloat($.css(a,"marginLeft"))||0,d.top+=parseFloat($.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat($.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||P.body;a&&!ad.test(a.nodeName)&&"static"===$.css(a,"position");)a=a.offsetParent;return a||P.body})}}),$.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);$.fn[a]=function(e){return $.access(this,function(a,e,f){var g=M(a);if(f===b)return g?c in g?g[c]:g.document.documentElement[e]:a[e];g?g.scrollTo(d?$(g).scrollLeft():f,d?f:$(g).scrollTop()):a[e]=f;return void 0},a,e,arguments.length,null)}}),$.each({Height:"height",Width:"width"},function(a,c){$.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){$.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return $.access(this,function(c,d,e){var f;return $.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?$.css(c,d,e,h):$.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=$}(window);Array.prototype.indexOf=a;var b=window.$.noConflict(!0),c=b;b.msieVersion=function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}return a};window.XDomainRequest&&c.ajaxTransport(function(a){if(a.crossDomain&&a.async){if(a.timeout){a.xdrTimeout=a.timeout;delete a.timeout}var b;return{send:function(d,e){function f(a,d,f,g){b.onload=b.onerror=b.ontimeout=c.noop;clearTimeout(b.timeoutPointer);b=void 0;e(a,d,f,g)}b=new XDomainRequest;b.onload=function(){f(200,"OK",{text:b.responseText},"Content-Type: "+b.contentType)};b.onerror=function(){f(404,"Not Found")};b.onprogress=c.noop;b.ontimeout=function(){f(0,"timeout")};b.timeoutPointer=setTimeout(function(){b.ontimeout()},a.xdrTimeout||5e3);b.timeout=a.xdrTimeout||Number.MAX_VALUE;b.open(a.type,a.url);b.send(a.hasContent&&a.data||null)},abort:function(){if(b){b.onerror=c.noop;b.abort()}}}}});/*! jQuery Validation Plugin - v1.11.0 - 2/4/2013
    * https://github.com/jzaefferer/jquery-validation
    * Copyright (c) 2013 Jrn Zaefferer; Licensed MIT */
!function(a){a.extend(a.fn,{validate:function(b){if(this.length){var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)}b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b&=c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.classRules(d),a.validator.attributeRules(d),a.validator.dataRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){"string"==typeof d&&(d=d.split(/\s/)),a.each(d,function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b)!==!1;return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();return"radio"===c||"checkbox"===c?a("input[name='"+a(b).attr("name")+"']:checked").val():"string"==typeof d?d.replace(/\r/g,""):d},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d=a(b).rules(),e=!1,f=this.elementValue(b);for(var g in d){var h={method:g,parameters:d[g]};try{c=a.validator.methods[g].call(this,f,b,h.parameters);if("dependency-mismatch"===c){e=!0;continue}e=!1;if("pending"===c){this.toHide=this.toHide.not(this.errorsFor(b));return}if(!c)return this.formatAndAdd(b,h),!1}catch(i){throw this.settings.debug&&window.console&&console.log("Exception occured when checking element "+b.id+", check the '"+h.method+"' method.",i),i}}return e?void 0:(this.objectLength(d)&&this.successList.push(b),!0)},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.html(c)):(d=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(b)).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b);for(var e in a.validator.methods){var f;"required"===e?(f=d.get(0).getAttribute(e),""===f&&(f=!0),f=!!f):f=d.attr(e),f?c[e]=f:d[0].getAttribute("type")===e&&(c[e]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule-"+c.toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e!==!1){if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}else delete b[d]}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d;if(e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0||"true"===d;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.invalid[c.name]=!0,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10===0},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()}}}),a.format=a.validator.format}(c),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"===a.mode&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments)):c.apply(this,arguments)}}}(c),function(a){a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}(c);extole.define("jquery",[],function(){return b})}).call({});extole.define("jsuri",[],function(){/*! jsUri v1.1.1 | https://github.com/derek-watson/jsUri */
var a=function(a){"use strict";var b=function(a){var b,c,d,e,f=[];if("undefined"==typeof a||null===a||""===a)return f;0===a.indexOf("?")&&(a=a.substring(1)),c=a.toString().split(/[&;]/);for(b=0;b<c.length;b++)d=c[b],e=d.split("="),f.push([e[0],e[1]]);return f},c=b(a),d=function(){var a,b,d="";for(a=0;a<c.length;a++)b=c[a],d.length>0&&(d+="&"),d+=b.join("=");return d.length>0?"?"+d:d},e=function(a){a=decodeURIComponent(a),a=a.replace("+"," ");return a},f=function(a){var b,d;for(d=0;d<c.length;d++){b=c[d];if(e(a)===e(b[0]))return b[1]}},g=function(a){var b,d,f=[];for(b=0;b<c.length;b++)d=c[b],e(a)===e(d[0])&&f.push(d[1]);return f},h=function(a,b){var d,f,g,h,i=[];for(d=0;d<c.length;d++)f=c[d],g=e(f[0])===e(a),h=e(f[1])===e(b),(1===arguments.length&&!g||2===arguments.length&&!g&&!h)&&i.push(f);c=i;return this},i=function(a,b,d){3===arguments.length&&-1!==d?(d=Math.min(d,c.length),c.splice(d,0,[a,b])):arguments.length>0&&c.push([a,b]);return this},j=function(a,b,d){var f,g,j=-1;if(3===arguments.length){for(f=0;f<c.length;f++){g=c[f];if(e(g[0])===e(a)&&decodeURIComponent(g[1])===e(d)){j=f;break}}h(a,d).addParam(a,b,j)}else{for(f=0;f<c.length;f++){g=c[f];if(e(g[0])===e(a)){j=f;break}}h(a),i(a,b,j)}return this};return{getParamValue:f,getParamValues:g,deleteParam:h,addParam:i,replaceParam:j,toString:d}},b=function(c){"use strict";var d=!1,e=function(a){for(var b={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],e={name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},f=b[d?"strict":"loose"].exec(a),g={},h=14;h--;)g[c[h]]=f[h]||"";g[e.name]={},g[c[12]].replace(e.parser,function(a,b,c){b&&(g[e.name][b]=c)});return g},f=e(c||""),g=new a(f.query),h=function(a){"undefined"!=typeof a&&(f.protocol=a);return f.protocol},i=null,j=function(a){"undefined"!=typeof a&&(i=a);return null===i?-1!==f.source.indexOf("//"):i},k=function(a){"undefined"!=typeof a&&(f.userInfo=a);return f.userInfo},l=function(a){"undefined"!=typeof a&&(f.host=a);return f.host},m=function(a){"undefined"!=typeof a&&(f.port=a);return f.port},n=function(a){"undefined"!=typeof a&&(f.path=a);return f.path},o=function(b){"undefined"!=typeof b&&(g=new a(b));return g},p=function(a){"undefined"!=typeof a&&(f.anchor=a);return f.anchor},q=function(a){h(a);return this},r=function(a){j(a);return this},s=function(a){k(a);return this},t=function(a){l(a);return this},u=function(a){m(a);return this},v=function(a){n(a);return this},w=function(a){o(a);return this},x=function(a){p(a);return this},y=function(a){return o().getParamValue(a)},z=function(a){return o().getParamValues(a)},A=function(a,b){2===arguments.length?o().deleteParam(a,b):o().deleteParam(a);return this},B=function(a,b,c){3===arguments.length?o().addParam(a,b,c):o().addParam(a,b);return this},C=function(a,b,c){3===arguments.length?o().replaceParam(a,b,c):o().replaceParam(a,b);return this},D=function(){var a="",b=function(a){return null!==a&&""!==a};b(h())?(a+=h(),h().indexOf(":")!==h().length-1&&(a+=":"),a+="//"):j()&&b(l())&&(a+="//"),b(k())&&b(l())&&(a+=k(),k().indexOf("@")!==k().length-1&&(a+="@")),b(l())&&(a+=l(),b(m())&&(a+=":"+m())),b(n())?a+=n():b(l())&&(b(o().toString())||b(p()))&&(a+="/"),b(o().toString())&&(0!==o().toString().indexOf("?")&&(a+="?"),a+=o().toString()),b(p())&&(0!==p().indexOf("#")&&(a+="#"),a+=p());return a},E=function(){return new b(D())};return{protocol:h,hasAuthorityPrefix:j,userInfo:k,host:l,port:m,path:n,query:o,anchor:p,setProtocol:q,setHasAuthorityPrefix:r,setUserInfo:s,setHost:t,setPort:u,setPath:v,setQuery:w,setAnchor:x,getQueryParamValue:y,getQueryParamValues:z,deleteQueryParam:A,addQueryParam:B,replaceQueryParam:C,toString:D,clone:E}};return b});extole.define("widget-common/min-utils/ajax",["widget-common/min-utils/base"],function(a){var b=a.log,c={};c.create=function(){for(var a=!1,b=0;b<c.XMLHttpFactories.length;b++){try{a=c.XMLHttpFactories[b]()}catch(d){continue}break}return a};c.send=function(a,c){var d=Array.prototype.slice.call(arguments),e=(c.headers||{},c.url||""),f=c.data||"",g=(c.type||"get").toUpperCase(),h=c.complete||function(){},i=c.error||function(){b("Error with url "+e+"=",d.join(","))};if("undefined"!=typeof XDomainRequest){a=new XDomainRequest;a.open(g,e);a.onprogress=function(){};a.ontimeout=i;a.timeout=0}else a.open(g,e,!0);a.onerror=i;a.onload=function(){"function"==typeof h?h(a.responseText):b("Complete is not a function...so no callback for you.")};a.send(f)};c.XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];a.ajax=c;return a});extole.define("widget-common/min-utils/base",["JSON"],function(){var a=window.extole=window.extole||{};"undefined"!=typeof window.console&&(a.console=a.console||console);var b,c=function(a){return a&&"function"==typeof a&&a.call&&a.apply},d=function(a){if("[object Object]"!==String(a)||a.nodeType||a.window&&a.window==a)return!1;try{if(a.constructor&&!a.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(b){return!1}return!0},e=function(a){return a instanceof Array},f=function(a,b){var c,d,e,f;if(a.length)for(d=0;d<a.length;d++){c=b(a[d],d);if(c===!1)return!1}else{f=a;for(e in f)if(a.hasOwnProperty(e)){c=b(f[e],e);if(c===!1)return!1}}},g=function(a,b){var c=[];f(a,function(a,d){var e=b(a,d);void 0!==e&&c.push(e)});return c},h=function(a,b,c){var d;if(b){d=b.length;c=c?0>c?Math.max(0,d+c):c:0;for(;d>c;c++)if(c in b&&b[c]===a)return c}return-1},i=function(a,b){var c={};f(a,function(a,d){var e=b(a,d);void 0!==e&&(e.key&&e.value?c[e.key]=e.value:c[d]=e)});return c};b=function(){var a,f,g,h,i,j,k=arguments[0]||{},l=1,m=arguments.length,n=!1;if("boolean"==typeof k){n=k;k=arguments[1]||{};l=2}"object"==typeof k||c(k)||(k={});for(;m>l;l++){a=arguments[l];if(null!=a){for(f in a){g=k[f];h=a[f];if(k!==h)if(n&&h&&(d(h)||(i=e(h)))){if(i){i=!1;j=g&&e(g)?g:[]}else j=g&&d(g)?g:{};k[f]=b(n,j,h)}else void 0!==h&&(k[f]=h)}a.hasOwnProperty("constructor")&&a.constructor!=k.constructor&&(k.constructor=a.constructor)}}return k};var j=function(b){if(!a.suppressLog){var c=Array.prototype.slice.call(arguments,1);if(a.console)try{a.console[b].apply(a.console,c)}catch(d){for(var e=b.toUpperCase()+" - ",f=0;f<c.length;f++)e+=" "+c[f];a.console.log(e)}}},k=function(){var a=Array.prototype.slice.call(arguments);j.apply(this,["log"].concat(a))},l=function(a){k[a]=function(){var b=Array.prototype.slice.call(arguments);j.apply(this,[a].concat(b))}};l("error");l("debug");l("info");l("warn");var m=a.generalReady;if(!a.generalReady){m=a.generalReady=function(a,c){c=b(c||{},{readyTest:void 0});m.readies[a]||(m.readies[a]={ready:!1,funcs:[]});var d=function(b){var c;if(b||m.readies[a].ready)m.readies[a].funcs.push(b);else{m.readies[a].ready=!0;k.debug("** generalReady ** "+a+" - set ready")}if(m.readies[a].ready)for(;c=m.readies[a].funcs.pop();)setTimeout(c,0)};d.unset=function(){m.readies[a].ready=!1},d.set=function(){d()};d.isReady=function(){return m.readies[a].ready};return d};m.readies={}}var n=m("documentReady");!function(){document.addEventListener?DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,!1);n.set()}:document.attachEvent&&(DOMContentLoaded=function(){if("complete"===document.readyState){document.detachEvent("onreadystatechange",DOMContentLoaded);n.set()}});"complete"===document.readyState&&n.set();if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,!1);window.addEventListener("load",n.set,!1)}else if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",n.set)}}();var o=function(a){o.request(a);return o};b(o,{finishRequest:function(){o.onComplete&&o.onComplete();return o},errorRequest:function(){o.onError&&o.onError()},request:function(a){o.script=document.createElement("script");o.onerror=function(){o.errorRequest()};q(o.script,function(){o.finishRequest()});o.script.src=a;o._insertElement();return o},_insertElement:function(){var a=o.script;try{var b=document.getElementsByTagName("head")[0];b.insertBefore(a,b.firstChild)}catch(c){setTimeout(function(){o._insertElement()},50)}},andWhenItsLoaded:function(a){o.onComplete=a;return o},butIfItFails:function(a){o.onError=a;return o}});var p="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),q=function(a,b){b=b||function(){};if(!a.attachEvent||a.attachEvent.toString&&a.attachEvent.toString().indexOf("[native code")<0||p)a.addEventListener("load",b,!1);else{useInteractive=!0;a.attachEvent("onreadystatechange",b)}},r=Object.create||function(a){var b=function(){};b.prototype=a;var c=new b;return c},s=function(a,b){if(!b){b=a;a="undefined"}b="TYPE: "+a+"  MESSAGE: "+b;var c=new Error(b);c.type=a;throw c},t=function(a,b,c){c=c||function(){};try{b()}catch(d){if(d.type==a){c(d);return d}throw d}},u=function(a,b){return function(){return a.apply(b,arguments)}};return{log:k,ready:n,generalReady:m,insertScript:o,getScript:q,extend:b,map:g,inArray:h,mapObj:i,each:f,createObject:r,throwError:s,handleError:t,proxy:u}});extole.define("widget-common/min-utils/cookie",["widget-common/min-utils/base"],function(a){function b(a){return a}function c(b){try{return decodeURIComponent(b.replace(e," "))}catch(c){a.log("** minUtils.cookie.decoded ** Cookie error",c.message,c);return""}}function d(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return f.json?JSON.parse(a):a}catch(b){}}/*!
    * === based HEAVILY off of ===
    * jQuery Cookie Plugin v1.3.1
    * https://github.com/carhartl/jquery-cookie
    *
    * Copyright 2013 Klaus Hartl
    * Released under the MIT license
    * =================================
    */
var e=/\+/g,f=function(e,g,h){if(void 0!==g){h=a.extend({},f.defaults,h);if("number"==typeof h.expires){var i=h.expires,j=h.expires=new Date;j.setDate(j.getDate()+i)}g=f.json?JSON.stringify(g):String(g);return document.cookie=[f.raw?e:encodeURIComponent(e),"=",f.raw?g:encodeURIComponent(g),h.expires?"; expires="+h.expires.toUTCString():"",h.path?"; path="+h.path:"",h.domain?"; domain="+h.domain:"",h.secure?"; secure":""].join("")}for(var k=f.raw?b:c,l=document.cookie.split("; "),m=e?void 0:{},n=0,o=l.length;o>n;n++){var p=l[n].split("="),q=k(p.shift()),r=k(p.join("="));if(e&&e===q){m=d(r);break}e||(m[q]=d(r))}return m};f.defaults={};a.cookie=f;return f});extole.define("widget-common/min-utils/event-factory",["widget-common/min-utils/base"],function(a){var b=function(){var b=this;b.callbacks=[];var c={setFireContext:function(a){b.fireContext=a;return b}},d={fireCallbacks:function(){var c=arguments,d=b.fireContext||b;a.each(b.callbacks,function(a){a.apply(d,c)});return this},removeCallback:function(c){var d;a.each(b.callbacks,function(a,b){if(a==c){d=b;return!1}});void 0!==d&&b.callbacks.splice(d,1);return this},reset:function(){b.callbacks.splice(0,b.callbacks.length);return this},addCallback:function(a){b.callbacks.push(a);return this}};a.extend(b,c);a.extend(b,d);return b},c=function(){var a=new b;return a};return{create:c}});extole.define("widget-common/utils/css-utils",["Liquid","widget-common/min-utils/base"],function(a,b){window.extole=window.extole||{};var c=window.extole.cssUtils=window.extole.cssUtils||{id:void 0,firstInjectedCss:void 0,injectedCss:{}},d={};d.getId=function(){if(c.id)return c.id;c.id=(new Date).getTime();return d.getId()};d.getName=function(a){var b=d.getId();return a+b};d.injectCss=function(a){if("string"!=typeof a){b.log("Trying to inject something weird",a);return!1}a=d.parseString(a);if(!c.injectedCss[a]){c.injectedCss[a]=1;var e=document.createElement("style"),f=document.getElementsByTagName("head")[0];e.type="text/css";if(e.styleSheet)try{e.styleSheet.cssText="";f.appendChild(e);e.styleSheet.cssText=a}catch(g){e=document.createElement("style");e.type="text/css";e.styleSheet.cssText=a;f.appendChild(e)}else{e.appendChild(document.createTextNode(a));f.appendChild(e)}}d.reloadStylesheet()};d.reloadStylesheet=function(){var a=document.createElement("style"),b=document.getElementsByTagName("head")[0];fakeText='[class*="icon"]:before{content:""},[class*="icon"]:after{content:""}';a.type="text/css";a.styleSheet?a.styleSheet.cssText="":a.appendChild(document.createTextNode(""));b.appendChild(a);setTimeout(function(){b.removeChild(a)},0)};d.parseString=function(a){var b=d.getId();a=String(a).replace(/_id_/g,b);return a};return d});extole.define("widget-common/utils/loader-utils",["jquery","widget-common/utils/location-utils","widget-common/min-utils/base","widget-common/min-utils/cookie"],function(a,b,c){window.extole=window.extole||{};window.extole.loader=window.extole.loader||{};var d,e=(Array.prototype.slice,function(d,e,f){f=f||{};var g={},h=!1;g.start=function(){a.each(d,function(a,b){g.handleUri(b)})};g.handleUri=function(d){window.extole.loader[d]=window.extole.loader[d]||{};if(void 0!==window.extole.loader[d].content)g.done();else if(void 0!==window.extole.loader[d].xhr&&4==window.extole.loader[d].xhr.readyState)setTimeout(function(){g.checkUri()},250);else{window.extole.loader[d].errorTimes=0;var e=function(){var h=d,i=!0;if(c.cookie("xtl_preview")){i=!1;var j=h.split("?"),k=j[1],l={};k&&(l=b.deserialize(k));l.xtl_preview=1;k="";c.each(l,function(a,b){k+="&"+encodeURIComponent(b)+"="+encodeURIComponent(a)});k="?"+k.substring(1);h=j[0]+k}window.extole.loader[d].xhr=a.ajax(h,a.extend({crossDomain:!0,dataType:"text",cache:i,success:function(a){window.extole.loader[d].content=a;g.done()},error:function(a,b,f){window.extole.loader[d].errorTimes+=1;window.extole.loader[d].errorTimes>3?c.log("In ready,  couldn't fetch "+d+" - "+b+", "+f):setTimeout(e,250)}},f))};e()}};g.done=function(){var a,b,c=[];for(a=0;a<d.length;a++){b=d[a];if(!window.extole.loader[b])return!1;if(void 0===window.extole.loader[b].content)return!1;c.push(window.extole.loader[b].content)}if(!h){e.apply(this,c);h=!0}};g.start()});d=function(b,c,d){e([b],c,a.extend({dataType:null},d||{}))};var f=function(a,b){if("string"!=typeof a)return c.getScript(a,b);var d=a;a=document.createElement("script");c.getScript(a,b);a.src=d;document.getElementsByTagName("head")[0].appendChild(a)},g=b.deserialize(location.search);g.xtl_preview&&c.cookie("xtl_preview","1",{path:"/"});return{ready:e,errorFetch:d,getScript:f}});extole.define("widget-common/utils/location-utils",["widget-common/min-utils/base"],function(a){var b;b=function(b){if(!b)return{};for(var c={},d=b.substring(1).split("&"),e=0;e<d.length;e++)!function(b){var d=b.substring(0,b.indexOf("=")),e=b.substring(b.indexOf("=")+1);if(d&&e)try{c[d]=decodeURIComponent(e)}catch(f){a.log("Bad Query Param "+d+" : "+e)}}(d[e]);return c};return{deserialize:b}});extole.define("widget-common/utils/resource-utils",["Sizzle","widget-common/utils/location-utils"],function(a,b){var c=function(b){var c;try{c=a(b)[0]}catch(d){}return c},d=function(a,b){var d=c(a),e="";if(!d)return"";"::content::"==b?e=d.textContent||d.innerText||d.innerHTML:"string"==typeof b&&(e=d[b]?d[b]:d.getAttribute?d.getAttribute(b):"");return e},e=function(a){for(var b=location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(decodeURIComponent(e[0])==a)return decodeURIComponent(e[1])}return""},f=function(a){var c="",e=b.deserialize(location.search);"element"==a.resource_type?c=d(a.selector,a.attr):"query_param"==a.resource_type&&(c=e[a.param_name]);return c},g=function(a){a=a||[];var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=f(a[c]));return b};return{getElementFromSelector:c,getValueFromSelector:d,getValueFromRule:f,getValuesFromRules:g,getQueryParameterByName:e}});extole.define("widget-common/utils/template-utils",["Liquid","widget-common/utils/css-utils"],function(a,b){var c={};c.parseTemplate=function(a){return"string"==typeof a?b.parseString(a):a};c.sanitizeTemplates=function(a){for(var b in a)if(a.hasOwnProperty(b)){template=c.parseTemplate(a[b]);a[b]=template}};var d=function(a){return a===Object(a)};c.resolveTemplateVars=function(b,e){c.sanitizeTemplates(b);for(var f in b)if(b.hasOwnProperty(f)){var g=b[f];d(g)?b[f]=c.resolveTemplateVars(g,e):"string"==typeof g&&void 0!==g&&null!==g&&""!==g&&(b[f]=a.parse(g).render(e))}return b};return c});extole.define("widget-common/jquery-plugins",["jquery","Underscore","widget-common/utils/location-utils","widget-common/min-utils/cookie"],function(a,b,c,d){var e=Array.prototype.slice;a.fn.getHighestZIndex=function(){var b=1;this.each(function(){var c=a(this),d=parseInt(c.css("zIndex"),10);!isNaN(d)&&d>b&&(b=d)});return b};a.fn.center=function(b){b=a.extend({position:"absolute"},b);this.css("position",b.position);this.css("top",Math.max(0,(a(window).height()-a(this).outerHeight())/2+a(window).scrollTop())+"px");this.css("left",Math.max(0,(a(window).width()-a(this).outerWidth())/2+a(window).scrollLeft())+"px");return this};a.fn.indexBySelector=function(a){for(var b=-1,c=this,d=c.parent().children(a),e=0;e<d.length;e++)if(d[e]==c[0])return e;return b};a.deserialize=c.deserialize;a.cookie=d;a.removeCookie=function(b,c){if(void 0!==a.cookie(b)){a.cookie(b,"",a.extend({},c,{expires:-1}));return!0}return!1};a.fn.caretPosition=function(b){var c,d,e=this,f=function(){return-1},g=["input","select"];if(e.length<=0||a.inArray(e[0].nodeName.toLowerCase(),g)<=-1)return f();c=e[0];if(void 0!==b){if(c.setSelectionRange){c.focus();c.setSelectionRange(b,b)}else if(c.createTextRange){d=c.createTextRange();d.collapse(!0);d.moveEnd("character",b);d.moveStart("character",b);d.select()}}else{if(document.selection){c.focus();d=document.selection.createRange();d.moveStart("character",-c.value.length);return d.text.length}if(void 0!==c.selectionStart)return c.selectionStart}return f()};var f={dataKey:"tagInputData",defaults:{maxLength:10,maxLengthReplace:"...",newTagNameTemplate:"<%= name %>_tag",newTagInputHtml:'<input type="text" />',newTagInputClass:"new-tag-input",newTagLabel:"new tag",newTagLabelHtml:"<label></label>",newTagLabelClass:"new-tag-label",newTagHtml:void 0,tagHtml:"<span></span>",newTagClass:"new-tag",tagClass:"tag",tagValueHtml:"<span></span>",tagValueClass:"tag-value",tagRemoveButtonHtml:"<span></span>",tagRemoveButtonClass:"tag-remove-button",tagContainerHtml:"<div></div>",tagContainerClass:"tag-container",validator:function(){return!0},onError:function(){},maxDisplayTags:void 0,showAllButtonHtml:'<a href="#"></a>',showAllButtonClass:"show-all-button",showAllButtonTemplate:"Show <%= number %>",showAllButtonHiddenText:"Hide",classFilter:function(a){return a}}};f.init=function(c){c=a.extend({},f.defaults,c||{});return this.each(function(){var d=a(this),e=d.data(f.dataKey),g=c.classFilter;if(!e){e={options:c,element:d,isShowing:!1,tags:[]};d.data(f.dataKey,e)}d.hide().attr("tabindex","-1");var h=a(c.newTagInputHtml),i=a(c.newTagLabelHtml).html(c.newTagLabel),j=a(c.newTagHtml||c.tagHtml),k=a(c.tagContainerHtml);h.attr("name",b.template(c.newTagNameTemplate,{name:d.attr("name")}));j.append(h).append(i);k.append(j);k.insertAfter(d);i.addClass(g(c.newTagLabelClass));h.addClass(g(c.newTagInputClass));j.addClass(g(c.newTagClass)).addClass(g(c.tagClass));k.addClass(g(c.tagContainerClass));e.container&&e.container.remove();e.container=k;e.newTagInput=h;e.showAllButtonTemplate=b.template(c.showAllButtonTemplate);var l=a(c.showAllButtonHtml).html(e.showAllButtonTemplate({number:0}));l.appendTo(e.container).addClass(g(c.showAllButtonClass)).hide().attr("tabindex","-1");e.showAllButton=l;f.addEvents.call(d);f.render.call(d)})};f.addEvents=function(){var b=a(this),c=b.data(f.dataKey),d=c.options,e=d.classFilter,g=c.container,h=c.newTagInput,i=c.showAllButton,j=function(a){a.preventDefault();a.stopPropagation();var c=h.val();f.addTag.call(b,c)},k=3,l=0;h.on({focus:function(){g.find("label").css("display","none")},blur:function(){j.apply(this,arguments);var a=g.find("span").length;3>a&&g.find("label").css("display","block")},keydown:function(g){{var h=(c.container,c.newTagInput);c.container.find(">."+e(d.tagClass)).not("."+e(d.newTagClass))}l=k+a(this).val().length;a(this).css("width",l+"em");var i={ENTER:13,SPACE:32,COMMA:188,BACKSPACE:8};if(g.keyCode==i.ENTER||g.keyCode==i.SPACE||g.keyCode==i.COMMA){l=k;a(this).css("width",l+"em");j(g)}else f.isValid.call(b,h.val())&&d.onErrorHide.call(b)}});i.on("click",function(a){a.stopPropagation();a.preventDefault();c.isShowing=!c.isShowing;f.render.call(b)});g.on("click",function(){h.focus()});b.on("change",function(){b.trigger("blur")})};f.render=function(){var b=a(this),c=b.data(f.dataKey),d=c.options,e=d.classFilter,g=c.container,h=c.newTagInput.closest("."+e(d.tagClass)),i=b.val().split(" ");tagsLen=i.length;1==tagsLen&&g.find("label").css("width","30em");lastTagLen=b.val().length;labelDisp="none";1>lastTagLen&&2>tagsLen&&(labelDisp="block");g.find("label").css("display",labelDisp);c.newTagInput.val("");g.find("."+e(d.tagClass)).not(h).remove();a.each(i,function(a,e){if(e){var g=f.makeTag.call(b,e);g.insertBefore(h);void 0!==d.maxDisplayTags&&a+1>d.maxDisplayTags&&!c.isShowing&&g.hide()}});if(void 0!==d.maxDisplayTags&&i.length>d.maxDisplayTags){c.showAllButton.html(c.isShowing?d.showAllButtonHiddenText:c.showAllButtonTemplate({number:i.length}));c.showAllButton.show()}else c.showAllButton.hide()};f.makeTag=function(b){var c=a(this),d=c.data(f.dataKey),e=d.options,g=e.classFilter,h=a(e.tagValueHtml).html(b).addClass(g(e.tagValueClass)).data(f.dataKey+"_text",b),i=a(e.tagHtml).addClass(g(e.tagClass)),j=a(e.tagRemoveButtonHtml).addClass(g(e.tagRemoveButtonClass));b.length>e.maxLength&&h.html(b.substring(0,e.maxLength-e.maxLengthReplace.length)+e.maxLengthReplace);j.on("click",function(b){b.preventDefault();var d=a(b.target),e=d.parent();f.removeTag.call(c,e)});i.append(h).append(j);return i};f.removeTag=function(b){var c=a(this),d=c.data(f.dataKey),e=d.options,g=e.classFilter,h=0;a.each(d.container.find(">."+g(e.tagClass)),function(c,d){var e=a(d);e[0]==b[0]&&(h=c)});var i=c.val().split(" ");i.splice(h,1);c.val(i.join(" "));f.render.call(c)};f.addTag=function(b,c){c=void 0===c?!1:c;var d=a(this),e=d.data(f.dataKey),g=e.options;if(""!==b)if(f.isValid.call(d,b)){d.val(a.trim(d.val()+" "+b.replace(" ","")));d.trigger("change");c||f.render.call(d)}else g.onErrorShow.call(d);else g.onErrorHide.call(d)};f.isValid=function(b){var c=a(this),d=c.data(f.dataKey),e=d.options;return e.validator(b)};a.fn.tagInput=function(){var a=e.call(arguments,0);"string"==typeof a[0]?f[a[0]].apply(this,a.slice(1)):f.init.call(this,a[0])};var g=a.fn.show,h={form:1};a.fn.show=function(){var b,c,d=this,e=0;g.apply(this,arguments);for(;e<d.length;e++){c=d[e];b=c.nodeName.toLowerCase();h[b]&&a(c).css("display","block")}return this};return a});extole.define("Liquid",[],function(){var a={author:"M@ McCray <darthapo@gmail.com>",version:"1.2.1",readTemplateFile:function(){throw"This liquid context does not allow includes."},registerFilters:function(b){a.Template.registerFilter(b)},parse:function(b){return a.Template.parse(b)}};Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1});Array.prototype.clear||(Array.prototype.clear=function(){this.length=0});Array.prototype.map||(Array.prototype.map=function(a){var b=this.length;if("function"!=typeof a)throw"Array.map requires first argument to be a function";for(var c=new Array(b),d=arguments[1],e=0;b>e;e++)e in this&&(c[e]=a.call(d,this[e],e,this));return c});Array.prototype.first||(Array.prototype.first=function(){return this[0]});Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]});Array.prototype.flatten||(Array.prototype.flatten=function(){for(var a=this.length,b=[],c=0;a>c;c++)this[c]instanceof Array?b=b.concat(this[c]):b.push(this[c]);return b});Array.prototype.each||(Array.prototype.each=function(a){var b=this.length;if("function"!=typeof a)throw"Array.each requires first argument to be a function";for(var c=arguments[1],d=0;b>d;d++)d in this&&a.call(c,this[d],d,this);return null});Array.prototype.include||(Array.prototype.include=function(a){this.length;return this.indexOf(a)>=0});String.prototype.capitalize||(String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()});String.prototype.strip||(String.prototype.strip=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});a.extensions={};a.extensions.object={};a.extensions.object.update=function(a){for(var b in a)this[b]=a[b];return this};a.extensions.object.hasKey=function(a){return!!this[a]};a.extensions.object.hasValue=function(a){for(var b in this)if(this[b]==a)return!0;return!1};var b=function(){var a=!1,b=/xyz/.test(function(){})?/\b_super\b/:/.*/,c=function(){};c.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)f[g]="function"==typeof c[g]&&"function"==typeof e[g]&&b.test(c[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);this._super=c;return d}}(g,c[g]):c[g];d.prototype=f;d.prototype.constructor=d;d.extend=arguments.callee;return d};return c},c=b();a.Tag=c.extend({init:function(a,b,c){this.tagName=a;this.markup=b;this.nodelist=this.nodelist||[];this.parse(c)},parse:function(){},render:function(){return""}});a.Block=a.Tag.extend({init:function(a,b,c){this.blockName=a;this.blockDelimiter="end"+this.blockName;this._super(a,b,c)},parse:function(b){this.nodelist||(this.nodelist=[]);this.nodelist.clear();var c=b.shift();b.push("");for(;b.length;){if(/^\{\%/.test(c)){var d=c.match(/^\{\%\s*(\w+)\s*(.*)?\%\}$/);if(!d)throw"Tag '"+c+"' was not properly terminated with: %}";if(this.blockDelimiter==d[1]){this.endTag();return}d[1]in a.Template.tags?this.nodelist.push(new a.Template.tags[d[1]](d[1],d[2],b)):this.unknownTag(d[1],d[2],b)}else this.nodelist.push(/^\{\{/.test(c)?this.createVariable(c):c);c=b.shift()}this.assertMissingDelimitation()},endTag:function(){},unknownTag:function(a){switch(a){case"else":throw this.blockName+" tag does not expect else tag";case"end":throw"'end' is not a valid delimiter for "+this.blockName+" tags. use "+this.blockDelimiter;default:throw"Unknown tag: "+a}},createVariable:function(b){var c=b.match(/^\{\{(.*)\}\}$/);if(c)return new a.Variable(c[1]);throw"Variable '"+b+"' was not properly terminated with: }}"},render:function(a){return this.renderAll(this.nodelist,a)},renderAll:function(a,b){return(a||[]).map(function(a){var c="";try{c=a.render?a.render(b):a}catch(d){c=b.handleError(d)}return c})},assertMissingDelimitation:function(){throw this.blockName+" tag was never closed"}});a.Document=a.Block.extend({init:function(a){this.blockDelimiter=[];this.parse(a)},assertMissingDelimitation:function(){}});a.Strainer=c.extend({init:function(a){this.context=a},respondTo:function(b){b=b.toString();return b.match(/^__/)?!1:a.Strainer.requiredMethods.include(b)?!1:b in this}});a.Strainer.filters={};a.Strainer.globalFilter=function(b){for(var c in b)a.Strainer.filters[c]=b[c]};a.Strainer.requiredMethods=["respondTo","context"];a.Strainer.create=function(b){var c=new a.Strainer(b);for(var d in a.Strainer.filters)c[d]=a.Strainer.filters[d];return c};a.Context=c.extend({init:function(b,c,d){this.scopes=[b?b:{}];this.registers=c?c:{};this.errors=[];this.rethrowErrors=d;this.strainer=a.Strainer.create(this)},get:function(a){return this.resolve(a)},set:function(a,b){this.scopes[0][a]=b},hasKey:function(a){return this.resolve(a)?!0:!1},push:function(){var a={};this.scopes.unshift(a);return a},merge:function(b){return a.extensions.object.update.call(this.scopes[0],b)},pop:function(){if(1==this.scopes.length)throw"Context stack error";return this.scopes.shift()},stack:function(a,b){var c=null;this.push();try{c=a.apply(b?b:this.strainer)}finally{this.pop()}return c},invoke:function(a,b){if(this.strainer.respondTo(a)){var c=this.strainer[a].apply(this.strainer,b);return c}return 0==b.length?null:b[0]},resolve:function(a){switch(a){case null:case"nil":case"null":case"":return null;case"true":return!0;case"false":return!1;case"blank":case"empty":return"";default:if(/^'(.*)'$/.test(a))return a.replace(/^'(.*)'$/,"$1");if(/^"(.*)"$/.test(a))return a.replace(/^"(.*)"$/,"$1");if(/^(\d+)$/.test(a))return parseInt(a.replace(/^(\d+)$/,"$1"));if(/^(\d[\d\.]+)$/.test(a))return parseFloat(a.replace(/^(\d[\d\.]+)$/,"$1"));if(/^\((\S+)\.\.(\S+)\)$/.test(a)){var b=a.match(/^\((\S+)\.\.(\S+)\)$/),c=parseInt(b[1]),d=parseInt(b[2]),e=[];if(isNaN(c)||isNaN(d)){c=b[1].charCodeAt(0);d=b[2].charCodeAt(0);for(var f=d-c+1,g=0;f>g;g++)e.push(String.fromCharCode(g+c))}else for(var f=d-c+1,g=0;f>g;g++)e.push(g+c);return e}var h=this.variable(a);return h}},findVariable:function(a){for(var b=0;b<this.scopes.length;b++){var c=this.scopes[b];if(c&&"undefined"!=typeof c[a]){var d=c[a];if("function"==typeof d){d=d.apply(this);c[a]=d}d&&"object"==typeof d&&"toLiquid"in d&&(d=d.toLiquid());d&&"object"==typeof d&&"setContext"in d&&d.setContext(self);return d}}return null},variable:function(a){if("string"!=typeof a)return null;var b=a.match(/\[[^\]]+\]|(?:[\w\-]\??)+/g),c=b.shift(),d=c.match(/^\[(.*)\]$/);d&&(c=this.resolve(d[1]));var e=this.findVariable(c),f=this;e&&b.each(function(a){var b=a.match(/^\[(.*)\]$/);if(b){var a=f.resolve(b[1]);"function"==typeof e[a]&&(e[a]=e[a].apply(this));e=e[a];"object"==typeof e&&"toLiquid"in e&&(e=e.toLiquid())}else{if(("object"==typeof e||"hash"==typeof e)&&a in e){var c=e[a];"function"==typeof c&&(c=e[a]=c.apply(f));e="object"==typeof c&&"toLiquid"in c?c.toLiquid():c}else if(/^\d+$/.test(a)){var d=parseInt(a);"function"==typeof e[d]&&(e[d]=e[d].apply(f));e="object"==typeof e[d]&&"object"==typeof e[d]&&"toLiquid"in e[d]?e[d].toLiquid():e[d]}else{if(!e||"function"!=typeof e[a]||!["length","size","first","last"].include(a))return e=null;e=e[a].apply(a);"toLiquid"in e&&(e=e.toLiquid())}"object"==typeof e&&"setContext"in e&&e.setContext(f)}});return e},addFilters:function(a){a=a.flatten();a.each(function(a){if("object"!=typeof a)throw"Expected object but got: "+typeof a;this.strainer.addMethods(a)})},handleError:function(a){this.errors.push(a);if(this.rethrowErrors)throw a;return"Liquid error: "+(a.message?a.message:a.description?a.description:a)}});a.Template=c.extend({init:function(){this.root=null;this.registers={};this.assigns={};this.errors=[];this.rethrowErrors=!1},parse:function(b){this.root=new a.Document(a.Template.tokenize(b));return this},render:function(){if(!this.root)return"";var b={ctx:arguments[0],filters:arguments[1],registers:arguments[2]},c=null;if(b.ctx instanceof a.Context){c=b.ctx;this.assigns=c.assigns;this.registers=c.registers}else{b.ctx&&a.extensions.object.update.call(this.assigns,b.ctx);b.registers&&a.extensions.object.update.call(this.registers,b.registers);c=new a.Context(this.assigns,this.registers,this.rethrowErrors)}b.filters&&c.addFilters(arg.filters);try{return this.root.render(c).join("")}finally{this.errors=c.errors}},renderWithErrors:function(){var a=this.rethrowErrors;this.rethrowErrors=!0;var b=this.render.apply(this,arguments);this.rethrowErrors=a;return b}});a.Template.tags={};a.Template.registerTag=function(b,c){a.Template.tags[b]=c};a.Template.registerFilter=function(b){a.Strainer.globalFilter(b)};a.Template.tokenize=function(a){var b=a.split(/(\{\%.*?\%\}|\{\{.*?\}\}?)/);""==b[0]&&b.shift();return b};a.Template.parse=function(b){return(new a.Template).parse(b)};a.Variable=c.extend({init:function(a){this.markup=a;this.name=null;this.filters=[];var b=this,c=a.match(/\s*("[^"]+"|'[^']+'|[^\s,|]+)/);if(c){this.name=c[1];var d=a.match(/\|\s*(.*)/);if(d){var e=d[1].split(/\|/);e.each(function(a){var c=a.match(/\s*(\w+)/);if(c){var d=c[1],e=[];(a.match(/(?:[:|,]\s*)("[^"]+"|'[^']+'|[^\s,|]+)/g)||[]).flatten().each(function(a){var b=a.match(/^[\s|:|,]*(.*?)[\s]*$/);b&&e.push(b[1])});b.filters.push([d,e])}})}}},render:function(a){if(null==this.name)return"";var b=a.get(this.name);this.filters.each(function(c){var d=c[0],e=(c[1]||[]).map(function(b){return a.get(b)});e.unshift(b);b=a.invoke(d,e)});return b}});a.Condition=c.extend({init:function(a,b,c){this.left=a;this.operator=b;this.right=c;this.childRelation=null;this.childCondition=null;this.attachment=null},evaluate:function(b){b=b||new a.Context;var c=this.interpretCondition(this.left,this.right,this.operator,b);switch(this.childRelation){case"or":return c||this.childCondition.evaluate(b);case"and":return c&&this.childCondition.evaluate(b);default:return c}},or:function(a){this.childRelation="or";this.childCondition=a},and:function(a){this.childRelation="and";this.childCondition=a},attach:function(a){this.attachment=a;return this.attachment},isElse:!1,interpretCondition:function(b,c,d,e){if(!d)return e.get(b);b=e.get(b);c=e.get(c);d=a.Condition.operators[d];if(!d)throw"Unknown operator "+d;var f=d(b,c);return f},toString:function(){return"<Condition "+this.left+" "+this.operator+" "+this.right+">"}});a.Condition.operators={"==":function(a,b){return a==b},"=":function(a,b){return a==b},"!=":function(a,b){return a!=b},"<>":function(a,b){return a!=b},"<":function(a,b){return b>a},">":function(a,b){return a>b},"<=":function(a,b){return b>=a},">=":function(a,b){return a>=b},contains:function(a,b){return a.include(b)},hasKey:function(b,c){return a.extensions.object.hasKey.call(b,c)},hasValue:function(b,c){return a.extensions.object.hasValue.call(b,c)}};a.ElseCondition=a.Condition.extend({isElse:!0,evaluate:function(){return!0},toString:function(){return"<ElseCondition>"}});a.Drop=c.extend({setContext:function(a){this.context=a},beforeMethod:function(){},invokeDrop:function(a){var b=this.beforeMethod();!b&&a in this&&(b=this[a].apply(this));return b},hasKey:function(){return!0}});var d=function(a){if("function"!=typeof a)throw"Object.each requires first argument to be a function";var b=0,c=arguments[1];for(var d in this){var e=this[d],f=[d,e];f.key=d;f.value=e;a.call(c,f,b,this);b++}return null};a.Template.registerTag("assign",a.Tag.extend({tagSyntax:/((?:\(?[\w\-\.\[\]]\)?)+)\s*=\s*((?:"[^"]+"|'[^']+'|[^\s,|]+)+)/,init:function(a,b,c){var d=b.match(this.tagSyntax);if(!d)throw"Syntax error in 'assign' - Valid syntax: assign [var] = [source]";this.to=d[1];this.from=d[2];this._super(a,b,c)},render:function(a){a.scopes.last()[this.to.toString()]=a.get(this.from);return""}}));a.Template.registerTag("cache",a.Block.extend({tagSyntax:/(\w+)/,init:function(a,b,c){var d=b.match(this.tagSyntax);if(!d)throw"Syntax error in 'cache' - Valid syntax: cache [var]";this.to=d[1];this._super(a,b,c)},render:function(a){var b=this._super(a);a.scopes.last()[this.to]=[b].flatten().join("");return""}}));a.Template.registerTag("capture",a.Block.extend({tagSyntax:/(\w+)/,init:function(a,b,c){var d=b.match(this.tagSyntax);if(!d)throw"Syntax error in 'capture' - Valid syntax: capture [var]";this.to=d[1];this._super(a,b,c)},render:function(a){var b=this._super(a);a.set(this.to,[b].flatten().join(""));return""}}));a.Template.registerTag("case",a.Block.extend({tagSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)/,tagWhenSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)(?:(?:\s+or\s+|\s*\,\s*)("[^"]+"|'[^']+'|[^\s,|]+.*))?/,init:function(a,b,c){this.blocks=[];this.nodelist=[];var d=b.match(this.tagSyntax);if(!d)throw"Syntax error in 'case' - Valid syntax: case [condition]";this.left=d[1];this._super(a,b,c)},unknownTag:function(a,b,c){switch(a){case"when":this.recordWhenCondition(b);break;case"else":this.recordElseCondition(b);break;default:this._super(a,b,c)}},render:function(a){var b=this,c=[],d=!0;a.stack(function(){for(var e=0;e<b.blocks.length;e++){var f=b.blocks[e];if(f.isElse){1==d&&(c=[c,b.renderAll(f.attachment,a)].flatten());return c}if(f.evaluate(a)){d=!1;c=[c,b.renderAll(f.attachment,a)].flatten()}}});return c},recordWhenCondition:function(b){for(;b;){var c=b.match(this.tagWhenSyntax);if(!c)throw"Syntax error in tag 'case' - Valid when condition: {% when [condition] [or condition2...] %} ";b=c[2];var d=new a.Condition(this.left,"==",c[1]);this.blocks.push(d);this.nodelist=d.attach([])}},recordElseCondition:function(b){if(""!=(b||"").strip())throw"Syntax error in tag 'case' - Valid else condition: {% else %} (no parameters) ";var c=new a.ElseCondition;this.blocks.push(c);this.nodelist=c.attach([])}}));a.Template.registerTag("comment",a.Block.extend({render:function(){return""}}));a.Template.registerTag("cycle",a.Tag.extend({tagSimpleSyntax:/"[^"]+"|'[^']+'|[^\s,|]+/,tagNamedSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)\s*\:\s*(.*)/,init:function(a,b,c){var d;d=b.match(this.tagNamedSyntax);if(d){this.variables=this.variablesFromString(d[2]);this.name=d[1]}else{d=b.match(this.tagSimpleSyntax);if(!d)throw"Syntax error in 'cycle' - Valid syntax: cycle [name :] var [, var2, var3 ...]";this.variables=this.variablesFromString(b);this.name="'"+this.variables.toString()+"'"}this._super(a,b,c)},render:function(a){var b=this,c=a.get(b.name),d="";a.registers.cycle||(a.registers.cycle={});a.registers.cycle[c]||(a.registers.cycle[c]=0);a.stack(function(){var e=a.registers.cycle[c],f=a.get(b.variables[e]);e+=1;e==b.variables.length&&(e=0);a.registers.cycle[c]=e;d=f});return d},variablesFromString:function(a){return a.split(",").map(function(a){var b=a.match(/\s*("[^"]+"|'[^']+'|[^\s,|]+)\s*/);return b[1]?b[1]:null})}}));a.Template.registerTag("for",a.Block.extend({tagSyntax:/(\w+)\s+in\s+((?:\(?[\w\-\.\[\]]\)?)+)/,init:function(a,b,c){var d=b.match(this.tagSyntax);if(!d)throw"Syntax error in 'for loop' - Valid syntax: for [item] in [collection]";this.variableName=d[1];this.collectionName=d[2];this.name=this.variableName+"-"+this.collectionName;this.attributes={};var e=(b.replace(this.tagSyntax,""),b.match(/(\w*?)\s*\:\s*("[^"]+"|'[^']+'|[^\s,|]+)/g));e&&e.each(function(a){a=a.split(":");this.attributes.set[a[0].strip()]=a[1].strip()},this);this._super(a,b,c)},render:function(a){var b=this,c=[],d=a.get(this.collectionName)||[],e=[0,d.length];a.registers["for"]||(a.registers["for"]={});if(this.attributes.limit||this.attributes.offset){var f=0,g=0,h=0,i=null;f="continue"==this.attributes.offset?a.registers["for"][this.name]:a.get(this.attributes.offset)||0;g=a.get(this.attributes.limit);h=g?f+g+1:d.length;e=[f,h-1];a.registers["for"][this.name]=h}i=d.slice(e[0],e[1]);if(!i||0==i.length)return"";a.stack(function(){var d=i.length;i.each(function(e,f){a.set(b.variableName,e);a.set("forloop",{name:b.name,length:d,index:f+1,index0:f,rindex:d-f,rindex0:d-f-1,first:0==f,last:f==d-1});c.push((b.renderAll(b.nodelist,a)||[]).join(""))})});return[c].flatten().join("")}}));a.Template.registerTag("if",a.Block.extend({tagSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)\s*([=!<>a-z_]+)?\s*("[^"]+"|'[^']+'|[^\s,|]+)?/,init:function(a,b,c){this.nodelist=[];this.blocks=[];this.pushBlock("if",b);this._super(a,b,c)},unknownTag:function(a,b,c){["elsif","else"].include(a)?this.pushBlock(a,b):this._super(a,b,c)},render:function(a){var b=this,c="";a.stack(function(){for(var d=0;d<b.blocks.length;d++){var e=b.blocks[d];if(e.evaluate(a)){c=b.renderAll(e.attachment,a);return}}});return[c].flatten().join("")},pushBlock:function(b,c){var d;if("else"==b)d=new a.ElseCondition;else{var e=c.split(/\b(and|or)\b/).reverse(),f=e.shift().match(this.tagSyntax);if(!f)throw"Syntax Error in tag '"+b+"' - Valid syntax: "+b+" [expression]";for(var g=new a.Condition(f[1],f[2],f[3]);e.length>0;){var h=e.shift(),f=e.shift().match(this.tagSyntax);if(!f)throw"Syntax Error in tag '"+b+"' - Valid syntax: "+b+" [expression]";var i=new a.Condition(f[1],f[2],f[3]);i[h](g);g=i}d=g}d.attach([]);this.blocks.push(d);this.nodelist=d.attachment}}));a.Template.registerTag("ifchanged",a.Block.extend({render:function(a){var b=this,c="";a.stack(function(){var d=b.renderAll(b.nodelist,a).join("");if(d!=a.registers.ifchanged){c=d;a.registers.ifchanged=c}});return c}}));a.Template.registerTag("include",a.Tag.extend({tagSyntax:/((?:"[^"]+"|'[^']+'|[^\s,|]+)+)(\s+(?:with|for)\s+((?:"[^"]+"|'[^']+'|[^\s,|]+)+))?/,init:function(a,b,c){var d=(b||"").match(this.tagSyntax);if(!d)throw"Error in tag 'include' - Valid syntax: include '[template]' (with|for) [object|collection]";this.templateName=d[1];this.templateNameVar=this.templateName.substring(1,this.templateName.length-1);this.variableName=d[3];this.attributes={};var e=b.match(/(\w*?)\s*\:\s*("[^"]+"|'[^']+'|[^\s,|]+)/g);e&&e.each(function(a){a=a.split(":");this.attributes[a[0].strip()]=a[1].strip()},this);this._super(a,b,c)},render:function(b){var c=this,e=a.readTemplateFile(b.get(this.templateName)),f=a.parse(e),g=b.get(this.variableName||this.templateNameVar),h="";b.stack(function(){c.attributes.each=d;c.attributes.each(function(a){b.set(a.key,b.get(a.value))});if(g instanceof Array)h=g.map(function(a){b.set(c.templateNameVar,a);return f.render(b)});else{b.set(c.templateNameVar,g);h=f.render(b)}});h=[h].flatten().join("");return h}}));a.Template.registerTag("unless",a.Template.tags["if"].extend({render:function(a){var b=this,c="";a.stack(function(){var d=b.blocks[0];if(d.evaluate(a))for(var e=1;e<b.blocks.length;e++){var d=b.blocks[e];if(d.evaluate(a)){c=b.renderAll(d.attachment,a);return}}else c=b.renderAll(d.attachment,a)});return c}}));a.Template.registerFilter({size:function(a){return a.length?a.length:0},downcase:function(a){return a.toString().toLowerCase()},upcase:function(a){return a.toString().toUpperCase()},capitalize:function(a){return a.toString().capitalize()},escape:function(a){a=a.toString();a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");a=a.replace(/"/g,"&quot;");return a},h:function(a){a=a.toString();a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");a=a.replace(/"/g,"&quot;");return a},truncate:function(a,b,c){if(!a||""==a)return"";b=b||50;c=c||"...";a.slice(0,b);return a.length>b?a.slice(0,b)+c:a
},truncatewords:function(a,b,c){if(!a||""==a)return"";b=parseInt(b||15);c=c||"...";var d=a.toString().split(" "),e=Math.max(b,0);return d.length>e?d.slice(0,e).join(" ")+c:a},truncate_words:function(a,b,c){if(!a||""==a)return"";b=parseInt(b||15);c=c||"...";var d=a.toString().split(" "),e=Math.max(b,0);return d.length>e?d.slice(0,e).join(" ")+c:a},strip_html:function(a){return a.toString().replace(/<.*?>/g,"")},strip_newlines:function(a){return a.toString().replace(/\n/g,"")},join:function(a,b){b=b||" ";return a.join(b)},sort:function(a){return a.sort()},reverse:function(a){return a.reverse()},replace:function(a,b,c){c=c||"";return a.toString().replace(new RegExp(b,"g"),c)},replace_first:function(a,b,c){c=c||"";return a.toString().replace(new RegExp(b,""),c)},newline_to_br:function(a){return a.toString().replace(/\n/g,"<br/>\n")},date:function(a,b){var c;a instanceof Date&&(c=a);c instanceof Date||"now"!=a||(c=new Date);c instanceof Date||(c=new Date(a));c instanceof Date||(c=new Date(Date.parse(a)));return c instanceof Date?c.strftime(b):a},first:function(a){return a[0]},last:function(a){a=a;return a[a.length-1]}});(new Date).strftime||!function(){Date.ext={};Date.ext.util={};Date.ext.util.xPad=function(a,b,c){"undefined"==typeof c&&(c=10);for(;parseInt(a,10)<c&&c>1;c/=10)a=b.toString()+a;return a.toString()};Date.prototype.locale="en-GB";document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(Date.prototype.locale=document.getElementsByTagName("html")[0].lang);Date.ext.locales={};Date.ext.locales.en={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %T %Z",p:["AM","PM"],P:["am","pm"],x:"%d/%m/%y",X:"%T"};Date.ext.locales["en-US"]=Date.ext.locales.en;Date.ext.locales["en-US"].c="%a %d %b %Y %r %Z";Date.ext.locales["en-US"].x="%D";Date.ext.locales["en-US"].X="%r";Date.ext.locales["en-GB"]=Date.ext.locales.en;Date.ext.locales["en-AU"]=Date.ext.locales["en-GB"];Date.ext.formats={a:function(a){return Date.ext.locales[a.locale].a[a.getDay()]},A:function(a){return Date.ext.locales[a.locale].A[a.getDay()]},b:function(a){return Date.ext.locales[a.locale].b[a.getMonth()]},B:function(a){return Date.ext.locales[a.locale].B[a.getMonth()]},c:"toLocaleString",C:function(a){return Date.ext.util.xPad(parseInt(a.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(a){return Date.ext.util.xPad(parseInt(Date.ext.util.G(a)/100,10),0)},G:function(a){var b=a.getFullYear(),c=parseInt(Date.ext.formats.V(a),10),d=parseInt(Date.ext.formats.W(a),10);d>c?b++:0===d&&c>=52&&b--;return b},H:["getHours","0"],I:function(a){var b=a.getHours()%12;return Date.ext.util.xPad(0===b?12:b,0)},j:function(a){var b=a-new Date(""+a.getFullYear()+"/1/1 GMT");b+=6e4*a.getTimezoneOffset();var c=parseInt(b/6e4/60/24,10)+1;return Date.ext.util.xPad(c,0,100)},m:function(a){return Date.ext.util.xPad(a.getMonth()+1,0)},M:["getMinutes","0"],p:function(a){return Date.ext.locales[a.locale].p[a.getHours()>=12?1:0]},P:function(a){return Date.ext.locales[a.locale].P[a.getHours()>=12?1:0]},S:["getSeconds","0"],u:function(a){var b=a.getDay();return 0===b?7:b},U:function(a){var b=parseInt(Date.ext.formats.j(a),10),c=6-a.getDay(),d=parseInt((b+c)/7,10);return Date.ext.util.xPad(d,0)},V:function(a){var b=parseInt(Date.ext.formats.W(a),10),c=new Date(""+a.getFullYear()+"/1/1").getDay(),d=b+(c>4||1>=c?0:1);53==d&&new Date(""+a.getFullYear()+"/12/31").getDay()<4?d=1:0===d&&(d=Date.ext.formats.V(new Date(""+(a.getFullYear()-1)+"/12/31")));return Date.ext.util.xPad(d,0)},w:"getDay",W:function(a){var b=parseInt(Date.ext.formats.j(a),10),c=7-Date.ext.formats.u(a),d=parseInt((b+c)/7,10);return Date.ext.util.xPad(d,0,10)},y:function(a){return Date.ext.util.xPad(a.getFullYear()%100,0)},Y:"getFullYear",z:function(a){var b=a.getTimezoneOffset(),c=Date.ext.util.xPad(parseInt(Math.abs(b/60),10),0),d=Date.ext.util.xPad(b%60,0);return(b>0?"-":"+")+c+d},Z:function(a){return a.toString().replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(){return"%"}};Date.ext.aggregates={c:"locale",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"	",T:"%H:%M:%S",x:"locale",X:"locale"};Date.ext.aggregates.z=Date.ext.formats.z(new Date);Date.ext.aggregates.Z=Date.ext.formats.Z(new Date);Date.ext.unsupported={};Date.prototype.strftime=function(a){this.locale in Date.ext.locales||(this.locale=this.locale.replace(/-[a-zA-Z]+$/,"")in Date.ext.locales?this.locale.replace(/-[a-zA-Z]+$/,""):"en-GB");for(var b=this;a.match(/%[cDhnrRtTxXzZ]/);)a=a.replace(/%([cDhnrRtTxXzZ])/g,function(a,c){var d=Date.ext.aggregates[c];return"locale"==d?Date.ext.locales[b.locale][c]:d});var c=a.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(a,c){var d=Date.ext.formats[c];return"string"==typeof d?b[d]():"function"==typeof d?d.call(b,b):"object"==typeof d&&"string"==typeof d[0]?Date.ext.util.xPad(b[d[0]](),d[1]):c});b=null;return c}}();var e;if(!e){e=function(a,b,c){if("[object RegExp]"!==Object.prototype.toString.call(b))return e._nativeSplit.call(a,b,c);var d,f,g,h,i=[],j=0,k=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.sticky?"y":""),b=RegExp(b.source,k+"g");a+="";e._compliantExecNpcg||(d=RegExp("^"+b.source+"$(?!\\s)",k));if(void 0===c||0>+c)c=1/0;else{c=Math.floor(+c);if(!c)return[]}for(;f=b.exec(a);){g=f.index+f[0].length;if(g>j){i.push(a.slice(j,f.index));!e._compliantExecNpcg&&f.length>1&&f[0].replace(d,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(f[a]=void 0)});f.length>1&&f.index<a.length&&Array.prototype.push.apply(i,f.slice(1));h=f[0].length;j=g;if(i.length>=c)break}b.lastIndex===f.index&&b.lastIndex++}j===a.length?(h||!b.test(""))&&i.push(""):i.push(a.slice(j));return i.length>c?i.slice(0,c):i};e._compliantExecNpcg=void 0===/()??/.exec("")[1];e._nativeSplit=String.prototype.split}String.prototype.split=function(a,b){return e(this,a,b)};return a});/*!
 * Sizzle CSS Selector Engine v@VERSION
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: @DATE
 */
!function(a){function b(a,b,c,d){var e,f,g,h,i,j,k,n,o,p;(b?b.ownerDocument||b:N)!==F&&E(b);b=b||F;c=c||[];if(!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(H&&!d){if(e=rb.exec(a))if(g=e[1]){if(9===h){f=b.getElementById(g);if(!f||!f.parentNode)return c;if(f.id===g){c.push(f);return c}}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&L(b,f)&&f.id===g){c.push(f);return c}}else{if(e[2]){_.apply(c,b.getElementsByTagName(a));return c}if((g=e[3])&&w.getElementsByClassName&&b.getElementsByClassName){_.apply(c,b.getElementsByClassName(g));return c}}if(w.qsa&&(!I||!I.test(a))){n=k=M;o=b;p=9===h&&a;if(1===h&&"object"!==b.nodeName.toLowerCase()){j=l(a);(k=b.getAttribute("id"))?n=k.replace(ub,"\\$&"):b.setAttribute("id",n);n="[id='"+n+"'] ";i=j.length;for(;i--;)j[i]=n+m(j[i]);o=lb.test(a)&&b.parentNode||b;p=j.join(",")}if(p)try{_.apply(c,o.querySelectorAll(p));return c}catch(q){}finally{k||b.removeAttribute("id")}}}return u(a.replace(ib,"$1"),b,c,d)}function c(){function a(c,d){b.push(c+=" ")>y.cacheLength&&delete a[b.shift()];return a[c]=d}var b=[];return a}function d(a){a[M]=!0;return a}function e(a){var b=F.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b);b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)y.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){b=+b;return d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(){}function l(a,c){var d,e,f,g,h,i,j,k=R[a+" "];if(k)return c?0:k.slice(0);h=a;i=[];j=y.preFilter;for(;h;){if(!d||(e=jb.exec(h))){e&&(h=h.slice(e[0].length)||h);i.push(f=[])}d=!1;if(e=kb.exec(h)){d=e.shift();f.push({value:d,type:e[0].replace(ib," ")});h=h.slice(d.length)}for(g in y.filter)if((e=pb[g].exec(h))&&(!j[g]||(e=j[g](e)))){d=e.shift();f.push({value:d,type:g,matches:e});h=h.slice(d.length)}if(!d)break}return c?h.length:h?b.error(a):R(a,i).slice(0)}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=P++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=O+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){j=b[M]||(b[M]={});if((i=j[d])&&i[0]===k){if((h=i[1])===!0||h===x)return h===!0}else{i=j[d]=[k];i[1]=a(b,c,g)||x;if(i[1]===!0)return!0}}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)if((f=a[h])&&(!c||c(f,d,e))){g.push(f);j&&b.push(h)}return g}function q(a,b,c,e,f,g){e&&!e[M]&&(e=q(e));f&&!f[M]&&(f=q(f,g));return d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,q=d||t(b||"*",h.nodeType?[h]:h,[]),r=!a||!d&&b?q:p(q,m,a,h,i),s=c?f||(d?a:o||e)?[]:g:r;c&&c(r,s,h,i);if(e){j=p(s,n);e(j,[],h,i);k=j.length;for(;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l))}if(d){if(f||a){if(f){j=[];k=s.length;for(;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}k=s.length;for(;k--;)(l=s[k])&&(j=f?bb.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else{s=p(s===g?s.splice(o,s.length):s);f?f(null,g,s,i):_.apply(g,s)}})}function r(a){for(var b,c,d,e=a.length,f=y.relative[a[0].type],g=f||y.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return bb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=y.relative[a[h].type])k=[n(o(k),c)];else{c=y.filter[a[h].type].apply(null,a[h].matches);if(c[M]){d=++h;for(;e>d&&!y.relative[a[d].type];d++);return q(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ib,"$1"),c,d>h&&r(a.slice(h,d)),e>d&&r(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function s(a,c){var e=0,f=c.length>0,g=a.length>0,h=function(d,h,i,j,k){var l,m,n,o=[],q=0,r="0",s=d&&[],t=null!=k,u=C,v=d||g&&y.find.TAG("*",k&&h.parentNode||h),w=O+=null==u?1:Math.random()||.1;if(t){C=h!==F&&h;x=e}for(;null!=(l=v[r]);r++){if(g&&l){m=0;for(;n=a[m++];)if(n(l,h,i)){j.push(l);break}if(t){O=w;x=++e}}if(f){(l=!n&&l)&&q--;d&&s.push(l)}}q+=r;if(f&&r!==q){m=0;for(;n=c[m++];)n(s,o,h,i);if(d){if(q>0)for(;r--;)s[r]||o[r]||(o[r]=Z.call(j));o=p(o)}_.apply(j,o);t&&!d&&o.length>0&&q+c.length>1&&b.uniqueSort(j)}if(t){O=w;C=u}return s};return f?d(h):h}function t(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function u(a,b,c,d){var e,f,g,h,i,j=l(a);if(!d&&1===j.length){f=j[0]=j[0].slice(0);if(f.length>2&&"ID"===(g=f[0]).type&&w.getById&&9===b.nodeType&&H&&y.relative[f[1].type]){b=(y.find.ID(g.matches[0].replace(vb,wb),b)||[])[0];if(!b)return c;a=a.slice(f.shift().value.length)}e=pb.needsContext.test(a)?0:f.length;for(;e--;){g=f[e];if(y.relative[h=g.type])break;if((i=y.find[h])&&(d=i(g.matches[0].replace(vb,wb),lb.test(f[0].type)&&b.parentNode||b))){f.splice(e,1);a=d.length&&m(f);if(!a){_.apply(c,d);return c}break}}}B(a,j)(d,b,!H,c,lb.test(a));return c}var v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M="sizzle"+-new Date,N=a.document,O=0,P=0,Q=c(),R=c(),S=c(),T=!1,U=function(a,b){if(a===b){T=!0;return 0}return 0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,ab=Y.slice,bb=Y.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},cb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",db="[\\x20\\t\\r\\n\\f]",eb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fb=eb.replace("w","w#"),gb="\\["+db+"*("+eb+")"+db+"*(?:([*^$|!~]?=)"+db+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+fb+")|)|)"+db+"*\\]",hb=":("+eb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+gb.replace(3,8)+")*)|.*)\\)|)",ib=new RegExp("^"+db+"+|((?:^|[^\\\\])(?:\\\\.)*)"+db+"+$","g"),jb=new RegExp("^"+db+"*,"+db+"*"),kb=new RegExp("^"+db+"*([>+~]|"+db+")"+db+"*"),lb=new RegExp(db+"*[+~]"),mb=new RegExp("="+db+"*([^\\]'\"]*)"+db+"*\\]","g"),nb=new RegExp(hb),ob=new RegExp("^"+fb+"$"),pb={ID:new RegExp("^#("+eb+")"),CLASS:new RegExp("^\\.("+eb+")"),TAG:new RegExp("^("+eb.replace("w","w*")+")"),ATTR:new RegExp("^"+gb),PSEUDO:new RegExp("^"+hb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+db+"*(even|odd|(([+-]|)(\\d*)n|)"+db+"*(?:([+-]|)"+db+"*(\\d+)|))"+db+"*\\)|)","i"),bool:new RegExp("^(?:"+cb+")$","i"),needsContext:new RegExp("^"+db+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+db+"*((?:-\\d)?\\d*)"+db+"*\\)|)(?=[^-]|$)","i")},qb=/^[^{]+\{\s*\[native \w/,rb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sb=/^(?:input|select|textarea|button)$/i,tb=/^h\d$/i,ub=/'|\\/g,vb=new RegExp("\\\\([\\da-f]{1,6}"+db+"?|("+db+")|.)","ig"),wb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=ab.call(N.childNodes),N.childNodes);Y[N.childNodes.length].nodeType}catch(xb){_={apply:Y.length?function(a,b){$.apply(a,ab.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}A=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1};w=b.support={};E=b.setDocument=function(a){var b=a?a.ownerDocument||a:N,c=b.defaultView;if(b===F||9!==b.nodeType||!b.documentElement)return F;F=b;G=b.documentElement;H=!A(b);c&&c.attachEvent&&c!==c.top&&c.attachEvent("onbeforeunload",function(){E()});w.attributes=e(function(a){a.className="i";return!a.getAttribute("className")});w.getElementsByTagName=e(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});w.getElementsByClassName=e(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});w.getById=e(function(a){G.appendChild(a).id=M;return!b.getElementsByName||!b.getElementsByName(M).length});if(w.getById){y.find.ID=function(a,b){if(typeof b.getElementById!==V&&H){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}};y.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){return a.getAttribute("id")===b}}}else{delete y.find.ID;y.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}}y.find.TAG=w.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==V?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f};y.find.CLASS=w.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==V&&H?b.getElementsByClassName(a):void 0};J=[];I=[];if(w.qsa=qb.test(b.querySelectorAll)){e(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||I.push("\\["+db+"*(?:value|"+cb+")");a.querySelectorAll(":checked").length||I.push(":checked")});e(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("t","");a.querySelectorAll("[t^='']").length&&I.push("[*^$]="+db+"*(?:''|\"\")");a.querySelectorAll(":enabled").length||I.push(":enabled",":disabled");a.querySelectorAll("*,:x");I.push(",.*:")})}(w.matchesSelector=qb.test(K=G.webkitMatchesSelector||G.mozMatchesSelector||G.oMatchesSelector||G.msMatchesSelector))&&e(function(a){w.disconnectedMatch=K.call(a,"div");K.call(a,"[s!='']:x");J.push("!=",hb)});I=I.length&&new RegExp(I.join("|"));J=J.length&&new RegExp(J.join("|"));L=qb.test(G.contains)||G.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};U=G.compareDocumentPosition?function(a,c){if(a===c){T=!0;return 0}var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||!w.sortDetached&&c.compareDocumentPosition(a)===d?a===b||L(N,a)?-1:c===b||L(N,c)?1:D?bb.call(D,a)-bb.call(D,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0,f=a.parentNode,h=c.parentNode,i=[a],j=[c];if(a===c){T=!0;return 0}if(!f||!h)return a===b?-1:c===b?1:f?-1:h?1:D?bb.call(D,a)-bb.call(D,c):0;if(f===h)return g(a,c);d=a;for(;d=d.parentNode;)i.unshift(d);d=c;for(;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===N?-1:j[e]===N?1:0};return b};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==F&&E(a);c=c.replace(mb,"='$1']");if(!(!w.matchesSelector||!H||J&&J.test(c)||I&&I.test(c)))try{var d=K.call(a,c);if(d||w.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,F,null,[a]).length>0};b.contains=function(a,b){(a.ownerDocument||a)!==F&&E(a);return L(a,b)};b.attr=function(a,b){(a.ownerDocument||a)!==F&&E(a);var c=y.attrHandle[b.toLowerCase()],d=c&&X.call(y.attrHandle,b.toLowerCase())?c(a,b,!H):void 0;return void 0===d?w.attributes||!H?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null:d};b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};b.uniqueSort=function(a){var b,c=[],d=0,e=0;T=!w.detectDuplicates;D=!w.sortStable&&a.slice(0);a.sort(U);if(T){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a};z=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=z(b);return c};y=b.selectors={cacheLength:50,createPseudo:d,match:pb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(vb,wb);a[3]=(a[4]||a[5]||"").replace(vb,wb);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();if("nth"===a[1].slice(0,3)){a[3]||b.error(a[0]);a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3]));a[5]=+(a[7]+a[8]||"odd"===a[3])}else a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[5]&&a[2];if(pb.CHILD.test(a[0]))return null;if(a[3]&&void 0!==a[4])a[2]=a[4];else if(c&&nb.test(c)&&(b=l(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)){a[0]=a[0].slice(0,b);a[2]=c.slice(0,b)}return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(vb,wb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Q[a+" "];return b||(b=new RegExp("(^|"+db+")"+a+"("+db+"|$)"))&&Q(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);if(null==f)return"!="===c;if(!c)return!0;f+="";return"="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){l=b;for(;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}o=[g?q.firstChild:q.lastChild];if(g&&s){k=q[M]||(q[M]={});j=k[a]||[];n=j[0]===O&&j[1];m=j[0]===O&&j[2];l=n&&q.childNodes[n];for(;l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[O,n,m];break}}else if(s&&(j=(b[M]||(b[M]={}))[a])&&j[0]===O)m=j[1];else for(;l=++n&&l&&l[p]||(m=n=0)||o.pop();)if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m){s&&((l[M]||(l[M]={}))[a]=[O,m]);if(l===b)break}m-=e;return m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=y.pseudos[a]||y.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);if(f[M])return f(c);if(f.length>1){e=[a,a,"",c];return y.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;){d=bb.call(a,e[g]);a[d]=!(b[d]=e[g])}}):function(a){return f(a,0,e)}}return f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ib,"$1"));return e[M]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){b[0]=a;e(b,null,f,c);return!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||z(b)).indexOf(a)>-1}}),lang:d(function(a){ob.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(vb,wb).toLowerCase();return function(b){var c;do if(c=H?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){c=c.toLowerCase();return c===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===G},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return tb.test(a.nodeName)},input:function(a){return sb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}};y.pseudos.nth=y.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[v]=h(v);for(v in{submit:!0,reset:!0})y.pseudos[v]=i(v);k.prototype=y.filters=y.pseudos;y.setFilters=new k;B=b.compile=function(a,b){var c,d=[],e=[],f=S[a+" "];if(!f){b||(b=l(a));c=b.length;for(;c--;){f=r(b[c]);f[M]?d.push(f):e.push(f)}f=S(a,s(e,d))}return f};w.sortStable=M.split("").sort(U).join("")===M;w.detectDuplicates=T;E();w.sortDetached=e(function(a){return 1&a.compareDocumentPosition(F.createElement("div"))});e(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)});w.attributes&&e(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue});e(function(a){return null==a.getAttribute("disabled")})||f(cb,function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&d.specified?d.value:a[b]===!0?b.toLowerCase():null});"function"==typeof define&&define.amd&&define("Sizzle",function(){return b});"undefined"!=typeof exports&&(exports.Sizzle=b);extole.define("Sizzle",[],function(){return b})}(window);extole.define("widget-common/Widget",["jquery","widget-common/utils/css-utils","widget-common/jquery-plugins"],function(a,b){var c={name:"Not Defined",iconMap:{add:"f067",addSign:"f055",caretDown:"f0d7",caretUp:"f0d8",caretLeft:"f0d9",caretRight:"f0da",remove:"f00d",removeCircle:"f05c",removeSign:"f057",arrowLeft:"f060",arrowRight:"f061",arrowDown:"f063",arrowUp:"f062",email:"f003",emailSign:"f0e0",facebook:"f09a",facebookSign:"f082",twitter:"f099",twitterSign:"f081",user:"f007"},init:function(){},extend:function(b){var d=function(){this.init.apply(this,arguments)};d.prototype=a.extend({},c,b);return d},getValidateRules:function(c){return a.extend(!0,{},{errorClass:b.getName("error"),validClass:b.getName("valid"),errorPlacement:function(a,c){var d=b.getName("input"),e=c.closest("."+d),f=e.attr("class").replace(d,"").replace(b.getName("selected"),"");a.addClass(f);a.insertAfter(e)},errorElement:"div",ignore:[]},c)},makeForm:function(c){c=a.extend({htmlValidate:!1},c);var d=a("<form>").addClass(b.getName("form"));c.htmlValidate||d.attr("novalidate","novalidate");return d},makeDeleteButton:function(a,c){a=a||{};c=c||{};var d=this,e=d.makeIcon("remove");e.addClass(b.getName("delete-button"));return e},makeIcon:function(b){var c=this,d=a("<span>&#x"+c.iconMap[b]+";</span>").css({fontFamily:"FontAwesome"});return d},getPopup:function(){var c=this,d=a("<div>").css({zIndex:a("*").getHighestZIndex()+1}).appendTo(document.body);d.addClass(b.getName("popup"));c.addPopupCloseButton(d);return d},addPopupCloseButton:function(a){var c=this,d=c.makeDeleteButton().on("click",function(b){b.preventDefault();a.remove()}).appendTo(a);d.addClass(b.getName("close-button"));return d},unrender:function(){}};return c});extole.define("widget-common/BackboneWidget",["jquery","Backbone","widget-common/Widget","widget-common/utils/css-utils"],function(a,b,c,d){var e=b.View.extend(c);e=e.extend({nodeName:"div",content:{},formEvents:{"blur .form_id_ .input-inside_id_ input":"formEventInputInsideBlur","blur .form_id_ .input-inside_id_ textarea":"formEventInputInsideBlur","focus .form_id_ .input-inside_id_ input":"formEventInputInsideFocus","focus .form_id_ .input-inside_id_ textarea":"formEventInputInsideFocus"},formEventInputInsideFocus:function(b){var c=a(b.target),e=c.closest("."+d.getName("input-inside"));e.addClass(d.getName("selected"))},formEventInputInsideBlur:function(b){var c=a(b.target),e=c.closest("."+d.getName("input-inside"));""==c.val()&&e.removeClass(d.getName("selected"))},delegateEvents:function(){var c=this.events||{},e={};c=a.extend({},this.formEvents,c);for(var f in c)e[d.parseString(f)]=c[f];this.events=e;b.View.prototype.delegateEvents.apply(this,arguments)},destroy:function(){this.$el.remove()},renderLoading:function(){this.$loading&&this.$loading.remove();this.$el.find(">*").hide();this.$loading=a("<p>Loading..</p>").addClass(d.getName("loading-screen")).appendTo(this.$el)},unrenderLoading:function(){this.$loading&&this.$loading.remove();this.$el.find(">*").show()},renderError:function(b){this.$error&&this.$error.remove();this.$el.find(">*").hide();this.$error=a("<div></div>").addClass(d.getName("error-screen")).append(b).appendTo(this.$el)},show:function(){this.$el.show()},hide:function(){this.$el.hide()},unrenderError:function(){this.$error&&this.$error.remove();this.$el.find(">*").show()}});return e});extole.define("advocate-widget/zero-clip/ZeroClipboard",[],function(){var a={};/*!
 * zeroclipboard
 * The Zero Clipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie, and a JavaScript interface.
 * Copyright 2012 Jon Rohan, James M. Greene, .
 * Released under the MIT license
 * http://jonrohan.github.com/ZeroClipboard/
 * v1.1.7
 */
!function(){"use strict";var b,c=function(a,b){var c,d=a.style[b];a.currentStyle?c=a.currentStyle[b]:window.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b));d=c||d;if("auto"==d&&"cursor"==b)for(var e=["a"],f=0;f<e.length;f++)if(a.tagName.toLowerCase()==e[f])return"pointer";return d},d=function(a){if(n.prototype._singleton){a||(a=window.event);var b;this!==window?b=this:a.target?b=a.target:a.srcElement&&(b=a.srcElement);n.prototype._singleton.setCurrent(b)}},e=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},f=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},g=function(a,b){if(a.addClass){a.addClass(b);return a}if(b&&"string"==typeof b){var c=(b||"").split(/\s+/);if(1===a.nodeType)if(a.className){for(var d=" "+a.className+" ",e=a.className,f=0,g=c.length;g>f;f++)d.indexOf(" "+c[f]+" ")<0&&(e+=" "+c[f]);a.className=e.replace(/^\s+|\s+$/g,"")}else a.className=b}return a},h=function(a,b){if(a.removeClass){a.removeClass(b);return a}if(b&&"string"==typeof b||void 0===b){var c=(b||"").split(/\s+/);if(1===a.nodeType&&a.className)if(b){for(var d=(" "+a.className+" ").replace(/[\n\t]/g," "),e=0,f=c.length;f>e;e++)d=d.replace(" "+c[e]+" "," ");a.className=d.replace(/^\s+|\s+$/g,"")}else a.className=""}return a},i=function(a){var b={left:0,top:0,width:a.width||a.offsetWidth||0,height:a.height||a.offsetHeight||0,zIndex:9999},d=c(a,"zIndex");d&&"auto"!=d&&(b.zIndex=parseInt(d,10));for(;a;){var e=parseInt(c(a,"borderLeftWidth"),10),f=parseInt(c(a,"borderTopWidth"),10);b.left+=isNaN(a.offsetLeft)?0:a.offsetLeft;b.left+=isNaN(e)?0:e;b.top+=isNaN(a.offsetTop)?0:a.offsetTop;b.top+=isNaN(f)?0:f;a=a.offsetParent}return b},j=function(a){return(a.indexOf("?")>=0?"&":"?")+"nocache="+(new Date).getTime()},k=function(a){var b=[];a.trustedDomains&&b.push("string"==typeof a.trustedDomains?"trustedDomain="+a.trustedDomains:"trustedDomain="+a.trustedDomains.join(","));return b.join("&")},l=function(a,b){for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},m=function(a){if("string"==typeof a)throw new TypeError("ZeroClipboard doesn't accept query strings.");return a.length?a:[a]},n=function(a,b){a&&(n.prototype._singleton||this).glue(a);if(n.prototype._singleton)return n.prototype._singleton;n.prototype._singleton=this;this.options={};for(var c in p)this.options[c]=p[c];for(var d in b)this.options[d]=b[d];this.handlers={};n.detectFlashSupport()&&q()},o=[];n.prototype.setCurrent=function(a){b=a;this.reposition();a.getAttribute("title")&&this.setTitle(a.getAttribute("title"));this.setHandCursor("pointer"==c(a,"cursor"))};n.prototype.setText=function(a){if(a&&""!==a){this.options.text=a;this.ready()&&this.flashBridge.setText(a)}};n.prototype.setTitle=function(a){a&&""!==a&&this.htmlBridge.setAttribute("title",a)};n.prototype.setSize=function(a,b){this.ready()&&this.flashBridge.setSize(a,b)};n.prototype.setHandCursor=function(a){this.ready()&&this.flashBridge.setHandCursor(a)};n.version="1.1.7";var p={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain"};n.setDefaults=function(a){for(var b in a)p[b]=a[b]};n.destroy=function(){n.prototype._singleton.unglue(o);var a=n.prototype._singleton.htmlBridge;a.parentNode.removeChild(a);delete n.prototype._singleton};n.detectFlashSupport=function(){var a=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=!0)}catch(b){navigator.mimeTypes["application/x-shockwave-flash"]&&(a=!0)}return a};var q=function(){var a=n.prototype._singleton,b=document.getElementById("global-zeroclipboard-html-bridge");if(!b){var c='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+a.options.moviePath+j(a.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+a.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+k(a.options)+'"/>         <embed src="'+a.options.moviePath+j(a.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+k(a.options)+'"           scale="exactfit">         </embed>       </object>';b=document.createElement("div");b.id="global-zeroclipboard-html-bridge";b.setAttribute("class","global-zeroclipboard-container");b.setAttribute("data-clipboard-ready",!1);b.style.position="absolute";b.style.left="-9999px";b.style.top="-9999px";b.style.width="15px";b.style.height="15px";b.style.zIndex="9999";b.innerHTML=c;document.body.appendChild(b)}a.htmlBridge=b;a.flashBridge=document["global-zeroclipboard-flash-bridge"]||b.children[0].lastElementChild};n.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px";this.htmlBridge.style.top="-9999px";this.htmlBridge.removeAttribute("title");this.htmlBridge.removeAttribute("data-clipboard-text");h(b,this.options.activeClass);b=null;this.options.text=null};n.prototype.ready=function(){var a=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===a||a===!0};n.prototype.reposition=function(){if(!b)return!1;var a=i(b);this.htmlBridge.style.top=a.top+"px";this.htmlBridge.style.left=a.left+"px";this.htmlBridge.style.width=a.width+"px";this.htmlBridge.style.height=a.height+"px";this.htmlBridge.style.zIndex=a.zIndex+1;this.setSize(a.width,a.height)};n.dispatch=function(a,b){n.prototype._singleton.receiveEvent(a,b)};n.prototype.on=function(a,b){for(var c=a.toString().split(/\s/g),d=0;d<c.length;d++){a=c[d].toLowerCase().replace(/^on/,"");this.handlers[a]||(this.handlers[a]=b)}this.handlers.noflash&&!n.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)};n.prototype.addEventListener=n.prototype.on;n.prototype.off=function(a,b){for(var c=a.toString().split(/\s/g),d=0;d<c.length;d++){a=c[d].toLowerCase().replace(/^on/,"");for(var e in this.handlers)e===a&&this.handlers[e]===b&&delete this.handlers[e]}};n.prototype.removeEventListener=n.prototype.off;n.prototype.receiveEvent=function(a,c){a=a.toString().toLowerCase().replace(/^on/,"");var d=b;switch(a){case"load":if(c&&parseFloat(c.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10){this.receiveEvent("onWrongFlash",{flashVersion:c.flashVersion});return}this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":g(d,this.options.hoverClass);break;case"mouseout":h(d,this.options.hoverClass);this.resetBridge();break;case"mousedown":g(d,this.options.activeClass);break;case"mouseup":h(d,this.options.activeClass);break;case"datarequested":var e=d.getAttribute("data-clipboard-target"),f=e?document.getElementById(e):null;if(f){var i=f.value||f.textContent||f.innerText;i&&this.setText(i)}else{var j=d.getAttribute("data-clipboard-text");j&&this.setText(j)}break;case"complete":this.options.text=null}if(this.handlers[a]){var k=this.handlers[a];"function"==typeof k?k.call(d,this,c):"string"==typeof k&&window[k].call(d,this,c)}};n.prototype.glue=function(a){a=m(a);for(var b=0;b<a.length;b++)if(-1==l(a[b],o)){o.push(a[b]);e(a[b],"mouseover",d)}};n.prototype.unglue=function(a){a=m(a);for(var b=0;b<a.length;b++){f(a[b],"mouseover",d);var c=l(a[b],o);-1!=c&&o.splice(c,1)}};"undefined"!=typeof a?a.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):window.ZeroClipboard=n}();return a.exports});extole.define("advocate-widget/utils/XdMessager",["jquery","Backbone","widget-common/min-utils/base"],function(a,b){window.extole=window.extole||{};var c=function(){this.init.apply(this,arguments)};c.prototype={init:function(a,b){var c=this;c.options=b;c.ns=a.replace("-","__");c.sendTo=b.sendTo||window.parent;c.addMessageListener()},addMessageListener:function(){var b=this;a(window).on("message",function(a){var c=a.originalEvent.data,d=c.split("-"),e=d[0],f=d[1],g=d[2];if(e!=b.ns)return!1;if(g)try{g=JSON.parse(c.substring(e.length+1+f.length+1))}catch(a){}b.trigger(f,g)})},sendMessage:function(a,b){var c=this,d=a;d=c.ns+"-"+d;b&&(d+="-"+JSON.stringify(b));c.sendTo.postMessage(d,"*")}};a.extend(c.prototype,b.Events);c.insertIframe=function(b){extole.xdIframe||(extole.xdIframe=a('<iframe src="//'+b+'/xd-page">').css({display:"none",height:0,width:0,border:"none"}).appendTo(document.body))};c.iframeReady=function(a,b){c.insertIframe(a);var d=new c("xd-page",{sendTo:extole.xdIframe[0].contentWindow}),e={};e.start=function(){d.once("ready",e.finish);d.iframeInt=setInterval(function(){d.sendMessage("ready?")},250)};e.finish=function(){clearInterval(d.iframeInt);d.stopListening();delete d;b()};e.start()};return c});extole.define("advocate-widget/utils/call-utils",["advocate-widget/utils/param-utils"],function(a){var b=a.RESERVED_KEYS,c={purchase:{partner_conversion_id:!0},share:{}},d=function(a,d){d&&(d=d.toLowerCase());var e={},f=d&&c[d],g=function(b){var c,d;for(c in b)if(b.hasOwnProperty(c)){d=b[c];d===!0&&(d=c);e[d]=a.init[c]}};g(b);f&&g(f);d&&(e.action_type=d.toUpperCase());e.client_params=a.client;return e};return{getParamsForCall:d}});extole.define("advocate-widget/utils/config-processors",["widget-common/min-utils/base"],function(a){var b={},c=function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=b(c);if(c!==d){a[d]=a[c];delete a[c]}}};b.clientConfig=function(b){if(b._processed)return b;var d=function(a){return a.toLowerCase()};c(b.zones,d);a.each(b.zones,function(a,b){a.name=b});c(b.zone_defaults,d);c(b.cta_creative_name_to_id,d);c(b.campaign_name_to_id,d);b._processed=!0;return b};return b});extole.define("advocate-widget/utils/config-utils-min",["widget-common/min-utils/base","widget-common/min-utils/cookie","advocate-widget/utils/config-processors"],function(a,b,c){var d=function(){a.log.error("You are using an outdated config file. Please re-publish.")},e=function(a){var b=a.substring(0,4),c=a.substring(4,6),d=a.substring(6,8),e=a.substring(9,11),f=a.substring(11,13),d=new Date(b,parseInt(c)-1,d,e,f);return d},f=function(a){c.clientConfig(a);if(!a.campaign_last_published_dates){d();return!1}var b=[],f=a.campaign_last_published_dates;for(var g in f)if(f.hasOwnProperty(g)){var h=e(f[g]);b.push(h.getTime())}b.sort();return b[b.length-1]||(new Date).getTime()},g=function(b,e){c.clientConfig(b);if(!b.campaign_last_published_dates){d();return e}var f=b.campaign_last_published_dates[e];if(!f){a.log.error("There is no published date for this campaign");return e}return e+"_"+f},h=function(a,b){c.clientConfig(a);if(!a.campaign_last_published_dates){d();return!1}return!!a.campaign_last_published_dates[b]},i=function(a,b,d){c.clientConfig(a);var e=b.toLowerCase()+"_name_to_id",f=a[e];if(!f)return!1;if(!d)return!1;d=d.toLowerCase();var g=f[d];return g?g:d},j=function(a,b){c.clientConfig(a);b=b.toLowerCase();if(!a.zone_defaults){d();return!1}var e=a.zone_defaults[b];if(!e)return!1;var f=e.campaign;return f?i(a,"campaign",f):!1},k=function(a){var b=a.programs;for(var c in b)b.hasOwnProperty(c)&&!function(){var a=b[c];b[c.toLowerCase()]=a}();return b},l=function(a){var b=a.sites,c=[],d=k(a),e=location.hostname.toLowerCase();for(var f in b)b.hasOwnProperty(f)&&!function(){var a=b[f];b[f.toLowerCase()]=a;c.push(a)}();var g=b[e];g||d[e]&&(g=c[0]);return g},m=function(a){var b=l(a),c=window.location.hostname.toLowerCase(),d=k(a),e=d[c];!e&&b&&(e=d[b.program_url]);return e},n=function(a){var b=[],c=[];for(var d in a.sites)b.push(d);for(var d in a.programs)c.push(d);return{programs:c,sites:b}},o=function(b,c){for(var d,e,f=b.options||{},g=a.extend(!1,{},f,c.options||{}),h={options:g},i=g.type?"_"+g.type:"",j=["templates","template_vars","css"];d=j.pop();){e=d+i;if("css"==d){h[d]=b[e];c[d]&&(h[d]+=" "+c[d])}else h[d]=a.extend(!0,{},b[e]||{},c[d]||{})}h.css=h.css||"";return h},p=function(b,d){c.clientConfig(b);d=d.toLowerCase();var e=b.zones[d],f=e||{},g=f.whitelist&&new RegExp(f.whitelist),h=f.blacklist&&new RegExp(f.blacklist);if(g||h){var i=g?location.toString().match(g):!0,j=h?location.toString().match(h):!1;if(j){a.log("Location is on black list");return!0}if(!i){a.log("Not on white list uri");return!0}}return!1},q=function(){for(var b,c=document.getElementsByTagName("script"),d={},e=0;e<c.length;e++)if("extole/context"==c[e].type){b=void 0;try{b=JSON.parse(c[e].innerHTML)}catch(f){a.log.error("Bad JSON in context script tag.")}void(b&&a.extend(d,b))}var g,h=a.cookie("xtl_fle");try{g=JSON.parse(h)}catch(f){""!==h&&a.log("Your fle cookie is incorrectly formatted.");g={}}return a.extend(!0,g,d)},r=function(b){if(b&&b.client&&b.client.js_source)try{var c=new Function(b.client.js_source);c.call(null)}catch(d){a.log.error("Couldn't inject js_source",d)}};return{injectClientJs:r,isValidCampaignId:h,getSharedVars:q,zoneBlacklisted:p,selectCreative:o,getProgram:m,getSite:l,getProgramsAndSites:n,getCampaignFromZone:j,nameToId:i,getTimestampedCampaignId:g,getLatestCampaignTimestamp:f,convertCampaignTimestampToDate:e}});extole.define("advocate-widget/utils/config-utils",["jquery","jsuri","Underscore","Backbone","advocate-widget/validators","widget-common/utils/loader-utils","widget-common/utils/css-utils","widget-common/utils/template-utils","advocate-widget/utils/config-processors","advocate-widget/utils/config-utils-min","widget-common/min-utils/base"],function(a,b,c,d,e,f,g,h,i,j,k){window.extole||(window.extole={});var l,m="",n=function(a){m=a},o=function(){return m},p=function(){return o()+"/c"};l=function(a,b){var c=p()+"/clients/"+a+"/client_"+a+".json";f.errorFetch(c,function(a){"string"==typeof a&&(a=JSON.parse(a));return b(i.clientConfig(a))},{error:function(){b(!1)}})};var q;q=function(a,b,c){if(!b)return c(!1);i.clientConfig(a);b=b.toLowerCase();var d=b;if(a.zones[b]){b=j.getCampaignFromZone(a,b);if(0==b){k.log('No zone exists with name "'+d+'"');return c(!1)}}if(a.campaign_last_published_dates&&!a.campaign_last_published_dates[b]){k.log('No valid campaign matches campaign id "'+b+'"');return c(!1)}if(!b){k.log("No campaign id.");return c(!1)}var e=a.client.client_id,g=p()+"/clients/"+e+"/campaign_"+j.getTimestampedCampaignId(a,b)+".json";f.errorFetch(g,function(a){"string"==typeof a&&(a=JSON.parse(a));c(a)},{error:function(){c(!1)}})};var r;r=function(b,c){c=k.extend({validateEmail:!0},c||{});var d={init:{},client:{}};if(!b)return d;a.each(b,function(a,b){var f=d.init;if(a.indexOf("tag:")>-1){a=a.substring("tag:".length);f=d.client}else if("e"==a&&c.validateEmail&&!e.isEmail(b)){k.log("Initialized with invalid email address ("+b+") - (configUtils.getInitParams)");b=void 0}f[a]=b});return d};return a.extend({},j,{fetchCampaignConfig:q,fetchClientConfig:l,getInitParams:r,setMediaServer:n,getMediaServer:o})});extole.define("advocate-widget/utils/cs-utils",["jquery","JSON","jsuri","widget-common/min-utils/base"],function(a,b,c,d){extole=window.extole||{};var e="https://api.cloudsponge.com/address_books.js",f={};f.loadCloudsponge=function(b){b=b||function(){};if(extole.cloudspongeLoaded)b();else if(extole.cloudspongeLoading)setTimeout(function(){f.loadCloudsponge(b)},200);else{extole.cloudspongeLoading=!0;a.getScript(e,function(){extole.cloudspongeLoaded=!0;b()})}};f.init=function(a,b,c){b=b||{};if(!a){d.log("No key exists. Can't init cloudsponge.");return!1}if(!window.cloudsponge){f.loadCloudsponge(function(){f.init(a,b,c)});return!1}window.cloudsponge=cloudsponge;b.domain_key=a;cloudsponge.init(b);c()};f.launchWidget=function(a,b){f.init(a,{afterSubmitContacts:function(a){b(a)}},function(){cloudsponge.launch()})};return f});extole.define("advocate-widget/utils/email-utils",["jquery","widget-common/utils/css-utils"],function(a,b){var c={emailEvents:{"click .email-not-you-button_id_":"notYouHandler"},validateRules:{email:{email:!0,required:!0},emails:"required",email_message:"required"},notYouHandler:function(a){a.preventDefault();this.widget.user.logout()},hideNotYouButtonIfAutoReg:function(){this.widget.user.isAutoReg()&&this.$el.find(b.getName(".email-not-you-button")).hide()},setValidator:function(){var a=this;a.validator=a.getFromEmailElements().$form.validate(a.getValidateRules({rules:a.validateRules,submitHandler:function(b){a.submitForm(b)}}))},toggleNotYouLink:function(){var a=this.widget.user,b=this.getFromEmailElements();if(a.has("email")){b.$fromInput.hide();b.$fromInput.find("input").val(a.get("email"));b.$filledEmailValue.html(a.get("email"));b.$filledEmailDiv.show();this.hideNotYouButtonIfAutoReg()}else{b.$filledEmailDiv.hide();b.$fromInput.show()}},getFromEmailElements:function(){var a=this;if(a.fromEmailElements)return a.fromEmailElements;var c=a.fromEmailElements={};c.$form=a.$el.find("form");c.$fromSection=a.$el.find("."+b.getName("email-input-section"));c.$fromInput=c.$fromSection.find("."+b.getName("input"));c.$filledEmailDiv=c.$fromSection.find("."+b.getName("filled-in-email"));c.$filledEmailValue=c.$filledEmailDiv.find("."+b.getName("email-display"));return c}};return c});extole.define("advocate-widget/utils/fb-utils",["jquery"],function(a){var b={_user:void 0,LOGIN_ERROR:{error:{message:"User didn't login."}},NOT_AUTHORIZED_ERROR:{error:{message:"User didn't authorize the application."}},PERMISSION_ERROR:{error:{message:"User didn't allow the required permissions."}}};b.loginError=function(a){delete b._initialResponse;return a};b.init=function(c,d){c=a.extend(!0,{debug:!0,app:{}},c);if(b.isInit){d();return!1}window.fbAsyncInit=function(){FB.init(c.app);FB.getLoginStatus(function(a){var c={};c.start=function(){if("connected"==a.status){b._initialResponse=a;b.saveUser(function(){c.finish()})}else c.finish()};c.finish=function(){b.isInit=!0;d()};c.start()})};!function(a,b){var c,d="facebook-jssdk",e=a.getElementsByTagName("script")[0];if(!a.getElementById(d)){c=a.createElement("script");c.id=d;c.async=!0;c.src="//connect.facebook.net/en_US/all"+(b?"/debug":"")+".js";e.parentNode.insertBefore(c,e)}}(document,c.debug)};b.getUser=function(){return void 0!==b._user?b._user:!1};b.login=function(a,c){a=a||["email"];b.hasPermissions(a)||(b._initialResponse=void 0);if(b.getUser()&&b.hasPermissions(a))c(b.getUser());else{var d={};d.start=function(){b._initialResponse?d.afterLogin(b._initialResponse):FB.login(d.afterLogin,{scope:a.join(",")})};d.afterLogin=function(d){if(d.authResponse)if("connected"!==d.status)c(b.loginError(b.NOT_AUTHORIZED_ERROR));else{b._initalResponse=d;b.saveUser(function(d){c(b.hasPermissions(a)?d:b.loginError(b.PERMISSION_ERROR))})}else c(b.loginError(b.LOGIN_ERROR))};d.start()}};b.saveUser=function(a){FB.api("/me?fields=first_name,last_name,email,permissions",function(c){c.error||(b._user=c);a(c)})};b.hasPermissions=function(a){var c=b.getUser();if(!c||c&&!c.permissions)return!1;var d=c.permissions.data[0];if(!d)return!1;for(var e=0;e<a.length;e++)if(1!=d[a[e]])return!1;return!0};return b});extole.define("advocate-widget/utils/mobile-detect",["Underscore"],function(a){var b={},c=["Android","webOS","iPhone","iPad","iPod","BlackBerry","IEMobile","Opera Mini"],d=new RegExp(c.join("|"),"i"),e=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};a.forEach(c,function(a){var c=e(a);b["is"+c]=function(){var b=new RegExp(a,"i");return b.test(navigator.userAgent)}});b.getDevice=function(){var d=null;a.forEach(c,function(a){var c=e(a);return b["is"+c]()?d=a:void 0});return d};b.isMobile=function(){return d.test(navigator.userAgent)};b.isIOS=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)};return b});extole.define("advocate-widget/utils/page-scanner",["widget-common/min-utils/base","Sizzle"],function(a,b){var c=[],d=function(b){var d=a.createObject(e);d.init(b);c.push(d);return d},e={init:function(b){a.extend(this,{selector:b,callCount:0});return this},withElements:function(b){var c=this.filter||function(){return!0},d=this.completed||function(){};a.each(b,function(a){c(a)&&d(a)});this.callCount++},shouldDelete:function(){return!!(this.callCount>0&&this.deleteAfterCall===!0)},setFilter:function(a){this.filter=a;return this},setCompleted:function(a){this.completed=a;return this},setDeleteAfterCall:function(){this.deleteAfterCall=!0}};a.extend(e,{andIts:e.setFilter,thenCall:e.setCompleted,andRemove:e.setDeleteAfterCall});var f=function(){var b={};a.each(c,function(a){a.selector&&(b[a.selector]=1)});var d=[];a.each(b,function(a,b){d.push(b)});return d},g=function(c){var d={},e=[];try{e=b(c.join(","))}catch(f){a.log.error("Sizzle error - "+f.message)}a.each(c,function(c){try{d[c]=b.matches(c,e)}catch(f){a.log.error("Sizzle matching error -"+c)}});return d},h=function(b){a.each(c,function(a){var c=b[a.selector];c&&c.length>0&&setTimeout(function(){a.withElements(c)},1)})},i=!1;a.ready(function(){i=!0});var j=!1,k=function(){if(!j){j=!0;var b=f(),d=g(b);h(d);var e=[];a.each(c,function(a){a.shouldDelete()||e.push(a)});c=e;j=!1;i||setTimeout(k,50)}};k();var l=function(){j=!1;c.splice(0,c.length)},m={whenYouFind:d,findAllTheThings:k,reset:l};return m});extole.define("advocate-widget/utils/param-utils",["widget-common/min-utils/base","widget-common/utils/location-utils"],function(a,b){var c={xtl_client_id:"client_id",xtl_zone_name:"zone_name",xtl_campaign_id:"campaign_id"},d=function(){var a=b.deserialize(location.search),d={extole:{},client:{},original:a};!function(){for(var b in a)c[b]?d.extole[c[b]]=a[b]:d.client[b]=a[b]}();return d},e={e:"email",f:"first_name",l:"last_name",source:!0,partner_user_id:!0},f=function(b){var c={};a.each(b,function(a,b){e[b]||(b="tag:"+b);c[b]=a});return c};return{RESERVED_KEYS:e,QUERY_PARAMS_MAP:c,getParams:d,getPrefixedVars:f}});extole.define("advocate-widget/models/PreshareModel",["jquery","Underscore","Backbone"],function(a,b,c){var d=c.Model.extend({attributes:{campaign:null,id_hash:null},url:function(){return this.options.shareRoot+"/preshare/"+this.get("campaign").id},initialize:function(a,b){this.options=b;this.on("error",this.retryFetch);this.on("sync",this.resetFailedRequests)},failedRequests:0,maxFailedRequests:3,retryFetch:function(){var a=this;if(a.failedRequests<a.maxFailedRequests){setTimeout(function(){a.fetch()},1e3);a.failedRequests+=1}},resetFailedRequests:function(){this.failedRequests=0},sync:function(a,d,e){var e=b.extend(e,{xhrFields:{withCredentials:!0},cache:!1,timeout:3e3});c.sync.call(this,a,d,e)}});return d});extole.define("advocate-widget/graffiti/base",[],function(){GRAFFITI="object"==typeof GRAFFITI?GRAFFITI:{};GRAFFITI.debug=!1;var a,b=function(b){a=b};GRAFFITI.getEndPoint=function(){return a};GRAFFITI.init=b;GRAFFITI.serialize=function(a,b,c){b=b?b:"=";c=c?c:"&";var d=[];for(var e in a)d.push(e+b+a[e]);d=d.join(c);GRAFFITI.log("Serializing: ",d);return d};GRAFFITI.splitVars=function(a,b,c){b=b?b:"=";c=c?c:"&";for(var d,e={},f=a.split(c),g=0;g<f.length;g++){d=f[g].split(b);GRAFFITI.log("variableParts",d);d.length>1&&(e[d[0]]=d[1])}GRAFFITI.log("splitVars",b,c,a,e);return e};GRAFFITI.log=function(){if(window.console&&this.debug){var a=Array.prototype.slice.call(arguments);a.unshift(+new Date);console.log(a)}};return GRAFFITI});extole.define("advocate-widget/graffiti/facebook",["advocate-widget/graffiti/base"],function(){return{}});extole.define("advocate-widget/graffiti/twitter",["jquery","advocate-widget/graffiti/base","JSON"],function(a,b,c){var d,e={pop:{height:600,width:700}},f="/auth/twitter",g="/tweet",h="graf-twitter",i=function(a){a=a||{};a.message_namespace=h;return b.serialize(a)},j=function(a){var c=decodeURIComponent(a.hash.substring(1)),d=decodeURIComponent(a.search.substring(1));c=b.splitVars(d+c,"=",",");return c},k=function(b){var e,f,g=!1,i=function(a){if(g)return!1;d.close();g=!0;delete d;b(a)};a(window).on("message",function(a){var b=a.originalEvent.data;if(0===b.indexOf(h)){var d=b.substring(h.length+" - ".length);i(c.parse(d))}});f=function(){if(d.location){try{d.location&&d.location.host&&void 0!==d.location.hash&&void 0!==d.location.search&&i(j(d.location))}catch(a){}e=setTimeout(f,500)}else"function"==typeof b&&i({errors:"Cancelled"})};e=setTimeout(f,500)},l=function(a,c){var f={},g=a+"?"+i(c);b.log("Endpoint",g);f.height=e.pop.height;f.width=e.pop.width;f.left=screen.width/2-f.width/2;f.top=screen.height/2-f.height/2;f.scrollbars="no";f.status="no";f.toolbar="no";f=b.serialize(f,"=",",");d=window.open(g,"ex_twitter_pop",f);d.focus();return d},m=function(){return encodeURI(window.location.href.replace(window.location.hash,""))},n=function(a,c,d){a=encodeURIComponent(a);var e=b.getEndPoint()+f,g={status:a,twitter_api_key:c,isHash:!0,callback_url:m()};l(e,g);k(d)},o=function(a,c){var e=b.getEndPoint()+f,g={twitter_api_key:a,is_hash:!0,callback_url:m()};d=l(e,g);k(c)},p=function(c,d,e,f){c=encodeURIComponent(c);var h=b.getEndPoint()+g,j={status:c,access_token:d,twitter_api_key:e};h=h+"?"+i(j);a.post(h,f)};return{tweet:n,auth:o,tweet_authed:p}});extole.define("advocate-widget/graffiti",["advocate-widget/graffiti/base","advocate-widget/graffiti/twitter","advocate-widget/graffiti/facebook"],function(a,b,c){return{init:a.init,twitter:b,facebook:c}});extole.define("advocate-widget/coupons/CouponWidget",["jquery","widget-common/jquery-plugins","Underscore","widget-common/min-utils/base","Liquid","widget-common/utils/css-utils","widget-common/utils/template-utils","advocate-widget/utils/config-utils","Backbone","widget-common/BackboneWidget","advocate-widget/events"],function(a,b,c,d,e,f,g,h,i,j,k){var l={xtl_share_id:"xtl_share_id",xtl_channel:"xtl_channel",xtl_advocate_first_name:"xtl_advocate_first_name",xtl_advocate_last_name:"xtl_advocate_last_name",xtl_coupon_code:"xtl_coupon_code"},m=2147483647,n=j.extend({events:{"click .close-button_id_":"closeButtonHandler","click .shop-now-button_id_":"shopButtonHandler"},closeButtonHandler:function(a){a.preventDefault();var b=this;b.unrender()},shopButtonHandler:function(){this.triggerExtoleEvent("click");this.closeButtonHandler.apply(this,arguments)},initialize:function(){var a=this,b=a.options,c=a.campaignConfig=b.campaignConfig,g=(a.clientConfig=b.clientConfig,a.campaign=c.campaign),h=a.creative=g.creatives.friend_landing_coupon;if(!h){d.log("-- Not showing friend landing coupon, because there are no creatives for it.");return!1}var i=(a.params=a.parseQueryParams(b.params),a.couponId="extole-coupon-"+g.id);a.widgetConfig=b.widgetConfig;a.sanitizeCreatives();a.insertCss();a.$el.attr("id",i).html(e.parse(h.templates.coupon).render(a.getTemplateContext())).addClass(f.getName("extole")).addClass(f.getName("extole-coupon")).addClass(f.getName(a.hasCoupon()?"has-coupon":"no-coupon"));a.$el.appendTo(document.body);a.render()},insertCss:function(){var a=this,b=a.creative;f.injectCss(b.base_css);f.injectCss(b.css.replace(/__coupon_id__/g,a.couponId))},sanitizeCreatives:function(){var a=this,b=a.creative;g.sanitizeTemplates(b.templates);g.sanitizeTemplates(b.template_vars)},getTemplateContext:function(){var a=this;a.templateVars||(a.templateVars=g.resolveTemplateVars(a.creative.template_vars,a.getTemplateVarContext()));a.templateVars.options=this.creative.options;return a.templateVars},getTemplateVarContext:function(){var b=this,c=b.params;return a.extend({creatives_path:b.options.MEDIA_SERVER+"/bass-creatives/static"},c.client)},parseQueryParams:function(b){var c=this,d=c.creative,e=a.extend({},l,d.options.NAME_MAP),f=a.extend(!0,{},b);a.each(e,function(a,c){if(b.client[c]){f.client[a]=decodeURIComponent(String(b.client[c]).replace(/\+/g,"%20"));f.client[a]="undefined"===f.client[a]?void 0:f.client[a].replace(/[<>&'";]/g,function(a){return"%"+a.charCodeAt(0)})}});return f},render:function(){var b=this,c=m,e=c-10;b.content.invisibleDiv&&b.content.invisibleDiv.remove();b.content.invisibleDiv=a('<div class="'+f.getName("invisible-div")+'"></div>').appendTo(document.body).css({zIndex:e}).on("click",a.proxy(b.closeButtonHandler,this));d.log("invisible z = "+e+", coupon z = "+c);b.$el.show().css({zIndex:c});var g=function(){b.$el.css({top:a(window).height()/2-b.$el.height()/2})};a(window).on("resize",g);g();b.triggerExtoleEvent("view");b.triggerExtoleEvent(b.hasCoupon()?"available":"not_available")},hasCoupon:function(){var a=this,b=a.params,c=b.client.xtl_coupon_code;return!!("undefined"!=typeof c&&null!=c&&c.toString().length>0)},unrender:function(){var a=this;a.content.invisibleDiv&&a.content.invisibleDiv.remove();a.$el.hide()},triggerExtoleEvent:function(a){var b=this,c=b.clientConfig;k.trigger("friend_landing:coupon:"+a,c,{campaignId:b.campaign.id})}});return n});extole.define("advocate-widget/coupons",["jquery","Underscore","Backbone","advocate-widget/utils/config-utils","widget-common/utils/css-utils","advocate-widget/utils/param-utils","advocate-widget/coupons/CouponWidget"],function(a,b,d,e,f,g,h){var i=function(b,d,e){e=e||{};var f=g.getParams();d.campaign.show_coupon_on_friend_landing!==!1&&(extole.coupon=new h(a.extend(!0,e,{clientConfig:b,campaignConfig:d,params:f,MEDIA_SERVER:c})))};return{init:i,CouponWidget:h}});extole.define("advocate-widget/share-widgets/DashboardEmailWidget",["jquery","Underscore","JSON","Liquid","Backbone","widget-common/utils/css-utils","advocate-widget/utils/call-utils","advocate-widget/utils/config-utils","advocate-widget/utils/email-utils","advocate-widget/share-widgets/ShareWidget","widget-common/BackboneWidget"],function(a,b,c,d,e,f,g,h,i,j){var k=j.extend({shareEventType:!1,events:b.extend({},i.emailEvents),initialize:function(){b.extend(this,i);j.prototype.initialize.apply(this,arguments)},render:function(){this.setValidator();this.toggleNotYouLink()},displayThanksMessage:function(){var a=this,b=a.$(f.getName(".submit-button")),c=b.html();b.text("Thanks!");b.attr("disabled","disabled");setTimeout(function(){b.html(c);b.removeAttr("disabled");a.widget.renderPreviousWidget()},2e3)},displayErrorMessage:function(){this.validator.showErrors({email:"Unable to send to: "})},submitForm:function(b){var d=this,e=d.widget,f=e.user,g=e.getClient().client_id,h=e.getSite().site_id;if(!f.has("email")){var i=a(b).find("input[name=email]").val();f.setUserVariable("email",i)}a.get(d.shareRoot+"/advdash/email/",{email:f.get("email"),client_id:g,site_id:h},function(a,b){"string"==typeof a&&(a=c.parse(a));"success"===b&&a.success?d.displayThanksMessage():d.displayErrorMessage()});return!1}});return k});extole.define("advocate-widget/share-widgets/EmailShareWidget",["jquery","Underscore","Liquid","jsuri","widget-common/utils/css-utils","widget-common/min-utils/base","advocate-widget/share-widgets/ShareWidget","advocate-widget/utils/cs-utils","advocate-widget/utils/email-utils","advocate-widget/validators"],function(a,b,c,d,e,f,g,h,i,j){var k=g.extend({shareEventType:"email",events:b.extend({"click .cloudsponge-button_id_":"csButtonHandler"},i.emailEvents),csButtonHandler:function(b){b.preventDefault();var c=this,d=(c.widget,a(document).scrollTop()),e=c.$el.find('textarea[name="emails"]');h.launchWidget(c.cloudspongeApiKey,function(b){a.each(b,function(a,c){var d=a!==b.length-1;e.tagInput("addTag",c.selectedEmail(),d)});d!==a(document).scrollTop()&&a("html, body").animate({scrollTop:d},0)})},initialize:function(){b.extend(this,i);g.prototype.initialize.apply(this,arguments);var a=this,d=a.widget,k=(a.options,d.getClient());k.cloudsponge_keys&&(a.cloudspongeApiKey=k.cloudsponge_keys[window.location.hostname]);a.$el.find('textarea[name="emails"]').tagInput({maxLength:d.advocateWidgetCreative.options.max_tag_length,newTagInputHtml:'<input type="email" />',newTagLabel:a.$el.find('textarea[name="emails"]').siblings("label").text(),validator:j.isEmail,onErrorShow:function(){f.log("error show");
var b=a.validator;b.showErrors({emails:b.defaultMessage("emails","email")})},onErrorHide:function(){f.log("error hide");var b=a.validator;b.resetForm();b.checkForm()},maxDisplayTags:9,classFilter:function(a){return e.getName(a)}});h.init(a.cloudspongeApiKey,{floatbox:{zIndex:d.getBaseZIndices().widget+10}},function(){});var d=a.widget,l=c.parse(d.advocateWidgetCreative.template_vars.email_message),m=l.render({resources:d.getResources()});a.defaultMessage=m},render:function(){g.prototype.render.apply(this,arguments);var a=this;a.unrenderLoading();a.unrenderError();a.$el.find('*[name="email_message"]').val(a.defaultMessage);this.toggleNotYouLink();this.setValidator();a.$el.show()},submitForm:function(b){var c=this,d=(c.widget,a(b)),e={};e.channel="EMAIL";e.recipients=d.find('textarea[name="emails"]').val().split(" ");e.channel_email=d.find('*[name="email"]').val();e.channel_message=d.find('*[name="email_message"]').val();if(e.recipients.length<=0||!e.channel_email||!e.channel_message)return!1;c.sendShareServiceRequest(e,function(){});return void 0},hideNotYouButtonIfAutoReg:function(){var a=this,b=a.widget.user;b.isAutoReg()&&a.$el.find(e.getName(".email-not-you-button")).hide()},getPurl:function(a){var b=this,c=g.prototype.getPurl.call(b);return c+"/"+a}});return k});extole.define("advocate-widget/share-widgets/FacebookShareWidget",["jquery","JSON","jsuri","Liquid","widget-common/utils/css-utils","widget-common/utils/template-utils","advocate-widget/share-widgets/ShareWidget","advocate-widget/utils/fb-utils","widget-common/min-utils/base"],function(a,b,c,d,e,f,g,h,i){var j=160,k=g.extend({shareEventType:"facebook",fbDebugMode:!1,title:"Share on Facebook",events:{"mouseover iframe":"iframeHoverState","mouseout iframe":"iframeHoverState","keyup .fb-share-state_id_ textarea":"validateMessage","blur .fb-share-state_id_ textarea":"validateMessage","focus .fb-share-state_id_ textarea":"validateMessage","submit .fb-share-state_id_ form":"validateMessage","submit .fb-post-share-state_id_ form":"postShareSubmitHandler"},saveFbUser:function(a){var b=this;b.fbUser=a},shareSubmit:function(){var a=this,b=a.$el.find("."+e.getName("fb-share-state")),c=b.find("form");a.fbData={user:a.fbUser,message:c.find('*[name="fb_message"]').val()};a.renderPostShare()},postShareSubmitHandler:function(b){b.preventDefault();var c=this,d=a(b.target),e=(c.fbData,d.find('input[name="email"]'));c.sendShare(e.val())},shareValidate:function(){var a=this,b=a.$el.find("."+e.getName("fb-share-state")),c=b.find("form");c.submit()},validateMessage:function(a){a&&a.preventDefault();var b=this,c=b.$el.find("."+e.getName("fb-share-state")),d=c.find("textarea");""!=d.val()?b.sendMessage("shareState:change",!0):b.sendMessage("shareState:change",!1)},validateRules:{fb_message:"required",email:{email:!0,required:!0}},initialize:function(){g.prototype.initialize.apply(this,arguments);var a=this,b=1e4;a.appId=a.options.appId;if(!a.appId){alert("App Id Required");return!1}a.ns=a.cid;a.widget;a.defaultMessage="";a.timeout=setTimeout(function(){a.renderError("Facebook is having some issues. Try again later.")},b);a.on("fb:loaded",function(){clearTimeout(a.timeout);a.validateMessage();if(1==a.fbLoaded)return!1;a.fbLoaded=!0;a.render()},a);a.on("fb:error",a.renderFacebookError,a);a.on("fb:user",a.saveFbUser,a);a.on("fb:user",a.shareSubmit,a);a.on("createObject:complete",a.createObjectComplete,a);a.on("share:submit",a.shareValidate,a);a.on("sendShare:complete",a.sendShareComplete,a);a.addMessageListener()},addMessageListener:function(){var c=this;a(window).on("message."+c.cid,function(a){var d=a.originalEvent.data,e=d.split("-"),f=e[0],g=e[1],h=e[2];if(f!=c.ns)return!1;if(h)try{h=b.parse(d.substring(f.length+1+g.length+1))}catch(a){}c.trigger(g,h)})},sendMessage:function(a,c){var d=this,e=a;e=d.ns+"-"+e;c&&(e+="-"+b.stringify(c));d.iframe[0].contentWindow.postMessage(e,"*")},createIframe:function(){var b=this,d=b.widget,f=(d.advocateWidgetCreative.template_vars.facebook_button_text,b.$el.find("."+e.getName("iframe-container"))),g=d.advocateWidgetCreative,h=(g.options.type,new c("//"+d.program.program_url).setPath("/_/facebook").addQueryParam("mediaServer",b.options.MEDIA_SERVER).addQueryParam("fbAppId",b.appId).addQueryParam("fbDebugMode",b.fbDebugMode).addQueryParam("ns",b.ns));f.find("iframe").remove();b.iframe=a('<iframe scrolling="no" frameborder="0" allowTransparency="true" seamless="seamless" src="'+h.toString()+'">Loading...</iframe>').appendTo(f)},iframeHoverState:function(){var a=this,b=a.$el.find("."+e.getName("iframe-container"));b.find("button").toggleClass(e.getName("hover"))},getUri:function(a){var b=this,d=(b.widget,new c(b.shareRoot+"/share/object/"+a));d.setProtocol("http");return d.toString()},render:function(){g.prototype.render.apply(this,arguments);var b=this,c=b.options.facebookCreative,d=f.resolveTemplateVars(a.extend({},c.template_vars),b.widget.getTemplateVarContext()),h=b.$el.find("."+e.getName("fb-loading-state")),i=b.$el.find("."+e.getName("fb-share-state")),k=b.$el.find("."+e.getName("fb-post-share-state"));b.unrenderLoading();b.unrenderError();void 0===b.iframe&&b.createIframe();h.hide();i.hide();k.hide();if(!b.fbLoaded){h.show();return!1}var l={"fb-title":"og_title","fb-description":"og_description","fb-image":"og_image"};a.each(l,function(c,f){var g=b.$el.find("#"+e.getName(c)),h=d[f]||"";if("og_image"==f)h&&g.html("").append(a("<img>").attr("src",h));else{"og_description"==f&&(h=h.substring(0,j));g.html(h)}});i.show();i.find("form").validate(b.getValidateRules({rules:b.validateRules}))},renderPostShare:function(){var a=this,b=a.widget,c=a.$el.find("."+e.getName("fb-share-state")),d=a.$el.find("."+e.getName("fb-post-share-state")),f=a.fbData;c.hide();d.find('input[name="email"]').val(f.user.email);d.show();d.find("form").validate(a.getValidateRules({rules:a.validateRules}));if(b.user.get("email")){a.sendShare();return!1}},renderFacebookError:function(a){var b=this;b.renderError(a.error.message)},sendShare:function(a){var b=this,c=b.widget,d=c.getCampaign(),e=b.fbData,f={channel:"FACEBOOK",channel_first_name:e.user.first_name,channel_last_name:e.user.last_name,channel_email:a,channel_message:e.message,resources:c.getResources()};try{f.resources.creative_id=d.creatives.friend_cta_facebook.id}catch(g){i.log("Facebook issue, no creative id: "+g.message);b.renderError("I'm sorry, something went wrong.");return!1}b.renderLoading();if(!e.message){b.renderError("Message is required.");return!1}var h=b.options.namespace,j=b.options.actionTypeName,k=b.options.objectTypeName,l={"fb:explicitly_shared":!0};b.sendShareServiceRequest(f,function(a){b.bustCache(a.product_id);b.renderLoading();b.product_id=a.product_id;l.message=e.message;l.ref=b.getShareId()+"-"+a.product_id;l[k]=b.getUri(a.product_id);b.sendMessage("sendShare",{path:"/me/"+h+":"+j,method:"post",data:l})})},bustCache:function(b){if(b&&b.product_id){var c=this,d=c.getUri(b.product_id);a.get("http://developers.facebook.com/tools/debug/og/object?q="+encodeURI(d),function(a){i.log("** FacebookShareWidget/bustCache **","Response from facebook - ",a)})}else i.log("** FacebookShareWidget/bustCache **","No product_id in passed data",b)},sendShareComplete:function(a){var b=this,c=a.error;b.unrenderLoading();if(c){b.renderError(c.message);return!1}b.sendConfirmation(a.id)},sendConfirmation:function(c){var d=this;a.ajax(d.shareRoot+"/confirm",{type:"post",dataType:"json",contentType:"application/json",processData:!1,xhrFields:{withCredentials:!0},data:b.stringify({action_id:d.getShareId(),confirmation_code:c})})},destroy:function(){var a=this;a.iframe&&a.iframe.remove();g.prototype.destroy.apply(this,arguments)}});return k});extole.define("advocate-widget/share-widgets/MobileShareWidget",["jquery","Underscore","Liquid","jsuri","widget-common/utils/css-utils","widget-common/min-utils/base","advocate-widget/models/PreshareModel","advocate-widget/share-widgets/ShareWidget","advocate-widget/utils/cs-utils","advocate-widget/utils/email-utils","advocate-widget/utils/mobile-detect"],function(a,b,c,d,e,f,g,h,i,j){var k=h.extend(b.extend({},j,{shareEventType:"mobile",uiSelectors:{emailField:".email",programHost:".program-host",form:".mobile-share-form",destinationUrl:".destination-url",previousUrl:".previous-url"},events:b.extend({"click .mobile-submit_id_":"submitClickHandler"},j.emailEvents),initialize:function(){this.widget=this.options.widget;this.shareRoot="//"+this.options.programHost+"/v2";this.setUpPreshare()},render:function(){if(this.widget.isVisibleWidget()&&this.getShareId()){var a=this.getMobileAdvocateHash(),b=this.getMobileShareUrl(),c=b+"?mobile_advocate_hash="+encodeURIComponent(a);window.location.href=c}else this.on("preshare:success",this.render)},preshareSuccessHandler:function(a,b){this.setShareId(b.id)},setUpPreshare:function(){var a=this;a.preshare=new g({campaign:a.widget.getCampaign()},{shareRoot:a.shareRoot});a.preshare.on("sync",a.preshareSuccessHandler,a);a.preshare.on("sync",function(){a.triggerExtoleEvent("preshare:success");a.trigger("preshare:success")},a);a.preshare.fetch()},getMobileAdvocateHash:function(){var a={action_id:this.preshare.get("id"),id_hash:this.preshare.get("id_hash"),previous_url:window.location.href,zoneName:this.widget.zone.name,clientId:this.widget.clientId,doneSharing:!1};return JSON.stringify(a)},getMobileShareUrl:function(){var a=this.widget.program.program_url;return"http://"+a+"/mobile-share/"+this.getShareId()}}));return k});extole.define("advocate-widget/share-widgets/PurlShareWidget",["jquery","JSON","advocate-widget/models/PreshareModel","widget-common/utils/css-utils","widget-common/min-utils/base","advocate-widget/share-widgets/ShareWidget","advocate-widget/zero-clip/ZeroClipboard"],function(a,b,c,d,e,g,h){var i=g.extend({shareEventType:"purl",usingClipboard:!1,events:{"click .submit-button_id_":"copyTextHandler","click .input_id_":"copyTextHandler"},getPurlInput:function(){return this.$(d.getName(".purl-text"))},getPurlInputData:function(){return this.getPurlInput().text()},setPurlInputData:function(a){this.getPurlInput().text(a)},copyTextHandler:function(b){b.preventDefault();var c=this,f=a(b.target),g=this.getPurlInput(),h=this.getPurlInputData();try{if(c.usingClipboard&&window.clipboardData){var i=window.clipboardData.setData("Text",h);1==i&&c.renderCopied()}}catch(j){e.log("Problem with setting clip data - "+j.message)}(f.is("."+d.getName("input"))||f.is(g))&&g.select();c.submitPurl()},submitPurl:function(){var a=this,b=(a.widget,a.$("."+d.getName("no-link-state")).find("form"),{channel:"PURL",action_id:a.getShareId(),id_hash:a.idHash});if(a.hasShared)return!1;a.hasShared=!0;a.sendShareServiceRequest(b,{showLoading:!1},function(){a.canRender=!0})},preshareSuccessHandler:function(a,b){this.setShareId(b.id);this.idHash=b.id_hash},setUpPreshare:function(){var a=this;a.preshare=new c({campaign:a.widget.getCampaign()},{shareRoot:a.shareRoot});a.preshare.on("sync",a.preshareSuccessHandler,a);a.preshare.on("sync",a.render,a);a.preshare.on("sync",function(){a.triggerExtoleEvent("preshare:success")},a)},initialize:function(){g.prototype.initialize.apply(this,arguments);var a=this,b=a.widget;b.on("rendered",a.render,a);a.on("shared",a.render,a);a.setUpPreshare();a.listenTo(b.user,"change",a.render)},setButtonZIndex:function(){var a=this,b=a.widget,c=b.getBaseZIndices(),e=a.$("."+d.getName("submit-button"));e.css("zIndex",c.widget+2)},loadZClip:function(){var b=this,c=b.MEDIA_SERVER+"/advocate-widget/"+f+"/ZeroClipboard.swf",g=b.$("."+d.getName("submit-button"));b.$button=g;window.ZeroClipboard=h;h.purlShareWidgets||(h.purlShareWidgets=[]);var i=setInterval(function(){if(window.extole.zClipLoaded===!0){clearInterval(i);var c=new h;c.glue(g[0]);h.purlShareWidgets.push(b);b.clipEventMap={complete:function(){for(var a=h.purlShareWidgets,b=0;b<a.length;++b){var c=a[b];c.$button[0]===this&&c.$button.trigger("click")}},datarequested:function(){for(var a=h.purlShareWidgets,b=0;b<a.length;++b){var d=a[b];if(d.$button[0]===this){c.setText(d.getPurlInputData());d.renderCopied();d.$button.trigger("click")}}}};a.each(b.clipEventMap,function(a,b){c.on(a,b)});b.clip=c}},250);try{var j='(function () {  var clip = new ZeroClipboard(null, {moviePath: "'+c+'", allowScriptAccess: "always", trustedDomains: "*"}); clip.on("load", function () { window.extole.zClipLoaded = true;} ); }())',k=document.createElement("script");k.innerHTML=j;document.getElementsByTagName("head")[0].appendChild(k)}catch(l){e.log("A problem with the weird z clip loading deal happened. "+l.message);h.detectFlashSupport=function(){return!1};b.renderLink()}b.zClipLoaded=!0},render:function(){g.prototype.render.apply(this,arguments);var a=this;a.unrenderLoading();a.unrenderError();a.$el.hide();if(a.widget.user.get("email")&&a.getShareId()){a.$el.show();a.renderLink()}else a.widget.user.get("email")&&!a.getShareId()&&a.preshare.fetch()},renderLink:function(){var a=this,b=a.getPurlInput();a.setPurlInputData(a.getPurl());if(h.detectFlashSupport()){a.setButtonZIndex();a.zClipLoaded||a.loadZClip()}else window.clipboardData?a.usingClipboard=!0:b.closest("form").addClass(d.getName("no-copy"))},renderCopied:function(){var a=this,b=a.$(d.getName("#purl-submit-button")),c=a.$(d.getName("#purl_copied_text")).html();b.html()==c&&b.css({opacity:0}).animate({opacity:1},250);b.html(c)},destroy:function(){var b=this,c=b.$(d.getName(".submit-button")),e=b.clip;g.prototype.destroy.apply(this,arguments);if(e){b.clipEventMap=b.clipEventMap||{};a.each(b.clipEventMap,function(a,b){e.off(a,b)});e.unglue(c[0])}}});return i});extole.define("advocate-widget/share-widgets/ShareWidget",["jquery","JSON","Liquid","Backbone","widget-common/utils/css-utils","advocate-widget/utils/call-utils","advocate-widget/utils/config-utils","widget-common/BackboneWidget","widget-common/Widget","advocate-widget/events"],function(a,b,c,d,e,f,g,h){var i=Array.prototype.slice,j=h.extend({initialize:function(){var b=this,d=b.options,e=d.widget;b.widgetConfig=b.options.widgetConfig;b.MEDIA_SERVER=b.options.MEDIA_SERVER;b.shareRoot="//"+b.options.programHost+"/v2";b.template=c.parse(d.template);b.errorTemplate=c.parse(d.errorTemplate);b.shareErrorTemplate=c.parse(d.tryAgainErrorTemplate);b.$el=a(b.template.render(e.getTemplateContext()));e||alert("Must have reference to parent widget");b.widget=e;b.user=e.user;b.$el.hide();var f=function(a){return function(){b.triggerExtoleEvent(a)}};b.on("shareWidget:render",f("view"));b.on("shareRequest:error",f("error"));b.on("shareRequest:success",f("success"))},triggerExtoleEvent:function(a){var b=this,c=b.widget;b.shareEventType?c.triggerExtoleEvent("share:"+b.shareEventType+":"+a):void 0===b.shareEventType&&minUtils.log.error("share widget does not have shareEventType defined!!",b)},render:function(){var a=this,b=a.widget;extole.main&&extole.main.visibleWidget&&extole.main.visibleWidget==b&&b.visibleWidget==a&&this.trigger("shareWidget:render")},renderError:function(b,c,d){var f=this,g=f.widget,h=f.$el.find("."+e.getName("share-widget-title")),i=f.$el.find("."+e.getName("error-screen")),j=a('<a class="'+e.getName("error-button")+'" href="">Go back</a>').on("click",function(a){a.preventDefault();f.render()}),k={message:b};d=void 0!==d?d:!0;c=c||f.errorTemplate;i.length>0&&i.remove();i=a(c.render(a.extend(k,g.getTemplateContext()))).appendTo(f.$el);d&&j.appendTo(i);f.$el.find(">*").hide();i.add(h).show()},unrenderError:function(){var a=this,b=a.$el.find("."+e.getName("error-screen"));a.$el.find(">*").show();b.remove()},getPurl:function(){var a=this;return"http:"+a.shareRoot+"/share/"+a.getShareId()},setShareId:function(a){var b=this;b.shareId=a},getShareId:function(){var a=this;return a.shareId},sendShareServiceRequest:function(c,d,e){if("function"==typeof d){e=d;d={}}d=a.extend({triggerDone:!0,showLoading:!0},d||{});e=e||function(){};var h=this,j=h.widget,k=j.getClient(),l=g.getSite(k),m=i.call(arguments,0),n=function(a){h.errorTimes=0;a&&h.setShareId(a.action_id);e(a);d.triggerDone&&h.trigger("shared")};void 0===h.errorTimes&&(h.errorTimes=0);h.sendServiceRequestTimeout&&clearTimeout(h.sendServiceRequestTimeout);var o=f.getParamsForCall(j.params),p=j.getCampaign(),q=j.zone;a.extend(!0,o,{channel:null,campaign_id:p.id,zone_name:q.name,client_params:{cta_id:q.ctaCreativeId,zone_id:q.id},email:null,first_name:null,last_name:null,channel_email:null,channel_first_name:null,channel_last_name:null,source_url:window.location.toString(),site_id:l?l.site_id:null,resources:j.getResources(),recipients:null,mouse_xy:j.mouse?Math.round(j.mouse.x)+","+Math.round(j.mouse.y):null,window_wh:a(window).width()+","+a(window).height(),screen_wh:window.screen.width+","+window.screen.height});var r=a.extend(!0,{},o,c);j.user.setUserVariables(r);r.first_name=j.user.get("first_name");r.last_name=j.user.get("last_name");r.email=j.user.get("email");var s=[];a.each(r,function(a){void 0===o[a]&&void 0===c[a]&&s.push(a)});a.each(s,function(a,b){delete r[b]});if(d.showLoading){h.unrenderError();h.renderLoading()}a.ajax({url:h.shareRoot+"/share",dataType:"json",contentType:"application/json",processData:!1,type:"post",data:b.stringify(r),xhrFields:{withCredentials:!0},timeout:7e3,success:function(){h.trigger("shareRequest:success");n.apply(this,arguments)},error:function(a,b,c){h.errorTimes+=1;if(h.errorTimes<1){clearTimeout(h.sendServiceRequestTimeout);h.sendServiceRequestTimeout=setTimeout(function(){h.sendShareServiceRequest.apply(h,m)},250)}else{h.errorTimes=0;h.trigger("shareRequest:error");h.shareServiceRequestError?h.shareServiceRequestError.apply(h,[c].concat(m)):n()}}})},isMobile:function(){var a=this.$("."+e.getName("client_logo_sidebar"));window.sidebar=a;return a.length&&a.is(":hidden")},shareServiceRequestError:function(){{var a=this,b=i.call(arguments,0);b[0]}a.unrenderLoading();a.renderError(void 0,a.shareErrorTemplate,!1);var c=a.$el.find("."+e.getName("error-screen")),d=c.find('a[data-action="again"]'),f=c.find('a[data-action="cancel"]');d.on("click",function(c){c.preventDefault();a.sendShareServiceRequest.apply(a,b.slice(1))});f.on("click",function(b){b.preventDefault();a.render()})}});return j});extole.define("advocate-widget/share-widgets/TwitterShareWidget",["jquery","Liquid","widget-common/min-utils/base","widget-common/utils/css-utils","advocate-widget/share-widgets/ShareWidget","advocate-widget/graffiti"],function(a,b,c,d,e,f){var g=140,h=23,i=e.extend({shareEventType:"twitter",maxLength:g-h-1,events:{"keyup .tw-share-state_id_ form textarea":"limitCharactersHandler","blur .tw-share-state_id_ form textarea":"limitCharactersHandler","paste .tw-share-state_id_ form textarea":"limitCharactersHandler","submit .tw-share-state_id_ form":"shareSubmitHandler","submit .tw-post-share-state_id_ form":"postShareSubmitHandler"},limitCharactersHandler:function(){var a=this,b=a.$el.find('textarea[name="tw_message"]');b.val().length>a.maxLength&&b.val(b.val().substring(0,a.maxLength));a.setRemainingCharacters()},shareSubmitHandler:function(b){b.preventDefault();var d=this,e=a(b.target),f=e.find('*[name="tw_message"]');this.GRAFFITI.twitter.auth(d.consumerKey,function(a){c.log("res",a);if(a.errors)d.renderError(String(a.errors).replace(/\+/g," "));else{d.accessToken=a.access_token;var b=function(a){return decodeURIComponent(String(a).replace(/\+/g," "))},e=b(a.name),g=b(a.nickname);d.twData={channel_first_name:e==g?null:e,channel_last_name:null,channel_message:f.val()};d.renderPostShare()}})},postShareSubmitHandler:function(b){b.preventDefault();var c=this,d=a(b.target),e=d.find('input[name="email"]');c.sendShare(e.val())},validateRules:{tw_message:"required",email:{email:!0,required:!0}},initialize:function(){e.prototype.initialize.apply(this,arguments);this.GRAFFITI_ROOT=this.options.widget.GRAFFITI_ROOT;f.init(this.GRAFFITI_ROOT);this.GRAFFITI=f;var a=this;a.consumerKey=a.options.consumerKey;a.consumerKey||alert("Twitter need a consumer key");var c=a.widget,d=c.advocateWidgetCreative.template_vars.twitter_message||a.$el.find('*[name="tw_message"]').val(),g=b.parse(d),h=g.render(c.getTemplateContext());a.defaultMessage=h;a.render()},render:function(){e.prototype.render.apply(this,arguments);var a=this,b=a.$el.find("."+d.getName("tw-loading-state")),c=a.$el.find("."+d.getName("tw-share-state")),f=a.$el.find("."+d.getName("tw-post-share-state"));a.unrenderLoading();a.unrenderError();a.$el.find('*[name="tw_message"]').val(a.defaultMessage);b.hide();c.show();f.hide();c.find("form").validate(a.getValidateRules({rules:a.validateRules}));a.setRemainingCharacters()},setRemainingCharacters:function(){var a=this,b=a.$el.find('textarea[name="tw_message"]'),c=a.$el.find("."+d.getName("input-suffix")),e=a.maxLength-b.val().length;c.html("Remaining characters: "+e)},renderPostShare:function(){{var a=this,b=a.widget,c=a.$el.find("."+d.getName("tw-loading-state")),e=a.$el.find("."+d.getName("tw-share-state")),f=a.$el.find("."+d.getName("tw-post-share-state"));a.twData}a.unrenderLoading();a.unrenderError();if(b.user.get("email")){a.sendShare();return!1}c.hide();e.hide();f.show();f.find('input[name="email"]').val("");f.find("form").validate(a.getValidateRules({rules:a.validateRules}))},getUri:function(){var a=this;return a.getPurl()},sendShare:function(b){var d=this,e=a.extend({channel:"TWITTER",channel_first_name:"hi",channel_last_name:"hi",channel_email:b||""},d.twData);d.renderLoading();if(e.channel_message.length>d.maxLength){d.renderError("Message can't be longer than "+d.maxLength+" characters");return!1}var f=!1;a.each(["channel_first_name","channel_last_name","channel_message"],function(a,b){void 0===d.twData[b]&&(f=!0)});if(f){d.render();return!1}if(!d.accessToken){d.render();return!1}d.sendShareServiceRequest(e,function(){var b=d.getUri(),f=a.trim(e.channel_message)+" "+b;d.GRAFFITI.twitter.tweet_authed(f,d.accessToken,d.consumerKey,function(a){c.log("response",a);a.errors&&d.renderError(a.errors)})})}});return i});extole.define("advocate-widget/share-widgets",["advocate-widget/share-widgets/ShareWidget","advocate-widget/share-widgets/EmailShareWidget","advocate-widget/share-widgets/FacebookShareWidget","advocate-widget/share-widgets/TwitterShareWidget","advocate-widget/share-widgets/PurlShareWidget","advocate-widget/share-widgets/DashboardEmailWidget","advocate-widget/share-widgets/MobileShareWidget"],function(a,b,c,d,e,f,g){return{EmailShareWidget:b,FacebookShareWidget:c,TwitterShareWidget:d,PurlShareWidget:e,DashboardEmailWidget:f,MobileShareWidget:g}});extole.define("advocate-widget/ctas/BaseCta",["jquery","widget-common/BackboneWidget","advocate-widget/events","advocate-widget/complete-core/Cta"],function(a,b,c,d){var e=b.extend({events:{click:"openAdvocateWidget"},initialize:function(c){b.prototype.initialize.apply(this,arguments);var d=this;d.cta=c.cta;d.zone=d.cta.zone;d.widgetReady(a.proxy(d.initClicked,d))},initClicked:function(){var b=this,c=b.el,e=b.cta;c.onclick=function(){};b.delegateEvents();if(e.clicked){d.hideModal();a(c).trigger("click")}},setWidget:function(a){var b=this;b.widget=a;b.widgetReady()},widgetReadyCallbacks:[],widgetReady:function(a){var b,c=this;a?c.widgetReadyCallbacks.push(a):c.widgetIsReady=!0;if(c.widgetIsReady)for(;b=c.widgetReadyCallbacks.pop();)b()},openAdvocateWidget:function(a){a.preventDefault();a.stopPropagation();var b=this,c=arguments;b.widgetReady(function(){var a=b.widget;a.openAdvocateWidget.apply(a,c);b.triggerExtoleEvent("click")})},triggerExtoleEvent:function(a){var b=this;b.widgetReady(function(){var c=b.widget;c.triggerExtoleEvent("cta:"+a)})}});return e});extole.define("advocate-widget/ctas/FloaterCta",["jquery","advocate-widget/ctas/BaseCta","widget-common/utils/css-utils","widget-common/min-utils/base","advocate-widget/events"],function(a,b,c,d){var e=b.extend({hoverDelay:300,events:a.extend({},b.prototype.events,{"click .close-button_id_":"close","mouseover .close-button_id_":function(a){a.stopPropagation()},"mouseout .close-button_id_":function(a){a.stopPropagation()},mouseover:"hoverTickle",mouseout:"unhoverTickle"}),lastTickleDateKey:"xtl_cta_tickle_shown",allStates:["min","standard","tickle"],initialize:function(){b.prototype.initialize.apply(this,arguments);{var c=this,e=this.cta,f=c.creative=e.creative,g=f.options,h=(c.tickleDelay=g.tickle_delay_time,c.tickleWaitTime=g.tickle_wait_time);c.tickleShowTime=g.tickle_show_time}c.showCountdown=!0;c.impressionEventsTriggered={standard:1};c.state="standard";c.on("changeState",c.render,c);c.on("changeState:tickle",c.setTickleShown,c);c.lastTickleDateCookie=a.cookie(c.lastTickleDateKey);if(c.lastTickleDateCookie)try{var i=new Date;i.setTime(c.lastTickleDateCookie);c.lastTickleDate=i;if(isNaN(c.lastTickleDate.getTime()))throw new Error("Bad Date");c.lastTickleDate=c.lastTickleDate&&c.lastTickleDate.getTime()/1e3}catch(j){d.log("-- Tickle shown cookie has bad date. Deleting--");a.cookie(c.tickleShownCookie,null,{path:"/"})}c.startDate=(new Date).getTime()/1e3;var k=c.startDate-c.lastTickleDate;(!c.lastTickleDate||k>h)&&c.setTickle();c.render()},hoverTickle:function(){var b=this;clearTimeout(b.hoverTickleTimeout);"standard"==b.state&&(b.hoverTickleTimeout=setTimeout(a.proxy(b.popTickle,b),b.hoverDelay))},unhoverTickle:function(){var b=this;clearTimeout(b.hoverTickleTimeout);b.hoverTickleTimeout=setTimeout(a.proxy(b.disableTickle,b),b.hoverDelay)},popTickle:function(){var a,b=this;clearTimeout(b.hoverTickleTimeout);if(b.showCountdown===!0){b.showCountdown=!1;a=!0}b.unsetTickle();"tickle"!==b.state?b.changeState("tickle"):a&&b.render()},unsetTickle:function(){var a=this;void(a.tickleTimeout&&clearTimeout(a.tickleTimeout));a.stopTickleCountdown()},setTickle:function(){var a=this;a.tickleTimeout=setTimeout(function(){a.changeState("tickle")},1e3*a.tickleDelay)},setTickleShown:function(){var b=this;a.cookie(b.lastTickleDateKey,String((new Date).getTime()),{expires:365,path:"/"})},disableTickle:function(){var a=this;clearTimeout(a.hoverTickleTimeout);if("tickle"==a.state){a.unsetTickle();a.changeState("standard")}},render:function(){var b=this,d=b.$el.find("."+c.getName("cta-floater-"+b.state)),e=b.$("."+c.getName("cta-floater")),f=b.$("."+c.getName("close-button")),g=c.getName("shown"),h=c.getName(b.state);if(!b.impressionEventsTriggered[b.state]){b.triggerExtoleEvent("impression:"+b.state);b.impressionEventsTriggered[b.state]=1}b.$("."+c.getName("cta-tickler-countdown")).hide();b.$el.find("."+g).removeClass(g);a.each(b.allStates,function(a,b){var d=c.getName(b);e.removeClass(d)});e.addClass(h);b.$el.css({display:"block"});"min"==b.state?f.hide():f.show();"tickle"==b.state&&b.showCountdown&&b.startTickleCountdown();d.addClass(g)},startTickleCountdown:function(){var a=this,b=a.$("."+c.getName("cta-tickler-countdown")).show(),d=a.tickleShowTime,e=function(){if(0>=d){clearInterval(a.tickleInterval);a.disableTickle()}else b.html(d+" sec");d--};a.tickleInterval=setInterval(e,1e3);e()},stopTickleCountdown:function(){var a=this;void(a.tickleInterval&&clearInterval(a.tickleInterval))},changeState:function(a){var b=this;b.state=a;b.trigger("changeState");b.trigger("changeState:"+a)},close:function(a){a.preventDefault();a.stopPropagation();var b=this;"min"==b.state||("standard"==b.state?b.changeState("min"):"tickle"==b.state&&b.disableTickle())},openAdvocateWidget:function(){var a=this;a.disableTickle();"min"==a.state&&a.changeState("standard");b.prototype.openAdvocateWidget.apply(this,arguments)}});return e});!function(){var a=function(a,b,c,d){var e=d.extend({events:{},openAdvocateWidget:function(){return!1}});return e};"undefined"!=typeof define&&define.amd&&define("advocate-widget/ctas/NoCta",["jquery","Underscore","Backbone","advocate-widget/ctas/BaseCta","advocate-widget/events"],a);"undefined"!=typeof exports&&(exports.NoCta=a(exports.$,exports._,exports.Backbone,exports.BaseCta))}();extole.define("advocate-widget/ctas",["advocate-widget/ctas/BaseCta","advocate-widget/ctas/FloaterCta"],function(a,b){var c=function(c){var d=c.getCreative(),e=d.base_css||"";return e.match(/\.cta-floater-ns_id_/)?b:a};return{getCtaView:c}});extole.define("advocate-widget/validators",[],function(){var a=function(a){a=String(a);a=a.replace(/^\s+/,"").replace(/\s+$/,"");var b=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return a.match(b)};return{isEmail:a}});extole.define("advocate-widget/events",["widget-common/min-utils/base","advocate-widget/utils/config-utils-min"],function(a,b){window.extole=window.extole||{};extole.eventsHash=extole.eventsHash||{};var c={},d=function(a){this.callbacks=[];this.name=a};c.on=function(b,c){a.each(b.split(" "),function(a){extole.eventsHash[a]||(extole.eventsHash[a]=new d(a));extole.eventsHash[a].callbacks.push(c)})};c.off=function(b,c){a.each(b.split(" "),function(b){if(extole.eventsHash[b])if(c){var d=-1;a.each(extole.eventsHash[b].callbacks,function(a,b){if(a==c){d=b;return!1}});d>0&&extole.eventsHash[b].callbacks.splice(d,1)}else extole.eventsHash[b].callbacks=[]})};c.trigger=function(c,d,e){e=e||{};e.sharedVars=e.sharedVars||b.getSharedVars();if(!d||d&&!d.client||d&&!d.client.client_id){a.log.error("events.trigger needs a valid client config as it's second argument");return!1}var f,g,h,i=c.split(":"),j={sharedVars:1,zoneName:1,clientConfig:1,campaignId:1},k=a.mapObj(e,function(a,b){return j[b]?void 0:a}),l=d.client||{},m=b.getSite(l)||{},n=a.extend(!0,k,e.sharedVars||{},{eventName:c,eventNameRemainder:c,user:e.user,zoneName:e.zoneName,clientId:l.client_id,clientName:l.name,campaignId:e.campaignId,siteId:m.site_id});cbFunc=function(a){a(n)};a.log("** advocate-widget/events ** trigger","name:",c,"eventData:",n);for(h=i.length;h>0;h--){g=i[h];f=i.slice(0,h).join(":");if(extole.eventsHash[f]){a.each(extole.eventsHash[f].callbacks,function(b){b(a.extend({},n,{eventNameRemainder:f}))});break}}};c.init=function(){extole.clientEvents="undefined"!=typeof window.extoleEvents?extoleEvents:{};a.each(extole.clientEvents,function(a,b){c.on(b,a)})};extole.events=c;"undefined"!=typeof extoleEventsAsyncInit&&extoleEventsAsyncInit instanceof Function&&void 0!==extoleEventsAsyncInit.call&&extoleEventsAsyncInit();c.init();return c});extole.define("advocate-widget/analytics-calls",["widget-common/min-utils/base","widget-common/min-utils/ajax"],function(a){var b={ajaxMethod:"get",complete:function(){a.log("done")},baseUrl:"",data:{},silentFail:function(b){a.log.error(b);this.send=function(){}},constructor:function(b){var c=this,d=a.ajax.create();c.request=d;c.options=a.extend({},b);c.options.baseUrl&&(c.baseUrl=c.options.baseUrl);c.options.data&&(c.data=c.options.data)},getUrl:function(){return this.baseUrl},send:function(b){var c=this;a.ajax.send(c.request,{url:c.getUrl(),type:c.ajaxMethod,complete:b,data:JSON.stringify(c.getData())})},getData:function(){return this.data},setData:function(a){this.data=a}},c=a.createObject(b);a.extend(c,{constructor:function(a){if(a.programUrl){this.programUrl=a.programUrl;a.baseUrl="//"+this.programUrl+"/v2/stream"}else this.silentFail("No program url passed to stream call. Cannot send.");b.constructor.call(this,a)}});var d=a.createObject(c);a.extend(d,{ajaxMethod:"post",eventType:void 0,constructor:function(b,d,e,f){var g=this;this.campaignName=f.campaignName;
this.campaignId=b;this.zoneName=f.zoneName;this.zoneId=d;this.ctaCreativeName=f.ctaCreativeName;this.ctaCreativeId=e;var h=!1;a.each([b,d,e],function(a){a||"string"==typeof a||(h=!0)});h&&g.silentFail("Stream with campaign call can not fire. Must pass campaignId, zoneId, and ctaCreativeId.");this.eventType||this.silentFail("Stream with campaign call must have event type defined.");this.site=f.site;c.constructor.call(this,f)},getData:function(){return a.extend(!0,this.data,{campaign_id:this.campaignId,zone_name:this.zoneName,client_params:{cta_id:this.ctaCreativeId,zone_id:this.zoneId},event_type:this.eventType,screen_wh:window.screen.width+","+window.screen.height,site_id:this.site?this.site.site_id:null})},send:function(){c.send.apply(this,arguments)}});var e=function(){this.constructor.apply(this,arguments)};e.prototype=a.createObject(d);a.extend(e.prototype,{eventType:"CTA_IMPRESSION"});var f=function(){this.constructor.apply(this,arguments)};f.prototype=a.createObject(d);a.extend(f.prototype,{eventType:"CTA_CLICK"});return{ImpressionCall:e,ClickCall:f}});extole.define("advocate-widget/AdvocateUser",["jquery","Backbone","advocate-widget/utils/mobile-detect"],function(a,b,c){var d=b.Model.extend({userVariableMap:{first_name:"f",last_name:"l",email:"e"},channelVariableMap:{first_name:"channel_first_name",last_name:"channel_last_name",email:"channel_email"},initialize:function(){this.setUserVariablesFromCookie()},sync:function(){},logout:function(){this.trigger("logout")},setUserVariables:function(b){var c=this,d=c.channelVariableMap;a.each(d,function(a,d){c.setUserVariable(a,b[d])})},isMobile:function(){return c.isIPhone()||c.isAndroid()},isMobileAdvocate:function(){return!!a.cookie("extole_mobile_advocate")},getFleCookie:function(){var b=a.cookie("xtl_fle");try{"string"==typeof b&&(b=JSON.parse(b));return b?b:{}}catch(c){return{}}},setFleCookie:function(){var b={f:this.get("first_name"),l:this.get("last_name"),e:this.get("email")},c=JSON.stringify(b);a.cookie("xtl_fle",c,{expires:365,path:"/"})},setUserVariablesFromCookie:function(){var b=this,c=b.getFleCookie();c&&a.each(b.userVariableMap,function(a,d){"undefined"==typeof c[d]||""==c[d]||b.has(a)||b.set(a,c[d])})},setUserVariable:function(a,b){if(!this.get("widget")){alert("Must set widget attribute for AdvocateUserModel");return!1}var c=this,d=c.get("widget"),e=c.userVariableMap,f=(c.channelVariableMap,b);if(c.has(a)&&""!==c.get(a))return!1;var g=d.initVars[e[a]];g&&(f=g);c.set(a,f)},isAutoReg:function(){var a=this.get("isAutoReg");return"undefined"!=typeof a&&1==a}});return d});extole.define("advocate-widget/AdvocateWidget",["jquery","Underscore","Backbone","JSON","jsuri","Liquid","widget-common/min-utils/base","widget-common/utils/css-utils","widget-common/utils/resource-utils","widget-common/utils/template-utils","widget-common/utils/loader-utils","widget-common/BackboneWidget","advocate-widget/utils/config-utils","advocate-widget/AdvocateUser","advocate-widget/share-widgets","advocate-widget/analytics-calls","advocate-widget/ctas","advocate-widget/events"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s={showImmediately:!1,placeHolderContainsButton:!0,hasFooter:!0},t=a.extend({},s,{placeHolderContainsButton:!1,showImmediately:!0}),u=2147483647,v=l.extend({events:{"click >.close-button_id_":"toggle",click:"recordMousePosition",keyup:"catchEnterEvents",keydown:"catchEnterEvents","click .share-button_id_":"shareWidgetClickHandler","click .not-you-button_id_":"logoutHandler","click .toggle-button_id_":"toggleButtonHandler","click #check-dashboard_id_":"dashboardEmailHandler"},catchEnterEvents:function(a){if(13==a.keyCode){a.stopPropagation();a.preventDefault()}},recordMousePosition:function(a){var b=this;b.mouse={x:a.pageX,y:a.pageY}},logoutHandler:function(a){a.preventDefault();this.user.logout()},shareWidgetClickHandler:function(b){b.preventDefault();var c=this,d=function(){var c=a(b.target);c.data("shareWidgetKey")||(c=c.closest(h.getName(".share-button")));return c}(),e=d.data("shareWidgetKey"),f=c.shareWidgets[e];e&&f&&c.renderWidget(f)},dashboardEmailHandler:function(a){a.preventDefault();var b=this,c=b.shareWidgets.dashboardEmail;b.renderWidget(c)},isMobile:function(){return this.user.isMobile()&&this.zone.isMobile()},initialize:function(c){var d=this;d.options=c;d._setEvents();d.widgetConfig=c.widgetConfig;m.setMediaServer(c.MEDIA_SERVER);g.log.debug("** AdvocateWidget/initialize ** Widget initialization");a.extend(this,{sharedVars:m.getSharedVars(),zone:c.zone,clientConfig:c.zone.clientConfig,user:c.user,main:c.main,HTML_ASSEMBLER_ROOT:c.HTML_ASSEMBLER_ROOT,GRAFFITI_ROOT:c.GRAFFITI_ROOT});d.setInitVars();d.setDisplayOptions();d.visibleWidget=void 0;d.on("config:loaded",d.setup,d);d.fetchConfig(function(a){if(!a){g.log("No campaign found. Stopping.");d.trigger("campaignConfig:error");return!1}d.campaignConfig=a;var c=d.getCampaign(),e=d.getClient();d.clientId=e.client_id;d.advocateWidgetId="extole-advocate-widget-"+c.id;if(!d.zone){g.log("You have attempted to init a widget without a zone.");g.log("The available zones in the client config are: "+b.keys(d.clientConfig.zones).join(", "));d.trigger("zone:error");return!1}d.setCreatives(function(){d.program=m.getProgram(e);if(!d.program){g.log("No program was set.");d.trigger("program:error");return!1}d.insertTemplateVariables();d.trigger("config:loaded")})})},_setEvents:function(){var a=this.options;a.setupComplete&&this.once("setup:complete",a.setupComplete);this.on("campaignConfig:error zone:error program:error setCreatives:error",function(){this.trigger("setup:complete")});this.on("shareWidget:select",function(a){a&&a.render()})},setupCalls:function(){var a=this,b=(a.options,a.zone),c=a.getCampaign(),d=a.user,e=a.initVars;a.clickCall=new p.ClickCall(c.id,b.id,b.ctaCreativeId,{programUrl:a.program.program_url,site:a.getSite(),program:a.program,data:{zone_name:b.name,first_name:d.get("first_name"),last_name:d.get("last_name"),email:d.get("email"),source:e.source,client_params:a.clientParams},zoneName:b.name,campaignName:b.campaignName,ctaCreativeName:b.ctaCreativeName})},setInitVars:function(){var b=this,c=b.zone,d=b.sharedVars||{},e=d.params,f=a.extend(e||{},c.data.params||{}),g=m.getInitParams(f);b.params=g;b.initVars=g.init;b.clientParams=g.client},setDisplayOptions:function(){var b=this,c=this.zone,d=(c.cta,!1);try{"embedded"==c.cta.creative.options.type&&(d=!0)}catch(e){g.log("Error setting isEmbedded",e.message)}var f=d?t:s;b.displayOptions=a.extend({},f,b.initVars)},getClient:function(){return this.clientConfig.client},getCampaign:function(){return this.campaignConfig.campaign},getSite:function(){return m.getSite(this.clientConfig.client)},setCreatives:function(b){var c=this,d=c.getCampaign();c.advocateWidgetCreative=d.creatives.advocate_widget||{};c.friendCtaFacebookCreative=d.creatives.friend_cta_facebook||{};a.each([c.advocateWidgetCreative,c.advocateWidgetMobileCreative,c.friendCtaFacebookCreative],function(){var a=this;j.sanitizeTemplates(a.templates);j.sanitizeTemplates(a.template_vars)});setTimeout(function(){b()},1)},insertCss:function(){var a=this;a.advocateWidgetCreative.css=a.advocateWidgetCreative.css.replace(/__advocateWidget_id__/g,a.advocateWidgetId);h.injectCss(a.advocateWidgetCreative.base_css);h.injectCss(a.advocateWidgetCreative.css)},insertTemplateVariables:function(){var b=this,c=[b.advocateWidgetCreative,b.callToActionCreative];a.each(c,function(){var a=this,c=a.template_vars;j.resolveTemplateVars(c,b.getTemplateVarContext())})},getTemplateVarContext:function(){var a=this,b=a.getCampaign();return{share:{resources:a.getResources()},program:a.program,campaign_id:b.id,creatives_path:a.options.MEDIA_SERVER+"/base-creatives/static"}},getTemplateContext:function(){var c=this,d=c.getCampaign(),e=c.options,f=!1;"undefined"!=typeof d.incentives&&b.each(d.incentives,function(a){void 0!==a.brand&&a.brand.length>1&&(f=!0)});var g;g=c.advocateWidgetCreative.template_vars;return a.extend({MEDIA_SERVER:e.MEDIA_SERVER,creatives_path:e.MEDIA_SERVER+"/base-creatives/static",has_powered_by_logo:c.advocateWidgetCreative.options.has_powered_by_logo,has_footer:c.displayOptions.hasFooter,has_reward_disclaimer:f,show_reward_disclaimers:c.advocateWidgetCreative.options.show_reward_disclaimers},g)},initEl:function(){var b,c=this,d=a("<div>").addClass(h.getName("extole")).appendTo(document.body);b=f.parse(c.advocateWidgetCreative.templates.advocate_widget);c.$el=a(b.render(c.getTemplateContext())).hide();if(c.displayOptions.placeHolderContainsButton)c.$el.appendTo(d);else{var e=c.zone,g=e.cta,i=g?g.element:e.element;a(i).html("").append(c.$el).show().addClass(h.getName("extole"));c.$el.addClass(h.getName("embedded")).show()}8===a.msieVersion()&&c.$el.addClass(h.getName("ie8"));c.$el.attr("id",c.advocateWidgetId);c.delegateEvents()},initUser:function(){var b,c,e=this,f=e.initVars;try{b=d.parse(a.cookie("xtl_fle"))}catch(g){b={}}e.user.get("isAutoReg")||("string"==typeof f.e?e.user.set("isAutoReg",!0):e.user.set("isAutoReg",!1));c=f.e&&f.e!=b.e?a.extend({},f):a.extend({},b,f);e.user.set({first_name:c.f,last_name:c.l,email:c.e,widget:e});e.listenTo(e.user,"change",e.renderAccountBar,e);e.listenTo(e.user,"change",e.setFleCookie,e);e.setFleCookie();e.listenTo(e.user,"logout",e.logout);e.renderAccountBar()},renderAccountBar:function(){var a=this,b=a.$el.find(h.getName(".footer")),c=a.$el.find(h.getName(".account"));b.removeClass(h.getName("has-account"));if(a.user.get("email")){c.find(h.getName(".account-id")).html(a.user.get("email"));a.user.isAutoReg()&&c.find(h.getName(".not-you-button")).remove();c.show();b.addClass(h.getName("has-account"))}else c.hide()},setFleCookie:function(){this.user.setFleCookie()},setup:function(){var a=this;a.setupCalls();a.initEl();a.initUser();a.setupShareWidgetMap();a.setupShareWidgets();a.setupLinks();a.setupPurl();a.setupInfoButton();a.insertCss();a.user.on("change",function(){a.renderWidget(a.visibleWidget)},a);a.setupButton();a.displayOptions.showImmediately&&a.render();g.log.debug("** AdvocateWidget/setup ** Firing setup:complete");a.trigger("setup:complete")},setupButton:function(){var a=this,b=a.zone.cta;if(b&&b.shouldRender){var c=q.getCtaView(b);a.openerButton=new c({el:b.element,cta:b});a.openerButton.setWidget(a)}},openAdvocateWidget:function(b){var c=this;g.log("button click");b.preventDefault();c.clickCall.setData(a.extend(!0,c.clickCall.getData(),{mouse_xy:Math.round(b.pageX)+","+Math.round(b.pageY),first_name:c.user.get("first_name"),last_name:c.user.get("last_name"),email:c.user.get("email")}));c.clickCall.send();c.render()},setupShareWidgetMap:function(){var b=this,c={errorTemplate:b.advocateWidgetCreative.templates.error,tryAgainErrorTemplate:b.advocateWidgetCreative.templates.try_again_error,widget:b,widgetConfig:b.widgetConfig,MEDIA_SERVER:b.options.MEDIA_SERVER,programHost:b.program.program_url},d=(b.advocateWidgetCreative.options,b.advocateWidgetCreative.templates);b.shareWidgetMap={email:{shareWidgetClass:o.EmailShareWidget,options:a.extend({template:d.email_share_widget},c)},facebook:{shareWidgetClass:o.FacebookShareWidget,options:a.extend({template:d.facebook_share_widget,appId:b.program.facebook.app_id,namespace:b.program.facebook.app_namespace,actionTypeName:b.program.facebook.action_type,objectTypeName:b.program.facebook.object_type,facebookCreative:b.friendCtaFacebookCreative},c)},twitter:{shareWidgetClass:o.TwitterShareWidget,options:a.extend({template:d.twitter_share_widget,consumerKey:b.program.twitter.consumer_key},c)},purl:{shareWidgetClass:o.PurlShareWidget,options:a.extend({template:d.purl_share_widget},c)},dashboardEmail:{shareWidgetClass:o.DashboardEmailWidget,options:a.extend({template:d.dashboard_email_share_widget},c)},mobileShare:{shareWidgetClass:o.MobileShareWidget,options:c}}},createShareWidget:function(a){var b,c=this,d=c.shareWidgetMap[a];b=new d.shareWidgetClass(d.options);c.shareWidgets[a]=b;return b},setupShareWidgets:function(){var c=this;c.shareWidgets={};b.forEach(c.advocateWidgetCreative.options.widget_order,function(a){var b=c.createShareWidget(a);b.on("shared",c.selectNextWidget,c)});b.forEach(["purl","dashboardEmail"],a.proxy(c.createShareWidget,c));c.visibleWidget=c.isMobile()?c.createShareWidget("mobileShare"):c.shareWidgets[c.advocateWidgetCreative.options.widget_order[0]]},setupLinks:function(){var b=this,c=b.advocateWidgetCreative.options.widget_order,d=b.$(h.getName(".share-widget-section")),e=b.$(h.getName(".dashboard-email-link-section")),f=b.$el.find(h.getName(".share-button-section")+" "+h.getName(".share-buttons"));b.links={};c.push("dashboardEmail");a.each(c,function(a,c){var e=b.$(h.getName(".share-button-"+c)),g=b.shareWidgets[c];e.data("shareWidgetKey",c),e.appendTo(f);b.links[c]=e;d.append(g.$el)});b.advocateWidgetCreative.options.show_dashboard_email||e.hide()},setupInfoButton:function(){var a=this,b=a.$(h.getName(".info-button"));a.advocateWidgetCreative.options.show_info_button||b.hide()},isVisibleWidget:function(){return this===this.main.visibleWidget},setupPurl:function(){var a=this,b=a.$(h.getName(".purl-section"));b.append(a.shareWidgets.purl.$el);if(a.advocateWidgetCreative.options.show_purl){var c=b.find("input[name=purl], "+h.getName(".purl-text"));c.click(function(){var a=this;a.setAttribute("contentEditable",!0);if("function"==typeof document.createRange&&"function"==typeof window.getSelection){var b=window.getSelection(),c=document.createRange();c.setStart(a.firstChild,0);c.setEnd(a.firstChild,a.innerHTML.length);b.removeAllRanges();b.addRange(c)}})}else b.hide()},destroy:function(){var b=this;b.unrender();a.each(b.shareWidgets,function(a,b){b.destroy()});b.content.invisibleDiv&&b.content.invisibleDiv.remove();b.$el.remove()},logout:function(){var b=this;if(b.isVisibleWidget()){a.cookie("xtl_fle",null,{path:"/"});b.stopListening(b.user,"logout");b.destroy();b.setup();b.render()}},toggleButtonHandler:function(b){b.preventDefault();var c=a(b.target).data("toggle-target"),d=this.$(c);d.toggle()},toggle:function(a){void(a&&a.preventDefault());var b=this,c=b.$el.add(b.content.invisibleDiv);c.is(":visible")?b.unrender():b.render()},render:function(){{var b=this;b.zone.cta}this.main.visibleWidget&&this.main.visibleWidget.unrender();this.main.visibleWidget=this;if(!b.isMobile()){b.displayOptions.placeHolderContainsButton&&b.renderModal();b.$el.show(function(){if("undefined"!=typeof window.chrome){var a=b.$el.get(0);setTimeout(function(){try{a.style.webkitTransform="scale(1)"}catch(b){}},500)}})}b.renderWidget(b.visibleWidget);b.trigger("rendered");h.reloadStylesheet();b.$el.addClass("z").removeClass("z");a(h.getName(".how-it-works")).hide()},getBaseZIndices:function(){var a=u-100,b=a+10,c=a+20;return{base:a,invisible:b,widget:c}},renderModal:function(){var b=this,c=b.getBaseZIndices();g.log("Rendering modal. zindices = "+c.invisible+", "+c.widget);b.content.invisibleDiv&&b.content.invisibleDiv.remove();b.content.invisibleDiv=a('<div class="'+h.getName("invisible-div")+'"></div>').appendTo(document.body).css({zIndex:c.invisible}).on("click",a.proxy(b.toggle,this));b.$el.css({position:"absolute",zIndex:c.widget}).show();b.$el.css({top:a(document).scrollTop()+Math.min(50,b.$el.position().top)})},renderWidget:function(b){var c=this;c.setPreviousWidget(b);a.each(c.links,function(a,d){c.shareWidgets[a]==b?d.addClass(h.getName("selected")):d.removeClass(h.getName("selected"))});c.visibleWidget.hide();b.show();c.visibleWidget=b;c.trigger("shareWidget:select",c.visibleWidget)},setPreviousWidget:function(a){var b=this,c=function(a){return a instanceof b.shareWidgetMap.dashboardEmail.shareWidgetClass};b.visibleWidget&&!c(b.visibleWidget)?b.previousWidget=b.visibleWidget:c(a)||(b.previousWidget=a)},renderPreviousWidget:function(){this.previousWidget&&this.renderWidget(this.previousWidget)},selectNextWidget:function(){var c,d=this,e=b.reject(d.advocateWidgetCreative.options.widget_order,function(a){return"dashboardEmail"==a});a.each(e,function(a,b){var f=d.shareWidgets[b];if(f==d.visibleWidget){var g=e[a+1];c=d.shareWidgets[g]}});c||(c=d.shareWidgets[e[0]]);d.renderWidget(c)},unrender:function(){var a=this;a.isVisibleWidget()&&(a.main.visibleWidget=void 0);a.content.invisibleDiv&&a.content.invisibleDiv.remove();a.$el.hide()},getResources:function(){return this.zone.getResources()},fetchConfig:function(a){var b=this,c=b.clientConfig,d=b.zone;return m.fetchCampaignConfig(c,d.campaignId,a)},triggerExtoleEvent:function(b){var c=this,d=c.user,e=c.getCampaign(),f=c.zone;r.trigger(b,c.clientConfig,{user:a.extend(!0,{},d.attributes),zoneName:f.name,campaignId:e.id,sharedVars:c.sharedVars})}});return v});extole.define("advocate-widget/ConversionCall",["jquery","widget-common/min-utils/base","JSON","widget-common/jquery-plugins","Underscore","advocate-widget/utils/config-utils","advocate-widget/utils/call-utils","Backbone","advocate-widget/utils/XdMessager","advocate-widget/events"],function(a,b,c,d,e,f,g,h,i,j){var k=h.View.extend({initialize:function(d){var e=this,g=a(d.placeHolder),h={},j=d.clientConfig;f.setMediaServer(d.MEDIA_SERVER);try{h=c.parse(g.html())}catch(k){b.log("Bad JSON in conversion placeholder")}var l=f.getProgram(j.client);if(!l){b.log("No program was set.");return!1}var m=a.extend(!0,{},d.sharedVars||{},h||{});a.extend(this,{params:f.getInitParams(m.params||{},{validateEmail:!1}),conversionType:h.type||"purchase",clientConfig:j,sharedVars:d.sharedVars,program:l,convertRoot:"//"+l.program_url+"/v2"});window.XDomainRequest?i.iframeReady(this.program.program_url,function(){e.xdMessager=new i("xd-page",{sendTo:extole.xdIframe[0].contentWindow});e.sendConvertServiceCall()}):this.sendConvertServiceCall()},sendConvertServiceCall:function(){var b=this.convertRoot+"/convert",d=g.getParamsForCall(this.params,"purchase"),e={url:b,dataType:"json",contentType:"application/json",processData:!1,type:"post",xhrFields:{withCredentials:!0},timeout:3e3};a.extend(d,{window_wh:a(window).width()+","+a(window).height(),screen_wh:window.screen.width+","+window.screen.height});e.data=c.stringify(d);if(this.xdMessager){this.xdMessager.once("sendRequest:failed",a.proxy(this.failure,this));this.xdMessager.once("sendRequest:success",a.proxy(this.successful,this));this.xdMessager.sendMessage("sendRequest",e)}else{e.success=a.proxy(this.successful,this);e.error=a.proxy(this.failure,this);a.ajax(e)}},failure:function(){this.triggerExtoleEvent(this.conversionType+":fail")},successful:function(){this.triggerExtoleEvent(this.conversionType+":success")},triggerExtoleEvent:function(a){j.trigger("conversion:"+a,this.clientConfig,{sharedVars:this.sharedVars})}});return k});extole.require(["jquery","Underscore","advocate-widget/utils/config-utils","advocate-widget/coupons","advocate-widget/utils/param-utils","advocate-widget/AdvocateWidget","advocate-widget/AdvocateUser","advocate-widget/ConversionCall","widget-common/min-utils/base","advocate-widget/utils/page-scanner","advocate-widget/complete-core/Cta"],function(a,b,f,g,h,i,j,k,l,m,n){f.setMediaServer(c);var o;if(!extole.main){var p,q=extole.main={},r={widgetConfig:{MEDIA_SERVER:c}},s=[],t=[],u=function(a){o=a},v=function(b){b&&u(b);l.ready(function(){x()});window.jQuery&&window.jQuery(document).ready(function(){x()});a(document).load(function(){x()})},w=[],x=function(){l.log("** initWidgets **");a.each(n.getCtas(),function(a,b){if(l.inArray(b,w)<0){w.push(b);y(b.zone)}})},y=function(b,f){f=f||{};y.ready(function(){l.log.info("** initWidget ** ");p||(p=new j);var g=new i(a.extend({widgetConfig:r,zone:b,main:q,user:p,MEDIA_SERVER:c,HTML_ASSEMBLER_ROOT:d,GRAFFITI_ROOT:e,setupComplete:function(){y.ready()}},f));s.push(g)})};if(-1==a.msieVersion()||a.msieVersion()>8)y.ready=function(a){void(a&&a())};else{y.ready=function(a){var b=y.ready.callbacks,c=b[b.length-1];a?b.push(a):y.ready.locked=!1;if(!y.ready.locked&&(c||1==b.length)){y.ready.locked=!0;setTimeout(function(){c=b.pop();void(c&&c())},1e3)}};y.ready.locked=!1;y.ready.callbacks=[]}var z=function(){m.whenYouFind('script[type="extole/conversion"]').thenCall(function(a){A(a)}).andRemove()},A=function(a){if(!a.hasBeenUsed){a.hasBeenUsed=!0;var b=new k({clientConfig:o,main:q,placeHolder:a,sharedVars:f.getSharedVars(),MEDIA_SERVER:c});t.push(b)}},B=!1,C=function(){if(B)return!1;B=!0;var a=h.getParams();f.fetchCampaignConfig(o,a.extole.campaign_id||a.extole.zone_name,function(a){if(!a){l.log("** Coupon init cannot continue - No campaign was found **");return!1}g.init(o,a,r)})};a.extend(extole.main,{init:u,start:v,initWidget:y,initWidgets:x,initCoupon:C,fireConversions:z,fireConversion:A})}extole.mainCb=extole.mainCb||function(){};extole.mainCb()})}();